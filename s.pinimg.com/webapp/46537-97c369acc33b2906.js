"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[46537],{204324:function(e,t,n){n.d(t,{Z:function(){return a}});var o=n(599689),r=n(78714),i=n(50286);function a(){var e=(0,o.useHistory)(),t=(0,i.HG)();return function(n){t?(0,r.Z)(n,{disableOriginCheck:!0}):e.push(n)}}},989392:function(e,t){t.Z=function(e,t){var n=new Date;return new Date(1e3*e)<=new Date(n.getFullYear()-(t||18),n.getMonth(),n.getDate())}},472644:function(e,t,n){n.d(t,{Z:function(){return r}});var o=n(515198);function r(e){var t=e.size;return(0,o.jsx)("svg",{height:t,viewBox:"0 0 512 512",width:t,xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,o.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,o.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,o.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,o.jsx)("path",{d:"M20 20h472v472H20V20z"})]})})}},711781:function(e,t){t.Z=function(e){return JSON.parse(decodeURIComponent(atob((e.split(".")[1]||"").replace(/-/g,"+").replace(/_/g,"/")).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join("")))}},993723:function(e,t,n){n.d(t,{eN:function(){return s},_:function(){return p},kB:function(){return u}});var o=n(966113),r=n(826067),i=n(599689),a=["/resource/:name/:method/","/resource/commerce/:name/:method/","/:username/pins/follow/","/email/remove/","/about/trademark/form/:claim_type/","/about/copyright/dmca-pin/web-result/:id/","/about/copyright/dmca-pin/pin/:id/","/about/copyright/dmca-pin/","/about/koplg/","/about/:lawName/","/about/radtc/","/website/confirm/","/oauth/","/app-factory-oauth/","/settings/extension/uninstall/","/offsite/","/amp/(.*)"],l=function(e,t){var n=new URL(e,t);return a.some(function(e){return!!(0,i.matchPath)(n.pathname,{path:e,exact:!0})})},c=n(67347),s=function(e){return e&&(0,r.Qg)(e)&&o.lfe!==e?(0,r.Qc)(e).relative:"/"},u=function(e,t){var n=(0,r.Jx)(e);return l(n,t)||(0,r.OM)(n)===r.vx.TRUSTED_DIFFERENT_ORIGIN},p=function(e){var t=e.forceFullPageNavigation,n=e.history,o=e.next,i=e.noLocationReplace,a=e.origin,l=(0,r.Jx)(o);u(o,a)||!n||t?(t&&(0,c.nP)("webapp.duplo.navigateOnLogin.forceFullPageNavigation",{sampleRate:1}),window.location.assign(l)):i?n.push(s(l)):n.replace(s(l))}},160561:function(e,t,n){n.d(t,{Z:function(){return y}});var o=n(76911),r=n(908390),i=n(711781),a=n(83969),l=n(524172),c=n(773285),s=n(780280),u=n(867820),p=n(898781),g=n(472644),d=n(348584),f=n(107287),_=n(515198);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function m(){var e,t=(0,p.ZP)(),n=function(e){if(Array.isArray(e))return e}(e=(0,o.useState)())||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=i.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw r}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=n[0],a=n[1];return(0,d.Z)()?null:(0,_.jsxs)(r.xu,{position:"relative",children:[(0,_.jsx)(r.iP,{onTap:function(){return a(!0)},children:(0,_.jsxs)(r.xu,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:40,rounding:"pill",color:"secondary",children:[(0,_.jsx)(r.xu,{height:24,width:24,marginTop:1,children:(0,_.jsx)(g.Z,{size:20})}),(0,_.jsx)(r.xu,{marginStart:2,children:(0,_.jsx)(r.xv,{weight:"bold",children:t._('Connect with Google', 'googleConnectButtonWithDisabledSDK.buttonText', 'Connect with Google button text')})})]})}),i&&(0,_.jsx)(f.Z,{type:"google",onDismiss:function(){return a(!1)}})]})}function v(e,t,n,o,r,i,a){try{var l=e[i](a),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(o,r)}function b(e){var t=e.onGoogleConnectSuccess,n=e.onTouch,c=(0,s.B)().locale,p=(0,o.useRef)(null),g=(0,l.M)(),d=(0,o.useRef)(t);return(0,o.useEffect)(function(){d.current=t},[t]),(0,o.useEffect)(function(){var e,t=function(e){var t=e.credential,n=e.select_by;(0,u.My)("unauth_mweb.gsi_button.select_by.".concat(n)),(0,u.NC)("press_google_connect_button");var o=(0,i.Z)(t);d.current({google_open_id_token:t,autologin:!1},{type:"google",google_open_id_token:t,first_name:o.given_name,last_name:o.family_name,image_url:o.picture})};return(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==g?void 0:g.ensureInit("button",t);case 2:(0,a.ru)({buttonRef:p,isDesktop:!1,locale:c});case 3:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function a(e){v(i,o,r,a,l,"next",e)}function l(e){v(i,o,r,a,l,"throw",e)}a(void 0)})})(),function(){null==g||g.removeButtonCallback(t)}},[g,c]),(0,_.jsx)(r.xu,{position:"relative",children:(0,_.jsx)(r.iP,{onTap:function(){null==n||n(),(0,u.My)("gsi_personalized_button.tap"),(0,u.EX)({event:"start",provider:"google"})},children:(0,_.jsx)(r.xu,{"aria-label":"GOOGLE_SIGNIN_BUTTON",height:44,children:(0,_.jsx)(r.xu,{ref:p,position:"absolute",width:"100%"})})})})}function y(e){var t=e.onGoogleConnectSuccess,n=e.onTouch;return(0,(0,c.F)().checkExperiment)("mweb_google_disabled").anyEnabled?(0,_.jsx)(m,{}):(0,_.jsx)(b,{onGoogleConnectSuccess:t,onTouch:n})}},275926:function(e,t,n){n.d(t,{f:function(){return Z},l:function(){return F}});var o=n(76911),r=n(506979),i=n(214494),a=n(112690),l=n(231486),c=n(226198),s=n(628551),u=n(957191),p=n(88307),g=n(539278),d=n(290148),f=n(773285),_=n(383690),h=n(330102),m=n(780280),v=n(735422),b=n(957161),y=n(844974),x=n(867820),w=n(69642),j=n(116485),k=n(421322),A=n(993723),P=n(529195),O=n(534427),D=n(709113),S=n(67347);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){var o,r;o=t,r=n[t],(o=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==E(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T(e,t,n,o,r,i,a){try{var l=e[i](a),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(o,r)}var z=function(e){return{type:"AUTHENTICATE_USER",payload:{user:e}}},Z=function(){var e,t,n=(0,a.Z)(),E=(0,f.F)(),C=(0,r.useDispatch)(),Z=(0,m.B)(),F=Z.country,I=Z.countryFromHostName,N=Z.countryFromIp,L=Z.regionFromIp,G=Z.userAgent,B=G.isTablet,M=G.isMobile,U=(0,_.Z)(),H=(0,w.Z)();return(0,o.useCallback)((e=regeneratorRuntime.mark(function e(t,o){var r,a,f,_,m,w,T,Z,G,X,V,Y,K,J,q,Q,W,$,ee,et,en,eo,er,ei,ea,el=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=el.length>2&&void 0!==el[2]?el[2]:"/",a=el.length>3&&void 0!==el[3]?el[3]:{isAutologin:!1,isSwitchAccount:!1,noLocationReplace:!1,recaptchaV3Token:"default",noImmediateRedirect:!1,useAlternativeResourceCall:!1,trigger:"other",accountUnlinked:!1},f=el.length>4?el[4]:void 0,U(),_=!B&&!M,m=a.isAutologin,w=a.isSwitchAccount,T=a.noLocationReplace,Z=a.recaptchaV3Token,G=a.noImmediateRedirect,X=a.useAlternativeResourceCall,V=a.trigger,Y=a.accountUnlinked,b.Z.setItem(D.V6,(0,d.nY)(t)),K=function(e){var t;n(R(R({},f),{},{event_type:e,aux_data:R(R({},f.aux_data),{},{upsell_reason:(null===(t=f.aux_data)||void 0===t?void 0:t.upsell_reason)||(m?"autologin":b.Z.getItem(D.bg)||null),upsell_view_count:b.Z.getItem(D.w0)||0})})),7536===e&&b.Z.setItem(D.w0,0)},J=R(R({get_user:!0},t),{},{app_type_from_client:6,recaptchaV3Token:Z}),(q=(0,P.t_)())&&(J=R(R({},J),{},{visited_pages_before_login:q})),(Q=(0,P.OJ)())&&(J=R(R({},J),{},{referrer:Q})),W=i.Z.create("UserSessionResource",J).callCreate(),X&&t.username_or_email&&t.password&&(($=new FormData).append("username",t.username_or_email),$.append("password",t.password),ee={method:"POST",body:$,credentials:"include",headers:{Accept:"application/json, text/javascript, */*","X-CSRFToken":(0,s.getCsrfToken)()||"","X-Requested-With":"XMLHttpRequest"}},W=fetch("/resource/UserSessionResource/create/",ee).then(function(e){if(200!==e.status)throw Error(e.statusText);return e.json()}).catch(function(e){return Promise.reject(e)})),e.prev=15,m?(0,x.dy)({event:"login_api_call_start",provider:t.google_open_id_token?"google":"facebook"}):(0,x.EX)({event:"login_api_call_start",provider:(0,d.nY)(t)}),K(7534),H({action:m?"autologin":"login",event:"attempt",type:(0,d.lp)(t),trigger:V}),e.next=21,W;case 21:et=e.sent,m?(0,x.dy)({event:"login_api_call_success",provider:t.google_open_id_token?"google":"facebook"}):(0,x.EX)({event:"login_api_call_success",provider:(0,d.nY)(t)}),C(z(et.resource_response.data.user)),en=et.client_context,(eo=et.resource_response.data.user.gatekeeper_experiments)?(er=eo.active,ei=eo.triggerable,er&&ei||(0,S.nP)("webapp.authentication.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!er),triggerable:String(!!ei)}}),E.updateExperiments(er,ei)):(0,S.nP)("webapp.authentication.updateExperimentsFailed"),en&&en.placed_experiences&&C((0,u.OD)(en.placed_experiences)),(0,k.Z)("authentication.login_success"),d.ZP.storeLoginCredentialsToBrowser(t),K(7536),H({action:m?"autologin":"login",event:"success",type:(0,d.lp)(t),trigger:V}),(0,p.Z)(),l.zN(c.e7.name),l.zN(c.x3.name),(0,y.Nh)(j.AA,1),"/"!==r&&(0,O.E)(!0),w?(0,v.Dm)().then(function(){var e,t="/".concat((null===(e=et.resource_response.data)||void 0===e?void 0:e.user.username)||"")+(Y?"?message=".concat(g.aU):"");window.location.href=t}):m&&!_||G||(0,A._)({forceFullPageNavigation:_,history:o,next:r,noLocationReplace:T,origin:window.location}),(0,h.ko)({country:F,countryFromHostName:I,countryFromIp:N,regionFromIp:L,deviceType:"Mobile",eventCategory:"Logins"}),e.next=52;break;case 41:if(e.prev=41,e.t0=e.catch(15),m?(0,x.dy)({event:"login_api_call_failure",provider:t.google_open_id_token?"google":"facebook"}):(0,x.EX)({event:"login_api_call_failure",provider:(0,d.nY)(t)}),!(1201===e.t0.api_error_code&&!m&&!_)){e.next=48;break}o&&(ea={creds:t,next:r,phoneNumber:e.t0.data.phone_number_end},o.push({pathname:"/login/mfa/",state:ea})),e.next=52;break;case 48:throw K(7535),H({action:m?"autologin":"login",event:"fail",type:(0,d.lp)(t),trigger:V}),w&&(0,k.Z)("authentication.login_error"),e.t0;case 52:case"end":return e.stop()}},e,null,[[15,41]])}),t=function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function a(e){T(i,o,r,a,l,"next",e)}function l(e){T(i,o,r,a,l,"throw",e)}a(void 0)})},function(e,n){return t.apply(this,arguments)}),[C,F,I,N,U,E,M,B,n,L,H])},F=function(){var e=(0,f.F)(),t=(0,r.useDispatch)(),n=(0,_.Z)();return function(o){var r=o.client_context,i=o.resource_response.data;i&&(n(),t(z(i.user)));var a=i.user.gatekeeper_experiments;if(a){var l=a.active,c=a.triggerable;l&&c||(0,S.nP)("webapp.crossDomainAutologin.emptyExperimentsDebug",{sampleRate:1,tags:{active:String(!!l),triggerable:String(!!c)}}),e.updateExperiments(l,c)}else(0,S.nP)("webapp.crossDomainAutologin.updateExperimentsFailed");r&&t((0,u.OD)(r.placed_experiences))}}},107287:function(e,t,n){n.d(t,{Z:function(){return l}});var o=n(908390),r=n(121151),i=n(898781),a=n(515198);function l(e){var t=e.type,n=e.onDismiss,l=(0,i.ZP)(),c="facebook"===t?l._('Oops! Facebook isn\'t available', 'socialAuthDisabled.facebook.title', 'Title for the modal shown when Facebook services are not working'):l._('Oops! Google isn\'t available', 'socialAuthDisabled.google.title', 'Title for the modal shown when Google services are not working'),s="facebook"===t?l._('Looks like Facebook isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.facebook.description', 'Description for the modal shown when Facebook services are not working'):l._('Looks like Google isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.google.description', 'Description for the modal shown when Google services are not working');return(0,a.jsx)(r.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,isOpen:!0,onDismiss:n,type:"social_auth_disabled_modal",children:(0,a.jsxs)(o.xu,{padding:5,children:[(0,a.jsx)(o.xu,{marginBottom:3,children:(0,a.jsx)(o.X6,{size:"500",accessibilityLevel:1,children:c})}),(0,a.jsx)(o.xu,{marginBottom:3,children:(0,a.jsx)(o.xv,{children:s})}),(0,a.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,a.jsx)(o.xu,{paddingY:1,children:(0,a.jsx)(o.zx,{accessibilityLabel:l._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working'),size:"lg",color:"red",text:l._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working'),onClick:n})})})]})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/46537-97c369acc33b2906.js.map