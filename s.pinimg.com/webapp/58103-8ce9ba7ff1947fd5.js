"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[58103],{994320:function(e,t,a){a.d(t,{W:function(){return u},r:function(){return c}});var r=a(76911),o=a(425288),n=a(515198);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}var l=(0,o.Z)("VideoPlayer"),s=l.Provider,c=l.useHook;function u(e){var t,a=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,o,n,i,l=[],s=!0,c=!1;try{if(n=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;s=!1}else for(;!(s=(r=n.call(a)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return i(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=o[0],c=o[1],u=(0,r.useMemo)(function(){return{captionsEnabled:l,setCaptionsEnabled:c}},[l]);return(0,n.jsx)(s,{value:u,children:a})}},158103:function(e,t,a){a.r(t),a.d(t,{VideoWrapper:function(){return U},default:function(){return G},getPlaylistSourceSrc:function(){return W}});var r=a(76911),o=a(908390),n=a(366284),i=a(780280),l=a(858416),s=a(562559),c=a(994320),u=a(965900),d=a(407043),p=a(391254),y=a(773285),f=a(19121),m=a(969315),v=a(179888),b=a(539766),P=a(515198),S=["view","viewParameter","component","element","objectId"];function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach(function(t){O(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function k(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,a){return(t=C(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function C(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==R(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){if(!e||void 0===e)return"undefined";if("string"==typeof e){var a=e;return t&&(a=e.replace("v1.pinimg.com","control"===t?"v3.pinimg.com":"v2.pinimg.com")),a}if(Array.isArray(e)&&e[0].src){var r=e[0].src;return t&&(r=r.replace("v1.pinimg.com","control"===t?"v3.pinimg.com":"v2.pinimg.com")),r}return"unsupported_type_".concat(R(e))}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(l,e);var t,a,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,a=E(l);if(t){var r=E(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return function(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return D(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,a=Array(t),r=0;r<t;r++)a[r]=arguments[r];return O(D(e=i.call.apply(i,[this].concat(a))),"state",{canPlayVideo:!1,playbackState:v.Cy.DEFAULT,videoStartTime:e.props.seekTime?e.props.seekTime:e.props.videoStartTime||0}),O(D(e),"errorRetryCount",2),O(D(e),"hasSegmentStarted",!1),O(D(e),"hasPlaybackStarted",!1),O(D(e),"hasVideoSessionStarted",!1),O(D(e),"hasVideoSessionEnded",!1),O(D(e),"lastStallTime",null),O(D(e),"lastPauseTime",null),O(D(e),"logSessionStartOnNextPlay",!1),O(D(e),"playerId",""),O(D(e),"videoSessionId",""),O(D(e),"videoVisibleTime",null),O(D(e),"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:w(e.props.src,e.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),O(D(e),"componentDidMount",function(){var t,a,r=e.props,o=r.contextLogData,n=r.playing,i=(void 0===o?{}:o).is_closeup_video,l=void 0!==i&&i;(0,m.tE)("videoMounted",!1,l),n&&(e.videoVisibleTime=new Date,e.logPlaybackPerformance(v.DR,{initiator:"mount"}));var s=null===(t=e.videoPlayerRef)||void 0===t?void 0:null===(a=t.video)||void 0===a?void 0:a.textTracks[0];s&&s.addEventListener("cuechange",function(){var e=s.activeCues[0];e&&e.line&&(e.line=-6,e.size=88)})}),O(D(e),"componentDidUpdate",function(t){var a,r,o=e.props,n=o.playing,i=o.visible,l=o.appInFocus,s=o.seekTime,c=o.captionsEnabled;s&&s!==t.seekTime&&e.setState({videoStartTime:s});var u=null===(a=e.videoPlayerRef)||void 0===a?void 0:null===(r=a.video)||void 0===r?void 0:r.textTracks[0];u&&(c?u.mode="showing":u.mode="disabled"),t.appInFocus&&!l&&(e.logPlaybackPerformance(v.$f,{initiator:"update"}),e.logSessionStartOnNextPlay=!0),t.visible&&!1===i&&(e.logSessionStartOnNextPlay=!1,e.updatePauseDuration(),e.logPlaybackPerformance(v.$f,{initiator:"update"})),!1===t.visible&&!0===i&&(e.videoVisibleTime=e.videoVisibleTime||new Date,n?(e.setPlaybackStartTime(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.logPlaybackPerformance(v.DR,{initiator:"update"})):e.logSessionStartOnNextPlay=!0),n&&l&&e.logSessionStartOnNextPlay&&(e.setPlaybackStartTime(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.logPlaybackPerformance(v.DR,{initiator:"update"}),e.logSessionStartOnNextPlay=!1)}),O(D(e),"addSegment",function(){var t=e.playbackPerformance,a=t.canPlayTime,r=t.loadStartTime,o=t.segments,n=t.srcString,i=-1;a&&r&&0===o.length&&(i=a>r?a-r:0);var l=e.videoPlayerRef&&e.videoPlayerRef.video,s={indicatedKbps:-1,duration:l&&l.duration*v.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:i,switchBitrateKbps:-1,uri:n,viewportWidth:l&&l.clientWidth||-1,viewportHeight:l&&l.clientHeight||-1,watchedDurationMs:0};o.push(s)}),O(D(e),"getCurrentVideoTime",function(){return e.videoPlayerRef&&e.videoPlayerRef.video?e.videoPlayerRef.video.currentTime*v.gJ:0}),O(D(e),"getVideoResourceTiming",function(){var t,a;if(null!==(t=window)&&void 0!==t&&null!==(a=t.performance)&&void 0!==a&&a.getEntriesByName&&e.playbackPerformance.srcString){var r=window.performance.getEntriesByName(e.playbackPerformance.srcString);return r.length>0&&r[0]||null}return null}),O(D(e),"handleCanPlayVideo",function(t){var a=e.props,r=a.contextLogData,o=a.onReady,n=a.playing,i=(void 0===r?{}:r).is_closeup_video,l=void 0!==i&&i,s=e.state.canPlayVideo;(0,m.tE)("handleCanPlayVideo",!1,l,{firstCanPlayEvent:!s,playing:n}),e.playbackPerformance.hasFatalError=!1,s||(e.playbackPerformance.canPlayTime=new Date),e.setState({canPlayVideo:!0}),o&&o(t)}),O(D(e),"handleEnded",function(t){var a=e.props,r=a.loop,o=a.onEnded,n=e.playbackPerformance.segments,i=n&&n[n.length-1];r&&e.videoPlayerRef&&e.videoPlayerRef.video?(e.updateWatchDurationForCurrentSegment(),i&&(i.lastStartPlayTime=0),e.hasSegmentStarted=!1):r||e.logPlaybackPerformance(v.$f,{initiator:"videoEnded",loop:r}),e.setState({playbackState:v.Cy.ENDED}),o&&o(t)}),O(D(e),"handleError",function(){var t,a,r,o,n,i,l,s,c=e.props.contextLogData,u=(void 0===c?{}:c).is_closeup_video,d=void 0!==u&&u,p=e.videoPlayerRef&&e.videoPlayerRef.video;(null==p?void 0:null===(t=p.error)||void 0===t?void 0:t.code)!==v.lG.MEDIA_ERR_ABORTED&&(e.playbackPerformance.hasFatalError=!0),e.playbackPerformance.detailedErrors+="".concat(e.playbackPerformance.detailedErrors.length>0?", ":"").concat((null==p?void 0:null===(a=p.error)||void 0===a?void 0:a.message)||""),e.playbackPerformance.errorCode=(null==p?void 0:null===(r=p.error)||void 0===r?void 0:r.code)||0,e.playbackPerformance.errorName=(null==p?void 0:null===(o=p.error)||void 0===o?void 0:null===(n=o.message)||void 0===n?void 0:n.slice(0,100))||"unknown",e.playbackPerformance.errorReason=(null==p?void 0:null===(i=p.error)||void 0===i?void 0:null===(l=i.message)||void 0===l?void 0:l.slice(0,100))||"unknown";var y={errorName:e.playbackPerformance.errorCode,errorReason:e.playbackPerformance.errorName,errorRetryCount:e.errorRetryCount,playbackState:e.state.playbackState,networkState:(null==p?void 0:p.networkState)||"unknown"};switch((0,m.tE)("fatalError",!1,d,y),null==p?void 0:null===(s=p.error)||void 0===s?void 0:s.code){case v.lG.MEDIA_ERR_ABORTED:break;case v.lG.MEDIA_ERR_NETWORK:case v.lG.MEDIA_ERR_DECODE:case v.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:e.errorRetryCount>0&&(null==p||p.load(),e.errorRetryCount-=1)}e.updateWatchDurationForCurrentSegment(),e.setState({playbackState:v.Cy.FAILED})}),O(D(e),"handleLoadedMetadata",function(){e.setState({playbackState:v.Cy.LOADED_METADATA})}),O(D(e),"handleLoadStart",function(){e.playbackPerformance.loadStartTime=new Date,e.setState({playbackState:v.Cy.LOAD_START})}),O(D(e),"handleLoadedData",function(){e.setState({playbackState:v.Cy.LOADED_DATA})}),O(D(e),"handlePlaying",function(){e.playbackPerformance.hasFatalError=!1,e.setPlaybackStartTime(),e.hasSegmentStarted||e.addSegment(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.updateStallDuration(),e.updatePauseDuration(),e.setState({playbackState:v.Cy.PLAYING}),e.props.clearSeekTime&&e.props.clearSeekTime()}),O(D(e),"handleUserPause",function(t){var a=t.event,r=e.props.onControlsPause;e.lastPauseTime=new Date,r&&r({event:a})}),O(D(e),"handleVideoPause",function(){e.state.playbackState===v.Cy.STALLING||e.state.playbackState===v.Cy.SEEKING||(e.updateWatchDurationForCurrentSegment(),e.lastPauseTime||e.updateStallDuration()),e.setState({playbackState:v.Cy.PAUSED})}),O(D(e),"handleSeeking",function(){e.playbackPerformance.numberOfSeeks+=1;var t=e.playbackPerformance.segments,a=t&&t[t.length-1];a&&(a.lastStartPlayTime=null),e.state.playbackState!==v.Cy.ENDED&&e.setState({playbackState:v.Cy.SEEKING})}),O(D(e),"handleStalled",function(){null===e.lastStallTime&&e.state.playbackState!==v.Cy.ENDED&&(e.lastStallTime=new Date,e.playbackPerformance.numberOfStalls+=1,e.setState({playbackState:v.Cy.STALLING}))}),O(D(e),"handleTimeUpdate",function(t){var a=e.props.onTimeChange;a&&a(t),e.state.playbackState===v.Cy.PLAYING&&(e.updateWatchDurationForCurrentSegment(),e.setLastSegmentStartPlayTime())}),O(D(e),"resetPlaybackMetrics",function(){e.hasSegmentStarted=!0,e.hasPlaybackStarted=!1,e.hasVideoSessionStarted=!1,e.hasVideoSessionEnded=!0,e.lastStallTime=null,e.lastPauseTime=null,e.videoSessionId="",e.videoVisibleTime=null,e.logSessionStartOnNextPlay=!1;var t=g(g({},e.playbackPerformance.segments[e.playbackPerformance.segments.length-1]),{},{lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0});e.playbackPerformance.detailedErrors="",e.playbackPerformance.errorCode=0,e.playbackPerformance.errorName="",e.playbackPerformance.errorReason="",e.playbackPerformance.hasFatalError=!1,e.playbackPerformance.numberOfStalls=0,e.playbackPerformance.numberOfSeeks=0,e.playbackPerformance.playbackStartTimestamp=null,e.playbackPerformance.totalStallDurationMs=0,e.playbackPerformance.segments=[t]}),O(D(e),"setLastSegmentStartPlayTime",function(){var t=e.playbackPerformance.segments,a=t&&t[t.length-1];a&&null===a.lastStartPlayTime&&(a.lastStartPlayTime=e.getCurrentVideoTime())}),O(D(e),"setLastSegmentPlaybackStartDate",function(){var t=e.playbackPerformance.segments,a=t&&t[t.length-1];a&&null===a.playbackStartDate&&(a.playbackStartDate=Date.now())}),O(D(e),"setPlaybackStartTime",function(){e.hasPlaybackStarted||(e.playbackPerformance.playbackStartTimestamp=Date.now(),e.hasPlaybackStarted=!0)}),O(D(e),"setVideoPlayerRef",function(t){var a=e.props.setVideoRef;if(t&&(a&&a(t),e.videoPlayerRef=t,e.videoPlayerRef.video)){var r=e.videoPlayerRef.video;r.addEventListener("loadedmetadata",e.handleLoadedMetadata),r.addEventListener("loadeddata",e.handleLoadedData),r.addEventListener("pause",e.handleVideoPause),r.readyState>=3&&(e.setState({canPlayVideo:!0}),e.playbackPerformance.canPlayTime=new Date)}}),O(D(e),"updateStallDuration",function(){if(null!==e.lastStallTime){var t=D(e).lastStallTime;e.playbackPerformance.totalStallDurationMs+=new Date-t,e.lastStallTime=null}}),O(D(e),"updatePauseDuration",function(){if(null!==e.lastPauseTime){var t=D(e).lastPauseTime;e.playbackPerformance.totalPauseDurationMs+=new Date-t,e.lastPauseTime=null}}),O(D(e),"updateWatchDurationForCurrentSegment",function(){var t=e.playbackPerformance.segments,a=t&&t[t.length-1],r=a?a.lastStartPlayTime:null,o=e.getCurrentVideoTime();if(a&&null!==r&&"number"==typeof o&&"number"==typeof r){var n=o-r;n>0&&(a.watchedDurationMs+=n,a.lastStartPlayTime=null)}}),O(D(e),"logPlaybackPerformance",function(t,a){var r=e.props,o=r.contextLogData,n=void 0===o?{}:o,i=r.userId,l=r.isAutoPlay,s=r.logContextEvent,c=r.preload,u=n.is_closeup_video,d=void 0!==u&&u,p=e.playbackPerformance,y=p.canPlayTime,f=p.detailedErrors,b=p.errorCode,P=p.errorName,h=p.errorReason,k=p.hasFatalError,T=p.loadStartTime,D=p.totalPauseDurationMs,E=p.totalStallDurationMs,O=p.numberOfStalls,C=p.numberOfSeeks,R=p.playbackStartTimestamp,w=p.segments,j=p.srcString,_=e.videoPlayerRef&&e.videoPlayerRef.video,V=t===v.DR,L=V&&!e.hasVideoSessionStarted,A=!V&&!e.hasVideoSessionEnded&&e.hasVideoSessionStarted;if(_&&(L||A)){var I,x=-1;y&&T&&(x=y>T?y-T:0);var M=-1;y&&e.videoVisibleTime&&(M=y>e.videoVisibleTime?y-e.videoVisibleTime:0),V&&(e.videoSessionId=(0,v.Y7)(i),e.playerId=e.playerId||(0,v.EB)());var F=e.getVideoResourceTiming(),N={averageVideoKbps:-1,autoplaying:l,detailedErrors:f,downloadedKiloBytes:"number"==typeof(null==F?void 0:F.decodedBodySize)&&F.decodedBodySize/v.Fm||0,errorCode:b,errorName:P,errorReason:h,fatalError:k,isCellular:!1,nativeVideoDurationMs:_.duration*v.gJ||-1,numberOfStalls:O,numberOfSeeks:C,overallPausedDurationMs:D,overallBufferDurationMs:E,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:e.videoSessionId,playbackStartTimestamp:R||-1,segments:[],sessionMark:t,screenPixelScale:null!==(I=window)&&void 0!==I&&I.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:_.clientWidth,startupPlayerHeight:_.clientHeight,startupTimeMs:x,startupLatencyMs:M,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:_.videoWidth,startupVariantHeight:_.videoHeight,videoUrl:j,wasVideoPreloaded:"auto"===c};if(!V){e.updateWatchDurationForCurrentSegment(),e.updateStallDuration();var B=w.reduce(function(e,t){return e+(t.watchedDurationMs||0)},0);N.overallWatchedDurationMs=B,N.startupVariantWatchedDurationMs=B,N.segments=e.playbackPerformance.segments,0===B?(N.errorName="invalid_watch_duration",N.rebufferRate=-1):N.rebufferRate=E/B}(0,m.ZP)(N,!1,d,g({playbackState:e.state.playbackState},a)),s({event_type:3606,event_data:{videoPerformanceData:N},view_type:n.view,view_parameter:n.viewParameter,component:n.component,element:n.element,object_id_str:n.objectId,aux_data:g(g({},function(e,t){if(null==e)return{};var a,r,o=function(e,t){if(null==e)return{};var a,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}(n,S)),{},{is_closeup_video:d,playback_session_id:e.videoSessionId})}),V?(e.hasVideoSessionStarted=!0,e.hasVideoSessionEnded=!1):e.resetPlaybackMetrics(),(0,m.tE)(V?"sessionStart":"sessionEnd",!1,d,g({playbackState:e.state.playbackState},a))}}),e}return a=[{key:"componentWillUnmount",value:function(){var e=this.props.loop;this.updatePauseDuration(),this.logPlaybackPerformance(v.$f,{initiator:"unmount",loop:e})}},{key:"render",value:function(){var e=this.props,t=e.aspectRatio,a=e.captions,n=e.controls,i=e.loop,l=e.loopOverride,s=e.objectFit,c=e.onDurationChange,u=e.onFullscreenChange,d=e.onLoadedChange,y=e.onControlsPlay,f=e.onPlayheadDown,m=e.onPlayheadUp,v=e.onSeek,S=e.onVolumeChange,h=e.playbackRate,g=e.playing,k=e.playsInline,T=e.poster,D=e.preload,E=e.src,O=e.volume,C=this.state,R=C.canPlayVideo,j=C.videoStartTime;return(0,P.jsxs)(r.Fragment,{children:[(0,P.jsx)(p.Z,{unsafeCSS:b.P}),(0,P.jsx)(o.nk,{autoplay:R&&g,aspectRatio:t,captions:a,controls:n,loop:void 0===l?i:l,objectFit:s,onDurationChange:c,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:u,onLoadedChange:d,onLoadStart:this.handleLoadStart,onControlsPause:this.handleUserPause,onControlsPlay:y,onPlaying:this.handlePlaying,onPlayheadDown:f,onPlayheadUp:m,onReady:this.handleCanPlayVideo,onSeek:v,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:S,onWaiting:this.handleStalled,playbackRate:h,onPlay:function(){},onPlayError:function(){},playing:R&&g,playsInline:k,poster:T,preload:D,ref:this.setVideoPlayerRef,src:w(E,this.props.quicExpGroup),startTime:j||void 0,volume:O})]})}}],k(l.prototype,a),n&&k(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(r.Component),_=(0,r.memo)(function(e){var t=(0,d.v)().logContextEvent,a=(0,i.B)(),r=a.country,o=a.isAuthenticated,n=a.isBot,s=a.isSocialBot,c=a.unauthId,p=a.userAgent,v=p.browserName,b=p.browserVersion,S=p.isMobile,h=e.contextLogData,k=void 0===h?{}:h,T=k.is_closeup_video,D=k.view,E=k.viewParameter,O=(0,u.I)().appUI.appInFocus,C=(0,y.F)().checkExperiment,R=(0,l.RC)().clearSeekTime,w=null;o&&(w=C("web_video_quic").group.length?C("web_video_quic").group:null);var _=(0,f.Z)();return(0,m.r$)({browserName:v,browserVersion:b,country:r,isAuthenticated:o,isBot:n,is_closeup_video:void 0!==T&&T,isMobile:S,isSocialBot:s,view:D,viewParameter:E}),(0,P.jsx)(j,g(g({},e),{},{userId:_.id||c,appInFocus:O,quicExpGroup:w,logContextEvent:t,clearSeekTime:R}))});function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach(function(t){N(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function I(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B(r.key),r)}}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function M(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,a){return(t=B(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function B(e){var t=function(e,t){if("object"!==V(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==V(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===V(t)?t:String(t)}var W=function(e){if(Array.isArray(e)){var t=e.find(function(e){return"video/m3u8"===e.type});return t?t.src:void 0}return/m3u8$/.test(e)?e:void 0},U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(i,e);var t,a,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,a=F(i);if(t){var r=F(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return function(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return M(e)}(this,e)});function i(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i),N(M(t=o.call(this,e)),"componentDidUpdate",function(e){var a;e.videoStartTime&&t.props.videoStartTime&&e.videoStartTime<t.props.videoStartTime&&null!==(a=t.videoPlayerRef)&&void 0!==a&&a.video&&(t.videoPlayerRef.video.currentTime=t.props.videoStartTime)}),N(M(t),"setVideoPlayerRef",function(e){e&&(t.videoPlayerRef=e)}),N(M(t),"handleOnEnded",function(e){var a=e.event,r=t.props,o=r.loop,n=r.onLoop,i=r.onEnded;i&&(i({event:a}),t.videoPlayerRef&&t.videoPlayerRef.video&&o&&(t.videoPlayerRef.video.play(),n&&n()))});var t,a=W(e.src);return t.state={useHlsVideo:!e.preferMp4&&!(0,n.G6)(e.requestContext.userAgent.browserName)&&!!a},t}return a=[{key:"render",value:function(){var e=this.props,t=e.aspectRatio,a=e.appInFocus,r=e.backgroundColor,o=e.captions,n=e.toggleCaptions,i=e.clearSeekTime,l=e.contextLogData,c=e.controls,u=e.hlsConfig,d=e.isAutoPlay,p=e.loop,y=e.objectFit,f=e.onDurationChange,m=e.onEnded,v=e.onFullscreenChange,b=e.onLoadedChange,S=e.onControlsPause,h=e.onControlsPlay,g=e.onPlayheadDown,k=e.onPlayheadUp,T=e.onReady,D=e.onSeek,E=e.onTimeChange,O=e.onVolumeChange,C=e.playbackRate,R=e.playing,w=e.playsInline,j=e.poster,V=e.preferMp4,L=e.preload,I=e.seekTime,x=e.src,M=e.videoStartTime,F=e.visible,N=e.volume,B=this.state.useHlsVideo,U=W(x),G=A(A({},u),{},{startPosition:M||-1}),H=!m&&p;return B&&U?(0,P.jsx)(s.Z,{aspectRatio:t,appInFocus:a,backgroundColor:r,captions:o,clearSeekTime:i,contextLogData:l,controls:c,hlsConfig:G,isAutoPlay:d,loop:p,loopOverride:H,objectFit:y,onDurationChange:f,onEnded:this.handleOnEnded,onFullscreenChange:v,onLoadedChange:b,onControlsPause:S,onControlsPlay:h,onPlayheadDown:g,onPlayheadUp:k,onReady:T,onSeek:D,onTimeChange:E,onVolumeChange:O,playbackRate:C,onPlay:function(){},onPlayError:function(){},playing:R,playsInline:w,poster:j,preload:L,seekTime:I,setVideoRef:this.setVideoPlayerRef,src:U,visible:F,volume:N,captionsEnabled:n}):(0,P.jsx)(_,{aspectRatio:t,captions:o,captionsEnabled:n,clearSeekTime:i,contextLogData:l,controls:c,isAutoPlay:d,loop:p,loopOverride:H,objectFit:y,onDurationChange:f,onEnded:this.handleOnEnded,onFullscreenChange:v,onLoadedChange:b,onControlsPause:S,onControlsPlay:h,onPlayheadDown:g,onPlayheadUp:k,onReady:T,onSeek:D,onTimeChange:E,onVolumeChange:O,playbackRate:C,onPlay:function(){},onPlayError:function(){},playing:R,playsInline:w,poster:j,preload:L,seekTime:I,setVideoRef:this.setVideoPlayerRef,src:V?x:U||x,videoStartTime:M,visible:F,volume:N})}}],I(i.prototype,a),r&&I(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.PureComponent);function G(e){var t=(0,u.I)().appUI.appInFocus,a=(0,l.Hx)().seekTime,r=(0,c.r)().captionsEnabled,o=(0,l.RC)().clearSeekTime,n=(0,i.B)();return(0,P.jsx)(U,A(A({},e),{},{appInFocus:t,requestContext:n,clearSeekTime:o,toggleCaptions:r,seekTime:a}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/58103-8ce9ba7ff1947fd5.js.map