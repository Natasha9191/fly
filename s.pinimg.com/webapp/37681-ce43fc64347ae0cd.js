"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[37681],{660187:function(e,t,r){r.d(t,{Z:function(){return i},t:function(){return o}});var n=r(595371),o=[n.i.GUIDED_SEARCH_LANDING,n.i.GUIDED_SEARCH_ENTRY],i=292},756306:function(e,t,r){r.d(t,{Z:function(){return f}});var n=r(76911),o=r(908390),i=r(121093),a=r(515198);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(h,e);var t,r,n,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=d(h);if(t){var n=d(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function h(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,h);for(var e,t,r,n,o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=u(e=f.call.apply(f,[this].concat(i))),n={paused:!1,showPulsar:!1},(r=p(r="state"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return r=[{key:"componentDidMount",value:function(){this.mountPulsar(),this.props.onExperienceMount&&this.experience&&this.props.onExperienceMount(this.experience)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"mountPulsar",value:function(){this.experience&&this.experience.display_data.has_pulsar&&this.setState({showPulsar:!0})}},{key:"renderPulsar",value:function(){var e=this.props.anchor,t=this.state.paused;if(!e)return null;var r=e.getBoundingClientRect(),n=r.height,i=r.width;return(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-(68+n/2),marginLeft:-(68-i/2),cursor:"pointer",pointerEvents:"none"}},position:"absolute",zIndex:new o.Ry(1),children:(0,a.jsx)(o.o3,{paused:t})})}},{key:"renderFlyout",value:function(e){var t=this.props,r=t.anchor,n=t.flyoutSize,i=t.idealDirection;return(0,a.jsx)(o.Li,{anchor:r,idealDirection:i||"down",message:e,onDismiss:function(){},size:n})}},{key:"render",value:function(){var e=this,t=this.props,r=t.experienceIds,n=t.placementId,s=t.shouldTimeoutDismiss,l=this.state.showPulsar;return(0,a.jsx)(i.Z,{eligibleIds:r,eligibleTypes:[8],placementId:n,children:function(t){var r=t.complete,n=t.dismiss,i=t.experience;e.experience=i;var c=i.display_data;return c.has_pulsar||c.has_tooltip?(s&&c.disappearTime&&c.disappearTime>0&&(e.timer=setTimeout(function(){return n(),null},c.disappearTime)),(0,a.jsxs)(o.xu,{zIndex:new o.Ry(10),children:[l&&e.renderPulsar(),c.has_tooltip&&(!c.has_pulsar||e.state.paused)&&e.renderFlyout(c.text)]})):(r(),null)}})}}],l(h.prototype,r),n&&l(h,n),Object.defineProperty(h,"prototype",{writable:!1}),h}(n.Component)},366428:function(e,t,r){r.d(t,{F:function(){return f},Z:function(){return p}});var n=r(76911),o=r(407043),i=r(124580),a=["children"];function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t,r){var n;return(n=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===s(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600}};function p(e){var t=e.carouselData,r=e.closeupImpressionType,a=e.closeupNavigationType,s=e.componentType,l=e.contextLogData,p=e.clientTrackingParams,f=e.elementType,h=e.impressionAuxFields,y=e.inImpressionExp,g=e.impressionType,v=e.impressionsFramework,m=e.isPaused,b=e.loggingId,x=e.objectIdStr,_=e.slotIndex,j=e.trackCarousel,S=e.viewData,w=e.viewParameter,P=e.viewType,O=(0,o.v)().logContextEvent,I=v||i.Z,T=(0,n.useRef)(null),A=function(e){var n,o,i,y,v,m,I,A,C=d[g],k=C.idType,E=c(c((u(n={clientTrackingParams:p,endTime:e.endTime},k,b),u(n,"slotIndex",_),u(n,"time",e.startTime),u(n,"renderDuration",e.endTime-e.startTime),u(n,"type",r),n),h),{},{forcedExit:"removed"===e.forcedExit?0:void 0});"Pin"===g&&(E=c(c({},E),{},{pinCellWidth:(null===(o=T.current)||void 0===o?void 0:o.getBoundingClientRect().width)||0,pinCellHeight:(null===(i=T.current)||void 0===i?void 0:i.getBoundingClientRect().height)||0,windowWidth:null===(y=window)||void 0===y?void 0:y.innerWidth,windowHeight:null===(v=window)||void 0===v?void 0:v.innerHeight}));var M={component:s,object_id_str:x,view_type:P,view_data:S||{},view_parameter:w};j?t&&O(c(c({event_type:7352,event_data:{pinCarouselSlotImpressions:[c(c({},E),{},{carouselDataId:Number(t.id),carouselSlotId:(null===(m=t.carousel_slots)||void 0===m?void 0:m[null!==(I=t.index)&&void 0!==I?I:0])&&Number(t.carousel_slots[null!==(A=t.index)&&void 0!==A?A:0].id),slotIndex:t.index})]}},M),{},{aux_data:c({},l)})):O(c(c({clientTrackingParams:p,event_type:C.eventType},M),{},{element:f,event_data:u({},C.impressionType,"Story"===g?E:[E]),aux_data:c({closeup_navigation_type:a},l)}))},C=(0,n.useCallback)(function(){try{T.current instanceof HTMLElement&&I.start(T.current).onExitViewport(A).setDebugId(b||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[T.current]);(0,n.useEffect)(function(){return y&&!I.inExperiment&&I.setExperimentStatus(!0),m||C(),function(){T.current instanceof HTMLElement&&I.stop(T.current)}},[C]);var k=(0,n.useRef)(m);return(0,n.useEffect)(function(){k.current&&!m&&C(),k.current=m},[m,C]),T}var f=function(e){return(0,e.children)({impressionTrackerRef:p(function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,a))})}},392370:function(e,t,r){r.d(t,{Z:function(){return f}});var n=r(76911),o=r(515198);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e){var t=e.searchDelightText,r=e.searchDelightConfig,n=r.text_background_color,i=r.text_colors,a=void 0===i?[]:i,l=n?{backgroundColor:n,margin:"-2px",padding:"2px"}:void 0;if(!(a.length>1))return(0,o.jsx)("span",{style:s({color:a[0],whiteSpace:"pre-wrap"},l),children:t},"searchDelight-".concat(t));var c=0;return(0,o.jsx)("span",{style:s({whiteSpace:"pre-wrap"},l),children:t.split("").map(function(e,t){var r=a[c];return" "!==e&&(c=(c+1)%a.length),(0,o.jsx)("span",{style:{color:r},children:e},"searchDelight-".concat(t))})})}var c=r(908390),u=function(e){var t=e.children,r=e.gray,n=e.weight;return(0,o.jsx)(c.xv,{color:r?"subtle":void 0,inline:!0,weight:void 0===n?"normal":n,children:(0,o.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:t})})},d=function(e){var t=e.allBold,r=e.searchDelightParts,i=e.searchDelightConfig,a=e.text,s=e.weightPivot,c=r[1],d=a.indexOf(c),p=d+c.length;return s<=d?(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(u,{gray:!0,weight:t?"bold":"normal",children:a.substring(0,s)}),(0,o.jsxs)(u,{weight:"bold",children:[a.substring(s,d),(0,o.jsx)(l,{searchDelightConfig:i,searchDelightText:c}),a.substring(p)]})]}):s<=p?(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(u,{gray:!0,weight:t?"bold":"normal",children:a.substring(0,d)}),(0,o.jsxs)(u,{weight:"bold",children:[(0,o.jsx)(l,{searchDelightConfig:i,searchDelightText:c}),a.substring(p)]})]}):(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(u,{gray:!0,weight:t?"bold":"normal",children:a.substring(0,d)}),(0,o.jsx)(u,{weight:"bold",children:(0,o.jsx)(l,{searchDelightConfig:i,searchDelightText:c})}),(0,o.jsx)(u,{gray:!0,weight:t?"bold":"normal",children:a.substring(p,s)}),(0,o.jsx)(u,{weight:"bold",children:a.substring(s)})]})},p=function(e,t){var r=RegExp("\\b"+t+"\\b","i");if(!e.match(r))return null;var n=e.toLowerCase().indexOf(t.toLowerCase());return[e.slice(0,n),e.slice(n,n+t.length)]};function f(e){var t=e.allBold,r=e.searchDelightConfig,i=e.query,a=void 0===i?"":i,s=e.text,l=(s.toLowerCase().startsWith(a.toLowerCase())?a:"").length,c=r?r.search_query_list.map(function(e){return p(s,e)}).filter(Boolean).sort(function(e,t){return e&&t?e[0].length-t[0].length:0}).shift():null;return c&&r?(0,o.jsx)(d,{allBold:t,searchDelightConfig:r,searchDelightParts:c,text:s,weightPivot:l}):(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(u,{gray:!0,weight:t?"bold":"normal",children:s.substr(0,l)}),(0,o.jsx)(u,{weight:"bold",children:s.substr(l)})]})}},150461:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(76911),o=r(908390),i=r(199324),a=r(898781),s=r(515198);function l(e){var t=e.dataTestId,r=e.focusOptionId,l=e.isFocused,c=e.name,u=e.onBlur,d=e.onChange,p=e.onClick,f=e.onFocus,h=e.onKeyDown,y=e.onSearchTrigger,g=e.placeholder,v=e.value,m=e.disabled,b=(0,a.ZP)(),x=(0,n.useRef)(null);return(0,n.useEffect)(function(){x.current&&y&&x.current.addEventListener("searchTrigger",y)},[]),(0,n.useEffect)(function(){x.current&&document.activeElement===x.current!==l&&(l?x.current.focus():x.current.blur())},[l]),(0,s.jsxs)(o.xu,{flex:"grow",height:"100%",children:[(0,s.jsx)("input",{ref:x,"aria-activedescendant":r,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-expanded":l,"aria-label":b._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off","data-test-id":t,disabled:void 0!==m&&m,name:c,onBlur:u,onChange:function(e){d(e.target.value)},onClick:void 0===p?function(){}:p,onFocus:f,onKeyDown:h,placeholder:g||b._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"#333",fontFamily:i.Z,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:v}),(0,s.jsx)(o.xu,{display:"none",id:"searchBoxAccessibleText",children:b._('When autocomplete results are available use up and down arrows to\n                review and enter to select. Touch device users, explore by touch or\n                with swipe gestures.', 'searchBox.searchInput.accessibleText', 'Accessible text for search input')})]})}},615119:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(186656);function o(e){var t=e.report,r=e.query,o=e.suggestions,i=e.type;return(0,n.Z)({url:"/v3/search/suggestion/report/",method:"POST",data:{report:t,query:r,suggestions:o,type:i}})}},254469:function(e,t,r){r.d(t,{Z:function(){return h}});var n=r(76911),o=r(214494),i=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},a=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};a.prototype.set=function(e,t){var r=this._uidToData[e];r||(r=new i(e,t),this._uidToData[e]=r,this._numItems+=1),this._moveToFront(r),this._numItems>this._maxNumItems&&this._evict()},a.prototype.get=function(e){var t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},a.prototype.remove=function(e){var t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},a.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},a.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};var s=["bookmarks"];function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,o)}function d(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,s,"next",e)}function s(e){u(i,n,o,a,s,"throw",e)}a(void 0)})}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e){var t,r,i,l,u,p,h,y,g,v,m,b,x,_,j=e.allowSearchOnMount,S=void 0!==j&&j,w=e.resourceName,P=e.resourceOptions,O=void 0===P?{}:P,I=e.value,T=(0,n.useRef)(!1),A=(0,n.useRef)({}),C=function(e){if(Array.isArray(e))return e}(_=(0,n.useState)([]))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(_,2)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}}(_,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),k=C[0],E=C[1],M=(m=(t={resourceName:w,resourceOptions:O}).resourceName,b=t.resourceOptions,(x=(0,n.useRef)()).current||(x.current=(i=(r={resourceName:m,resourceOptions:b}).resourceName,u=f(f({},l=r.resourceOptions),{},{count:"count"in l?l.count:5}),p=o.Z.create(i,u),h=new a,y=function(){p.abort()},g=d(regeneratorRuntime.mark(function e(t,r){var n,o,i,a,l,c,u,d,g,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!p.isCalling()){e.next=8;break}if(i=null===(n=p.options)||void 0===n?void 0:n.term,a=null===(o=p.options)||void 0===o?void 0:o.pin_scope,!(t===i&&r===a)){e.next=7;break}return e.abrupt("return",void 0);case 7:y();case 8:return(l=p.options||{}).bookmarks,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(l,s),p.options=f(f({},c),{},{term:t,pin_scope:r}),e.next=12,p.callGet({showError:!1});case 12:return d=null==(u=e.sent.resource_response.data)?void 0:u.items,v={hint:g=(null==u?void 0:u.hint)||{},items:d},h.set("".concat(r,"-").concat(t),v),e.abrupt("return",{term:t,items:d,hint:g});case 19:case"end":return e.stop()}},e)})),v=d(regeneratorRuntime.mark(function e(t,r){var n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=h.get("".concat(r,"-").concat(t)))||!((o=n.items)&&o.length)){e.next=7;break}return y(),i=n.hint,e.abrupt("return",{hint:i,items:o,term:t});case 7:if(!(t.length>=0)){e.next=11;break}return e.abrupt("return",function(e,t){return g.apply(this,arguments)}(t,r));case 11:return e.abrupt("return",{hint:{},items:[],term:t});case 12:case"end":return e.stop()}},e)})),function(e,t){return v.apply(this,arguments)})),x.current),D=O.pin_scope||"pins",R="".concat(D,"-").concat(I);return(0,n.useEffect)(function(){d(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=I&&(S||T.current))){e.next=17;break}if(!(R in A.current)){e.next=5;break}E(A.current[R]),e.next=17;break;case 5:return e.prev=5,e.next=8,M(I,D);case 8:(t=e.sent)&&(r=t.items,A.current[R]=r,E(r)),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),"Resource call aborted"!==e.t0){e.next=16;break}return e.abrupt("return");case 16:throw e.t0;case 17:T.current||(T.current=!0);case 18:case"end":return e.stop()}},e,null,[[5,12]])}))()},[I,D,R]),k}},940589:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(643913);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){var t=e.query,r=e.rs,a=e.scope,s=e.guideAdded,l=e.filters,c=e.user,u=e.requestParams;if(!t)return"/";var d=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({q:t,rs:r},u);if(l&&(d.filters=l),c&&(d.user=c),s&&s.term&&(d.add_refine="".concat(s.term,"|guide|word|").concat(s.index)),window.location.pathname.startsWith("/explore"))return"/search/pins/?".concat((0,n.Z)(d));var p=a;return["pins","buyable_pins","my_pins","boards","users","idea_pins"].includes(p)||(p="pins"),p?"/search/".concat(p,"/?").concat((0,n.Z)(d)):"".concat(window.location.pathname,"?").concat((0,n.Z)(d))}},23003:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(826067);function o(e){var t,r=(0,n.mB)(e.search)||{};if(r.q){var o=e.pathname.split("/");t=o.length>2?o[2]:"pins"}if(r.q&&t){var i=Array.isArray(r.q)?r.q.join(" "):r.q,a=Array.isArray(r.rs)?"":r.rs,s=Array.isArray(r.user)?"":r.user;return{filters:r.filters||"",user:s,query:i||"",rs:a||"",scope:"pins"===t||"buyable_pins"===t||"my_pins"===t||"boards"===t||"users"===t||"videos"===t||"idea_pins"===t?t:"pins"}}return{filters:"",user:"",query:"",rs:"",scope:"pins"}}},391143:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(613316),o=r(643913);function i(e){var t=e.bubbleId,r=e.pinId,i=e.query,a=e.referringSource,s=e.storyCategory,l=e.storyId,c=e.title,u=[0,24,21,26].includes(s),d=(0,o.Z)({q:i,rs:a||void 0,b_id:t,source_id:l,top_pin_id:r}),p=u&&c?(0,n.x)({title:c,id:t,articleType:"discover"}):"/discover/article/".concat(t,"/");return u?p:"/search/pins/".concat(d?"?"+d:"")}},388619:function(e,t,r){var n=r(704115);t.Z=function(e){var t=e.url;if(t){var r=t.split("?");if(r[1])return(0,n.Z)(r[1])}return(0,n.Z)()}},215292:function(e,t,r){r.d(t,{q:function(){return s}});var n=r(76911);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a=function(){var e=o((0,n.useState)(!1),2),t=e[0],r=e[1],i=o((0,n.useState)(!1),2),a=i[0],s=i[1],l=o((0,n.useState)(!1),2),c=l[0],u=l[1];return{active:t,focused:a,hovered:c,onBlur:function(){s(!1),r(!1)},onFocus:function(){return s(!0)},onMouseDown:function(){return r(!0)},onMouseEnter:function(){return u(!0)},onMouseLeave:function(){u(!1),r(!1)},onMouseUp:function(){return r(!1)}}};function s(e){return(0,e.children)(a())}t.Z=a},865607:function(e,t,r){r.d(t,{O:function(){return c},Z:function(){return u}});var n=r(76911),o=r(908390),i=r(898781),a=r(966113),s=r(515198),l={xs:12,sm:16,md:20,lg:24};function c(e){var t=e.children,r=(0,i.ZP)();return(0,s.jsx)(o.u,{link:(0,s.jsx)(o.rU,{href:a.vBy,target:"blank",children:(0,s.jsx)(o.xv,{color:"inverse",size:"100",weight:"bold",children:r._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:r._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:t})}function u(e){var t=e.hasVerifiedIdentity,r=e.iconOnly,a=e.isVerifiedMerchant,u=e.showText,d=e.size,p=(0,i.ZP)(),f=(0,s.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,s.jsx)(o.JO,{accessibilityLabel:p._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[d]}),u&&(0,s.jsx)(o.xu,{marginStart:2,children:(0,s.jsx)(o.xv,{color:"shopping",inline:!0,weight:"bold",children:p._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,s.jsxs)(n.Fragment,{children:[a&&!r&&(0,s.jsx)(c,{children:f}),a&&r&&f,t&&!a&&(0,s.jsx)(o.JO,{accessibilityLabel:p._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:l[d]})]})}},65675:function(e,t,r){r.d(t,{A:function(){return s},Z:function(){return l}});var n=r(76911),o=r(908390),i=r(515198);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function l(e){var t,r,l,c=e.backgroundColor,u=e.children,d=e.coverImage,p=e.disableTabIndex,f=e.height,h=e.id,y=e.isHovered,g=e.onClick,v=e.onMouseDown,m=e.onMouseEnter,b=e.onMouseLeave,x=e.searchBoxRenderStopwatch,_=e.url,j=e.width,S=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=S[0],P=S[1],O=function(){m?m():P(!0)},I=function(){b?b():P(!1)},T=y||w,A=T?s.hoverOverlay:s.bubbleOverlay;return(0,i.jsx)(o.Tg,{href:_,onBlur:I,onFocus:O,onMouseDown:v,onMouseEnter:O,onMouseLeave:I,onTap:function(){null==g||g(h)},rounding:4,tabIndex:p?-1:void 0,children:(0,i.jsx)(o.zd,{rounding:4,width:j||"100%",height:f,children:null!=d&&d.url?(0,i.jsxs)(o.Ee,{alt:"",color:c,fit:"cover",naturalHeight:null!==(r=d.height)&&void 0!==r?r:1,naturalWidth:null!==(l=d.width)&&void 0!==l?l:1,onLoad:function(){null==x||x.stop()},role:"presentation",src:d.url,children:[(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:A},height:"100%",width:"100%"}),"function"==typeof u?u({isHovered:T}):u]}):(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:c}},height:"100%",width:"100%"})})})}},666389:function(e,t,r){r.d(t,{Z:function(){return g}});var n=r(76911),o=r(908390),i={transparent:{backgroundColor:"transparent"},transparentHovered:{backgroundColor:"rgba(216, 216, 216, 0.37)"},pog:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},buttonFocus:{outline:"0"}},a=r(515198);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){h(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(y,e);var t,r,n,l=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=f(y);if(t){var n=f(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function y(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,y);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return h(p(e=l.call.apply(l,[this].concat(r))),"state",{hovered:!1}),h(p(e),"handleMouseEnter",function(){return e.setState({hovered:!0})}),h(p(e),"handleMouseLeave",function(){return e.setState({hovered:!1})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.backgroundHaloSize,r=e.onClick,n=e.color,s=Object.freeze({height:t,width:t}),l=c({border:0,display:"block",background:"transparent",cursor:"pointer"},i.buttonFocus),u=c(c(c({},i.pog),i.transparent),this.state.hovered?i.transparentHovered:{}),d=c(c({},s),u);return(0,a.jsx)("button",{type:"button",style:l,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:function(e){return r&&r({event:e})},children:(0,a.jsx)("div",{style:d,children:(0,a.jsx)(o.xu,{rounding:"circle",children:(0,a.jsx)(o.JO,{accessibilityLabel:"",icon:"flag",size:t/2,color:void 0===n?"subtle":n})})})})}}],u(y.prototype,r),n&&u(y,n),Object.defineProperty(y,"prototype",{writable:!1}),y}(n.Component)},72809:function(e,t,r){r.d(t,{Z:function(){return w}});var n=r(76911),o=r(908390),i=r(186656),a=r(121151),s=r(499128),l=r(898781),c=r(343341),u=r(666389),d=r(116674),p=r(515198);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,o)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,r){return(t=j(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(d,e);var t,r,l,c=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=x(d);if(t){var n=x(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function d(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,d);for(var e,t,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return _(b(e=c.call.apply(c,[this].concat(n))),"state",{showModal:!1,reportType:null}),_(b(e),"handleDismiss",function(){return e.setState({showModal:!1})}),_(b(e),"handleClick",function(){"image"===e.state.reportType?e.reportSuggestionImage():e.reportSuggestionText()}),_(b(e),"reportSuggestionImage",(t=regeneratorRuntime.mark(function t(){var r,n,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(r=e.props).imgSignature,o=r.reportImage,e.setState({showModal:!1}),t.next=4,(0,i.Z)({url:"/v3/search/pin_image_sig/",data:{image_signature:n}});case 4:a=t.sent.resource_response.data.id,o(a);case 7:case"end":return t.stop()}},t)}),function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){g(i,n,o,a,s,"next",e)}function s(e){g(i,n,o,a,s,"throw",e)}a(void 0)})})),_(b(e),"reportSuggestionText",function(){var t=e.props,r=t.handleReport,n=t.toastManagerContext;r&&(r(),n.showToast(function(t){var r=t.hideToast;return(0,p.jsx)(s.ZP,{onHide:r,text:e.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')})}),e.handleDismiss())}),_(b(e),"showModal",function(t){var r=t.event;r.stopPropagation(),r.preventDefault(),e.setState({showModal:!0})}),e}return r=[{key:"render",value:function(){var e=this,t=this.state.showModal;return(0,p.jsxs)(n.Fragment,{children:[this.props.isVisible&&(0,p.jsx)(u.Z,{onClick:this.showModal,backgroundHaloSize:24}),t&&(0,p.jsx)(a.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,p.jsxs)(o.xu,{children:[(0,p.jsx)(o.xu,{padding:5,children:(0,p.jsx)(o.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,p.jsxs)(o.FX,{id:"reporting-flag-options-group",legend:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion'),legendDisplay:"hidden",children:[(0,p.jsxs)(o.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,p.jsxs)(o.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(o.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:function(){return e.setState({reportType:"text"})},value:"Report search text"}),(0,p.jsx)(o.xu,{flex:"grow",children:(0,p.jsx)(o.__,{htmlFor:"textType",children:(0,p.jsx)(o.xu,{paddingX:2,children:(0,p.jsx)(o.xv,{children:"Report search text"})})})})]}),(0,p.jsxs)(o.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(o.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:function(){return e.setState({reportType:"image"})},value:"Report search image"}),(0,p.jsx)(o.xu,{flex:"grow",children:(0,p.jsx)(o.__,{htmlFor:"imageType",children:(0,p.jsx)(o.xu,{paddingX:2,children:(0,p.jsx)(o.xv,{children:"Report search image"})})})})]})]}),(0,p.jsx)(o.iz,{}),(0,p.jsxs)(o.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,p.jsx)(o.xu,{margin:2,children:(0,p.jsx)(o.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,p.jsx)(o.xu,{margin:2,children:(0,p.jsx)(o.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion'),disabled:!this.state.reportType})})]})]})]})})]})}}],v(d.prototype,r),l&&v(d,l),Object.defineProperty(d,"prototype",{writable:!1}),d}(n.PureComponent);function w(e){var t=(0,l.ZP)(),r=(0,d.f)().reportImage;return(0,p.jsx)(S,y(y({},e),{},{i18n:t,reportImage:r,toastManagerContext:(0,c.F9)()}))}},873268:function(e,t,r){r.d(t,{Z:function(){return tS}});var n=r(76911),o=r(599689),i=r(908390),a=r(660187),s=r(407043),l=r(898781),c=r(124580),u=r(755742),d=r(53987),p=(0,r(584992).Z)({name:"search_tab_render",sampleRate:1}),f=p.Provider,h=p.useHook,y=r(780280),g=r(150461),v=r(940589),m=r(23003),b=r(862628),x=r(595371),_=r(909499),j=r(19121),S=r(965900),w={md:407,sm:332,auto:"auto"},P=["pin.description","pin.id","pin.images[236x]"],O={__style:{backgroundColor:"rgba(0,0,0, .4)"}},I={SEARCH_TRENDING_TEXT:2,SEARCH_IDEAS_FOR_YOU:3},T=r(977558),A=r(515198);function C(e){var t=e.contentTypes,r=e.contentTypesAnchor,n=e.handleSelectFilter,o=e.onDismiss;return(0,A.jsx)(i.Lt,{anchor:r,id:"ContentFilterList",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:o,zIndex:new i.Ry(T.fe),disableMobileUI:!0,children:t.map(function(e,t){return(0,A.jsx)(i.Lt.Item,{dataTestId:"search-filter-"+e.dataId,onSelect:function(){return n(t)},option:{value:e.text,label:e.text},children:(0,A.jsx)(i.xv,{weight:[_.lw.PINS,_.lw.PINS_MINE].includes(e.scope)?"bold":"normal",children:e.text})},e.text)})})}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var M=function(e){switch(e){case _.lw.PINS:return 220;case _.lw.PINS_MINE:return 223;case _.lw.PINS_VIDEO:return 11399;case _.lw.BOARDS:return 221;case _.lw.USERS:return 222;default:return null}},D=function(e){var t,r,a=e.currentlySelectedFilter,c=e.currentQuery,u=e.handleContentTypeFilterHover,d=e.handleScopeChange,p=(0,s.v)().logContextEvent,f=(0,l.ZP)(),h=(r=(t=[{scope:_.lw.PINS,text:f._('All Pins', 'All Pins label for content type filters on search bar', 'All Pins label for content type filters on search bar'),dataId:"all-pins"},{scope:_.lw.PINS_MINE,text:f._('Your Pins', 'Your Pins label for content type filters on search bar', 'Your Pins label for content type filters on search bar'),dataId:"your-pins"}]).findIndex(function(e){return e.scope===_.lw.PINS_MINE}),t.push(t.splice(r,1)[0]),t),y=(0,n.useRef)(null),g=(0,o.useHistory)(),v=k((0,n.useState)(a||h[0].scope),2),m=v[0],b=v[1],j=k((0,n.useState)(!1),2),S=j[0],w=j[1],P=k((0,n.useState)(!1),2),O=P[0],I=P[1];(0,n.useEffect)(function(){b(a)},[a]);var T=function(){I(!0),u&&u(!0)},E=function(){I(!1),u&&u(!1)},D=(h[m?h.findIndex(function(e){return e.scope===m}):0]||h[0]).text,R=(0,A.jsx)(i.xu,{"data-test-id":"search-filter",overflow:"hidden",dangerouslySetInlineStyle:{__style:{borderRadius:"0 4px 4px 0",height:48}},ref:y,children:(0,A.jsxs)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingX:4,children:[(0,A.jsx)(i.xv,{inline:!0,size:"200",weight:"bold",children:D}),(0,A.jsx)(i.xu,{marginStart:2,children:(0,A.jsx)(i.JO,{accessibilityLabel:f._('Dropdown', ' - ', ' -- '),color:"default",icon:"arrow-down",inline:!0,size:12})})]})});return(0,A.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:O?"rgba(0, 0, 0, 0.06)":void 0}},display:"flex",flex:"none",height:48,marginStart:2,position:"relative",rounding:6,children:[(0,A.jsx)(i.iP,{fullHeight:!0,fullWidth:!1,onMouseEnter:function(){return T()},onMouseLeave:function(){return E()},onTap:function(e){var t=e.event;t&&(t.preventDefault(),t.stopPropagation()),w(!S),p({event_type:101,component:215,aux_data:{entered_query:c}})},rounding:6,children:R}),S&&(0,A.jsx)(C,{contentTypes:h,contentTypesAnchor:y.current,handleSelectFilter:function(e){var t=h[e].scope;b(t),w(!1),p({event_type:101,component:215,element:M(t),aux_data:{entered_query:c}}),d(t),c&&g.push("/search/".concat(t,"/?q=").concat(encodeURIComponent(c),"&rs=").concat(x.i.FILTER))},onDismiss:function(){return w(!1)}})]})},R=r(333312),z=r(50286),L=r(829407),B=r(100745);function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var q="all 0.6s cubic-bezier(0.68, -0.6, 0.32, 1.6)",H={transform:"scale(0)",opacity:"0",transition:q},N={transform:"scale(1)",opacity:"1",transition:q},U={transform:"scale(1.2)",transition:q};function W(e){var t,r,o,a=e.handleClearMode,s=e.scope,c=e.backgroundColorHex,u=e.iconType,d=(0,l.ZP)(),p=(0,z.HG)(),f=(0,_.Hd)(s,p),h=Z((0,n.useState)(!1),2),y=h[0],g=h[1],v=(0,i.JZ)(),m=Z((0,n.useState)(v?N:H),2),b=m[0],x=m[1],j=(0,n.useRef)();if((0,L.Z)(function(){return v?function(){}:(x(N),function(){x(H)})}),y)o="cancel";else if(6===u)o="person";else{if(1!==u)return null;o="shopping-bag"}return(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)(i.xu,{flex:"none",marginEnd:2,marginStart:-3,ref:j,dangerouslySetInlineStyle:{__style:y?U:b},"data-test-id":"mode-icon-wrapper",children:(0,A.jsx)(i.iP,{onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)},onFocus:function(){return g(!0)},onBlur:function(){return g(!1)},onTap:a,rounding:"circle",tapStyle:"compress",children:(0,A.jsx)(i.xu,{padding:3,rounding:"circle",dangerouslySetInlineStyle:{__style:{backgroundColor:null!==(t=c&&c[0])&&void 0!==t?t:void 0}},children:(0,A.jsx)(i.JO,{accessibilityLabel:d._('Search mode icon', 'searchBox.modesIcon.accessibilityLabel', 'Search mode icon in search box'),icon:o,color:"inverse",size:16})})})}),(null===(r=j.current)||void 0===r?void 0:r.style.transform)!==H.transform&&(0,A.jsx)(R.default,{id:"experience-tooltip",anchor:j.current,hasFullWidthButton:!1,placementId:f,experienceIds:[s===_.lw.USERS?504374:504373],showCaret:!0,textAlign:"center",textWeight:"normal"})]})}function G(e){var t=e.handleClearMode,r=e.scope,o=(0,B.A)().searchContext.modeIcon;if(o)return(0,A.jsx)(n.Suspense,{fallback:null,children:(0,A.jsx)(W,{handleClearMode:t,scope:r,backgroundColorHex:o.backgroundColorHex,iconType:o.iconType})})}var X=r(425288),Y=r(505920);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==V(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==V(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===V(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var J={recentSaves:[],recentViews:[]};function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;if("FETCH_COMPLETE"===t.type){var r=t.payload,n=r.options,o=r.resource,i=t.payload.response.resource_response.data;if("ApiResource"===o&&"/v3/users/me/recent/engaged/pin/stories/"===(void 0===n?{}:n).url&&i){var a=i.find(function(e){return"user_recently_viewed_pins"===e.story_type}),s=i.find(function(e){return"user_recently_saved_pins"===e.story_type}),l=(null==a?void 0:a.objects.map(function(e,t){var r=e.description,n=e.id;return{label:r,images:e.images,resultIndex:t,type:"recent_view",url:"/pin/".concat(n)}}))||[],c=(null==s?void 0:s.objects.map(function(e,t){var r=e.description,n=e.id;return{label:r,images:e.images,resultIndex:t,type:"recent_save",url:"/pin/".concat(n)}}))||[];return $($({},e),{},{recentSaves:c,recentViews:l})}}return e}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var et=(0,X.Z)("SearchBox"),er=et.Provider,en=et.useHook;function eo(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(Q,J))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ee(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],a=o[1];(0,Y.Z8)("ApiResource",function(e){a({type:"FETCH_COMPLETE",payload:e})});var s=(0,n.useMemo)(function(){return{state:i}},[i]);return(0,A.jsx)(er,{value:s,children:r})}var ei=r(613316),ea=r(784590),es=r(391143),el=r(794230);function ec(e){var t=e.suggestion,r=e.query,n=e.lastFocusTime,o=void 0===n?0:n,i=e.filterSelectedTerm;if("explorearticle"===t.type){var a,s,l=t.story_category,c=t.query,u=t.referringSource,d=t.id,p=t.storyId;return null!==(a=null===(s=t.action)||void 0===s?void 0:s.url)&&void 0!==a?a:(0,es.Z)({storyCategory:l,query:c,referringSource:u,bubbleId:d,storyId:p})}if("todayarticle"===t.type){var f=t.id,h=t.title;return(0,ei.x)({title:h,id:f,articleType:"today"})}var y={eq:(0,b.Z)(r)};return o&&(y.etslf=String(Date.now()-o)),"inclusive_product_filter_query"===t.type&&i&&(y.filters=i),(0,el.Z)(t.url||"",y)}function eu(e,t){return"SuggestionGroup-Option-".concat(e,"-").concat(t)}var ed=function(e){var t=0;return e.map(function(e){var r,n,o=t;return t+=null!==(r=(null!==(n=e.items)&&void 0!==n?n:[]).length)&&void 0!==r?r:0,o})},ep=function(e,t){if(null!=t){for(var r=ed(e),n=0;n<r.length;n+=1)if(e[n].items.length&&t-r[n]<e[n].items.length)return e[n].items[t-r[n]];return null}},ef=r(228001),eh=r(254469),ey=r(869636),eg=r(349700),ev=r(430323),em=r(388619),eb=r(319915),ex=r(123159);function e_(e){return(e_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==e_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==e_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e_(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ew(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eP(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eP(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var eO=function(e,t){var r=RegExp("\\b"+t+"\\b","i");return e===t||e.match(r)};function eI(e){var t=e.children,r=e.experiences,o=e.placementId,i=e.searchTerm,a=e.suggestions,s=(0,ex.M)().viewExperience,l=ew((0,n.useState)(null),2),c=l[0],u=l[1],d=ew((0,n.useState)(new Set),2),p=d[0],f=d[1],h=(null==r?void 0:r.filter(function(e){var t;return(null===(t=e.display_data)||void 0===t?void 0:t.component_type)===3}).map(function(e){return eS(eS({},e.display_data),{},{id:e.experience_id})}))||[];return(0,n.useEffect)(function(){if(!i||!a){u(null);return}if(!(null==c?void 0:c.search_query_list.find(function(e){return a.some(function(t){return eO(t.label,e)})}))){var e=h.find(function(e){var t;return e.id!==(null==c?void 0:c.id)&&(null===(t=e.search_query_list)||void 0===t?void 0:t.find(function(e){return a.some(function(t){return eO(t.label,e)})}))});if(e){u(e);var t=e.id;p.has(t)||("number"==typeof t&&s(o,t),f(new Set(p).add(t)))}}},[i]),t({searchDelightConfig:c})}var eT=r(947599),eA=r(392370),eC=r(615119),ek=r(940882),eE=r(149230);function eM(e){var t,r=e.suggestions[0],n=(0,eE.Z)({url:null===(t=r[0])||void 0===t?void 0:t.action_button_uri});return(0,A.jsxs)(i.xu,{padding:10,children:[(0,A.jsx)(i.xu,{marginBottom:6,children:(0,A.jsx)("span",{style:{color:"#004b91",fontSize:"28px",WebkitFontSmoothing:"antialiased"},children:r.description})}),(0,A.jsx)(i.Tg,{rel:n?"nofollow":"none",href:r.action_button_uri,rounding:"pill",children:(0,A.jsx)(i.xu,{color:"infoBase",display:"inlineBlock",rounding:"pill",padding:3,children:(0,A.jsx)(i.xv,{color:"inverse",weight:"bold",children:r.action_button_text})})})]})}var eD=r(121151),eR=r(499128),ez=r(343341);function eL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eB(e){var t,r=e.handleReport,o=(0,l.ZP)(),a=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eL(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=a[0],c=a[1],u=(0,ez.F9)().showToast;return(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)(i.hU,{accessibilityLabel:o._('Report', 'Accessibility label for report icon for search term', 'Accessibility label for report icon for search term'),icon:"flag",onClick:function(e){var t=e.event;t.stopPropagation(),t.preventDefault(),c(!0)},size:"xs",iconColor:"gray"}),s&&(0,A.jsx)(eD.ZP,{accessibilityModalLabel:o._('Report search', 'accessible label for report search modal', 'accessible label for report search modal'),heading:o._('Report Search Term', 'Heading for report searchmodal', 'Heading for report searchmodal'),onDismiss:function(){return c(!1)},size:"sm",children:(0,A.jsxs)(i.xu,{children:[(0,A.jsx)(i.xu,{padding:4,children:(0,A.jsx)(i.xv,{children:o._('Flag this search term for review by our Trust and Safety team', 'What will happen when you report a search term', 'What will happen when you report a search term')})}),(0,A.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,A.jsx)(i.xu,{margin:2,children:(0,A.jsx)(i.zx,{fullWidth:!0,onClick:function(){return c(!1)},text:o._('Cancel', 'Text for cancel button when reporting search result', 'Text for cancel button when reporting search result')})}),(0,A.jsx)(i.xu,{margin:2,children:(0,A.jsx)(i.zx,{fullWidth:!0,color:"red",onClick:function(){r(),u(function(e){var t=e.hideToast;return(0,A.jsx)(eR.ZP,{onHide:t,text:o._('Thanks! Your feedback helps keep the Pinterest community safe.', 'Toast after reporting a search term', 'Toast after reporting a search term')})}),c(!1)},text:o._('Report', 'Button label to report search term', 'Button label to report search term')})})]})]})})]})}var eZ=r(865607);function eF(e){var t=e.id,r=e.children,n=e.isHovered,o=e.url,a=e.onClick,s=e.onMouseEnter,l=e.onMouseLeave;return(0,A.jsx)(i.xu,{id:t,color:n?"secondary":"default","data-test-id":"search-suggestion",role:"option","aria-selected":n?"true":"false",children:(0,A.jsx)(i.Tg,{onMouseEnter:s,onMouseLeave:l,href:o,tabIndex:-1,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),t.metaKey||t.ctrlKey||(t.preventDefault(),a())},children:(0,A.jsx)(i.xu,{marginBottom:1,paddingX:5,children:r})})})}function eq(e){var t=e.highlightMatch,r=e.iconName,n=e.imageUrl,o=e.isVerifiedMerchant,a=void 0!==o&&o,s=e.label,c=e.query,u=e.rounding,d=e.searchDelightConfig,p=e.subLabel,f=e.verified,h=void 0!==f&&f,y=(0,l.ZP)();return(0,A.jsx)(i.xu,{display:"flex",paddingY:n?1:0,width:"100%","data-test-id":n||r?"enriched-search-suggestion":"regular-search-suggestion",children:(0,A.jsxs)(i.kC,{gap:{row:2,column:0},alignItems:"center",children:[n?(0,A.jsx)(i.xu,{width:40,height:40,overflow:"hidden",rounding:u&&2===u?2:"circle","data-test-id":"enriched-autocomplete-image",children:(0,A.jsx)(i.Ee,{alt:"",role:"presentation",color:"#efefef",fit:"cover",naturalHeight:40,naturalWidth:40,src:n})}):(0,A.jsx)(i.kC,{justifyContent:"center",alignItems:"center",width:40,height:40,children:(0,A.jsx)(i.xu,{marginTop:1,children:(0,A.jsx)(i.JO,{accessibilityLabel:r?(0,eg.nk)(y._('{{ icon}} icon', 'SearchBox.SearchSuggestion.EnrichedAutocomplete.Icon', 'contextual icon in typeahead (eg shopping tag icon to take users to product search)'),{icon:r}).join():"",color:"default",icon:r||"search",size:12})})}),(0,A.jsxs)(i.kC,{direction:"column",alignItems:"start",justifyContent:"center",gap:{row:0,column:1},children:[(0,A.jsxs)(i.kC,{alignItems:"center",children:[void 0!==t&&t&&c?(0,A.jsx)(eA.Z,{searchDelightConfig:d,query:c,text:s||c}):(0,A.jsx)(i.xv,{weight:"bold",children:s}),(h||a)&&(0,A.jsx)(i.xu,{marginStart:1,children:(0,A.jsx)(eZ.Z,{hasVerifiedIdentity:h,iconOnly:!0,isVerifiedMerchant:a,size:"xs"})})]}),p&&(0,A.jsx)(i.xv,{size:"100",children:p})]})]})})}var eH=r(796668),eN=(0,n.lazy)(function(){return Promise.all([r.e(71827),r.e(90279)]).then(r.bind(r,690279))});function eU(e){var t=e.experiences,r=e.index,o=e.focusedIndex,a=e.onInclusiveProductFilterClick,s=e.onSuggestionClick,c=e.onSuggestionMouseEnter,u=e.onSuggestionMouseLeave,d=e.query,p=e.suggestion,f=(0,l.ZP)(),h=(0,j.Z)(),y="number"==typeof p.identifier_icon_name&&p.identifier_icon_name!==ek.J?(0,ek.Z)(p.identifier_icon_name):void 0,g=function(){(0,eC.Z)({report:p.label.toLowerCase(),query:d.toLowerCase(),suggestions:[p.label],type:0})};return(0,A.jsx)(eI,{experiences:t,placementId:1000315,searchTerm:d,suggestions:[p],children:function(e){var t=e.searchDelightConfig;return(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)(eF,{id:eu(0,r),url:ec({suggestion:p,query:d}),isHovered:o===r,onClick:function(){s(p,r)},onMouseEnter:function(){c(r)},onMouseLeave:function(){u()},children:(0,A.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,A.jsx)(i.xu,{flex:"grow",children:"inclusive_product_filter_query"===p.type?(0,A.jsx)(i.xu,{marginBottom:2,children:(0,A.jsx)(i.xv,{weight:"bold",children:(0,eg.nk)(p.eligibleHairPatternFilters?f._('{{ query }} by hair pattern', 'SearchSuggestion.HairPatternFilterSuggestion', 'Suggested search for a hair pattern filter-eligible query'):f._('{{ query }} by skin tone range', 'SearchSuggestion.SkinToneFilterSuggestion', 'Suggested search for a skin tone filter-eligible query'),{query:(0,A.jsx)(eA.Z,{searchDelightConfig:t,query:d,text:p.label||d})})})}):(0,A.jsx)(eq,{highlightMatch:!0,iconName:y,imageUrl:p.image,label:p.label,query:d,rounding:2,searchDelightConfig:t,subLabel:p.subLabel})}),h.isAuth&&h.isEmployee&&o===r?(0,A.jsx)(i.xu,{flex:"none",children:(0,A.jsx)(eB,{handleReport:g})}):null]})}),"inclusive_product_filter_query"===p.type&&a&&(0,A.jsx)(i.kC,{alignItems:"center",justifyContent:"start",overflow:"hidden",children:p.eligibleHairPatternFilters?(0,A.jsx)(eb.Z,{name:"SafeSuspense_BlendedTypeaheadSuggestion_HairPatternFilters",children:(0,A.jsx)(eT.Z,{children:(0,A.jsx)(i.xu,{display:"flex",marginBottom:-4,overflow:"scrollX",paddingY:2,position:"relative",children:(0,A.jsx)(eN,{eligibleFilters:p.eligibleHairPatternFilters,isUpsell:!0,query:d,onClickApplyFilters:function(e){return a(p,r,e)}})})})}):(0,A.jsx)(eH.Z,{query:d,onClickApplyFilters:function(e){return a(p,r,e)},showHeaderText:!1})})]})}})}var eW=function(e){var t=e.index,r=e.focusedIndex,n=e.onSuggestionClick,o=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,a=e.suggestion;return(0,A.jsx)(eF,{id:eu(0,t),url:a.url,isHovered:r===t,onClick:function(){n(a,t)},onMouseEnter:function(){o(t)},onMouseLeave:function(){i()},children:(0,A.jsx)(eq,{imageUrl:a.image,isVerifiedMerchant:a.is_verified_merchant,label:a.label,rounding:"circle",subLabel:a.subLabel,verified:a.verified})},"".concat(a.type,"-").concat(a.label,"-").concat(a.subLabel||""))};function eG(e){var t=e.focusedIndex,r=e.onSuggestionClick,n=e.onSuggestionMouseEnter,o=e.onSuggestionMouseLeave,a=(0,l.ZP)(),s=0===t;return(0,A.jsx)(i.xu,{"aria-selected":s?"true":"false",id:"syop_cta",role:"option",children:(0,A.jsxs)(i.xu,{paddingX:6,marginTop:3,children:[(0,A.jsx)(i.iz,{}),(0,A.jsx)(i.xu,{marginTop:4,children:(0,A.jsxs)(i.kC,{justifyContent:"between",alignItems:"center",children:[(0,A.jsx)(i.xv,{weight:"bold",lineClamp:2,children:a._('Looking for ideas you saved?', 'searchBox.suggestionsMenu.searchYourPinsCTA', 'Heading for search autocomplete call to action to search your own pins')}),(0,A.jsx)(i.kC.Item,{flex:"none",children:(0,A.jsx)(i.iP,{onTap:r,rounding:"pill",onMouseEnter:function(){n(0)},onMouseLeave:o,children:(0,A.jsx)(i.xu,{rounding:"pill",color:s?"darkWash":"secondary",height:40,paddingX:3,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,A.jsx)(i.xv,{align:"center",weight:"bold",children:a._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})})})})]})})]})})}function eX(e){var t=e.experiences,r=e.suggestion,n=e.index,o=e.focusedIndex,i=e.query,a=e.onSuggestionClick,s=e.onSuggestionMouseEnter,l=e.onSuggestionMouseLeave,c=e.onInclusiveProductFilterClick;switch(r.type){case"autocompleteupsell":return(0,A.jsx)(eM,{suggestions:[r]});case"query":case"enriched_autocomplete":case"inclusive_product_filter_query":return(0,A.jsx)(eU,{experiences:t,index:n,focusedIndex:o,onInclusiveProductFilterClick:c,onSuggestionClick:a,onSuggestionMouseEnter:s,onSuggestionMouseLeave:l,query:i,suggestion:r});case"user":return(0,A.jsx)(eW,{index:n,focusedIndex:o,onSuggestionClick:a,onSuggestionMouseEnter:s,onSuggestionMouseLeave:l,suggestion:r})}return null}var eY=r(506979),eV=r(858472),eK=r(444445),e$=r(366428),eJ=r(65675),eQ=r(72809);function e0(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e1(e){var t,r,o,a=e.contextLogData,s=e.dominantColor,l=e.handleReport,c=e.height,u=e.id,d=e.image,p=e.isDarkRep,f=void 0!==p&&p,h=e.isHovered,y=e.name,g=e.onMouseEnter,v=e.onMouseLeave,m=e.onTap,b=e.searchBoxRenderStopwatch,x=e.slotIndex,_=e.url,S=e.viewParameter,w=e.viewType,P=e.width,O=(0,e$.Z)({contextLogData:a,impressionType:"Article",loggingId:u,slotIndex:x,viewParameter:S,viewType:w}),I=(0,j.Z)(),T=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return e0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e0(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),C=T[0],k=T[1],E=C||h,M=c||80;!P||P>=200?(r=3,o="300"):P>=150?(r=2,o="200"):(r=2,o="100");var D=function(){g?g():k(!0)},R=function(){v?v():k(!1)};return(0,A.jsx)(i.xu,{height:M,ref:O,width:P||"100%",children:(0,A.jsx)(i.zd,{wash:!f,rounding:4,children:(0,A.jsx)(i.xu,{dangerouslySetInlineStyle:f?{__style:{backgroundColor:E?eV.wA:eV.KK}}:{__style:E?eJ.A.lightHoverOverlay:{}},children:(0,A.jsx)(i.st,{children:(0,A.jsxs)(i.Tg,{href:_,onBlur:R,onFocus:D,onMouseEnter:D,onMouseLeave:R,onTap:m,rounding:4,children:[(0,A.jsxs)(i.kC,{direction:"row",children:[(0,A.jsx)(i.zd,{height:M,wash:!0,width:M,children:(0,A.jsx)(i.Ee,{alt:"",color:s,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:function(){null==b||b.stop()},role:"presentation",src:d})}),(0,A.jsx)(i.xu,{alignItems:"center",display:"flex",maxHeight:M,maxWidth:P?P-M:eK.yF-80,padding:4,children:(0,A.jsx)(i.xv,{color:f?"light":void 0,lineClamp:r,size:o,weight:"bold",children:y})})]}),l&&I.isAuth&&I.isEmployee?(0,A.jsx)(i.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,A.jsx)(eQ.Z,{handleReport:l,imgSignature:d,isVisible:null!=E&&E})}):null]})})})})})}var e2=r(81636),e8=r(186656),e3=r(248327),e6=r(356997),e9=r(66699),e4=r(784641),e5=r(861411);function e7(e){var t,r,o=e.bubble,a=e.height,s=e.isHovered,l=e.onClick,c=e.onMouseDown,u=e.onMouseEnter,d=e.onMouseLeave,p=e.searchBoxRenderStopwatch,f=e.showFlag,h=e.slotIndex,y=e.storyId,g=e.storyType,v=e.viewParameter,m=e.viewType,b=e.width,x=(0,j.Z)(),_=o.id,S=o.title,w=o.image_urls,P=o.article_creator_user,O=function(){(0,eC.Z)({query:"",report:S,suggestions:[S],type:I.SEARCH_TRENDING_TEXT})},T=w&&w.length>0?{url:w[0]}:void 0,C=(0,e9.Z)(S||"",{});if(!o.title||!o.id)return null;var k=(0,e4.T7)(null!==(t=o.feed_source)&&void 0!==t?t:0,null!==(r=o.is_product_pin_feed)&&void 0!==r&&r,o.title,o.id);return(0,A.jsx)(e5.Y4,{auxData:{grid_index:h.toString(),today_article_id:_,story_type:g,story_id:y},loggingId:_,objectIdStr:_,slotIndex:h,viewParameter:v||3467,viewType:m,children:function(e){var t=e.impressionTrackerRef;return(0,A.jsx)(eJ.Z,{backgroundColor:"gray",coverImage:T,disableTabIndex:!0,height:a,id:_,isHovered:s,onClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,ref:t,searchBoxRenderStopwatch:p,url:k,width:b,children:function(e){var r,o=e.isHovered;return(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)(i.xu,{alignItems:"end",display:"flex",height:a,justifyContent:"center",padding:3,position:"absolute",top:!0,width:b||"100%",ref:t,children:(0,A.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[a>200?(0,A.jsx)(i.X6,{size:"500",align:"center",color:"light",children:C}):(0,A.jsx)(i.xv,{align:"center",color:"light",weight:"bold",children:C}),P&&P.image_small_url&&P.full_name&&(0,A.jsxs)(i.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,A.jsx)(i.xu,{marginEnd:2,children:(0,A.jsx)(e6.qE,{outline:!0,size:"xs",src:P.image_small_url,name:P.full_name})}),(0,A.jsx)(i.xv,{size:"100",color:"light",children:P.full_name})]})]})}),x.isAuth&&x.isEmployee&&f&&(0,A.jsx)(i.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,A.jsx)(eQ.Z,{handleReport:O,imgSignature:null!==(r=null==T?void 0:T.url)&&void 0!==r?r:"",isVisible:o})})]})}})}})}function te(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,o)}var tt=function(e){var t=e.handleRemove,r=e.id,n=e.isHovered,o=e.label,a=e.onClick,s=e.onMouseEnter,l=e.onMouseLeave,c=e.removeA11yText,u=e.url;return(0,A.jsx)(i.xu,{"aria-selected":n?"true":"false","data-test-id":"search-suggestion",id:r,marginBottom:2,marginEnd:2,role:"option",children:(0,A.jsx)(i.Tg,{accessibilityLabel:o,href:u,onMouseEnter:s,onMouseLeave:l,onTap:function(e){var t=e.event,r=e.dangerouslyDisableOnNavigation;t.metaKey||t.ctrlKey||(r(),t.preventDefault(),a())},rounding:"pill",children:(0,A.jsxs)(i.xu,{alignItems:"center",color:n?"darkWash":"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:3,paddingY:1,position:"relative",rounding:"pill",children:[(0,A.jsx)(i.xv,{align:"center",children:o}),(0,A.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},"data-test-id":"clear-recent-queries",marginStart:2,children:(0,A.jsx)(i.hU,{accessibilityLabel:null!=c?c:"",icon:"cancel",iconColor:"darkGray",onClick:function(e){var r=e.event;r.stopPropagation(),r.preventDefault(),null==t||t(o)},size:"xs"})})]})})})},tr=function(e){var t,r,o,a,s,c,u=e.id,d=e.isHovered,p=e.onClick,f=e.onMouseEnter,h=e.onMouseLeave,y=e.showSeeMoreOverlay,g=e.suggestion,v=e.trackClick,m=e.url,b=(0,l.ZP)();return(0,A.jsx)(i.xu,{"aria-selected":d?"true":"false","data-test-id":"search-suggestion",id:u,marginBottom:2,paddingX:1,role:"option",children:(0,A.jsx)(i.Tg,{onMouseEnter:f,onMouseLeave:h,href:m||g.url,rounding:3,tabIndex:-1,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),v(),t.metaKey||t.ctrlKey||m||(t.preventDefault(),p())},children:(0,A.jsxs)(i.zd,{height:116,rounding:3,wash:d,width:90,children:[(0,A.jsx)(i.Ee,{alt:g.label,fit:"cover",naturalHeight:null!==(t=null===(r=g.images["236x"])||void 0===r?void 0:r.height)&&void 0!==t?t:1,naturalWidth:null!==(o=null===(a=g.images["236x"])||void 0===a?void 0:a.width)&&void 0!==o?o:1,src:null!==(s=null===(c=g.images["236x"])||void 0===c?void 0:c.url)&&void 0!==s?s:""}),y&&(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)(i.xu,{dangerouslySetInlineStyle:O,height:116,left:!0,position:"absolute",top:!0,width:90}),(0,A.jsx)(i.xu,{alignItems:"center",display:"flex",height:116,justifyContent:"center",padding:3,position:"absolute",top:!0,width:90,children:(0,A.jsx)(i.xv,{align:"center",color:"inverse",weight:"bold",children:b._('See More', 'searchBox.suggestionGroups.recentPinRep.seeMoreText', 'Text inviting users to see more of the same type of Pins')})})]})]})})})},tn=function(e){var t=e.componentType,r=e.focusedIndex,n=e.groupIndex,o=e.keyPrefix,a=e.onSuggestionClick,l=e.onSuggestionMouseEnter,c=e.onSuggestionMouseLeave,u=e.seeMoreUrl,d=e.suggestions,p=e.title,f=(0,s.v)().logContextEvent;return(0,A.jsxs)(i.kC,{direction:"column",gap:4,children:[(0,A.jsx)(i.kC,{width:"100%",children:(0,A.jsx)(to,{title:p})}),(0,A.jsx)(i.xu,{display:"flex",wrap:!0,width:"100%",paddingX:8,children:d.map(function(e,i){var s=6===i&&7===d.length;return(0,A.jsx)(tr,{id:eu(n,i),isHovered:r===i,onClick:function(){a(e,i)},onMouseEnter:function(){l(i)},onMouseLeave:function(){c()},showSeeMoreOverlay:s,suggestion:e,trackClick:function(){f({event_type:101,component:t,element:s?179:12374,view_type:2,view_parameter:103})},url:s?u:e.url},"".concat(o,"-").concat(i))})})]})},to=function(e){var t=e.title;return(0,A.jsx)(i.xu,{alignItems:"center",display:"flex",marginStart:8,children:(0,A.jsx)(i.xv,{lineClamp:1,weight:"bold",children:t})})};function ti(e){var t=e.focusedIndex,r=e.groupIndex,n=e.onSuggestionClick,o=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,a=e.suggestions,s=(0,l.ZP)();return(0,e2.Q)({component:13844,view_parameter:103,view_type:2}),(0,A.jsx)(tn,{componentType:13844,focusedIndex:t,groupIndex:r,keyPrefix:"recent_save",onSuggestionClick:n,onSuggestionMouseEnter:o,onSuggestionMouseLeave:i,seeMoreUrl:"/me/pins/",suggestions:a,title:s._('Recently saved', 'searchBox.recentSavedSuggestions.heading', 'Recently saved Pins heading in search autocomplete')})}function ta(e){var t,r,n=e.containerWidth,o=e.focusedIndex,a=e.groupIndex,s=e.onSuggestionClick,c=e.onSuggestionMouseEnter,u=e.onSuggestionMouseLeave,d=e.suggestions,p=(0,l.ZP)(),f=(0,eY.useDispatch)(),h=(t=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,e8.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:t}});case 2:f((0,e3.U)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins"}}));case 3:case"end":return e.stop()}},e)}),r=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){te(i,n,o,a,s,"next",e)}function s(e){te(i,n,o,a,s,"throw",e)}a(void 0)})},function(e){return r.apply(this,arguments)}),y=p._('Remove', 'Remove recent search in search typeahead suggestion', 'Remove recent search in search typeahead suggestion'),g=function(e){var t=e.pillLabels,r=e.maxWidth,n=t.length;if(!r)return n;for(var o=0,i=0;i<t.length;i+=1){var a=7.5*t[i].length+40+24;if(a+o<r)o+=a;else{n=i;break}}return n}({pillLabels:d.map(function(e){return e.label}),maxWidth:n});return(0,A.jsxs)(i.kC,{direction:"column",gap:4,children:[(0,A.jsx)(to,{title:p._('Recent searches', 'Recent searches heading in search autocomplete', 'Recent searches heading in search autocomplete')}),(0,A.jsx)(i.xu,{display:"flex",overflow:"hidden",paddingX:8,position:"relative",children:d.slice(0,g).map(function(e,t){return(0,A.jsx)(i.xu,{"data-test-id":"recent-query",children:(0,A.jsx)(tt,{handleRemove:h,id:eu(a,t),isHovered:o===t,label:e.label,onClick:function(){s(e,t)},onMouseEnter:function(){c(t)},onMouseLeave:function(){u()},removeA11yText:y,url:ec({suggestion:e,query:""})})},"".concat(e.type,"-").concat(e.label))})})]})}function ts(e){var t=e.focusedIndex,r=e.groupIndex,n=e.onSuggestionClick,o=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,a=e.suggestions,s=(0,l.ZP)();return(0,e2.Q)({component:13843,view_parameter:103,view_type:2}),(0,A.jsx)(tn,{componentType:13843,focusedIndex:t,groupIndex:r,keyPrefix:"recent_view",onSuggestionClick:n,onSuggestionMouseEnter:o,onSuggestionMouseLeave:i,seeMoreUrl:"/recently-viewed/",suggestions:a,title:s._('Recently viewed', 'searchBox.recentSavedSuggestions.heading', 'Recently viewed Pins heading in search autocomplete')})}function tl(e){var t=e.groupIndex,r=e.focusedIndex,n=e.onSuggestionClick,o=e.onSuggestionMouseEnter,a=e.onSuggestionMouseLeave,s=e.searchBoxRenderStopwatch,l=e.suggestions,c=l.id,u=l.items,d=l.story_type,p=l.title.format,f=u.map(function(e){return e.type+":"+e.id}).join("|"),h=(0,e$.Z)({viewType:2,componentType:200,viewParameter:3467,loggingId:c,objectIdStr:c,contextLogData:{content_ids:f,story_id:c,story_type:d},impressionType:"Story",slotIndex:t});return(0,A.jsxs)(i.kC,{direction:"column",gap:4,children:[(0,A.jsx)(to,{title:p}),(0,A.jsx)(i.xu,{display:"flex",marginBottom:5,paddingX:8,ref:h,wrap:!0,children:u.slice(0,8).map(function(e,l){var u=r===l;return(0,A.jsx)(i.xu,{"aria-selected":u?"true":"false","data-test-id":"search-suggestion-today-bubble",id:eu(t,l),marginBottom:2,paddingX:1,role:"option",children:(0,A.jsx)(e7,{bubble:e,height:192,isHovered:u,onClick:function(){n(e,l)},onMouseEnter:function(){o(l)},onMouseLeave:function(){a()},searchBoxRenderStopwatch:s,slotIndex:l,storyId:c,storyType:d,viewParameter:3467,viewType:2,width:192})},"story".concat("--",t,"-").concat(l))})})]})}function tc(e){for(var t=e.containerWidth,r=e.focusedIndex,n=e.groupIndex,o=e.onSuggestionClick,a=e.onSuggestionMouseEnter,l=e.onSuggestionMouseLeave,c=e.searchBoxRenderStopwatch,u=e.suggestions,d=(0,s.v)().logContextEvent,p=u.id,f=u.items,h=u.story_type,y=u.title.format,g=f.map(function(e){return e.type+":"+e.id}).join("|"),v=(0,e$.Z)({componentType:200,contextLogData:{content_ids:g,story_id:p,story_type:h},impressionType:"Story",loggingId:p,slotIndex:n,viewParameter:3467,viewType:2}),m=function(e){return 64+8*e},b=3,x=(t-m(3))/b;x>1.5*eK.yF;)b+=1,x=(t-m(b))/b;var _=x/2.6;return(0,A.jsxs)(i.kC,{direction:"column",gap:4,children:[(0,A.jsx)(to,{title:y}),(0,A.jsx)(i.xu,{display:"flex",paddingX:8,ref:v,direction:"row",wrap:!0,children:"shopping_spotlight"===h?f.map(function(e,t){return(0,A.jsx)(e7,{bubble:e,height:192,onClick:function(){d({component:200,event_type:101,view_parameter:3467,view_type:2,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_type:h}})},onMouseDown:function(e){return e.event.preventDefault()},slotIndex:t,viewParameter:3467,viewType:2,width:192},"ss-bubble-".concat(t))}):f.map(function(e,t){var s,u,d=r===t,y=e.aux_fields,v=e.cover_images,m=e.dominant_colors,b=e.id,j=e.query,S=e.story_category,w=e.title.format;return(0,A.jsx)(i.xu,{"aria-selected":d?"true":"false","data-test-id":"search-suggestion",id:eu(n,t),marginBottom:2,marginEnd:2,role:"option",children:(0,A.jsx)(e1,{contextLogData:{story_type:h,content_ids:g,grid_index:t,story_id:p},dominantColor:m?m[0]:"",handleReport:function(){(0,eC.Z)({query:"",report:j,suggestions:f.map(function(e){return e.query}),type:2===e.story_category?I.SEARCH_TRENDING_TEXT:I.SEARCH_IDEAS_FOR_YOU})},height:_,id:b,image:v&&v[0]&&((null===(s=v[0]["236x"])||void 0===s?void 0:s.url)||(null===(u=v[0]["474x"])||void 0===u?void 0:u.url))||"",isHovered:d,name:w,onTap:function(){o(e,t)},onMouseEnter:function(){a(t)},onMouseLeave:function(){l()},searchBoxRenderStopwatch:c,slotIndex:t,url:(0,es.Z)({query:w,referringSource:2===S?"trending":"autocomplete_bubble",bubbleId:null!=b?b:"",storyId:p,pinId:null==y?void 0:y.image_pin_id}),viewParameter:3467,viewType:2,width:x})},"story-".concat(null!=S?S:"","-").concat(n,"-").concat(b))})})]})}function tu(e){return(tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function td(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var tf={searchSuggestionsContainer:{boxSizing:"content-box",overflowY:"scroll",width:"calc(100% + 17px)"}};function th(e){var t=e.focusIndex,r=e.maxHeight,o=e.onInclusiveProductFilterClick,a=e.onMouseEnter,s=e.onMouseLeave,c=e.onSuggestionClick,u=e.onSuggestionHovered,d=e.onSyopCtaClick,p=e.query,f=e.searchBoxHeight,h=e.searchBoxRenderStopwatch,y=e.showSyopHeading,g=e.suggestionGroups,m=e.width,b=(0,n.useRef)(),x=(0,l.ZP)(),_=(0,ey.Z)(1000315).experiencesMulti;function j(){u(void 0)}return(0,A.jsx)(ev.Z,{view:2,viewParameter:103,children:g.length>0?(0,A.jsx)(i.xu,{role:"listbox",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",top:f}},overflow:"hidden",position:"absolute",width:m||"100%",id:"SuggestionsMenu",children:(0,A.jsx)("div",{"data-test-id":"typeaheadResults",onMouseEnter:a,onMouseLeave:s,style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?td(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==tu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tu(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tu(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):td(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({maxHeight:r},tf.searchSuggestionsContainer),children:(0,A.jsxs)(i.xu,{color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",paddingBottom:"24px",paddingTop:"32px"}},overflow:"hidden",ref:b,width:"100%",children:[y&&(0,A.jsx)(i.xu,{marginTop:4,marginStart:8,marginBottom:4,children:(0,A.jsx)(i.X6,{size:"500",children:p.length>0?(0,eg.nk)(x._('Search your Pins for {{ query }}', 'searchBox.suggestionsMenu.searchYourPinsForQueryText', 'Heading for search autocomplete when searching your own Pins for specific query'),{query:p}):x._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})}),g.map(function(e,r){var n,a,s,l;return e.items.length?(0,A.jsx)(i.kC,{direction:"column",gap:10,children:(0,A.jsx)(i.xu,{children:function(e,r,n){var i=ed(g),a=null==t?void 0:t-i[r],s=function(e){u(ed(g)[r]+e)};switch(e.type){case"recent_query":return(0,A.jsx)(ta,{containerWidth:n,focusedIndex:a,groupIndex:r,onSuggestionClick:c,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j,suggestions:e.items});case"recent_save":return(0,A.jsx)(ti,{focusedIndex:a,groupIndex:r,onSuggestionClick:c,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j,suggestions:e.items});case"recent_view":return(0,A.jsx)(ts,{focusedIndex:a,groupIndex:r,onSuggestionClick:c,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j,suggestions:e.items});case"story":return"shopping_spotlight"===e.story_type?(0,A.jsx)(tl,{containerWidth:n,focusedIndex:a,groupIndex:r,onSuggestionClick:c,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j,searchBoxRenderStopwatch:h,suggestions:e}):(0,A.jsx)(tc,{containerWidth:n,focusedIndex:a,groupIndex:r,onSuggestionClick:c,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j,searchBoxRenderStopwatch:h,suggestions:e});case"blended_autocomplete":return(function(e){var t,r=e.slice(),n=r[0],o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return tp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tp(e,t)}}(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(r);try{for(o.s();!(t=o.n()).done;){var i=t.value;if(null!==(a=i.modified_filter_eligibility)&&void 0!==a&&a.hair_pattern||null!==(s=i.modified_filter_eligibility)&&void 0!==s&&s.skin_tone){var a,s,l,c,u,d=(null===(l=i.modified_filter_eligibility.hair_pattern)||void 0===l?void 0:l.base_query)||(null===(c=i.modified_filter_eligibility.skin_tone)||void 0===c?void 0:c.base_query)||"",p=null===(u=i.modified_filter_eligibility.hair_pattern)||void 0===u?void 0:u.eligible_filters,f=(0,em.Z)({url:i.url}).rs,h={query:d,rs:f},y=(0,v.Z)(h),g="enriched_autocomplete"===n.type&&n.image?1:0,m={eligibleHairPatternFilters:p,label:d,query:d,resultIndex:g,type:"inclusive_product_filter_query",url:y};r.splice(g,0,m),n=r[0];break}}}catch(e){o.e(e)}finally{o.f()}return r})(e.items).map(function(e,t){return(0,A.jsx)(eX,{experiences:_,focusedIndex:a,index:t,onInclusiveProductFilterClick:o,onSuggestionClick:c,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j,query:p,suggestion:e},"search-suggestion-".concat(e.label||"","-").concat(e.query||"","-").concat(e.type,"-").concat(e.url||"","-").concat(e.image||""))});case"syop_cta":return(0,A.jsx)(eG,{focusedIndex:a,index:0,onSuggestionClick:d,onSuggestionMouseEnter:s,onSuggestionMouseLeave:j})}return null}(e,r,null!==(s=null===(l=b.current)||void 0===l?void 0:l.getBoundingClientRect().width)&&void 0!==s?s:0)},"".concat(p,"-").concat(e.type,"-").concat(null!==(n=null===(a=e.title)||void 0===a?void 0:a.format)&&void 0!==n?n:""))}):null})]})})}):(0,A.jsx)(i.xu,{})})}function ty(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tg(e){var t,r,o,i,a,s,l,c,u,d=e.focusIndex,p=e.maxHeight,f=e.onInclusiveProductFilterClick,y=e.onMouseEnter,g=e.onMouseLeave,v=e.onSuggestionClick,m=e.onSuggestionGroupsUpdate,b=e.onSuggestionHovered,x=e.onSyopCtaClick,S=e.query,w=e.scope,P=e.searchBoxHeight,O=e.suggestionGroups,I=e.width,T=h(),C=(0,j.Z)(),k=C.isAuth&&w===_.lw.PINS_MINE;(0,L.Z)(function(){k||null==T||T.start()});var E=(0,ea.Z)({name:"SearchTabResource"}).data,M=en().state,D=M.recentSaves,R=M.recentViews,z=(t=(0,j.Z)(),o=(r=(0,ea.Z)(t.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:_.lw.PINS},noCache:!0}:null)).isLoaded,i=r.data,(0,n.useMemo)(function(){var e=[];return o&&i&&(e=({newRecentQueries:i.items}).newRecentQueries.slice(0,5).map(function(e,t){var r=e.label,n=e.query,o=e.url;return{label:r,query:n,resultIndex:t,type:e.type,url:o}})),e},[o,i])),B=(s=(a={query:S,scope:w}).query,l=a.scope,c=(0,j.Z)(),u=(0,eh.Z)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:l},value:s}),(0,n.useMemo)(function(){if(c.isAuth)return[{items:u||[],type:"blended_autocomplete"}];var e=(0,ef.Z)(u||[],function(e){return e.type});return[{items:["query","user"].flatMap(function(t){return e[t]}).filter(function(e){return!!e}),type:"blended_autocomplete"}]},[u,c]));return(0,n.useEffect)(function(){var e,t,r=C.isAuth?B.concat({items:[{type:"syop_cta",label:"",query:"",resultIndex:0,url:""}],type:"syop_cta"}):B,n=E||[],o=C.isAuth?n.filter(function(e){return"shopping_spotlight"!==e.story_type}):n;m(k?[{items:z,type:"recent_query"},{items:R,type:"recent_view"},{items:D,type:"recent_save"}]:S.length?r:[{items:z,type:"recent_query"}].concat(function(e){if(Array.isArray(e))return ty(e)}(e=o||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ty(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ty(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},[B,k,m,S,E,z,D,R,w,C]),(0,A.jsx)(th,{focusIndex:d,maxHeight:p,onInclusiveProductFilterClick:f,onMouseEnter:y,onMouseLeave:g,onSuggestionClick:v,onSuggestionHovered:b,onSyopCtaClick:x,query:S,searchBoxHeight:P,searchBoxRenderStopwatch:T,showSyopHeading:k,suggestionGroups:O,width:I})}function tv(e){return(tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tm(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==tv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tv(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tv(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tm(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return t_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t_(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tj(e){var t,r,p,h,O,I,T,C,k,E=e.handleIconOnlyChange,M=e.iconOnly,R=void 0!==M&&M,z=e.isPartner,B=void 0!==z&&z,Z=e.widthType,F=void 0===Z?"md":Z,q=(0,s.v)().logContextEvent,H=(0,j.Z)(),N=(0,l.ZP)(),U=(0,o.useHistory)(),W=(0,y.B)().isRTL,X=(0,o.useLocation)(),Y=(0,d.En)(X);t=(0,j.Z)(),r=(0,y.B)().isBot,p=t.isAuth,h=t.isLimitedLogin,O=p&&!h,(0,ea.Z)(p?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:_.lw.PINS},noCache:!0}:null),(0,ea.Z)(r?null:{name:"SearchTabResource"}),(0,ea.Z)(O?{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:P.join(","),pin_preview_count:7}}}:null);var V=(0,m.Z)(X),K=V.query,$=V.scope,J=V.rs,Q=a.t.includes(J)?"":K,ee=null!=Q?Q:"",et=tx((0,n.useState)(ee),2),er=et[0],en=et[1],eo=tx((0,n.useState)(),2),ei=eo[0],es=eo[1],el=ei&&ei.query?ei.query:er,ef=(I=(0,o.useLocation)(),C=(T=(0,j.Z)()).isAuth&&I.pathname.startsWith("/".concat(T.username,"/")),k=T.isAuth&&I.pathname.startsWith("/recently-viewed"),C||k),eh=null!=$?$:_.lw.PINS;ef&&(eh=_.lw.PINS_MINE),eh===_.lw.PINS_BUYABLE&&(eh=_.lw.PINS);var ey=tx((0,n.useState)(eh),2),eg=ey[0],ev=ey[1],em=H.isAuth&&eg===_.lw.PINS_MINE,eb=tx((0,n.useState)([]),2),ex=eb[0],e_=eb[1],ej=tx((0,n.useState)(),2),eS=ej[0],ew=ej[1],eP=tx((0,n.useState)(!1),2),eO=eP[0],eI=eP[1],eT=tx((0,n.useState)(!1),2),eA=eT[0],eC=eT[1],ek=tx((0,n.useState)(!1),2),eE=ek[0],eM=ek[1],eD=tx((0,n.useState)(!1),2),eR=eD[0],ez=eD[1],eL=tx((0,n.useState)(!1),2),eB=eL[0],eZ=eL[1],eF=tx((0,n.useState)(0),2),eq=eF[0],eH=eF[1];function eN(){ew(void 0),es(void 0)}var eU=eA||eR,eW=(0,S.I)(),eG=eW.setAppFocusState,eX=eW.toggleTypeaheadOverlay,eY=tx((0,n.useState)(R),2),eV=eY[0],eK=eY[1];(0,n.useEffect)(function(){eK(R)},[R]);var e$=tx((0,n.useState)(!1),2),eJ=e$[0],eQ=e$[1],e0=tx((0,n.useState)(),2),e1=e0[0];!function(e){var t=e.setShouldHideGhostText,r=e.setSuggestionsMaxHeight;function n(){var e;t(360>=((null===(e=document.getElementById("searchBoxContainer"))||void 0===e?void 0:e.offsetWidth)||0)),r(window.innerHeight-14-76)}(0,L.Z)(function(){return window.addEventListener("resize",n),n(),function(){window.removeEventListener("resize",n)}})}({setShouldHideGhostText:eQ,setSuggestionsMaxHeight:e0[1]});var e2=H.isAuth&&"shrink"!==F&&(ee||ef),e8="auto".includes(F)?"8px":0;e2&&(e8="4px");var e3=tx(function(e){var t=e.shouldHideGhostText,r=e.isSyop,n=e.inputFocused,o=(0,l.ZP)(),i=(0,j.Z)().isAuth,a=(0,ea.Z)(i?{name:"ApiResource",options:{url:"/v3/search/ghost_queries/",data:{}}}:null),s=i?o._('Search', 'searchBox.placeholder.defaultText', 'default placeholder text for search box'):o._('Search for easy dinners, fashion, etc.', ' - ', ' -- '),c="";if(!t&&a.isLoaded&&a.data&&a.data.length>0){var u=a.data[0].text;c=a.data[0].query,s=u}return r&&(s=n?o._('Try a title or description', 'searchBox.placeholder.searchYourOwnPinsFocusedText', 'default placeholder text for input focused search box when searching Your Pins'):o._('Search your Pins', 'searchBox.placeholder.searchYourOwnPinsText', 'default placeholder text for search box when searching Your Pins')),[s,c]}({shouldHideGhostText:eJ,isSyop:em,inputFocused:eA}),2),e6=e3[0],e9=e3[1],e4=(0,n.useRef)();function e5(){var e=(0,b.Z)(er);if(e.length){var t=(0,v.Z)({query:e,rs:x.i.AC,scope:_.lw.PINS_MINE});U.push(t)}}(0,n.useEffect)(function(){e4.current!==eU&&(eU?c.Z.pause():c.Z.resume(),eG(!eU),eU||(eN(),en(ee)),eX(eU),e4.current=eU)},[ee,eU,eG,eX]),(0,n.useEffect)(function(){en(ee),ev(eh),eC(!1),ez(!1)},[ee,eh]);var e7=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=r?97:101,o={};switch(er&&(o.entered_query=er,o.selected_query=e.query||void 0),e.type){case"inclusive_product_filter_query":case"recent_query":case"query":q({event_type:n,view_type:2,view_parameter:103,component:35,element:104,aux_data:tb({autocomplete_type:"inclusive_product_filter_query"===e.type?"query":e.type,result_index:t},o)});var i=ec({suggestion:e,query:er,lastFocusTime:eq});em&&"recent_query"===e.type&&(i=i.replace("pins","my_pins")),U.push(i);break;case"recent_save":U.push(e.url);break;case"enriched_autocomplete":case"board":case"user":q({event_type:n,view_type:2,view_parameter:103,component:35,element:104,aux_data:tb({autocomplete_type:e.type,result_index:t},o)}),U.push(e.url);break;case"explorearticle":26===e.story_category?q({event_type:101,view_type:2,view_parameter:3467,component:13865,aux_data:tb({article_id:e.id,autocomplete_type:"recommended_article",story_id:e.storyId,story_type:"shopping_spotlight"},o)}):q({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:tb({autocomplete_type:2===e.story_category?"trending":"recommended",result_index:t},o)}),r&&U.push(ec({suggestion:e,query:""}));break;case"todayarticle":q({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:tb({article_id:e.id,autocomplete_type:"recommended_article",story_type:"shopping_spotlight"},o)}),r&&U.push(ec({suggestion:e,query:""}));break;case"syop_cta":e5()}eN(),eC(!1),ez(!1)},te=function(){if(el!==ee||eg!==eh){var e=(0,b.Z)(el);if(e.length){var t=(0,v.Z)({query:e,rs:x.i.TYPED,scope:eg});U.push(t)}}};if(eV&&!eA&&!ee&&!eU)return(0,A.jsx)(i.xu,{id:"searchBoxContainer",children:(0,A.jsx)(i.hU,{accessibilityLabel:N._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'accessibility label for search icon only at narrow screen width'),icon:"search",onClick:function(){eC(!0),eK(!1),E&&E(!1),B&&q({event_type:101,element:11809})},size:"lg",iconColor:"gray"})});var tt=function(e){var t,r,n=e.suggestionsFocusIndex,o=ed(e.suggestionGroups);if("number"==typeof n){for(var i=o.length-1;i>=0;i-=1)if(n>=o[i]){t=i,r=n-o[i];break}}return"number"==typeof t&&"number"==typeof r?eu(t,r):""}({suggestionsFocusIndex:eS,suggestionGroups:ex}),tr="shrink"===F?"".concat(80,"vw"):void 0,tn=F&&Object.keys(w).includes(F)&&"shrink"!==F?w[F]:"auto",to=(0,A.jsx)(f,{children:(0,A.jsx)(tg,{focusIndex:eS,maxHeight:e1,onInclusiveProductFilterClick:function(e,t,r){var n={};er&&(n.entered_query=er),q({event_type:101,view_type:2,view_parameter:103,component:35,element:104,aux_data:tb({autocomplete_type:"query",result_index:t},n)});var o=ec({suggestion:e,query:er,lastFocusTime:eq,filterSelectedTerm:r});U.push(o)},onMouseEnter:function(){return ez(!0)},onMouseLeave:function(){return ez(!1)},onSuggestionClick:e7,onSuggestionGroupsUpdate:e_,onSuggestionHovered:function(e){return ew(e)},onSyopCtaClick:e5,query:er,scope:eg,searchBoxHeight:52,suggestionGroups:ex,width:tr})});return(0,A.jsx)(i.xu,{flex:"grow",id:"searchBoxContainer",minWidth:tn,paddingX:2,children:(0,A.jsxs)(i.xu,{color:eE?void 0:"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:eE?"#E1E1E1":void 0}},display:"flex",height:48,rounding:6,children:[(0,A.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:tb({padding:W?"0 16px 0 ".concat(e8):"0 ".concat(e8," 0 16px")},eU?{borderRadius:"24px",boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)"}:{})},display:"flex",flex:"grow",height:"100%",onMouseEnter:function(){eM(!0)},onMouseLeave:function(){eM(!1)},position:"relative",children:[!(el||eA)&&(0,A.jsx)(i.xu,{flex:"none",marginEnd:2,children:(0,A.jsx)(i.JO,{accessibilityLabel:N._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'Search icon in search box'),icon:"search",size:16})}),Y&&(0,A.jsx)(G,{handleClearMode:function(){el===ee?U.push("/search/pins/?q=".concat(ee)):ev(_.lw.PINS)},scope:eg}),(0,A.jsx)(g.Z,{dataTestId:"search-box-input",focusOptionId:tt,isFocused:eU,name:"searchBoxInput",onBlur:function(){eC(!1)},onChange:function(e){en(e),eN()},onFocus:function(){eH(Date.now()),q({event_type:101,component:43,element:227}),eC(!0)},onKeyDown:function(e){switch(e.keyCode){case u.Z.ENTER:var t=ep(ex,eS);eU&&t&&e.preventDefault(),t&&eO?(e7(t,t.resultIndex||0,!0),eI(!1)):te();break;case u.Z.ESCAPE:eU&&e.preventDefault(),e.stopPropagation(),eC(!1),ez(!1);break;case u.Z.UP:eU&&e.preventDefault();var r,n,o,i=tx((n=ex.map(function(e){var t;return null!==(t=e.items.length)&&void 0!==t?t:0}).reduce(function(e,t){return e+t},0),o=ep(ex,r=null==eS?n-1:0===eS?void 0:eS-1),[r,o]),2),a=i[0],s=i[1];ew(a),eI(!0),es(s);break;case u.Z.DOWN:eU&&e.preventDefault();var l,c,d,p=tx((c=ex.map(function(e){var t;return null!==(t=e.items.length)&&void 0!==t?t:0}).reduce(function(e,t){return e+t},0),d=ep(ex,l=null==eS?0:eS===c-1?void 0:eS+1),[l,d]),2),f=p[0],h=p[1];ew(f),eI(!0),es(h);break;case u.Z.TAB:e9&&!er&&eU&&(e.preventDefault(),e.stopPropagation(),en(e9))}},onSearchTrigger:te,placeholder:e6,value:el}),el||B&&e2||eU?(0,A.jsx)(i.xu,{flex:"none",marginStart:3,children:(0,A.jsx)(i.xu,{"data-test-id":"search-cancel",children:(0,A.jsx)(i.hU,{accessibilityLabel:N._('Remove search input', 'searchBox.removeSearchInput.accessibilityLabel', 'Accessibility label to remove the search input'),icon:ee?"cancel":"clear",iconColor:"darkGray",onClick:function(){if(en(""),ev(_.lw.PINS),eN(),H.isAuth&&ee){var e=(0,v.Z)({query:"",rs:x.i.REMOVE});U.push(e)}else B&&E&&E(!0)},size:ee?"sm":"lg"})})}):null,eU&&to]}),e2?(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{background:"#d8d8d8",borderRadius:"1px"}},height:32,margin:"auto",width:2}),(0,A.jsx)(D,{currentlySelectedFilter:eg,currentQuery:ee,handleContentTypeFilterHover:function(){B&&eZ(eB)},handleScopeChange:function(e){ev(e),eC(B&&!er),eN()}})]}):null]})})}function tS(e){return(0,A.jsx)(eo,{children:(0,A.jsx)(tj,tb({},e))})}},100745:function(e,t,r){r.d(t,{A:function(){return c},N:function(){return u}});var n=r(76911),o=r(425288),i=r(515198);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=(0,o.Z)("ModeIcon"),l=s.Provider,c=s.useHook;function u(e){var t,r=e.children,o=e.value,s=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(void 0===o?{modeIcon:null}:o))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],u=s[1],d=(0,n.useMemo)(function(){return{searchContext:c,updateSearchContext:u}},[c,u]);return(0,i.jsx)(l,{value:d,children:r})}},883851:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(908390),o=r(215292),i=r(515198);function a(e){var t=e.colors,r=e.isSelected,a=e.onClick;return(0,i.jsx)(o.q,{children:function(e){var o=e.hovered,s=e.onMouseEnter,l=e.onMouseLeave;return(0,i.jsx)(n.kC,{alignItems:"center",height:64,justifyContent:"start",children:(0,i.jsx)(n.iP,{mouseCursor:"pointer",onMouseEnter:s,onMouseLeave:l,onTap:a,rounding:"pill",children:(0,i.jsx)(n.xu,{alignItems:"center",color:r?"primary":o?"tertiary":void 0,display:"flex",height:64,justifyContent:"center",rounding:"pill",width:92,children:(0,i.jsx)(n.xu,{alignItems:"center",color:"default",display:"flex",height:60,justifyContent:"center",rounding:"pill",width:88,children:(0,i.jsx)(n.xu,{display:"flex",height:56,overflow:"hidden",rounding:"pill",width:84,wrap:!0,children:t.map(function(e,t){return(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:28,width:42},"".concat(e,"-").concat(t))})})})})})})}})}},796668:function(e,t,r){r.d(t,{W:function(){return u},Z:function(){return p}});var n=r(76911),o=r(908390),i=r(407043),a=r(756306),s=r(898781),l=r(883851),c=r(515198),u=[["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],["#DEBAB0","#E0999A","#DDA67C","#D98A64"],["#9A6B52","#A25847","#B37143","#BF6951"],["#683929","#34261F","#64281B","#4F2221"]],d=[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}];function p(e){var t=e.currentlyAppliedFiltersParamTerm,r=e.filterTones,p=e.onClickApplyFilters,f=e.query,h=e.showHeaderText,y=void 0===h||h,g=(0,i.v)().logContextEvent,v=(0,s.ZP)(),m=(0,n.useRef)(null),b=(0,n.useRef)(null),x=function(e){var r,n=t===e?"":e;g({event_type:101,component:47,element:10418,view_type:2,aux_data:{entered_query:f,filter_type:"skin_tone",value:n}}),null===(r=b.current)||void 0===r||r.complete(),p(n)},_=t?v._('Some ideas in this skin tone range', 'SkinToneFilters.copy.termSelected', 'Skin tone filters text'):v._('Pick a skin tone range', 'SkinToneFilters.copy.noTermSelected', 'Skin tone filters text');return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsxs)(o.kC,{alignItems:y?"center":"start",direction:"column",justifyContent:"start",children:[y&&(0,c.jsx)(o.xu,{marginBottom:2,children:(0,c.jsx)(o.xv,{color:"default",overflow:"normal",weight:"bold",children:_})}),(0,c.jsx)(o.xu,{display:"flex",flex:"none",paddingX:1,ref:m,children:(void 0===r?d:r).map(function(e,r){var n=e.term;return(0,c.jsx)(o.xu,{"data-test-id":"skin-tone-option",dangerouslySetInlineStyle:{__style:{padding:"0 2px"}},children:(0,c.jsx)(l.Z,{colors:u[r],isSelected:t===n,onClick:function(){return x(n)}})},n)})})]}),m&&(0,c.jsx)(a.Z,{anchor:m.current,experienceIds:[502978],idealDirection:"right",onExperienceMount:function(e){e.complete&&502978===e.experience_id&&(b.current=e)},placementId:29})]})}},224525:function(e,t,r){function n(e,t){return t?"".concat(e,"?").concat(new URLSearchParams(t).toString()):e}function o(e){return n("/admin/",e)}function i(e){return n("/admin/oauth/logout/",e)}function a(e){return n("/today/",e)}r.d(t,{HF:function(){return o},Kn:function(){return i},tG:function(){return a}})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/37681-ce43fc64347ae0cd.js.map