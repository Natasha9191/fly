"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[60953],{411465:function(e,t,r){r.d(t,{G:function(){return s},Z:function(){return l}});var n=r(76911),o=r(599689),i=r(515198);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a=(0,n.createContext)(!0);function s(e){var t,r=e.children,s=(0,o.useLocation)(),l=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!0))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,c,a=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(l)throw o}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=l[0],u=l[1],f=(0,n.useRef)(s);return(0,n.useEffect)(function(){f.current!==s&&(f.current=s,u(!1))},[s]),(0,i.jsx)(a.Provider,{value:d,children:r})}function l(){return(0,n.useContext)(a)}},497307:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(908390),o=r(898781),i=r(313047),c=r(542554),a=r(734226),s=r(404508),l=r(515198);function d(e){var t=(0,o.ZP)(),r=e.backButtonIcon,d=e.name,u=e.onNextButtonTouch,f=e.onNameChange,_=e.selectedPinIds,h=void 0===_?[]:_,p=e.useRoundedCorners,b=h.length>0?130:64;return(0,l.jsxs)(c.default,{hasFixedHeader:!0,children:[(0,l.jsxs)(i.FixedHeader,{height:b,paddingY:3,useRoundedCorners:p,children:[(0,l.jsxs)(n.kC,{alignItems:"center",justifyContent:"between",children:[(0,l.jsx)(s.Z,{color:"darkGray",icon:r||"cancel",padding:3,size:"sm"}),(0,l.jsx)(n.X6,{accessibilityLevel:1,size:"300",children:t._('Add section', 'for add board section page', 'for add board section page')}),(0,l.jsx)(n.xu,{"data-test-id":"create-section-button",children:(0,l.jsx)(n.zx,{accessibilityLabel:t._('Add', 'boardSectionCreate.Add.Button.Text', 'Add button accessibility label for board section create page'),onClick:u,disabled:""===d.trim(),color:"red",size:"lg",text:t._('Next', 'Next button for board section create page', 'Next button for board section create page')})})]}),h&&(0,l.jsx)(a.Z,{selectedPinIds:h})]}),(0,l.jsx)(n.xu,{"data-test-id":"addSectionName",paddingX:2,paddingY:3,children:(0,l.jsx)(n.nv,{id:"section-name-input",label:t._('Name', 'boardSectionCreate.TextField.Name.Label', 'TextField label to Name on BoardSectionCreate'),onChange:function(e){return f(e.event)},size:"lg",value:d})})]})}},478540:function(e,t,r){r.d(t,{Z:function(){return _}});var n=r(506979),o=r(908390),i=r(898781),c=r(989726),a=r(19121),s=r(290943),l=r(384833),d=r(188170),u=r(515198),f=function(){var e=(0,a.Z)().id;return(0,c.Z)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker",user_id:e}}),(0,n.useSelector)(function(e){return(0,l.Z)(e)||[]})};function _(e){var t=e.excludeBoardId,r=e.onRepinToBoard,n=(0,i.ZP)(),c=f();return c.length>0&&(0,u.jsxs)(o.xu,{children:[(0,u.jsx)(o.xu,{marginTop:3,children:(0,u.jsx)(o.xv,{children:n._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')})}),(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"".concat(s.T,"px")}},paddingY:3,children:c.filter(function(e){return e.id!==t}).map(function(e){return(0,u.jsx)(d.Z,{boardId:e.id,onBoardSelected:function(){return r(e)}},e.id)})})]})}},676802:function(e,t,r){r.d(t,{Wx:function(){return k}});var n=r(76911),o=r(506979),i=r(599689),c=r(908390),a=r(499128),s=r(898781),l=r(313047),d=r(542554),u=r(343341),f=r(290943),_=r(478540),h=r(734226),p=r(63552),b=r(678638),x=r(404508),y=r(568674),g=r(515198);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){B(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function P(e,t,r,n,o,i,c){try{var a=e[i](c),s=a.value}catch(e){r(e);return}a.done?t(s):Promise.resolve(s).then(n,o)}function S(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function c(e){P(i,n,o,c,a,"next",e)}function a(e){P(i,n,o,c,a,"throw",e)}c(void 0)})}}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}function A(e,t){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,r){return(t=O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==v(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function R(e,t,r){return e?r._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.'):t?r._('Saved to section!', ' - ', ' -- '):r._('Saved to board!', ' - ', ' -- ')}function k(e){var t=e.onAddNewSection,r=e.useIconWithBackground,n=(0,s.ZP)();return(0,g.jsx)(l.FixedFooter,{height:r?f.y:f.T,alignCenter:r,children:(0,g.jsx)(p.Z,{onTouch:t,pressState:"none",children:(0,g.jsxs)(c.xu,{display:"flex",alignItems:"center",padding:r?0:1,"data-test-id":"addSectionButton",children:[r?(0,g.jsx)(c.xu,{color:"secondary",rounding:2,dangerouslySetInlineStyle:{__style:{padding:"14px"}},children:(0,g.jsx)(c.JO,{icon:"add",color:"default",size:20,accessibilityLabel:n._('Create board button', 'RepinSection.CreateBoard.Button', 'accessibility label for create board button')})}):(0,g.jsx)(c.JO,{icon:"add-circle",color:"error",size:38,accessibilityLabel:n._('Add section button', ' - ', ' -- ')}),r?(0,g.jsx)(c.xu,{marginStart:2,children:(0,g.jsx)(c.xv,{size:"400",weight:"bold",children:n._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})}):(0,g.jsx)(c.xu,{marginStart:3,children:(0,g.jsx)(c.xv,{weight:"bold",children:n._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})})]})})})}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=z(i);if(t){var n=z(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return I(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return B(I(e=o.call.apply(o,[this].concat(r))),"onRepinToBoard",function(t){t.section_count?e.props.onRepinToBoardWithSections(t):e.props.repinToOtherBoard(t.id,e.props.i18n)}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.boardId,r=e.boardSectionId,n=e.orginalBoardId,o=e.onAddNewSection,i=e.repin,a=e.hideBoardPickerRow,s=e.selectedPinIds,u=e.isCollaborative,f=n===t;return(0,g.jsxs)(d.default,{hasFixedHeader:!0,children:[(0,g.jsxs)(l.FixedHeader,{hasBorder:!0,height:140,children:[(0,g.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,g.jsx)(c.xu,{column:2,children:(0,g.jsx)(x.Z,{})}),(0,g.jsx)(c.xu,{column:8,children:(0,g.jsx)(c.X6,{align:"center",accessibilityLevel:1,size:"300",children:this.props.i18n._('Choose section', 'title for section selection in repin flow', 'title for section selection in repin flow')})}),(0,g.jsx)(c.xu,{column:2})]}),(0,g.jsx)(h.Z,{selectedPinIds:s})]}),t&&(0,g.jsx)(y.Z,{boardId:t,repin:i,originalBoardId:n,hideBoardPickerRow:f&&a,sectionId:r}),f&&(0,g.jsxs)(c.xu,{children:[!u&&(0,g.jsx)(_.Z,{excludeBoardId:t,onRepinToBoard:this.onRepinToBoard}),(0,g.jsx)(k,{onAddNewSection:o})]})]})}}],w(i.prototype,r),n&&w(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.PureComponent);t.ZP=function(e){var t,r,n=e.inSelectAll,c=e.pinIds,l=e.orginalBoardId,d=e.boardSectionId,f=e.onRefreshBoardSection,_=e.url,h=(0,u.F9)().showToast,p=(0,s.ZP)(),x=(0,i.useHistory)(),y=(0,o.useDispatch)(),v=(t=S(regeneratorRuntime.mark(function e(t,r,o){var i,s,u,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r&&r.id,s={boardId:l,sectionId:d},u={boardId:t,sectionId:i},p=n?(0,b.X_)({source:s,target:u,excludePinIds:c}):(0,b.Kw)({source:s,target:u,pinIds:c}),!(l!==t)){e.next=10;break}return e.next=7,y(p);case 7:x.push({pathname:_}),e.next=15;break;case 10:return e.next=12,y(p);case 12:if(!f){e.next=15;break}return e.next=15,f();case 15:h(function(e){var t=e.hideToast;return(0,g.jsx)(a.ZP,{text:R(n,i,o),onHide:t})});case 16:case"end":return e.stop()}},e)})),function(e,r,n){return t.apply(this,arguments)}),m=(r=S(regeneratorRuntime.mark(function e(t,r){var o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={boardId:l,sectionId:d},i={boardId:t,sectionId:void 0},h(function(e){var t=e.hideToast;return(0,g.jsx)(a.ZP,{text:R(n,void 0,r),onHide:t})}),e.next=5,y(n?(0,b.X_)({source:o,target:i,excludePinIds:c}):(0,b.Kw)({source:o,target:i,pinIds:c}));case 5:x.go(-2);case 6:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)});return(0,g.jsx)(Z,j(j({},e),{},{i18n:p,repin:v,repinToOtherBoard:m}))}},290943:function(e,t,r){r.d(t,{T:function(){return n},y:function(){return o}});var n=70,o=80},384833:function(e,t,r){var n=(0,r(904202).P1)(function(e){var t=e.users,r=e.boards,n=t[e.session.userId]||null;return Object.keys(r).reduce(function(e,t){var o,i=r[t];return!i.archived_by_me_at&&((null===(o=i.owner)||void 0===o?void 0:o.id)===n.id||i.collaborating_users&&i.collaborating_users.map(function(e){return e.id}).includes(n.id))&&i.cover_images?e.concat([i]):e},[])},function(e){return e.sort(function(e,t){return e.name.localeCompare(t.name)})});t.Z=n},188170:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(506979),o=r(908390),i=r(898781),c=r(349700),a=r(927383),s=r(618224),l=r(515198);function d(e){var t,r=e.boardId,d=e.onBoardSelected,u=e.noArrowIcon,f=e.showSingleBoardRep,_=(0,i.ZP)(),h=(0,n.useSelector)(function(e){return e.boards})[r],p=h.section_count,b=!!p&&p>0,x=(0,a.Z)(),y=null!==(t=h.name)&&void 0!==t?t:"this board";return(0,l.jsx)(o.iP,{rounding:2,onTap:x({fn:function(){return d(b)}}),accessibilityLabel:(0,c.Wc)("".concat(_._('Select {{ boardName }}', 'board.picker.row.select.board', 'Accessibility label for select board button')),{boardName:y}),tapStyle:"compress",children:(0,l.jsx)(s.Z,{boardId:r,noArrowIcon:u,showSingleBoardRep:f})})}},568674:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(506979),o=r(599689),i=r(908390),c=r(898781),a=r(989726),s=r(130460),l=r(188170),d=r(349700),u=r(63552),f=r(515198);function _(e){var t,r,o=e.onSectionSelected,a=e.sectionId,s=e.showSectionRep,l=(0,n.useSelector)(function(e){return e.boardsections[a]}),_=(0,c.ZP)(),h=l&&(null===(t=l.preview_pins)||void 0===t?void 0:t[0])&&l.preview_pins[0].image_medium_url,p=null!==(r=l.title)&&void 0!==r?r:"";return(0,f.jsx)(u.Z,{rounding:2,onTouch:o,pressState:"none",children:(0,f.jsxs)(i.xu,{"data-test-id":"sectionPickerRow",display:"flex",alignItems:"center",rounding:2,column:12,marginBottom:s?4:0,children:[s&&(0,f.jsx)(i.xu,{height:48,width:51,children:(0,f.jsx)(i.zd,{height:"100%",rounding:2,width:"100%",children:(0,f.jsx)(i.Ee,{alt:(0,d.Wc)(_._('{{ boardSectionName }} thumbnail', 'SectionPickerRow.boardImage.accessibilityLabel.text', 'Additional text explaining board image thumbnail. boardSectionName:Title of the board section for a11y text'),{boardSectionName:p}),color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!=h?h:""})})}),!s&&(0,f.jsx)(i.xu,{column:1,paddingY:2}),(0,f.jsx)(i.xu,{column:11,display:"flex",flex:"grow",justifyContent:"between",paddingY:2,children:s?(0,f.jsx)(i.xu,{overflow:"hidden",width:"100%",marginStart:2,children:(0,f.jsx)(i.xv,{size:"400",lineClamp:1,weight:"bold",children:l.title})}):(0,f.jsx)(i.xu,{marginStart:2,children:(0,f.jsx)(i.xv,{weight:"bold",children:l.title})})})]})})}var h=function(e,t){var r=(0,a.Z)({name:"BoardSectionsRepinResource",options:{board_id:e}}).isFetching,o=(0,n.useSelector)(function(t){return(t.feeds["board-sections:".concat(e)]||[]).reduce(function(e,t){if("boardsection"===t.type){var r={type:"boardsection",id:t.id};e.push(r)}return e},[])}),i=(0,n.useSelector)(function(r){return o.map(function(e){return e.id}).reduce(function(n,o){var i=r.boardsections[null!=o?o:""];return o!==t&&i&&n.push({board:{id:e},id:i.id,title:i.title,type:"boardsection",slug:i.slug}),n},[])});return{isFetching:r,boardSections:o,filteredBoardSections:i}};function p(e){var t=e.boardId,r=e.originalBoardId,n=e.sectionId,a=e.repin,d=e.hideBoardPickerRow,u=e.showSectionRep,p=(0,c.ZP)(),b=h(t,n),x=b.isFetching,y=b.boardSections,g=b.filteredBoardSections,v=(0,o.useHistory)(),m=(0,s.gC)()(r||"");return(0,f.jsxs)(i.xu,{children:[y.length>0&&(0,f.jsxs)(i.xu,{paddingY:u?0:3,children:[u&&(0,f.jsx)(i.xu,{paddingY:2,children:(0,f.jsx)(i.xu,{marginBottom:2,children:(0,f.jsx)(i.xv,{children:p._('Board', 'RepinFlow.SectionPickerList.Board', 'Section picker board title')})})}),!d&&(0,f.jsx)(l.Z,{boardId:t,noArrowIcon:!0,onBoardSelected:function(){return a(t,void 0,p)},showSingleBoardRep:u},t),u&&(0,f.jsx)(i.xu,{paddingY:4,children:(0,f.jsx)(i.xv,{children:p._('Section', 'RepinFlow.SectionPickerList.Section', 'Section picker all sections title')})}),g.map(function(e){var n;return(0,f.jsx)(_,{onSectionSelected:function(){if(a(t,e,p),r){var n;v.push(null!==(n=null==m?void 0:m.url)&&void 0!==n?n:"")}},sectionId:null!==(n=e.id)&&void 0!==n?n:"",showSectionRep:u},e.id)})]}),(0,f.jsx)(i.$j,{accessibilityLabel:p._('Loading board section for repin flow', ' - ', ' -- '),show:x})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/60953-a49908ce532cbdd2.js.map