(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[39333,28543,60953,41548,73740,22312,41007],{612289:function(e){"use strict";var t,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardPickerList_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="c5e34729d91812fdf0f426c5f40a521b",e.exports=r},390687:function(e){"use strict";var t,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardTitleSuggestionList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="69ffcdea57a7778d2ebbcd41c276c0d0",e.exports=r},544599:function(e){"use strict";var t,r,n=(r=[t={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CallToAction_advisoryAction",selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},t],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:r,storageKey:null}],type:"AdvisoryAction",abstractKey:null});n.hash="6ddea2ecd3dff2e1001c1e4d037cc858",e.exports=n},521502:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CallToAction_advisoryAction"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"AdvisoryNotice",abstractKey:null};t.hash="5879c4710b107f258f42156bf3e47e37",e.exports=t},341365:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HyperlinkFormatText_textTag",selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],type:"TextTag",abstractKey:null};t.hash="4970946a36017d9ad0c751fd70cc512c",e.exports=t},833866:function(e){"use strict";var t,r,n,o=(r=[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],n=[t],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LegoNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[t,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:n,storageKey:null}],storageKey:null}],type:"AdvisoryNotice",abstractKey:null});o.hash="53d7eec34666980eda011429185b5b10",e.exports=o},172335:function(e){"use strict";var t,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinAddSection_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="b3ec14d29962e56f80dd52e7e6d7a6d9",e.exports=r},977297:function(e){"use strict";var t,r,n,o,i,a={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"RepinBoardPickerQuery",selections:[{alias:null,args:r=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[o={alias:null,args:null,concreteType:"BoardTitleSuggestions",kind:"LinkedField",name:"boardTitleSuggestions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},i={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"RepinBoardPickerQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},i],storageKey:null}]},params:{id:"912911faa6d93292fbdd97db8c82e6d46db1e11fe517ace49dd4ea04bbbbfa76",metadata:{},name:"RepinBoardPickerQuery",operationKind:"query",text:null}};a.hash="2deee1270776771025d6d29bf4e91acf",e.exports=a,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(a)},893831:function(e){"use strict";var t,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinCreateBoardButton_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[t],storageKey:null}],type:"Pin",abstractKey:null};r.hash="1612c2df94f42990b3d4f6ccede72a70",e.exports=r},592657:function(e){"use strict";var t,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinSectionPicker_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="0588c16f43d378c21df320420e52c9eb",e.exports=r},940875:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SensitiveContentNotice_sensitivity",selections:[{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{args:null,kind:"FragmentSpread",name:"DefaultNotice_advisoryNotice"},{args:null,kind:"FragmentSpread",name:"LegoNotice_advisoryNotice"}],storageKey:null}],type:"Sensitivity",abstractKey:null};t.hash="d12a0ef89312e2429f28a098a2536c8a",e.exports=t},53459:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/repin/x"]=function(){return r(433919).Z}},302667:function(e,t,r){"use strict";r.d(t,{X_:function(){return c},Xo:function(){return f},Xv:function(){return d},fW:function(){return p},h_:function(){return u},vF:function(){return l}});var n=r(67347);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var a=function(e,t){var r="client.partner.quick_promote_button.".concat(e);(0,n.nP)(r,{sampleRate:1,tags:{app_type:"web",location:t}})},c=function(e){e&&e.utm_campaign&&(0,n.nP)("client.partner.account.convert_attempt.utm_campaign.exists",{sampleRate:1,tags:e})},s=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;a({event_type:e,component:t,element:10148,view_type:r,aux_data:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},n)})},l=function(e,t,r,n,o,i){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};a(t,r),s(n,o,i,c,e)},u=function(e){e({event_type:8217})},d=function(){(0,n.nP)("client.partner.biz_nux_v3.nux_start",{sampleRate:1,tags:{app_type:"web"}})},f=function(){(0,n.nP)("client.partner.biz_nux_v3.nux_end",{sampleRate:1,tags:{app_type:"web"}})},p=function(e){var t="client.partner.biz_nux_v3.render.".concat(e);(0,n.nP)(t,{sampleRate:1,tags:{app_type:"web"}})}},382891:function(e,t,r){"use strict";r.d(t,{m:function(){return a}});var n=r(719286),o=r(709622);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a=["female","male","unknown"];t.Z=function(e){var t,r=e.interests,c=e.ages,s=e.genders,l=e.country;return{AGE_BUCKET:c||[],APPTYPE:n.jz,GENDER:s||a,INTEREST:(r||[]).map(function(e){return e.topic_id}),LOCATION:function(e){if(Array.isArray(e))return i(e)}(t=new Set((l||o.UF).split("+")))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},709773:function(e,t,r){"use strict";r.d(t,{Z:function(){return V}});var n=r(76911),o=r(599689),i=r(908390),a=r(302667),c=r(215292),s=r(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var f={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0};function p(e){var t=e.accessibilityLabel,r=e.buttonColor,n=e.buttonText,o=e.handleClick,a=e.icon;return(0,s.jsx)(c.q,{children:function(e){var c=e.active,l=e.focused,u=e.hovered,p=e.onBlur,y=e.onFocus,h=e.onMouseDown,b=e.onMouseEnter,m=e.onMouseLeave,v=e.onMouseUp,g={borderRadius:24};return u&&(g=d(d({},g),{},{backgroundColor:"primary"===r?"rgb(216,0,33)":"rgb(226, 226, 226)"})),c&&(g=d(d({},g),{},{backgroundColor:"primary"===r?"rgb(207,0,31)":"rgb(218, 218, 218)"})),l&&(g=d(d({},g),f)),(0,s.jsx)("button",{"aria-label":t,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none"},onBlur:p,onFocus:y,onMouseDown:h,onMouseEnter:b,onMouseLeave:m,onMouseUp:v,onClick:o,children:(0,s.jsx)(i.xu,{color:r,rounding:2,dangerouslySetInlineStyle:{__style:g},children:(0,s.jsxs)(i.xu,{display:"flex",minHeight:40,dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},children:["share"===a&&(0,s.jsxs)(i.xu,{children:[(0,s.jsx)(i.JO,{accessibilityLabel:"",icon:"share",color:"default",size:18}),(0,s.jsx)(i.xu,{paddingX:3})]}),(0,s.jsx)(i.xv,{align:"center",color:"primary"===r?"light":"default",weight:"bold",children:n})]})})})}})}var y=r(306775),h=r(407043),b=r(898781),m=r(349700),v=r(780280),g=r(784590),_=r(19121),P=r(717615),S=r(231947),j=r(641692),x=r(580189),O=r(850760),w=r(818747);function E(e){var t=e.color,r=e.description,n=e.imageUrl,o=e.link;return(0,s.jsx)(i.xu,{alignItems:"center",justifyContent:"center",padding:2,display:"flex",children:!n&&t&&o?(0,s.jsx)(i.xu,{width:236,children:(0,s.jsx)(w.Z,{color:t,description:r,url:o})}):(0,s.jsx)(i.zd,{rounding:2,width:236,children:(0,s.jsx)("img",{alt:r,src:n})})})}var A=r(616672),T=r(152028);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B(n.key),n)}}function R(e,t){return(R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==I(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===I(t)?t:String(t)}var N={width:"100%"},L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(c,e);var t,r,o,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=D(c);if(t){var n=D(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return k(e)}(this,e)});function c(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c);for(var e,t,r,o,i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return t=k(e=a.call.apply(a,[this].concat(s))),r="videoRef",o=(0,n.createRef)(),(r=B(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,e}return r=[{key:"componentDidMount",value:function(){var e=this.props.video;this.videoRef.current&&(this.videoRef.current.currentTime=e.thumbnail)}},{key:"render",value:function(){var e=this.props.video,t=(0,A.Z)(e.customCoverImg||e,236);return(0,s.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,children:(0,s.jsxs)(i.xu,{height:t,position:"relative",rounding:2,width:236,children:[(0,s.jsx)(i.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:e.customCoverImg?(0,s.jsx)(i.Ee,{alt:e.customCoverImg.name,naturalHeight:e.customCoverImg.height,naturalWidth:e.customCoverImg.width,src:e.customCoverImg.src}):(0,s.jsx)("video",{muted:!0,src:e.src,ref:this.videoRef,style:N,children:(0,s.jsx)("track",{kind:"captions"})})}),(0,s.jsx)(i.xu,{bottom:!0,left:!0,right:!0,top:!0,alignItems:"end",display:"flex",justifyContent:"start",padding:2,position:"absolute",children:(0,s.jsx)(T.Z,{duration:1e3*e.duration})})]})})}}],C(c.prototype,r),o&&C(c,o),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.Component);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=U(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U(n.key),n)}}function U(e){var t=function(e,t){if("object"!==z(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==z(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===z(t)?t:String(t)}function H(e,t){return(H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=G(a);if(t){var n=G(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return r=[{key:"renderPinCreateSuccessImage",value:function(){var e=this.props,t=e.color,r=e.description,n=e.imageUrl,o=e.link,a=e.websiteMedia;return a&&a.length>1?(0,s.jsx)(i.xu,{maxHeight:540,overflow:"scrollY",padding:8,children:(0,s.jsx)(i.Rk,{renderItem:function(e){var t=e.data;return(0,s.jsx)(E,{description:r,imageUrl:t.src})},items:a,minCols:3,columnWidth:160})}):(0,s.jsx)(E,{color:t,description:r,imageUrl:n,link:o})}},{key:"render",value:function(){var e=this.props.relatedBoard;if(!e.isLoaded)return(0,s.jsx)(i.xu,{minHeight:250,children:(0,s.jsx)(i.$j,{accessibilityLabel:this.props.i18n._('See suggested board', 'suggested board to follow after pinnning', 'suggested board to follow after pinnning'),show:!0})});if(e.data&&!e.data.length){var t=this.props.video;return(0,s.jsx)(i.xu,{marginTop:-8,paddingY:8,children:t?(0,s.jsx)(L,{video:t}):this.renderPinCreateSuccessImage()})}return null}}],F(a.prototype,r),n&&F(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.PureComponent);function q(e){var t=(0,b.ZP)(),r=(0,_.Z)(),n=(0,P.Z)(),o=(0,S.lJ)(r,n),i=(0,g.Z)({name:"RelatedBoardForPinRandomFeedResource",options:{page_size:1,pin:e.pinId,orbac_subject_id:o},noCache:!0});return(0,s.jsx)(K,Z(Z({},e),{},{i18n:t,relatedBoard:i}))}var W=r(67347);function V(e){var t=e.boardName,r=e.color,c=e.description,l=e.hideHeader,u=e.imageUrl,d=e.link,f=e.onClose,w=e.openNewTab,E=e.pin,A=e.pinId,T=e.sectionName,I=e.siteType,C=e.video,R=e.websiteMedia,k=(0,b.ZP)(),D=(0,h.v)().logContextEvent,B=(0,o.useHistory)(),N=(0,v.B)(),L=(0,_.Z)(),z=(0,P.Z)(),M=(0,S.lJ)(L,z),Z=(0,g.Z)({name:"PinResource",options:{id:A,field_set_key:"detailed",orbac_subject_id:M}}),F=function(){return E&&E.is_quick_promotable_by_pinner&&3!==I&&(0,y.su)(L)};(0,n.useEffect)(function(){F()?((0,a.vF)(D,j.NH.RENDER,j.Xc.PIN_CREATE_SUCCESS_PINNER,120,207),(0,W.nP)("web.pin_create.success.promote")):(0,W.nP)("web.pin_create.success.send"),(0,W.nP)("web.pin_create.success.default")},[]);var U=(0,x.Z)({currentSiteType:I,destinationSiteType:0,inputPath:"/pin/".concat(A)}),H=T?(0,m.nk)(k._('Saved to {{ sectionName }} in {{ boardName }}', ' - ', ' -- '),{boardName:t,sectionName:T}):(0,m.nk)(k._('Saved to {{ boardName }}', ' - ', ' -- '),{boardName:t}),G=Z.data&&Z.data.link_domain&&Z.data.link_domain.official_user,K=L.isAuth&&G&&G.id!==L.id&&!G.followed_by_me;return(0,s.jsx)(i.xu,{minWidth:500,"data-test-id":"saved-pin-modal",children:(0,s.jsxs)(i.xu,{color:"default",rounding:2,width:"auto",children:[l?null:(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(i.xu,{paddingX:6,paddingY:4,children:(0,s.jsx)(i.X6,{size:"500",children:H})}),(0,s.jsx)(i.iz,{})]}),!!G&&K&&(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(i.xu,{paddingX:6,paddingY:3,children:(0,s.jsx)(O.Z,{user:G})}),(0,s.jsx)(i.iz,{})]}),(0,s.jsx)(q,{color:r,description:void 0===c?"":c,imageUrl:u,link:d,pinId:A,video:C,websiteMedia:R}),(0,s.jsx)(i.iz,{}),(0,s.jsx)(i.xu,{paddingX:6,paddingY:2,children:(0,s.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"end",children:[!F()&&(0,s.jsx)(p,{accessibilityLabel:k._('Send', 'Accessible label for button to send this pin', 'Accessible label for button to send this pin'),handleClick:function(){B.push("/pin/".concat(A,"/?share=true"))},icon:"share",buttonColor:"secondary",buttonText:k._('Send', 'Text for button to send this pin', 'Text for button to send this pin'),tabIndex:0}),(0,s.jsx)(i.xu,{paddingX:1,"data-test-id":"seeItNow",children:(0,s.jsx)(i.ZP,{href:U,target:w?"blank":null,onClick:function(){(0,a.vF)(D,j.NH.DISMISS,j.Xc.PIN_CREATE_SUCCESS_PINNER,123,207),f()},color:L.isAuth&&L.isPartner||E&&F()?"gray":"red",text:k._('See it now', 'pinCreateSuccess.seeItNow', 'Text for button that takes user to see their new Pin')})}),E&&F()&&(0,s.jsx)(i.xu,{paddingX:1,children:(0,s.jsx)(i.zx,{color:"red",text:k._('Promote your Pin', 'Text for button to that takes users to promote a Pin', 'Text for button to that takes users to promote a Pin'),onClick:function(){(0,a.vF)(D,j.NH.CLICK,j.Xc.PIN_CREATE_SUCCESS_PINNER,101,207),(0,y.Pw)({history:B,pinId:A,requestContext:N}),f()}})})]})})]})})}},558068:function(e,t,r){"use strict";r.d(t,{Hv:function(){return h},aX:function(){return v},nK:function(){return g}});var n=r(76911),o=r(599689),i=r(425288),a=r(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p=(0,i.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),y=p.Provider,h=p.useHook,b=function(e){return e&&e.pathname?e.pathname+(e.search||""):""};function m(e,t){var r,n={action:t.type,location:t.location,match:t.match};if(t.location===(null===(r=e.current)||void 0===r?void 0:r.location))return e;switch(t.type){case"POP":if(e.forward.length>0&&b(e.forward[0].location)===b(n.location))return f(f({},e),{},{forward:e.forward.slice(1),current:f(f({},e.forward[0]),{},{action:t.type}),previous:e.current?[].concat(s(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});return f(f({},e),{},{forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match}].concat(s(e.forward)):e.forward,current:f(f({},e.previous.slice(-1)[0]),{},{action:t.type}),previous:e.previous.slice(0,-1)});case"PUSH":return f(f({},e),{},{forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[].concat(s(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});case"REPLACE":return f(f({},e),{},{current:n});default:return e}}function v(){var e=h(),t=e.current,r=e.previous;return(0,n.useMemo)(function(){return t?r.concat(t):r},[t,r])}function g(e){var t,r=e.children,i=(0,o.useHistory)(),c=(0,o.useLocation)(),s=(0,o.useRouteMatch)(),u={forward:[],current:{action:i.action,location:c,match:s},previous:[]},d=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(m,u))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,2)||l(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=d[0],p=d[1];return(0,n.useEffect)(function(){p({type:i.action,location:c,match:s})},[c]),(0,a.jsx)(y,{value:f,children:r})}},55259:function(e,t,r){"use strict";var n=r(619937),o=r(794230);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s={campaignFilter:"all",adGroupFilter:"all",adFilter:"all"},l=function(e){var t={};return e&&(t={objectiveTypes:[e]}),t},u={overview:function(){return"/"},reporting:function(e){var t=e.objectiveType||null;delete e.objectiveType;var r=c(c({},e),l(t));return(0,o.Z)("/reporting/campaigns/",r)},reportingAdGroup:function(e){var t=e.campaignId,r=e.objectiveType,n=e.showAllEntities,i=e.adGroupId,a=e.message,u=c(c(c(c({campaignIds:[t]},n?s:{}),l(r)),i?{adGroupIds:[i]}:{}),{},{message:a});return(0,o.Z)("/reporting/adgroups/",u)},campaign:function(e){var t=e.id,r=e.objectiveType;return(0,o.Z)("/reporting/adgroups/",c({campaignIds:[t]},l(r)))},editCampaign:function(e){return e.isAutomatedCampaign?u.editAutomated({campaignId:e.id,view:"campaign"}):u.editV2({campaignId:e.id,view:"campaign"})},adgroup:function(e){var t=e.id,r=e.objectiveType,n=e.showAllEntities,i=e.pinPromotionId,a=e.campaignId;if("TEMPORARY_SHOPPING"===r||"CATALOG_SALES"===r)return(0,o.Z)("/reporting/productgroups/",c({adGroupIds:[t]},l(r)));var u=n?s:{},d=a?{campaignIds:[a]}:{},f=i?{pinPromotionIds:[i]}:{};return(0,o.Z)("/reporting/ads/",c(c(c(c({adGroupIds:[t]},l(r)),u),f),d))},editAdGroup:function(e){return e.isAutomatedCampaign?u.editAutomated({campaignId:e.id,view:"campaign"}):u.editV2({adGroupId:e.id,view:"adgroup"})},pinPromotion:function(e){var t=e.id,r=e.adFilter,n=r?{adFilter:r}:{};return(0,o.Z)("/reporting/ads/",c({pinPromotionIds:[t]},n))},editPinPromotion:function(e){var t=e.isCreatingPins?{isCreatingPins:!0}:{},r=e.pinPromotionId?{pinPromotionId:e.pinPromotionId}:{};return u.editV2(c(c({adGroupId:e.adGroupId,view:"ad"},r),t))},productGroup:function(e){var t=e.id,r=e.name;return(0,o.Z)("/reporting/productgroups/",{productGroupIds:[t],name:r})},campaigns:function(){return"/reporting/campaigns/"},adgroups:function(){return"/reporting/adgroups/"},ads:function(){return"/reporting/ads/"},bulkEdit:function(e){var t=e.entity_level,r=e.ids;return(0,o.Z)("/ads/bulk_edit/",{entity_level:t,ids:r})},productgroups:function(){return"/reporting/productgroups/"},productitems:function(){return"/reporting/productitems/"},campaignNegativeKeywords:function(){return"/reporting/campaignNegativeKeywords/"},campaignSearchQueries:function(){return"/reporting/campaignSearchQueries/"},adGroupNegativeKeywords:function(){return"/reporting/adGroupNegativeKeywords/"},adGroupPositiveKeywords:function(){return"/reporting/adGroupPositiveKeywords/"},adGroupSearchQueries:function(){return"/reporting/adGroupSearchQueries/"},ad:function(e){return u.pinPromotion(e)},campaignMode:function(e){return(0,o.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0)},create:function(e){var t=e.campaignId,r=e.objectiveType,n=e.partialCreate,i=e.catalogsFeedId,a=e.managedClientId,c=e.productGroupId,s=e.resumeLastDraft,l={};return t&&n&&(l.campaignId=t),r&&(l.objectiveType=r),"CATALOG_SALES"===r&&i&&(l.catalogsFeedId=i),c&&(l.productGroupId=c),a&&(l.managedClientId=a),s&&(l.resumeLastDraft=!0),(0,o.Z)("/ads/create/",l)},createAutomated:function(e){return(0,o.Z)("/automated/ads/create/",e)},editV2:function(e){return(0,o.Z)("/ads/edit/",e)},editAutomated:function(e){return(0,o.Z)("/automated/ads/edit/",e)},editDraftCampaign:function(e){return(0,o.Z)("/ads/edit_draft/",{campaignId:e.campaignId,view:"campaign"})},duplicateCampaign:function(e){return(0,o.Z)("/ads/duplicate/",e)},audiences:function(e){return(0,o.Z)("/audiences/",e.managedClientId?{managedClientId:e.managedClientId}:void 0)},audience_debug:function(){return"/audience_debug/"},prepaid_spend_campaign_breakdown:function(){return"/billing/prepaid_spend_campaign_breakdown/"},billing:function(e){var t=e.page,r=e.subSection,i=e.nextStepUrl;switch(t){case n.kM.BILLING_HISTORY:return"/billing/history/";case n.kM.ORDER_LINES:return"/billing/order_lines/";case n.kM.PROMOTIONS:return"/billing/promotions/";case n.kM.DOCUMENTS:return"/billing/documents/";case n.kM.TAX_DOCUMENTS:return"/billing/tax_documents/";case n.kM.PREPAID_CAMPAIGN_SPEND:return"/billing/prepaid_campaign_spend_summary/";default:var a={};return r&&(a.section=r),i&&(a.next_step_link_url=i),(0,o.Z)("/billing/",a)}},bulk:function(e){var t=e||{},r=t.subSection,i=t.page,a=t.jobStarted;switch(i){case n.fm.UPLOAD_TEMPLATE:return(0,o.Z)("/bulk_editor/upload_template/",{section:r});case n.fm.DOWNLOAD_TEMPLATE:return(0,o.Z)("/bulk_editor/download_template/",{section:r});case n.fm.HISTORY:return(0,o.Z)("/bulk_editor/history/",{section:r,job_started:a});case n.fm.RESOURCES:return(0,o.Z)("/bulk_editor/resources/",{section:r});default:return"/bulk_editor/"}},history:function(e){return(0,o.Z)("/history/",e)},shopping:function(e){return u.reporting(l("TEMPORARY_SHOPPING"))},pinterest_tag:function(e){var t=e.page,r=e.subSection,i=e.platform,a=e.source,s=e.origin;switch(t){case n.qp.PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:return"/conversions/events-overview/";case n.qp.PINTEREST_EVENT_HISTORY:if(a)return(0,o.Z)("/conversions/event-history/",{source:a});return"/conversions/event-history/";case n.qp.CONVERSION_HEALTH:return"/conversions/health/";case n.qp.PINTEREST_TEST_EVENTS:return(0,o.Z)("/conversions/test-events/",{subPage:r,platform:i});case n.qp.PINTEREST_TAG:return(0,o.Z)("/conversions/tag/",{subPage:r,platform:i});case n.qp.PINTEREST_TAG_MANUAL_SETUP_FLOW:if(i)return(0,o.Z)("/conversions/tag_manual_setup/",c(c({},{platform:i}),{source:a}));return"/conversions/tag_manual_setup/";case n.qp.PINTEREST_TAG_EVENTS:return"/conversions/tag-events/";case n.qp.PINTEREST_TAG_HEALTH:return"/conversions/tag-health/";case n.qp.CONVERSION_UPLOAD:return(0,o.Z)("/conversions/upload/",{subPage:r});case n.qp.UPLOAD_HISTORY:return(0,o.Z)("/conversions/history/",{subPage:r});case n.qp.PCA_UPLOAD_HISTORY:return(0,o.Z)("/conversions/pca_history/",{subPage:r});case n.qp.PCA_UPLOAD:return(0,o.Z)("/conversions/pca_upload/",{subPage:r});case n.qp.CONVERSIONS_API_MANUAL_SETUP_FLOW:if(a||s)return(0,o.Z)("/conversions/api_manual_setup/",c(c({},{source:a}),{origin:s}));return"/conversions/api_manual_setup/";case n.qp.CONVERSIONS_API_PARTNER_SETUP_FLOW:if(a||s)return(0,o.Z)("/conversions/api_partner_setup/",c(c({},{source:a}),{origin:s}));return"/conversions/api_partner_setup/";case n.qp.CONVERSIONS_API_ACCESS_TOKEN:return"/conversions/access_token/";case n.qp.PINTEREST_SETUP_API:return"/conversions/setup-api/";case n.qp.CONVERSIONS_API_DEDUPLICATION:return"/conversions/deduplication/";case n.qp.PAYLOAD_HELPER:return"/conversions/payload-helper/";case n.qp.CONVERSIONS:return"/conversions/";default:return"/conversions/tag/"}},"pin-builder":function(e){return(0,o.Z)("/pin-builder/",e)},purchases:function(){return u.reporting(l("PURCHASE"))},awareness_reserved:function(){return u.reporting(l("IMPRESSION"))},engagement:function(){return u.reporting(l("BILLABLE_ENGAGEMENT"))},videos:function(){return u.reporting(l("TEMPORARY_BIDDED_CPM_VIDEO"))},videos_reserved:function(){return u.reporting(l("TEMPORARY_IMPRESSION_VIDEO"))},videos_cpv:function(){return u.reporting(l("TEMPORARY_MRC_CPV_VIDEO"))},conversions:function(){return u.reporting(l("WEB_CONVERSION"))},accounts_manager:function(){return"/accounts_manager/"},reporting_preferences:function(e){return(0,o.Z)("/reporting/preferences/",e)},report_builder:function(e){return(0,o.Z)("/report-center/builder/",e)},report_history:function(e){return(0,o.Z)("/report-center/history/",e)},report_unsubscribe:function(e){return(0,o.Z)("/report-center/unsubscribe/",e)},report_download:function(e){return(0,o.Z)("/report-center/download/",e)},media_planner:function(){return"/media_planner/"},awareness:function(){return u.reporting(l("AWARENESS"))},traffic:function(){return u.reporting(l("TRAFFIC"))},app_installs:function(){return u.reporting(l("APP_INSTALL"))},catalog_sales:function(){return u.reporting(l("CATALOG_SALES"))},web_conversion:function(){return u.reporting(l("WEB_CONVERSION"))},video_view:function(){return u.reporting(l("VIDEO_VIEW"))},quick_promote:function(e){return(0,o.Z)("/quick-promote/",e)},quick_promote_on_www:function(){return"/advertiser/quick-promote/"},recommendations:function(e){return(0,o.Z)("/recommendations/",e)},catalog_view:function(){return"/product-catalogs/data-source"},campaign_insights:function(e){return"/campaign-insights/".concat(e.campaignId,"/")},product_group_reporting:function(e){return"/campaign-insights/".concat(e.campaignId,"/product-group/").concat(e.productGroupId)}};t.Z=u},28543:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var n=r(55259),o=r(966113),i=r(567831);function a(e,t,r){if(!n.Z[e])throw Error("unknown url key: ".concat(e));r||(r={});var a,c,s=n.Z[e](r),l=(c=null,(a=r)&&(c=a.advertiserId||null),!c&&t&&(c=t.id),c),u=!!r.absolutify;return"string"==typeof l&&(s="/advertiser/"+l+s),u&&(s=(0,i.Z)(s,void 0,o.KUo)),s}},422586:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(966113),o=r(89254);function i(e,t){var r="";if(e&&(r=e,t)){var i=(0,o.Z)(e,!0),a="/advertiser/",c=i.hostname;(null===c||c===n.KUo)&&(e.startsWith(n.auO)&&(e=e.replace(n.auO,"")),r=e.startsWith(a)?e:a+t+e)}return r}},987765:function(e,t,r){"use strict";r.d(t,{t:function(){return h},Z:function(){return m}});var n=r(908390),o=r(76911),i=r(391254),a=r(515198),c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s=function(e){for(var t=[],r=Math.floor(3*Math.random()+1),n=0;n<r-1;n+=1){var o=Math.floor(Math.random()*(e.length-1)+1);t.push(o)}t.sort(function(e,t){return e-t});for(var i=[],a=0,c=0;c<t.length;c+=1)i.push(e.slice(a,t[c])),a=t[c];return i.push(e.slice(a)),[].concat(i)};function l(e){var t=e.children,r=(0,o.useMemo)(function(){return s(t.replace("  "," ")).map(function(e){return{className:[,,,,,].fill().map(function(){return c[Math.floor(Math.random()*c.length)]}).join(""),content:e}})},[t]);return(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)(i.Z,{unsafeCSS:r.map(function(e){var t=e.className,r=e.content;return".".concat(t," { display: inline; overflow-wrap: unset; } .").concat(t,':before { content: "').concat(r,'"; font-weight: 600;  }')}).join(" ")}),r.map(function(e){var t=e.className;return(0,a.jsx)("div",{className:t},t)})]})}var u=r(773285),d=r(780280),f=r(19121),p=function(){var e,t=(0,f.Z)(),r=null!==(e=(0,(0,u.F)().checkExperiment)("web_obfuscate_ads_with_global_css").group.split("_")[3])&&void 0!==e?e:"op";return"".concat(r).concat(t.isAuth?t.id:"unauth")},y=function(){return(0,a.jsx)("div",{className:p()})},h=function(){var e=(0,u.F)().checkExperiment,t=p();return e("web_obfuscate_ads_with_global_css").anyEnabled?(0,a.jsx)(i.Z,{unsafeCSS:".".concat(t,':before { content: "Promoted by"; font-weight: 600;  }')}):null};function b(e){var t=e.children;return(0,(0,u.F)().checkExperiment)("web_obfuscate_ads_with_global_css").anyEnabled?(0,a.jsx)(y,{}):(0,a.jsx)(l,{children:t})}function m(e){var t=e.children,r=e.lineClamp,o=e.size,i=e.underline,c=e.weight,s=(0,d.B)().isAuthenticated&&"Promoted by"===t;return(0,a.jsx)(n.xv,{lineClamp:r,size:o,title:s?void 0:t,underline:i,weight:c,children:s?(0,a.jsx)(b,{children:t}):t})}},366284:function(e,t,r){"use strict";r.d(t,{G6:function(){return i},i7:function(){return a},oi:function(){return n},u$:function(){return o},un:function(){return s},vU:function(){return c}});var n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),o=function(e){return e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER};function i(e){return o(e)===n.SAFARI}function a(e){return o(e)===n.CHROME}function c(e){return o(e)===n.FIREFOX}function s(e){return o(e)===n.EDGE}},306775:function(e,t,r){"use strict";r.d(t,{Fl:function(){return s},Pw:function(){return d},dl:function(){return c},k3:function(){return f},su:function(){return p},tW:function(){return l}});var n=r(926275),o=r(411938),i=r(826067),a=["AT","AU","BE","BR","CA","CH","CY","CZ","DE","DK","ES","FI","FR","GB","GR","HU","IE","IT","LU","MT","MX","NL","NO","NZ","PT","RO","SE","SK","US"],c=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","MX","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US","AR","CO","CL","JP"],s=function(e){return a.includes(e.toUpperCase())},l=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),u=function(e,t){var r=(0,i.ru)("/business/convert",{next:t});e.push(r)},d=function(e){var t;e.requestContext,u(e.history,(t=e.pinId)?"/business/ad_create?pinId=".concat(t):"/business/ad_create")},f=function(e){var t=e.trim().split(" ").filter(function(e){return!!e});return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}},p=function(e){return e.isAuth&&!e.isPartner&&!(0,o.Z)(null,e)&&!(0,n.Z)(e.createdAt)}},768559:function(e,t,r){"use strict";var n=r(826067),o=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,i=function(e,t){return t?e.substring(t.length).split("/")[0]:e},a=function(e){var t,r=e.boardUrl,a=e.path,c=e.pinId,s=e.pinnerUserName,l=e.search,u=e.storyPinDataId;if(!a)return"";switch(a){case"/":case"/homefeed/":return"UserHomefeedResource";case s&&"/".concat(s,"/pins/"):return"UserPinsResource";case s&&"/".concat(s,"/"):case/\/_activity\//.test(a)&&a:return"UserActivityPinsResource";case/\/_created\//.test(a)&&a:return u?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(a)&&a:return"UserDiscoveredPinsResource";case/\/_saved\//.test(a)&&a:return"BoardlessPinsResource";case s&&"/".concat(s,"/_shopping_list/"):return"ShoppingListFeedResource";case/\/visual-search\//.test(a)&&a:return"VisualLiveSearchResource";case/\/pin\//.test(a)&&a:var d=i(a,"/pin/");if(c!==d)return"RelatedPinFeedResource_".concat(d);break;case/\/search\//.test(a)&&a:if(l){var f=(0,n.mB)(l,{shouldDecode:!1}).q||"";return"SearchResource_".concat(f.toLowerCase())}break;case/\/categories\//.test(a)&&a:var p=i(a,"/categories/");return"CategoryFeedResource_".concat(p);case/\/discover\/topics\//.test(a)&&a:return"CategoryFeedResource";case/\/news_hub\//.test(a)&&a:var y=i(a,"/news_hub/");return"NewsHubDetailsResource_".concat(y);case/\/_tools\/more-ideas\//.test(a)&&a:return"BoardContentRecommendationResource";case/\/topics\//.test(a)&&a:var h=i(a,"/topics/");return"TopicFeedResource_".concat(h);case/\/source\//.test(a)&&a:var b=i(a,"/source/");return"DomainFeedResource_".concat(b);case/\/explore\//.test(a)&&a:var m=i(a,"/explore/");return"SearchResource_".concat(m);case r:case!!r&&/\/more_ideas\//.test(a)&&a:return"BoardFeedResource";case r&&a.indexOf(r)>-1&&a:return"BoardSectionPinsResource";case/\/brand_catalog\//.test(a)&&a:return"BrandCatalogFeedResource";case o.test(a)&&a:var v=(null===(t=a.match(o))||void 0===t?void 0:t[2])||"unknown";return"TodayArticleFeedResource_".concat(v);case/\/today\//.test(a):return"TodayTabResource";case/\story_feed\//.test(a)&&a:if(l){var g=(0,n.mB)(l),_=g.feed_type,P=g.request_params;return"StoryFeedResource_".concat(_,"_").concat(P)}}return""},c=function(e){var t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""};t.Z=function(e){var t,r,n=e.boardUrl,o=e.location,i=e.pinId,s=e.pinnerUserName,l=e.previousHistory,u=e.storyPinDataId,d=e.trackingParams,f=e.trackingParamsMap,p=void 0===f?{}:f;if(i&&d&&o){if(!p)return"".concat(null!=d?d:"","~0");var y=o.pathname,h=o.search,b=a({boardUrl:n,path:y,pinId:i,pinnerUserName:s,search:h,storyPinDataId:u,trackingParams:d,trackingParamsMap:p}),m=Object.keys(p);if((y||"").startsWith("/pin/")){var v=m.find(function(e){return"PinResource"!==e});t=v?p[v]:p.PinResource}else t=p[b];return!t&&l&&l.length&&(r=a({boardUrl:n,path:c(l[l.length-1].location),pinId:i,pinnerUserName:s,search:h,storyPinDataId:u,trackingParams:d,trackingParamsMap:p}),t=p[r]),t||(t="".concat(d||"","~0")),t}}},41861:function(e,t,r){"use strict";function n(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function e(t,r){if(null==t||"object"!==i(t)&&"function"!=typeof t)return t;var a,c=r.find(function(e){return e.value===t});if(c)return c.result;var s=Object.prototype.toString.call(t);switch(s){case"[object Array]":a=Array(t.length);break;case"[object Set]":a=new Set;break;case"[object Object]":case"[object Arguments]":a={};break;case"[object Map]":a=new Map;break;default:return t}var l=[].concat(function(e){if(Array.isArray(e))return o(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||n(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{value:t,result:a}]);switch(s){case"[object Array]":t.forEach(function(t,r){a[r]=e(t,l)});break;case"[object Set]":t.forEach(function(t){a.add(e(t,l))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(function(t){var r=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,2)||n(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],i=r[1];a[o]=e(i,l)});break;case"[object Map]":t.forEach(function(t,r){a.set(r,e(t,l))})}return a}(e,[])}r.d(t,{Z:function(){return a}})},81636:function(e,t,r){"use strict";r.d(t,{Q:function(){return d},Z:function(){return f}});var n=r(76911),o=r(112690),i=r(385740),a=r(767546),c=r(780280);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){var r=(0,i.sV)().setViewContextData,s=(0,c.B)().requestIdentifier,l=(0,o.Z)(),d=(0,i.SU)().viewData;(0,n.useEffect)(function(){if(e){var t;r({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),l(u(u({},e),{},{event_type:13,request_identifier:s}))}},[t])}function f(e){var t=e.children;return d(e.log),t||null}},425288:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(76911);function o(e,t){var r="consumer"===t?"".concat(e,"Consumer"):"use".concat(e);return"\n  ".concat(r," must be used within a ").concat(e,"Provider.\n  Please see https://pdocs.pinadmin.com/docs/webapp/docs/testing-jest#createhydra-errors for more information.\n  ")}function i(e,t){var r,i,a=(0,n.createContext)(t),c=((i=(i=e.slice(1)).endsWith("Context")?i:"".concat(i,"Context"),r)?{hocDisplayName:"with".concat(e[0].toUpperCase()).concat(i,"(").concat(r,")")}:{propsDisplayName:"".concat(e[0].toLowerCase()).concat(i),messageDisplayName:"".concat(e[0].toUpperCase()).concat(i)}).messageDisplayName;a.displayName=c;var s=a.Provider,l=function(e){var t=e.children,r=(0,n.useContext)(a);if(void 0===r)throw Error(o(c,"consumer"));return t(r)},u=function(){return(0,n.useContext)(a)};return s.displayName="".concat(c,"Provider"),l.displayName="".concat(c,"Consumer"),{Provider:s,Consumer:l,MaybeConsumer:function(e){return(0,e.children)((0,n.useContext)(a))},useMaybeHook:u,useHook:function(){var e=u();if(void 0===e)throw Error(o(c,"hook"));return e}}}},81226:function(e,t,r){"use strict";function n(e){var t=Math.round(e/1e3),r=t%60;return Math.floor(t/60)+":"+(r<10?"0":"")+r}r.d(t,{Z:function(){return n}})},594736:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,r){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(!a(e[n],t[n],r+1))return!1;return!0}function i(e,t,r){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!(n in t)||!a(e[n],t[n],r+1))return!1;return!0}function a(e,t,r){if(r>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!==n(e)&&"object"!==n(t))return e!=e&&t!=t;var a=Object.prototype.toString.call(e);if(a!==Object.prototype.toString.call(t))return!1;switch(a){case"[object Array]":return o(e,t,r);case"[object Set]":return o(Array.from(e).sort(),Array.from(t).sort(),r);case"[object Object]":case"[object Arguments]":return i(e,t,r);case"[object Map]":return i(Object.fromEntries(e),Object.fromEntries(t),r);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function c(e,t){return a(e,t,0)}r.d(t,{ZP:function(){return c}})},11363:function(e,t,r){"use strict";r.d(t,{Bx:function(){return o},N4:function(){return a},is:function(){return c},lt:function(){return n},oM:function(){return i}});var n=function(e){return e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in')},o=function(e){return e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.')},i=function(e){return e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.')},a=function(e){var t=e.i18n;return e.toFollow?t._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):t._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},c=function(e){return e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')}},780679:function(e,t,r){"use strict";r.d(t,{g:function(){return a},t:function(){return i}});var n=r(76911),o=(0,n.createContext)(null),i=o.Provider,a=function(){return(0,n.useContext)(o)}},946984:function(e,t,r){"use strict";var n=r(11363),o=r(898781),i=r(987318);t.Z=function(){var e=(0,i.H)(),t=e.loginForMore,r=e.viewer,a=e.limitedLoginModalSubheader,c=(0,o.ZP)();return"AUTH"===r.type?null:function(e){null==t||t.setVisible(!0),null==a||a.setText((null==e?void 0:e.loginModalHeader)||(0,n.lt)(c))}}},123159:function(e,t,r){"use strict";r.d(t,{F:function(){return v},M:function(){return m}});var n=r(76911),o=r(506979),i=r(821463),a=r(425288),c=r(332611),s=r(957191),l=r(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){var n;return(n=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===u(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h=(0,a.Z)("ExperienceContext"),b=h.Provider,m=h.useHook;function v(e){var t,r=e.children,a=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(function(e,t){if("MOUNT_PLACEMENT"===t.type)return f(f({},e),{},{mountedPlacements:f(f({},e.mountedPlacements),{},p({},t.payload,!0))});if("UNMOUNT_PLACEMENT"===t.type){var r=f({},e);return delete r.mountedPlacements[t.payload],delete r.registerdAfterActionPlacements[t.payload],r}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?f(f({},e),{},{registerdAfterActionPlacements:f(f({},e.registerdAfterActionPlacements),{},p({},t.payload,!0))}):e},{mountedPlacements:{},registerdAfterActionPlacements:{}}))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=a[0],d=a[1],h=u.mountedPlacements,m=u.registerdAfterActionPlacements,v=(0,o.useDispatch)(),g=(0,o.useSelector)(function(e){return e.experiences}),_=(0,c.be)(),P=(0,c.Am)(),S=(0,c.Ig)(),j=(0,n.useMemo)(function(){var e=(0,i.bindActionCreators)({completeExperience:_,dismissExperience:P,fetchAllExperiences:c.fO,fetchAllExperiencesMulti:s.NW,fetchExperienceForPlacements:c.pz,mountPlacement:c.N,triggerExperimentsForPlacement:c.kd,viewExperience:S},v);return f(f({},e),{},{mountPlacement:function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.mountPlacement.apply(e,[t].concat(n)),d({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:function(e){d({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:function(e){d({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}})},[_,P,v,d,S]),x=(0,n.useMemo)(function(){return f({experiences:g,mountedPlacements:h,registerdAfterActionPlacements:m},j)},[g,h,m,j]);return(0,l.jsx)(b,{value:x,children:r})}},79264:function(e,t,r){"use strict";r.d(t,{c:function(){return c}});var n=r(123159),o=r(50286),i=["/","/homefeed/"],a=["/search/pins/","/search/my_pins/"],c=function(){var e=(0,n.M)(),t=e.mountPlacement,r=e.registerdAfterActionPlacements,c=(0,o.HG)();return function(e,n,o,s){var l;switch(e){case"Save":l=i.includes(n)?1000503:a.includes(n)?1000506:n.startsWith("/pin/")?c?1000141:1000494:void 0;break;case"Download":n.startsWith("/pin/")&&(l=c?1000499:1000500)}null!=l&&r[l]&&t(l,o,s)}}},356997:function(e,t,r){"use strict";r.d(t,{qE:function(){return a},u_:function(){return c.ZP}});var n=r(908390),o=r(515198);function i(e){var t=e.accessibilityLabel,r=e.name,i=e.outline,a=e.size,c=e.src,s=e.verified;return(0,o.jsx)(n.qE,{accessibilityLabel:t,name:r,outline:i,size:a,src:(null==c?void 0:c.includes("images/user/default"))&&r?void 0:c,verified:s})}i.displayName="Avatar";var a=i,c=r(121151);r(499128)},357998:function(e,t,r){"use strict";r.d(t,{Q:function(){return a}});var n=r(782296),o=r(273213),i=r(681669);function a(e,t,r){var a=r.useLegacyAdapter;if(null==t)return{data:null,childDataKey__DEPRECATED:null};var c=(0,o.B)(t);if("deprecated"===c.type){var s=c.data;return null==s?{data:null,childDataKey__DEPRECATED:c}:{data:(0,i.V4)(e,a)(s),childDataKey__DEPRECATED:c}}var l=(0,n.useFragment)(e,c.data);return{data:l,childDataKey__DEPRECATED:{type:"graphqlRef",data:l}}}},444445:function(e,t,r){"use strict";r.d(t,{$H:function(){return a},$q:function(){return g},D6:function(){return l},KN:function(){return P},Lo:function(){return o},OS:function(){return p},P2:function(){return b},Wv:function(){return _},ZZ:function(){return d},g5:function(){return f},jC:function(){return c},lX:function(){return h},nW:function(){return y},oX:function(){return m},qG:function(){return v},tG:function(){return i},yF:function(){return n},yc:function(){return u},yt:function(){return s}});var n=236,o=157.33333333333334,i=175,a=24,c=4,s=8,l=2,u=2,d=14,f=16,p=5,y=12,h=16,b=24,m=16,v=-1,g=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?t?h:y:b},_=function(e){var t=e.contentVisibleItemCount,r=e.gap,o=e.width;return t||o?(o-(t-1)*r)/t:n},P=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d,i=e+o;return"\n@media (min-width: ".concat(t*i,"px) and (max-width: ").concat((r+1)*i-1,"px) {\n  ").concat(n,"\n}\n")}},694379:function(e,t,r){"use strict";var n=r(892819),o=r(780280),i=r(515198);t.Z=function(e){var t=e.currency,r=e.maximumFractionDigits,a=e.minimumFractionDigits,c=e.shortform,s=e.shortformMaximumFractionDigits,l=e.formatStyle,u=e.uplimit,d=e.value,f=(0,n.Z)();return(0,i.jsx)(o.LC,{children:function(e){return f(e.locale||"en-US",d,{currency:t,maximum_fraction_digits:r,minimum_fraction_digits:a,shortform:c,shortform_maximum_fraction_digits:s,style:l,uplimit:u})}})}},926275:function(e,t,r){"use strict";function n(e){if(!e)return!1;var t=new Date(e);return t.setDate(t.getDate()+28),new Date().getTime()<t.getTime()}r.d(t,{Z:function(){return n}})},411938:function(e,t,r){"use strict";function n(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:28;if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;r=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;var o=new Date,i=r?new Date(r):o;return i.setDate(i.getDate()+n),new Date().getTime()<i.getTime()}r.d(t,{Z:function(){return n}})},166300:function(e,t,r){"use strict";var n=r(908390),o=r(444445),i=r(134879),a=r(50286),c=r(515198);t.Z=function(e){var t=e.children,r=e.roundedForLargeDevice,s="phone"!==(0,a.ZP)()&&r;return(0,i.V)()?(0,c.jsx)(n.xu,{marginEnd:-o.D6,marginStart:-o.D6,overflow:s?"hidden":void 0,rounding:s?6:void 0,children:(0,c.jsx)(i.C,{value:!1,children:t})}):t}},720247:function(e,t,r){"use strict";function n(e){var t=!1;return{promise:new Promise(function(r,n){e.then(function(e){return t?n({isCanceled:!0}):r(e)},function(e){return t?n({isCanceled:!0}):n(e)})}),cancel:function(){t=!0}}}r.d(t,{Z:function(){return n}})},499659:function(e,t,r){"use strict";r.d(t,{Q6:function(){return u},qe:function(){return s},yU:function(){return l}});var n=r(239745),o=function(e,t){return e.length===t.length&&e.every(function(e,r){return e===t[r]})},i=function(e){return e};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;return function(n){var o=[];return function(){for(var i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];var s=o.find(function(e){return t(e.args,r(a))});if(s)return s.result;var l=n.apply(void 0,a);return o.push({args:r(a),result:l}),e&&o.length>e&&o.shift(),l}}}var c=a();t.ZP=c;var s=a(1),l=a(void 0,o,function(e){return[JSON.stringify(e)]}),u=a(0,function(e,t){return e.length===t.length&&e.every(function(e,r){return(0,n.Z)(e,t[r])})})},767546:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return function e(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},c=a(t,r);return void 0!==c?c:void 0===r?t:Array.isArray(t)&&Array.isArray(r)?r.reduce(function(t,n,o){return t[o]=e(t[o],r[o],a),t},function(e){if(Array.isArray(e))return i(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t&&"object"===o(t)&&r&&"object"===o(r)?Object.keys(r).reduce(function(t,n){return t[n]=e(t[n],r[n],a),t},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t)):r}}})},170528:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function a(e,t){if(!Array.isArray(t))return e[t],function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,[t].map(i));var r=new Set(t.flat());return Object.fromEntries(Object.entries(e).filter(function(e){var t=(function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,1)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}}(e,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return!r.has(t)}))}r.d(t,{Z:function(){return a}})},299295:function(e,t,r){"use strict";r.d(t,{$4:function(){return C},AQ:function(){return q},Bj:function(){return v},DB:function(){return W},FH:function(){return es},FM:function(){return J},G9:function(){return L},GX:function(){return b},Hy:function(){return ed},JO:function(){return k},Ke:function(){return R},LM:function(){return o},Lc:function(){return ep},Lr:function(){return eu},MN:function(){return _},Mn:function(){return ee},N8:function(){return m},NB:function(){return er},P0:function(){return en},P9:function(){return ec},Pn:function(){return P},S:function(){return D},TK:function(){return j},TZ:function(){return A},UU:function(){return d},Uw:function(){return $},W_:function(){return el},XB:function(){return s},Xy:function(){return T},YM:function(){return x},aD:function(){return ey},aj:function(){return U},bA:function(){return N},bo:function(){return l},cH:function(){return ev},dS:function(){return w},eZ:function(){return y},fk:function(){return ei},g1:function(){return ef},gU:function(){return u},hH:function(){return Z},i2:function(){return f},iR:function(){return z},jh:function(){return eh},km:function(){return p},lx:function(){return B},mr:function(){return V},mt:function(){return K},n_:function(){return F},np:function(){return G},of:function(){return n},q:function(){return em},qY:function(){return O},qm:function(){return ea},rc:function(){return Q},ro:function(){return eb},sD:function(){return a},sG:function(){return h},u1:function(){return X},uR:function(){return c},v5:function(){return i},v9:function(){return Y},vk:function(){return et},wj:function(){return S},x1:function(){return M},yC:function(){return g},yI:function(){return I},yX:function(){return E},yb:function(){return H},zr:function(){return eo}});var n=880,o=340,i=380,a=510,c=40,s=20,l=4,u=474,d=134,f=96,p=800,y=186,h=40,b=10,m=48,v=88,g=183,_=130,P=24,S=400,j=50,x=8,O=8,w=5,E=20,A=29,T=5,I=20,C=400,R=100,k=500,D=800,B=500,N=40,L=100,z=5,M=["attempted","publishing","succeeded","uploading"],Z={carousel:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],single:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],story:[{w:9,h:16}],storyFARPortrait:[{w:1,h:2},{w:9,h:16},{w:2,h:3},{w:3,h:4},{w:4,h:5},{w:1,h:1}],storyFARLandscape:[{w:2,h:1},{w:16,h:9},{w:3,h:2},{w:4,h:3},{w:5,h:4},{w:1,h:1}]},F=["tl","tc","tr","bl","bc","br"],U=["left","center"],H=["top","center","bottom"],G=["none","uppercase"],K=["sm","md","lg"],q=[1,.75],W=198,V=132,Y=1,X=56,$=240,Q="cubic-bezier(0.66, 0.025, 0.33, 0.975)",J=1e3,ee=1500,et=2,er=3,en=20,eo=20,ei=2,ea=["processing","publishing","saving"],ec=60.5,es=120.5,el=1,eu=209715200,ed=2500,ef=3,ep="pin-builder-default-education-id",ey="pin-builder-default-tour-id",eh="pin-builder-editing-tour-id",eb="save_from_url",em=["processing","edited","creating","saving","saved"],ev=2048},616672:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(299295);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.LM,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(t-2*r)/e.width*e.height+2*r}},780280:function(e,t,r){"use strict";r.d(t,{B:function(){return h},LC:function(){return p},P2:function(){return f},fH:function(){return y},gf:function(){return b}});var n=r(76911),o=r(608832),i=r(239745),a=r(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d=(0,n.createContext)();function f(e){var t,r=e.children,c=e.initialValue,s=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(c))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=s[0],p=s[1],y=(0,n.useMemo)(function(){return{requestContext:f,updateRequestContext:function(e){var t=l(l({},f),e);(0,i.Z)(f,e)||p(t),(0,o.J)(t)}}},[f]);return(0,a.jsx)(d.Provider,{value:y,children:r})}var p=function(e){var t=e.children,r=(0,n.useContext)(d);if(!r)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return t(r.requestContext)},y=function(e){var t=e.children,r=(0,n.useContext)(d);if(!r)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return t(r.requestContext)};function h(){var e=(0,n.useContext)(d);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function b(){var e=(0,n.useContext)(d);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},608832:function(e,t,r){"use strict";var n;function o(e){n=e}function i(){return n}r.d(t,{J:function(){return o},l:function(){return i}})},505920:function(e,t,r){"use strict";r.d(t,{UZ:function(){return v},Z8:function(){return g},my:function(){return _}});var n=r(76911);r(506979);var o=r(214494),i=r(425288),a=r(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t,r){var n;return(n=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===c(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t,r){var n,o,i=[].concat(function(e){if(Array.isArray(e))return f(e)}(n=null!==(o=t[e][r.payload.name])&&void 0!==o?o:[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||d(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[r.payload.handler]),a=l({},t);return a[e]=l(l({},t[e]),{},u({},r.payload.name,i)),a}function y(e,t,r){if(!t[e][r.payload.name])return t;var n=t[e][r.payload.name].filter(function(e){return e!==r.payload.handler}),o=l({},t);return o[e]=l(l({},t[e]),{},u({},r.payload.name,n)),o}var h=(0,i.Z)("ResourceContext"),b=h.Provider,m=h.useHook;function v(e){var t,r=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(function(e,t){switch(t.type){case"addListener":return p("listeners",e,t);case"addMoreListener":return p("moreListeners",e,t);case"removeListener":return y("listeners",e,t);case"removeMoreListener":return y("moreListeners",e,t);default:return e}},{listeners:{},moreListeners:{}}))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,2)||d(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=i[0],s=c.listeners,l=c.moreListeners,u=i[1];o.Z.fetchCompleteCallback=function(e){var t=e.resource,r=e.options,n=e.response,o=e.normalizedResponse,i=e.refresh,a=e.resourceSchema;s[t]&&s[t].forEach(function(e){return e({isRefresh:i,normalizedResponse:o,options:r,schema:a,resource:t,response:n})})},o.Z.fetchMoreCompleteCallback=function(e){var t=e.resource,r=e.options,n=e.response,o=e.normalizedResponse,i=e.refresh,a=e.resourceSchema;l[t]&&l[t].forEach(function(e){return e({isRefresh:i,normalizedResponse:o,options:r,schema:a,resource:t,response:n})})};var f=(0,n.useMemo)(function(){return{listenerDispatch:u}},[]);return(0,a.jsx)(b,{value:f,children:r})}function g(e,t){var r=m().listenerDispatch;(0,n.useEffect)(function(){return r({type:"addListener",payload:{name:e,handler:t}}),function(){r({type:"removeListener",payload:{name:e,handler:t}})}})}function _(e,t){var r=m().listenerDispatch;(0,n.useEffect)(function(){return r({type:"addMoreListener",payload:{name:e,handler:t}}),function(){r({type:"removeMoreListener",payload:{name:e,handler:t}})}})}},730447:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(76911),o=r(254469);function i(e){var t=e.allowSearchOnMount,r=e.children,i=e.onTypeaheadSuggestionsChange,a=e.resourceName,c=e.resourceOptions,s=e.value,l=(0,o.Z)({allowSearchOnMount:t,resourceName:a,resourceOptions:c,value:s});return(0,n.useEffect)(function(){null!=l&&l.length&&i(l)},[l]),r||null}},254469:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(76911),o=r(214494),i=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},a=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};a.prototype.set=function(e,t){var r=this._uidToData[e];r||(r=new i(e,t),this._uidToData[e]=r,this._numItems+=1),this._moveToFront(r),this._numItems>this._maxNumItems&&this._evict()},a.prototype.get=function(e){var t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},a.prototype.remove=function(e){var t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},a.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},a.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};var c=["bookmarks"];function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(e){r(e);return}c.done?t(s):Promise.resolve(s).then(n,o)}function d(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,c,"next",e)}function c(e){u(i,n,o,a,c,"throw",e)}a(void 0)})}}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e){var t,r,i,s,u,f,y,h,b,m,v,g,_,P,S=e.allowSearchOnMount,j=void 0!==S&&S,x=e.resourceName,O=e.resourceOptions,w=void 0===O?{}:O,E=e.value,A=(0,n.useRef)(!1),T=(0,n.useRef)({}),I=function(e){if(Array.isArray(e))return e}(P=(0,n.useState)([]))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(P,2)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(P,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),C=I[0],R=I[1],k=(v=(t={resourceName:x,resourceOptions:w}).resourceName,g=t.resourceOptions,(_=(0,n.useRef)()).current||(_.current=(i=(r={resourceName:v,resourceOptions:g}).resourceName,u=p(p({},s=r.resourceOptions),{},{count:"count"in s?s.count:5}),f=o.Z.create(i,u),y=new a,h=function(){f.abort()},b=d(regeneratorRuntime.mark(function e(t,r){var n,o,i,a,s,l,u,d,b,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.isCalling()){e.next=8;break}if(i=null===(n=f.options)||void 0===n?void 0:n.term,a=null===(o=f.options)||void 0===o?void 0:o.pin_scope,!(t===i&&r===a)){e.next=7;break}return e.abrupt("return",void 0);case 7:h();case 8:return(s=f.options||{}).bookmarks,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(s,c),f.options=p(p({},l),{},{term:t,pin_scope:r}),e.next=12,f.callGet({showError:!1});case 12:return d=null==(u=e.sent.resource_response.data)?void 0:u.items,m={hint:b=(null==u?void 0:u.hint)||{},items:d},y.set("".concat(r,"-").concat(t),m),e.abrupt("return",{term:t,items:d,hint:b});case 19:case"end":return e.stop()}},e)})),m=d(regeneratorRuntime.mark(function e(t,r){var n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=y.get("".concat(r,"-").concat(t)))||!((o=n.items)&&o.length)){e.next=7;break}return h(),i=n.hint,e.abrupt("return",{hint:i,items:o,term:t});case 7:if(!(t.length>=0)){e.next=11;break}return e.abrupt("return",function(e,t){return b.apply(this,arguments)}(t,r));case 11:return e.abrupt("return",{hint:{},items:[],term:t});case 12:case"end":return e.stop()}},e)})),function(e,t){return m.apply(this,arguments)})),_.current),D=w.pin_scope||"pins",B="".concat(D,"-").concat(E);return(0,n.useEffect)(function(){d(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=E&&(j||A.current))){e.next=17;break}if(!(B in T.current)){e.next=5;break}R(T.current[B]),e.next=17;break;case 5:return e.prev=5,e.next=8,k(E,D);case 8:(t=e.sent)&&(r=t.items,T.current[B]=r,R(r)),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),"Resource call aborted"!==e.t0){e.next=16;break}return e.abrupt("return");case 16:throw e.t0;case 17:A.current||(A.current=!0);case 18:case"end":return e.stop()}},e,null,[[5,12]])}))()},[E,D,B]),C}},239745:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(Object.is(e,t))return!0;if("object"!==n(e)||null===e||"object"!==n(t)||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);return r.length===o.length&&r.every(function(r){return e[r]===t[r]})}r.d(t,{Z:function(){return o}})},458882:function(e,t,r){"use strict";r.d(t,{l:function(){return i},r:function(){return a}});var n=r(76911),o=(0,n.createContext)(null),i=function(){return(0,n.useContext)(o)},a=o.Provider},667679:function(e,t,r){"use strict";var n=r(780679),o=r(458882);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(){var e=(0,n.g)(),t=(0,o.l)();return function(r){var n=r.mobileOptions,o=r.desktopOptions,c=r.reason,s=r.attributionLabel,l=r.pinId;e?e.showDesktopSignupModal(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({signupFlow:(null==o?void 0:o.modalType)==="login"?{type:"login"}:{type:"signup"},reason:c,attributionLabel:s},null==o?void 0:o.modalOptions)):t&&t.showMobileSignupModal({reason:c,attributionLabel:s,headingType:null==n?void 0:n.headingType,pinId:l})}}},458451:function(e,t){"use strict";t.Z=function(e){return Array.from(e)[0].toUpperCase()+Array.from(e).slice(1).join("")}},936776:function(e,t){"use strict";var r=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;t.Z=function(e){return r.test(e)}},883561:function(e,t,r){"use strict";function n(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"…",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return"";if(e.length<=r)return e;if(" "!==e[r-1]&&" "===e[r]||o)t=e.substring(0,r);else{var i=e.lastIndexOf(" ",r);t=e.substring(0,i)}return(t=t.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+n}r.d(t,{ZP:function(){return n}})},70061:function(e,t,r){"use strict";function n(e){return e.replace(/[_.-](\w|$)/g,function(e,t){return t.toUpperCase()})}r.d(t,{Z:function(){return n}})},170168:function(e,t,r){"use strict";r.d(t,{Ag:function(){return i},C0:function(){return s},L1:function(){return f},Vi:function(){return a},YD:function(){return d},kS:function(){return o},oo:function(){return c},p3:function(){return p},vC:function(){return l},vI:function(){return u}});var n=r(401060),o="https://www.pinterest.com/business/hub/",i="https://www.pinterest.com/homefeed/",a="www.pinterest.com",c="https://help.pinterest.com",s="".concat((0,n.Z)({site:"www"})),l=(0,n.Z)({site:"developers"}),u="".concat((0,n.Z)({site:"sterling"})),d="".concat((0,n.Z)({site:"analytics"})),f="".concat((0,n.Z)({site:"trends"})),p="".concat((0,n.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="}))},934723:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(422586),o=r(966113);function i(e){var t=e.advertiser,r=e.isAdsSite,i=e.isAnalyticsSite,a=e.isTrendsSite,c=e.baseUrl,s=e.adsUrl,l=e.isQuickPromote,u=e.isShoppingCatalogs;if(r&&!t&&!l)return"/";var d=c;return(r||i||a)&&!u?(s||(s=c),t?(d=(0,n.Z)(s,t.id),r||(d=o.auO+d)):d=r?s:o.auO+d):u?d=o.auO+(0,n.Z)(c,t?t.id:""):s||(d=o.auO+c),d}},140582:function(e,t,r){"use strict";function n(e,t){if(!t)return e;var r=new RegExp(/http(s?):/);if(!r.test(e)){var n=r.exec(t);n&&n.length&&(e=n[0]+e)}return e}r.d(t,{Z:function(){return n}})},887831:function(e,t,r){"use strict";var n=r(76911);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=null,a=!1,c=0,s=function(){i&&clearTimeout(i),a=!0,i=setTimeout(function(){a=!1},100)},l=function(){0===c&&window.addEventListener("scroll",s),c+=1},u=function(){(c-=1)||window.removeEventListener("scroll",s)};t.Z=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],i=t[1],c=(0,n.useRef)(null);(0,n.useEffect)(function(){return l(),function(){c.current&&clearTimeout(c.current),u()}},[]);var s=function e(t){c.current&&clearTimeout(c.current),c.current=t&&a?setTimeout(function(){return e(!0)},100):setTimeout(function(){i(t)},32)};return{isHovering:r,hoverHandlers:(0,n.useRef)({onMouseOver:function(){return s(!0)},onMouseLeave:function(){return s(!1)}}).current}}},50286:function(e,t,r){"use strict";r.d(t,{HG:function(){return d},Kf:function(){return a},Mq:function(){return o},Wb:function(){return u},dA:function(){return c},ds:function(){return s},ml:function(){return l}});var n=r(780280);function o(e){var t=e.userAgent,r=t.isMobile;return t.isTablet?"tablet":r?"phone":"desktop"}var i=function(){return o((0,n.B)())},a=function(e){return"phone"===e},c=function(e){return"tablet"===e},s=function(e){return"desktop"===e},l=function(){return a(i())},u=function(){return c(i())},d=function(){return s(i())};t.ZP=i},215292:function(e,t,r){"use strict";r.d(t,{q:function(){return c}});var n=r(76911);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a=function(){var e=o((0,n.useState)(!1),2),t=e[0],r=e[1],i=o((0,n.useState)(!1),2),a=i[0],c=i[1],s=o((0,n.useState)(!1),2),l=s[0],u=s[1];return{active:t,focused:a,hovered:l,onBlur:function(){c(!1),r(!1)},onFocus:function(){return c(!0)},onMouseDown:function(){return r(!0)},onMouseEnter:function(){return u(!0)},onMouseLeave:function(){u(!1),r(!1)},onMouseUp:function(){return r(!1)}}};function c(e){return(0,e.children)(a())}t.Z=a},411465:function(e,t,r){"use strict";r.d(t,{G:function(){return s},Z:function(){return l}});var n=r(76911),o=r(599689),i=r(515198);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var c=(0,n.createContext)(!0);function s(e){var t,r=e.children,s=(0,o.useLocation)(),l=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!0))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=l[0],d=l[1],f=(0,n.useRef)(s);return(0,n.useEffect)(function(){f.current!==s&&(f.current=s,d(!1))},[s]),(0,i.jsx)(c.Provider,{value:u,children:r})}function l(){return(0,n.useContext)(c)}},342877:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(76911),o=r(720247);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(){var e=(0,n.useRef)([]),t=(0,n.useRef)({});return(0,n.useEffect)(function(){return function(){[].concat(i(Object.keys(t.current).map(function(e){return t.current[e]})),i(e.current)).forEach(function(e){return e()})}},[]),function(r,n){if(n){var a=t.current[n];a&&(a(),delete t.current[n])}var c=(0,o.Z)(r),s=c.cancel,l=c.promise;return n?t.current[n]=s:e.current=[].concat(i(e.current),[s]),l}}},19121:function(e,t,r){"use strict";r.d(t,{$:function(){return o}});var n=(0,r(425288).Z)("viewer"),o=n.Provider,i=n.useHook;t.Z=i},306732:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,r){var o;return(o=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===n(o)?o:String(o))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Be:function(){return m},DD:function(){return k},EK:function(){return v},Eo:function(){return x},HK:function(){return ea},J_:function(){return ey},KO:function(){return F},MD:function(){return G},MU:function(){return K},PD:function(){return W},QE:function(){return B},QX:function(){return Q},R0:function(){return en},Rd:function(){return eh},V0:function(){return w},VO:function(){return ef},WH:function(){return Z},XT:function(){return I},Y3:function(){return _},aF:function(){return Y},aZ:function(){return p},bS:function(){return O},cU:function(){return D},cm:function(){return J},d0:function(){return R},eu:function(){return j},g2:function(){return N},gd:function(){return L},h1:function(){return X},h8:function(){return h},hh:function(){return C},iu:function(){return eo},j0:function(){return ep},j1:function(){return V},k7:function(){return ei},kc:function(){return S},kl:function(){return P},kq:function(){return E},l5:function(){return A},pF:function(){return q},pM:function(){return U},pV:function(){return T},ps:function(){return b},q9:function(){return g},qB:function(){return er},qf:function(){return eu},r2:function(){return z},rC:function(){return H},rD:function(){return el},sG:function(){return $},ss:function(){return ed},t7:function(){return es},ul:function(){return y},vr:function(){return ec},wZ:function(){return et},yA:function(){return ee},yq:function(){return M}});var i,a,c,s,l,u,d,f,p=864e5,y={IN_STOCK:"in stock",OUT_OF_STOCK:"out of stock",PREORDER:"preorder"},h={NEW:"new",USED:"used",REFURBISHED:"refurbished"},b={MALE:"male",FEMALE:"female",UNISEX:"unisex"},m=(o(i={},1,"All Products"),o(i,2,"Best Deals"),o(i,3,"Most Popular"),o(i,4,"Top Sellers"),o(i,5,"Back In Stock"),o(i,6,"New Arrivals"),i),v={FEATURED:"FEATURED",CAN_FEATURE:"CAN_FEATURE",FEATURING:"FEATURING",NO_FILTERS:"NO_FILTERS",TOO_FEW_PRODUCTS:"TOO_FEW_PRODUCTS",TOO_FEW_UNIQUE_PRODUCTS:"TOO_FEW_UNIQUE_PRODUCTS",TOO_MANY_PRODUCTS:"TOO_MANY_PRODUCTS",MAX_GROUPS_FEATURED:"MAX_GROUPS_FEATURED",UNFEATUREABLE:"UNFEATUREABLE"},g=[1,2,3,4,5,6,7,8],_=[1,2,3,4,5,6,8],P=[1,2,3,4,5,6,7,0,8],S=90,j=350,x=72,O=450,w=200,E=12,A=114,T={MERCHANT_CREATED:"MERCHANT_CREATED",ALL_PRODUCTS:"ALL_PRODUCTS"},I={FEATUREABLE:1,UNFEATUREABLE_NOT_ENOUGH_PINS:2,UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATUREABLE_EXCEEDED_PINS_LIMIT:4},C={ITEM_ID:"Item ID",PRODUCT_CATEGORY:"Category",PRODUCT_TYPE:"Product type",BRANDS:"Brands",COST:"Cost",CUSTOM_LABEL:"Custom",CUSTOM_LABEL_0:"Custom label 0",CUSTOM_LABEL_1:"Custom label 1",CUSTOM_LABEL_2:"Custom label 2",CUSTOM_LABEL_3:"Custom label 3",CUSTOM_LABEL_4:"Custom label 4",AVAILABILITY:"Availability",PRICE:"Price",GENDER:"Gender",CONDITION:"Condition",CURRENCY:"Currency",ITEM_GROUP_ID:"Item group ID"},R=[C.PRODUCT_CATEGORY,C.PRODUCT_TYPE,C.BRANDS,C.CUSTOM_LABEL_0,C.CUSTOM_LABEL_1,C.CUSTOM_LABEL_2,C.CUSTOM_LABEL_3,C.CUSTOM_LABEL_4],k=(o(a={},C.ITEM_ID,["ITEM_ID"]),o(a,C.ITEM_GROUP_ID,["ITEM_GROUP_ID"]),o(a,C.PRODUCT_CATEGORY,["GOOGLE_PRODUCT_CATEGORY_0"]),o(a,C.PRODUCT_TYPE,["PRODUCT_TYPE_0"]),o(a,C.COST,["MIN_PRICE","MAX_PRICE"]),o(a,C.BRANDS,["BRAND"]),o(a,C.CUSTOM_LABEL,["CUSTOM_LABEL_0","CUSTOM_LABEL_1","CUSTOM_LABEL_2","CUSTOM_LABEL_3","CUSTOM_LABEL_4"]),o(a,C.AVAILABILITY,["AVAILABILITY"]),o(a,C.CONDITION,["CONDITION"]),o(a,C.GENDER,["GENDER"]),a),D=[C.CUSTOM_LABEL,C.COST,C.CURRENCY],B=(o(c={},1,y.IN_STOCK),o(c,2,y.OUT_OF_STOCK),o(c,3,y.PREORDER),c),N=(o(s={},1,h.NEW),o(s,2,h.USED),o(s,3,h.REFURBISHED),s),L=(o(l={},1,b.MALE),o(l,2,b.FEMALE),o(l,3,b.UNISEX),l),z=(o(u={},1,C.ITEM_ID),o(u,5,C.PRODUCT_CATEGORY),o(u,12,C.PRODUCT_TYPE),o(u,3,C.BRANDS),o(u,2,C.AVAILABILITY),o(u,17,C.CUSTOM_LABEL_0),o(u,18,C.CUSTOM_LABEL_1),o(u,19,C.CUSTOM_LABEL_2),o(u,20,C.CUSTOM_LABEL_3),o(u,21,C.CUSTOM_LABEL_4),o(u,4,C.CONDITION),o(u,25,C.GENDER),o(u,22,C.PRICE),o(u,23,C.PRICE),o(u,26,C.CURRENCY),o(u,24,C.ITEM_GROUP_ID),u),M=(o(d={},C.ITEM_ID,1),o(d,C.PRODUCT_CATEGORY,5),o(d,C.PRODUCT_TYPE,12),o(d,C.BRANDS,3),o(d,C.AVAILABILITY,2),o(d,C.CUSTOM_LABEL_0,17),o(d,C.CUSTOM_LABEL_1,18),o(d,C.CUSTOM_LABEL_2,19),o(d,C.CUSTOM_LABEL_3,20),o(d,C.CUSTOM_LABEL_4,21),o(d,C.CONDITION,4),o(d,C.GENDER,25),o(d,C.PRICE,23),o(d,C.CURRENCY,26),o(d,C.ITEM_GROUP_ID,24),d),Z={GREATER_INCLUSION:"0",GREATER_EXCLUSION:"1",LESS_INCLUSION:"2",LESS_EXCLUSION:"3"},F=(o(f={},Z.GREATER_EXCLUSION,{filterType:22,filterOperator:{negated:!1,inclusion:!1}}),o(f,Z.GREATER_INCLUSION,{filterType:22,filterOperator:{negated:!1,inclusion:!0}}),o(f,Z.LESS_EXCLUSION,{filterType:23,filterOperator:{negated:!1,inclusion:!1}}),o(f,Z.LESS_INCLUSION,{filterType:23,filterOperator:{negated:!1,inclusion:!0}}),f),U="newlyCreatedPGId",H="storefront",G={campaignId:"createNewCampaign",objectiveType:"CATALOG_SALES",absolutify:!0},K=163,q=350,W={LIST:"LIST",GRID:"GRID"},V="236x",Y=23,X=164,$=256,Q=112,J="calc(100vh - ".concat(175,"px)"),ee=75,et=200,er=40,en={PRODUCT_GROUP_NAME:"PRODUCT_GROUP_NAME",PRODUCT_COUNT:"PRODUCT_COUNT",PRODUCT_AVAILABILITY:"PRODUCT_AVAILABILITY",LAST_UPDATE:"LAST_UPDATE",PRODUCT_GROUP_PROMOTED:"PRODUCT_GROUP_PROMOTED",PRODUCT_GROUP_FEATURED:"PRODUCT_GROUP_FEATURED",PRODUCT_GROUP_ACTIONS:"PRODUCT_GROUP_ACTIONS",PG_METRIC:"PG_METRIC",PRODUCT_GROUP_COUNTRY:"PRODUCT_GROUP_COUNTRY"},eo=500,ei=20,ea=40,ec=100,es=4,el={DELETE_FAILED:"DELETE_FAILED",DELETE_SUCCESSFULLY:"DELETE_SUCCESSFULLY",REMOVE_SUCCESSFULLY:"REMOVE_SUCCESSFULLY"},eu={ALL:"ALL",MIXED:"MIXED",FEED_PROFILE:"FEED_PROFILE"},ed="US",ef="selectedCountryKey",ep="selectedFeedProfileId",ey="activated",eh="ads_create_source_param"},869899:function(e,t,r){"use strict";r.r(t),r.d(t,{RoleBasedAccessControlProvider:function(){return A},useRoleBasedAccessControlContext:function(){return E}});var n=r(76911),o=r(425288),i=r(773285),a=r(784590),c=r(19121),s=r(389643),l=r(339363),u=r(70061);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function e(t){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&("object"!==p(t[n])||null===t[n]||Array.isArray(t[n])?r[(0,u.Z)(n)]=t[n]:r[(0,u.Z)(n)]=e(t[n]));return r},h=function(e,t){var r=[];for(var n in e)n!==t&&r.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({id:n},y(e[n])));var o,i=r.sort(function(e,t){var r=e.user.businessName,n=t.user.businessName;return r.localeCompare(n)}),a=new Map,c=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(i);try{for(c.s();!(o=c.n()).done;){var s=o.value;a.set(s.id,s)}}catch(e){c.e(e)}finally{c.f()}return a};function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==b(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var _={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},P=function(e,t){switch(t.type){case"LOAD_PROFILES":return g(g({},e),{},{profiles:t.payload});case"SET_ACTIVE_PROFILE":return g(g({},e),{},{activeProfile:t.payload});case"TOGGLE_HEADER_VISIBILITY":return g(g({},e),{},{headerVisible:t.payload});case"TOGGLE_ORBAC_VISIBILITY":return g(g({},e),{},{orbacVisibility:t.payload});case"TOGGLE_DISABLE_PROFILE_CHANGER":return g(g({},e),{},{disableProfileChanger:t.payload});default:return e}},S=function(e){var t=e.dispatch,r=e.isEnabled,o=e.state,i=o.orbacVisibility,a=o.disableProfileChanger,c=o.headerVisible;return{changeProfile:(0,n.useCallback)(function(e){r&&t({type:"SET_ACTIVE_PROFILE",payload:e})},[r,t]),toggleORBACVisibility:(0,n.useCallback)(function(e){r&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=e?e:!i})},[r,t,i]),toggleDisableProfileChanger:(0,n.useCallback)(function(e){r&&t({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=e?e:!a})},[r,t,a]),toggleHeaderVisibility:(0,n.useCallback)(function(e){r&&t({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=e?e:!c})},[r,t,c])}},j=function(e){var t,r=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(P,_))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],i=r[1],a=S({dispatch:i,isEnabled:e,state:o}),c=o.activeProfile,s=o.orbacVisibility;return(0,n.useEffect)(function(){var e=(0,l.qn)("orbacActiveProfile",!1);e&&i({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,n.useEffect)(function(){var e=(0,l.qn)("orbacVisibilty",!1);e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,n.useEffect)(function(){(0,l.Nh)("orbacVisibility",s)},[s]),(0,n.useEffect)(function(){(0,l.Nh)("orbacActiveProfile",c)},[c]),{state:o,actions:a,receiveProfiles:(0,n.useCallback)(function(e,t){i({type:"LOAD_PROFILES",payload:h(e,t)})},[i])}},x=r(515198),O=(0,o.Z)("RoleBasedAccessControlContext"),w=O.Provider,E=O.useMaybeHook,A=function(e){var t,r=e.children,o=(0,i.F)().checkExperiment,l=(0,c.Z)(),u=!!(l.isAuth&&l.isPartner&&o("web_m10n_business_access_orbac_www").anyEnabled),d=j(u),f=d.state,p=d.actions,y=d.receiveProfiles,h=f.activeProfile,b=f.headerVisible,m=f.profiles,v=void 0===m?[]:m,g=v?Array.from(v.values()):[],_=(0,s.Z)(g),P=!!l.isAuth&&g.length>0&&_,S=l.isAuth?l.id:"",O=l.isAuth?l.username:"",E=p.changeProfile,A=p.toggleORBACVisibility,T=p.toggleDisableProfileChanger,I=p.toggleHeaderVisibility;(0,n.useEffect)(function(){if(u){if("string"==typeof _){E(_);return}h||E(S)}},[_,S,u,E,h]),(0,n.useEffect)(function(){u&&(P&&!b&&I(!0),!P&&b&&I(!1))},[I,P,u,b,v]);var C=(0,a.Z)(u?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null).data,R=null==C?void 0:C.profiles;l&&l.isAuth&&f.activeProfile===l.id?t={id:l.id,permissions:["OWNER"],user:{username:O,businessName:l.fullName,imgUrl:l.imageSmallUrl}}:h&&f.profiles&&(t=f.profiles.get(h)),(0,n.useEffect)(function(){R&&y(R,S)},[y,R,S]);var k=f.profiles?Array.from(f.profiles.values()):[];return(0,x.jsx)(w,{value:{profiles:k,headerVisible:f.headerVisible,activeProfile:t,changeProfile:E,toggleORBACVisibility:A,toggleDisableProfileChanger:T,toggleHeaderVisibility:I},children:r})}},717615:function(e,t,r){"use strict";var n=r(773285),o=r(869899),i=r(389643);t.Z=function(){var e=(0,n.F)().checkExperiment,t=(0,o.useRoleBasedAccessControlContext)(),r=(t||{}).activeProfile,a=e("web_m10n_business_access_orbac_www").anyEnabled,c=(0,i.Z)((null==t?void 0:t.profiles)||[]),s=e("useorbacroutematcher_in_useorbacactingas").anyEnabled;return a&&(!s||c)&&r&&(r.viewerMeetsMfaRequirement||(r.permissions||[]).includes("OWNER"))?r:Object.freeze({})}},389643:function(e,t,r){"use strict";var n=r(599689),o=r(53987),i=r(773285),a=r(19121),c=r(350118);t.Z=function(e){var t,r,s,l,u=(0,n.useLocation)(),d=(0,a.Z)(),f=(0,c.S6)(),p=(0,i.F)().checkExperiment("web_m10n_business_access_orbac_www").anyEnabled,y=(0,n.useRouteMatch)("/:username"),h=null==y?void 0:null===(t=y.params)||void 0===t?void 0:t.username,b=(0,n.useRouteMatch)("/pin/:id"),m=null!=b&&null!==(r=b.params)&&void 0!==r&&!!r.id&&(null===(s=f(b.params.id))||void 0===s?void 0:null===(l=s.pinner)||void 0===l?void 0:l.id);if((0,o.ej)(u))return!1;if((0,o.RU)(u))return!0;if((0,o.mY)(u))return p;var v=e.concat(d.isAuth?{user:{username:d.username},id:d.id}:{}).find(function(e){var t=e||{},r=t.user,n=t.id,o=(void 0===r?{}:r).username;return(!!o&&!!h||!!m&&!!n)&&(o===h||m===n)});return!!v&&v.id}},231947:function(e,t,r){"use strict";r.d(t,{D3:function(){return l},DX:function(){return c},KY:function(){return u},Ms:function(){return n},N1:function(){return d},_P:function(){return a},lJ:function(){return i},nl:function(){return o},q6:function(){return s}});var n=function(e,t){var r=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(r=t.user.username),r},o=function(e,t){return!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool)},i=function(e,t){return e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:""},a=function(e,t,r){var n;return r&&r.user&&t&&t.isAuth&&r.id!==t.id?r.user.merchantId:null===(n=e.advertiser)||void 0===n?void 0:n.merchant_id},c=function(e,t,r){return r&&r.user&&e.isAuth&&r.id!==e.id?r.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0},s=function(e,t,r){return!!(e&&e.isAuth&&r&&r.id&&r.id!==e.id&&r.id===t)},l=function(e,t,r){return!!(s(e,t,r)||e&&e.isAuth&&t===e.id)},u=function(e,t,r){return l(e,t&&t.owner&&t.owner.id||"",r)};function d(e,t,r){return l(e,t?t.id:"",r)}},641692:function(e,t,r){"use strict";r.d(t,{uB:function(){return I},re:function(){return C},Xc:function(){return D},NH:function(){return k},Mz:function(){return R},Mj:function(){return G},LZ:function(){return F},Lu:function(){return Z},es:function(){return U},i5:function(){return X},QR:function(){return en},xV:function(){return W},o_:function(){return et},d5:function(){return z},if:function(){return Q},xQ:function(){return L},O9:function(){return B},bq:function(){return V},HH:function(){return Y},Ti:function(){return K},cG:function(){return N},Hw:function(){return H},YA:function(){return J},HC:function(){return q},Y8:function(){return $},$n:function(){return ee}});var n,o=r(983722),i=r(382891),a=r(709622);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u=function(e){var t=e.values,r=e.pin,n=e.productGroup,o=e.country,c=e.inFdbExp,s=t.name,u=t.destination_url,d=t.budget,f=t.duration,p=t.inclusive_end_date,y=t.is_ongoing,h=t.advertiser_id,b=t.ages,m=t.interests,v=t.genders,g=t.ad_type,_=t.selected_ocpm_tag,P=t.isAutoTargeting,S=t.is_fdb,j=Math.round(d*a.Az),x=(0,i.Z)({ages:b,interests:m,genders:v,country:o}),O={};g===a.Hl.WEB_CONVERSION&&(O.objective_type=a.Hl.WEB_CONVERSION,O.optimization_goal_metadata={conversion_tag_v3_goal_metadata:{conversion_tag_id:_.conversionTagId,conversion_event:_.conversionEvent}});var w=l(l({budget_in_micro_currency:j,campaign_name:s&&s.length<64?s:"".concat((s||"").substr(0,62),"…"),destination_url:r?u:null,duration:parseInt(f,10),auto_targeting_enabled:P,is_ongoing:y,start_now:!0,targeting_spec:x,advertiser_id:h,ads_client_type:"quick_promote",pin_id:r?r.id:null,product_group_id:n?n.id:null},O),{},{flexible_daily_budget_enabled:!!c&&S});return!y&&p&&p.trim().length>0&&(w.inclusive_end_date=p),w},d=r(28543),f=r(186656),p=r(251819),y=r(957161),h=r(966113),b=r(826067),m=r(170168),v=r(934723),g=r(572621),_=r(709113),P=r(67347);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){O(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O(e,t,r){var n;return(n=function(e,t){if("object"!==S(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==S(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===S(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(e){r(e);return}c.done?t(s):Promise.resolve(s).then(n,o)}function E(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){w(i,n,o,a,c,"next",e)}function c(e){w(i,n,o,a,c,"throw",e)}a(void 0)})}}function A(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var I=472,C=364,R={VIEW:"view",SUBMIT:"submit",SUBMIT_SUCCESS:"submit.success",SUBMIT_ERROR:"submit.error"},k={CLICK:"click",DISMISS:"dismiss",RENDER:"render"},D={BIZ_HUB_AD_CREDITS:"biz_hub_ad_credits",BIZ_HUB_EMPTY_STATE_ADS_WIDGET:"biz_hub_empty_state_ads_widget",BIZ_HUB_CREATE_AD:"biz_hub_create_ad",CLOSEUP_PARTNER_MODULE:"closeup_partner_module",NAVBAR_PROMOTE_PIN:"navbar_promote_pin",PIN_CREATE_SUCCESS:"pin_create_success",PIN_CREATE_SUCCESS_PINNER:"pin_create_success_pinner",PIN_REP:"pin_rep",PINANALYTICS:"pinanalytics",TRENDS_HOME_PAGE:"trends_home_page",TRENDS_DETAILS_PAGE:"trends_details_page",BIZ_HUB_TOP_CAROUSEL_SECTION:"biz_hub_top_carousel_section"},B=function(e){return{isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e}},N=function(e){var t=e.isAnalyticsSite,r=e.isSterlingSite,n=e.isWwwSite,o=e.loggingType,i="";void 0!==t&&t?i=".analytics":void 0!==n&&n?i=".www":void 0!==r&&r&&(i=".ads"),(0,P.nP)("sterling.quick_promote.page".concat(i,".").concat(o),{sampleRate:1})},L=function(e){return e?a.vX.indexOf(e):-1},z=function(e){if(null!=e&&!(e<0)&&!(e>a.vX.length-1))return a.vX[e]},M=function(e){return e===a.Gl.BUSINESS_FORM?{element:11213,component:13375}:e===a.Gl.BILLING_FORM?{element:11214,component:13376}:{component:205,element:1223}},Z=function(e,t){var r=M(z(e));t({event_type:101,component:r.component,element:r.element,aux_data:{page:"GestaltQuickPromote"}})},F=function(e,t){var r=z(e),n=M(r).component;r===a.Gl.PIN_SELECTION_MODAL?t({event_type:6358,component:13288,aux_data:{page:"GestaltQuickPromote"}}):r===a.Gl.SUCCESS_MODAL&&t({event_type:6358,component:n,aux_data:{page:"GestaltQuickPromote"}})},U=function(e,t){var r=A(new Set(null==e?void 0:e.split("+")));return t&&r.filter(function(e){return e in t})},H=function(e,t){if(!t||!e)return"";var r="https://".concat(h.KUo),n="?campaign_id=".concat(t.campaign_id,"&objective_type=CLICKTHROUGH&is_quick_promote=true");return"".concat(r,"/advertiser/").concat(e,"/billing/").concat(n)},G=function(e,t){if(!e)return"";var r=e.ad_group_id,n=(0,d.default)("adgroup",t,{id:void 0===r?"":r,showAllEntities:!0});return(0,v.Z)({advertiser:null,isAdsSite:!1,isAnalyticsSite:!1,isTrendsSite:!1,baseUrl:n,adsUrl:null,isQuickPromote:!0})},K=function(e){return{hasValidBusinessInfo:e.hasBusinessAddress||e.hasBusinessInfo,hasValidBillingInfo:e.hasValidBillingProfile||e.hasBillingInfo}},q=(n=E(regeneratorRuntime.mark(function e(t){var r,n,o,i,a,c,s,l,d,p,y,h,b,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pin,n=t.productGroup,o=t.country,i=t.onSaveSuccess,a=t.onSaveFailed,c=t.quickPromoteFormValues,s=t.advertiserId,l=t.inFdbExp,d=r?"/ads/v4/advertisers/".concat(s,"/pins/").concat((null==r?void 0:r.id)||"","/quick_promote/"):"/ads/v4/advertisers/".concat(s,"/product_group/").concat((null==n?void 0:n.id)||"","/quick_promote/"),p=r?"pin":"product_group",e.prev=3,e.next=6,(0,f.Z)({url:d,method:"POST",data:u({values:c,pin:r,productGroup:n,country:o,inFdbExp:l})});case 6:(y=e.sent.resource_response).data&&i(y.data),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),h=e.t0.httpStatus,m=(b=e.t0.message_detail)?{area:401===h?p:"modal",message:b}:{area:"modal"},a(m);case 16:case"end":return e.stop()}},e,null,[[3,11]])})),function(e){return n.apply(this,arguments)}),W=function(e){var t=e.hasValidBillingProfile,r=e.hasBusinessAddress,n=e.hasBillingInfo,o=e.hasBusinessInfo,i=e.serverErrorArea,c=e.stepIndex,s=e.isQuickPromotePage,l=K({hasValidBillingProfile:t,hasBusinessAddress:r,hasBillingInfo:n,hasBusinessInfo:o}),u=l.hasValidBusinessInfo,d=l.hasValidBillingInfo,f=[void 0,null].includes(c)?0:c+1;return z(c)!==a.hf||(i?f="modal"===i?L(a.Gl.ERROR_MODAL):c:u&&d?f=L(a.Gl.SUCCESS_MODAL):u?f=L(a.Gl.BILLING_FORM):void 0!==s&&s||(f=L(a.Gl.BUSINESS_FORM))),f>a.vX.length-1?void 0:f},V=function(e){var t=a.Pq.WIDE;return e<870?t=a.Pq.NARROW:e>=870&&e<=1275&&(t=a.Pq.MEDIUM),t},Y=function(e,t,r){var n,i,a=(0,b.mB)(e.search).crossSite;if(null!==(n=null===(i=(0,o.Z)())||void 0===i?void 0:i.experimentsClient.checkExperiment("advertiser_growth_close_modal_window_without_history").anyEnabled)&&void 0!==n&&n&&t.length<=1){window.close();return}window?A(Array(r.find(function(e){return e&&e.location&&e.location.pathname.includes("pin-builder")})?3:1)).forEach(function(){return a?window.history.back():t.goBack()}):t.goBack()},X=function(e){switch(e){case 4:return m.YD;case 3:return h.KUo;case 0:return m.Vi;default:return null}},$=function(e,t,r){y.Z.setItem(_.hM,x(x({},y.Z.getItem(_.hM)),{},O({},"".concat(t,".").concat(e),{pin:r.pin,dailyBudget:r.dailyBudget,destinationUrl:r.destinationUrl,duration:r.duration,locale:r.locale,name:r.name,interests:r.interests,ages:r.ages,genders:r.genders,adType:r.adType})))},Q=function(e,t){if(!e||!t)return null;var r="".concat(t,".").concat(e),n=y.Z.getItem(_.hM);if(null===n)return null;var o=n[r];return(0,p.Z)(o)?null:o},J=function(e,t){if(e&&t){var r="".concat(t,".").concat(e),n=y.Z.getItem(_.hM);null!==n&&(delete n[r],0===Object.keys(n).length?y.Z.removeItem(_.hM):y.Z.setItem(_.hM,n))}};function ee(e,t){var r=A(e),n=r.indexOf(t);return n>-1?r.splice(n,1):r.push(t),r}function et(e,t,r){return er.apply(this,arguments)}function er(){return(er=E(regeneratorRuntime.mark(function e(t,r,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.filter(function(e){return e.filter_v2}),e.next=3,Promise.all(o.map(function(){var e=E(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(0,P.nP)("client.partner.shoppingAds.getProductsForCatalog.success",{sampleRate:1}),e.next=4,(0,f.Z)({url:"/v3/catalogs/product_groups/products/".concat(t.merchant_id,"/").concat(t.feed_profile_id,"/"),enabledRouteRefresh:!0,data:{filters:JSON.stringify(t.filter_v2)},field_sets:(0,g.G6)()});case 4:return r=e.sent,e.abrupt("return",{productGroup:t,pins:r.resource_response.data||[]});case 8:return e.prev=8,e.t0=e.catch(0),(0,P.nP)("client.partner.shoppingAds.getProductsForCatalog.error",{sampleRate:1}),e.abrupt("return",[]);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()));case 3:n(r(e.sent.filter(function(e){return e.productGroup&&Array.isArray(e.pins)&&e.pins.length>0}).map(function(e){return{productPin:Array.isArray(e.pins)?e.pins[0]:[],productGroup:Array.isArray(e)?null:e.productGroup}})));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function en(e,t,r,n){return eo.apply(this,arguments)}function eo(){return(eo=E(regeneratorRuntime.mark(function e(t,r,n,o){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.all(r.map(function(){var e=E(regeneratorRuntime.mark(function e(r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.Z)({url:"/ads/v4/advertisers/".concat(t,"/product_groups/catalogs/"),enabledRouteRefresh:!0,data:{feed_profile_id:r.id}});case 3:return n=(e.sent.resource_response.data||[]).filter(function(e){return e.product_count&&e.product_count>0}),e.abrupt("return",{feed:r,productGroups:n});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",[]);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()));case 4:o(n(e.sent));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}},719286:function(e,t,r){"use strict";r.d(t,{$v:function(){return h},eN:function(){return b},gf:function(){return a},i7:function(){return y},in:function(){return d},jz:function(){return s},pD:function(){return c},p_:function(){return i},s5:function(){return u},tz:function(){return f},uE:function(){return p},zY:function(){return l}});var n="iphone",o="android_mobile",i="ipad",a="android_tablet",c="web_mobile",s=["web",c,n,i,o,a],l=["android_mobile","android_tablet","iphone","ipad","web"],u=["android_mobile","android_tablet","iphone","ipad","web"],d=["android_mobile","iphone"],f=["android_mobile","android_tablet","iphone","ipad"],p=[n,o],y=[n,o],h=[n,o,i,a],b=[n,o]},759723:function(e,t,r){"use strict";r.d(t,{W:function(){return z},Z:function(){return M}});var n,o,i,a,c,s=r(76911),l=r(704217),u=r(407043),d=r(681669),f=r(357998),p=r(829407),y=r(908390),h=r(112690),b=r(916117),m=r(149230),v=r(901787),g=r(515198),_=void 0!==n?n:n=r(544599);function P(e){var t,r=e.actionKey,n=e.alignCenter,o=(0,b.u)(_,r).data,i=(0,h.Z)(),a=o.title,c=o.description,l=o.button,u=null==l?void 0:l.text,d=null==a?void 0:a.text,f=null==c?void 0:c.text,p=null!==(t=null==l?void 0:l.link)&&void 0!==t?t:"",P=p.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""),S=u&&p.startsWith("http"),j=(0,m.Z)({url:p});return S?(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(y.xu,{marginBottom:1,children:(0,g.jsx)(y.xv,{align:n?"center":"start",weight:"bold",children:""!==u?u:"Visit"})}),(0,g.jsx)(y.xu,{marginBottom:1,children:(0,g.jsx)(y.rU,{rel:S&&j?"nofollow":"none",href:p,onClick:function(){(0,v.AY)(i,p)},children:(0,g.jsx)(y.xv,{align:n?"center":"start",lineClamp:1,weight:"normal",underline:!0,children:P})})})]}):(0,g.jsxs)(s.Fragment,{children:[!!d&&(0,g.jsx)(y.xu,{marginBottom:1,children:(0,g.jsx)(y.xv,{align:n?"center":"start",weight:"bold",children:d})}),!!f&&(0,g.jsx)(y.xu,{marginBottom:1,children:(0,g.jsx)(y.xv,{align:n?"center":"start",children:f})})]})}var S=void 0!==o?o:o=r(341365);function j(e){for(var t=e.text,r=e.textTags,n=[],o=0,i=0;i<r.length;i+=1){var a=r[i];if(5===a.tagType&&a.link){var c=a.offset,s=a.length,l=a.link;if(null!=c&&null!=s&&null!=l){var u=t.substring(c,c+s),d=(0,g.jsx)(y.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(y.rU,{display:"inlineBlock",target:"blank",href:l,underline:"hover",children:u},u)});n.push((0,g.jsx)("span",{children:t.substring(o,c)})),n.push(d),o=c+s}}}return(o>0&&n.push((0,g.jsx)("span",{children:t.substring(o)})),0===n.length)?[(0,g.jsx)("span",{children:t})]:n}function x(e){var t=e.graphqlRef,r=e.text,n=(0,l.useFragment)(S,t);return(0,g.jsx)(j,{text:r,textTags:n})}function O(e){var t=e.textTags,r=e.text,n=t.map(function(e){return{length:e.length,link:e.link,offset:e.offset,tagType:e.tag_type}});return(0,g.jsx)(j,{text:r,textTags:n})}function w(e){var t=e.dataKey,r=e.text;return"graphqlRef"===t.type?(0,g.jsx)(x,{graphqlRef:t.data,text:r}):(0,g.jsx)(O,{textTags:t.data,text:r})}var E=[4,14],A={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},T={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},I=void 0!==i?i:i=r(521502);function C(e){var t,r,n,o,i,a=e.advisory,c=e.inModal,s=e.noticeKey,l=(0,f.Q)(I,s,{useLegacyAdapter:function(e){var t,r;return{actions:null===(t=e.actions)||void 0===t?void 0:t.map(function(e){return{actionId:e.id,$fragmentSpreads:d.qH}}),description:e.description&&{text:e.description.text,textTags:null===(r=e.description.text_tags)||void 0===r?void 0:r.map(function(){return{$fragmentSpreads:d.qH}})},title:e.title}}}),u=l.data,p=l.childDataKey__DEPRECATED,h=u.title,b=u.description,m="graphqlRef"===p.type?null===(t=p.data.actions)||void 0===t?void 0:t.map(function(e){return{type:"graphqlRef",data:e}}):null===(r=p.data.actions)||void 0===r?void 0:r.map(function(e){return{type:"deprecated",data:e}}),v=!!(null!=m&&m.length)&&!!a&&E.includes(a),_=(null==m?void 0:m.length)===1,S=b&&b.text||"";return(0,g.jsxs)(y.xu,{rounding:2,padding:6,dangerouslySetInlineStyle:{__style:c?T:A},children:[!!h&&!c&&(0,g.jsx)(y.xu,{marginBottom:2,display:"flex",children:(0,g.jsx)(y.X6,{size:"500",children:h})}),!!S&&(0,g.jsx)(y.xu,{marginBottom:4,"data-test-id":"search-advisory",children:(0,g.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,g.jsx)(y.xv,{overflow:"normal",align:c?"center":"start",children:(0,g.jsx)(w,{dataKey:"graphqlRef"===p.type?{type:"graphqlRef",data:null!==(n=null===(o=p.data.description)||void 0===o?void 0:o.textTags)&&void 0!==n?n:[]}:{type:"deprecated",data:null!==(i=p.data.description.text_tags)&&void 0!==i?i:[]},text:S})})})}),v&&(0,g.jsx)(y.xu,{display:"flex",wrap:!0,marginStart:-2,marginEnd:-2,direction:c?"column":"row",children:null==m?void 0:m.map(function(e){var t;return(0,g.jsx)(y.xu,{column:c||_?12:6,paddingY:1,paddingX:2,children:(0,g.jsx)(P,{actionKey:e,alignCenter:c||_})},null!==(t=e.data.actionId)&&void 0!==t?t:JSON.stringify(e.data))})})]})}function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var D=void 0!==a?a:a=r(833866);function B(e){var t,r,n,o,i,a,c=e.noticeKey,s=(0,f.Q)(D,c,{useLegacyAdapter:function(e){var t,r;return{actions:null===(t=e.actions)||void 0===t?void 0:t.map(function(e){return{button:e.button&&{link:e.button.link,text:e.button.text},description:e.description&&{text:e.description.text},title:e.title&&{text:e.title.text}}}),description:e.description&&{text:e.description.text,textTags:null===(r=e.description.text_tags)||void 0===r?void 0:r.map(function(){return{$fragmentSpreads:d.qH}})},footer:e.footer&&{link:e.footer.link,text:e.footer.text}}}}),l=s.data,u=s.childDataKey__DEPRECATED,p=(0,h.Z)(),b={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,g.jsxs)(y.xu,{width:"100%",display:"flex",direction:"column",alignItems:"center",marginBottom:3,children:[(0,g.jsx)(y.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",width:656,rounding:8,children:(0,g.jsxs)(y.xu,{height:"100%",width:"100%",padding:10,children:[(0,g.jsx)("span",{style:b,children:(0,g.jsx)(w,{dataKey:"graphqlRef"===u.type?{type:"graphqlRef",data:null!==(t=null===(r=u.data.description)||void 0===r?void 0:r.textTags)&&void 0!==t?t:[]}:{type:"deprecated",data:null!==(n=u.data.description.text_tags)&&void 0!==n?n:[]},text:(null===(o=l.description)||void 0===o?void 0:o.text)||""})}),(0,g.jsx)(y.xu,{marginTop:6,children:(null!==(i=l.actions)&&void 0!==i?i:[]).map(function(e){var t,r,n,o,i=null===(t=e.button)||void 0===t?void 0:t.link;return i&&i.startsWith("tel")?(0,g.jsxs)(y.xu,{children:[(0,g.jsx)("span",{style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==R(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({fontWeight:"600"},b),children:null===(r=e.title)||void 0===r?void 0:r.text}),(0,g.jsx)("span",{style:b,children:null===(n=e.description)||void 0===n?void 0:n.text})]}):(0,g.jsx)(y.rU,{href:i||"",onClick:function(){(0,v.AY)(p,i||"")},children:(0,g.jsx)(y.xu,{display:"inlineBlock",children:(0,g.jsx)(y.xu,{alignItems:"center",color:"infoBase",display:"flex",justifyContent:"center",height:44,rounding:"pill",paddingX:12,children:(0,g.jsx)(y.xv,{color:"inverse",weight:"bold",children:(null===(o=e.button)||void 0===o?void 0:o.text)||""})})})})})})]})}),!!l.footer&&(0,g.jsx)(y.xu,{paddingY:2,width:540,children:(0,g.jsx)(y.rU,{href:null!==(a=l.footer.link)&&void 0!==a?a:"",display:"inlineBlock",onClick:function(){var e,t;(0,v.AY)(p,null!==(e=null===(t=l.footer)||void 0===t?void 0:t.link)&&void 0!==e?e:"")},target:"blank",underline:"hover",children:(0,g.jsx)(y.xv,{align:"center",color:"subtle",size:"100",children:(0,g.jsx)("div",{dangerouslySetInnerHTML:{__html:l.footer.text}})})},l.footer.link)})]})}var N=void 0!==c?c:c=r(940875);function L(e){var t=e.advisoryDetails,r=e.query,n=e.sensitivity,o=e.viewType,i=(0,u.v)().logContextEvent;(0,p.Z)(function(){o&&i({event_type:120,component:13367,view_type:o,aux_data:{entered_query:r,advisory_details:t,advisory_level:null==n?void 0:n.advisory,severity_level:null==n?void 0:n.severity}})})}function z(e){var t,r,n=e.sensitivityKey,o=e.inModal,i=e.query,a=e.viewType,c=(0,f.Q)(N,n,{useLegacyAdapter:function(e){var t;return{advisory:e.advisory,severity:e.severity,notices:null===(t=e.notices)||void 0===t?void 0:t.map(function(e){return{style:e.style,$fragmentSpreads:d.qH}})}}}),l=c.data,u=c.childDataKey__DEPRECATED;L({advisoryDetails:(null==n?void 0:n.type)==="deprecated"?n.data.advisory_details:void 0,query:i,sensitivity:null!=l?{advisory:l.advisory,severity:l.severity}:void 0,viewType:a});var p=(null==u?void 0:u.type)==="graphqlRef"?null===(t=u.data.notices)||void 0===t?void 0:t.map(function(e){return{type:"graphqlRef",data:e}}):null==u?void 0:null===(r=u.data.notices)||void 0===r?void 0:r.map(function(e){return{type:"deprecated",data:e}});return(0,g.jsx)(s.Fragment,{children:(null!=p?p:[]).map(function(e){return 2===e.data.style?(0,g.jsx)(B,{noticeKey:e}):(0,g.jsx)(C,{advisory:null==l?void 0:l.advisory,inModal:o,noticeKey:e})})})}function M(e){var t=e.notices,r=e.query,n=e.sensitivity,o=e.viewType,i=e.inModal;return L({advisoryDetails:null==n?void 0:n.advisory_details,query:r,sensitivity:{advisory:null==n?void 0:n.advisory,severity:null==n?void 0:n.severity},viewType:o}),(0,g.jsx)(s.Fragment,{children:null==t?void 0:t.map(function(e){return 2===e.style?(0,g.jsx)(B,{noticeKey:{type:"deprecated",data:e}}):(0,g.jsx)(C,{advisory:null==n?void 0:n.advisory,inModal:i,noticeKey:{type:"deprecated",data:e}})})})}},901787:function(e,t,r){"use strict";r.d(t,{AY:function(){return a},IR:function(){return o},St:function(){return n},Uz:function(){return i}});var n={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},o={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function i(e){return!!e&&e.severity===o.ABUSIVE}function a(e,t){e({aux_data:{url:t},component:13367,element:11180,event_type:101,view_parameter:43,view_type:2})}},312918:function(e,t,r){"use strict";var n=r(76911),o=r(908390),i=r(987765),a=r(356997),c=r(694379),s=r(898781),l=r(349700),u=r(773285),d=r(985913),f=r(883561),p=r(954931),y=r(215292),h=r(202870),b=r(777906),m=r(515198);t.Z=function(e){var t=(0,s.ZP)(),r=e.followerCount,v=e.fullName,g=e.hasVerifiedIdentity,_=e.imageUrl,P=e.isPromoted,S=e.isVerifiedMerchant,j=e.profileUrl,x=e.sponsorName,O=e.sponsorshipStatus,w=e.sponsorUsername,E=void 0===w?"":w,A=e.verified,T=e.color,I=void 0===T?"default":T,C=e.onAvatarClick,R=e.onNavigateClick,k=e.onNavigateSponsorClick,D=e.openNewTab,B=e.isLeadPin,N=(0,u.F)().checkExperiment("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled,L=(0,d.Z)(t._('{{ fullName }} avatar link', 'creatorCardProfile.avatar.accessibilityLabel', 'Accessibility label for user avatar'),{fullName:null!=v?v:""}),z=(0,m.jsx)(y.q,{children:function(e){var t=e.active,r=e.focused,n=e.hovered,i=e.onBlur,c=e.onFocus,s=e.onMouseEnter,l=e.onMouseLeave;return(0,m.jsx)(o.xu,{onBlur:i,onFocus:c,onMouseEnter:s,onMouseLeave:l,onMouseDown:function(){C&&C()},children:(0,m.jsx)(o.zd,{rounding:"circle",wash:n||t||r,children:(0,m.jsx)(a.qE,{accessibilityLabel:L,name:null!=v?v:"",size:"md",src:null!=_?_:"",verified:A})})})}}),M=(0,f.ZP)(v,70),Z=(0,m.jsxs)(n.Fragment,{children:[P&&(0,m.jsx)(i.Z,{size:"200",lineClamp:1,weight:"bold",children:t._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin')}),(0,m.jsx)(o.xu,{"data-test-id":"creator-profile-name",children:(0,m.jsx)(o.xu,{maxWidth:270,children:(0,m.jsx)(o.xv,{color:I,size:"200",weight:void 0!==B&&B?"normal":"bold",children:g||S?(0,m.jsx)(b.Z,{badgeSize:"xs",badgeSpacing:2,fullName:M,identityIsVerified:g,isVerifiedMerchant:S}):v})})})]}),F=E&&x||h.j.includes(O)&&N;return(0,m.jsxs)(o.xu,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"creator-card-profile",children:[(0,m.jsx)(o.xu,{"data-test-id":"creator-avatar",flex:"none",paddingX:1,children:j?(0,m.jsx)(o.Tg,{rel:(0,p.Z)(j)?"none":"nofollow",target:D?"blank":null,onTap:R,href:j,children:z}):z}),(0,m.jsxs)(o.xu,{children:[(0,m.jsx)(o.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingX:1,children:j?(0,m.jsx)(o.rU,{underline:"none",href:j,onClick:R,rel:(0,p.Z)(j)?"none":"nofollow",target:D?"blank":null,children:Z}):Z}),F?(0,m.jsx)(o.xu,{"data-test-id":"sponsor-title",display:"flex",paddingX:1,children:(0,m.jsx)(h.Z,{href:"/".concat(null!=E?E:"","/"),isPromoted:P,sponsorName:x,sponsorUsername:E,sponsorshipStatus:O,onNavigateSponsorClick:k})}):!!r&&(0,m.jsx)(o.xu,{"data-test-id":"follower-count",display:"flex",paddingX:1,children:(0,m.jsx)(o.xv,{color:I,size:"200",children:(0,l.nk)(t.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', r, 'closeup.creator.followerCount', 'the number of followers the creator of the pin has'),{followerCount:(0,m.jsx)(c.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:r},r)})})})]})]})}},427806:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(908390),o=r(515198);function i(e){var t=e.text;return(0,o.jsx)(n.xu,{display:"visuallyHidden",children:(0,o.jsx)(n.X6,{accessibilityLevel:1,children:t})})}},977558:function(e,t,r){"use strict";r.d(t,{L1:function(){return i},Rz:function(){return s},WZ:function(){return a},cI:function(){return o},fe:function(){return c},hu:function(){return n}});var n=64,o=80,i=22,a="HeaderContent",c=671,s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},861411:function(e,t,r){"use strict";r.d(t,{fv:function(){return R},fS:function(){return z},Vi:function(){return C},Hs:function(){return D},Mv:function(){return T},uc:function(){return I},dL:function(){return A},qS:function(){return k},Y4:function(){return L},HE:function(){return N},Cy:function(){return B}});var n=r(76911),o=r(945790),i=r(407043),a=r(124580),c=r(515198);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){h(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(c,e);var t,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=y(c);if(t){var n=y(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return h(p(e=i.call.apply(i,[this].concat(r))),"observe",function(){try{if(e.node=(0,o.findDOMNode)(p(e)),e.node instanceof HTMLElement){var t=e.props.eventData,r=t.pinIdStr,n=t.newsIdStr;a.Z.start(e.node).onExitViewport(e.logImpression).setDebugId(r||n||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),h(p(e),"logImpression",function(t){e.props.logImpression({viewData:e.props.viewData||{},viewType:e.props.viewType,viewParameter:e.props.viewParameter,eventType:e.props.eventType,impressionType:e.props.impressionType,auxData:e.props.auxData,component:e.props.component,objectIdStr:e.props.objectIdStr,eventData:u({endTime:t.endTime,time:t.startTime},e.props.eventData)})}),e}return d(c.prototype,[{key:"componentDidMount",value:function(){this.props.isPaused||this.observe()}},{key:"componentDidUpdate",value:function(e){e.isPaused&&!this.props.isPaused&&this.observe()}},{key:"componentWillUnmount",value:function(){this.node instanceof HTMLElement&&a.Z.stop(this.node)}},{key:"render",value:function(){return n.Children.only(this.props.children)}}]),r&&d(c,r),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.Component);function v(e){var t=(0,i.v)().logImpression;return(0,c.jsx)(m,u(u({},e),{},{logImpression:t}))}var g=r(337815),_=r(780280),P=r(807609);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){var t=e.auxData,r=e.component,o=e.eventData,c=e.eventType,s=e.impressionType,l=e.isPaused,u=e.objectIdStr,d=e.viewData,f=e.viewType,p=e.viewParameter,y=(0,n.useRef)(null),h=(0,i.v)().logImpression,b=(0,P.Z)(),m=(0,_.B)(),v=(0,n.useCallback)(function(){try{if(y.current instanceof HTMLElement){var e=o.pinIdStr,n=o.newsIdStr;a.Z.start(y.current).onExitViewport(function(e){h({viewData:d||{},viewType:f,viewParameter:p,eventType:c,impressionType:s,auxData:t,component:r,objectIdStr:u,eventData:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==S(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===S(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({endTime:e.endTime,time:e.startTime,pinCellWidth:(null===(n=y.current)||void 0===n?void 0:n.getBoundingClientRect().width)||0,pinCellHeight:(null===(i=y.current)||void 0===i?void 0:i.getBoundingClientRect().height)||0,windowWidth:null===(a=window)||void 0===a?void 0:a.innerWidth,windowHeight:null===(l=window)||void 0===l?void 0:l.innerHeight},o)});var n,i,a,l,v,_,P=o.attributionSourceId,x=o.campaignId,O=o.isPromoted,w=o.link,E=o.advertiserId;"pinImpressions"===s&&O&&!b&&null!==(v=window.document.featurePolicy)&&void 0!==v&&v.allowsFeature("attribution-reporting")&&(0,g.YS)(s,O,null!=P?P:null,w,x,{appType:m.appTypeDetailed,osType:(0,g.eF)(null!==(_=m.userAgent.osName)&&void 0!==_?_:"Unknown")},null!=E?E:null)}).setDebugId(e||n||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[y.current]);return(0,n.useEffect)(function(){l||v();var e=y.current;return function(){e instanceof HTMLElement&&a.Z.stop(e)}},[l,v]),y}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==O(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var A=function(e){var t=x({eventData:E(E({},e.impressionData||{}),{},{pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},T=function(e){var t=x({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},I=function(e){var t=x({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},C=function(e){return(0,c.jsx)(v,{eventData:E(E({},e.impressionData||{}),{},{articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children})},R=function(e){var t=x({eventData:E(E({},e.impressionData||{}),{},{articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},k=function(e){var t=x({eventData:E(E({},e.impressionData||{}),{},{storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},D=function(e){return(0,c.jsx)(v,{eventData:E(E({},e.impressionData||{}),{},{storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children})},B=function(e){var t=x({eventData:E(E({},e.impressionData||{}),{},{userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0}),auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},N=function(e){var t=x({eventData:E(E({},e.impressionData||{}),{},{topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0}),auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},L=function(e){var t=x({eventData:E(E({},e.impressionData||{}),{},{clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},z=function(e){var t=x({eventData:E(E({},e.impressionData||{}),{},{clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:3700,impressionType:"boardImpressions",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})}},830065:function(e,t,r){"use strict";r.d(t,{H:function(){return f},N:function(){return d}});var n=r(76911),o=r(425288),i=r(505920),a=r(515198);function c(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=(0,o.Z)("LastSavedTo"),u=l.Provider,d=l.useHook;function f(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)())||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,2)||c(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=o[0],d=o[1];(0,i.Z8)("BoardPickerBoardsShortlistResource",function(e){l||d(e.response.resource_response.data)});var f=(0,n.useCallback)(function(e){var t=l?l.filter(function(t){return t.id!==e.id}):[];d([e].concat(function(e){if(Array.isArray(e))return s(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||c(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},[l]),p=(0,n.useMemo)(function(){return{lastSavedTo:l,saveToBoard:f}},[l,f]);return(0,a.jsx)(u,{value:p,children:r})}},63552:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(908390),o=r(515198);function i(e){var t=e.children,r=e.onMouseEnter,i=e.onMouseLeave,a=e.onTouch,c=e.rounding,s=e.fullWidth,l=e.pressState,u=void 0===l?"none":l,d=e.accessibilityLabel,f=e.role,p=(Array.isArray(u)?u:[u]).includes("compress");return(0,o.jsx)(n.iP,{fullWidth:void 0!==s&&s,onMouseEnter:r&&function(e){return r(e.event)},onMouseLeave:i&&function(e){return i(e.event)},onTap:a&&function(e){return a(e.event)},rounding:c,tapStyle:p?"compress":"none",accessibilityLabel:d,role:f,children:t})}},825067:function(e,t,r){"use strict";r.d(t,{H:function(){return o},W:function(){return i}});var n=(0,r(425288).Z)("PinCreateDeleteContext"),o=n.Provider,i=n.useMaybeHook},33897:function(e,t,r){"use strict";var n=r(76911),o=r(908390),i=r(898781),a=r(755742);r(176020);var c=r(515198);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){h(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(l,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=y(l);if(t){var n=y(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return h(p(e=i.call.apply(i,[this].concat(r))),"setInputRef",function(t){t&&(e._input=t)}),h(p(e),"handleKeyDown",function(t){var r=e.props,n=r.disabled,o=r.indexManager;if(!n)switch(t.which){case a.Z.ENTER:case a.Z.NUMPAD_ENTER:t.preventDefault(),o.select();break;case a.Z.UP:t.preventDefault(),o.prev();break;case a.Z.DOWN:t.preventDefault(),o.next()}}),e}return r=[{key:"componentDidMount",value:function(){this._input&&this._input.focus()}},{key:"render",value:function(){var e=this.props,t=e.onChange,r=e.value;return(0,c.jsx)("div",{onKeyDown:this.handleKeyDown,role:"presentation",style:{width:"100%"},children:(0,c.jsx)(o.Um,{accessibilityLabel:"",id:"pickerSearchField",onChange:function(e){return t(e.value)},placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),ref:this.setInputRef,size:"lg",value:r})})}}],d(l.prototype,r),n&&d(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);t.Z=function(e){var t=(0,i.ZP)();return(0,c.jsx)(m,u(u({},e),{},{i18n:t}))}},363333:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(76911),o=r(908390),i=r(898781),a=r(176020),c=r(960260),s=r(33897),l=r(507016),u=r(538716),d=r(411547),f=r(515198);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,r){return(t=P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(y,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=g(y);if(t){var n=g(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function y(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,y);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _(v(e=i.call.apply(i,[this].concat(r))),"state",{searchQuery:""}),_(v(e),"handleSelectItem",function(t){var r=e.props,n=r.onCreate,o=r.onSelected;!t&&n?n(e.state.searchQuery):t&&o(t),(n||t)&&e.setState({searchQuery:""})}),_(v(e),"handleSearchQueryInput",function(t){e.setState({searchQuery:t})}),_(v(e),"renderSectionHeader",function(e){return e.title?(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.xu,{paddingX:3,paddingY:1,children:(0,f.jsx)(o.xv,{size:"200",children:e.title})})}):null}),_(v(e),"renderRow",function(t){var r=t.item,n=t.hovered,o=t.sectionProps,i=e.props,a=i.boardSavedTo,c=i.isSelectMode,s=i.disabledRowId,u=e.state.searchQuery,d=(void 0===o?{}:o).inSectionSelection,p=void 0!==d&&d,y=a&&a.board===r.id?a&&a.state:null,h="board_section"===r.type;return(0,f.jsx)(l.Z,{disabled:r.id===s&&p,isSection:h,isSelectMode:c,isWithinSectionPicker:p,item:r,saveState:y,searchQuery:u,selected:n})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.boardSavedTo,r=e.createButtonLabel,n=e.hasLowBoardCount,i=e.getSections,l=e.isLoaded,p=e.onCreate,y=e.pinId;if(!l)return(0,f.jsx)(o.xu,{paddingY:5,children:(0,f.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('loading section picker', 'accessibility label for the loading spinner the repin picker', 'accessibility label for the loading spinner the repin picker'),show:!0})});var h=this.state.searchQuery,b=i(h);return this.indexManager=new a.Z(b.map(function(e){return e.items})),this.indexManager.setSelectItem(this.handleSelectItem),(0,f.jsxs)(o.xu,{minHeight:0,flex:"grow",height:"100%",overflow:"auto",display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{zIndex:0}},children:[!n&&(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.xu,{paddingX:3,marginBottom:4,marginTop:1,children:(0,f.jsx)(s.Z,{disabled:!!t,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:h})})}),(0,f.jsx)(c.Z,{disabled:!!t,grow:!n&&!h,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:b}),p&&(0,f.jsx)(o.xu,{borderStyle:b.length>1?"shadow":"none",children:(0,f.jsx)(d.Z,{buttonLabel:r,hasHoverState:!0,name:h,onClick:function(){return p(h)}})}),n&&p&&y&&(0,f.jsx)(u.Z,{onBoardSelected:p,pinId:y})]})}}],b(y.prototype,r),n&&b(y,n),Object.defineProperty(y,"prototype",{writable:!1}),y}(n.Component);function j(e){var t=(0,i.ZP)();return(0,f.jsx)(S,h(h({},e),{},{i18n:t}))}},723852:function(e,t,r){"use strict";r.d(t,{Z:function(){return A}});var n=r(76911),o=r(833314),i=r(908390),a=r(214494),c=r(332611),s=r(898781),l=r(349700),u=r(414327),d=r(830157),f=r(327212),p=r(258430),y=r(515198),h=r(499128),b=r(19121);function m(e){var t=e.boardId,r=e.hideToast,n=e.pinId,o=e.originalPinId,a=(0,s.ZP)(),c=(0,b.Z)();return(0,y.jsx)(h.ZP,{primaryAction:{accessibilityLabel:a._('Change saved Pin button', 'RepinRequest.a11yChangeButton', 'Change saved Pin button'),href:"/pin/".concat(n,"/repin/?isEditingPin=true&pinBoardId=").concat(null!=t?t:"","&&isFromToast=true&&originalPinId=").concat(null!=o?o:""),label:a._('Change', 'RepinRequest.ChangeButton', 'Change saved Pin button'),size:"lg",onClick:r,role:"link"},duration:5e3,onHide:r,text:(0,y.jsxs)(i.xv,{children:[(0,y.jsx)(i.xv,{inline:!0,children:a._('Saved to ', 'RepinRequest.ProfileSaveToastText', 'Toast for successfully saving to profile')}),(0,y.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,y.jsx)(i.rU,{display:"inlineBlock",href:c.isAuth?"/".concat(c.username,"/_saved"):"/",target:"self",underline:"hover",children:a._('Profile', 'RepinRequest.ProfileSaveToastText.Profile', 'referring to pinner profile where pin was saved')})})]}),thumbnail:{icon:(0,y.jsx)(i.JO,{accessibilityLabel:a._('Profile', 'RepinRequest.ProfileIcon', 'Icon signifying Pin was saved to profile without a board'),icon:"history",size:22})}})}var v=r(12918),g=r(483025);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach(function(t){x(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}function x(e,t,r){return(t=O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}var w="RepinResource",E=function(e){var t=e.board,r=e.section,o=(0,s.ZP)(),a="quick_saves"===t.layout?o._('Profile', 'EditPin.Quicksaves.BoardName', 'Name for Quicksaves board that we want to surface to users'):t.name;return r?(0,l.nk)(o._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:r&&r.title,boardName:t.name}).join(""):(0,y.jsxs)(n.Fragment,{children:[(0,y.jsx)(i.xv,{color:"default",children:o._('Saved to', 'Saved to {{ boardName }}', 'Saved to {{ boardName }}')}),(0,y.jsx)(i.xv,{color:"default",weight:"bold",children:a})]})},A=function(){var e,t;function r(e){var t=e.boardId,n=e.dispatch,i=e.history,a=e.isOneTapSave,c=e.isQuickSave,s=e.onSuccess,l=e.onUndo,u=e.originalPinId,f=e.pinId,p=e.section,y=e.showNewUserSavetoProfileAnimation,h=e.showRepinToasts,b=e.trackingParams,m=e.userId,v=e.viewType,_=e.historyPush,P=e.suggestedBoardIds,S=e.savePinId,j=e.pinData,O=j.trackingParams,E=j.viewParameter,A=j.pinnedToBoardId;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),x(this,"_getNormalizedResponse",function(e){return(0,o.Fv)(e.resource_response.data,g.Z[w])}),this.boardId=t,this.trackingParams=b,this.clientTrackingParams=(0,d.Z)(b.clientTrackingParams||"",O),this.dispatch=n,this.history=i,this.onSuccess=s,this.onUndo=l,this.originalPinId=u,this.pinId=f,this.pinnedToBoardId=b.pinnedToBoardId||(null!=A?A:""),this.showNewUserSavetoProfileAnimation=void 0!==y&&y,this.showRepinToasts=h,this.section=p,this.isOneTapSave=void 0!==a&&a,this.isQuickSave=void 0!==c&&c,this.userId=m,this.viewType=null!=v?v:3,this.historyPush=_,this.suggestedBoardIds=P,this.savePinId=S,this.pinViewParameter=E}return e=[{key:"resourceOptions",get:function(){var e;return{pin_id:this.pinId,board_id:this.boardId,section:null===(e=this.section)||void 0===e?void 0:e.id,clientTrackingParams:this.clientTrackingParams,user_id:this.userId}}},{key:"trackingData",get:function(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?3173:this.pinViewParameter,object_id_str:this.pinId,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId,is_profile_save:!this.boardId,pin_id:this.pinId,suggested_boards:this.suggestedBoardIds}}}},{key:"_createRepin",value:function(){return a.Z.create(w,S(S({},this.resourceOptions),{},{disable_event_log_info:!0})).callCreate()}},{key:"processRepin",value:function(e){var t=this;return this._createRepin().then(function(r){t.onSuccess&&t.onSuccess();var n=r.resource_response.data,o=n.board,a=t.isQuickSave,l=t.originalPinId,d=t.showNewUserSavetoProfileAnimation,h=t._getNormalizedResponse(r);if(t.dispatch((0,u.XM)(w,t.resourceOptions,r,h)),t.savePinId(t.resourceOptions.pin_id,n.id),t.originalPinId&&t.originalPinId!==t.resourceOptions.pin_id){var b=S(S({},t.resourceOptions),{},{pin_id:t.originalPinId});t.dispatch((0,u.XM)(w,b,r,h)),t.savePinId(t.originalPinId||"",n.id)}t.dispatch((0,v.M)(n.id,o.id,t.section?t.section.id:void 0,t.userId));var g=t.showRepinToasts;return g&&g(function(e){var r,c,u=e.hideToast;if(a&&!d)return(0,y.jsx)(m,{hideToast:u,pinId:n.id,boardId:n.board.id,originalPinId:l});var h=(r=o.id,{duration:5e3,thumbnail:(0,y.jsx)(i.xu,{"data-test-id":"pin-save-toast",width:48,height:48,children:(0,y.jsx)(p.Z,{boardId:r})})}).thumbnail;return(0,y.jsx)(f.Z,{button:(0,y.jsx)(s.oz,{children:function(e){return(0,y.jsx)(i.zx,{fullWidth:!0,onClick:function(r){var i,a=r.event;a.preventDefault(),a.stopPropagation();var c=t.onUndo;c&&!d?c(t.pinId,n.id,o.id,null===(i=t.section)||void 0===i?void 0:i.id,e):d&&t.historyPush("/pin/".concat(n.id,"/repin/?isEditingPin=true&pinBoardId=").concat(o.id,"&&isFromToast=true&&originalPinId=").concat(null!=l?l:""))},text:d?e._('Organize', 'RepinRequest.OrganizeButton', 'Button to allow users to organize saved pins'):e._('Undo', 'RepinRequest.UndoButton', 'Undo saved pin button')})}}),href:t.section?"".concat(o.url).concat(null!==(c=t.section.slug)&&void 0!==c?c:""):o.url,isRepinToExistingBoard:!0,onHide:u,text:(0,y.jsx)(E,{board:o,section:t.section}),thumbnail:h})}),t.dispatch((0,c.fO)({event_type:5})),e(t.trackingData),n})}}],j(r.prototype,e),t&&j(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}()},425480:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(76911),o=r(700380);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var f=function(e,t){var r=e.scrollTop,n=e.clientHeight,o=e.scrollHeight;return r+n+(t?t(n):2*n)>o},p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(d,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=l(d);if(t){var n=l(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function d(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return u(s(e=n.call.apply(n,[this].concat(r))),"setContainerRef",function(t){e.containerRef=t}),u(s(e),"fetchMoreIfNecessary",(0,o.Z)(function(){var t=e.props,r=t.fetchMore,n=t.scrollBuffer;r&&e.containerRef&&f(e.containerRef,n)&&r()},200)),e}return a(d.prototype,[{key:"componentDidMount",value:function(){setTimeout(this.fetchMoreIfNecessary)}},{key:"componentDidUpdate",value:function(){this.fetchMoreIfNecessary()}},{key:"render",value:function(){return(0,this.props.children)({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}]),r&&a(d,r),Object.defineProperty(d,"prototype",{writable:!1}),d}(n.PureComponent)},17676:function(e,t,r){"use strict";r.d(t,{l:function(){return b},E:function(){return h}});var n=r(76911),o=r(425288),i=r(505920);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){var n;return(n=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===a(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("SUGGESTIONS_FETCH_COMPLETE"===t.type){var r=t.payload;if("ShareSuggestionsResource"===r.resource){var n,o=t.payload.response.resource_response.data||[],i=(null!==(n=r.options)&&void 0!==n?n:{}).term,a=void 0===i?"":i;return s(s({},e),{},l({},a,o))}if("ShareSuggestionsTypeaheadResource"===r.resource){var c,u=(t.payload.response.resource_response.data||{}).items||[],d=(null!==(c=r.options)&&void 0!==c?c:{}).term,f=void 0===d?"":d;return s(s({},e),{},l({},f,u))}}return e}var d=r(515198);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=(0,o.Z)("ShareSuggestions"),y=p.Provider,h=p.useHook;function b(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(u,{}))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],c=o[1],s=function(e){c({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,i.Z8)("ShareSuggestionsResource",s),(0,i.Z8)("ShareSuggestionsTypeaheadResource",s);var l=(0,n.useMemo)(function(){return{shareSuggestions:a}},[a]);return(0,d.jsx)(y,{value:l,children:r})}},202870:function(e,t,r){"use strict";r.d(t,{Z:function(){return l},j:function(){return s}});var n=r(908390),o=r(898781),i=r(349700),a=r(773285),c=r(515198),s=[0,2,3];function l(e){var t,r=e.hasAffiliateProducts,l=e.href,u=e.isPromoted,d=e.onNavigateSponsorClick,f=e.sponsorName,p=e.sponsorUsername,y=e.sponsorshipStatus,h=e.textWeight,b=(0,o.ZP)(),m=(0,a.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,v=(0,a.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,g=l||(p?"/".concat(p,"/"):null),_=g&&f?(0,c.jsx)(n.rU,{href:g,onClick:d,children:(0,c.jsx)(n.xv,{weight:void 0===h?"bold":h,size:"200",children:f})},f):void 0;return u?t=(0,i.nk)(b._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:_}):y||0===y?f&&!s.includes(y)?t=(0,i.nk)(b._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:_}):v&&2===y||(t=b._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):r&&(t=b._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,c.jsxs)(n.xv,{inline:!0,size:"200",lineClamp:2,children:[m&&!u&&"Ad • "||"",t]})}},777906:function(e,t,r){"use strict";var n=r(76911),o=r(908390),i=r(865607),a=r(515198);t.Z=function(e){var t=e.badgeSize,r=e.badgeSpacing,c=e.fullName,s=e.identityIsVerified,l=e.isVerifiedMerchant,u=e.truncate,d=c.split(" "),f=d.slice(0,d.length-1).join(" "),p=" ".concat(d[d.length-1]);return void 0!==u&&u?(0,a.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(o.xv,{lineClamp:1,weight:"bold",children:c}),(0,a.jsx)(o.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:r}},paddingX:1,children:(0,a.jsx)(i.Z,{size:t,hasVerifiedIdentity:s,isVerifiedMerchant:l})})]}):(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)("span",{children:f}),(0,a.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[p,"\xa0",(0,a.jsx)(o.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:r}},children:(0,a.jsx)(i.Z,{size:t,hasVerifiedIdentity:s,isVerifiedMerchant:l})})]})]})}},497307:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(908390),o=r(898781),i=r(313047),a=r(542554),c=r(734226),s=r(404508),l=r(515198);function u(e){var t=(0,o.ZP)(),r=e.backButtonIcon,u=e.name,d=e.onNextButtonTouch,f=e.onNameChange,p=e.selectedPinIds,y=void 0===p?[]:p,h=e.useRoundedCorners,b=y.length>0?130:64;return(0,l.jsxs)(a.default,{hasFixedHeader:!0,children:[(0,l.jsxs)(i.FixedHeader,{height:b,paddingY:3,useRoundedCorners:h,children:[(0,l.jsxs)(n.kC,{alignItems:"center",justifyContent:"between",children:[(0,l.jsx)(s.Z,{color:"darkGray",icon:r||"cancel",padding:3,size:"sm"}),(0,l.jsx)(n.X6,{accessibilityLevel:1,size:"300",children:t._('Add section', 'for add board section page', 'for add board section page')}),(0,l.jsx)(n.xu,{"data-test-id":"create-section-button",children:(0,l.jsx)(n.zx,{accessibilityLabel:t._('Add', 'boardSectionCreate.Add.Button.Text', 'Add button accessibility label for board section create page'),onClick:d,disabled:""===u.trim(),color:"red",size:"lg",text:t._('Next', 'Next button for board section create page', 'Next button for board section create page')})})]}),y&&(0,l.jsx)(c.Z,{selectedPinIds:y})]}),(0,l.jsx)(n.xu,{"data-test-id":"addSectionName",paddingX:2,paddingY:3,children:(0,l.jsx)(n.nv,{id:"section-name-input",label:t._('Name', 'boardSectionCreate.TextField.Name.Label', 'TextField label to Name on BoardSectionCreate'),onChange:function(e){return f(e.event)},size:"lg",value:u})})]})}},478540:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(506979),o=r(908390),i=r(898781),a=r(989726),c=r(19121),s=r(290943),l=r(384833),u=r(188170),d=r(515198),f=function(){var e=(0,c.Z)().id;return(0,a.Z)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker",user_id:e}}),(0,n.useSelector)(function(e){return(0,l.Z)(e)||[]})};function p(e){var t=e.excludeBoardId,r=e.onRepinToBoard,n=(0,i.ZP)(),a=f();return a.length>0&&(0,d.jsxs)(o.xu,{children:[(0,d.jsx)(o.xu,{marginTop:3,children:(0,d.jsx)(o.xv,{children:n._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')})}),(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"".concat(s.T,"px")}},paddingY:3,children:a.filter(function(e){return e.id!==t}).map(function(e){return(0,d.jsx)(u.Z,{boardId:e.id,onBoardSelected:function(){return r(e)}},e.id)})})]})}},676802:function(e,t,r){"use strict";r.d(t,{Wx:function(){return R}});var n=r(76911),o=r(506979),i=r(599689),a=r(908390),c=r(499128),s=r(898781),l=r(313047),u=r(542554),d=r(343341),f=r(290943),p=r(478540),y=r(734226),h=r(63552),b=r(678638),m=r(404508),v=r(568674),g=r(515198);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach(function(t){T(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function j(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(e){r(e);return}c.done?t(s):Promise.resolve(s).then(n,o)}function x(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){j(i,n,o,a,c,"next",e)}function c(e){j(i,n,o,a,c,"throw",e)}a(void 0)})}}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I(n.key),n)}}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,r){return(t=I(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}function C(e,t,r){return e?r._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.'):t?r._('Saved to section!', ' - ', ' -- '):r._('Saved to board!', ' - ', ' -- ')}function R(e){var t=e.onAddNewSection,r=e.useIconWithBackground,n=(0,s.ZP)();return(0,g.jsx)(l.FixedFooter,{height:r?f.y:f.T,alignCenter:r,children:(0,g.jsx)(h.Z,{onTouch:t,pressState:"none",children:(0,g.jsxs)(a.xu,{display:"flex",alignItems:"center",padding:r?0:1,"data-test-id":"addSectionButton",children:[r?(0,g.jsx)(a.xu,{color:"secondary",rounding:2,dangerouslySetInlineStyle:{__style:{padding:"14px"}},children:(0,g.jsx)(a.JO,{icon:"add",color:"default",size:20,accessibilityLabel:n._('Create board button', 'RepinSection.CreateBoard.Button', 'accessibility label for create board button')})}):(0,g.jsx)(a.JO,{icon:"add-circle",color:"error",size:38,accessibilityLabel:n._('Add section button', ' - ', ' -- ')}),r?(0,g.jsx)(a.xu,{marginStart:2,children:(0,g.jsx)(a.xv,{size:"400",weight:"bold",children:n._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})}):(0,g.jsx)(a.xu,{marginStart:3,children:(0,g.jsx)(a.xv,{weight:"bold",children:n._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})})]})})})}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=A(i);if(t){var n=A(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return E(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return T(E(e=o.call.apply(o,[this].concat(r))),"onRepinToBoard",function(t){t.section_count?e.props.onRepinToBoardWithSections(t):e.props.repinToOtherBoard(t.id,e.props.i18n)}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.boardId,r=e.boardSectionId,n=e.orginalBoardId,o=e.onAddNewSection,i=e.repin,c=e.hideBoardPickerRow,s=e.selectedPinIds,d=e.isCollaborative,f=n===t;return(0,g.jsxs)(u.default,{hasFixedHeader:!0,children:[(0,g.jsxs)(l.FixedHeader,{hasBorder:!0,height:140,children:[(0,g.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,g.jsx)(a.xu,{column:2,children:(0,g.jsx)(m.Z,{})}),(0,g.jsx)(a.xu,{column:8,children:(0,g.jsx)(a.X6,{align:"center",accessibilityLevel:1,size:"300",children:this.props.i18n._('Choose section', 'title for section selection in repin flow', 'title for section selection in repin flow')})}),(0,g.jsx)(a.xu,{column:2})]}),(0,g.jsx)(y.Z,{selectedPinIds:s})]}),t&&(0,g.jsx)(v.Z,{boardId:t,repin:i,originalBoardId:n,hideBoardPickerRow:f&&c,sectionId:r}),f&&(0,g.jsxs)(a.xu,{children:[!d&&(0,g.jsx)(p.Z,{excludeBoardId:t,onRepinToBoard:this.onRepinToBoard}),(0,g.jsx)(R,{onAddNewSection:o})]})]})}}],O(i.prototype,r),n&&O(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.PureComponent);t.ZP=function(e){var t,r,n=e.inSelectAll,a=e.pinIds,l=e.orginalBoardId,u=e.boardSectionId,f=e.onRefreshBoardSection,p=e.url,y=(0,d.F9)().showToast,h=(0,s.ZP)(),m=(0,i.useHistory)(),v=(0,o.useDispatch)(),_=(t=x(regeneratorRuntime.mark(function e(t,r,o){var i,s,d,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r&&r.id,s={boardId:l,sectionId:u},d={boardId:t,sectionId:i},h=n?(0,b.X_)({source:s,target:d,excludePinIds:a}):(0,b.Kw)({source:s,target:d,pinIds:a}),!(l!==t)){e.next=10;break}return e.next=7,v(h);case 7:m.push({pathname:p}),e.next=15;break;case 10:return e.next=12,v(h);case 12:if(!f){e.next=15;break}return e.next=15,f();case 15:y(function(e){var t=e.hideToast;return(0,g.jsx)(c.ZP,{text:C(n,i,o),onHide:t})});case 16:case"end":return e.stop()}},e)})),function(e,r,n){return t.apply(this,arguments)}),P=(r=x(regeneratorRuntime.mark(function e(t,r){var o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={boardId:l,sectionId:u},i={boardId:t,sectionId:void 0},y(function(e){var t=e.hideToast;return(0,g.jsx)(c.ZP,{text:C(n,void 0,r),onHide:t})}),e.next=5,v(n?(0,b.X_)({source:o,target:i,excludePinIds:a}):(0,b.Kw)({source:o,target:i,pinIds:a}));case 5:m.go(-2);case 6:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)});return(0,g.jsx)(k,S(S({},e),{},{i18n:h,repin:_,repinToOtherBoard:P}))}},734226:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(76911),o=r(908390),i=r(898781),a=r(350118),c=r(515198);function s(e){var t=e.selectedPinIds,r=(0,i.ZP)(),s=(0,n.useRef)(),l=(0,a.AF)(),u=(t||[]).map(function(e){return l[e]}).filter(Boolean);(0,n.useEffect)(function(){var e=s.current;e&&(e.scrollLeft=e.scrollWidth-e.offsetWidth)},[u]);var d=u.map(function(e,t){var n,i,a,s,l=e.description,u=e.images,d=null==u?void 0:u["236x"];return(0,c.jsx)(o.xu,{marginEnd:1,children:(0,c.jsx)(o.zd,{rounding:2,wash:!0,width:50,height:65,children:(0,c.jsx)(o.Ee,{alt:!!(null!=l&&l.trim())&&(null==l?void 0:l.trim())||r._('Selected Pin', 'SelectedPinsPreview.image.accessibilityLabel', 'Accessibility label for Pin image without description'),color:null!==(n=e.dominant_color)&&void 0!==n?n:"",naturalHeight:null!==(i=null==d?void 0:d.height)&&void 0!==i?i:1,naturalWidth:null!==(a=null==d?void 0:d.width)&&void 0!==a?a:1,src:null!==(s=null==d?void 0:d.url)&&void 0!==s?s:"",fit:"contain"})})},t)});return(0,c.jsx)(o.xu,{display:"flex",overflow:"scroll",marginTop:2,ref:s,children:d})}},290943:function(e,t,r){"use strict";r.d(t,{T:function(){return n},y:function(){return o}});var n=70,o=80},361115:function(e,t,r){"use strict";r.d(t,{J1:function(){return l},Uw:function(){return s},Yg:function(){return d},ib:function(){return p}});var n=r(773285),o=r(780280),i=r(50286),a=r(67347),c=function(){var e=(0,o.B)(),t=e.isAuthenticated;return e.isBot?"bot":t?"auth":"unauth"},s=function(e){var t=e.isDesktop,r=e.viewerType;return"bot"===r?"seo_graphql_pin_page":"auth"===r?t?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page":t?"unauth_dweb_graphql_pin_page":"unauth_mweb_graphql_pin_page"},l=function(){return s({isDesktop:(0,i.HG)(),viewerType:c()})},u=function(e){var t=e.checkExperiment,r=e.isAuthMweb&&t("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0}).group;return r?function(e){return(0,a.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:r}})}:null},d=function(){var e=(0,o.B)().isAuthenticated,t=(0,i.HG)();return u({checkExperiment:(0,n.F)().checkExperiment,isAuthMweb:e&&!t})},f=0,p=function(e){var t=u({checkExperiment:e.checkExperiment,isAuthMweb:e.isAuthMweb});t&&(f+=1)<10&&t("repin_".concat(f))}},176020:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=c(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function c(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}r.d(t,{Z:function(){return d}});var s={row:0,section:0},l={row:-1,section:-1},u=function(){},d=function(){var e,t;function r(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.index=i({},s),this.sections=e,this.updateCallback=u,this.selectItem=u}return e=[{key:"getIndex",value:function(){return this.index}},{key:"isAtStart",value:function(){var e=this.index,t=e.row,r=e.section;return 0===t&&0===r}},{key:"isAtEnd",value:function(){var e=this.index,t=e.row,r=e.section,n=this.sections[r]||[];return this.sections.length===r+1&&n.length===t+1}},{key:"next",value:function(){if(!this.isAtEnd()){var e=this.index,t=e.row,r=e.section;t===l.row&&r===l.section?this.index=i({},s):this.sections[r].length>t+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}}},{key:"prev",value:function(){if(!this.isAtStart()){var e=this.index,t=e.row,r=e.section;if(t===l.row&&r===l.section)this.index=i({},s);else if(t>0)this.index.row-=1;else{var n=this.index.section-1;this.index={section:n,row:this.sections[n].length-1}}this.updateCallback(!0)}}},{key:"select",value:function(){var e=this.index,t=e.row,r=e.section;this.selectItem((this.sections[r]||[])[t])}},{key:"setInactive",value:function(){this.index=i({},l),this.updateCallback()}},{key:"setSelectItem",value:function(e){this.selectItem=e}},{key:"setUpdateCallback",value:function(e){this.updateCallback=e}},{key:"updateIndex",value:function(e){this.index=e,this.updateCallback()}}],a(r.prototype,e),t&&a(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}()},960260:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(76911),o=r(908390);r(176020);var i=r(425480),a=r(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(y,e);var t,r,n,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=d(y);if(t){var n=d(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function y(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,y),f(u(t=p.call(this,e)),"setSelectedItemRef",function(e){t.selectedItemRef=e}),f(u(t),"handleIndexUpdate",function(e){var r=t.props.indexManager;t.setState({selectedIndex:r.getIndex(),selectionMovedByKeyboard:!!e})}),f(u(t),"handleSelectItem",function(e){return function(){var r=t.props,n=r.disabled,o=r.onSelectItem;n||o(e)}}),f(u(t),"handleMouseEnter",function(e){return function(){var r=t.props,n=r.disabled,o=r.indexManager;n||o.updateIndex(e)}}),f(u(t),"handleMouseLeave",function(){var e=t.props,r=e.disabled,n=e.indexManager;r||n.setInactive()}),f(u(t),"renderItems",function(e,r){var n=t.props.renderItem,i=t.state.selectedIndex||{},c=i.row,s=i.section,l=e.customProps,u=void 0===l?{}:l,d=e.items,f=e.renderItem,p=u.isDisabled,y=r===s,h=f||n;return h&&d.map(function(e,n){var i,s=null!==(i=null==p?void 0:p(e))&&void 0!==i&&i,l=y&&n===c;return(0,a.jsx)(o.xu,{"data-test-id":"board-selection",ref:!s&&l?t.setSelectedItemRef:null,children:s?h({item:e,hovered:l,sectionProps:u}):(0,a.jsx)(o.iP,{fullWidth:!1,onMouseEnter:t.handleMouseEnter({section:r,row:n}),onMouseLeave:t.handleMouseLeave,onTap:t.handleSelectItem(e),rounding:2,children:h({item:e,hovered:l,sectionProps:u})})},n)})}),f(u(t),"renderSections",function(){var e=t.props,r=e.renderSectionHeader;return e.sections.map(function(e,n){return(0,a.jsxs)(o.xu,{children:[r&&r(e,n),t.renderItems(e,n)]},n)})});var t,r=t.props.indexManager;return t.state={selectedIndex:r.getIndex(),selectionMovedByKeyboard:!1},r.setUpdateCallback(t.handleIndexUpdate),t}return r=[{key:"componentDidUpdate",value:function(e){var t=this.containerRef;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){var r=this.selectedItemRef;if(!(r instanceof HTMLElement))return;var n=r.getBoundingClientRect(),o=n.top,i=n.bottom,a=t.getBoundingClientRect(),c=a.top;i>=a.bottom?r.scrollIntoView(!1):o<=c&&r.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}},{key:"render",value:function(){var e=this,t=this.props,r=t.grow,n=void 0!==r&&r,c=t.maxHeight,s=t.fetchMore;return(0,a.jsx)(i.Z,{fetchMore:s,children:function(t){var r=t.setRef,i=t.onScroll;return(0,a.jsx)(o.xu,{flex:n?"grow":void 0,height:n?"100%":void 0,maxHeight:c,onScroll:i,overflow:"auto",ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){e.containerRef=t,r(t)}),children:e.renderSections()})}})}}],s(y.prototype,r),n&&s(y,n),Object.defineProperty(y,"prototype",{writable:!1}),y}(n.Component)},274495:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(908390),o=r(515198),i={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function a(){return(0,o.jsx)(n.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",rounding:8,children:(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:i,display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function c(e){var t=e.disabled,r=e.name,i=e.onClick,c=e.size,s=e.submitting,l=e.text;return(0,o.jsxs)(n.xu,{display:"flex",position:"relative","data-test-id":"submit-button",children:[s&&(0,o.jsx)(a,{}),(0,o.jsx)(n.zx,{color:"red",disabled:t||s,name:r,onClick:i,size:c,type:"submit",text:l})]})}},865607:function(e,t,r){"use strict";r.d(t,{O:function(){return l},Z:function(){return u}});var n=r(76911),o=r(908390),i=r(898781),a=r(966113),c=r(515198),s={xs:12,sm:16,md:20,lg:24};function l(e){var t=e.children,r=(0,i.ZP)();return(0,c.jsx)(o.u,{link:(0,c.jsx)(o.rU,{href:a.vBy,target:"blank",children:(0,c.jsx)(o.xv,{color:"inverse",size:"100",weight:"bold",children:r._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:r._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:t})}function u(e){var t=e.hasVerifiedIdentity,r=e.iconOnly,a=e.isVerifiedMerchant,u=e.showText,d=e.size,f=(0,i.ZP)(),p=(0,c.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(o.JO,{accessibilityLabel:f._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:s[d]}),u&&(0,c.jsx)(o.xu,{marginStart:2,children:(0,c.jsx)(o.xv,{color:"shopping",inline:!0,weight:"bold",children:f._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,c.jsxs)(n.Fragment,{children:[a&&!r&&(0,c.jsx)(l,{children:p}),a&&r&&p,t&&!a&&(0,c.jsx)(o.JO,{accessibilityLabel:f._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:s[d]})]})}},830157:function(e,t,r){"use strict";function n(e,t){return e||"".concat(t||"","~0")}r.d(t,{Z:function(){return n}})},881802:function(e,t,r){"use strict";r.d(t,{Bb:function(){return b},Bx:function(){return s},F4:function(){return c},OG:function(){return i},Qj:function(){return l},_6:function(){return h},gv:function(){return a},hg:function(){return u},is:function(){return p},jP:function(){return y},lt:function(){return o},oM:function(){return d},wI:function(){return f}});var n=r(826067),o=function(e){return e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal')},i=function(e){return e.pathname},a=function(e){var t=e.firstName,r=e.i18n;return t?(r._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",t):r._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board')},c=function(e){var t=(0,n.mB)(e.search).board_url;if(t){var r=(0,n.Jx)(t),o=(0,n.XP)({accept_invite:!0,seamless:!0});return r.includes("?")?"".concat(r,"&").concat(o):"".concat(r,"?").concat(o)}return e.pathname},s=function(e){return e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.')},l=function(e){var t=e.pathname;if(t.startsWith("/pin/")){var r=t.split("/");if(r.length>2)return"/".concat(r[1],"/").concat(r[2],"/repin/")}return t},u=function(e){return e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.')},d=function(e){return e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.')},f=function(e){var t=e.pathname;if(t.startsWith("/pin/")){var r=t.split("/");if(r.length>2)return"/".concat(r[1],"/").concat(r[2],"/edit/")}return t},p=function(e){return e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},y=function(e){return e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.')},h=function(e){return e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.')},b=function(e){return e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')}},149823:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(898781),o=r(881802),i=r(987318),a=r(515198);function c(e){var t=e.children,r=e.callbackFunction,c=e.modalHeader,s=e.nextLocation,l=(0,n.ZP)(),u=(0,i.H)(),d=u.viewer,f=u.loginForMore,p=u.limitedLoginModalSubheader,y=u.limitedLoginModalNextLocation,h="LIMITED_LOGIN"===d.type;return(0,a.jsx)("div",{onClickCapture:function(e){h&&(r&&r(),e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),null==f||f.setVisible(!0),null==p||p.setText(c||(0,o.lt)(l)),s&&(null==y||y.setRoute(s)))},children:t})}},927383:function(e,t,r){"use strict";var n=r(898781),o=r(50286),i=r(987318),a=r(945698);t.Z=function(){var e=(0,n.ZP)(),t=(0,o.HG)(),r=(0,i.H)(),c=r.viewer,s=r.loginForMore,l=r.limitedLoginModalSubheader,u=r.limitedLoginModalNextLocation;return"LIMITED_LOGIN"===c.type?function(r){var n=r.modalHeader,o=r.nextLocation;return function(r){var i=null;r&&(r.nativeEvent&&r.nativeEvent instanceof Event?i=r:r.event&&(i=r.event)),i&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),null==s||s.setVisible(!0),null==l||l.setText(n||(t?(0,a.hr)(e):(0,a.Wh)(e))),o&&(null==u||u.setRoute(o))}}:function(e){return e.fn}}},52241:function(e,t,r){"use strict";r.d(t,{Z:function(){return I}});var n=r(76911),o=r(908390),i=r(898781),a=r(349700),c=r(515198);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var h=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],b=function(e,t){return Math.random()*((e||1)-(t||0))+(t||0)},m=function(e){return e*(Math.PI/180)},v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(a,e);var t,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=f(a);if(t){var n=f(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return d(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return p(d(e=i.call.apply(i,[this].concat(r))),"animationTimer",null),p(d(e),"canvasRemovalTimer",null),p(d(e),"containerRef",(0,n.createRef)()),p(d(e),"buildCanvas",function(){if(!e.containerRef.current)return null;var t=e.containerRef.current.getBoundingClientRect(),r=t.height,n=t.width,o=2.5*r,i=document.createElement("canvas");return i.style.position="absolute",i.style.left="".concat(0-(o-n)/2,"px"),i.style.top="".concat(0-(o-r)/2,"px"),i.style.pointerEvents="none",i.style.width="".concat(o,"px"),i.style.height="".concat(o,"px"),i.style.overflow="visible",i.width=o,i.height=o,i}),p(d(e),"explode",function(){var t=e.buildCanvas(),r=e.containerRef.current;if(t&&r){var n=t.getContext("2d");r.prepend(t),function e(t,r,n,o){window.requestAnimationFrame(function(){return e(t,r,n,o)}),r.clearRect(0,0,n,o),t.forEach(function(e){e.x+=e.speed*Math.cos(m(e.degree)),e.y+=e.speed*Math.sin(m(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(r.beginPath(),r.globalAlpha=e.opacity,r.fillStyle=e.color,r.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),r.fill())})}(Array.from(Array(120)).map(function(){return{x:t.width/2,y:t.height/2,radius:Math.round(b(10,30)),color:h[Math.floor(Math.random()*h.length)],degree:Number(b(0,360).toFixed(1)),speed:Math.round(b(0,25)),friction:.9,opacity:Number(b(0,.5).toFixed(1)),yVel:0,gravity:.04}}),n,t.width,t.height),e.canvasRemovalTimer=setTimeout(function(){r.removeChild(t)},(e.props.delay||0)+800)}}),e}return l(a.prototype,[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.delay,n=t.startAnimation,o=e.startAnimation;n&&o!==n&&(this.animationTimer=setTimeout(this.explode,r))}},{key:"componentWillUnmount",value:function(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}},{key:"render",value:function(){return(0,c.jsx)(o.xu,{ref:this.containerRef,position:"relative",children:this.props.children})}}]),r&&l(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.PureComponent);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){w(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function j(e,t){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,r){return(t=E(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==g(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}p(v,"defaultProps",{delay:0});var A=function(e,t,r,n){var o,i,a,c,s,l={},u=null===(o=r.current)||void 0===o?void 0:o.getBoundingClientRect(),d=null===(i=t.current)||void 0===i?void 0:i.getBoundingClientRect(),f=null===(a=n.current)||void 0===a?void 0:a.getBoundingClientRect();if(d&&u&&f){l={left:u.left-d.left,top:u.top-d.top};var p={x:f.left-u.left,y:f.top-u.top},y={x:(f.width-u.width)/2,y:(f.height-u.height)/2};c="translate(".concat(p.x,"px, ").concat(p.y,"px)"),s="translate(".concat(y.x,"px, ").concat(y.y,"px)")}return{mask:{position:"absolute",left:l.left,top:l.top,width:e?null==f?void 0:f.width:null==u?void 0:u.width,height:e?null==f?void 0:f.height:null==u?void 0:u.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?c:"none",transform:e?c:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",zIndex:2},imageContainer:{width:null==u?void 0:u.width,height:null==u?void 0:u.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?s:"none",transform:e?s:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s"}}},T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(l,e);var t,r,i,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=O(l);if(t){var n=O(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return x(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return w(x(e=s.call.apply(s,[this].concat(r))),"state",{isInitialized:!1}),w(x(e),"containerRef",(0,n.createRef)()),w(x(e),"pinDestinationRef",(0,n.createRef)()),e}return r=[{key:"componentDidMount",value:function(){var e=this;window.requestAnimationFrame(function(){e.setState({isInitialized:!0})})}},{key:"componentWillUnmount",value:function(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}},{key:"componentDidUpdate",value:function(){var e=this.state.isInitialized,t=this.props.onDismiss;e&&t&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(t,2600))}},{key:"render",value:function(){var e=this.props,t=e.description,r=void 0===t?"":t,i=e.firstRepin,s=e.images236x,l=e.pinImageRef,u=e.selectedBoardName,d=s||{},f=d.height,p=d.width,y=d.url,h=this.state.isInitialized,b=A(h,this.containerRef,l,this.pinDestinationRef),m=b.mask,g=b.imageContainer;return(0,c.jsx)(n.Fragment,{children:(0,c.jsxs)(o.xu,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,ref:this.containerRef,children:[(0,c.jsx)(o.xu,{maxHeight:335,overflow:"hidden",dangerouslySetInlineStyle:{__style:m},children:(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:g},children:(0,c.jsx)(o.Ee,{alt:null!=r?r:"",src:(void 0===y?"":y)||"",naturalHeight:(void 0===f?0:f)||1,naturalWidth:(void 0===p?0:p)||1})})}),(0,c.jsx)(o.xu,{color:"default",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",opacity:h?1:0,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1}},children:(0,c.jsxs)(o.xu,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",height:"100%",dangerouslySetInlineStyle:{__style:{opacity:h?1:0,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}},children:[(0,c.jsx)(v,{delay:1250,startAnimation:h,children:(0,c.jsx)(o.zd,{rounding:2,width:270,height:180,children:(0,c.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",height:"100%",width:"100%",children:[(0,c.jsx)(o.xu,{ref:this.pinDestinationRef,color:"transparent",marginEnd:1,flex:"grow",height:"100%"}),(0,c.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",width:80,children:[(0,c.jsx)(o.xu,{color:"secondary",flex:"grow",marginBottom:1}),(0,c.jsx)(o.xu,{color:"secondary",flex:"grow"})]})]})})}),(0,c.jsx)(o.xu,{paddingX:2,dangerouslySetInlineStyle:{__style:{opacity:h?1:0,WebkitTransform:h?"translateY(0)":"translateY(20%)",transform:h?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"}},children:(0,c.jsx)(o.X6,{align:"center",children:i?(0,a.nk)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First board create confirmation message', 'First board create confirmation message'),{selectedBoardName:null!=u?u:""}):(0,a.nk)(this.props.i18n._('You saved this Pin to {{ selectedBoardName }}!', 'Board create confirmation message', 'Board create confirmation message'),{selectedBoardName:null!=u?u:""})})})]})})]})})}}],S(l.prototype,r),i&&S(l,i),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.PureComponent);function I(e){var t=(0,i.ZP)();return(0,c.jsx)(T,P(P({},e),{},{i18n:t}))}w(T,"defaultProps",{firstRepin:!1})},574724:function(e,t,r){"use strict";r.d(t,{Hn:function(){return d},Jw:function(){return h},L7:function(){return n},Qc:function(){return o},Tt:function(){return m},UF:function(){return l},UV:function(){return a},W1:function(){return i},Ws:function(){return f},ZW:function(){return s},cK:function(){return b},cy:function(){return y},o4:function(){return p},tr:function(){return u},vF:function(){return c}});var n=1,o=2,i="female",a="male",c="unspecified",s="en-US",l="US",u=3,d="has_done_closeup",f="Gender",p="InterestPicker",y="LoadingStep",h="AppInstall",b={NUX_GENDER_STEP_NAME:f,NUX_INTEREST_PICKER_STEP_NAME:p,NUX_LOADING_STEP_NAME:y,NUX_APP_INSTALL_STEP_NAME:h},m=2500},327212:function(e,t,r){"use strict";r.d(t,{Z:function(){return Z}});var n=r(76911),o=r(367419),i=r(908390),a=r(898781),c=r(223815),s=r(829407),l=r(391254),u=r(515198);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){var t,r=e.addedStyles,o=e.button,a=e.headerText,c=e.icon,s=e.iconOverride,p=e.minHeight,y=e.subHeaderText;return(0,u.jsx)(i.xu,{display:"flex",justifyContent:"center",width:"100vw",paddingX:2,children:(0,u.jsxs)(i.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(".concat(-20,"px)")},r)},display:"flex",minHeight:p||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(t=s||(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(l.Z,{unsafeCSS:"\n@keyframes baseEduToastIconScale {\n  0% {\n    transform: scale(0)\n  }\n  30% {\n    transform: scale(1.2);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n"}),(0,u.jsx)(i.xu,{alignItems:"center",color:"education","data-test-id":"pin-save-toast",direction:"column",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,u.jsx)(i.JO,{accessibilityLabel:c.accessibilityLabel,color:c.color,dangerouslySetSvgPath:c.dangerouslySetSvgPath,icon:c.icon,inline:c.inline,size:c.size})})]}),(0,u.jsx)(i.xu,{marginEnd:4,children:t})),(0,u.jsxs)(i.xu,{marginEnd:"auto","data-test-id":"pin-save-toast-header",children:[(0,u.jsx)(i.xv,{color:"default",weight:"bold",children:a}),!!y&&(0,u.jsx)(i.xu,{paddingY:1,children:(0,u.jsx)(i.xv,{size:"300",color:"default",children:y})})]}),(0,u.jsx)(i.xu,{display:"flex",flex:"shrink",marginStart:2,children:o})]})})}var y=r(759929);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){x(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,r){return(t=O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==h(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}var w=function(e,t){return(e-t)/2},E=w(68,68),A=w(68,66),T=w(68,60),I="cubicBezier(0.25, 0.1, 0.25, 1)",C="encourageToastIconContainer",R="encourageToastIconRadiateBg",k="encourageToastIconRadiateRing",D={targets:"#".concat(C),duration:300,scale:1.4,easing:I},B={targets:"#".concat(C),duration:300,scale:1,easing:I,endDelay:1e3},N={targets:"#".concat(C),duration:300,scale:.42,easing:I},L={targets:"#".concat(R),duration:400,opacity:0,scale:1.6,easing:I},z={targets:"#".concat(k),duration:650,opacity:0,scale:2,easing:I},M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(c,e);var t,r,n,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=j(c);if(t){var n=j(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return S(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return x(S(e=a.call.apply(a,[this].concat(r))),"delayTimer",null),x(S(e),"requestAnimationFrameId",null),x(S(e),"playAnimation",function(){e.requestAnimationFrameId=window.requestAnimationFrame(function(){(0,o.Z)(L),(0,o.Z)(z),(0,o.Z)(D).finished.then(function(){(0,o.Z)(B).finished.then(function(){o.Z.set("#".concat(C),{transformOrigin:"top right"}),(0,o.Z)(N)})})})}),x(S(e),"getHeaderText",function(){var t=e.props.text;return Array.isArray(t)?t[0]:t}),x(S(e),"getIconProps",function(){return{accessibilityLabel:e.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30}}),x(S(e),"getSubHeaderText",function(){var t=e.props.text;return t instanceof Array&&t.length>1&&t[1]?t[1]:""}),x(S(e),"renderAnimatedIcon",function(){return(0,u.jsxs)(i.xu,{height:68,position:"relative",width:68,children:[(0,u.jsx)(i.xu,{"data-test-id":"pin-save-toast",width:60,height:60,overflow:"hidden",position:"absolute",rounding:4,dangerouslySetInlineStyle:{__style:{left:"".concat(T,"px"),top:"".concat(T,"px")}},children:e.props.thumbnail}),(0,u.jsxs)(i.xu,{id:C,height:68,width:68,dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},position:"absolute",children:[(0,u.jsx)(i.xu,{color:"infoBase",id:R,width:68,height:68,position:"absolute",rounding:"circle",dangerouslySetInlineStyle:{__style:{left:"".concat(E,"px"),top:"".concat(E,"px"),transform:"scale(0)"}}}),(0,u.jsx)(i.xu,{id:k,width:66,height:66,position:"absolute",rounding:"circle",opacity:1,dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:"".concat(A,"px"),top:"".concat(A,"px"),transform:"scale(0)"}}}),(0,u.jsx)(i.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:68,justifyContent:"center",minHeight:68,minWidth:68,position:"absolute",rounding:"circle",width:68,children:(0,u.jsx)(i.JO,{accessibilityLabel:e.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]})}),e}return r=[{key:"componentDidMount",value:function(){this.delayTimer=setTimeout(this.playAnimation,700)}},{key:"componentWillUnmount",value:function(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}},{key:"render",value:function(){var e=this.props,t=e.isRepinToExistingBoard,r=e.button;return(0,u.jsx)(p,{button:r,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:t?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}],_(c.prototype,r),n&&_(c,n),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.PureComponent);function Z(e){var t,r,o=e.duration,l=e.onHide,d=(0,a.ZP)(),f=v((0,n.useState)(!1),2),p=f[0],h=f[1],b=v((0,n.useState)(!1),2),g=b[0],_=b[1],P=(0,n.useRef)(),S=function(){h(!0),P.current=setTimeout(l,200)},j=function(){P.current&&clearTimeout(P.current)},x=function(){P.current=setTimeout(S,o||y.w)};(0,s.Z)(function(){return setTimeout(function(){return _(!0)},100),x(),j});var O=(0,u.jsx)(M,m(m({},e),{},{i18n:d}));return e.href&&(O=(0,u.jsx)(i.rU,{href:e.href,onClick:S,rounding:"pill",tapStyle:"none",children:O})),(0,u.jsx)(c.Z,{children:(0,u.jsx)(i.mh,{children:(0,u.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:m({},(r=(t={hiding:p,visible:g}).hiding,t.visible?r?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})))},justifyContent:"center",position:"fixed",width:"100%",display:"flex",zIndex:y.k,children:O})})})}},56632:function(e,t,r){"use strict";var n=r(908390),o=r(898781),i=r(223019),a=r(515198),c=function(){var e=(0,o.ZP)();return e._('Sweet save!', 'Header text on toast that appears after user creates their first board', 'Header text on toast that appears after user creates their first board')},s=function(){var e=(0,o.ZP)();return e._('All your boards live on your profile', 'Subheader text on toast that appears after user creates their first board', 'Subheader text on toast that appears after user creates their first board')};t.Z=function(e){var t=e.boardId,r=e.isFBC,o=e.viewType;return{duration:5e3,thumbnail:(0,a.jsx)(n.xu,{"data-test-id":"pin-save-toast",children:(0,a.jsx)(i.Z,{boardId:t,viewType:o,type:"thumbnail"})}),text:r?[(0,a.jsx)(c,{},"0"),(0,a.jsx)(s,{},"1")]:void 0}}},662089:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(506979),o=r(343341),i=r(574724),a=r(639952);function c(){var e=(0,n.useDispatch)(),t=(0,o.F9)(),r=t.showToast;return{showToast:r,showOneToast:t.showOneToast,showRepinConfirmation:function(t,n){n||e((0,a.WF)()),setTimeout(function(){n||e((0,a.a5)()),r(t)},i.Tt)}}}},348854:function(e,t,r){"use strict";r.d(t,{ZP:function(){return ec},Io:function(){return eo}});var n=r(76911),o=r(506979),i=r(599689),a=r(908390),c=r(112690),s=r(643010),l=r(332611),u=r(356997),d=r(499128),f=r(898781),p=r(349700),y=r(313047),h=r(542554),b=r(773285),m=r(784590),v=r(50286),g=r(411465),_=r(19121),P=r(223019),S=r(427806),j=r(830157),x=r(927383),O=r(56632),w=r(327212),E=[503459,505150,503761,505139],A=r(662089),T=r(781165),I=r(177891),C=r(12918),R=r(139574),k=r(850431),D=r(404508),B=r(766935),N=r(121151),L=r(248327),z=r(72566),M=r(515198);function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function U(e){var t,r=e.user,n=e.handleSelect,o=e.isSelected,i=null!==(t=r.first_name)&&void 0!==t?t:r.username;return(0,M.jsx)(a.iP,{onTap:n,children:(0,M.jsxs)(a.xu,{paddingY:2,paddingX:1,display:"flex",direction:"row",alignItems:"center",children:[(0,M.jsx)(a.xu,{width:44,rounding:"circle",color:o?"selected":"default",dangerouslySetInlineStyle:{__style:{outline:o?"2px solid black":""}},children:(0,M.jsx)(u.qE,{name:null!=i?i:"",src:r.image_medium_url,outline:!0})}),(0,M.jsxs)(a.xu,{paddingX:3,children:[(0,M.jsx)(a.xv,{size:"200",children:r.full_name}),(0,M.jsxs)(a.xv,{size:"100",children:["@",r.username]})]})]})})}function H(e){var t,r=e.shareSuggestions,i=e.setSelectedCollaborators,c=e.selectedCollaborators,s=e.onDismiss,l=Z((0,n.useState)(""),2),u=l[0],d=l[1],p=(0,f.ZP)(),y=(0,_.Z)(),h=(0,o.useDispatch)(),b=Z((0,n.useState)(c),2),m=b[0],v=b[1],g=p._('Invite friends', 'duplo.boardCreate.inviteFriendsTitle', 'title for modal to invite friends to collaborate'),P=p._('Invite friends', 'duplo.boardCreate.inviteFriendsAccessbilityLabel', 'accessibility label to invite friends to collaborate'),S=(0,o.useSelector)(function(e){for(var t=e.resources.ShareSuggestionsTypeaheadResource,r={},n=0,o=Object.keys(t||{});n<o.length;n++){var i=o[n],a=t[i].data;a&&a.items&&(r[i]=a.items)}return r}),j=function(e){(0,B.Z)(h((0,L.U)("ShareSuggestionsTypeaheadResource",e)),200)},x=null!==(t=y.id)&&void 0!==t?t:"",O='term="'.concat(u,'",user="').concat(x,'"'),w='term="'.concat(u.slice(0,-1),'",user="').concat(x,'"'),E=S[O]||S[w],A=null!=E?E:r;return(0,M.jsxs)(N.ZP,{role:"dialog",onDismiss:s,accessibilityModalLabel:P,children:[(0,M.jsx)(a.xu,{padding:3,children:(0,M.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,M.jsx)(a.hU,{accessibilityLabel:p._('Cancel', 'boardPage.CreateModal.CancelButton', 'Button to exit the add collaborators modal'),icon:"cancel",onClick:s}),(0,M.jsx)(a.kC.Item,{flex:"grow",children:(0,M.jsx)(a.X6,{align:"center",size:"300",children:g})}),(0,M.jsx)(a.zx,{onClick:function(){i(m),s()},color:"red",text:p._('Done', 'boardPage.CreateModal.ButtonText', 'text for done button')})]})}),(0,M.jsxs)(a.xu,{width:"100%",height:"calc(90vh - 50px)",display:"flex",overflow:"hidden",alignContent:"center",color:"default",paddingX:4,direction:"column",children:[(0,M.jsx)(a.xu,{"data-test-id":"contact-suggestion-search-field",paddingY:2,color:"default",fit:!0,children:(0,M.jsx)(z.Z,{accessibilityLabel:p._('search contact', 'Accessibility label for searchbar on share menu', 'Accessibility label for searchbar on share menu'),id:"contactsSuggestSearchField",onChange:function(e){var t=e.value,r={options:{user:y.id,term:t}};d(t),j(r)},placeholder:p._('Search by name or email', 'Placeholder text for searchbar on share menu', 'Placeholder text for searchbar on share menu'),value:u,autoFocus:!1})}),(0,M.jsxs)(a.xu,{maxHeight:"100%",overflow:"scrollY",children:[m&&Array.from(m.values()).map(function(e){return(0,M.jsx)(U,{user:e,isSelected:!0,handleSelect:function(){var t=new Map(m);t.delete(e.id),v(t)}},e.username)}),A&&A.map(function(e){return e.username&&!m.get(e.id)?(0,M.jsx)(U,{user:e,isSelected:!1,handleSelect:function(){var t=new Map(m);t.set(e.id,e),v(t)}},e.username):null})]})]})]})}var G=r(166753),K=r(580751),q=r(17676),W=r(109892);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach(function(t){er(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(e){r(e);return}c.done?t(s):Promise.resolve(s).then(n,o)}function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,en(n.key),n)}}function J(e,t){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t,r){return(t=en(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function en(e){var t=function(e,t){if("object"!==V(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==V(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===V(t)?t:String(t)}var eo=function(e,t,r){var n=r._('Saved to new board', 'Board saved message if the new board\'s name is not found', 'Board saved message if the new board\'s name is not found');return{text:t?(0,p.nk)(r._('Saved to {{ board }}', 'Board saved message', 'Board saved message'),{board:t}).join(" "):n,href:e}};function ei(e){var t,r=e.user,n=e.isSelected,o=e.onClick,i=(0,f.ZP)(),c=null!==(t=r.first_name)&&void 0!==t?t:r.username;return(0,M.jsxs)(a.xu,{paddingY:2,display:"flex",direction:"row",justifyContent:"between",children:[(0,M.jsxs)(a.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,M.jsx)(a.xu,{width:40,children:(0,M.jsx)(u.qE,{name:null!=c?c:"",src:r.image_medium_url,outline:!0})}),(0,M.jsxs)(a.xu,{paddingX:2,children:[(0,M.jsx)(a.xv,{size:"200",children:r.full_name}),(0,M.jsxs)(a.xv,{size:"100",children:["@",r.username]})]})]}),(0,M.jsx)(a.zx,{selected:n,text:n?i._('Added', 'duplo.createboardpage.addCollaborators.added', 'Button text for an invited collaborator'):i._('Add', 'duplo.createboardpage.addCollaborators.add', 'Button text to invite a collaborator'),onClick:o})]},r.username)}var ea=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=et(i);if(t){var n=et(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ee(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return er(ee(e=o.call.apply(o,[this].concat(r))),"state",{boardName:e.props.match.params.boardName||"",canSubmit:!!e.props.match.params.boardName,errorBoardNames:[],secret:!1,submitting:!1,collaborators:new Map,isCollaboratorModalOpen:!1}),er(ee(e),"handleRepinSuccess",function(){var t=e.props,r=t.location,n=t.directSaveExpEnabled,o=r.state&&r.state.pinDescription?r.state.pinDescription:"";e.props.history.go(o||n?-3:-2)}),er(ee(e),"onSwitchToggle",function(){e.setState(function(e){return{secret:!e.secret}})}),er(ee(e),"onInputChange",function(t){var r=t.target.value,n=r.trim().length;e.setState(function(e){var t=e.errorBoardNames;return{boardName:r,canSubmit:n>0&&n<=100&&!t.includes(r)}})}),er(ee(e),"onCreateClick",e.props.requireAuthForLimitedLogin({fn:function(){var t=e.state,r=t.boardName,n=t.secret,o=t.submitting,i=t.collaborators,c=e.props,s=c.checkExperiment,l=c.createPin,u=c.createBoard,f=c.inviteCollaborators,y=c.directSaveExpEnabled,h=c.dispatchOneTapSave,b=c.dispatchUnsavePin,m=c.history,v=c.i18n,g=c.location,_=c.match,S=c.pin,x=c.repinContext,E=c.repinToBoard,A=c.showRepinConfirmation,T=c.showToast,I=c.undoSaveAction;if(!o){var C=function(e){return m.push(e)},R=n?"secret":"public",k=_.params.pinId,D=g.state?g.state.pinnedToBoardId:"",B=e.props.i18n._('Created Board!', 'Text in toast after creating a new board', 'Text in toast after creating a new board');if(k){var N,L,z=(0,j.Z)((g.state||{}).trackingParams,null==S?void 0:S.tracking_params);e.setState({submitting:!0}),u({name:r,pin:S,privacy:R}).then((N=regeneratorRuntime.mark(function t(n){var o,i,a,c,l,u,f,p,_,P,j,R,B,N,L,Z,F,U,H;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=null!==(o=n.url)&&void 0!==o?o:"",e.setState({submitting:!1}),e.props.logContextEvent({event_type:20,view_type:3,object_id_str:k}),a=n.id,c=g.state&&g.state.pinDescription?g.state.pinDescription:"",u=(l=g.state||{}).isFirstBoardCreateActive,f=l.isEditingPin,p=l.pinBoardId,_=l.pinSectionId,j=(P=eo(i,r,v)).href,R=P.text,N=(B=(0,O.Z)({boardId:a,isFBC:u,viewType:3})).duration,L=B.text,Z=B.thumbnail,F=function(){return A(function(e){var t=e.hideToast;return(0,M.jsx)(w.Z,{duration:N,href:j,onHide:t,text:L||R,thumbnail:Z})})},c||y?E({checkExperiment:s,i18n:e.props.i18n,logContextEvent:e.props.logContextEvent,pinId:k,boardId:a,onSuccess:function(){e.completeFirstExperiences()},onUndo:function(e,t,r,n,o){return I({pinId:e,newPinId:t,boardId:r,boardSectionId:n,i18n:o,clientTrackingParams:z})},showRepinConfirmation:function(e){return T(e)},trackingParams:{clientTrackingParams:z,pinnedToBoardId:D},historyPush:C,savePinId:null!==(U=null==x?void 0:x.save)&&void 0!==U?U:function(){}}).then(function(e){y&&e&&h({boardId:a,localPinId:e.id,pinId:k})}).catch(function(t){T(function(r){var n=r.hideToast;return(0,M.jsx)(d.ZP,{type:"error",text:t.message||e.props.i18n._('Sorry! Something went wrong on our end.', 'error completing repin', 'error completing repin'),onHide:n})})}):(e.completeFirstExperiences(F),e.props.logContextEvent({event_type:5,view_type:3,component:7,object_id_str:k,clientTrackingParams:z,aux_data:{board_id:D,destination_board_id:a}})),!(f&&S)){t.next=14;break}return t.next=13,b({pinId:S.id,pinBoardId:p,pinSectionId:_,clientTrackingParams:z});case 13:null!==(H=S.pinned_to_board)&&void 0!==H&&H.url&&m.replace(S.pinned_to_board.url);case 14:m.push("/pin/".concat(k,"/"));case 15:case"end":return t.stop()}},t)}),L=function(){var e=this,t=arguments;return new Promise(function(r,n){var o=N.apply(e,t);function i(e){$(o,r,n,i,a,"next",e)}function a(e){$(o,r,n,i,a,"throw",e)}i(void 0)})},function(e){return L.apply(this,arguments)}),function(t){T(function(r){var n=r.hideToast;return(0,M.jsx)(d.ZP,{text:t.message||e.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),type:"error",onHide:n})}),e.setState(function(e){return{errorBoardNames:e.errorBoardNames.concat(r),canSubmit:!1,submitting:!1}})})}else e.setState({submitting:!0}),u({name:r,pin:S,privacy:R}).then(function(t){var r=e.props.location.state;if(!r||0===Object.keys(r).length){e.setState({submitting:!1});var n=(0,O.Z)({boardId:t.id,viewType:92}),o=n.duration,c=n.text,s=n.thumbnail,u=Array.from(i.keys());e.completeFirstExperiences(function(){return f&&f(t.id,u)}),T(function(e){var t=e.hideToast;return(0,M.jsx)(w.Z,{duration:o,onHide:t,text:c||B,thumbnail:s})}),t.url&&m.replace(t.url);return}var y=r.description,h=r.guid,b=r.method,v=r.url,g=[];if("scraped"===r.method)r.imgData.forEach(function(e){return g.push(l({link:v,image_url:e,description:y,board_id:t.id,method:b,guid:h}))});else{var _=r.base64Image,S=r.imageUrl;g.push(l({link:v,image_url:S,image_base64:_,description:y,board_id:t.id,method:b,guid:h}))}Promise.all(g).then(function(r){T(function(e){var t=e.hideToast;return(0,M.jsx)(d.ZP,{text:B,onHide:t})}),T(function(r){var n=r.hideToast;return(0,M.jsx)(d.ZP,{text:(0,M.jsx)(a.xv,{children:(0,p.nk)(e.props.i18n._('Saved to {{ boardName }}', 'CreateBoardPage.Toast.Message', 'Confirmation message after saving Board.boardName: board name '),{boardName:(0,M.jsx)(a.xv,{weight:"bold",children:t.name})})}),_dangerouslySetThumbnail:(0,M.jsx)(a.xu,{width:32,height:32,children:(0,M.jsx)(P.Z,{boardId:t.id,type:"thumbnail"})}),onHide:n})}),e.props.logContextEvent({event_type:1,view_type:92,component:7,object_id_str:r[0].resource_response.data.id}),e.setState({submitting:!1}),t.url&&m.replace(t.url)},function(){T(function(t){var r=t.hideToast;return(0,M.jsx)(d.ZP,{text:e.props.i18n._('Sorry! Something went wrong on our end.', 'error during pin creation', 'error during pin creation'),onHide:r})}),e.setState({submitting:!1})})},function(t){var r;e.setState({submitting:!1}),96===t.api_error_code&&t.message&&(r=(0,M.jsx)(a.xv,{children:t.message})),T(function(n){var o=n.hideToast;return(0,M.jsx)(d.ZP,{text:r||t.message_detail||t.message||e.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),type:"error",onHide:o})})})}}})),er(ee(e),"completeFirstExperiences",function(t){var r=e.props,n=r.closeupExperience,o=r.repinExperience,i=r.completeExperience;if(n||o){var a=[];n&&n.placement_id&&E.includes(n.experience_id)&&a.push(i(n.placement_id,n.experience_id)),o&&o.placement_id&&501032===o.experience_id&&a.push(i(o.placement_id,o.experience_id)),a.length>0&&Promise.all(a).then(function(){e.handleRepinSuccess(),t&&t()})}else e.handleRepinSuccess(),t&&t()}),e}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.repinExperience,r=e.viewExperience;t&&r(t.placement_id,t.experience_id)}},{key:"render",value:function(){var e=this,t=this.props,r=t.i18n,n=t.isPrivateProfile,o=t.contactSuggestions,i=t.checkExperiment,c=this.state,l=c.collaborators,u=c.isCollaboratorModalOpen,d=i("mweb_board_create_add_collaborators"),f=d.anyEnabled,p=d.group,b=f&&"enabled_suggested_contacts"===p,m=(0,M.jsx)(a.iP,{onTap:function(){e.setState({isCollaboratorModalOpen:!0})},children:(0,M.jsxs)(a.xu,{display:"flex",direction:"row",alignItems:"center",paddingY:1,children:[(0,M.jsx)(a.hU,{accessibilityLabel:r._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"person-add",iconColor:"darkGray",size:"md"}),(0,M.jsx)(a.xu,{paddingX:2,children:(0,M.jsx)(a.xv,{size:"200",weight:"bold",children:r._('Invite friends', 'duplo.createboardpage.inviteFriendsLabel', 'Invite friends label for the create board page')})})]})}),v=function(t){var r=new Map(l);r.get(t.id)?r.delete(t.id):r.set(t.id,t),e.setState({collaborators:r})},g=(0,M.jsx)(a.xu,{children:l.size>0&&Array.from(l.values()).map(function(e){return(0,M.jsx)(ei,{user:e,isSelected:!0,onClick:function(){v(e)}},e.username)})}),_=b&&o&&(0,M.jsx)(a.xu,{children:o.slice(0,3).map(function(e){return e.id&&!l.get(e.id)?(0,M.jsx)(ei,{user:e,isSelected:!1,onClick:function(){v(e)}},e.username):null})});return(0,M.jsxs)(h.default,{hasFixedHeader:!0,children:[(0,M.jsx)(S.Z,{text:r._('Create a Board', 'duplo.createboardpage.accessibilityModalLabel', 'Accessibility label for the create board page')}),u&&(0,M.jsx)(H,{shareSuggestions:o,setSelectedCollaborators:function(t){e.setState({collaborators:t})},selectedCollaborators:l,onDismiss:function(){e.setState({isCollaboratorModalOpen:!1})}}),(0,M.jsx)(y.FixedHeader,{children:(0,M.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,M.jsx)(a.xu,{flex:"none",marginStart:-2,children:(0,M.jsx)(D.Z,{})}),(0,M.jsx)(a.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:(0,M.jsx)(a.xv,{align:"center",weight:"bold",children:this.props.i18n._('Create board', 'Label during board creation', 'Label during board creation')})}),(0,M.jsx)(a.kC,{alignItems:"stretch",flex:"none",justifyContent:"end",children:(0,M.jsx)(a.xu,{"data-test-id":"createBoardButton",children:(0,M.jsx)(a.zx,{fullWidth:!0,onClick:this.onCreateClick,color:"red",size:"sm",text:this.props.i18n._('Create', 'Create board button', 'Create board button'),disabled:!this.state.canSubmit||this.state.submitting})})})]})}),!f&&(0,M.jsx)(a.iz,{}),(0,M.jsxs)(a.xu,{paddingY:3,paddingX:4,children:[(0,M.jsx)(a.__,{htmlFor:"boardNameInput",children:(0,M.jsx)(a.xv,{size:"200",children:this.props.i18n._('Board name', 'duplo.createboardpage.inputPlaceholder', 'Label during board creation')})}),(0,M.jsx)("input",{id:"boardNameInput",placeholder:f?r._('Give your board a title', 'duplo.createboardpage.inputLabel', 'Placeholder text for create board'):r._('Add', ' - ', ' -- '),value:this.state.boardName,style:{color:(0,s.Yc)()?"#fff":"#333",fontSize:16,fontWeight:"semibold",background:"none",outline:"none",border:"none",marginTop:"4px",width:"100%"},onChange:this.onInputChange})]}),f&&(0,M.jsxs)(a.xu,{paddingX:4,paddingY:3,children:[(0,M.jsxs)(a.xv,{size:"200",children:[this.props.i18n._('Collaborators', 'BoardForm.BoardFormSecretToggle.subText', 'Label during board creation')," "]}),g,b&&_,m]}),!f&&(0,M.jsx)(a.iz,{}),(0,M.jsxs)(a.xu,{paddingX:4,paddingY:3,children:[f&&(0,M.jsx)(a.xv,{size:"200",children:r._('Privacy', 'BoardForm.BoardFormSecretToggle.text', 'protected board')}),n?(0,M.jsx)(a.kC,{alignItems:"start",direction:"column",gap:2,children:(0,M.jsx)(a.xv,{color:"subtle",children:r._('This board will only be visible to you', 'BoardForm.BoardFormSecretToggle.subText', 'protected board')})}):(0,M.jsxs)(a.xu,{paddingY:2,display:"flex",justifyContent:"between",children:[(0,M.jsxs)(a.__,{htmlFor:"secretToggle",children:[(0,M.jsx)(a.xv,{weight:f?"bold":"normal",children:f?this.props.i18n._('Make this board secret', 'duplo.createboardpage.toggle', 'Toggle during board creation'):this.props.i18n._('Keep board secret', 'Toggle during board creation', 'Toggle during board creation')}),f&&(0,M.jsx)(a.xv,{size:"200",color:"subtle",children:this.props.i18n._('Only you and collaborators will see this board', 'duplo.createboardpage.toggleSubtext', 'Toggle description during board creation')})]}),(0,M.jsx)(a.rs,{id:"secretToggle",switched:this.state.secret,onChange:this.onSwitchToggle})]})]})]})}}],Q(i.prototype,r),n&&Q(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.PureComponent);function ec(e){var t=(0,i.useHistory)(),r=(0,i.useLocation)(),n=(0,i.useRouteMatch)(),a=(0,W.Z)(),s=(0,g.Z)(),u=(0,f.ZP)(),d=(0,x.Z)(),p=(0,_.Z)(),y=(0,c.Z)(),h=(0,l.be)(),P=(0,l.Ig)(),S=(0,v.ZP)(),O=(0,q.E)().shareSuggestions,w=(0,m.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}).isLoaded,E=(0,T.DK)(),D=(0,o.useDispatch)(),B=(0,K.M)(),N=(0,o.useSelector)(function(e){return e.experiences[1000112]}),L=(0,o.useSelector)(function(e){return e.experiences[1000153]}),z=(0,A.Z)(),Z=z.showRepinConfirmation,F=z.showToast,U=(0,b.F)().checkExperiment,H=!!p.isPrivateProfile&&U("mweb_hide_u16_board").anyEnabled,V=U("mweb_direct_save_from_grid_v2",{dangerouslySkipActivation:!0}).anyEnabled||U("mweb_direct_save_from_grid_v2_new_user",{dangerouslySkipActivation:!0}).anyEnabled;if(!p.isAuth||n.params.pinId&&s||"desktop"===S)return(0,M.jsx)(i.Redirect,{to:"/"});var Y=w&&O[""]||[];return(0,M.jsx)(ea,X(X({},e),{},{closeupExperience:N,completeExperience:function(e,t){return D(h(e,t))},createBoard:function(e){var t=e.name,o=e.pin,i=e.privacy,c=n.params.pinId,s=r.state&&r.state.pinDescription?r.state.pinDescription:"";return c&&!s?a({boardCreateOptions:{name:t,privacy:i,initial_pins:[c],initial_pin_client_tracking_params:[(0,j.Z)((r.state||{}).trackingParams,null==o?void 0:o.tracking_params)]}}):a({boardCreateOptions:{name:t,privacy:i}})},checkExperiment:U,createPin:function(e){return D((0,C.i)(e))},contactSuggestions:Y,directSaveExpEnabled:V,dispatchOneTapSave:function(e){return D((0,I.a)(X({},e)))},dispatchUnsavePin:function(e){var t=e.pinId,r=e.pinBoardId,n=e.pinSectionId,o=e.clientTrackingParams;return D((0,R.q)({pinId:t,boardId:r||"",boardSectionId:n,clientTrackingParams:o}))},history:t,i18n:u,isPrivateProfile:H,inviteCollaborators:function(e,t){return E(e,t,p.id)},location:r,logContextEvent:y,match:n,repinContext:B,repinExperience:L,repinToBoard:function(e){var t,r=e.i18n,n=e.pinId,o=e.boardId,i=e.onSuccess,a=e.onUndo,c=e.showRepinConfirmation,s=e.showToast,l=e.section,u=e.trackingParams,d=e.historyPush;return D((0,k.w)({checkExperiment:U,i18n:r,logContextEvent:y,pinId:n,boardId:o,onSuccess:i,onUndo:a,showRepinConfirmation:c,showToast:s,section:l,trackingParams:u,historyPush:d,savePinId:null!==(t=null==B?void 0:B.save)&&void 0!==t?t:function(){}}))},requireAuthForLimitedLogin:d,showRepinConfirmation:Z,showToast:F,undoSaveAction:function(e){var t,r=e.boardId,n=e.boardSectionId,o=e.clientTrackingParams,i=e.i18n,a=e.newPinId,c=e.pinId;return(0,G.Z)({dispatch:D,i18n:i,showToast:F,newPinId:a,sourcePinId:c,boardId:r,boardSectionId:n,clientTrackingParams:o,undoSavedPin:null!==(t=null==B?void 0:B.unsave)&&void 0!==t?t:function(){}})},viewExperience:function(e,t){return D(P(e,t))}}))}},160865:function(e,t,r){"use strict";r.d(t,{Z:function(){return tO}});var n,o,i,a,c,s,l=r(76911),u=r(506979),d=r(599689),f=r(908390),p=r(112690),y=r(332611),h=r(121151),b=r(968121),m=r(499128),v=r(898781),g=r(349700),_=r(995081),P=r(313047),S=r(542554),j=r(784590),x=r(989726),O=r(50286),w=r(19121),E=r(676802),A=r(427806),T=r(830157);function I(e,t){return!!(e&&e.placement_id&&e.experience_id===t)}var C=r(881802),R=r(149823),k=r(499659),D=r(515198);function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var L="cubic-bezier(0.66, 0.025, 0.33, 0.975)",z=(0,k.qe)(function(e,t,r,n,o){var i=e,a=t,c=0,s=0,l="",u=Math.floor(t/3);if("shrinkToPin"===r&&(c="24px",s=1,i=Math.floor(3*u/2),a=u),"pinToGrid"===r&&n&&o){var d=n.getBoundingClientRect(),f=o.getBoundingClientRect(),p=f.x+f.width/2-(d.x+d.width/2),y=f.y+f.height/2-(d.y+d.height/2);l="translate(".concat(p,"px, ").concat(y,"px)"),c="24px 0px 0px 24px",s=1,i=u,a=u}return{borderRadius:c,height:i,opacity:s,overflow:"hidden",width:a,WebkitTransformOrigin:"center center",transformOrigin:"center center",WebkitTransform:l,transform:l,WebkitTransition:"all .42s ".concat(L),transition:"all .42s ".concat(L)}}),M=(0,k.qe)(function(e){return{opacity:e?1:0,WebkitTransition:"opacity .42s ".concat(L),transition:"opacity .42s ".concat(L)}}),Z=(0,k.qe)(function(e){return{opacity:e?0:1,WebkitTransition:"all .25s ".concat(L),transition:"all .25s ".concat(L),zIndex:3}});function F(e){var t,r,n,o,i=e.completeExperience,a=e.pinDominantColor,c=e.pinImageHeight,s=e.pinImageWidth,u=e.pinImageUrl,d=(0,v.ZP)(),p=B((0,l.useState)("visible"),2),y=p[0],h=p[1],b=B((0,l.useState)("none"),2),m=b[0],g=b[1],_=window.innerWidth,P=_*(c/s),S=Math.floor(_/3),j=Math.floor(_/6);(0,l.useEffect)(function(){u&&"none"===m&&(t=setTimeout(function(){g("shrinkToPin")},85)),u&&"shrinkToPin"===m&&(r=setTimeout(function(){g("pinToGrid")},2e3)),"pinToGrid"===m&&"visible"===y&&(n=setTimeout(function(){h("hidden")},2e3)),"hidden"===y&&(o=setTimeout(function(){h("none"),i()},300))}),(0,l.useEffect)(function(){return function(){clearTimeout(t),clearTimeout(r),clearTimeout(n),clearTimeout(o)}},[]);var x=(0,l.useRef)(null),O=(0,l.useRef)(null);return(0,D.jsxs)(f.xu,{alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:Z("hidden"===y)},direction:"column",display:"none"===y?"none":"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,top:!0,children:[(0,D.jsxs)(f.xu,{height:_/2,width:"100%",marginBottom:8,display:"flex",justifyContent:"center",alignItems:"center",position:"relative",children:[(0,D.jsx)(f.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:M("pinToGrid"===m)},children:(0,D.jsx)(f.zd,{rounding:6,width:S+j+1,height:S,children:(0,D.jsxs)(f.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,D.jsx)(f.xu,{width:S,height:S,color:"transparent",ref:O}),(0,D.jsxs)(f.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",children:[(0,D.jsx)(f.xu,{width:j,height:j,color:"secondary"}),(0,D.jsx)(f.xu,{width:j,height:j,color:"secondary"})]})]})})}),(0,D.jsx)(f.xu,{ref:x,position:"absolute",dangerouslySetInlineStyle:{__style:z(P,_,m,x.current,O.current)},children:(0,D.jsx)(f.Ee,{alt:d._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),src:u,fit:"cover",naturalHeight:c,naturalWidth:s,color:a})})]}),(0,D.jsx)(f.xu,{marginTop:8,marginBottom:8,paddingX:12,children:(0,D.jsx)(f.X6,{align:"center",size:"500",children:d._('Keep your ideas organized by creating a board', 'boardPicker.edu.heading', 'board create education shown before user create their first board')})})]})}var U=r(56632),H=r(327212);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,X(n.key),n)}}function q(e,t){return(q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function W(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t,r){return(t=X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e){var t=function(e,t){if("object"!==G(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==G(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===G(t)?t:String(t)}var $=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],Q=function(e,t){return Math.random()*((e||1)-(t||0))+(t||0)},J=function(e){return e*(Math.PI/180)},ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(o,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=V(o);if(t){var n=V(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return W(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return Y(W(e=n.call.apply(n,[this].concat(r))),"animationTimer",null),Y(W(e),"canvasRemovalTimer",null),Y(W(e),"childrenContainerRef",(0,l.createRef)()),Y(W(e),"containerRef",(0,l.createRef)()),Y(W(e),"buildCanvas",function(){if(!e.containerRef.current)return null;var t=window.innerWidth,r=e.containerRef.current.getBoundingClientRect(),n=r.height,o=r.top,i=document.createElement("canvas");return i.style.position="absolute",i.style.left="0px",i.style.top="".concat(o-(t-n)/2,"px"),i.style.pointerEvents="none",i.style.width="".concat(t,"px"),i.style.height="".concat(t,"px"),i.width=t,i.height=t,i}),Y(W(e),"explode",function(){var t=e.buildCanvas();if(t){var r=e.containerRef.current,n=e.childrenContainerRef.current,o=t.getContext("2d");null==r||r.insertBefore(t,n),function e(t,r,n,o){window.requestAnimationFrame(function(){return e(t,r,n,o)}),r.clearRect(0,0,n,o),t.forEach(function(e){e.x+=e.speed*Math.cos(J(e.degree)),e.y+=e.speed*Math.sin(J(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(r.beginPath(),r.globalAlpha=e.opacity,r.fillStyle=e.color,r.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),r.fill())})}(Array.from(Array(120)).map(function(){return{x:t.width/2,y:t.height/2,radius:Math.round(Q(10,30)),color:$[Math.floor(Math.random()*$.length)],degree:Number(Q(0,360).toFixed(1)),speed:Math.round(Q(0,25)),friction:.9,opacity:Number(Q(0,.5).toFixed(1)),yVel:0,gravity:.04}}),o,t.width,t.height),e.canvasRemovalTimer=setTimeout(function(){null==r||r.removeChild(t)},(e.props.delay||0)+1e3)}}),e}return K(o.prototype,[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.delay,n=t.startAnimation,o=e.startAnimation;n&&o!==n&&(this.animationTimer=setTimeout(this.explode,r))}},{key:"componentWillUnmount",value:function(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}},{key:"render",value:function(){return(0,D.jsx)(f.xu,{ref:this.containerRef,children:(0,D.jsx)(f.xu,{ref:this.childrenContainerRef,children:this.props.children})})}}]),r&&K(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.PureComponent);function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?er(Object(r),!0).forEach(function(t){el(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):er(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ei(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eu(n.key),n)}}function ea(e,t){return(ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ec(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function es(e){return(es=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function el(e,t,r){return(t=eu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eu(e){var t=function(e,t){if("object"!==et(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==et(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===et(t)?t:String(t)}Y(ee,"defaultProps",{delay:0});var ed=function(e,t,r){var n,o,i=[],a=null===(n=t.current)||void 0===n?void 0:n.getBoundingClientRect(),c=null===(o=r.current)||void 0===o?void 0:o.getBoundingClientRect();if(a&&c){var s={x:c.left-a.left,y:c.top-a.top},l={x:c.width/a.width,y:c.height/a.height};i.push("translate(".concat(s.x,"px, ").concat(s.y,"px)")),i.push("scale(".concat(l.x,", ").concat(l.y,")"))}return{WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?i.join(" "):"none",transform:e?i.join(" "):"none",WebkitTransition:"all .5s ease-in-out",transition:"all .5s ease-in-out",borderRadius:e?"8px 0px 0px 0px":"8px",overflow:"hidden",marginBottom:24}},ef=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ea(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=es(i);if(t){var n=es(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===et(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ec(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return el(ec(e=o.call.apply(o,[this].concat(r))),"state",{startAnimation:!1}),el(ec(e),"dismissTimer",null),el(ec(e),"pinRef",(0,l.createRef)()),el(ec(e),"pinDestinationRef",(0,l.createRef)()),el(ec(e),"handleAnimationAndCompletion",function(){var t=e.props,r=t.onComplete,n=t.savePin,o=t.selectedBoardName;if(o){var i=e.startAnimation();Promise.all([i,n(o)]).then(function(e){r((function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,2)||function(e,t){if(e){if("string"==typeof e)return eo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eo(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],o)}).catch(function(e){i.then(function(){e&&e.onError&&e.onError()})})}}),el(ec(e),"startAnimation",function(){return new Promise(function(t){e.setState({startAnimation:!0},function(){e.dismissTimer=setTimeout(function(){t()},2600)})})}),e}return r=[{key:"componentWillUnmount",value:function(){this.dismissTimer&&clearTimeout(this.dismissTimer)}},{key:"componentDidUpdate",value:function(){var e=this.props.selectedBoardName,t=this.state.startAnimation;e&&!t&&this.handleAnimationAndCompletion()}},{key:"render",value:function(){var e=this,t=this.props,r=t.pinDominantColor,n=t.pinImageUrl,o=t.selectedBoardName,i=this.state.startAnimation;return(0,D.jsxs)(l.Fragment,{children:[(0,D.jsx)(f.Le,{top:P.DEFAULT_HEIGHT,zIndex:new f.Ry(3),children:(0,D.jsx)(f.xu,{display:"flex",color:i?"transparent":"default",justifyContent:"center",alignItems:"center",children:(0,D.jsx)(f.xu,{ref:this.pinRef,height:84,width:84,position:"relative",dangerouslySetInlineStyle:{__style:ed(i,this.pinRef,this.pinDestinationRef)},children:(0,D.jsx)(f.Ee,{alt:this.props.i18n._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),src:n,fit:"cover",naturalHeight:84,naturalWidth:84,color:r})})})}),(0,D.jsx)(f.xu,{color:"default",position:"fixed",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",opacity:i?1:0,WebkitTransition:"opacity .4s ease-in-out",transition:"opacity .4s ease-in-out",zIndex:2}},children:(0,D.jsxs)(f.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,D.jsx)(ee,{delay:1200,startAnimation:i,children:(0,D.jsx)(f.zd,{rounding:2,width:148,children:(0,D.jsx)(f.kC,{alignItems:"stretch",justifyContent:"start",wrap:!0,children:Array.from([,,,,]).map(function(t,r){var n=r<=1,o=r%2,i=0===r?e.pinDestinationRef:null;return(0,D.jsx)(f.xu,{ref:i,color:0===r?"transparent":"secondary",marginBottom:n?1:0,marginEnd:o?0:1,width:72,height:72},r)})})})}),(0,D.jsx)(f.xu,{paddingX:4,dangerouslySetInlineStyle:{__style:{opacity:i?1:0,WebkitTransform:i?"translateY(0)":"translateY(20%)",transform:i?"translateY(0)":"translateY(20%)",WebkitTransition:"all .25s ease-in-out .5s",transition:"all .25s ease-in-out .5s",textAlign:"center",marginTop:"50px"}},children:(0,D.jsx)(f.X6,{children:(0,g.nk)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First repin confirmation message', 'First repin confirmation message'),{selectedBoardName:o})})})]})})]})}}],ei(i.prototype,r),n&&ei(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(l.PureComponent),ep=function(e){var t=(0,v.ZP)();return(0,D.jsx)(ef,en(en({},e),{},{i18n:t}))},ey=r(662089),eh=r(348854),eb=r(990823),em=r(819063),ev=r(384833),eg=r(698330),e_=r(404508),eP=r(704217),eS=r(916117),ej=r(773285),ex=r(343341),eO=r(497307),ew=r(678638),eE=r(139574),eA=r(850431),eT=r(166753),eI=r(580751);function eC(e){return(eC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eL(n.key),n)}}function ek(e,t){return(ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eD(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eB(e){return(eB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eN(e,t,r){return(t=eL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eL(e){var t=function(e,t){if("object"!==eC(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eC(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eC(t)?t:String(t)}var ez=void 0!==n?n:n=r(172335),eM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ek(e,t)}(o,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eB(o);if(t){var n=eB(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eC(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eD(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return eN(eD(e=n.call.apply(n,[this].concat(r))),"state",{name:""}),eN(eD(e),"onNextButtonTouch",function(){var t=e.state.name,r=e.props;(0,r.createSectionAndRepin)(t,r.i18n)}),eN(eD(e),"onNameChange",function(t){e.setState({name:t.target.value})}),e}return eR(o.prototype,[{key:"render",value:function(){var e=this.props,t=e.pin,r=e.useRoundedCorners,n=this.state.name;return(0,D.jsx)(eO.Z,{backButtonIcon:"arrow-back",name:n,onNameChange:this.onNameChange,onNextButtonTouch:this.onNextButtonTouch,selectedPinIds:[t.entityId],useRoundedCorners:r})}}]),r&&eR(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.PureComponent);function eZ(e){var t=e.boardId,r=e.isEditingPin,n=e.onSuccess,o=e.pinKey,i=e.pinBoardId,a=e.pinSectionId,c=e.trackingParams,s=e.useRoundedCorners,l=(0,eS.u)(ez,o).data,f=(0,u.useDispatch)(),y=(0,d.useHistory)(),h=(0,v.ZP)(),b=(0,ex.F9)().showToast,g=(0,p.Z)(),_=(0,eI.M)(),P=(0,ej.F)().checkExperiment,S=function(e){return y.push(e)};return(0,D.jsx)(eM,{i18n:h,createSectionAndRepin:function(e){var o=function(e){return b(function(t){var r=t.hideToast;return(0,D.jsx)(m.ZP,{text:e.message||h._('Sorry! Something went wrong on our end.', 'error creating board section', 'error creating board section'),type:"error",onHide:r})})};f((0,ew.Nv)(t,[],e,g)).then(function(e){b(function(e){var t=e.hideToast;return(0,D.jsx)(m.ZP,{text:h._('Section added!', ' - ', ' -- '),onHide:t})});var s,u=e.resource_response.data;f((0,eA.w)({checkExperiment:P,i18n:h,logContextEvent:g,pinId:l.entityId,boardId:t,onSuccess:r?void 0:n,onUndo:function(e,t,r,n){var o;return(0,eT.Z)({boardId:r,boardSectionId:n,clientTrackingParams:c,dispatch:f,i18n:h,newPinId:t,showToast:b,sourcePinId:e,undoSavedPin:null!==(o=null==_?void 0:_.unsave)&&void 0!==o?o:function(){}})},showToast:b,section:u,trackingParams:{clientTrackingParams:c,pinnedToBoardId:l.pinnedToBoard?l.pinnedToBoard.entityId:""},historyPush:S,savePinId:null!==(s=null==_?void 0:_.save)&&void 0!==s?s:function(){}})).then(function(){l&&i&&f((0,eE.q)({pinId:l.entityId,boardId:i,boardSectionId:a,clientTrackingParams:c})).then(function(){var e;return l.pinnedToBoard?y.replace(null!==(e=l.pinnedToBoard.url)&&void 0!==e?e:""):void 0})}).catch(o)}).catch(o)},pin:l,useRoundedCorners:s})}var eF=r(166300),eU=r(995228),eH=r(829407),eG=r(361115),eK=r(927383),eq=r(177891),eW=r(188170);function eV(e){var t=e.handleSelected,r=(0,v.ZP)(),n=(0,p.Z)();return(0,eH.Z)(function(){n({component:7,element:11933,event_type:13,view_type:3})}),(0,D.jsx)(f.iP,{rounding:2,onTap:function(){t(!1,null)},children:(0,D.jsxs)(f.xu,{"data-test-id":"board-picker-row",display:"flex",alignItems:"center",rounding:2,column:12,marginBottom:4,children:[(0,D.jsx)(f.xu,{color:"secondary",display:"flex",flex:"none",justifyContent:"center",alignItems:"center",height:48,rounding:2,width:48,children:(0,D.jsx)(f.JO,{accessibilityLabel:r._('Profile', 'save.ProfilePickerRow.IconAccessibilityLabel', 'Accessibility label for icon on option to save Pin to profile'),color:"default",icon:"history",size:22})}),(0,D.jsx)(f.xu,{display:"flex",direction:"column",justifyContent:"center",marginStart:2,width:"100%",overflow:"hidden",children:(0,D.jsx)(f.xv,{size:"400",weight:"bold",lineClamp:1,children:r._('Profile', 'save.ProfilePickerRow', 'Option to save Pin to profile')})})]})})}function eY(e){return(eY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eX(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(e){r(e);return}c.done?t(s):Promise.resolve(s).then(n,o)}function e$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var eQ=void 0!==o?o:o=r(612289);function eJ(e){var t,r,n=e.boards,o=e.boardsShortlist,i=e.closeModal,a=e.dismissFlyout,c=e.history,s=e.isEditingPin,p=e.isFromToast,y=e.logContextEvent,h=e.onSelect,b=e.originalPinId,g=e.pinKey,_=e.pinBoardId,P=e.pinSectionId,S=e.saveToProfileEnabled,j=e.trackingParams,x=(0,v.ZP)(),O=(0,eS.u)(eQ,g).data,w=(0,u.useDispatch)(),E=(0,d.useLocation)(),A=(0,eK.Z)(),I=(0,eI.M)(),R=c.location.state&&c.location.state.isOneTapSave,k=(0,ej.F)().checkExperiment,B=S&&k("mweb_top_choices_extract_profile").anyEnabled,N=k("mweb_direct_save_from_grid_v2",{dangerouslySkipActivation:!0}).anyEnabled||k("mweb_direct_save_from_grid_v2_new_user",{dangerouslySkipActivation:!0}).anyEnabled,L=(0,T.Z)(E.state?E.state.trackingParams:"",O.trackingParams),z=(0,ey.Z)(),M=z.showRepinConfirmation,Z=z.showToast,F=function(e){return c.push(e)},U=o?n.filter(function(e){return o.some(function(t){return e.id===t.id})}):n.slice(0,3),H=U.map(function(e){return e.id});S&&H.unshift("PROFILE_PINS");var G=(0,eG.Yg)();(0,eH.Z)(function(){H&&y({event_type:13,component:7,element:1001,view_type:3,aux_data:{pin_id:O.entityId,suggested_boards:H}})});var K=function(e){var t,r=e.boardId,n=e.clientTrackingParams,o=e.i18n,i=e.isQuickSave;return a(),null==G||G("main_pin_repin"),w((0,eA.w)({checkExperiment:k,i18n:o,isQuickSave:i,logContextEvent:y,pinId:O.entityId,boardId:r,onSuccess:c.goBack,onUndo:function(e,t,r,i){var a;return(0,eT.Z)({boardId:r,boardSectionId:i,clientTrackingParams:n,dispatch:w,i18n:o,newPinId:t,originalPinId:p?b:"",showToast:Z,sourcePinId:e,undoSavedPin:null!==(a=null==I?void 0:I.unsave)&&void 0!==a?a:function(){}})},originalPinId:b,showRepinConfirmation:M,trackingParams:j,historyPush:F,suggestedBoardIds:H,savePinId:null!==(t=null==I?void 0:I.save)&&void 0!==t?t:function(){}}))},q=A({fn:(t=regeneratorRuntime.mark(function e(t,r){var n,o,a,l,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&r)){e.next=4;break}h(r),e.next=20;break;case 4:return e.prev=4,n=!(null!=r&&r.id),e.next=8,K({boardId:null==r?void 0:r.id,clientTrackingParams:L,i18n:x,isQuickSave:n});case 8:var f;if(o=e.sent,(R||N)&&o&&(f={boardId:null==r?void 0:r.id,localPinId:o.id,pinId:O.entityId},w((0,eq.a)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e$(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==eY(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eY(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eY(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},f)))),!s){e.next=15;break}return e.next=13,w((0,eE.q)({pinId:O.entityId,boardId:_||"",boardSectionId:P,clientTrackingParams:L}));case 13:l=null===(a=O.pinnedToBoard)||void 0===a?void 0:a.url,p?i():O.section?(d="".concat(null!=l?l:"").concat(null!==(u=O.section.slug)&&void 0!==u?u:"","/"),c.replace(null!=d?d:"")):O.pinnedToBoard&&c.replace(null!=l?l:"");case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),Z(function(t){var r=t.hideToast;return(0,D.jsx)(m.ZP,{type:"error",text:e.t0.message||x._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:r})});case 20:case"end":return e.stop()}},e,null,[[4,17]])}),r=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){eX(i,n,o,a,c,"next",e)}function c(e){eX(i,n,o,a,c,"throw",e)}a(void 0)})},function(e,t){return r.apply(this,arguments)}),modalHeader:(0,C.Bx)(x)});return(0,D.jsx)(l.Fragment,{children:(0,D.jsxs)(f.kC,{direction:"column",gap:4,children:[(0,D.jsxs)(f.xu,{children:[S&&B&&(0,D.jsx)(eV,{handleSelected:q}),o.length>0&&(0,D.jsx)(f.xu,{marginTop:2,marginBottom:4,children:(0,D.jsx)(f.xv,{children:x._('Top choices', 'boardPicker.header.topChoices', 'Header of a list of user\'s boards')})}),S&&!B&&(0,D.jsx)(eV,{handleSelected:q}),U.map(function(e){return(0,D.jsx)(eW.Z,{boardId:e.id,onBoardSelected:function(t){return q(t,e)},showSingleBoardRep:!0},e.id)})]}),(0,D.jsxs)(f.xu,{children:[(0,D.jsx)(f.xu,{marginBottom:4,children:(0,D.jsx)(f.xv,{children:x._('All boards', 'RepinFlow.BoardPickerList.AllBoards', 'Board picker list all boards title')})}),n.map(function(e){return(0,D.jsx)(eW.Z,{boardId:e.id,onBoardSelected:function(t){return q(t,e)},showSingleBoardRep:!0},e.id)})]})]})})}var e0=r(63552),e1=function(){return(0,D.jsx)(f.xu,{color:"secondary",display:"inlineBlock",height:60,minWidth:60,overflow:"hidden",position:"relative",rounding:4,children:(0,D.jsxs)(l.Fragment,{children:[(0,D.jsx)(f.xu,{color:"default",dangerouslySetInlineStyle:{__style:{left:"50%"}},height:"100%",position:"absolute",width:1}),(0,D.jsx)(f.xu,{color:"default",dangerouslySetInlineStyle:{__style:{top:"50%"}},height:1,width:"50%",position:"absolute",right:!0})]})})},e2=r(675752),e8=r(109892);function e3(e){return(e3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e9(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(e){r(e);return}c.done?t(s):Promise.resolve(s).then(n,o)}function e6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var e5=void 0!==i?i:i=r(390687),e7=function(e){var t=e.allSuggestions,r=e.handleCreateBoard,n=e.index,o=e.isFBC,i=e.logContextEvent,a=e.pinViewParameter;r(),i({aux_data:{board_title_list:JSON.stringify(t),is_fbc:o.toString(),selected_board_title_index:n},component:7,element:23,event_type:102,view_parameter:a,view_type:3})};function e4(e){var t,r,n,o,i,a=e.isEditingPin,c=e.isFirstBoard,s=e.history,l=e.onFirstBoardCreate,d=e.pinBoardId,y=e.pinKey,h=e.pinSectionId,b=e.titleSuggestions,m=e.clientTrackingParams,g=(0,p.Z)(),_=(0,e8.Z)(),P=(0,v.ZP)(),S=(0,eK.Z)(),j=(0,ey.Z)().showRepinConfirmation,x=(0,u.useDispatch)(),O=(0,eS.u)(e5,y).data,w=O.entityId,E=(0,e2.A)({hasRichMetadata:!!O.richMetadata,hasRichMetadataProducts:!!(null!==(n=O.richMetadata)&&void 0!==n&&n.products),hasRichMetadataArticle:!!(null!==(o=O.richMetadata)&&void 0!==o&&o.article),hasRichMetadataRecipe:!!(null!==(i=O.richMetadata)&&void 0!==i&&i.recipe)}),A=(0,eI.M)(),I=(0,T.Z)(m,O.trackingParams),R=function(e){return s.push(e)},k=(0,ej.F)().checkExperiment,B=k("mweb_direct_save_from_grid_v2",{dangerouslySkipActivation:!0}).anyEnabled||k("mweb_direct_save_from_grid_v2_new_user",{dangerouslySkipActivation:!0}).anyEnabled,N=function(e){x((0,eE.q)({pinId:w,boardId:d||"",boardSectionId:h,clientTrackingParams:e}))},L=(t=regeneratorRuntime.mark(function e(){var t,r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(I);case 2:r=null===(t=O.pinnedToBoard)||void 0===t?void 0:t.url,O.section?(o="".concat(null!=r?r:"").concat(null!==(n=O.section.slug)&&void 0!==n?n:"","/"),s.replace(null!=o?o:"")):s.replace(null!=r?r:"");case 4:case"end":return e.stop()}},e)}),r=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){e9(i,n,o,a,c,"next",e)}function c(e){e9(i,n,o,a,c,"throw",e)}a(void 0)})},function(){return r.apply(this,arguments)}),z=function(e){_({boardCreateOptions:{name:e,initial_pins:[w],initial_pin_client_tracking_params:[m],privacy:"public"}}).then(function(e){return a?L():s.goBack(),e}).then(function(t){var r=t||{},n=r.url,o=r.id,i=(0,eh.Io)(void 0===n?"":n,e,P),a=i.href,c=i.text,s=(0,U.Z)({boardId:o,viewType:3}),l=s.duration,u=s.text,d=s.thumbnail;j(function(e){var t=e.hideToast;return(0,D.jsx)(H.Z,{duration:l,href:a,onHide:t,text:u||c,thumbnail:d})}),g({event_type:5,view_type:3,component:7,view_parameter:E,object_id_str:w,clientTrackingParams:I,aux_data:{board_id:o,destination_board_id:o}})})},M=function(e){_({boardCreateOptions:{name:e,initial_pin_client_tracking_params:[m],privacy:"public"}}).then(function(t){var r,n=t||{},o=n.url,i=void 0===o?"":o,c=n.id;x((0,eA.w)({checkExperiment:k,i18n:P,logContextEvent:g,pinId:w,boardId:c,onUndo:function(){N(I)},trackingParams:{clientTrackingParams:I,pinnedToBoardId:c},historyPush:R,savePinId:null!==(r=null==A?void 0:A.save)&&void 0!==r?r:function(){}})).then(function(t){r={boardId:c,localPinId:t.id,pinId:w},x((0,eq.a)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e6(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==e3(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==e3(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e3(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e6(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r))),a?L():s.goBack();var r,n=(0,eh.Io)(i,e,P),o=n.href,l=n.text,u=(0,U.Z)({boardId:c,viewType:3}),d=u.duration,f=u.text,p=u.thumbnail;j(function(e){var t=e.hideToast;return(0,D.jsx)(H.Z,{duration:d,href:o,onHide:t,text:f||l,thumbnail:p})}),g({event_type:5,view_type:3,component:7,view_parameter:E,object_id_str:w,clientTrackingParams:I,aux_data:{board_id:c,destination_board_id:c}})})})},Z=S({fn:function(e,t,r){e7({allSuggestions:r,handleCreateBoard:function(){c?l(t):B?M(t):z(t)},index:e,isFBC:c,logContextEvent:g,pinViewParameter:E})},modalHeader:(0,C.Bb)(P)});return b?b.map(function(e,t,r){return(0,D.jsx)(f.xu,{children:(0,D.jsx)(e0.Z,{onTouch:function(){return Z(t,e,r)},pressState:"none",rounding:2,children:(0,D.jsxs)(f.xu,{display:"flex",alignItems:"center",paddingY:2,rounding:2,children:[(0,D.jsx)(e1,{}),(0,D.jsx)(f.xu,{column:10,marginStart:3,children:(0,D.jsx)(f.X6,{size:"400",children:e})})]})},t)},t)}):null}function te(e){var t=e.allBoards,r=e.saveToProfileEnabled,n=e.boardsShortlist,o=e.closeModal,i=e.dismissFlyout,a=e.history,c=e.isEditingPin,s=e.isFromToast,u=e.onSelect,d=e.originalPinId,f=e.pin,y=e.pinBoardId,h=e.pinSectionId,b=e.trackingParams,m=(0,p.Z)();return(0,D.jsx)(l.Fragment,{children:(0,D.jsx)(eJ,{boards:t,boardsShortlist:n,closeModal:o,dismissFlyout:i,history:a,isEditingPin:c,isFromToast:s,logContextEvent:m,onSelect:u,originalPinId:d,pinKey:{type:"deprecated",data:f},pinBoardId:y,pinSectionId:h,saveToProfileEnabled:r,trackingParams:b})})}function tt(e){var t=e.allBoards,r=e.boardsShortlist,n=e.closeModal,o=e.saveToProfileEnabled,i=e.dismissFlyout,a=e.history,c=e.isEditingPin,s=e.isFirstRepinExperience,l=e.isFromToast,u=e.onFirstBoardCreate,d=e.originalPinId,y=e.onSelect,h=e.pin,b=e.pinBoardId,m=e.pinSectionId,g=e.trackingParams,_=e.titleSuggestions,P=(0,v.ZP)(),S=s||0===t.length&&!o,j=(0,p.Z)(),x=function(){return(0,D.jsx)(e4,{history:a,isEditingPin:c,isFirstBoard:S,onFirstBoardCreate:u,pinBoardId:b,pinKey:{type:"deprecated",data:h},pinSectionId:m,titleSuggestions:_,clientTrackingParams:g.clientTrackingParams})};return S?(0,D.jsxs)(f.xu,{paddingX:1,children:[(0,D.jsx)(f.xu,{marginBottom:4,children:(0,D.jsx)(f.xv,{children:P._('Tap to create your first board', 'CTA for board title suggestions', 'Explain to user that tapping on suggestion creates a board')})}),x()]}):(0,D.jsxs)(f.xu,{marginBottom:4,children:[(0,D.jsx)(eJ,{boards:t,boardsShortlist:r,closeModal:n,dismissFlyout:i,history:a,isEditingPin:c,isFromToast:l,logContextEvent:j,onSelect:y,originalPinId:d,pinKey:{type:"deprecated",data:h},pinBoardId:b,pinSectionId:m,saveToProfileEnabled:o,trackingParams:g}),_?(0,D.jsxs)(f.xu,{children:[(0,D.jsx)(f.xu,{paddingY:1,children:(0,D.jsx)(eF.Z,{children:(0,D.jsx)(f.iz,{})})}),(0,D.jsx)(f.xu,{paddingY:4,children:(0,D.jsx)(f.xv,{children:P._('Or tap to create a new board', 'boardPicker.suggestedBoardName.title', 'Title for repin page suggested board name section')})}),x()]}):(0,D.jsx)(f.xu,{paddingY:6,children:(0,D.jsx)(f.$j,{accessibilityLabel:P._('Loading repin page content', ' - ', ' -- '),show:!0})})]})}var tr=function(e){var t,n,o,i=void 0!==a?a:a=r(977297),c=(0,eP.useLazyLoadQuery)(i,{pinId:e}).v3GetPinQuery;if(null==c?void 0:null===(t=c.error)||void 0===t?void 0:t.message)throw null==c?void 0:c.error;return(null==c?void 0:null===(n=c.data)||void 0===n?void 0:null===(o=n.boardTitleSuggestions)||void 0===o?void 0:o.map(function(e){return e.title}).filter(Boolean))||[]};function tn(e){var t=e.allBoards,r=e.boardsShortlist,n=e.closeModal,o=e.saveToProfileEnabled,i=e.dismissFlyout,a=e.history,c=e.isEditingPin,s=e.isFetchingBoards,l=e.isFirstRepinExperience,u=e.isFromToast,d=e.onFirstBoardCreate,f=e.onSelect,p=e.originalPinId,y=e.location,h=e.pin,b=e.pinBoardId,m=e.pinDescription,v=e.pinSectionId;return(0,D.jsx)(eU.Z,{children:(0,D.jsx)(to,{allBoards:t,boardsShortlist:r,saveToProfileEnabled:o,history:a,isFetchingBoards:s,isFirstRepinExperience:l,isFromToast:u,location:y,onFirstBoardCreate:d,onSelect:f,originalPinId:p,closeModal:n,pin:h,pinDescription:m,dismissFlyout:i,isEditingPin:c,pinBoardId:b,pinSectionId:v})})}function to(e){var t=e.allBoards,r=e.boardsShortlist,n=e.closeModal,o=e.saveToProfileEnabled,i=e.dismissFlyout,a=e.history,c=e.isEditingPin,s=e.isFetchingBoards,l=e.isFirstRepinExperience,u=e.isFromToast,d=e.onFirstBoardCreate,f=e.onSelect,p=e.originalPinId,y=e.location,h=e.pin,b=e.pinBoardId,m=e.pinDescription,v=e.pinSectionId,g=tr(h.id);return(0,D.jsx)(ti,{allBoards:t,boardsShortlist:r,saveToProfileEnabled:o,history:a,isFetchingBoards:s,isFirstRepinExperience:l,isFromToast:u,location:y,onFirstBoardCreate:d,onSelect:f,originalPinId:p,closeModal:n,pin:h,pinDescription:m,dismissFlyout:i,isEditingPin:c,pinBoardId:b,pinSectionId:v,titleSuggestions:g})}function ti(e){var t=(0,v.ZP)(),r=e.allBoards,n=e.boardsShortlist,o=e.closeModal,i=e.saveToProfileEnabled,a=e.dismissFlyout,c=e.history,s=e.isEditingPin,l=e.isFetchingBoards,u=e.isFirstRepinExperience,d=e.isFromToast,p=e.onFirstBoardCreate,y=e.onSelect,h=e.originalPinId,b=e.location,m=e.pin,g=e.pinBoardId,_=e.pinDescription,P=e.pinSectionId,S=e.titleSuggestions,j={clientTrackingParams:b.state?b.state.trackingParams:"",pinnedToBoardId:m.pinned_to_board?m.pinned_to_board.id:""};return r.length>0||!l?r.length>=10?(0,D.jsx)(te,{allBoards:r,boardsShortlist:n,closeModal:o,dismissFlyout:a,history:c,isEditingPin:s,isFromToast:d,onSelect:y,originalPinId:h,pin:m,pinBoardId:g,pinDescription:_,pinSectionId:P,saveToProfileEnabled:i,trackingParams:j}):(0,D.jsx)(tt,{allBoards:r,boardsShortlist:n,closeModal:o,dismissFlyout:a,history:c,isEditingPin:s,isFirstRepinExperience:u,isFromToast:d,onFirstBoardCreate:p,onSelect:y,originalPinId:h,pin:m,pinBoardId:g,pinDescription:_,pinSectionId:P,saveToProfileEnabled:i,titleSuggestions:S,trackingParams:j}):(0,D.jsx)(f.xu,{paddingY:2,children:(0,D.jsx)(f.$j,{accessibilityLabel:t._('Loading repin page content', ' - ', ' -- '),show:!0})})}var ta=r(287072),tc=void 0!==c?c:c=r(893831);function ts(e){var t=e.isEditingPin,r=e.isFirstBoardCreateActive,n=e.pinKey,o=e.pinBoardId,i=e.pinDescription,a=e.pinSectionId,c=e.trackingParams,s=e.onTouch,l=e.useIconWithBackground,u=(0,v.ZP)(),d=(0,eS.u)(tc,n).data,p=(0,ta.Z)({href:{pathname:"/board/create/".concat(d.entityId,"/"),state:{isFirstBoardCreateActive:r,pinnedToBoardId:d.pinnedToBoard?d.pinnedToBoard.entityId:"",pinDescription:i,trackingParams:c,isEditingPin:t,pinBoardId:o,pinSectionId:a}}});return(0,D.jsx)(P.FixedFooter,{height:l?void 0:70,hasTopShadow:l,children:(0,D.jsx)(f.iP,{onTap:function(e){var t=e.event;null==s||s(),p({event:t})},children:(0,D.jsxs)(f.xu,{"data-test-id":"repinCreateBoardButton",display:"flex",alignItems:"center",paddingY:l?0:1,paddingX:l?1:0,children:[l?(0,D.jsx)(f.xu,{color:"secondary",rounding:2,dangerouslySetInlineStyle:{__style:{padding:"14px"}},children:(0,D.jsx)(f.JO,{icon:"add",color:"default",size:20,accessibilityLabel:u._('Create board button', ' - ', ' -- ')})}):(0,D.jsx)(f.JO,{icon:"add-circle",color:"error",size:38,accessibilityLabel:u._('Create board button', ' - ', ' -- ')}),(0,D.jsx)(f.xu,{marginStart:l?2:3,children:(0,D.jsx)(f.xv,{weight:"bold",children:u._('Create board', 'Create new board to Pin to', 'Create new board to Pin to')})})]})})})}var tl=r(568674);function tu(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(e){r(e);return}c.done?t(s):Promise.resolve(s).then(n,o)}var td=void 0!==s?s:s=r(592657);function tf(e){var t,r,n=e.boardId,o=e.history,i=e.location.search,a=e.showSectionRep,c=e.pinKey,s=e.onSuccess,l=e.trackingParams,d=e.dismissFlyout,f=(0,u.useDispatch)(),y=(0,v.ZP)(),h=(0,eS.u)(td,c).data,b=(0,ex.F9)().showToast,m=new URLSearchParams(i),g=m.get("isEditingPin"),_=(0,T.Z)(l,h.trackingParams),P=(0,p.Z)(),S=(0,eI.M)(),j=(0,ej.F)().checkExperiment,x=function(e){return o.push(e)},O=function(e){var t;d(),f((0,eA.w)({checkExperiment:j,i18n:y,logContextEvent:P,pinId:h.entityId,boardId:n,onSuccess:g?void 0:s,onUndo:function(e,t,r,n){var o;return(0,eT.Z)({boardId:r,boardSectionId:n,clientTrackingParams:_,dispatch:f,i18n:y,newPinId:t,showToast:b,sourcePinId:e,undoSavedPin:null!==(o=null==S?void 0:S.unsave)&&void 0!==o?o:function(){}})},showToast:b,section:e,trackingParams:{clientTrackingParams:_,pinnedToBoardId:h.pinnedToBoard?h.pinnedToBoard.entityId:""},historyPush:x,savePinId:null!==(t=null==S?void 0:S.save)&&void 0!==t?t:function(){}})).then(function(){if(e){var t;f((0,ew.A4)(null!==(t=e.id)&&void 0!==t?t:""))}})},w=function(){var e,t,r=null!==(e=m.get("pinBoardId"))&&void 0!==e?e:"",n=null!==(t=m.get("pinSectionId"))&&void 0!==t?t:"";return f((0,eE.q)({pinId:h.entityId,boardId:r,boardSectionId:n,clientTrackingParams:_}))},E=(t=regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(r);case 2:if(!g){e.next=6;break}return e.next=5,w();case 5:null!==(n=h.pinnedToBoard)&&void 0!==n&&n.url&&o.replace(h.pinnedToBoard.url);case 6:case"end":return e.stop()}},e)}),r=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){tu(i,n,o,a,c,"next",e)}function c(e){tu(i,n,o,a,c,"throw",e)}a(void 0)})},function(e,t){return r.apply(this,arguments)});return(0,D.jsx)(tl.Z,{boardId:n,repin:E,showSectionRep:a})}function tp(e){return(tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ty(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function th(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ty(Object(r),!0).forEach(function(t){t_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ty(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tP(n.key),n)}}function tm(e,t){return(tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tv(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tg(e){return(tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function t_(e,t,r){return(t=tP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tP(e){var t=function(e,t){if("object"!==tp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tp(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tp(t)?t:String(t)}function tS(e){var t=e.children,r=(0,u.useSelector)(function(e){var t=e.session;return 72+((0,_.Rq)(t.userAgentPlatform)?_.Vf:0)});return(0,D.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:r}},children:t})}var tj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tm(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tg(i);if(t){var n=tg(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===tp(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tv(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return t_(tv(e=o.call.apply(o,[this].concat(r))),"state",{dupeWarningDismissed:!1,pinDescription:(e.props.pin.description||"").trim(),saved:!1,suggestedBoardName:void 0,trackingParams:(e.props.location.state||{}).trackingParams||"",warningAnchor:void 0,windowInnerHeight:"undefined"!=typeof window?window.innerHeight:0}),t_(tv(e),"saved",function(){return e.setState({saved:!0})}),t_(tv(e),"onResize",function(){e.setState({windowInnerHeight:window.innerHeight})}),t_(tv(e),"handleBackButtonTouch",function(){var t=e.props;(0,t.logContextEvent)({view_type:21,view_parameter:87,component:7,element:t.match.params.boardId?34:75,event_type:102})}),t_(tv(e),"handleDismissWarningFlyout",function(){return e.setState({dupeWarningDismissed:!0})}),t_(tv(e),"handleFirstBoardCreateOnSuccess",function(t,r){var n=e.props,o=n.closeupExperience,i=n.completeExperience,a=n.history,c=n.i18n,s=n.repinExperience,l=n.showRepinConfirmation,u=t.boardId,d=t.boardUrl,f=(0,eh.Io)(d,r,c),p=f.href,y=f.text,h=(0,U.Z)({boardId:u,isFBC:!0,viewType:21}),b=h.duration,m=h.text,v=h.thumbnail;a.goBack(),l(function(e){var t=e.hideToast;return(0,D.jsx)(H.Z,{duration:b,href:p,onHide:t,text:m||y,thumbnail:v})}),o&&o.placement_id&&503459===o.experience_id&&i(o.placement_id,o.experience_id),s&&I(s,501032)&&i(s.placement_id,s.experience_id)}),t_(tv(e),"handleSetSelectedBoard",function(t){var r=e.props,n=r.history,o=r.pin,i=e.state.trackingParams;e.isFirstBoardCreateActive()||n.push("/board/create/".concat(o.id,"/").concat(t,"/"),{trackingParams:i}),e.setState({suggestedBoardName:t})}),t_(tv(e),"handleFirstBoardCreate",function(t){var r=e.props,n=r.createBoard,o=r.history,i=r.location,a=r.logContextEvent,c=r.match,s=r.pin,l=r.showToast,u=e.state.trackingParams,d=c.params.id;return n({boardCreateOptions:{initial_pins:d?[d]:[],name:t,initial_pin_client_tracking_params:[(0,T.Z)((i.state||{}).trackingParams)],privacy:"public"},deprecatedSchemaForNormalization:em.IY}).then(function(e){var t,r,n,o=e.id;a({event_type:5,view_type:3,component:7,view_parameter:(0,e2.A)({hasRichMetadata:!!s.rich_metadata,hasRichMetadataProducts:!!(null!==(t=s.rich_metadata)&&void 0!==t&&t.products),hasRichMetadataArticle:!!(null!==(r=s.rich_metadata)&&void 0!==r&&r.article),hasRichMetadataRecipe:!!(null!==(n=s.rich_metadata)&&void 0!==n&&n.recipe)}),object_id_str:s.id,clientTrackingParams:(0,T.Z)(u,s.tracking_params),aux_data:{board_id:o,destination_board_id:o}});var i=e.url;return{boardId:o,boardUrl:void 0===i?"":i}},function(t){throw{onError:function(){o.goBack(),l(function(r){var n=r.hideToast;return(0,D.jsx)(m.ZP,{onHide:n,type:"error",text:t.message||e.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board')})})}}})}),t_(tv(e),"handleSelectBoard",function(t){var r,n,o=e.props,i=o.history,a=o.pin,c=o.location.search,s=e.state.trackingParams,l=new URLSearchParams(c),u=!!l.get("isEditingPin"),d=null!==(r=l.get("pinBoardId"))&&void 0!==r?r:"",f=null!==(n=l.get("pinSectionId"))&&void 0!==n?n:"";u?i.push("/pin/".concat(a.id,"/repin/").concat(t.id,"/?isEditingPin=true&pinBoardId=").concat(d,"&pinSectionId=").concat(f),{trackingParams:s}):i.push({pathname:"/pin/".concat(a.id,"/repin/").concat(t.id,"/")},{trackingParams:s})}),t_(tv(e),"handleClickAddSectionButton",function(){var t,r,n=e.props,o=n.pin,i=n.history,a=n.match.params.boardId,c=n.location.search;if(a){var s=new URLSearchParams(c),l=!!s.get("isEditingPin"),u=null!==(t=s.get("pinBoardId"))&&void 0!==t?t:"",d=null!==(r=s.get("pinSectionId"))&&void 0!==r?r:"";l?i.push("/pin/".concat(o.id,"/repin/").concat(a,"/add/?isEditingPin=true&pinBoardId=").concat(u,"&pinSectionId=").concat(d)):i.push({pathname:"/pin/".concat(o.id,"/repin/").concat(a,"/add/")})}}),t_(tv(e),"handleRepinToExistingSectionSuccess",function(){return e.props.history.go(-2)}),t_(tv(e),"handleRepinToNewSectionSuccess",function(){return e.props.history.go(-3)}),t_(tv(e),"handleRepinCreateBoardButtonTouch",function(){e.props.logContextEvent({view_type:21,view_parameter:87,component:7,element:249,event_type:102})}),t_(tv(e),"renderCreateScreen",function(){var t,r,n=e.props,o=n.pin,i=n.location.search,a=n.match.params.boardId,c=e.state.trackingParams,s=new URLSearchParams(i),l=!!s.get("isEditingPin"),u=null!==(t=s.get("pinBoardId"))&&void 0!==t?t:"",d=null!==(r=s.get("pinSectionId"))&&void 0!==r?r:"";return!!a&&(0,D.jsx)(eZ,{boardId:a,isEditingPin:l,pinBoardId:u,pinSectionId:d,onSuccess:e.handleRepinToNewSectionSuccess,pinKey:{type:"deprecated",data:o},trackingParams:c,useRoundedCorners:!0})}),t_(tv(e),"isFirstBoardCreateActive",function(){var t=e.props,r=t.allBoards,n=t.isFetchingBoards,o=t.saveToProfileEnabled;return!!I(t.repinExperience,501032)||!n&&0===r.length&&!o}),t_(tv(e),"isBoardCreateEduActive",function(){return I(e.props.repinExperience,501021)}),t_(tv(e),"completeBoardCreateEduExperience",function(){var t=e.props,r=t.completeExperience,n=t.repinExperience;n&&e.isBoardCreateEduActive()&&r(n.placement_id,n.experience_id)}),t_(tv(e),"renderPicker",function(){var t,r,n,o,i,a=e.props,c=a.allBoards,s=a.saveToProfileEnabled,l=a.boardsShortlist,u=a.history,d=a.isFetchingBoards,p=a.location,y=a.pin,h=a.match.params.boardId,b=a.location.search,m=e.state,v=m.pinDescription,_=m.dupeWarningDismissed,j=m.saved,x=m.suggestedBoardName,O=m.trackingParams,w=m.warningAnchor,T=v.trim(),I=y.pinned_to_board,k=I?(0,g.nk)(e.props.i18n._('Psst! You already saved this Pin to {{ board_name }}', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:I.name}).join(" "):null,B=y.dominant_color,N=y.images?y.images["236x"]:null,L=N?N.url:"",z=new URLSearchParams(b),M=!!z.get("isEditingPin"),Z=null!==(t=z.get("pinBoardId"))&&void 0!==t?t:"",U=null!==(r=z.get("pinSectionId"))&&void 0!==r?r:"",H=!!z.get("isFromToast"),G=null!==(n=z.get("originalPinId"))&&void 0!==n?n:"",K=e.props.i18n._('Save Pin to', 'RepinPage.Section.Header.Title', 'title for section selection in repin flow'),q=new f.Ry(2),W=e.props.i18n._('Create board', 'Title for first board create', 'Title for first board create. NOTE: we are testing using "collections" in place of "boards" for new users'),V=e.props.i18n._('Save to board', 'boardPicker.header', 'Title for repin page'),Y=h?K:0!==c.length||d||s?V:W;return(0,D.jsxs)(S.default,{hasFixedHeader:!0,children:[(0,D.jsx)(A.Z,{text:Y}),(0,D.jsx)(P.FixedHeader,{useRoundedCorners:!0,zIndex:q,children:(0,D.jsxs)(f.kC,{alignItems:"center",height:40,justifyContent:"start",children:[(0,D.jsx)(f.xu,{column:2,children:(0,D.jsx)(e_.Z,{color:"darkGray",icon:h?"arrow-back":"cancel",onTouch:e.handleBackButtonTouch,alignIconLeft:!0,size:"sm"})}),(0,D.jsx)(f.xu,{column:8,children:(0,D.jsx)(f.xu,{"data-test-id":"repin-page-title",children:(0,D.jsx)(f.xv,{align:"center",weight:"bold",children:Y})})}),(0,D.jsx)(f.xu,{column:2})]})}),y.images&&(e.isFirstBoardCreateActive()?(0,D.jsx)(ep,{onComplete:e.handleFirstBoardCreateOnSuccess,pinDominantColor:null!=B?B:"",pinImageUrl:null!=L?L:"",savePin:e.handleFirstBoardCreate,selectedBoardName:x}):null),(0,D.jsx)(tS,{children:h?(0,D.jsx)(tf,{boardId:h,onSuccess:e.handleRepinToExistingSectionSuccess,pinKey:{type:"deprecated",data:y},trackingParams:O,dismissFlyout:e.saved,showSectionRep:!0,history:u,location:p}):(0,D.jsx)(tn,{allBoards:c,boardsShortlist:l,saveToProfileEnabled:s,history:u,isFetchingBoards:d,isFirstRepinExperience:e.isFirstBoardCreateActive(),isFromToast:H,location:p,onFirstBoardCreate:e.handleSetSelectedBoard,onSelect:e.handleSelectBoard,originalPinId:G,closeModal:e.handleBackButtonTouch,pin:y,pinDescription:T,dismissFlyout:e.saved,isEditingPin:M,pinBoardId:Z,pinSectionId:U})}),h?(0,D.jsx)(E.Wx,{onAddNewSection:e.handleClickAddSectionButton,useIconWithBackground:!0}):(0,D.jsx)(R.Z,{modalHeader:(0,C.Bb)(e.props.i18n),nextLocation:"/board/create/".concat(y.id,"/"),children:(0,D.jsx)(ts,{isFirstBoardCreateActive:e.isFirstBoardCreateActive(),pinKey:{type:"deprecated",data:y},pinDescription:T,trackingParams:O,onTouch:e.handleRepinCreateBoardButtonTouch,useIconWithBackground:!0,isEditingPin:M,pinBoardId:Z,pinSectionId:U})}),N&&e.isBoardCreateEduActive()&&(0,D.jsx)(F,{completeExperience:e.completeBoardCreateEduExperience,pinDominantColor:null!=B?B:"",pinImageHeight:null!==(o=N.height)&&void 0!==o?o:1,pinImageWidth:null!==(i=N.width)&&void 0!==i?i:1,pinImageUrl:null!=L?L:""}),w&&!j&&y.pinned_to_board&&!_&&k&&(0,D.jsx)(f.J2,{anchor:w,idealDirection:"down",onDismiss:e.handleDismissWarningFlyout,shouldFocus:!1,children:(0,D.jsx)(f.xu,{padding:3,children:(0,D.jsx)(f.xv,{weight:"bold",children:(0,D.jsx)("span",{children:k})})})})]})}),e}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.repinExperience,r=e.triggerExperimentsForPlacement,n=e.viewExperience;r(1000153),t&&n(1000153,t.experience_id),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){return(0,D.jsx)(h.ZP,{accessibilityModalLabel:this.props.i18n._('Repin page', 'RepinPage.MobileModal.AccessibilityLabel', 'Accessibility label on repin page'),isOpen:!0,type:"repinPage",closeOnOutsideClick:!1,onDismiss:function(){},children:(0,D.jsx)(f.xu,{paddingX:2,paddingY:0,height:this.state.windowInnerHeight-b.i_,children:(0,D.jsxs)(d.Switch,{children:[(0,D.jsx)(d.Route,{exact:!0,path:"/pin/:id/repin/",render:this.renderPicker}),(0,D.jsx)(d.Route,{exact:!0,path:"/pin/:id/repin/:boardId/",render:this.renderPicker}),(0,D.jsx)(d.Route,{exact:!0,path:"/pin/:id/repin/:boardId/add/",render:this.renderCreateScreen})]})})})}}],tb(i.prototype,r),n&&tb(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(l.PureComponent),tx=function(e){var t=(0,u.useSelector)(function(e){return e.session.userId}),r=(0,x.Z)({name:"BoardPickerBoardsResource",options:{pin_id:e,field_set_key:"profile_grid_item",shortlist_suggestions:3,user_id:t}}),n=r.isFetching,o=r.data,i=(null==o?void 0:o.all_boards)||[];return{isFetching:n,allBoards:(0,u.useSelector)(function(e){return(0,ev.Z)(th(th({},e),{},{boards:i}))||[]}),boardsShortlist:(null==o?void 0:o.boards_shortlist)||[]}};function tO(e){var t,r=(0,d.useHistory)(),n=(0,d.useLocation)(),o=(0,d.useRouteMatch)(),i=null!==(t=o.params.id)&&void 0!==t?t:"",a=(0,v.ZP)(),c=(0,p.Z)(),s=(0,y.be)(),l=(0,y.Ig)(),f=(0,e8.Z)(),h=(0,eg.Tt)(),b=(0,w.Z)().isAuth,m=(0,O.HG)(),g=(0,x.Z)({name:"PinResource",options:{id:i,field_set_key:"repin"}}).data,_=tx(i),P=_.isFetching,S=_.allBoards,E=_.boardsShortlist;(0,j.Z)({name:"UserResource",options:{user_id:null==h?void 0:h.id,field_set_key:"quicksave"}});var A=(0,u.useDispatch)(),T=(0,u.useSelector)(function(e){return e.experiences}),I=(0,ey.Z)(),C=I.showToast,R=I.showRepinConfirmation,k=(0,eb.ZP)((null==h?void 0:h.id)||"").showEnabledSaveBehavior;return!b||m?(0,D.jsx)(d.Redirect,{to:"/pin/".concat(i,"/")}):g?(0,D.jsx)(tj,th(th({},e),{},{allBoards:S,boardsShortlist:E,closeupExperience:T[1000112],completeExperience:function(e,t){return A(s(e,t))},createBoard:f,history:r,i18n:a,isFetchingBoards:P,location:n,logContextEvent:c,match:o,pin:g,repinExperience:T[1000153],saveToProfileEnabled:k,showRepinConfirmation:R,showToast:C,triggerExperimentsForPlacement:function(e){return A((0,y.kd)(e))},viewExperience:function(e,t){return A(l(e,t))}})):null}},709622:function(e,t,r){"use strict";r.d(t,{Az:function(){return b},DI:function(){return _},Gl:function(){return j},Hl:function(){return I},Kb:function(){return k},NA:function(){return n},NG:function(){return l},OC:function(){return A},Pq:function(){return w},QM:function(){return y},Sk:function(){return S},UF:function(){return v},Uo:function(){return E},WF:function(){return c},Xm:function(){return u},Zf:function(){return i},_D:function(){return R},_N:function(){return p},ac:function(){return a},e_:function(){return f},gf:function(){return m},hf:function(){return x},i_:function(){return s},jY:function(){return g},ni:function(){return P},qg:function(){return d},rX:function(){return o},vX:function(){return O},wO:function(){return C},yG:function(){return h},yq:function(){return T}});var n="10",o=1,i=365,a=64,c=8,s=9,l=11,u=15,d=16,f=17,p=18,y=19,h=20,b=1e6,m=1e6,v="US";function g(e){var t="USD",r="$";switch(e){case"AT":case"BE":case"DE":case"ES":case"FI":case"FR":case"IE":case"IT":case"NL":case"PT":t="EUR",r="€";break;case"AU":t="AUD",r="$";break;case"CA":t="CAD",r="$";break;case"CH":t="CHF",r="CHF";break;case"DK":t="DKK",r="kr";break;case"GB":t="GBP",r="\xa3";break;case"NO":t="NOK",r="kr";break;case"NZ":t="NZD",r="$";break;case"SE":t="SEK",r="kr"}return[t,r]}var _={AU:{budget:1,duration:"10"},CA:{budget:1,duration:"10"},CZ:{budget:80,duration:"10"},FR:{budget:1,duration:"10"},GB:{budget:1,duration:"10"},IE:{budget:1,duration:"10"},NZ:{budget:1,duration:"10"},US:{budget:3,duration:"10"},AT:{budget:1,duration:"10"},DE:{budget:1,duration:"10"},IT:{budget:1,duration:"10"},ES:{budget:1,duration:"10"},NL:{budget:1,duration:"10"},PT:{budget:1,duration:"10"},BE:{budget:1,duration:"10"},CH:{budget:1,duration:"10"},SE:{budget:10,duration:"30"},NO:{budget:10,duration:"30"},DK:{budget:10,duration:"30"},FI:{budget:1,duration:"10"}},P={AU:{budget:10,duration:"10"},CA:{budget:9,duration:"10"},CZ:{budget:150,duration:"10"},FR:{budget:7,duration:"10"},GB:{budget:5,duration:"10"},IE:{budget:7,duration:"10"},NZ:{budget:10,duration:"10"},US:{budget:7,duration:"10"},AT:{budget:7,duration:"10"},DE:{budget:7,duration:"10"},IT:{budget:7,duration:"10"},ES:{budget:7,duration:"10"},NL:{budget:7,duration:"10"},PT:{budget:7,duration:"10"},BE:{budget:7,duration:"10"},CH:{budget:7,duration:"10"},SE:{budget:70,duration:"30"},NO:{budget:70,duration:"30"},DK:{budget:50,duration:"30"},FI:{budget:7,duration:"10"}},S={AT:1,AU:1,BE:1,CA:1,CH:1,CZ:11,DE:1,ES:1,DK:1,FI:1,FR:1,GB:1,IE:1,IT:1,NO:1,NZ:1,NL:1,PT:1,SE:1,US:1},j={PIN_SELECTION_MODAL:"PIN_SELECTION_MODAL",BUSINESS_FORM:"QUICK_PROMOTE_BUSINESS_FORM",BILLING_FORM:"QUICK_PROMOTE_BILLING_FORM",SUCCESS_MODAL:"SUCCESS_MODAL",ERROR_MODAL:"ERROR_MODAL",TAG_MODAL:"TAG_MODAL",GDPR_MODAL:"GDPR_MODAL"},x="QUICK_PROMOTE_PAGE",O=[j.GDPR_MODAL,j.PIN_SELECTION_MODAL,x,j.BUSINESS_FORM,j.BILLING_FORM,j.SUCCESS_MODAL,j.ERROR_MODAL],w={NARROW:"NARROW",MEDIUM:"MEDIUM",WIDE:"WIDE"},E=function(e){return e>=1&&e<=2},A="qp-fac-education-id",T="qp-fac-modal-education-id",I={CONSIDERATION:"CONSIDERATION",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES"},C={PINS:0,PRODUCT_GROUPS:1,BOARDS:2,SELECTED:3,SEARCH_RESULTS:4},R={MOST_RECENT:"RECENT",PROMOTED_PINS:"PROMOTED"},k=300},580189:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n,o=r(170168);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r){var n;return(n=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===i(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=(a(n={},0,o.C0),a(n,3,o.vI),a(n,4,o.YD),n);function s(e){var t=e.currentSiteType,r=e.destinationSiteType,n=e.inputPath,o=Object.keys(c).includes(String(t))&&Object.keys(c).includes(String(r)),i="/"===n[0]?n:"/".concat(n);return o&&r!==t?"".concat(c[r]).concat(i):i}},990823:function(e,t,r){"use strict";r.d(t,{ZP:function(){return s},tY:function(){return d},Xt:function(){return l},Yh:function(){return u}});var n=r(506979),o=r(773285),i=r(784590),a=r(19121),c={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1};function s(e){var t,r,n=(0,a.Z)(),c=n.isAuth&&n.id===e,s=(0,o.F)().checkExperiment,l=(0,i.Z)(!n.isAuth||c?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{showEnabledSaveBehavior:c&&n.has_quicksave_board||!!(n.isAuth&&null!==(t=(null!=l?l:{}).data)&&void 0!==t&&t.has_quicksave_board)||(c||n.isAuth)&&!n.has_quicksave_board&&!(null!==(r=(null!=l?l:{}).data)&&void 0!==r&&r.has_quicksave_board)&&s("profile_saves_for_all").anyEnabled}}function l(e){var t,r=(0,a.Z)(),n=r.isAuth&&r.id===e,o=(0,i.Z)(!r.isAuth||n?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{boardlessPinsEnabled:n&&r.has_quicksave_board||!!(r.isAuth&&null!==(t=(null!=o?o:{}).data)&&void 0!==t&&t.has_quicksave_board)}}function u(e){var t,r=(0,n.useDispatch)(),o=(0,a.Z)(),c=o.isAuth&&!!o.boardCount&&o.boardCount<5&&e,s=(0,i.Z)(c&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:o.isAuth&&o.id}}:null);return o.isAuth&&void 0===o.save_behavior&&s&&null!==(t=s.data)&&void 0!==t&&t.id&&r({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:s.data.save_behavior}}),{showEnabledSaveBehavior:c}}function d(e){var t,r=(0,a.Z)();return e&&(r.save_behavior===c.SAVE_TO_PROFILE?t={type:"classic"}:r.save_behavior===c.SHOW_BOARD_PICKER&&(t={type:"inline"})),{saveBehaviorType:t}}},576028:function(e,t,r){"use strict";r.d(t,{V:function(){return l},u:function(){return s}});var n=r(214494),o=r(254176);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s=function(e){return function(t){return n.Z.create("BoardResource",{board_id:e}).callGet().then(function(e){var r=e&&e.resource_response&&e.resource_response.data;return r&&t((0,o.yT)(r)),e})}};function l(e,t,r){return function(i,a){var s=a().boards[e],l=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},u=c(c(c({allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description},t.name&&{name:t.name}),{},{privacy:t.privacy,sensitivity:t.sensitivity||null},r?{orbac_subject_id:r}:Object.freeze({})),l);return i((0,o.yT)(c(c({},u),{},{id:e}))),n.Z.create("BoardResource",c(c({},u),{},{board_id:e})).callUpdate().then(function(e){var r=e&&e.resource_response&&e.resource_response.data||t;return null!=t.allow_homefeed_recommendations&&(r.allow_homefeed_recommendations=t.allow_homefeed_recommendations),i((0,o.yT)(r)),e}).catch(function(e){throw s&&i((0,o.yT)(s)),e})}}},177891:function(e,t,r){"use strict";r.d(t,{a:function(){return n},k:function(){return o}});var n=function(e){return{type:"ONE_TAP_SAVE",payload:e}},o=function(e){return{type:"ONE_TAP_UNSAVE",payload:e}}},447948:function(e,t,r){"use strict";function n(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function o(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function i(e,t,r,n,o){return{type:"PIN_SAVE",payload:{id:e,boardId:t,title:r,url:n,localPinId:o}}}function a(e){return{type:"PIN_UNSAVE",payload:{id:e}}}function c(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e.id,value:!0,text:e.text,undoAction:e.undoAction,undoActionOptions:e.undoActionOptions,undoText:e.undoText}}}function l(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function u(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function d(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function f(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function p(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function y(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}r.d(t,{Gb:function(){return a},I1:function(){return l},Ib:function(){return d},NA:function(){return s},Ur:function(){return i},Vw:function(){return c},b9:function(){return p},i0:function(){return f},mO:function(){return o},q1:function(){return u},yR:function(){return n},yj:function(){return y}})},12918:function(e,t,r){"use strict";r.d(t,{M:function(){return d},i:function(){return f}});var n=r(833314),o=r(214494),i=r(414327),a=r(90326),c=r(483025);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d=function(e,t,r,n){return{type:"PIN_ADD",payload:{pinId:e,boardId:t,boardSectionId:r,pinnerId:n}}},f=function(e){return function(t){var r=e.method,s=e.guid,l=e.image_base64,f=e.image_url;return new Promise(function(e){l?(0,a.eR)(l).then(function(t){e(t)}):e(f)}).then(function(a){var l=u(u({},e),{},{method:"button"!==r||s?r:"button_external",image_url:a,image_base64:void 0}),f="PinResource";return o.Z.create(f,l).callCreate().then(function(e){var r=(0,n.Fv)(e.resource_response.data,c.Z[f]);t((0,i.XM)(f,l,e,r));var o=e.resource_response.data,a=o.board.id,s=o.pinner.id,u=o.section,p=u&&u.id;return t(d(o.id,a,p,s)),e})})}}},139574:function(e,t,r){"use strict";r.d(t,{L:function(){return c},q:function(){return s}});var n=r(214494),o=r(254176),i=r(956800),a=r(492583);function c(e){return function(t){var r=e.inSelectAll,c=e.selectedPinIds,s=e.orbacSubjectId,l=e.source,u=l.boardId,d=l.sectionId;return t((0,o.xQ)(u)),t((0,i.EX)({feedId:d||u,feedType:d?a.Z.BOARD_SECTION_PINS:a.Z.BOARDFEED,inverseSelection:r,itemIds:c,itemType:"pin"})),n.Z.create(r?"BulkEditSelectAllResource":"BulkEditResource",{board_id:u,section_id:d,pin_ids:c,orbac_subject_id:s}).callDelete()}}var s=function(e){var t=e.pinId,r=e.boardId,o=e.boardSectionId,i=e.clientTrackingParams;return function(e,a){var c=n.Z.create("PinResource",{id:t,client_tracking_params:i}).callDelete();return e({type:"PIN_DELETE",payload:{pinId:t,boardId:r,boardSectionId:o,userId:a().session.userId}}),c}}},850431:function(e,t,r){"use strict";r.d(t,{w:function(){return c}});var n=r(361115),o=r(956800),i=r(723852),a=r(675752),c=function(e){var t=e.pinId,r=e.boardId,c=e.checkExperiment,s=e.i18n,l=e.isQuickSave,u=e.logContextEvent,d=e.onSuccess,f=e.onUndo,p=e.originalPinId,y=e.showNewUserSavetoProfileAnimation,h=e.showRepinConfirmation,b=e.showToast,m=e.section,v=e.trackingParams,g=e.isOneTapSave,_=e.viewType,P=e.historyPush,S=e.suggestedBoardIds,j=e.savePinId;return function(e,x){var O,w,E,A,T,I,C,R,k,D=x(),B=D.pins,N=D.session,L=D.feeds,z=B[t];r&&((null===(O=null!==(w=null==z?void 0:z.shopping_flags)&&void 0!==w?w:[])||void 0===O?void 0:O.length)>0||null!=z&&z.rich_summary&&(null===(E=null!==(A=null==z?void 0:null===(T=z.rich_summary)||void 0===T?void 0:T.products)&&void 0!==A?A:[])||void 0===E?void 0:E.length)>0)&&(L["board-shop-saved-preview:".concat(r)]&&e((0,o.Qv)("board-shop-saved-preview:".concat(r),[z],{isPrepend:!0})),L["board-shop-saved:".concat(r)]&&e((0,o.Qv)("board-shop-saved:".concat(r),[z],{isPrepend:!0})));var M=new i.Z({boardId:r,dispatch:e,i18n:s,isLegoSaveStyle:!0,isOneTapSave:g,isQuickSave:l,onSuccess:d,onUndo:f,originalPinId:p,pinId:z.id,section:m,showNewUserSavetoProfileAnimation:y,showRepinToasts:function(e){return h?h(e):b?b(e):void 0},trackingParams:v,userId:N.userId,viewType:_,historyPush:P,suggestedBoardIds:S,savePinId:j,pinData:{trackingParams:z.tracking_params,viewParameter:(0,a.A)({hasRichMetadata:!!z.rich_metadata,hasRichMetadataProducts:!!(null!==(I=z.rich_metadata)&&void 0!==I&&I.products),hasRichMetadataArticle:!!(null!==(C=z.rich_metadata)&&void 0!==C&&C.article),hasRichMetadataRecipe:!!(null!==(R=z.rich_metadata)&&void 0!==R&&R.recipe)}),pinnedToBoardId:null===(k=z.pinned_to_board)||void 0===k?void 0:k.id}});return(0,n.ib)({checkExperiment:c,isAuthMweb:N.isAuthenticated&&(N.isMobile||N.isTablet)}),M.processRepin(u)}}},384833:function(e,t,r){"use strict";var n=(0,r(904202).P1)(function(e){var t=e.users,r=e.boards,n=t[e.session.userId]||null;return Object.keys(r).reduce(function(e,t){var o,i=r[t];return!i.archived_by_me_at&&((null===(o=i.owner)||void 0===o?void 0:o.id)===n.id||i.collaborating_users&&i.collaborating_users.map(function(e){return e.id}).includes(n.id))&&i.cover_images?e.concat([i]):e},[])},function(e){return e.sort(function(e,t){return e.name.localeCompare(t.name)})});t.Z=n},188170:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(506979),o=r(908390),i=r(898781),a=r(349700),c=r(927383),s=r(618224),l=r(515198);function u(e){var t,r=e.boardId,u=e.onBoardSelected,d=e.noArrowIcon,f=e.showSingleBoardRep,p=(0,i.ZP)(),y=(0,n.useSelector)(function(e){return e.boards})[r],h=y.section_count,b=!!h&&h>0,m=(0,c.Z)(),v=null!==(t=y.name)&&void 0!==t?t:"this board";return(0,l.jsx)(o.iP,{rounding:2,onTap:m({fn:function(){return u(b)}}),accessibilityLabel:(0,a.Wc)("".concat(p._('Select {{ boardName }}', 'board.picker.row.select.board', 'Accessibility label for select board button')),{boardName:v}),tapStyle:"compress",children:(0,l.jsx)(s.Z,{boardId:r,noArrowIcon:d,showSingleBoardRep:f})})}},568674:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(506979),o=r(599689),i=r(908390),a=r(898781),c=r(989726),s=r(130460),l=r(188170),u=r(349700),d=r(63552),f=r(515198);function p(e){var t,r,o=e.onSectionSelected,c=e.sectionId,s=e.showSectionRep,l=(0,n.useSelector)(function(e){return e.boardsections[c]}),p=(0,a.ZP)(),y=l&&(null===(t=l.preview_pins)||void 0===t?void 0:t[0])&&l.preview_pins[0].image_medium_url,h=null!==(r=l.title)&&void 0!==r?r:"";return(0,f.jsx)(d.Z,{rounding:2,onTouch:o,pressState:"none",children:(0,f.jsxs)(i.xu,{"data-test-id":"sectionPickerRow",display:"flex",alignItems:"center",rounding:2,column:12,marginBottom:s?4:0,children:[s&&(0,f.jsx)(i.xu,{height:48,width:51,children:(0,f.jsx)(i.zd,{height:"100%",rounding:2,width:"100%",children:(0,f.jsx)(i.Ee,{alt:(0,u.Wc)(p._('{{ boardSectionName }} thumbnail', 'SectionPickerRow.boardImage.accessibilityLabel.text', 'Additional text explaining board image thumbnail. boardSectionName:Title of the board section for a11y text'),{boardSectionName:h}),color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!=y?y:""})})}),!s&&(0,f.jsx)(i.xu,{column:1,paddingY:2}),(0,f.jsx)(i.xu,{column:11,display:"flex",flex:"grow",justifyContent:"between",paddingY:2,children:s?(0,f.jsx)(i.xu,{overflow:"hidden",width:"100%",marginStart:2,children:(0,f.jsx)(i.xv,{size:"400",lineClamp:1,weight:"bold",children:l.title})}):(0,f.jsx)(i.xu,{marginStart:2,children:(0,f.jsx)(i.xv,{weight:"bold",children:l.title})})})]})})}var y=function(e,t){var r=(0,c.Z)({name:"BoardSectionsRepinResource",options:{board_id:e}}).isFetching,o=(0,n.useSelector)(function(t){return(t.feeds["board-sections:".concat(e)]||[]).reduce(function(e,t){if("boardsection"===t.type){var r={type:"boardsection",id:t.id};e.push(r)}return e},[])}),i=(0,n.useSelector)(function(r){return o.map(function(e){return e.id}).reduce(function(n,o){var i=r.boardsections[null!=o?o:""];return o!==t&&i&&n.push({board:{id:e},id:i.id,title:i.title,type:"boardsection",slug:i.slug}),n},[])});return{isFetching:r,boardSections:o,filteredBoardSections:i}};function h(e){var t=e.boardId,r=e.originalBoardId,n=e.sectionId,c=e.repin,u=e.hideBoardPickerRow,d=e.showSectionRep,h=(0,a.ZP)(),b=y(t,n),m=b.isFetching,v=b.boardSections,g=b.filteredBoardSections,_=(0,o.useHistory)(),P=(0,s.gC)()(r||"");return(0,f.jsxs)(i.xu,{children:[v.length>0&&(0,f.jsxs)(i.xu,{paddingY:d?0:3,children:[d&&(0,f.jsx)(i.xu,{paddingY:2,children:(0,f.jsx)(i.xu,{marginBottom:2,children:(0,f.jsx)(i.xv,{children:h._('Board', 'RepinFlow.SectionPickerList.Board', 'Section picker board title')})})}),!u&&(0,f.jsx)(l.Z,{boardId:t,noArrowIcon:!0,onBoardSelected:function(){return c(t,void 0,h)},showSingleBoardRep:d},t),d&&(0,f.jsx)(i.xu,{paddingY:4,children:(0,f.jsx)(i.xv,{children:h._('Section', 'RepinFlow.SectionPickerList.Section', 'Section picker all sections title')})}),g.map(function(e){var n;return(0,f.jsx)(p,{onSectionSelected:function(){if(c(t,e,h),r){var n;_.push(null!==(n=null==P?void 0:P.url)&&void 0!==n?n:"")}},sectionId:null!==(n=e.id)&&void 0!==n?n:"",showSectionRep:d},e.id)})]}),(0,f.jsx)(i.$j,{accessibilityLabel:h._('Loading board section for repin flow', ' - ', ' -- '),show:m})]})}},675752:function(e,t,r){"use strict";r.d(t,{A:function(){return n}});var n=function(e){var t=e.hasRichMetadata,r=e.hasRichMetadataProducts,n=e.hasRichMetadataArticle,o=e.hasRichMetadataRecipe;return t?r?144:n?141:o?145:139:140}},166753:function(e,t,r){"use strict";var n=r(499128),o=r(576028),i=r(678638),a=r(139574),c=r(515198);t.Z=function(e){var t=e.boardId,r=e.boardSectionId,s=e.clientTrackingParams,l=e.dispatch,u=e.i18n,d=e.newPinId,f=e.onError,p=e.onSuccess,y=e.originalPinId,h=e.shouldRefresh,b=void 0!==h&&h,m=e.showToast,v=e.sourcePinId,g=e.undoSavedPin;return l((0,a.q)({pinId:d,boardId:t,boardSectionId:r,clientTrackingParams:s})).then(function(){y&&g(y),g(v),b&&(r&&l((0,i.A4)(r)),t&&l((0,o.u)(t))),m(function(e){var t=e.hideToast;return(0,c.jsx)(n.ZP,{text:u._('Pin removed!', 'Utils.Unsave.Success', 'User removed their pin'),onHide:t})}),p&&p()}).catch(function(){m(function(e){var t=e.hideToast;return(0,c.jsx)(n.ZP,{type:"error",text:u._('Sorry! There was an error removing your Pin.', 'Utils.Unsave.Error', 'Error when user tried to remove pin'),onHide:t})}),null==f||f()})}},507016:function(e,t,r){"use strict";r.d(t,{W:function(){return u}});var n=r(908390),o=r(27255),i=r(898781),a=r(486746),c=r(24886),s=r(488769),l=r(515198);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e&&e.length>1?RegExp(e,"i"):"";return e&&e.length>1?t.split(r).reduce(function(r,n,o){if(r.length>0&&e&&e.length){var i=t.toLowerCase().indexOf(e.toLowerCase());return r.concat((0,l.jsx)("em",{style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"},children:t.substring(i,i+e.length)},o),n)}return[n]},[]):t}t.Z=function(e){var t,r,d,f,p,y,h=(0,i.ZP)(),b=e.disabled,m=e.item,v=e.isSection,g=e.isSelectMode,_=e.isWithinSectionPicker,P=e.saveState,S=e.searchQuery,j=e.selected,x=v?null:m,O=v?m:null,w=O&&O.title||x&&x.name||"",E="",A=!1,T="",I=0;if(x){E=x.image_cover_url,A=x.is_collaborative,T=x.privacy;var C=x.section_count;I=void 0===C?0:C}var R=u(S,w),k=T===o.Z.BoardPrivacy.SECRET,D=!b&&(j||!!P),B=!_&&"number"==typeof I&&I>0,N="number"==typeof I&&I>0?"boardWithSection":"boardWithoutSection",L=g?h._('Select', 'Board select button label', 'Board select button label'):h._('Save', 'Pin save button label', 'Pin save button label');return(0,l.jsxs)(n.xu,{alignItems:"center",color:D?"secondary":"default",display:"flex",height:64,marginStart:2,marginEnd:2,marginTop:1,padding:2,rounding:3,"data-test-id":N,children:[x&&(0,l.jsx)(n.xu,{height:48,width:48,color:"secondary",overflow:"hidden",rounding:2,marginEnd:2,flex:"none",children:E?(0,l.jsx)(n.Ee,{src:E,alt:h._('Board cover image', 'boardPickerRow.image.altText', 'alt text for a board cover image'),fit:"cover",naturalWidth:1,naturalHeight:1}):(0,l.jsx)("span",{})}),O&&!!(null!==(t=O.preview_pins)&&void 0!==t&&t.length)&&(0,l.jsx)(c.Z,{image_url:null!==(r=O.preview_pins[0].image_square_url)&&void 0!==r?r:"",naturalHeight:null!==(d=null===(f=O.preview_pins[0].image_square_size_pixels)||void 0===f?void 0:f.height)&&void 0!==d?d:1,naturalWidth:null!==(p=null===(y=O.preview_pins[0].image_square_size_pixels)||void 0===y?void 0:y.width)&&void 0!==p?p:1}),(0,l.jsxs)(n.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,l.jsx)(n.xv,{color:b?"subtle":"default",size:"300",lineClamp:1,weight:"bold",children:R}),(B||!D)&&(0,l.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[k&&(0,l.jsx)(s.Z,{type:"secret"}),A&&(0,l.jsx)(a.Z,{board:x,showCollaborativeIcon:A,useLegoLayout:!0}),B&&(0,l.jsx)(s.Z,{type:"sections"})]}),!B&&D&&!P&&(0,l.jsx)(n.xu,{alignItems:"center",color:"primary","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:(0,l.jsx)(n.xv,{color:"inverse",overflow:"normal",size:"300",weight:"bold",children:L})}),!B&&D&&"loading"===P&&(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:(0,l.jsx)(n.$j,{accessibilityLabel:h._('Saving', 'Accessibility label for saving a pin to a board', 'Accessibility label for saving a pin to a board'),show:!0})})]})]})}},538716:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(76911),o=r(908390),i=r(407043),a=r(898781),c=r(784590),s=r(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(i,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=p(i);if(t){var n=p(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return y(f(e=n.call.apply(n,[this].concat(r))),"state",{isHovering:!1}),y(f(e),"onHover",function(){e.setState({isHovering:!0})}),y(f(e),"offHover",function(){e.setState({isHovering:!1})}),e}return u(i.prototype,[{key:"render",value:function(){var e,t,r,n=this.props,i=n.name,a=n.selected,c=n.image;return n.inFlyoutExp?(0,s.jsxs)(o.xu,{alignItems:"center",color:this.state.isHovering?"secondary":"transparent",direction:"row",display:"flex",paddingX:4,paddingY:2,onMouseOver:this.onHover,onMouseOut:this.offHover,children:[(0,s.jsx)(o.xu,{children:(0,s.jsx)(o.zd,{height:40,width:40,rounding:2,children:this.state.isHovering&&c?(0,s.jsx)(o.Ee,{alt:"",color:"",fit:"cover",naturalHeight:null!==(e=c.height)&&void 0!==e?e:1,naturalWidth:null!==(t=c.width)&&void 0!==t?t:1,src:null!==(r=c.url)&&void 0!==r?r:""}):(0,s.jsx)(o.xu,{color:"secondary",height:40,width:40})})}),(0,s.jsx)(o.xu,{padding:2,children:(0,s.jsx)(o.X6,{size:"400",children:i})})]}):(0,s.jsxs)(o.xu,{alignItems:"center",color:a?"secondary":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[(0,s.jsx)(o.xu,{children:(0,s.jsx)(o.JO,{color:a?"default":"subtle",icon:"add",accessibilityLabel:""})}),(0,s.jsx)(o.xu,{marginStart:3,children:(0,s.jsx)(o.xv,{color:a?"default":"subtle",weight:"bold",children:i})})]})}}]),r&&u(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var v=function(e){var t,r,l=e.inFlyoutExp,u=e.inFirstBoardCreateGestaltExp,d=e.pinId,f=e.image,p=e.minHeight,y=e.onBoardSelected,h=(0,i.v)().logContextEvent,v=(0,a.ZP)(),g=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(-1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=g[0],P=g[1],S=(0,c.Z)({name:"ApiResource",options:{url:"/v3/pins/".concat(String(d),"/board_title_suggestions/"),pin_id:d}}),j=S.data,x=S.isLoaded,O=(r=void 0===j?[]:j,(0,n.useMemo)(function(){return r&&r.length?r.map(function(e){return e.title}):[]},[r])),w=function(e){y(O[e],!1),h({event_type:101,component:13025,element:23})},E=function(e){P(e)},A=function(){P(-1)},T=function(e,t){var r=_===t;return(0,s.jsx)("li",{children:(0,s.jsx)(o.iP,{onMouseEnter:function(){return E(t)},onMouseLeave:A,onTap:function(){return w(t)},children:(0,s.jsx)(b,{selected:r,name:e,inFlyoutExp:l,image:f})})},t)};return x?O&&O.length?l?(0,s.jsx)(o.xu,{children:(0,s.jsx)("ul",{children:O.map(T)})}):u?(0,s.jsxs)(o.xu,{children:[(0,s.jsx)(o.xu,{marginTop:5,marginStart:6,marginBottom:3,children:(0,s.jsx)(o.xv,{children:v._('Suggested board names', 'text above suggested board names list', 'text above suggested board names list')})}),(0,s.jsx)("ul",{children:O.map(T)})]}):(0,s.jsxs)(o.xu,{children:[(0,s.jsx)(o.xu,{marginTop:2,paddingX:5,children:(0,s.jsx)(o.xv,{children:v._('Suggested board names', ' - ', ' -- ')})}),(0,s.jsx)("ul",{children:O.map(T)})]}):null:(0,s.jsx)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:p||"",children:(0,s.jsx)(o.$j,{accessibilityLabel:v._('Loading board suggestions', 'Accesibility label for loading board suggestions', 'Accesibility label for loading board suggestions'),show:!0})})}},411547:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(908390),o=r(898781),i=r(887831),a=r(515198);function c(e){var t=(0,o.ZP)(),r=e.buttonLabel,c=e.hasHoverState,s=e.name,l=e.onClick,u=(0,i.Z)(),d=u.isHovering,f=u.hoverHandlers,p=s||r||t._('Create board', ' - ', ' -- ');return(0,a.jsx)(n.iP,{onMouseEnter:f.onMouseOver,onMouseLeave:f.onMouseLeave,onTap:l,children:(0,a.jsxs)(n.xu,{alignItems:"center",color:c&&d?"secondary":"default",display:"flex",padding:4,height:"100%",width:"100%",children:[(0,a.jsx)(n.xu,{rounding:2,dangerouslySetInlineStyle:{__style:{padding:"14px"}},marginEnd:2,color:"secondary",children:(0,a.jsx)(n.JO,{accessibilityLabel:"",size:20,icon:"add",color:"default"})}),s?(0,a.jsx)(n.xu,{margin:1,children:(0,a.jsxs)(n.xv,{inline:!0,overflow:"normal",children:[" ",t._('Create: ', ' - ', ' -- ')," "]})}):null,(0,a.jsxs)(n.xv,{align:"center",inline:!0,lineClamp:1,weight:"bold",children:[" ",p," "]})]})})}},553751:function(e,t,r){"use strict";var n=r(76911),o=r(506979),i=r(908390),a=r(112690),c=r(898781),s=r(755742),l=r(19121),u=r(717615),d=r(231947),f=r(274495),p=r(678638),y=r(515198);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){S(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,r){return(t=j(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==h(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=P(a);if(t){var n=P(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return _(e)}(this,e)});function a(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),S(_(t=o.call(this,e)),"onCreateSection",function(){var e=t.props,r=e.board,n=e.sourceBoard,o=e.sourceSection,i=e.dispatch,a=e.completeCreateSectionAction,c=e.pinImport,s=e.viewer,l=e.orbacActingAs,u=e.logContextEvent,f=(0,d.lJ)(s,l);return t.setState({isSaving:!0}),i((0,p.vB)({boardId:r.id,sourceBoardId:n&&n.id,sourceSectionId:o&&o.id,name:t.state.inputName.trim(),pinImport:c},t.props.i18n,f,u)).then(function(e){t.setState({isSaving:!1}),a(e)}).catch(function(e){t.setState({createError:e.message_detail||e.message,isSaving:!1})})}),S(_(t),"handleKeyDown",function(e){var r=e.event,n=t.state,o=n.createError,i=n.inputName;[s.Z.ENTER,s.Z.NUMPAD_ENTER].includes(r.which)&&!o&&i.trim()&&t.onCreateSection()}),S(_(t),"handleChangeName",function(e){var r=e.value;t.setState({createError:null,inputName:r})}),S(_(t),"handleInputRef",function(e){t.setState({inputRef:e})}),t.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1},t}return r=[{key:"componentDidUpdate",value:function(e,t){var r=this.state,n=r.createError,o=r.inputRef;o&&(!t.inputRef||n)&&o.focus()}},{key:"render",value:function(){var e=this.props,t=e.showTitle,r=e.positionRelative,n=this.state,o=n.createError,a=n.inputName,c=n.isSaving,s=!!a.trim()&&!o;return(0,y.jsxs)(i.xu,{display:"flex",direction:"column",color:"default",flex:"grow",top:!0,bottom:!0,right:!0,position:r?"relative":"absolute",rounding:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},children:[t&&(0,y.jsx)(i.xu,{marginTop:3,paddingX:6,paddingY:3,children:(0,y.jsx)(i.X6,{size:"400",children:this.props.i18n._('Add section', 'Title in the add section modal', 'Title in the add section modal')})}),(0,y.jsxs)(i.xu,{padding:4,children:[(0,y.jsx)(i.xu,{marginBottom:2,children:(0,y.jsx)(i.__,{htmlFor:"sectionEditName",children:(0,y.jsx)(i.xv,{size:"200",color:o?"error":"subtle",children:this.props.i18n._('Name', 'Board section name', 'Board section name')})})}),(0,y.jsx)(i.xu,{children:(0,y.jsx)(i.xu,{ref:this.handleInputRef,children:(0,y.jsx)(i.nv,{errorMessage:o||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Like "Lighting"', 'Placeholder for board section name', 'Placeholder for board section name'),size:"lg",type:"text",value:a})})})]}),(0,y.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow"}),(0,y.jsx)(i.xu,{padding:4,children:(0,y.jsx)(i.kC,{alignItems:"stretch",justifyContent:"end",children:(0,y.jsx)(f.Z,{disabled:!s||c,onClick:this.onCreateSection,submitting:c,text:this.props.i18n._('Add', 'add a new section', 'add a new section')})})})]})}}],v(a.prototype,r),n&&v(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);t.Z=function(e){var t=(0,o.useDispatch)(),r=(0,c.ZP)(),n=(0,l.Z)(),i=(0,u.Z)();return(0,y.jsx)(x,m(m({},e),{},{dispatch:t,i18n:r,logContextEvent:(0,a.Z)(),viewer:n,orbacActingAs:i}))}},818747:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(908390),o=r(89254),i=r(515198);function a(e){var t=e.url,r=e.description,a=e.color;return a=a||"#8fa7bf",(0,i.jsx)(n.xu,{rounding:2,height:216,width:"100%",dangerouslySetInlineStyle:{__style:{background:a}},children:(0,i.jsxs)(n.xu,{maxHeight:200,padding:4,overflow:"hidden",children:[t&&(0,i.jsx)(n.xu,{marginBottom:2,children:(0,i.jsx)(n.xv,{color:"inverse",size:"100",children:(0,o.Z)(t).hostname||t})}),(0,i.jsx)(n.xu,{maxHeight:144,children:(0,i.jsx)(n.xv,{color:"inverse",overflow:"normal",weight:"bold",children:r})})]})})}},850760:function(e,t,r){"use strict";var n=r(76911),o=r(908390),i=r(407043),a=r(312918),c=r(142103),s=r(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){b(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=h(u);if(t){var n=h(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(y(e=i.call.apply(i,[this].concat(r))),"state",{}),b(y(e),"handleUserFollow",function(t,r){e.setState({isFollowing:r}),r?e.props.logContextEvent({event_type:45,object_id_str:t,view_type:3,view_parameter:73}):e.props.logContextEvent({event_type:46,object_id_str:t,view_type:3,view_parameter:73})}),e}return r=[{key:"render",value:function(){var e=this,t=this.props.user,r=t.id,n=t.full_name,i=t.image_medium_url,l=t.username,u=l?"/".concat(l,"/"):"";return r&&n?(0,s.jsxs)(o.xu,{display:"flex",alignItems:"center",marginStart:-1,marginEnd:-1,children:[(0,s.jsx)(o.xu,{flex:"grow",paddingX:1,children:(0,s.jsx)(a.Z,{fullName:n,imageUrl:i,profileUrl:u,openNewTab:!0})}),(0,s.jsx)(o.xu,{flex:"none",paddingX:1,children:(0,s.jsx)(c.Z,{fullName:n,suppressToasts:!0,id:r,imageUrl:i||"",isOwnProfile:!1,onUserFollow:function(t){return e.handleUserFollow(r,t)},profileUrl:u,size:"md"})})]}):null}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){return void 0===t.isFollowing&&e.user?{isFollowing:e.user.followed_by_me}:Object.freeze({})}}],r&&f(u.prototype,r),n&&f(u,n),Object.defineProperty(u,"prototype",{writable:!1}),u}(n.PureComponent);t.Z=function(e){var t=(0,i.v)().logContextEvent;return(0,s.jsx)(v,d(d({},e),{},{logContextEvent:t}))}},851577:function(e,t,r){"use strict";r.d(t,{Z:function(){return S}});var n=r(76911),o=r(908390),i=r(186656),a=r(694379),c=r(898781),s=r(349700),l=r(755742),u=r(342877),d=r(515198);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(u,e);var t,r,n,c=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=v(u);if(t){var n=v(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return m(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return g(m(e=c.call.apply(c,[this].concat(r))),"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),g(m(e),"onDismiss",function(){}),g(m(e),"mounted",!1),g(m(e),"addHashtag",function(t){e.props.addHashtag(t),e.setState({recommendations:[]})}),g(m(e),"handleKeyDown",function(t){t.keyCode===l.Z.UP?e.handlePrevHashtag(t):t.keyCode===l.Z.DOWN?e.handleNextHashtag(t):t.keyCode===l.Z.ESCAPE?e.handleClose(t):t.keyCode===l.Z.ENTER&&e.handleSubmit(t)}),g(m(e),"handlePrevHashtag",function(t){t.preventDefault(),e.state.selectedIndex>0&&e.setState(function(e){return{selectedIndex:e.selectedIndex-1}})}),g(m(e),"handleNextHashtag",function(t){t.preventDefault(),e.state.selectedIndex<e.state.recommendations.length-1&&e.setState(function(e){return{selectedIndex:e.selectedIndex+1}})}),g(m(e),"handleClose",function(t){t.preventDefault(),e.setState({recommendations:[]})}),g(m(e),"handleSubmit",function(t){t.preventDefault(),e.addHashtag(e.state.recommendations[e.state.selectedIndex].query)}),g(m(e),"callResource",function(t){(0,e.props.makeCancelablePromise)((0,i.Z)({url:"/v3/search/autocomplete/",data:{q:t,show_pin_count:!0}}),"typeahead").then(function(t){if(e.mounted){var r=t.resource_response.data;e.setState({recommendations:r.slice(0,5),resourceLoaded:!0})}}).catch(function(t){t.isCanceled||e.setState({resourceLoaded:!1})})}),e}return r=[{key:"componentDidMount",value:function(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}},{key:"render",value:function(){var e=this,t=this.state,r=t.recommendations,n=t.resourceLoaded,i=t.selectedIndex,c=this.props,l=c.anchor,u=c.idealDirection,f=r.filter(function(e){return e.query}),p="flyout_"+f.length;return n&&f.length>0?(0,d.jsx)(o.J2,{anchor:l,idealDirection:u||"down",onDismiss:this.onDismiss,size:"sm",children:(0,d.jsx)(o.xu,{width:"100%",zIndex:new o.Ry(3),children:f.length>0?f.map(function(t,r){return(0,d.jsx)(o.iP,{fullWidth:!1,onTap:function(){return e.addHashtag(t.query)},children:(0,d.jsxs)(o.xu,{display:"flex",justifyContent:"between",alignItems:"center",color:r===i?"secondary":"transparent",padding:1,children:[(0,d.jsx)(o.xu,{flex:"grow",children:(0,d.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:t.query})}),(0,d.jsx)(o.xu,{flex:"none",children:(0,d.jsx)(o.xv,{inline:!0,size:"100",children:(0,s.nk)(e.props.i18n.ngettext('{{ count }} pin', '{{ count }} pins', Number(t.pin_count), 'label for n pins in hashtag flyout', 'label for n pins in hashtag flyout'),{count:(0,d.jsx)(a.Z,{value:Number(t.pin_count)},"pinCount")})})})]})},t.query)}):null})},p):null}}],h(u.prototype,r),n&&h(u,n),Object.defineProperty(u,"prototype",{writable:!1}),u}(n.Component);function S(e){var t=(0,c.ZP)(),r=(0,u.Z)();return(0,d.jsx)(P,y(y({},e),{},{makeCancelablePromise:r,i18n:t}))}},457323:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(76911),o=r(908390),i=r(407043),a=r(818747),c=r(898781),s=r(349700),l=r(784590),u=r(515198);function d(e){var t=e.pinId,r=(0,c.ZP)(),n=(0,l.Z)({name:"ApiResource",options:{url:"/v3/pins/".concat(t,"/"),field_sets:["pin.board()","pin.id","pin.pinned_to_board()","pin.type","pin.via_pinner()"]},noCache:!0}).data;return n&&n.pinned_to_board&&"quick_creates"!==n.pinned_to_board.layout?(0,u.jsxs)(o.xu,{children:[(0,u.jsx)(o.xu,{color:"errorBase","data-test-id":"already-pinned",display:"flex",padding:3,rounding:2,width:185,children:(0,u.jsx)(o.xv,{align:"center",color:"inverse",size:"200",weight:"bold",children:(0,s.nk)(r._('Psst! You already saved this Pin to {{ board_name }} ', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:(n.pinned_to_board||{}).name}).join(" ")})}),(0,u.jsx)(o.xu,{display:"flex",justifyContent:"center",marginTop:-3,children:(0,u.jsx)(o.JO,{accessibilityLabel:"",color:"error",icon:"heart",size:26})})]}):null}var f=r(851577);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,r){return(t=P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(c,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=g(c);if(t){var n=g(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _(v(e=i.call.apply(i,[this].concat(r))),"state",{flyoutCursorIndex:-1,description:e.props.pinDescription&&e.props.pinDescription.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,flyoutOpened:!1}),_(v(e),"updateDescription",function(t){e.props.updateDescription&&e.props.updateDescription(t)}),_(v(e),"handleDescriptionBlur",function(t){var r=t.target.value.trim(),n=e.state.isHashtagFlyoutOpen;e.updateDescription(r),e.setState({description:r,editing:n})}),_(v(e),"handleDescriptionEdit",function(){e.setState({editing:!0})}),_(v(e),"handleHashtagAddition",function(t){var r=e.props.pinId;e.props.logContextEvent({event_type:101,component:208,element:10249,object_id_str:r,aux_data:{hashtags:t}});var n=e.state.flyoutCursorIndex,o=Number(n+e.state.hashtagQuery.length),i=e.state.description.slice(0,n)+t+" "+e.state.description.slice(o);e.updateDescription(i),e.setState({description:i,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.color,r=e.isFirstPin,n=e.pinId,i=e.image236x,c=e.imageBase64,s=e.link,l=e.pinImageRef,p=this.state,y=p.description,h=p.editing,b=p.flyoutOpened,m=p.hashtagQuery,v=p.isHashtagFlyoutOpen,g=(null==i?void 0:i.url)||c;return(0,u.jsxs)(o.xu,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",width:r?"50%":"",dangerouslySetInlineStyle:{__style:b&&h?{transform:"translateY(-75px)"}:{}},children:[(0,u.jsxs)(o.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[n&&(0,u.jsx)(d,{pinId:n}),(0,u.jsx)(o.xu,{paddingY:r?9:0,width:240,children:(0,u.jsx)(o.xu,{ref:l,maxHeight:b&&h?220:335,rounding:4,overflow:"hidden",children:g?(0,u.jsx)(o.Ee,{alt:y,src:g,naturalHeight:(null==i?void 0:i.height)||1,naturalWidth:(null==i?void 0:i.width)||1}):!!s&&(0,u.jsx)(a.Z,{color:t||"",description:y,url:s})})})]}),this.anchor&&v?(0,u.jsx)(f.Z,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,query:m}):null]})}}],b(c.prototype,r),n&&b(c,n),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.Component);function j(e){var t=(0,i.v)().logContextEvent;return(0,u.jsx)(S,h(h({},e),{},{logContextEvent:t}))}},38004:function(e,t,r){"use strict";r.d(t,{K:function(){return H}});var n=r(76911),o=r(506979),i=r(599689),a=r(908390),c=r(214494),s=r(768559),l=r(407043),u=r(124237),d=r(332611),f=r(79264),p=r(499128),y=r(558068),h=r(898781),b=r(349700),m=r(248327),v=r(343341),g=r(826067),_=r(140582),P=r(19121),S=r(883521),j=r(830065),x=r(825067),O=r(254176),w=r(447948),E=r(90326);r(27255);var A=r(985913),T=r(515198),I=function(e,t,r){var n;return r?(0,A.Z)(e._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:null!==(n=r.title)&&void 0!==n?n:"",boardName:null!=t?t:""}):(0,T.jsx)(a.xv,{children:(0,b.nk)(e._('Saved to {{ boardName }}', 'Libs.PinToBoard.NewBoardToast', 'boardName:Name of the new board created to add the saved pin'),{boardName:(0,T.jsx)(a.xv,{weight:"bold",children:t})})})},C=r(920912);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){M(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z(n.key),n)}}function N(e,t){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function L(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,r){return(t=Z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==R(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}var F=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi,U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=z(i);if(t){var n=z(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return L(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return M(L(e=o.call.apply(o,[this].concat(r))),"state",{boardSavedTo:null,displaySuccessAnimation:!1,newPin:null,modalTitle:e.getModalTitle(e.props.showCreate,!!e.props.boardWithSection),pinDescription:e.props.pin&&e.props.pin.description||"",resolve:void 0,sharing:{facebook:!1,twitter:!1}}),M(L(e),"unmounted",!1),M(L(e),"setModalTitle",function(t){return e.safeSetState({modalTitle:t})}),M(L(e),"updateDescription",function(t){e.safeSetState({pinDescription:t})}),M(L(e),"close",function(){var t=e.props.onClose;t&&t(),e.props.logContextEvent({event_type:2502,component:5,element:610})}),M(L(e),"safeSetState",function(t,r){e.unmounted?r&&r():e.setState(t,r)}),M(L(e),"getPinResource",function(t,r,n){var o,i,a,l,u,d,f,p,y=e.props,h=y.color,b=y.location,m=y.pin,v=y.method,g=y.guid,P=y.additionalCreateFields,S=y.advertiser_id,j=y.previousHistory;m.entityId&&(d=(0,s.Z)({boardUrl:null===(f=m.board)||void 0===f?void 0:f.url,location:b,pinId:m.entityId,pinnerUserName:null===(p=m.pinner)||void 0===p?void 0:p.username,previousHistory:j,storyPinDataId:m.storyPinDataId,trackingParams:m.trackingParams,trackingParamsMap:m.trackingParamsMap})||"".concat(m.trackingParams||"","~0"));var x=m.entityId?"RepinResource":"PinResource",O=!m.entityId&&m.imageUrl?(0,_.Z)(m.imageUrl,m.link):(null===(o=m.images)||void 0===o?void 0:null===(i=o.orig)||void 0===i?void 0:i.url)||"",w=D(D({},P),{},{board_id:r||"",color:h||"",clientTrackingParams:d,description:e.state.pinDescription,guid:g||"",link:m.link,image_base64:null!==(a=m.imageBase64)&&void 0!==a?a:void 0,image_url:O,is_buyable_pin:!1,is_removable:null!==(l=m.promotedIsRemovable)&&void 0!==l?l:void 0,media_upload_id:null!==(u=m.mediaUploadId)&&void 0!==u?u:void 0,method:v||"",pin_id:m.entityId||"",section:n,title:m.title||""},S?{advertiser_id:S}:Object.freeze({}));if(!t){var E=e.state.sharing,A=E.facebook,T=E.twitter;w.share_facebook=A,w.share_twitter=T}return c.Z.create(x,w)}),M(L(e),"triggerPubSubs",function(t){e.props.onPinCreate&&e.props.onPinCreate({boardId:t.board.id,pinId:t.id})}),M(L(e),"makeCancelablePromise",function(e){var t=!1;return{promise:new Promise(function(r,n){e.then(function(e){return t?n({isCanceled:!0}):r(e)}),e.catch(function(e){return t?n({isCanceled:!0}):n(e)})}),cancel:function(){t=!0}}}),M(L(e),"handleLogToastClick",function(){e.props.logContextEvent({event_type:101,component:20,view_type:52})}),M(L(e),"showSuggestedBoardToast",function(t){var r=e.props,n=r.toastManagerContext;if(r.shouldShowToast&&t){var o=t.name,i=t.url,c=t.image_thumbnail_url;n.showOneToast(function(t){var r=t.hideToast;return(0,T.jsx)(p.ZP,{duration:C.A,onHide:r,text:(0,T.jsx)(a.xv,{children:(0,b.nk)(e.props.i18n._('You might also like {{ suggestion }}', 'PinSaveRequest.Toast.Suggestion', 'Post repin suggested board. suggestion: suggested board name'),{suggestion:(0,T.jsx)(a.xv,{weight:"bold",children:o})})}),href:i,imageUrl:c,onClick:e.handleLogToastClick})})}}),M(L(e),"showBoardSavedToast",function(t,r){var n=e.props,o=n.toastManagerContext,i=n.i18n;o.showToast(function(n){var o,a,c,s=n.hideToast;return(0,T.jsx)(p.ZP,{duration:C.A,onHide:s,text:I(i,t.name,r),href:r?"".concat(null!==(o=t.url)&&void 0!==o?o:"").concat(null!==(a=r.slug)&&void 0!==a?a:""):t.url,imageUrl:null!==(c=t.image_cover_url)&&void 0!==c?c:"",onClick:e.handleLogToastClick})})}),M(L(e),"dismissModal",function(){var t=e.state,r=t.resolve,n=t.newPin;r&&r(n)}),M(L(e),"fetchBoardRecommendation",function(e){return c.Z.create("RelatedBoardForPinRandomFeedResource",{pin:e.id,page_size:1}).callGet({showError:!1}).then(function(e){return Promise.resolve(e.resource_response.error?null:e.resource_response.data[0])})}),M(L(e),"handleBoardSaveSuccess",function(t,r,n,o){var i=e.props,a=i.action,c=i.saveToBoard,s=i.dispatch,l=i.hideSuccessAnimation,u=i.pin,f=i.setCompletionPromise,p=i.shouldShowToast,y=i.showRepinAnimation,h=i.viewerUserId;s((0,d.fO)());var b=t.resource_response.data,v=e.makeCancelablePromise(new Promise(function(t){e.triggerPubSubs(b);var i=e.state.pinDescription.match(F)||[];i.length>0&&e.props.logContextEvent({event_type:2,element:10273,object_id_str:e.props.pin.entityId,aux_data:{hashtags:JSON.stringify(i)}});var c=l?function(){}:function(){p&&e.showBoardSavedToast(r,n),e.safeSetState({displaySuccessAnimation:!0,modalTitle:e.props.i18n._('Board created', 'Modal title after creating a new board', 'Modal title after creating a new board'),newPin:b,resolve:t})};"repin"===a&&e.fetchBoardRecommendation(b).then(function(t){e.showSuggestedBoardToast(t)}),o?c():t(b)}));if(o||y(u.entityId),f(v),c(r),s((0,O.Br)({boardId:r.id,sectionId:n&&n.id,increment:1})),h&&(s((0,E.JS)({userId:h,increment:1})),s((0,d.fO)())),n||!r.image_cover_url){var g,_,P,S=u.imageUrl,j=u.images;r.image_cover_url=S||(null==j?void 0:null===(P=j["236x"])||void 0===P?void 0:P.url)||"",s((0,O.yT)(r))}n&&s((0,m.U)("BoardSectionResource",{options:{field_set_key:"board_page",section_id:n.id}})),s((0,w.Ur)(u.entityId,r.id,null!==(g=r.name)&&void 0!==g?g:"",null!==(_=r.url)&&void 0!==_?_:"",b.id))}),M(L(e),"handleSaveToBoard",function(t,r,n){var o=e.props,i=o.onToggleModal,a=o.shouldShowToast,c=o.mountAfterActionPlacement,s=o.location;a&&!n&&(e.close(),e.showBoardSavedToast(t,r));var l="secret"===(t.privacy||""),d={board:r?r.id:t.id,state:C.S.LOADING};e.safeSetState({boardSavedTo:d},function(){e.getPinResource(l,t.id,(r||{}).id).callCreate({showError:!1}).then(function(o){var a=(0,g.mB)(s.search);c("Save",s.pathname,{search_query:a}),e.safeSetState({boardSavedTo:Object.assign(d,{state:C.S.SUCCESS})},function(){return e.handleBoardSaveSuccess(o,t,r,n)}),i&&!n&&i(!1)}).catch(function(t){e.unmounted||e.safeSetState({boardSavedTo:null}),u.Z.showError(t.message_detail||t.message);var r=e.makeCancelablePromise(Promise.reject(t));e.props.setCompletionPromise(r),i&&i(!1)})})}),M(L(e),"handleNewBoardAnimationCompletion",function(){var t=e.props,r=t.pin;(0,t.showRepinAnimation)(r.entityId)}),e}return r=[{key:"getModalTitle",value:function(e,t){return e?t?this.props.i18n._('Create section', 'modal title for create section pane', 'modal title for create section pane'):this.props.i18n._('Create board', 'Repin title for making a new board', 'Repin title for making a new board'):t?this.props.i18n._('Choose section', 'modal title for choose section', 'modal title for choose section'):this.props.i18n._('Choose board', 'Repin title for choosing a board', 'Repin title for choosing a board')}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.boardWithSection,n=t.showCreate,o=t.pin,i=t.description,a={};(o!==e.pin||i!==e.description)&&(a.pinDescription=o.description||i||""),(n!==e.showCreate||r!==e.boardWithSection)&&(a.modalTitle=this.getModalTitle(n,!!r)),Object.keys(a).length>0&&this.safeSetState(a)}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){var e=this.close,t=this.dismissModal,r=this.handleNewBoardAnimationCompletion,n=this.handleSaveToBoard,o=this.setModalTitle,i=this.updateDescription,a=this.state,c=a.boardSavedTo,s=a.displaySuccessAnimation,l=a.modalTitle,u=a.newPin,d=this.props,f=d.color,p=d.pin;return this.props.children({boardSavedTo:c,color:f,dismissModal:t,displaySuccessAnimation:s,handleAbort:e,handleNewBoardAnimationCompletion:r,handleSaveToBoard:n,modalTitle:l,newPin:u,pin:p,setModalTitle:o,updateDescription:i})}}],B(i.prototype,r),n&&B(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function H(e){var t,r=(0,j.N)().saveToBoard,n=(0,l.v)().logContextEvent,a=null===(t=(0,x.W)())||void 0===t?void 0:t.onPinCreate,c=(0,h.ZP)(),s=(0,i.useLocation)(),u=(0,P.Z)(),d=(0,v.F9)(),p=(0,o.useDispatch)(),b=(0,S.J)().updateHeaderState,m=(0,o.useSelector)(function(e){var t=e.advertiser;return u.isAuth&&t&&t.owner_user_id!==u.id?t.id:void 0}),g=(0,y.Hv)().previous,_=(0,f.c)();return(0,T.jsx)(U,D(D({},e),{},{advertiser_id:m,saveToBoard:r,dispatch:p,location:s,onPinCreate:a,previousHistory:g,showRepinAnimation:function(e){return b({type:"showRepinAnimation",payload:e})},toastManagerContext:d,viewerUserId:u.isAuth?u.id:void 0,i18n:c,logContextEvent:n,mountAfterActionPlacement:_}))}},715582:function(e,t,r){"use strict";r.d(t,{Z:function(){return eF}});var n=r(76911),o=r(908390),i=r(121151),a=r(898781),c=r(19121),s=r(759723),l=r(52241),u=r(506979),d=r(112690),f=r(780280),p=r(678638),y=r(515198);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e){var t=e.board,r=e.completeCreateSectionAction,c=e.height,s=e.onClose,l=e.pinImport,b=e.url,m=e.width,v=(0,a.ZP)(),g=(0,f.B)().isRTL,_=(0,d.Z)(),P=(0,u.useDispatch)(),S=h((0,n.useState)(""),2),j=S[0],x=S[1],O=h((0,n.useState)(!1),2),w=O[0],E=O[1],A=h((0,n.useState)(null),2),T=A[0],I=A[1];return(0,y.jsx)(i.ZP,{accessibilityModalLabel:v._('Repin modal', 'save.pinToBoard.modal.label', 'Accessibility label on modal'),heading:(0,y.jsx)(o.xu,{paddingY:8,children:(0,y.jsxs)(o.kC,{justifyContent:"center",children:[(0,y.jsx)(o.xu,{maxWidth:400,children:(0,y.jsx)(o.X6,{align:"center",size:"500",children:v._('Add section', 'sectionCreateModal.title', 'Title in the add section modal')})}),(0,y.jsx)(o.xu,{left:g,padding:8,position:"absolute",right:!g,top:!0,children:(0,y.jsx)(o.hU,{icon:"cancel",accessibilityLabel:v._('Close', 'sectionCreateModal.closeButton', 'close section create modal button'),size:"md",iconColor:"darkGray",onClick:s})})]})}),footer:(0,y.jsx)(o.kC,{children:(0,y.jsx)(o.xu,{marginStart:"auto",children:(0,y.jsx)(o.zx,{fullWidth:!0,text:v._('Add', 'sectionCreateModal.add.button', 'add a new section'),color:"red",onClick:function(){t&&(E(!0),P((0,p.vB)({boardId:t.id,name:j.trim(),pinImport:l},v,void 0,_)).then(function(e){r(t,e,!1)}).catch(function(e){I(e.message_detail||e.message)}).finally(function(){E(!1)}))},disabled:w||!j.trim()||!!T,size:"lg"})})}),onDismiss:s,size:"sm",children:(0,y.jsx)(o.xu,{padding:8,children:(0,y.jsxs)(o.kC,{children:[(0,y.jsx)(o.zd,{rounding:4,height:c,width:m,children:(0,y.jsx)(o.Ee,{alt:"",fit:"cover",src:b||"",naturalHeight:null!=c?c:1,naturalWidth:null!=m?m:1})}),(0,y.jsx)(o.xu,{marginStart:8,dangerouslySetInlineStyle:{__style:{width:m?"calc(100% - ".concat(m,"px)"):"100%"}},children:(0,y.jsx)(o.nv,{errorMessage:T,id:"sectionEditName",onChange:function(e){x(e.value),I(null)},placeholder:v._('Like "Lighting"', 'sectionCreateModal.boardSection.name', 'Placeholder for board section name'),label:v._('Name', 'section.create.label', 'label text for section input'),size:"lg",type:"text",value:j})})]})})})},v=r(407043),g=r(414327),_=r(784590),P=r(984206),S=r(50286),j=r(363333),x=r(615298);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach(function(t){R(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function R(e,t,r){return(t=k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==O(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O(t)?t:String(t)}var D=void 0,B=function(e){var t=[],r=[];return e.forEach(function(e){var n;null!==(n=e.name)&&void 0!==n&&n.match(/^\d/)?r.push(e):t.push(e)}),[].concat(t,r)};function N(e,t,r,n){return C(C(C(C({},e?{pin_id:e}:Object.freeze({})),t?{username:t}:Object.freeze({})),r?{advertiser_id:r,filter:"protected"}:Object.freeze({})),{},{field_set_key:"board_picker",limit:D,shortlist_suggestions:2,isDesktop:n})}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(o,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=T(o);if(t){var n=T(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return A(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return R(A(e=n.call.apply(n,[this].concat(r))),"getSections",function(t){var r=e.props.boardResource.data;if(!r)return[];var n=r.all_boards,o=r.boards_shortlist,i=B(n);return i.length<=3?[{items:i}]:t.length>=P.Z?[{items:(0,x.j)(i,t)}]:[o.length?{items:o,title:e.props.i18n._('Top choices', ' - ', ' -- ')}:{items:[]},{items:i,title:e.props.i18n._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')}]}),e}return w(o.prototype,[{key:"render",value:function(){var e=this.props,t=e.boardResource,r=t.data,n=t.error,o=t.isLoaded,i=e.boardSavedTo,a=e.isSelectMode,c=e.onBoardCreate,s=e.onBoardSelected,l=e.pinId,u=o&&!!r&&r.all_boards.length<=3;return(0,y.jsx)(j.Z,{isSelectMode:a,boardSavedTo:i,hasLoadError:!!n,hasLowBoardCount:u,isLoaded:o,getSections:this.getSections,onCreate:c,onSelected:s,pinId:l})}}]),r&&w(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.Component);function z(e){var t=(0,a.ZP)(),r=(0,c.Z)(),n=(0,S.HG)(),o=(0,u.useSelector)(function(e){var t=e.advertiser;if(r.isAuth&&t&&t.owner_user_id!==r.id)return t.id}),i=(0,u.useSelector)(function(e){var t=e.advertiser;if(r.isAuth&&t&&t.owner_user_id!==r.id)return t.owner_user_id}),s=(0,_.Z)({name:"BoardPickerBoardsResource",options:N(e.pinId,i,o,n)});return(0,y.jsx)(L,C(C({},e),{},{boardResource:s,i18n:t}))}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(t){q(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W(n.key),n)}}function H(e,t){return(H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function G(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t,r){return(t=W(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==M(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===M(t)?t:String(t)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=K(i);if(t){var n=K(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return G(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return q(G(e=o.call.apply(o,[this].concat(r))),"getSections",function(t){var r=e.props,n=r.board,o=r.i18n,i=r.sectionsResource.data,a=o._('Board', 'PinSaveButton.RepinPicker.SectionListBoardTitle', 'board title on section picker'),c=o._('Section', 'PinSaveButton.BoardFlyout.SectionListSectionTitle', 'section title on section picker');return t.length>=P.Z?[{items:(0,x.j)([n],t),customProps:{inSectionSelection:!0}},{items:(0,x.j)(null!=i?i:[],t,"title")}]:[{items:[n],customProps:{inSectionSelection:!0},title:a},{items:null!=i?i:[],title:c}]}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.sectionsResource,r=t.error,n=t.isLoaded,o=e.boardSavedTo,i=e.isSelectMode,a=e.onSectionCreate,c=e.onSectionSelected,s=e.pinId;return(0,y.jsx)(j.Z,{isSelectMode:i,boardSavedTo:o,createButtonLabel:this.props.i18n._('Add section', 'Button for creating a board section', 'Button for creating a board section'),hasLoadError:!!r,isLoaded:n,getSections:this.getSections,onCreate:a,onSelected:c,pinId:s})}}],U(i.prototype,r),n&&U(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function Y(e){var t=(0,a.ZP)(),r=(0,_.Z)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id}});return(0,y.jsx)(V,F(F({},e),{},{i18n:t,sectionsResource:r}))}var X=r(27255),$=r(730447),Q=r(936776),J=r(356997),ee=r(985913);function et(e){var t=(0,a.ZP)(),r=e.body,n=e.img,i=e.onClick,c=e.selected,s=e.title,l=e.username,u=e.valid;return(0,y.jsx)(o.xu,{marginBottom:4,children:(0,y.jsx)(o.iP,{onTap:i,children:(0,y.jsxs)(o.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[n,(0,y.jsxs)(o.xu,{flex:"grow",marginEnd:2,marginStart:3,children:[(0,y.jsx)(o.xu,{marginBottom:1,children:(0,y.jsx)(o.xv,{lineClamp:1,weight:"bold",children:s})}),(0,y.jsx)(o.xv,{size:"100",lineClamp:1,children:l||r})]}),(0,y.jsx)(o.xu,{marginStart:2,children:l?c?(0,y.jsx)(o.JO,{accessibilityLabel:t._('Confirmation an invite will be sent', 'Alt tags on a check box on the board create flow for board invites', 'Alt tags on a check box on the board create flow for board invites'),color:"error",icon:"check-circle",size:32}):(0,y.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):(0,y.jsx)(o.zx,{color:"gray",disabled:!!c||!u,size:"sm",text:c?t._('Sent', 'Sent a board collaborator invite', 'Sent a board collaborator invite'):t._('Invite', 'Add board collaborator invite', 'Add board collaborator invite')})})]})})})}var er=r(781165);function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(r),!0).forEach(function(t){eu(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ea(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ed(n.key),n)}}function ec(e,t){return(ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function es(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function el(e){return(el=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eu(e,t,r){return(t=ed(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ed(e){var t=function(e,t){if("object"!==en(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==en(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===en(t)?t:String(t)}function ef(e,t,r){var n=e.id;return t===r.findIndex(function(e){return e.id===n})}var ep=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ec(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=el(a);if(t){var n=el(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===en(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return es(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eu(es(e=i.call.apply(i,[this].concat(r))),"state",{selectedCollaborators:e.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),eu(es(e),"isIdSelected",{}),eu(es(e),"handleTextFieldChange",function(t){var r=t.value;e.setState({value:r})}),eu(es(e),"handleCollaboratorClick",function(t){var r=t.id,n=t.type;e.isIdSelected[r]=!e.isIdSelected[r];var o=e.props,i=o.inviteUsers,a=o.inviteEmails,c=e.state.selectedCollaborators.concat([t]);e.props.onSelectedCollaboratorsChange({id:r,resource:"email"===n?a:i}),e.setState({selectedCollaborators:c})}),eu(es(e),"handleTypeaheadSuggestionsChange",function(t){e.setState({typeaheadSuggestions:t})}),e}return r=[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.inviteUsers,n=t.inviteEmails;this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map(function(t){var o=t.id,i=t.type;return e.isIdSelected[o]=!e.isIdSelected[o],e.props.onSelectedCollaboratorsChange({id:o,resource:"email"===i?n:r}),null})}},{key:"render",value:function(){var e=this,t=this.state.value,r=this.props.shareSuggestionsResource.data||[],n=(""===t?this.state.selectedCollaborators.concat(r).filter(ef):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:t,valid:(0,Q.Z)(t)}).concat(r).filter(ef)).map(function(t){return function(e,t,r,n){if("user_share_suggestion"===e.type||"user"===e.type){var i=(0,y.jsx)(J.qE,{accessibilityLabel:"",name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return(0,y.jsx)(et,{img:i,onClick:function(){return r(e)},selected:t,title:e.full_name,username:e.username})}if("email"===e.type){var a,c,s=e.id,l=e.valid,u=(0,y.jsx)(o.xu,{alignItems:"center",color:"secondary",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40,children:(0,y.jsx)(o.JO,{accessibilityLabel:n._('Email icon', 'Email icon on board create modal', 'Email icon on board create modal'),color:"default",icon:"envelope",size:20})}),d=(0,ee.Z)(n._('Email {{ email }}', ' - ', ' -- '),{email:s});return t?(a=n._('Done!', 'Text that lets the user know we sent the board invite email', 'Text that lets the user know we sent the board invite email'),c=function(){}):(a=l?n._('Click to send!', 'Text that lets the user know they can successfully send a board invite email', 'Text that lets the user know they can successfully send a board invite email'):n._('Keep typing!', 'Text that lets a user know the email they are typing is not valid yet', 'Text that lets a user know the email they are typing is not valid yet'),c=function(){return l?r(e):void 0}),(0,y.jsx)(et,{body:a,img:u,onClick:c,selected:t,title:d,valid:l})}}(t,e.isIdSelected[t.id],e.handleCollaboratorClick,e.props.i18n)}).map(function(e,t){return(0,y.jsx)("li",{children:e},t)});return(0,y.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:"100%",children:[(0,y.jsx)(o.xu,{paddingX:3,paddingY:2,children:(0,y.jsx)(o.xv,{size:"100",children:this.props.i18n._('Add collaborators (optional)', 'Optional field to add collaborators to a board on board create', 'Optional field to add collaborators to a board on board create')})}),(0,y.jsx)(o.xu,{marginBottom:4,marginTop:2,paddingX:3,width:"100%",children:(0,y.jsx)(o.xu,{flex:"grow",children:(0,y.jsx)($.Z,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:t,children:(0,y.jsx)(o.Um,{accessibilityLabel:this.props.i18n._('Search for collaborators by name or email', ' - ', ' -- '),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:this.props.i18n._('Search by name or email', ' - ', ' -- '),size:"lg",value:t})})})}),(0,y.jsx)(o.xu,{overflow:"scrollY",paddingX:3,children:(0,y.jsx)("ul",{children:n})})]})}}],ea(a.prototype,r),n&&ea(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function ey(e){var t=(0,a.ZP)(),r=(0,_.Z)({name:"ShareSuggestionsResource",noCache:!0}),n=(0,er.zC)(),o=(0,er.DK)();return(0,y.jsx)(ep,ei(ei({},e),{},{i18n:t,shareSuggestionsResource:r,inviteEmails:n,inviteUsers:o}))}var eh=r(274495),eb=r(109556);function em(e){var t=e.onCancel,r=e.onCreate,i=e.onInvite,c=e.prefilledName,s=e.preselectedCollaborators,l=e.showTitle,u=(0,a.ZP)(),d=(0,f.B)().isRTL,p=(0,eb.Z)({onCreate:r,prefilledName:c}),h=p.handleCreate,b=p.handleChangeName,m=p.handleChangePrivacy,v=p.isAdAccountOwner,g=p.state,_=g.createBoardError,P=g.inputName,S=g.nameValidatorErrors,j=g.privacy,x=g.saving,O=0===S.length,w=j===X.Z.BoardPrivacy.SECRET;return(0,y.jsx)(o.xu,{color:"default",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:(0,y.jsx)("form",{onSubmit:function(e){e.preventDefault(),h()},style:{height:"100%"},children:(0,y.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:"100%",children:[l&&(0,y.jsx)(o.xu,{display:"flex",marginTop:3,paddingX:6,paddingY:3,children:(0,y.jsx)(o.X6,{size:"400",children:u._('Create board', ' - ', ' -- ')})}),(0,y.jsxs)(o.xu,{padding:3,children:[(0,y.jsx)(o.xu,{marginBottom:2,children:(0,y.jsx)(o.__,{htmlFor:"boardEditName",children:(0,y.jsx)(o.xv,{size:"100",children:u._('Name', ' - ', ' -- ')})})}),(0,y.jsx)(o.xu,{children:(0,y.jsx)(o.nv,{errorMessage:S.join(", "),id:"boardEditName",name:"boardName",onChange:function(e){return b(e.value)},placeholder:u._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:P})})]}),v&&(0,y.jsxs)(n.Fragment,{children:[(0,y.jsxs)(o.xu,{padding:3,children:[(0,y.jsx)(o.xu,{marginBottom:2,children:(0,y.jsx)(o.__,{htmlFor:"secret",children:(0,y.jsx)(o.xv,{size:"100",children:u._('Secret', 'secret board', 'secret board')})})}),(0,y.jsx)(o.xu,{children:(0,y.jsx)(o.rs,{id:"secret",onChange:m,switched:w})})]}),(0,y.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow",overflow:"hidden",children:(0,y.jsx)(o.xu,{width:"100%",children:(0,y.jsx)(ey,{onSelectedCollaboratorsChange:i,preselectedCollaborators:s})})})]}),!v&&(0,y.jsx)(n.Fragment,{children:(0,y.jsxs)(o.xu,{padding:3,children:[(0,y.jsx)(o.xu,{marginBottom:2,children:(0,y.jsx)(o.__,{htmlFor:"protected",children:(0,y.jsx)(o.xv,{size:"100",children:u._('Protected board (not listed on user\'s profile)', 'protected board', 'protected board')})})}),(0,y.jsx)(o.xu,{children:(0,y.jsx)(o.rs,{disabled:!0,id:"protected",onChange:function(){},switched:!0})})]})}),(0,y.jsxs)(o.xu,{borderStyle:"shadow",dangerouslySetInlineStyle:{__style:{borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px"}},bottom:!0,color:"default",display:"flex",justifyContent:"between",left:d,paddingX:4,paddingY:2,position:"absolute",right:!d,width:720,children:[(0,y.jsx)(o.kC,{children:(0,y.jsx)(o.zx,{onClick:t,text:u._('Cancel', 'cancel board create', 'cancel board create')})}),(0,y.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"end",children:[!!_&&(0,y.jsx)(o.xu,{paddingX:2,children:(0,y.jsx)(o.xv,{align:"center",color:"error",size:"200",weight:"bold",children:_})}),(0,y.jsx)(eh.Z,{disabled:!P.trim()||!O||!!_||x,submitting:x,text:u._('Create', 'create a new board', 'create a new board')})]})]})]})})})}var ev=r(553751);function eg(e){return(eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(t){ew(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eE(n.key),n)}}function ej(e,t){return(ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ex(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eO(e){return(eO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ew(e,t,r){return(t=eE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eE(e){var t=function(e,t){if("object"!==eg(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eg(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eg(t)?t:String(t)}var eA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ej(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eO(a);if(t){var n=eO(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eg(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ex(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return ew(ex(e=i.call.apply(i,[this].concat(r))),"state",{inviteQueue:{},newName:"",selectedSectionBoard:e.props.boardWithSection||null,showCreate:e.props.showCreate||!1}),ew(ex(e),"close",function(){var t=e.state,r=t.selectedSectionBoard,n=t.showCreate,o=e.props.onClose;n&&r?e.setState({showCreate:!1},e.manageModalTitle):r?e.setState({selectedSectionBoard:null},e.manageModalTitle):o()}),ew(ex(e),"sendInvites",function(t){var r=e.state.inviteQueue;Object.keys(r).forEach(function(e){var n;r[e].resource(null!==(n=t.id)&&void 0!==n?n:"",[e])})}),ew(ex(e),"handleInvite",function(t){var r=e.state.inviteQueue;if(r[t.id]){var n=eP({},r);delete n[t.id],e.setState({inviteQueue:n})}else{var o=eP(eP({},r),{},ew({},t.id,t));e.setState({inviteQueue:o})}}),ew(ex(e),"handleBoardCreate",function(t){var r=e.props.onBoardCreated;e.handleBoardSave(t,!0),r&&r(t)}),ew(ex(e),"handleBoardSave",function(t,r){var n=e.state.selectedSectionBoard,o=e.props,i=o.onBoardSave,a=o.invalidatePinBetterSaveResource,c=o.invalidateResource,s="board_section"===t.type;if(c(),a(),n&&("boardsection"===t.type||s))return i(n,t,r);var l=t.section_count,u=void 0===l?0:l;!n&&"number"==typeof u&&u>0?e.setState({selectedSectionBoard:t},e.manageModalTitle):(e.sendInvites(t),i(t,void 0,r))}),ew(ex(e),"handleCreate",function(t){return function(r){r=r||"",e.setState({newName:r,showCreate:!0},e.manageModalTitle),e.props.logContextEvent({event_type:101,component:t?13105:13025,element:t?10306:249})}}),ew(ex(e),"manageModalTitle",function(){var t=e.props.setModalTitle,r=e.state,n=r.selectedSectionBoard,o=r.showCreate;t&&t(o&&n?e.props.i18n._('Add section', 'Repin title for making a board section', 'Repin title for making a board section'):o&&!n?e.props.i18n._('Create board', 'Repin title for making a new board', 'Repin title for making a new board'):n&&!o?e.props.i18n._('Choose section', 'Repin title for choosing a board section', 'Repin title for choosing a board section'):e.props.i18n._('Choose board', 'Repin title for choosing a board', 'Repin title for choosing a board'))}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.boardSavedTo,r=e.isRepin,n=e.isSelectMode,i=e.pinId,a=e.preselectedCollaborators,c=e.setModalTitle,s=e.suggestedBoardTitle,l=this.state,u=l.newName,d=l.selectedSectionBoard,f=l.showCreate,p=!!d,h=!c;return(0,y.jsxs)(o.xu,{display:"flex",position:"relative",width:"100%",children:[!f&&(0,y.jsx)(o.xu,{direction:"column",display:"flex",marginTop:4,width:"100%",children:d?(0,y.jsx)(Y,{board:d,boardSavedTo:t,isSelectMode:n,onSectionCreate:this.handleCreate(p),onSectionSelected:this.handleBoardSave}):(0,y.jsx)(z,{boardSavedTo:t,isSelectMode:n,onBoardCreate:this.handleCreate(p),onBoardSelected:this.handleBoardSave,pinId:i})}),f&&!d&&(0,y.jsx)(em,{onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,prefilledName:u||s,preselectedCollaborators:a,showTitle:h}),f&&d&&(0,y.jsx)(ev.Z,{board:d,completeCreateSectionAction:this.handleBoardSave,initialName:u,isRepin:r,onClearModal:this.close,showTitle:h})]})}}],eS(a.prototype,r),n&&eS(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function eT(e){var t=(0,v.v)().logContextEvent,r=(0,a.ZP)(),n=(0,u.useDispatch)();return(0,y.jsx)(eA,eP(eP({},e),{},{i18n:r,logContextEvent:t,invalidateResource:function(){n((0,g.jB)("BoardPickerBoardsResource",N(e.pinId)))},invalidatePinBetterSaveResource:function(){n((0,g.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))}}))}var eI=r(457323);function eC(e){return(eC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ek(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eR(Object(r),!0).forEach(function(t){ez(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eM(n.key),n)}}function eB(e,t){return(eB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eN(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eL(e){return(eL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ez(e,t,r){return(t=eM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eM(e){var t=function(e,t){if("object"!==eC(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eC(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eC(t)?t:String(t)}var eZ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eB(e,t)}(u,e);var t,r,a,c=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eL(u);if(t){var n=eL(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eC(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eN(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return ez(eN(e=c.call.apply(c,[this].concat(r))),"pinImageRef",(0,n.createRef)()),ez(eN(e),"handleSavePinToBoard",function(t,r,n){(0,e.props.handleSaveToBoard)(t,r,n)}),ez(eN(e),"close",function(){(0,e.props.handleAbort)()}),ez(eN(e),"dismissModal",function(){var t=e.props.dismissModal;t&&t()}),e}return r=[{key:"render",value:function(){var e,t,r=this,a=this.props,c=a.boardSavedTo,u=a.boardWithSection,d=a.color,f=a.displaySuccessAnimation,p=a.handleNewBoardAnimationCompletion,h=a.isInModal,b=a.newPin,v=a.pin,g=a.preselectedCollaborators,_=a.onBoardCreated,P=a.sensitiveContentNotice,S=a.setModalTitle,j=a.showCreate,x=a.shouldRenderContent,O=a.suggestedBoardTitle,w=a.updateDescription;if(!v||!v&&!v.resourceLoaded||!x)return null;if(j&&u){var E,A=(null===(E=v.images)||void 0===E?void 0:E["236x"])||{},T=A.url,I=A.width,C=A.height;return(0,y.jsx)(m,{board:u,url:T,height:null!=C?C:void 0,width:null!=I?I:void 0,onClose:this.close,completeCreateSectionAction:this.handleSavePinToBoard})}var R=null;b&&b.board&&(R=b.board.name);var k=P&&P.title||this.props.modalTitle,D=P?(0,y.jsx)(s.Z,{inModal:!0,notices:[P]}):(0,y.jsx)(o.kC,{alignItems:"stretch",height:"calc(90vh - 97px)",justifyContent:"center",maxHeight:"703px",width:"100%",children:(0,y.jsxs)(n.Fragment,{children:[(0,y.jsxs)(o.xu,{color:"default",display:"flex",height:"100%",overflow:"hidden",position:"relative",rounding:2,width:"100%",children:[(0,y.jsx)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",width:"40%",children:(0,y.jsx)(o.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginTop:3,children:(0,y.jsx)(eI.Z,{color:d,pinDescription:v.description,pinId:v.entityId,link:v.link,image236x:null!==(e=v.images)&&void 0!==e&&e["236x"]?{height:v.images["236x"].height,url:v.images["236x"].url,width:v.images["236x"].width}:void 0,imageBase64:v.imageBase64,pinImageRef:this.pinImageRef,updateDescription:w})})}),(0,y.jsx)(o.kC,{alignItems:"stretch",width:"60%",children:(0,y.jsx)(eT,{boardSavedTo:c,boardWithSection:u,isRepin:!0,onBoardCreated:_,onBoardSave:this.handleSavePinToBoard,onClose:this.close,pinId:v.entityId,preselectedCollaborators:g,setModalTitle:h?S:void 0,showCreate:j,suggestedBoardTitle:O})})]}),f&&(0,y.jsx)(l.Z,{onDismiss:function(){p(),r.dismissModal()},description:v.description,images236x:null!==(t=v.images)&&void 0!==t&&t["236x"]?{height:v.images["236x"].height,url:v.images["236x"].url,width:v.images["236x"].width}:void 0,pinImageRef:this.pinImageRef,selectedBoardName:R})]})});return h?(0,y.jsx)(i.ZP,{accessibilityModalLabel:k||this.props.i18n._('Repin modal', 'save.pin-to-board.PinToBoard.PinToBoard', 'Accessibility label on modal'),heading:k,onDismiss:this.close,size:"md",children:D}):D}}],eD(u.prototype,r),a&&eD(u,a),Object.defineProperty(u,"prototype",{writable:!1}),u}(n.PureComponent);ez(eZ,"defaultProps",{pwtAuxData:{}});var eF=function(e){var t=(0,a.ZP)(),r=(0,c.Z)();return(0,y.jsx)(eZ,ek(ek({},e),{},{i18n:t,viewer:r}))}},920912:function(e,t,r){"use strict";r.d(t,{A:function(){return n},S:function(){return o}});var n=4e3,o={LOADING:"loading",SUCCESS:"success"}},109556:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(76911),o=r(506979),i=r(27255),a=r(898781),c=r(349700),s=r(414327),l=r(19121),u=r(134906),d=r(239682),f=r(109892);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function m(e){var t,r=e.onCreate,p=e.prefilledName,y=(0,a.ZP)(),m=(0,o.useSelector)(function(e){return e.advertiser}),v=(0,o.useDispatch)(),g=(0,l.Z)(),_=!m||g.isAuth&&m.owner_user_id===g.id,P=m&&m.id,S=(0,f.Z)(),j=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)({createBoardError:null,inputName:p||"",nameValidatorErrors:[],privacy:_?i.Z.BoardPrivacy.PUBLIC:i.Z.BoardPrivacy.PROTECTED,saving:!1}))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),x=j[0],O=j[1],w=function(){var e=x.inputName,t=x.privacy;O(h(h({},x),{},{saving:!0,createBoardError:null})),S({boardCreateOptions:h({name:e,privacy:t},!_&&P?{advertiser_id:P}:Object.freeze({}))}).then(function(e){O(h(h({},x),{},{saving:!1})),r(e)}).catch(function(e){var t=y._('Uh oh! Something went wrong.', ' - ', ' -- ');if("string"==typeof e)t=e;else if(e.message){var r=e.message,n=e.message_detail;t=n?"".concat(r," ").concat(n):r}O(h(h({},x),{},{saving:!1,createBoardError:t}))}),v((0,s.jB)("BoardsResource",(0,d.Z)(g.isAuth?g.username:"",t===i.Z.BoardPrivacy.SECRET)))};return{handleChangeName:function(e,t){O(h(h({},x),{},{inputName:e,nameValidatorErrors:(0,u.FU)([(0,u.aH)({message:y._('Don\'t forget to name your board!', ' - ', ' -- ')}),(0,u.Gy)({max:i.Z.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:(0,c.nk)(y._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a user input is too long', 'Validation error when a user input is too long'),{maxLength:i.Z.MAX_CHARS_FOR_BOARD_TITLE}).join("")})],e),createBoardError:null})),t&&w()},handleChangePrivacy:function(){O(h(h({},x),{},{privacy:x.privacy===i.Z.BoardPrivacy.SECRET?i.Z.BoardPrivacy.PUBLIC:i.Z.BoardPrivacy.SECRET}))},handleCreate:w,isAdAccountOwner:_,state:x}}},580751:function(e,t,r){"use strict";r.d(t,{M:function(){return p},Q:function(){return y}});var n=r(76911),o=r(425288),i=r(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){var n;return(n=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===a(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d=(0,o.Z)("RepinContext"),f=d.Provider,p=d.useMaybeHook;function y(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(Object.freeze({})))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],s=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){l=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],c=o[1],d=(0,n.useMemo)(function(){return{getSavedPinId:function(e){return a[e]},isSaved:function(e){return!!a[e]},save:function(e,t){return c(function(r){return s(s({},r),{},l({},e,t))})},unsave:function(e){return c(function(t){return s(s({},t),{},l({},e,null))})}}},[a]);return(0,i.jsx)(f,{value:d,children:r})}},72566:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(76911),o=r(908390),i=r(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=u(f);if(t){var n=u(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function f(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f);for(var e,t,r,o,i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];return t=l(e=n.call.apply(n,[this].concat(a))),r="setSearchRef",o=function(t){t&&(e.searchRef=t)},(r=d(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,e}return c(f.prototype,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.searchRef.focus()}},{key:"render",value:function(){var e=this.props,t=e.accessibilityLabel,r=e.id,n=e.onBlur,a=e.onChange,c=e.onFocus,s=e.placeholder,l=e.value;return(0,i.jsx)(o.Um,{accessibilityLabel:t,id:r,onBlur:n,onChange:a,onFocus:c,placeholder:s,ref:this.setSearchRef,size:"lg",value:l})}}]),r&&c(f,r),Object.defineProperty(f,"prototype",{writable:!1}),f}(n.Component)},258430:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(908390),o=r(130460),i=r(515198);function a(e){var t,r=e.boardId,a=(0,o.gC)()(r),c=null!=a&&a.images&&a.images["170x"]?a.images["170x"][0]:void 0;return r&&c?(0,i.jsx)(n.Ee,{alt:"Pin image",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(t=c.url)&&void 0!==t?t:""}):null}},759929:function(e,t,r){"use strict";r.d(t,{k:function(){return a},w:function(){return i}});var n=r(908390),o=r(379764),i=2e3,a=new n.H3([o.Z])},109892:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(506979),o=r(833314),i=r(214494),a=r(332611),c=r(886858),s=r(248327),l=r(414327);function u(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(e){r(e);return}c.done?t(s):Promise.resolve(s).then(n,o)}function d(){var e,t,r=(0,n.useDispatch)(),d=(0,n.useSelector)(function(e){return e.resources});return e=regeneratorRuntime.mark(function e(t){var n,u,f,p,y,h,b,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.boardCreateOptions,f=t.deprecatedSchemaForNormalization,e.next=3,i.Z.create("BoardResource",u).callCreate();case 3:return y=(p=e.sent).resource_response.data,h=f?(0,o.Fv)(y,f):void 0,r((0,l.XM)("BoardResource",u,p,h)),r((0,a.fO)({event_type:20})),null!==(n=y.owner)&&void 0!==n&&n.id&&r((0,s.b)("UserResource",{options:{user_id:y.owner.id,field_set_key:"save_behavior"}})),b=d.BoardsResource||{},m=d.BoardsFeedResource||{},Object.keys(b).forEach(function(e){var t;(0,c.k)(e).username===(null===(t=y.owner)||void 0===t?void 0:t.username)&&r((0,l.jB)("BoardsResource",e))}),Object.keys(m).forEach(function(e){var t;(0,c.k)(e).username===(null===(t=y.owner)||void 0===t?void 0:t.username)&&r((0,l.jB)("BoardsFeedResource",e))}),e.abrupt("return",y);case 14:case"end":return e.stop()}},e)}),t=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,c,"next",e)}function c(e){u(i,n,o,a,c,"throw",e)}a(void 0)})},function(e){return t.apply(this,arguments)}}},152028:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(908390),o=r(81226),i=r(898781),a=r(515198);function c(e){var t=e.duration,r=(0,i.ZP)();return(0,a.jsxs)(n.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,a.jsx)(n.JO,{accessibilityLabel:r._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,a.jsx)(n.xu,{marginStart:1,children:(0,a.jsx)(n.xv,{color:"inverse",size:"100",lineClamp:1,children:(0,o.Z)(t)})})]})}},433919:function(e,t,r){"use strict";r.d(t,{Z:function(){return I}});var n=r(599689),o=r(780280),i=r(50286),a=r(76911),c=r(908390),s=r(709773),l=r(81636),u=r(898781),d=r(784590),f=r(427806),p=r(38004),y=r(715582),h=r(515198);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){j(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x(n.key),n)}}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,r){return(t=x(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==b(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}var O=function(){return window.close()},w=function(e){window.resizeTo(675,e+52)},E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=S(i);if(t){var n=S(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return P(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return j(P(e=o.call.apply(o,[this].concat(r))),"state",{newPin:null}),j(P(e),"_pincreateCompletionPromise",null),j(P(e),"setCompletionPromise",function(t){e._pincreateCompletionPromise=t,e._pincreateCompletionPromise.promise.then(function(t){e.setState({newPin:t}),window.setTimeout(O,1e4)})}),e}return r=[{key:"render",value:function(){var e,t,r=this.props.pin.data,n=this.state.newPin;return r?n?(0,h.jsx)(s.Z,{boardName:n.board.name,color:r.dominant_color||"",description:r.description||"",imageUrl:(null===(e=r.images)||void 0===e?void 0:null===(t=e["236x"])||void 0===t?void 0:t.url)||"",link:r.link||"",onClose:O,pinId:n.id,openNewTab:!0}):(0,h.jsxs)(a.Fragment,{children:[(0,h.jsx)(f.Z,{text:this.props.i18n._('Select a board to save this Pin', 'PinToBoardPage.Header.HiddenAccessibilityHeader', 'Accessibility h1 on pin to board page for extension')}),(0,h.jsx)(p.K,{action:"repin",onClose:O,setCompletionPromise:this.setCompletionPromise,shouldShowToast:!0,pin:{board:r.board&&{url:r.board.url},description:r.description,descriptionHtml:r.description_html,link:r.link,entityId:r.id,imageBase64:r.image_base64,imageUrl:r.image_url,images:r.images&&{"236x":r.images.a236x&&{url:r.images.a236x.url,height:r.images.a236x.height,width:r.images.a236x.width},orig:r.images.orig&&{url:r.images.orig.url,height:r.images.orig.height,width:r.images.orig.width}},mediaUploadId:r.media_upload_id,pinner:r.pinner&&{username:r.pinner.username},promotedIsRemovable:r.promoted_is_removable,storyPinDataId:r.story_pin_data_id,title:r.title,trackingParams:r.tracking_params,trackingParamsMap:r.tracking_params_map},children:function(e){var t=e.handleAbort,n=e.handleNewBoardAnimationCompletion,o=e.handleSaveToBoard,i=e.newPin,a=e.modalTitle,s=e.setModalTitle;return(0,h.jsx)(c.xu,{display:"flex",justifyContent:"center",width:"100%","data-test-id":"pin-to-board-page",children:(0,h.jsx)(y.Z,{handleAbort:t,handleNewBoardAnimationCompletion:n,handleSaveToBoard:o,newPin:i,onHeightChange:w,pin:{description:r.description,entityId:r.id,images:r.images&&{"236x":r.images["236x"]&&{url:r.images["236x"].url,width:r.images["236x"].width,height:r.images["236x"].height}},imageBase64:r.image_base64,link:r.link},pwtAuxData:{pin_create_method:"repin"},shouldRenderContent:!0,modalTitle:a,setModalTitle:s})})}})]}):null}}],g(i.prototype,r),n&&g(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(a.Component);function A(e){var t=(0,n.useRouteMatch)(),r=(0,u.ZP)();(0,l.Q)({view_type:91,object_id_str:t.params.id,view_data:{pin_id:t.params.id}});var o=(0,d.Z)({name:"PinResource",options:{noCache:!0,field_set_key:"detailed",id:t.params.id}});return(0,h.jsx)(E,v(v({},e),{},{i18n:r,pin:o}))}var T=r(160865),I=function(){var e=(0,n.useParams)().id,t=(0,i.ZP)();return(0,o.B)().isAuthenticated?"desktop"===t?(0,h.jsx)(A,{}):(0,h.jsx)(T.Z,{}):(0,h.jsx)(n.Redirect,{to:"/pin/".concat(null!=e?e:"","/")})}},167678:function(e,t,r){"use strict";r.d(t,{TA:function(){return O}});var n=r(76911),o=r(742897),i=r(539439),a=r(744702),c=r(811602),s=r(727460),l=r(349424),u=r.n(l);function d(e){console.warn("loadable: "+e)}var f=n.createContext(),p={initialChunks:{}},y="PENDING",h="REJECTED",b=function(e){return e};function m(e){var t=e.defaultResolveComponent,r=void 0===t?b:t,l=e.render,d=e.onLoad;function m(e,t){void 0===t&&(t={});var b,m="function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e,v={};function g(e){return t.cacheKey?t.cacheKey(e):m.resolve?m.resolve(e):"static"}function _(e,n,o){var i=t.resolveComponent?t.resolveComponent(e,n):r(e);if(t.resolveComponent&&!(0,s.isValidElementType)(i))throw Error("resolveComponent returned something that is not a React component!");return u()(o,i,{preload:!0}),i}var P=(b=function(e){function r(r){var n;return((n=e.call(this,r)||this).state={result:null,error:null,loading:!0,cacheKey:g(r)},function(e,t){if(!e){var r=Error("loadable: "+t);throw r.framesToPop=1,r.name="Invariant Violation",r}}(!r.__chunkExtractor||m.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),r.__chunkExtractor)?(!1===t.ssr||(m.requireAsync(r).catch(function(){return null}),n.loadSync(),r.__chunkExtractor.addChunk(m.chunkName(r))),(0,a.Z)(n)):(!1!==t.ssr&&(m.isReady&&m.isReady(r)||m.chunkName&&p.initialChunks[m.chunkName(r)])&&n.loadSync(),n)}(0,c.Z)(r,e),r.getDerivedStateFromProps=function(e,t){var r=g(e);return(0,i.Z)({},t,{cacheKey:r,loading:t.loading||t.cacheKey!==r})};var n=r.prototype;return n.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===h&&this.setCache(),this.state.loading&&this.loadAsync()},n.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},n.componentWillUnmount=function(){this.mounted=!1},n.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},n.getCacheKey=function(){return g(this.props)},n.getCache=function(){return v[this.getCacheKey()]},n.setCache=function(e){void 0===e&&(e=void 0),v[this.getCacheKey()]=e},n.triggerOnLoad=function(){var e=this;d&&setTimeout(function(){d(e.state.result,e.props)})},n.loadSync=function(){if(this.state.loading)try{var e=m.requireSync(this.props),t=_(e,this.props,S);this.state.result=t,this.state.loading=!1}catch(e){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:m.resolve(this.props),chunkName:m.chunkName(this.props),error:e?e.message:e}),this.state.error=e}},n.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then(function(t){var r=_(t,e.props,{Loadable:S});e.safeSetState({result:r,loading:!1},function(){return e.triggerOnLoad()})}).catch(function(t){return e.safeSetState({error:t,loading:!1})}),t},n.resolveAsync=function(){var e=this,t=this.props,r=(t.__chunkExtractor,t.forwardedRef,(0,o.Z)(t,["__chunkExtractor","forwardedRef"])),n=this.getCache();return n||((n=m.requireAsync(r)).status=y,this.setCache(n),n.then(function(){n.status="RESOLVED"},function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:m.resolve(e.props),chunkName:m.chunkName(e.props),error:t?t.message:t}),n.status=h})),n},n.render=function(){var e=this.props,r=e.forwardedRef,n=e.fallback,a=(e.__chunkExtractor,(0,o.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),c=this.state,s=c.error,u=c.loading,d=c.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===y)throw this.loadAsync();if(s)throw s;var f=n||t.fallback||null;return u?f:l({fallback:f,result:d,options:t,props:(0,i.Z)({},a,{ref:r})})},r}(n.Component),function(e){return n.createElement(f.Consumer,null,function(t){return n.createElement(b,Object.assign({__chunkExtractor:t},e))})}),S=n.forwardRef(function(e,t){return n.createElement(P,Object.assign({forwardedRef:t},e))});return S.preload=function(e){m.requireAsync(e)},S.load=function(e){return m.requireAsync(e)},S}return{loadable:m,lazy:function(e,t){return m(e,(0,i.Z)({},t,{suspense:!0}))}}}var v=m({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,r=e.props;return n.createElement(t,r)}}),g=v.loadable,_=v.lazy,P=m({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,r=e.props;return r.children?r.children(t):null}}),S=P.loadable,j=P.lazy,x="undefined"!=typeof window;function O(e,t){void 0===e&&(e=function(){});var r=(void 0===t?{}:t).namespace;if(!x)return d("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var n=null;if(x){var o=""+(void 0===r?"":r)+"__LOADABLE_REQUIRED_CHUNKS__",i=document.getElementById(o);if(i){n=JSON.parse(i.textContent);var a=document.getElementById(o+"_ext");if(a)JSON.parse(a.textContent).namedChunks.forEach(function(e){p.initialChunks[e]=!0});else throw Error("loadable-component: @loadable/server does not match @loadable/component")}}if(!n)return d("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var c=!1;return new Promise(function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,r=t.push.bind(t);function o(){n.every(function(e){return t.some(function(t){return t[0].indexOf(e)>-1})})&&!c&&(c=!0,e())}t.push=function(){r.apply(void 0,arguments),o()},o()}).then(e)}g.lib=S,_.lib=j,t.ZP=g},349424:function(e,t,r){"use strict";var n=r(916731),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function s(e){return n.isMemo(e)?a:c[e.$$typeof]||o}c[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c[n.Memo]=a;var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,y=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(y){var o=p(r);o&&o!==y&&e(t,o,n)}var a=u(r);d&&(a=a.concat(d(r)));for(var c=s(t),h=s(r),b=0;b<a.length;++b){var m=a[b];if(!i[m]&&!(n&&n[m])&&!(h&&h[m])&&!(c&&c[m])){var v=f(r,m);try{l(t,m,v)}catch(e){}}}}return t}},468278:function(e,t){"use strict";/** @license React v16.8.4
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,c=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,y=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116;function m(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case s:case c:case y:return e;default:switch(e=e&&e.$$typeof){case u:case p:case l:return e;default:return t}}case b:case h:case i:return t}}}function v(e){return m(e)===f}t.typeOf=m,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=l,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=b,t.Memo=h,t.Portal=i,t.Profiler=s,t.StrictMode=c,t.Suspense=y,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===s||e===c||e===y||"object"===r(e)&&null!==e&&(e.$$typeof===b||e.$$typeof===h||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p)},t.isAsyncMode=function(e){return v(e)||m(e)===d},t.isConcurrentMode=v,t.isContextConsumer=function(e){return m(e)===u},t.isContextProvider=function(e){return m(e)===l},t.isElement=function(e){return"object"===r(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return m(e)===p},t.isFragment=function(e){return m(e)===a},t.isLazy=function(e){return m(e)===b},t.isMemo=function(e){return m(e)===h},t.isPortal=function(e){return m(e)===i},t.isProfiler=function(e){return m(e)===s},t.isStrictMode=function(e){return m(e)===c},t.isSuspense=function(e){return m(e)===y}},916731:function(e,t,r){"use strict";e.exports=r(468278)},401426:function(e,t){"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,c=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,y=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,b=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,P=n?Symbol.for("react.scope"):60119;function S(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case s:case c:case y:return e;default:switch(e=e&&e.$$typeof){case u:case p:case m:case b:case l:return e;default:return t}}case i:return t}}}function j(e){return S(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=l,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=m,t.Memo=b,t.Portal=i,t.Profiler=s,t.StrictMode=c,t.Suspense=y,t.isAsyncMode=function(e){return j(e)||S(e)===d},t.isConcurrentMode=j,t.isContextConsumer=function(e){return S(e)===u},t.isContextProvider=function(e){return S(e)===l},t.isElement=function(e){return"object"===r(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return S(e)===p},t.isFragment=function(e){return S(e)===a},t.isLazy=function(e){return S(e)===m},t.isMemo=function(e){return S(e)===b},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===s},t.isStrictMode=function(e){return S(e)===c},t.isSuspense=function(e){return S(e)===y},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===s||e===c||e===y||e===h||"object"===r(e)&&null!==e&&(e.$$typeof===m||e.$$typeof===b||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p||e.$$typeof===g||e.$$typeof===_||e.$$typeof===P||e.$$typeof===v)},t.typeOf=S},727460:function(e,t,r){"use strict";e.exports=r(401426)},744702:function(e,t,r){"use strict";function n(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return n}})},232302:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(439920);function o(e,t,r){return(t=(0,n.Z)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},539439:function(e,t,r){"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,{Z:function(){return n}})},811602:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(967809);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.Z)(e,t)}},927593:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(232302);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},742897:function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}r.d(t,{Z:function(){return n}})},967809:function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,{Z:function(){return n}})},439920:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(54406);function o(e){var t=function(e,t){if("object"!=(0,n.Z)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=(0,n.Z)(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,n.Z)(t)?t:String(t)}},54406:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,{Z:function(){return n}})}},function(e){e.O(0,[97270,8390,99689,26067,17492,48327,66312,99246,16117,17197,83521,87072,57709,76596,23019,25057,10903,42103,81165,48806,61038,72621,67419],function(){return e(e.s=53459)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/repin/x-94d05b4f3e98953c.js.map