(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[578,51879,13047,28543,24859,90907,18514,3917,90984,25620,75721,4394,21093,58103,51046,85547,31600,2517,13951,62817,91338,48937,41007,84992,17149,22555,31435,56831],{353499:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ActivityAvatar_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],type:"User",abstractKey:null};t.hash="abf151ba4d389a02e4541aa5f969d468",e.exports=t},484044:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AggregatedCloseupSavedToBoardInfo_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="1c0dd9839405d82cabfd205ccf6b71f5",e.exports=t},450756:function(e){"use strict";var t,n,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CardSourceDescriptionText_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[t={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:n=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],type:"StoryPinListBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="ce881877e19bed64c05eff92a2289974",e.exports=r},603239:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselEllipsis_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};t.hash="d9fe632f7481dc91f9007bbd592d44c2",e.exports=t},992872:function(e){"use strict";var t,n={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"CarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentCarouselDisplayOptions",kind:"LinkedField",name:"carouselDisplayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"navigationType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselFadeEnds",storageKey:null},{alias:null,args:null,concreteType:"StoryItemViewRepStyle",kind:"LinkedField",name:"itemViewRepStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"exploreArticleRepStyle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moreIdeasRepStyle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[t,{kind:"InlineFragment",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"ItemRep_pin"}],type:"Pin",abstractKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};n.hash="3a9249e363d91968cda37f88750020c1",e.exports=n},717246:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselSliders_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"CarouselEllipsis_pin"}],type:"Pin",abstractKey:null};t.hash="4b0c4a7a095db0d3cc7f22f3f6c85086",e.exports=t},126842:function(e){"use strict";var t,n,r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupAttributionAndDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},t,n,{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaType",storageKey:null},r],storageKey:null},{args:null,kind:"FragmentSpread",name:"Description_pin"}],type:"Pin",abstractKey:null};i.hash="7142df6a7a3c1aee54267c5441d3d50b",e.exports=i},655519:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="1bbb8674ec5e60b14ecaddf0ef8aa73e",e.exports=t},281309:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionMediaAttribution_pin",selections:[{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="91cf1b742f42f2f57e9e89991ad2eebd",e.exports=t},801322:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionPhotoAttribution_pin",selections:[{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="5dff28be2de95106e382c42d78ad1833",e.exports=n},882900:function(e){"use strict";var t,n,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},t,{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionPhotoAttribution_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionMediaAttribution_pin"}],type:"Pin",abstractKey:null};r.hash="c8423888a19a8f6884a814676a99cd51",e.exports=r},623861:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetailsBasicsLayout_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:t=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="b8f25f1b5aa21f88bc1091e219609eb8",e.exports=n},914715:function(e){"use strict";var t,n,r,i,o,a=(o=[{args:null,kind:"FragmentSpread",name:"CloseupDetails_user"}],{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"},{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupDetails_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingKlpUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:i=[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:i,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[t,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[n],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[r,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:o,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:o,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttribution_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDetailsBasicsLayout_pin"},{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipe_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"CloseupSavedAttribution_pin"},{args:null,kind:"FragmentSpread",name:"PinFeaturedInArticleCard_pin"},{args:null,kind:"FragmentSpread",name:"VaseFullBleedModal_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipeRating_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescription_pin"},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"},{args:null,kind:"FragmentSpread",name:"useReactionCountsFragment_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{condition:"isAuth",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"ProductDetails_pin"}]},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProductDescriptionDropdown_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"PinFeedbackButton_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CommentThreadContainer_pin"}]},{args:null,kind:"FragmentSpread",name:"UserRep_pin"}],type:"Pin",abstractKey:null});a.hash="26d32b9142f479e02c0600f3ac018156",e.exports=a},350886:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetails_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null};t.hash="c9713d85ef89281fa5ad27120a1c71f9",e.exports=t},501071:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPinImpression_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdpPlus",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="cb7fea198513a8b03ed97b18fdfd2fd5",e.exports=t},956886:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModuleOneTapConfiguration_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};t.hash="20f13d43dd1ab7246946004af63637f8",e.exports=t},45159:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModuleOneTapConfiguration_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};t.hash="4f72dbffaa49f23b505ed8ef2f099682",e.exports=t},551542:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModule_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupRelatedModuleOneTapConfiguration_pin"}],type:"Pin",abstractKey:null};t.hash="535b0dce979f4e368b354c1d7db63f73",e.exports=t},223884:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModulesContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"CloseupRelatedModule_pin"}],type:"Pin",abstractKey:null};t.hash="8b3eeb9b4671e020ac715d9513179386",e.exports=t},519155:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null};n.hash="ae94444428b28d887ae5f58d77fc52c7",e.exports=n},781293:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupSavedAttribution_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="62fd54709d3c18c78af173903ab765f1",e.exports=t},560728:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupTitle_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null}],type:"Pin",abstractKey:null};n.hash="e77b42ec174b43e9b7604897d7df5144",e.exports=n},90838:function(e){"use strict";var t,n,r=(n=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},t],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},t,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});r.hash="6e4bec581cece19361386d6124ddde90",e.exports=r},348853:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ContextMenuClickthroughLogging_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="91958ad6d73597b90dd099ea462eb40e",e.exports=n},56354:function(e){"use strict";var t,n,r,i,o,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CreatorCard_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},t,i={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i,o],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t,n,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null},{alias:null,args:null,concreteType:"PinThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:"creatorId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[{alias:"sponsorId",args:null,kind:"ScalarField",name:"id",storageKey:null},i,o],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[t,n,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCreatorRecsPrevStateCloseup_pin"}],type:"Pin",abstractKey:null};a.hash="b49e47e39a3bebf3bfd6f2c19c5e99cc",e.exports=a},398301:function(e){"use strict";var t,n,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CyclingInterestRepFragment_interest",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:t=[{kind:"Literal",name:"spec",value:"400x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"cyclingImages",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'cyclingImages(spec:"400x")'},{alias:null,args:t,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"400x")'}],type:"Interest",abstractKey:null};r.hash="222069ef21932a5a820528ebe3d8ee6b",e.exports=r},639920:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DebugSignalsFeedback_pin",selections:[{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debAds",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iconUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalMessage",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debContentQuality",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debInclusiveProduct",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debShopping",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debTrustAndSafety",plural:!0,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="06530ceab8fc1bb7b5d868c8ffeb2afd",e.exports=n},642637:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultMetadata_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUserNote",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[t],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useHandleTitleClick_pin"},{args:null,kind:"FragmentSpread",name:"useIsGroupBoard_pin"},{args:null,kind:"FragmentSpread",name:"useIsBoardOwnerOrCollaborator_pin"},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"},{args:null,kind:"FragmentSpread",name:"TitleDesktop_pin"},{args:null,kind:"FragmentSpread",name:"PartnerModule_pin"},{args:null,kind:"FragmentSpread",name:"SavedInfo_pin"}],type:"Pin",abstractKey:null};n.hash="458ab53d4f5c5196856e3da1b1cfda0f",e.exports=n},566416:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeprecatedCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};t.hash="af2a292b990c2655414c7944d61296a1",e.exports=t},132881:function(e){"use strict";var t,n,r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeprecatedDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[t,n,{alias:null,args:null,concreteType:"PersonMetadata",kind:"LinkedField",name:"authors",plural:!0,selections:[t],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[t,{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},t],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"d",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"s",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"prep",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"total",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="e9dd4317671a8ec1716536b8ac1277a1",e.exports=i},602375:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeprecatedMaybeLinkAndDescription_pin",selections:[{args:null,kind:"FragmentSpread",name:"LinkModule_pin"},{args:null,kind:"FragmentSpread",name:"DeprecatedDescription_pin"}],type:"Pin",abstractKey:null};t.hash="5cd80b7ff50a0b96caa0416fa0d3445b",e.exports=t},911824:function(e){"use strict";var t,n,r,i=(t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],r=[n={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Description_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:t,storageKey:null},n,{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:r,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CardSourceDescriptionText_pin"}],type:"Pin",abstractKey:null});i.hash="28ab0b1e7aa7707dbaca4eab96280169",e.exports=i},369092:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DomainLinkButtonWrapper_pin",selections:[{args:null,kind:"FragmentSpread",name:"DomainLinkButton_pin"}],type:"Pin",abstractKey:null};t.hash="c8d5b83c286941419f10e0533416df21",e.exports=t},499410:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DomainLinkButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};t.hash="08b89bb2190b936e38e11d4ce341058f",e.exports=t},84928:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null};n.hash="cabaa35ed7d59dee006897bf3ef32e3d",e.exports=n},612587:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HeaderModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:t,storageKey:null},{alias:"storyDescription",args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleStyle",storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="4bee3a400f6e868da4c768b56562f0ea",e.exports=n},448447:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"InterestRepFragment_interest",selections:[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"400x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"400x")'},{args:null,kind:"FragmentSpread",name:"CyclingInterestRepFragment_interest"}],type:"Interest",abstractKey:null};t.hash="5bac0bc8d6be0173acb361670e952a71",e.exports=t},883597:function(e){"use strict";var t={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"ItemRep_pin",selections:[{alias:"pinId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};t.hash="e09face5ac4d794d890ecc87ca1a90a4",e.exports=t},607093:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LeadGenContainer_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"completionMessage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"disclosureLanguage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacyPolicyLink",storageKey:null},{alias:null,args:null,concreteType:"LeadFormPolicyLink",kind:"LinkedField",name:"policyLinks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LeadFormQuestion",kind:"LinkedField",name:"questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"questionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"questionFieldType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"questionLabel",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"questionOptions",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="29636ac529cb464b6e5a24b868ebea1d",e.exports=t},897840:function(e){"use strict";var t,n,r,i,o,a,l,s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LinkModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},n,i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},r,{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:l=[a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:o,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},a],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:l,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],type:"Pin",abstractKey:null};s.hash="2be523d18cdb97a01003da320f0cb7d3",e.exports=s},891807:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MaybeClickthroughLink_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[t={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},t,{args:null,kind:"FragmentSpread",name:"LinkModule_pin"}],type:"Pin",abstractKey:null};n.hash="39a7882a66a91ae06ef6da7137136e67",e.exports=n},347806:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttributionText_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="17ee7538a8ba5a468f69f85d06121f1d",e.exports=t},521835:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttribution_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"},{args:null,kind:"FragmentSpread",name:"FollowButton_pin"}],type:"Pin",abstractKey:null};t.hash="e9f1e0adefbc64e46ae0d9f836929d13",e.exports=t},30755:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinFeaturedInArticleCard_pin",selections:[{alias:null,args:null,concreteType:"TodayArticleWithPath",kind:"LinkedField",name:"relatedArticle",plural:!1,selections:[{alias:"_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mainImageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"urlPath",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="a7aa8ca2a9aab89cbe065401dfa9e30d",e.exports=t},394384:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipeRating_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"serves",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="0cd4ab994109a00e8277b7cf95fc202d",e.exports=t},189333:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},t],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="0399d1e5d3138c8784dabc45eac4492b",e.exports=n},319430:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinnerSavedRepWithFavorites_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoriteUserCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},{args:null,kind:"FragmentSpread",name:"ActivityAvatar_user"}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="8062eef6d3bbedeba6bbecf751e919f8",e.exports=t},329933:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinnerSavedRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{args:null,kind:"FragmentSpread",name:"ActivityAvatar_user"}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="92a3717152dce37e8b80c4956334c4be",e.exports=t},57174:function(e){"use strict";var t,n,r=(n=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductCommentsAccordion_pin",selections:[t,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null});r.hash="7b93dc8732e3dc9764f0322a05c18386",e.exports=r},319461:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescriptionDropdown_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{args:null,kind:"FragmentSpread",name:"useStructuredDescriptionFragment_pin"}],type:"Pin",abstractKey:null};t.hash="e49c269bff73cba5691f5113b6f00759",e.exports=t},998480:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],type:"Pin",abstractKey:null};t.hash="cce8a8d5ad05c8e6c1137bf7c8845c2a",e.exports=t},272882:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModules_pin",selections:[{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedModule_pin"}],type:"Pin",abstractKey:null};t.hash="7aed377f365708b0fcaeff994b737233",e.exports=t},599891:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null};n.hash="bf457755a01d1f31fd242e966ff3d6a3",e.exports=n},498006:function(e){"use strict";var t,n,r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetails_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isMerchant",storageKey:null}],storageKey:null},n,r={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[n,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},t,{args:null,kind:"FragmentSpread",name:"useStructuredDescriptionFragment_pin"},{args:null,kind:"FragmentSpread",name:"ProductPrice_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviews_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"}],type:"Pin",abstractKey:null};i.hash="8da55c30ecd63040c01f96b3ca18ce77",e.exports=i},82639:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductHeading_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};n.hash="20bd5f77ed00d817dd05c61ec8903627",e.exports=n},346154:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsCollapsible_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],type:"Pin",abstractKey:null};t.hash="a663d52f0626cc8887103d9e1a8a78c2",e.exports=t},987557:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsModal_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="a942edb09f07e93186cbbfed0b8031a7",e.exports=t},762183:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsPreview_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="25e031a9439a0eef8418850148f49a45",e.exports=t},460930:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviews_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductReviewsCollapsible_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviewsPreview_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviewsModal_pin"}],type:"Pin",abstractKey:null};t.hash="c2f4c93600298edcacdd3b6d3a62ab79",e.exports=t},895292:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SavedInfo_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinnerSavedRepWithFavorites_pin"},{args:null,kind:"FragmentSpread",name:"PinnerSavedRep_pin"}],type:"Pin",abstractKey:null};t.hash="4de535e98e005c309ad3665868be32ce",e.exports=t},267078:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SavedToText_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="726966a5dc7cf7fa52c9cdb9ab829535",e.exports=t},583780:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null};t.hash="8d0233fe1acbc77ec2b5a1754e0a6e36",e.exports=t},828573:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShopButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};n.hash="df0a097a90a64ae62aef70983add61fc",e.exports=n},286286:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStelaUrlWithLargestStelaObject_pin"}],type:"Pin",abstractKey:null};t.hash="8f5a1016117d8ba33bcd13e6842ad7f2",e.exports=t},137937:function(e){"use strict";var t,n,r,i,o,a,l,s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StatusPinCloseup_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:n=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thirdPartyPinOwner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isNative",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"VideoStatusMessage",kind:"LinkedField",name:"videoStatusMessage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"closeup",storageKey:null}],storageKey:null},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a=[r={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageOrig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"orig")'},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[t,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:l=[i,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},o,r,{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:l,storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"TitleDesktop_pin"},{args:null,kind:"FragmentSpread",name:"CreatorCard_pin"},{args:null,kind:"FragmentSpread",name:"DeprecatedMaybeLinkAndDescription_pin"},{args:null,kind:"FragmentSpread",name:"LinkModule_pin"}],type:"Pin",abstractKey:null};s.hash="5af1979277303dfe8a551419e5550fa6",e.exports=s},667719:function(e){"use strict";var t,n,r={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StelaOnIdeaPinPermissionQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetCurrentUserHandlerQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[t={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"ipStelaRecDisabled",storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],type:"V3GetCurrentUserHandler",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"StelaOnIdeaPinPermissionQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetCurrentUserHandlerQuery",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[n,t,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null}],type:"V3GetCurrentUserHandler",abstractKey:null}],storageKey:null}]},params:{id:"2653a6ed13b2a48a0adbce54781b1b88b025b8bd93a112b8a0bd15da606dcbe9",metadata:{},name:"StelaOnIdeaPinPermissionQuery",operationKind:"query",text:null}};r.hash="c061d1400492f868408772f86f659738",e.exports=r,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(r)},360980:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinBlock_pin",selections:[{args:null,kind:"FragmentSpread",name:"StoryPinStickerBlockCloseup_pin"}],type:"Pin",abstractKey:null};t.hash="8bb1bb1f7bafeed0fe43bed44ef12d2a",e.exports=t},884884:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinStickerBlockCloseup_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="7e8d917850c8329247291df0d281a59b",e.exports=t},282167:function(e){"use strict";var t={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"StructuredFeedStoryModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"CarouselModule_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};t.hash="058a61f5e0b72dbde337960de273d6a5",e.exports=t},585535:function(e){"use strict";var t,n,r,i,o,a,l=(n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TitleDesktop_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[r],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:a=[o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:a,storageKey:null},n,{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinFormattedLink_pin"},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null});l.hash="9ac463833fbbecaad575cecb972a22e0",e.exports=l},875666:function(e){"use strict";var t={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};t.hash="ef57e3f96ab6a0ba7ea79d9d2bb3c326",e.exports=t},951193:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UserRep_pin",selections:[{args:null,kind:"FragmentSpread",name:"FollowButton_pin"}],type:"Pin",abstractKey:null};t.hash="3aa915f8ddd58c7ab54f435ed3309484",e.exports=t},445418:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null};t.hash="594237c2ea6ccfb8bbc0e3e8c62cac9f",e.exports=t},353070:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseFullBleedModal_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="2e464db34007ea4c1c0752bf62bbb542",e.exports=t},175322:function(e){"use strict";var t,n,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},n,{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null};r.hash="dda341dce5f1fa956d1837dec35496de",e.exports=r},732993:function(e){"use strict";var t,n,r,i,o,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualContext_pin",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:i,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o=[r,t,n],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};a.hash="60b57e9ec455f3763a979eb6ecd5075a",e.exports=a},434444:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="35075da6e1f4b526ac4314727015c44d",e.exports=t},169310:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useBuildCloseupImageOverlayProps_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="811469a9a8a3e71ca52c5aa271c3248d",e.exports=n},635272:function(e){"use strict";var t,n,r={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCountriesDropdownQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetCountriesListQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,concreteType:"CountryModel",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:"key",args:null,kind:"ScalarField",name:"countryCode",storageKey:null},{alias:"name",args:null,kind:"ScalarField",name:"countryName",storageKey:null}],storageKey:null}],type:"V3GetCountriesList",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useCountriesDropdownQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetCountriesListQuery",plural:!1,selections:[t,{kind:"InlineFragment",selections:[n],type:"V3GetCountriesList",abstractKey:null}],storageKey:null}]},params:{id:"4414c8c73f9ddd04d554cbd197fa0897831506786c6c9444566c6f9f1e7bd956",metadata:{},name:"useCountriesDropdownQuery",operationKind:"query",text:null}};r.hash="14c2938e5956122b721c8527aca8049e",e.exports=r,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(r)},172767:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCreatorRecsPrevStateCloseup_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"showSuggestedCreatorRecs",storageKey:null}]}],type:"Pin",abstractKey:null};t.hash="a1f87ab2b8198cdc7fd8fc3cdaa872f0",e.exports=t},150148:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetFeedbackType_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:t,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="09058e2c22f768d113516b357e48e9cd",e.exports=n},544819:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetMainPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};n.hash="3ecf70d7e25decf88c7b8bafd5993b03",e.exports=n},469656:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetNormalizedPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};n.hash="3d7a6d04f923d00acfb2887f852aea16",e.exports=n},317071:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStelaUrlWithLargestStelaObject_pin",selections:[{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"}],type:"Pin",abstractKey:null};t.hash="93be9368e70d087bc7ea24af201598f9",e.exports=t},124495:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdpPlus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="75e0e2c4ba4bc9bcf9a593eacb51e671",e.exports=n},261679:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleBackButtonClick_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="efee9cd30f69b524ed9920746ed65ceb",e.exports=n},924080:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleTitleClick_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="2eb6a7a4cf67ae04de84ac1b2b5e2715",e.exports=t},299879:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsBoardOwnerOrCollaborator_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null};n.hash="120c47eff2cf4911de716b514608718f",e.exports=n},174426:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsGroupBoard_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="72582aa208f6837fe96ba824d0271616",e.exports=t},270643:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useLogSwipe_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="dbfca9820e0aa1302554a0137a270b16",e.exports=t},669961:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMediaContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:t=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null}],storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null}],type:"Pin",abstractKey:null};n.hash="c13dec96eea8a9871be973ff4770d70b",e.exports=n},939234:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinFormattedLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null};t.hash="1380cc65fb1c2132004a18dee261602e",e.exports=t},927894:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinHasProducts_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="e1f413e0ba2f9031ea605d85baa14a4b",e.exports=t},982182:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useReactionCountsFragment_pin",selections:[{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="11d828252f89045bc37e6aa5eb3fbea6",e.exports=t},721538:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStructuredDescriptionFragment_pin",selections:[{alias:null,args:null,concreteType:"FormattedCloseupDescription",kind:"LinkedField",name:"formattedCloseupDescription",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:"stringContent",args:null,kind:"ScalarField",name:"content",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"DescriptionString",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:"pointsContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionPoints",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:"specsContent",args:null,concreteType:"DescriptionSpecDetail",kind:"LinkedField",name:"content",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],type:"DescriptionSpecs",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:"tableContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionTable",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="be1864520883fcc12e69e99c1323d274",e.exports=n},974562:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/promote"]=function(){return n(916470).Z}},994608:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{CA:function(){return o},Gv:function(){return i},k5:function(){return a}});var i=function(e){var t=e.orbacSubjectId,n=e.pinIsRepin,r=e.pinPinnerId,i=e.viewerId,o=e.viewerIsPartner;return!n&&!!o&&[i,t].includes(r)},o=function(e,t){return!!e&&!e.insufficient_data_response&&!!e.results&&e.results.length>0&&t.checkExperiment("trends_personalization_features").anyEnabled},a=function(e,t){if(!e)return e;var n=((function(e){if(Array.isArray(e))return r(e)})(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter(function(e){var t;return!!(null!==(t=e.mom_change)&&void 0!==t&&t.roundedPercentChange)&&e.mom_change.roundedPercentChange>0});return n.length<=t?n:Array(t).fill(1).map(function(){var e=Math.floor(Math.random()*n.length);return n.splice(e,1)[0]})}},832654:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(349700);function i(e){var t=e.altText,n=e.autoAltText,i=e.i18n,o=e.checkExperiment,a=t?(0,r.nk)(i._('This contains: {{ altText }}', 'web.altText', 'Alt text input by a human'),{altText:t}).join(""):"",l=n?(0,r.nk)(i._('This may contain: {{ autoAltText }}', 'web.altText', 'Alt text generated by a computer'),{autoAltText:n}).join(""):"";if(o){var s=n&&o("web_mk_alt_text",{dangerouslySkipActivation:!0}).group;if(["control","enabled"].includes(s)&&o("web_mk_alt_text"),["enabled","employees"].includes(s))return l||"";if(["control","pwt_off","pwt_on"].includes(s))return a||""}return a||l||""}},105265:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}}),n(704217);var r,i=n(908390),o=n(356997),a=n(916117),l=n(515198),s=void 0!==r?r:r=n(353499);function u(e){var t,n=e.userKey,r=e.size,u=e.hasOutline,c=(0,a.u)(s,n).data;if(!c)return null;var d=c.firstName,p=c.imageMediumUrl,f=null!==(t=c.username)&&void 0!==t?t:"";return(0,l.jsx)(i.Tg,{rounding:"circle",href:"/".concat(f,"/"),children:(0,l.jsx)(o.qE,{size:void 0===r?"md":r,src:null!=p?p:"",name:d||f||"",outline:u})})}},182750:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(76911),i=n(845620),o=n.n(i),a=n(610248),l=n(908390),s=n(595371),u=n(954931),c=n(89254),d=n(515198);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(r.key),r)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=new(o());h.tlds(a),h.add("#",{validate:function(e,t,n){var r=e.slice(t);return(n.re.hashtag||(n.re.hashtag=RegExp("^([a-zA-Z0-9_]){1,15}(?!_)(?=$|"+n.re.src_ZPCc+")")),n.re.hashtag.test(r))?(!(t>=2)||"#"!==r[t-2])&&r.match(n.re.hashtag)[0].length:0},normalize:function(e){e.url="https://pinterest.com/search/pins/?q=".concat(encodeURIComponent(e.text),"&rs=").concat(s.i.HASHTAG_PINREP)}});var g=function(e){var t=e.decoratedHref,n=e.decoratedText,r=e.index,i=e.isTrusted;return(0,d.jsx)(l.rU,{href:t,onClick:function(e){e.event.stopPropagation()},target:i?null:"blank",children:n},r)},v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(a,e);var t,n,i,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=y(a);if(t){var r=y(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return n=[{key:"parseString",value:function(e){if(""===e)return e;var t=h.match(e);if(!t)return e;var n=[],r=0;return t.forEach(function(t,i){t.index>r&&n.push(e.substring(r,t.index));var o=t.url,a=(0,u.Z)(t.url)&&!t.url.match(/help.pinterest/g);if(a){var l=(0,c.Z)(t.url);o=o.replace(l.origin,"")}var s=t.text,p=(0,d.jsx)(g,{decoratedHref:o,decoratedText:s,index:i,isTrusted:a});n.push(p),r=t.lastIndex}),e.length>r&&n.push(e.substring(r)),1===n.length?n[0]:n}},{key:"parse",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"==typeof e?this.parseString(e):(0,r.isValidElement)(e)&&"a"!==e.type&&"button"!==e.type?(0,r.cloneElement)(e,{key:n},this.parse(e.props.children)):Array.isArray(e)?e.map(function(e,n){return t.parse(e,n)}):e}},{key:"render",value:function(){return(0,d.jsx)("span",{children:this.parse(this.props.children)})}}],f(a.prototype,n),i&&f(a,i),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.PureComponent)},986644:function(e,t,n){"use strict";n.d(t,{A7:function(){return i},YD:function(){return o},lr:function(){return r}});var r=170,i=function(e,t,n){var r=new Date(e);return 60>Math.floor((new Date().getTime()-r.getTime())/1e3)?t._('now', 'timestamp for a comment or post that was created within the last minute', 'timestamp for a comment or post that was created within the last minute'):n(e,!0)},o=function(e){var t=e.first_name||e.full_name||e.username;return t&&t.length>60?t.substring(0,60).trim().concat("..."):t}},283855:function(e,t,n){"use strict";n.d(t,{K:function(){return a},Q:function(){return o}});var r=n(76911),i=(0,r.createContext)(null),o=i.Provider;function a(){var e=(0,r.useContext)(i);return null==e?void 0:e.featuredCommentId}},964569:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r,i=n(506979),o=n(214494),a=n(139405),l=n(664569),s=n(600147),u=n(956800),c=n(274415),d=n(492583);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function y(e,t,n){var r;return(r=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===p(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=(y(r={},l.o.aggregatedComment,"AggregatedCommentReplyResource"),y(r,l.o.pin,"AggregatedCommentResource"),y(r,l.o.didIt,"DidItCommentsResource"),r);function g(){var e,t,n=(0,i.useDispatch)(),r=(0,a.nf)(),l=r.aggregatedCommentCreated,p=r.updateCommentCount;return e=regeneratorRuntime.mark(function e(t){var r,i,a,m,g,v,b,_,x,P,S,j,w,O,A;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0===(r=t.force)||r,a=t.fromUnifiedComment,m=t.objectId,g=t.objectType,v=t.orbacSubjectId,b=t.pinId,_=t.replyToCommentId,x=t.tags,P=t.text,S=h[g],j=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({force:i,objectId:m,pinId:b,tags:x,text:P,replyToCommentId:_},v?{orbacSubjectId:v}:{}),w=d.Z.AGGREGATED_COMMENTS,a&&(w="pin"===g?d.Z.UNIFIED_COMMENTS:d.Z.AGGREGATED_COMMENT_REPLIES),e.next=7,o.Z.create(S,j).callCreate({showError:!1});case 7:return A=(O=e.sent).resource_response.data,l(m,A),n((0,u.vX)({feedType:w,feedId:m,itemIds:[A.id],itemType:A.type,prepend:!0})),"pin"===g&&b?n((0,c.R)(b,1)):"aggregatedComment"===g?p(m,1):n((0,s.L8)(m,1)),e.abrupt("return",A.id||O);case 13:case"end":return e.stop()}},e)}),t=function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){m(o,r,i,a,l,"next",e)}function l(e){m(o,r,i,a,l,"throw",e)}a(void 0)})},function(e){return t.apply(this,arguments)}}},28754:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(506979),i=n(214494),o=n(541776),a=n(139405),l=n(600147),s=n(956800),u=n(274415),c=n(492583);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function m(){var e,t,n=(0,r.useDispatch)(),m=(0,a.nf)(),y=m.aggregatedCommentDeleted,h=m.updateCommentCount;return e=regeneratorRuntime.mark(function e(t){var r,a,f,m,g,v,b,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.aggregatedCommentId,a=t.aggregatedPinId,f=t.feedType,m=t.orbacSubjectId,g=t.parentId,v=t.type,b=t.updateParentCommentCount,_=t.pinId,e.next=3,i.Z.create("AggregatedCommentResource",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({commentId:r},m?{orbacSubjectId:m}:{})).callDelete({showError:!1});case 3:g&&(n((0,s.EX)({feedId:a||g,feedType:f||c.Z.AGGREGATED_COMMENTS,itemIds:[r],itemType:"aggregatedcomment"})),y(g,r),b&&(v||0===v)&&(v===o.Rv.TOP&&_?n((0,u.R)(_,-1)):v===o.Rv.REPLY_TO_AGGREGATED?h(g,-1):n((0,l.L8)(g,-1))));case 4:case"end":return e.stop()}},e)}),t=function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){f(o,r,i,a,l,"next",e)}function l(e){f(o,r,i,a,l,"throw",e)}a(void 0)})},function(e){return t.apply(this,arguments)}}},536237:function(e,t,n){"use strict";n.d(t,{Z:function(){return $}});var r,i,o=n(76911),a=n(506979);n(704217);var l=n(908390),s=n(407043),u=n(319915),c=n(701500),d=n(782296),p=n(273213),f=function(e,t,n){var r=(0,p.B)(e);switch(r.type){case"deprecated":return t;case"graphqlRef":var i=(0,d.useRelayEnvironment)();return function(e){return(0,d.commitLocalUpdate)(i,function(t){return n(t,e)})};default:throw r.type,Error("Unexpected case")}},m=n(916117),y=n(898781),h=n(615568),g=n(947599),v=n(19121),b=n(784590),_=n(349700),x=n(829407),P=n(356997),S=n(694379),j=n(142103),w=n(777906),O=n(515198),A=function(e){var t=e.creatorData,n=e.onTap,r=e.onUserFollow,i=(0,y.ZP)(),o=(0,v.Z)(),a=t||{},s=a.explicitly_followed_by_me,u=a.follower_count,c=void 0===u?0:u,d=a.full_name,p=a.id,f=a.image_medium_url,m=a.username,h=a.verified_identity,g=a.is_verified_merchant;return(0,O.jsx)(l.sg,{span:4,children:(0,O.jsxs)(l.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:1,dangerouslySetInlineStyle:{__style:{padding:"0px 2px"}},children:[(0,O.jsx)(l.Tg,{href:"/".concat(m,"/"),onTap:function(){return n(p)},children:(0,O.jsxs)(l.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,O.jsx)(l.xu,{width:60,height:60,children:(0,O.jsx)(P.qE,{name:null!=d?d:"",size:"fit",src:null!=f?f:"",verified:!1})}),(0,O.jsxs)(l.xu,{paddingY:2,marginBottom:1,children:[(0,O.jsx)(l.xu,{marginBottom:1,children:(0,O.jsx)(l.xv,{align:"center",lineClamp:1,size:"100",weight:"bold",children:h||g?(0,O.jsx)(w.Z,{badgeSize:"xs",badgeSpacing:2,fullName:null!=d?d:"",identityIsVerified:null==h?void 0:h.verified,isVerifiedMerchant:g}):d})}),(0,O.jsx)(l.xv,{align:"center",size:"100",children:(0,_.nk)(i.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', c, 'suggestedCreatorRep.creator.followerCount', 'the number of followers the user has'),{followerCount:(0,O.jsx)(S.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:c},c)})})]})]})}),(0,O.jsx)(j.Z,{fullName:d,id:p,imageUrl:f,isOwnProfile:o.isAuth&&o.id===p,profileUrl:"/".concat(m,"/"),userFollowed:s,onUserFollow:function(e){return r({userIsNowFollowing:e,creatorId:p})},isSecondaryButton:!0,size:"sm",shouldStopEventPropagation:!0,viewType:3,viewParameter:156})]})})};function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==k(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===k(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E=function(e){var t=e.creatorRecs,n=e.fullName,r=e.pinId,i=e.viewParameter,o=e.viewType,a=(0,s.v)().logContextEvent,u=(0,y.ZP)();(0,x.Z)(function(){a({event_type:13,component:13891,view_parameter:i,view_type:o,aux_data:D({},r?{pin_id:r}:{})})});var c=function(e){a({event_type:101,component:13891,view_parameter:i,view_type:o,object_id_str:e,aux_data:D({},r?{pin_id:r}:{})})},d=function(e){var t=e.userIsNowFollowing,n=e.creatorId;t?a({event_type:45,component:13891,object_id_str:n,view_parameter:i,view_type:o,aux_data:D({},r?{pin_id:r}:{})}):a({event_type:46,component:13891,object_id_str:n,view_parameter:i,view_type:o,aux_data:D({},r?{pin_id:r}:{})})};return(0,O.jsx)(l.xu,{minWidth:432,paddingY:4,children:(0,O.jsxs)(l.xu,{borderStyle:"shadow",paddingX:5,paddingY:4,rounding:4,children:[n&&(0,O.jsx)(l.X6,{align:"center",size:"300",children:(0,_.nk)(u._('More like {{creatorName}}', 'suggestedCreatorRecs.title', 'Users like the one just followed. creatorName: the creator\'s name'),{creatorName:n})}),(0,O.jsx)(l.xu,{display:"flex",justifyContent:"between",marginTop:4,width:"100%",children:t.map(function(e){return(0,O.jsx)(A,{creatorData:e.user,onTap:c,onUserFollow:d},e.user_id)})})]})})},I=["creatorrecommendationitem.user_id","creatorrecommendationitem.user()","user.explicitly_followed_by_me","user.id","user.follower_count","user.full_name","user.image_medium_url","user.username","user.verified_identity","user.is_verified_merchant"],T=function(e){var t=e.fullName,n=e.id,r=e.numCreatorsToShow,i=void 0===r?3:r,o=e.pinId,a=e.viewParameter,l=e.viewType,s=(0,b.Z)({name:"ApiResource",options:{url:"/v3/orientation/nux_creator_recommendations/",data:{fields:I.join(","),page_size:i,referrer:4,target_user:n}}});if(!s.isLoaded||!(s.data&&s.data.length===i))return null;var u=s.data||[];return(0,O.jsx)(E,{creatorRecs:u,fullName:t,pinId:o,viewParameter:a,viewType:l})},R=n(558068),F=void 0!==r?r:r=n(172767),L=function(e){var t=!!((i=(r=(0,R.Hv)().forward)&&r.length>0&&r[0].match&&r[0].match.path?r[0].match.path:null)&&i.includes("/:username")),n=(0,m.u)(F,e).data;if(!t||!n)return{creatorRecsPrevState:!1};var r,i,o,a=!!n.promotedIsLeadAd,l=(null===(o=n.richSummary)||void 0===o?void 0:o.typeName)==="product";return{creatorRecsPrevState:!!n&&!a&&!l&&!!n.showSuggestedCreatorRecs}},z=n(312918),M=n(447948);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(t){G(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function K(e,t){return(K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function H(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,n){return(t=W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){var t=function(e,t){if("object"!==B(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==B(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===B(t)?t:String(t)}var q=void 0!==i?i:i=n(56354),Y=(0,o.lazy)(function(){return Promise.all([n.e(12058),n.e(5147),n.e(30548)]).then(n.bind(n,188814))}),X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}(a,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=V(a);if(t){var r=V(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return H(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return G(H(e=i.call.apply(i,[this].concat(n))),"state",{shouldShowCreatorRecs:e.props.suggestedCreatorRecsPrevState,user:e.props.officialUser}),G(H(e),"anchorElementRef",(0,o.createRef)()),G(H(e),"handleNavigateAndLog",function(t,n){var r,i,o,a,l,s,u,c,d=e.props.pin,p=!!d.storyPinDataId;t===n?e.props.logContextEvent(Z(Z({event_type:101,element:13382,view_type:e.viewType,view_parameter:e.viewParameter},p?{component:230}:Object.freeze({})),{},{object_id_str:d.entityId,aux_data:Z({pin_id:d.entityId,creator_id:null===(r=d.sponsorship)||void 0===r?void 0:null===(i=r.creator)||void 0===i?void 0:i.creatorId,aop_origin:"CreatorCard"},p?{story_pin_template_type:null===(o=d.storyPinData)||void 0===o?void 0:null===(a=o.metadata)||void 0===a?void 0:a.templateType}:{})})):e.props.logContextEvent(Z(Z({event_type:101,view_type:e.viewType,view_parameter:e.viewParameter,element:11619},p?{component:230}:Object.freeze({})),{},{object_id_str:d.entityId,aux_data:Z({pin_id:d.entityId,creator_id:null===(l=d.sponsorship)||void 0===l?void 0:null===(s=l.creator)||void 0===s?void 0:s.creatorId},p?{story_pin_template_type:null===(u=d.storyPinData)||void 0===u?void 0:null===(c=u.metadata)||void 0===c?void 0:c.templateType}:{})}))}),G(H(e),"handleNavigateAndLogSponsorClick",function(){var t,n,r,i,o=e.props.pin,a=o.entityId,l=null===(t=o.sponsorship)||void 0===t?void 0:null===(n=t.creator)||void 0===n?void 0:n.creatorId,s=null===(r=o.sponsorship)||void 0===r?void 0:null===(i=r.sponsor)||void 0===i?void 0:i.sponsorId,u=!!o.storyPinDataId;l&&s&&e.props.logContextEvent(Z(Z({event_type:101,view_type:e.viewType,view_parameter:e.viewParameter,element:11619},u?{component:230}:Object.freeze({})),{},{object_id_str:a,aux_data:{pin_id:a,creator_id:l,sponsor_id:s}}))}),G(H(e),"handleUserFollow",function(t,n){var r=e.props,i=r.setShowSuggestedCreatorRecs,o=r.pin,a=o.entityId,l=o.doneByMe,s=r.clientTrackingParams;a.length,n?(e.props.logContextEvent({event_type:45,view_type:e.viewType,view_parameter:e.viewParameter,object_id_str:t,view_data:{isCurrentUser:l,viewObjectId:a,viewObjectIdStr:a},aux_data:{pin_id:a},clientTrackingParams:s}),e.setState({shouldShowCreatorRecs:!0}),i()):e.props.logContextEvent({event_type:46,view_type:e.viewType,view_parameter:e.viewParameter,object_id_str:t,aux_data:{pin_id:a},clientTrackingParams:s})}),e}return n=[{key:"viewType",get:function(){return this.props.viewType||3}},{key:"viewParameter",get:function(){return this.props.viewParameter||156}},{key:"render",value:function(){var e,t,n,r,i,o,a,s,d,p,f,m,y=this,h=this.state.user;if(!h)return(0,O.jsx)(l.xu,{});var v=this.props,b=v.pin,_=v.viewerUserId,x=v.isORBACProfileManager,P=v.clientTrackingParams,S=h.full_name,w=h.follower_count,A=h.id,k=h.image_medium_url,C=h.is_verified_merchant,D=h.username,E=!!(null===(e=h.verified_identity)||void 0===e?void 0:e.verified),I=!!b.promotedIsLeadAd,R=(null===(t=b.richSummary)||void 0===t?void 0:t.typeName)==="product",F=!!(!I&&!R&&this.state.shouldShowCreatorRecs),L=!!_&&_===A,M=null!==(n=b.pinner)&&void 0!==n&&n.isAdsOnlyProfile&&b.pinner.adsOnlyProfileSite?b.pinner.adsOnlyProfileSite:"/".concat(D,"/");return(0,O.jsx)(l.xu,{position:"relative",children:(0,O.jsxs)(l.xu,{children:[(0,O.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,O.jsx)(l.xu,{flex:"grow",children:(0,O.jsx)(z.Z,{followerCount:w,fullName:S,imageUrl:k,hasVerifiedIdentity:E,isVerifiedMerchant:C,isPromoted:!!(b.promoter&&b.isPromoted),onNavigateClick:function(){var e;return y.handleNavigateAndLog(M,null===(e=b.pinner)||void 0===e?void 0:e.adsOnlyProfileSite)},onNavigateSponsorClick:this.handleNavigateAndLogSponsorClick,profileUrl:M,sponsorName:null!==(r=null===(i=b.sponsorship)||void 0===i?void 0:null===(o=i.sponsor)||void 0===o?void 0:o.fullName)&&void 0!==r?r:"",sponsorshipStatus:null===(a=b.sponsorship)||void 0===a?void 0:a.status,sponsorUsername:null!==(s=null===(d=b.sponsorship)||void 0===d?void 0:null===(p=d.sponsor)||void 0===p?void 0:p.username)&&void 0!==s?s:"",openNewTab:M===(null===(f=b.pinner)||void 0===f?void 0:f.adsOnlyProfileSite)})}),!x&&(b.promoter&&b.isPromoted?(0,O.jsx)(u.Z,{name:"SafeSuspense_CreatorCard_LegacyPinFeedbackButton",children:(0,O.jsx)(g.Z,{children:(0,O.jsx)(Y,{ad_match_reason:b.adMatchReason,board:b.board&&{entityId:b.board.entityId,imageThumbnailUrl:b.board.imageThumbnailUrl,name:b.board.name,url:b.board.url},pinId:b.entityId,pinner:b.pinner&&{explicitlyFollowedByMe:b.pinner.explicitlyFollowedByMe,entityId:b.pinner.entityId,fullName:b.pinner.fullName,imageSmallUrl:b.pinner.imageSmallUrl,username:b.pinner.username},promoter:b.promoter&&{fullName:b.promoter.fullName,username:b.promoter.username},isPromoted:!!b.promoter&&b.isPromoted,recommendationReason:b.recommendationReason&&{board:b.recommendationReason.board&&{entityId:b.recommendationReason.board.entityId,name:b.recommendationReason.board.name,url:b.recommendationReason.board.url},reason:b.recommendationReason.reason,reasonId:b.recommendationReason.reasonId,throughProperties:null===(m=b.recommendationReason.throughProperties)||void 0===m?void 0:m.map(function(e){return{data:e.data,key:e.key}})},sourceInterest:b.sourceInterest&&{entityId:b.sourceInterest.entityId,name:b.sourceInterest.name,urlName:b.sourceInterest.urlName},viewType:this.viewType})})}):(0,O.jsx)(l.xu,{flex:"none",children:(0,O.jsx)(l.xu,{children:!L&&(0,O.jsx)(c.Z,{anchor:".followButton",anchorElementRef:this.anchorElementRef.current,children:(0,O.jsx)(l.xu,{ref:this.anchorElementRef,children:(0,O.jsx)(j.Z,{button:function(e){var t=e.followText,n=e.onClick,r=e.userFollowed;return(0,O.jsx)(l.xu,{"data-test-id":"user-".concat(r?"unfollow":"follow","-button"),children:(0,O.jsx)(l.zx,{fullWidth:!0,accessibilityLabel:r?y.props.i18n._('Following', 'creatorCard.followingButton.accessibilityLabel', 'Label to indicate this button as the following button'):y.props.i18n._('Follow', 'creatorCard.followButton.accessibilityLabel', 'Label to indicate this button as the follow button'),onClick:n,size:"lg",text:t,selected:!!r})})},fullName:S,id:A,imageUrl:k||"",inline:!0,isOwnProfile:L,onUserFollow:function(e){return y.handleUserFollow(A,e)},profileUrl:M,size:"md",viewType:this.viewType,viewParameter:this.viewParameter,clientTrackingParams:P})})})})}))]}),F&&(0,O.jsx)(l.xu,{marginStart:1,marginEnd:1,children:(0,O.jsx)(T,{fullName:S,id:A,pinId:b.entityId,viewType:this.viewType,viewParameter:this.viewParameter})})]})})}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.officialUser;if(n&&n!==t.user)return Z(Z({},t),{},{user:n});var r=e.suggestedCreatorRecsPrevState;return r&&!t.shouldShowCreatorRecs?Z(Z({},t),{},{shouldShowCreatorRecs:r}):null}}],n&&U(a.prototype,n),r&&U(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(o.PureComponent),$=(0,h.Z)(function(e){var t=(0,s.v)().logContextEvent,n=(0,y.ZP)(),r=(0,m.u)(q,e.input).data,i=(0,a.useDispatch)(),o=f(e.input,function(){i((0,M.Vw)(r.entityId))},function(e){var t=e.get(r.entityId);t&&t.setValue(!0,"showSuggestedCreatorRecs")}),l=(0,v.Z)(),u=L(r).creatorRecsPrevState;return(0,O.jsx)(X,Z(Z({},e),{},{pin:r,setShowSuggestedCreatorRecs:o,i18n:n,logContextEvent:t,suggestedCreatorRecsPrevState:u,viewerUserId:l.isAuth?l.id:null}))})},361259:function(e,t,n){"use strict";n.d(t,{$:function(){return m},r:function(){return y}});var r=n(76911),i=n(425288),o=n(497529),a=n(780280),l=n(829407),s=n(515198);function u(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=(0,i.Z)("PinRep"),f=p.Provider,m=p.useHook;function y(e){var t=e.children,n=(0,a.B)().isAuthenticated,i=c((0,r.useState)(!0),2),d=i[0],p=i[1],m=c((0,r.useState)(!1),2),y=m[0],h=m[1],g=(0,o.Z)(1000069);(0,l.Z)(function(){var e,t;(e=regeneratorRuntime.mark(function e(){var t,r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return p(!1),e.abrupt("return");case 3:return e.next=5,g.fetchAllExperiences();case 5:(a=e.sent)&&a.payload&&(null===(t=a.payload.experiences)||void 0===t?void 0:null===(r=t[1000069])||void 0===r?void 0:r.experience_id)===500417&&null!==(i=a.payload.experiences)&&void 0!==i&&null!==(o=i[1000069])&&void 0!==o&&o.display_data.hide_footer?g.viewExperience(1000069,500417):p(!1),h(!0);case 8:case"end":return e.stop()}},e)}),t=function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,l,"next",e)}function l(e){u(o,r,i,a,l,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)})()});var v=(0,r.useMemo)(function(){return{hasSimplifiedPinGridExpLoaded:y,hidePinRepFooter:d}},[y,d]);return(0,s.jsx)(f,{value:v,children:t})}},142725:function(e,t,n){"use strict";n.d(t,{Z:function(){return tH}});var r,i,o,a,l,s=n(506979),u=n(599689),c=n(156491),d=n(709717),p=n(76911),f=n(908390),m=n(994608),y=n(785430),h=n(258140),g=n(319247),v=n(608440),b=n(128503),_=n(874259),x=n(450053),P=n(268592),S=n(816890),j=n(127897),w=n(680333),O=n(491073),A=n(498537),k=n(481697),C=n(537313);n(704217);var D=n(616106),E=n(979588),I=n(916117),T=n(898781),R=n(733336),F=n(515198);function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var z=void 0!==r?r:r=n(57174),M=function(e){var t,n,r,i,o,a,l,s,u,c,d,m,y,h,g,v,b,_=e.isLoadingNewlyCreatedComment,x=e.pinKey,P=e.scrollContainerRef,S=e.viewParameter,j=(0,T.ZP)(),w=function(e){if(Array.isArray(e))return e}(t=(0,p.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),O=w[0],A=w[1],k=(0,I.u)(z,x).data,C=null!==(n=null===(r=k.aggregatedPinData)||void 0===r?void 0:r.commentCount)&&void 0!==n?n:0,M=null!==(i=null===(o=k.aggregatedPinData)||void 0===o?void 0:null===(a=o.didItData)||void 0===a?void 0:a.imagesCount)&&void 0!==i?i:0,B=C+M>0;return(0,F.jsx)(E.Z,{paddingY:3,topBorder:!0,children:(0,F.jsx)(R.Z,{arrowDirection:"arrow-down",content:(0,F.jsx)(D.Z,{aggregatedPinId:null===(l=k.aggregatedPinData)||void 0===l?void 0:l.entityId,closeupAttributionId:null===(s=k.closeupAttribution)||void 0===s?void 0:s.entityId,closeupAttributionUsername:null===(u=k.closeupAttribution)||void 0===u?void 0:u.username,commentCount:C,commentCountInUSM:!0,commentsDisabled:k.commentsDisabled,commentsLoadedCallback:A,isCommentSectionOpen:!0,isLoadingNewCreatedComment:_,isVideo:!!(null!==(c=k.videos)&&void 0!==c&&c.videoList),photoCount:M,pinId:k.entityId,pinnerId:null===(d=k.pinner)||void 0===d?void 0:d.entityId,scrollContainerRef:P,shouldShowHeading:!1,storyPinDataId:null===(m=k.storyPinData)||void 0===m?void 0:m.entityId,viewParameter:S}),header:j._('Comments', 'productComments.accordionHeader.text', 'text in tap area to open product comments panel'),isCollapsible:(null!==(y=null===(h=k.aggregatedPinData)||void 0===h?void 0:h.commentCount)&&void 0!==y?y:0)+(null!==(g=null===(v=k.aggregatedPinData)||void 0===v?void 0:null===(b=v.didItData)||void 0===b?void 0:b.imagesCount)&&void 0!==g?g:0)>0,isContentLoaded:O,isOpenByDefault:B,previewContent:B?void 0:(0,F.jsx)(f.xv,{size:"200",children:j._('No comments yet! Add one to start the conversation.', 'commentThread.emptyState.message', 'comment thread empty state message')}),shouldToggleOnBodyTap:!1})})},B=n(407043),N=n(865607);function Z(e){var t=e.clickable,n=e.fontWeight,r=e.getDisplayName,i=e.onMouseDown,o=e.user,a=(0,u.useHistory)(),l=(0,B.v)().logContextEvent,s=o.is_verified_merchant,c=o.full_name,d=void 0===c?"":c,p=o.verified_identity,m=o.username,y=void 0===m?"":m,h=o.is_ads_only_profile,g=o.ads_only_profile_site,v=s||(null==p?void 0:p.verified),b=(0,F.jsx)(f.xu,{onMouseDown:function(){i&&i()},children:(0,F.jsx)(f.xv,{size:"300",lineClamp:1,weight:void 0===n?"normal":n,children:r?r(d):d})});return void 0===t||t?(0,F.jsxs)(f.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,F.jsx)(f.xu,{children:h&&g?(0,F.jsx)(f.Tg,{rel:"nofollow",target:"blank",href:g||"",onTap:function(){l({event_type:9371,element:13382,aux_data:{aop_origin:"OfficialUserAttributionText"}})},children:b}):(0,F.jsx)(f.iP,{onTap:function(){a.push("/".concat(y,"/"))},children:b})}),v&&(0,F.jsx)(f.xu,{marginStart:2,children:(0,F.jsx)(N.Z,{isVerifiedMerchant:s,hasVerifiedIdentity:null==p?void 0:p.verified,size:"sm"})})]}):b}var U=n(641950),K=n(413614),H=n(287072),V=n(215292);function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var W=void 0!==i?i:i=n(82639);function q(e){var t,n=e.enableDynamicSizeAdjustment,r=e.link,i=e.pinKey,o=e.text,a=e.onClickThrough,l=e.trackingParamsMap,s=(0,I.u)(W,i).data,u=(0,p.useRef)(null),c=function(e){if(Array.isArray(e))return e}(t=(0,p.useState)("500"))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=c[0],m=c[1],y=(0,H.Z)({href:r||"",externalData:{pin:s&&{attributionSourceId:s.attributionSourceId,board:s.board&&{url:s.board.url},campaignId:s.campaignId,entityId:s.entityId,isDownstreamPromotion:s.isDownstreamPromotion,isPromoted:s.isPromoted,pinner:s.pinner&&{username:s.pinner.username},pinPromotionId:s.pinPromotionId,promoter:s.promoter&&{entityId:s.promoter.entityId},storyPinDataId:s.storyPinDataId,trackingParams:s.trackingParams,trackingParamsMap:l,advertiserId:s.advertiserId}}}),h=(0,F.jsx)(f.xu,{ref:u,children:(0,F.jsx)(f.X6,{id:"product-heading",size:d,children:o})});return(0,p.useEffect)(function(){if(u&&u.current&&n){var e=u.current.querySelector("#product-heading");if(e){var t=Number(e.offsetHeight)||0;Number.isFinite(t)&&m(2>=Math.floor(t/33)?"500":"400")}}},[n,u]),(0,F.jsx)(V.q,{children:function(e){var t=e.hovered,n=e.onMouseEnter,i=e.onMouseLeave;return(0,F.jsx)(K.Z,{hovered:t,pinKey:s,trackingParamsMap:l,viewType:3,children:(0,F.jsx)(f.xu,{onMouseEnter:n,onMouseLeave:i,children:r?(0,F.jsx)(f.xu,{"data-test-id":"link-navigation",children:(0,F.jsx)(f.xv,{children:(0,F.jsx)(f.rU,{href:r,underline:"none",onClick:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),y({event:t}),a({componentType:14284})},children:h})})}):h})})}})}var Y=n(453451),X=n(650702),$=void 0!==o?o:o=n(828573);function Q(e){var t=e.link,n=e.onClickThrough,r=e.onLoad,i=e.pinKey,o=e.text,a=e.trackingParamsMap,l=(0,I.u)($,i).data,s=(0,H.Z)({href:t,externalData:{pin:l&&{attributionSourceId:l.attributionSourceId,board:l.board&&{url:l.board.url},campaignId:l.campaignId,entityId:l.entityId,isDownstreamPromotion:l.isDownstreamPromotion,isPromoted:l.isPromoted,pinner:l.pinner&&{username:l.pinner.username},pinPromotionId:l.pinPromotionId,promoter:l.promoter&&{entityId:l.promoter.entityId},storyPinDataId:l.storyPinDataId,trackingParams:l.trackingParams,trackingParamsMap:a,advertiserId:l.advertiserId}}});return(0,p.useEffect)(function(){"function"==typeof r&&r()},[r]),(0,F.jsx)(V.q,{children:function(e){var r=e.hovered;return(0,F.jsx)(K.Z,{hovered:r,pinKey:l,trackingParamsMap:a,viewType:3,children:(0,F.jsx)(f.ZP,{color:"blue",onClick:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),n({componentType:194}),s({event:t})},size:"lg",text:o,href:t,rel:"nofollow"})})}})}var J=n(349700),ee=n(276602);function et(e){var t,n=e.richPinData,r=void 0===n?{}:n;return null==r?void 0:null===(t=r.products)||void 0===t?void 0:t[0]}var en=n(883561),er=n(999018),ei=n(19121);function eo(e){var t,n=e.priceHistorySummary,r=(0,T.ZP)(),i=n||{},o=i.durationDays,a=i.typicalPrice,l=i.lowestPrice;return Number.isInteger(o)&&(a||l)?(a?t=(0,J.nk)(r._('{{ typicalPrice }} average price last {{ durationDays }} days', 'PriceHistorySummary.typicalPriceText', 'typicalPrice: typical price (average price), durationDays: duration days'),{typicalPrice:a,durationDays:o}):l&&(t=(0,J.nk)(r._('{{ lowestPrice }} lowest price in {{ durationDays }} days', 'PriceHistorySummary.lowestPriceText', 'lowestPrice: lowest price, durationDays: duration days'),{lowestPrice:l,durationDays:o})),(0,F.jsx)(f.xu,{"data-test-id":"price-history-summary",children:(0,F.jsx)(f.xv,{children:t})})):null}var ea=n(882801);function el(e){var t,n,r,i,o,a,l=e.detailsScrollContainerRef,s=e.isBoardOwnerOrCollaborator,u=e.isLoadingNewlyCreatedComment,c=e.onClickThrough,d=e.pin,m=e.pin,y=m.closeup_attribution,h=m.closeup_unified_description,g=m.closeup_unified_title,v=m.is_oos_product,b=m.is_stale_product,_=m.link_user_website,x=m.link_domain,P=m.rich_metadata,S=e.showPDPComments,j=e.showPinNote,w=e.viewParameter,O=(0,T.ZP)(),D=(0,B.v)().logContextEvent,I=(0,ei.Z)(),R=(0,ee.E)(),L=(0,p.useCallback)(function(){R&&R.markConstraintComplete("shopButton")},[R]),z=(0,er.Z)({type:"deprecated",data:d}),N=(0,k.Z)({type:"deprecated",data:d},I),K=z({isPdpPlus:!0}),H=et({richPinData:P}),V=(null==H?void 0:H.offer_summary)||{},G=V.in_stock,W=(null==H?void 0:H.price_history_summary)||{},$=W.duration_days,el=W.lowest_price,es=W.typical_price,eu=Number.isInteger($)&&(!!el||!!es),ec=(P||{}).aggregate_rating||{},ed=ec.rating_value,ep=ec.review_count,ef=ec.rating_count,em=(H||{}).shipping_info,ey=null==_?void 0:null===(t=_.official_user)||void 0===t?void 0:t.first_name,eh=(x||{}).official_user,eg=y||eh,ev=(eg||{}).first_name,eb=(0,en.ZP)(ey||ev||"",20),e_=null==H?void 0:H.brand,ex=null==e_?void 0:e_.name,eP=null==e_?void 0:e_.user_id,eS=(null==eg?void 0:eg.id)===eP||(null==e_?void 0:e_.is_merchant),ej=!!ex,ew=(0,p.useCallback)(function(e){return e&&ej?ex!==e&&(null===eS||!1===eS)?(0,J.nk)(O._('{{ brand }} sold by {{ merchant }}', 'productmetadata.officialuserattribution.text', 'officialuserattribution text. brand:name of the brand. merchant:name of the merchant'),{brand:(0,F.jsx)(f.xv,{inline:!0,weight:"bold",children:ex},"brand-name"),merchant:(0,F.jsx)(f.xv,{inline:!0,weight:"bold",children:e},"merchant-name")}):[(0,F.jsx)(f.xv,{inline:!0,weight:"bold",children:ex},"brand-name")]:e},[ex,eS,O,ej]),eO=(h||"").trim(),eA=null!==(n=null===(r=d.formatted_description)||void 0===r?void 0:r.components)&&void 0!==n?n:[],ek=(0,ea.j)({components:eA,pinDescription:eO}),eC=d||{},eD=eC.link,eE=decodeURIComponent(eC.tracked_link||eD||""),eI=(0,C.Wp)({carouselData:d.carousel_data&&{carouselSlots:d.carousel_data.carousel_slots&&d.carousel_data.carousel_slots.map(function(e){return{domain:e.domain,link:e.link}}),index:null===(i=d.carousel_data)||void 0===i?void 0:i.index},domain:d.domain}).currentDomain.split(".")[0],eT=em||{},eR=eT.free_shipping_price,eF=eT.free_shipping_value;return(0,F.jsx)(p.Fragment,{children:(0,F.jsxs)(f.xu,{marginEnd:6,marginBottom:s||S?0:5,children:[!!g&&(0,F.jsx)(f.xu,{"data-test-id":"product-title",marginTop:4,children:(0,F.jsx)(q,{link:eE,pinKey:{type:"deprecated",data:d},text:g,onClickThrough:c,trackingParamsMap:d.tracking_params_map})},"product-title"),(0,F.jsx)(f.xu,{"data-test-id":"product-price",marginTop:2,children:(0,F.jsx)(Y.Z,{isSoldOut:v||!1===G,isStale:b,productDetails:{maxPrice:V.max_price,minPrice:V.min_price,price:V.price,standardPrice:V.standard_price},type:"pdpPlusHeading",colorOverride:"default"})},"product-price"),eu&&(0,F.jsx)(f.xu,{"data-test-id":"product-price-history-summary",marginTop:2,children:(0,F.jsx)(eo,{priceHistorySummary:{durationDays:$,lowestPrice:el,typicalPrice:es}})},"product-price-history-summary"),!!(ed&&(ep||ef)||eR&&eF)&&(0,F.jsx)(f.xu,{marginTop:3,children:(0,F.jsx)(X.Z,{bracket:!0,count:ef||ep,countType:ef?"rating":"review",countFormat:"number",hideSeparationDot:!0,ratingValue:ed,shippingInfo:{freeShippingPrice:eR,freeShippingValue:eF}})}),eg&&(0,F.jsx)(f.xu,{marginTop:2,children:(0,F.jsx)(Z,{getDisplayName:ew,onMouseDown:ej?function(){D({event_type:102,object_id_str:d.id,view_type:3,view_parameter:144,element:13592,aux_data:K})}:void 0,user:eg})}),(eb||eI)&&eE&&(0,F.jsx)(f.xu,{"data-test-id":"product-shop-button",marginTop:5,children:(0,F.jsx)(Q,{merchantName:eb||eI,link:eE,onClickThrough:c,onLoad:L,pinKey:{type:"deprecated",data:d},text:O._('Visit site', 'closeup.shop.button', 'shop button'),trackingParamsMap:d.tracking_params_map})}),ek.length>0&&(0,F.jsx)(f.xu,{"data-test-id":"product-description",marginTop:5,children:(0,F.jsx)(U.Z,{commerceData:K,structuredDescription:ek,type:"expandable",viewParameter:w})}),j&&(0,F.jsx)(E.Z,{topBorder:!0,paddingY:3,children:(0,F.jsx)(A.Z,{boardId:null===(o=d.board)||void 0===o?void 0:o.id,isGroupNote:N,pinId:d.id,pinNoteText:null===(a=d.pin_note)||void 0===a?void 0:a.text})}),S&&(0,F.jsx)(M,{isLoadingNewlyCreatedComment:u,pinKey:{type:"deprecated",data:d},scrollContainerRef:l,viewParameter:w})]})})}el.defaultProps={showPDPComments:!1};var es=n(81072);function eu(e){var t,n=e.disabled,r=e.height,i=e.top,o=e.zIndex,a=(0,p.useRef)(null),l=(0,es.Z)();if(n)return e.children;var s=(null===(t=a.current)||void 0===t?void 0:t.getBoundingClientRect().top)||0;return(0,F.jsx)(f.xu,{ref:a,id:"product-sticky-container ","data-test-id":"product-sticky-container",children:(0,F.jsx)(f.Le,{height:r,top:l+(void 0===i?0:i)+s,zIndex:o,children:e.children})})}var ec=n(773285),ed=n(784590),ep=n(717615),ef=n(231947),em=n(92261),ey=n(966676),eh=n(814197);function eg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ev(e){var t,n=e.disableRelatedResource,r=e.relatedResourceOptions,i=e.hasXYcoordinates,o=e.isEligibleForStlFlyout,a=e.isStoryPin,l=e.isWideVideo,s=e.pin,u=e.searchQuery,c=e.taggedProducts,d=e.trafficSource,f=e.viewParameterType,m=e.onClickThrough,y=e.showStructuredDescription,h=e.data,g=e.didShortClickThrough,v=e.goBack,b=e.isInStream,A=e.isDeletedStoryPin,k=e.onSaveButtonClick,C=e.onUpdate,D=e.outerBodyStyle,E=e.routePush,I=e.showRepinOnInitialRender,T=e.viewType,R=(0,ed.Z)(void 0!==n&&n?null:{name:r.name,options:r.options}),L=(0,p.useRef)(null),z=(0,ei.Z)(),M=(0,ey.x4)().viewportSize,B=(0,ec.F)().checkExperiment,N=B("web_m10n_business_access_orbac_ga").anyEnabled,Z=(0,ep.Z)(),U=N?(0,ef.lJ)(z,Z):"",K=(0,P.Z)(90),H=(0,w.Z)(),V=(0,j.Z)({metadataContainerRef:L}),G=function(e){if(Array.isArray(e))return e}(t=(0,p.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eg(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),W=G[0],q=G[1],Y=!!s.is_eligible_for_aggregated_comments&&B("dweb_pdp_comments").anyEnabled,X=H.setClickthroughComponentForSurvey,$=H.imageContainerRef,Q=(0,F.jsx)(O.Z,{hasXYcoordinates:i,isEligibleForStlFlyout:o,isStoryPin:a,isWideVideo:l,pin:s,searchQuery:u,taggedProducts:c,trafficSource:d,viewParameterType:f,visualContentContainerRef:Y?K.visualContentContainerRef:void 0,imageContainerRef:$,handleImageClickThrough:function(){return m({wasImageClicked:!0})},setClickthroughComponentForSurvey:X,isShortImage:V}),J=(0,F.jsx)(eu,{disabled:!1,top:-16,zIndex:eh.mS,children:Q}),ee=(0,x.ZP)({pin:s}).getViewParameter,et=(0,S.Z)({pinKey:{type:"deprecated",data:s},orbacActingAs:Z,viewer:z}),en=ee(f),er="lg"===M?16:em.g9,eo=(0,F.jsx)(p.Fragment,{children:(0,F.jsx)(el,{detailsScrollContainerRef:L.current,isBoardOwnerOrCollaborator:et,isLoadingNewlyCreatedComment:W,onClickThrough:m,pin:s,showPDPComments:Y,showPinNote:et,showStructuredDescription:y,viewParameter:en})});return(0,F.jsx)(_.R,{commentCountInUSM:!0,descriptionContentMaxHeight:Y?K.descriptionContentMaxHeight:void 0,isEligibleForPinReactions:!s.is_promoted&&!s.is_downstream_promotion&&!A,isReactionsExpansionEnabled:Y,isWideVideo:l,didShortClickThrough:g,webLinkSurveyState:H,pin:s,outerBodyStyle:D,isStoryPin:a,trafficSource:d,visualContentContainer:y?J:Q,isCloseupMaximized:!1,data:h,outerPaddingSize:er,isInStream:void 0!==b&&b,metadataContainerRef:L,onClickThrough:function(){m&&m({componentType:129}),H.setClickthroughComponentForSurvey("legoMaybeLink")},setIsLoadingNewlyCreatedComment:q,viewParameter:en,viewType:T,metadata:eo,viewer:z,orbacSubjectId:U,relatedModulesResource:R,marginBottom:8,disableLeadPin:!0,isDeletedStoryPin:A,onSaveButtonClick:k,showRepinOnInitialRender:I,goBack:v,onUpdate:C,showPDPComments:Y,routePush:E,closeupActionBarMaxWidth:em.CI,visualContentContainerRef:Y?K.visualContentContainerRef:void 0})}var eb=n(360961),e_=n(438799),ex=n(52722),eP=n(700398),eS=n(217149),ej=void 0!==a?a:a=n(998480);function ew(e){var t,n=e.clientTrackingParams,r=e.pinKey,i=e.setRelatedPinsHeaderRef,o=e.slotIndex,a=e.story,l=e.topLevelTrafficSource,s=e.viewParameter,u=e.viewportSize,c=(0,I.u)(ej,r).data;if(!a)return null;if((0,eP.Z)(a.container_type)){var d=88===a.container_type,p=90===a.container_type;return(0,F.jsx)(f.xu,{marginBottom:d||p?0:12,paddingX:p?12:0,children:(0,F.jsx)(eS.default,{surface:"ShoppingDynamicHeightGrid",view:3,componentFallback:13176,viewParameter:s,initialSlotIndex:o,story:a,storyGraphqlRef:null})})}return"SKIN_TONE_FILTER_QUERIES"===a.story_type?(0,F.jsx)(f.xu,{alignSelf:"center",children:(0,F.jsx)(e_.Z,{story:a})}):["related_products_feed_header","related_modules_header"].includes(a.story_type)?(0,F.jsx)(f.xu,{"data-test-id":"related-modules-header",ref:i,children:(0,F.jsx)(eb.Z,{clientTrackingParams:n,slotIndex:o,storyId:a.id,storyType:a.story_type,title:null===(t=a.title)||void 0===t?void 0:t.format,viewParameter:s})}):"related_domain_carousel"===a.story_type?(0,F.jsx)(f.xu,{marginBottom:12,justifyContent:"center",display:"flex",children:(0,F.jsx)(ex.Z,{closeupImageSignature:c.imageSignature||"",data:a,slotIndex:o,storyId:a.id,storyType:a.story_type,topLevelTrafficSource:l,viewParameter:s,viewportSize:u})}):null}var eO=n(170540),eA=n(673108),ek=void 0!==l?l:l=n(272882);function eC(e){var t=e.clientTrackingParams,n=e.pinKey,r=e.relatedResourceOptions,i=e.setRelatedPinsHeaderRef,o=e.topLevelTrafficSource,a=e.viewParameter,l=e.viewportSize,s=(0,ed.Z)({name:r.name,options:r.options}),u=s.data,c=s.isLoaded,d=s.fetchMore,m=s.isFetching,y=s.isAtEnd,h=(0,I.u)(ek,n).data,g=(0,T.ZP)(),v=(0,p.useRef)(0),b=(u||[]).filter(Boolean),_=(0,eA.Z)(b);return(0,F.jsxs)(f.xu,{"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:[c&&_.map(function(e,n){0===n&&(v.current=0);var r,s,u=0;if(Array.isArray(e)){var c=e.reduce(function(e,t){return e.concat("pin"===t.type||"story"===t.type&&"BUBBLE_ONE_COL"===t.story_type?[t]:[])},[]);u+=e.length,r=(0,F.jsx)(eO.Z,{initialSlotIndex:v.current,pinKey:h,relatedPins:c},e[0].id)}else"story"===e.type&&(u+=(null===(s=e.objects)||void 0===s?void 0:s.length)||1,r=(0,F.jsx)(f.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,F.jsx)(ew,{clientTrackingParams:t,pinKey:h,setRelatedPinsHeaderRef:i,slotIndex:v.current,story:e,topLevelTrafficSource:o,viewParameter:a,viewportSize:l})},e.id));return v.current+=u,r}),(0,F.jsx)(f.gr,{isAtEnd:y,isFetching:m,fetchMore:d}),(0,F.jsx)(f.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,F.jsx)(f.$j,{accessibilityLabel:g._('Loading related products results', 'closeup.relatedProducts.results', 'Accessibility label for loading related products results'),show:m})})]})}var eD=n(820621),eE=n(46584),eI=n(222704),eT=n(447948);function eR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eF(e){var t,n=e.currentlySelectedIndex,r=e.index,i=e.onSelect,o=e.pinId,a=e.isSelectOnHover,l=e.size,u=e.thumbnail,c=e.mediaType,d=void 0===c?"image":c,m=e.viewParameter,y=(0,B.v)().logContextEvent,h=(0,s.useDispatch)(),g=(0,T.ZP)(),v=function(e){if(Array.isArray(e))return e}(t=(0,p.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eR(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=v[0],_=v[1],x=(0,p.useCallback)(function(e){"video"===d&&e&&!b&&(_(!0),y({event_type:13,component:13596,element:12831,view_type:3,view_parameter:m}))},[y,d,m,b]),P=(0,eE.Z)({onVisibilityChanged:x}),S=function(){h((0,eT.yR)(o,r)),i(r)},j=n===r||!n&&0===r;return(0,F.jsx)(f.xu,{marginBottom:4,ref:P,children:(0,F.jsx)(f.iP,{onMouseEnter:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),a&&S()},onTap:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),a||S()},children:(0,F.jsx)(eI.Z,{outlined:j,children:(0,F.jsxs)(f.xu,{position:"relative",children:[(0,F.jsx)(f.zd,{wash:!0,width:l,height:l,children:(0,F.jsx)(f.Ee,{alt:"",fit:"cover",src:u,color:"#efefef",naturalHeight:1,naturalWidth:1})}),"video"===d&&(0,F.jsx)(f.xu,{position:"absolute",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",top:!0,left:!0,children:(0,F.jsx)(f.JO,{accessibilityLabel:g._('Secondary Carousel Video Icon', 'secondaryCarousel.carouselItem.videoIndicatorIcon', 'accessibility label on secondary carousel item'),color:"light",icon:"play",size:20})})]})})})})}var eL=n(752802),ez=n(251183),eM=n(700380),eB=n(180929),eN=n(697335);function eZ(e){return(eZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eU(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==eZ(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eZ(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eZ(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eV(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eG={md:120,sm:52};function eW(e){var t,n=e.carouselSlots,r=e.commerceData,i=void 0===r?{}:r,o=e.isSelectOnHover,a=e.onImageSelect,l=e.pinId,s=e.selectedIndex,u=e.size,c=e.viewParameter,d=(0,B.v)().logContextEvent,m=eH((0,p.useState)(),2),y=m[0],h=m[1],g=eH((0,p.useState)(0),2),v=g[0],b=g[1],_=eH((0,p.useState)(),2),x=_[0],P=_[1],S=eH((0,p.useState)(),2),j=S[0],w=S[1],O=eH((0,p.useState)(),2),A=O[0],k=O[1],C=eH((0,p.useState)(!1),2),D=C[0],E=C[1],I=eH((0,p.useState)(n.length>=4),2),T=I[0],R=I[1],L=eH((0,p.useState)(!1),2),z=L[0],M=L[1],N=(0,eN.t)(),Z=(0,p.useRef)(null),U=(0,p.useRef)(),K=eG[u];(0,p.useEffect)(function(){d({event_type:120,component:13596,view_type:3,view_parameter:c,aux_data:eK({pin_id:l},i)})},[]),(0,p.useEffect)(function(){if(!y&&Z.current){var e=Z.current.getBoundingClientRect();b(Math.floor(e.top)),P(Math.floor(e.bottom)),k(Math.floor(e.top)),w(Math.floor(e.bottom))}},[Z.current,y]),(0,p.useEffect)(function(){if(Z.current){var e=Z.current.getBoundingClientRect(),t=e.height,n=e.top,r=e.bottom;b(Math.floor(n)),P(Math.floor(r)),h(Math.floor(t))}},[n.length]),(0,p.useEffect)(function(){!y&&Z.current&&h(Math.floor(Z.current.getBoundingClientRect().height))},[Z.current]),(0,p.useEffect)(function(){v&&A&&j&&x&&n.length>=4&&(v<A?E(!0):E(!1),x>=490+N+20?R(!0):R(!1))},[v,x,A,j]);var H=function(){z||(M(!0),d({event_type:110,component:13596,view_type:3,view_parameter:c,aux_data:eK({pin_id:l},i)}))},V=(0,eM.Z)(function(){if(Z.current){var e=Z.current.getBoundingClientRect();b(Math.floor(e.top)),P(Math.floor(e.bottom)),H()}},16);(0,p.useEffect)(function(){return U.current&&U.current.addEventListener("scroll",V),function(){U.current&&U.current.removeEventListener("scroll",V)}},[U.current]);var G=function(e,t){a&&(d({event_type:101,component:13596,element:"image"===t?11922:12831,view_type:3,view_parameter:c,aux_data:eK({},i)}),a(e))},W=function(e){0!==e&&(t&&t.cancel(),Z.current&&U.current&&((t=(0,ez.Z)(U.current,0,e,{easingFunction:"ease-in-out",extendToEdgeDistanceY:50,scrollSpeedPxPerMs:.8,onAnimationComplete:function(){t=null}})).start(),H()))};return(0,F.jsxs)("div",{className:"ProductCarousel-OuterScrollContainer",style:{marginTop:"".concat(20,"px"),position:"relative"},children:[(0,F.jsx)("div",{id:"InnerScrollContainer",ref:U,className:"ProductCarousel-InnerScrollContainer",style:{maxHeight:490,cursor:"default"},children:(0,F.jsx)("div",{onClick:function(e){e.preventDefault(),e.stopPropagation()},"aria-hidden":"true",style:{cursor:"default"},children:(0,F.jsx)(f.xu,{display:"flex",alignItems:"center",direction:"column",marginEnd:6,width:K+4,ref:Z,marginBottom:1,position:"relative",marginTop:1,children:n.map(function(e,t){var n,r=e.images,i=e.videos,a=i?{thumbnail:i.cover_image_url,mediaType:"video"}:{thumbnail:null===(n=(0,eL.Z)({images:r,resolutionPreferences:["564x","736x","236x"]}))||void 0===n?void 0:n.url,mediaType:"image"},u=a.thumbnail,d=a.mediaType;return(0,F.jsx)(eF,{currentlySelectedIndex:s,index:t,onSelect:function(){G(t,d)},isSelectOnHover:o,pinId:l,size:K,thumbnail:u||"",mediaType:d,viewParameter:c},"carousel-item-".concat(e.image_signature||"","-").concat(t))})})})}),!!y&&n.length>3&&(0,F.jsxs)(f.xu,{position:"absolute",overflow:"hidden",height:y>490?494:y+4,top:!0,width:"100%",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:[D&&(0,F.jsx)(eB.Z,{direction:"up",onScroll:function(e){e.preventDefault(),e.stopPropagation(),W(-100)},size:u}),T&&(0,F.jsx)(eB.Z,{direction:"down",onScroll:function(e){e.preventDefault(),e.stopPropagation(),W(100)},size:u})]})]})}var eq=n(206663),eY=n(712331),eX=n(21353),e$=n(4294),eQ=n(326884),eJ=n(834911),e0=n(737022),e1=n(319915),e2=n(186656),e8=n(507712),e3=n(251819),e9=n(750391),e6=n(184578),e5=n(623568),e7=n(359969),e4=n(489494),te=n(802933),tt=n(692627);function tn(e){var t=(0,ee.E)();return(0,p.useEffect)(function(){var n=document.getElementById(e.containerId),r=function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return!!n&&!!r&&n.top>=r.top&&n.left>=r.left&&n.bottom<=r.bottom&&n.right<=r.right};if(null==n)null==t||t.removeConstraint("thumbnailsLoaded");else{var i=Array.from(n.querySelectorAll("*")).filter(function(e){return"IMG"===e.tagName&&r(e,n)}),o=i.length,a=function(){o-=1};i.forEach(function(e){e.onload=a(),0===o&&(null==t||t.markConstraintComplete("thumbnailsLoaded"))})}},[e.containerId,t]),(0,F.jsx)(f.xu,{id:"imageContainerPerf",children:e.children})}var tr=n(31062),ti=n(780280),to=n(947599),ta=n(957161),tl=n(52022),ts=n(343341),tu=n(819303),tc=n(559073),td=n(951786),tp=n(970576),tf=n(313951),tm=n(977558),ty=n(807532),th=n(749147),tg=n(709113),tv=["showStructuredDescription"];function tb(e){return(tb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t_(Object(n),!0).forEach(function(t){tO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tA(r.key),r)}}function tS(e,t){return(tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tj(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tw(e){return(tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tO(e,t,n){return(t=tA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tA(e){var t=function(e,t){if("object"!==tb(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tb(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tb(t)?t:String(t)}var tk=(0,p.lazy)(function(){return n.e(95246).then(n.bind(n,263551))}),tC=(0,p.lazy)(function(){return n.e(75754).then(n.bind(n,849086))}),tD={sm:80},tE={storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}},tI={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32};function tT(e){var t=e.conversation_id,n=e.senderId,r=e.pinId;(0,e2.Z)({url:"/v3/conversations/".concat(t,"/message/mark_seen/"),method:"POST",data:{sender:n,pin:r}})}function tR(e){var t=e.viewportSize;return e.hasCarouselData&&["lg","md"].includes(t)}var tF=function(e){var t=e.isWideVideo;return!["md","sm"].includes(e.viewportSize)&&!t},tL=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tS(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=tw(o);if(t){var r=tw(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===tb(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tj(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return tO(tj(e=i.call.apply(i,[this].concat(n))),"state",e.props.initialState),tO(tj(e),"removedPwtThumbnailsConstraint",!1),tO(tj(e),"setResultScrollContainerRef",function(t){e.resultScrollContainer||(e.resultScrollContainer=t,e.forceUpdate())}),tO(tj(e),"setRelatedPinsHeaderRef",function(t){e.relatedPinsHeaderRef=t}),tO(tj(e),"mounted",!1),tO(tj(e),"updateViewportSize",(0,eM.Z)(function(){var t=e.state.visualState.carouselData,n=e.props.pin,r=((0,e6.Z)((0,te.Z)({pin:n}))||{}).isWideVideo;if(e.mounted){var i,o,a,l,s,u,c,d,p,f,m,y,h=(l=(i={isWideVideo:r,hasCarouselData:!!t}).isWideVideo,s=i.hasCarouselData,u=1056,(l&&(u=998),s&&(u=1300),(null===(o=window)||void 0===o?void 0:o.innerWidth)<680)?"sm":(null===(a=window)||void 0===a?void 0:a.innerWidth)<u?"md":"lg"),g=tR({viewportSize:h,hasCarouselData:!!t}),v=(m=(c={viewportSize:h,isWideCarousel:g}).viewportSize,y=c.isWideCarousel,f=["md","sm"].includes(m)?y?780:630:y?1465:1135,{hideBackButton:(null===(d=window)||void 0===d?void 0:d.innerWidth)<=f,backButtonLabelFitInScreen:(null===(p=window)||void 0===p?void 0:p.innerWidth)>=(y?1640:1340)}),b=v.hideBackButton,_=v.backButtonLabelFitInScreen;e.setState({viewportSize:h,hideBackButton:b,backButtonLabelFitInScreen:_})}},50)),tO(tj(e),"triggerQuickPromote",function(){var t=e.props,n=t.getSterlingURL,r=t.pinId,i=t.routePush;e.setState({quickPromoteModalTriggered:!0});var o=n("quick_promote_on_www");i("".concat(o,"?pinId=").concat(r))}),tO(tj(e),"clickThroughTimer",function(){var t=e.props.setPlacementExtraContext;clearInterval(e.state.intervalId),t&&t({didLongClickThrough:!0})}),tO(tj(e),"executeClickthrough",function(t){var n,r,i,o=e.props,a=o.pinId,l=o.setPlacementExtraContext,s=o.viewer,u=o.trafficSource,c=o.logContextEvent,d=o.pinFormattedLink,p=e.state,f=p.pin,m=p.didPinClickThrough,y=p.didShortClickThrough,h=!!f.story_pin_data,g=t||{},v=g.wasImageClicked,b=g.auxData,_=g.componentType,x=void 0===_?h?228:4:_,P=g.elementType,S=void 0===P?v?35:h?11157:361:P,j=g.viewType,w=void 0===j?3:j,O=(0,tt.Z)({hasPin:!0,hasPinRichMetadata:!!e.props.pin.rich_metadata,hasPinRichMetadataProducts:!!(null!==(n=e.props.pin.rich_metadata)&&void 0!==n&&n.products),hasPinRichMetadataArticle:!!(null!==(r=e.props.pin.rich_metadata)&&void 0!==r&&r.article),hasPinRichMetadataRecipe:!!(null!==(i=e.props.pin.rich_metadata)&&void 0!==i&&i.recipe),hasPinStoryPinData:!!e.props.pin.story_pin_data}),A=tx(tx({},e.props.getStringifiedCommerceAuxData({isPdpPlus:!0})),b||{});if(s&&s.isAuth&&!m&&l&&(l({didPinClickThrough:!0}),e.setState({didPinClickThrough:!0})),h&&c({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:f.id,url:d}}),c({event_type:101,object_id_str:a,component:x,element:S,aux_data:A}),c({event_type:12,object_id_str:a,view_type:w,view_parameter:O,component:x,element:S,aux_data:A}),c({event_type:8948,view_type:w,view_parameter:O,component:x,element:S,object_id_str:a,aux_data:tx({click_type:"clickthrough",closeup_navigation_type:u&&(0,e5.sV)(u)?"deeplink":"click"},A)}),v){var k=setInterval(e.clickThroughTimer,12e4);e.setState({intervalId:k})}e.clickThroughStartTime=Date.now(),y&&e.setState({didShortClickThrough:!1})}),tO(tj(e),"handleFocus",function(){var t=e.props.setPlacementExtraContext;clearInterval(e.state.intervalId),t&&t({didLongClickThrough:!1})}),tO(tj(e),"handleWindowFocus",function(){if(e.clickThroughStartTime>0){var t=Date.now()-e.clickThroughStartTime<5e3;e.setState({didShortClickThrough:t}),e.clickThroughStartTime=0}}),tO(tj(e),"handleClickLogging",function(){e.props.logContextEvent({event_type:101,object_id_str:e.state.pin.id,component:4,element:13306,aux_data:tx({},e.props.getStringifiedCommerceAuxData({isPdpPlus:!0}))})}),tO(tj(e),"handleBackButtonClick",function(){e.props.onHandleBackButtonClick()}),tO(tj(e),"handleCarouselSwipe",function(t){var n=e.state,r=n.visualState;n.firstLoadComplete&&e.setState({visualState:tx(tx({},r),{},{carouselData:tx(tx({},r.carouselData),{},{index:t})})})}),tO(tj(e),"dispatch",function(t,n){return e.setState(function(e){return(0,g.Z)(e,t)},n)}),tO(tj(e),"handleScroll",(0,eM.Z)(function(){var t=e.state.isOverRelatedPins;if(e.relatedPinsHeaderRef){var n=tm.hu,r=e.relatedPinsHeaderRef.getBoundingClientRect().top<=n;r&&!t?e.setState({isOverRelatedPins:!0}):!r&&t&&e.setState({isOverRelatedPins:!1})}},10)),tO(tj(e),"onWrapperClick",function(t){t.stopPropagation(),e.handleBackButtonClick()}),tO(tj(e),"onRelatedInterestsBannerDismiss",function(){e.setState({isRelatedInterestsBannerDismissed:!0})}),e}return n=[{key:"populatePlaceholderCarouselData",value:function(){var e,t,n=this.props.pin,r=this.state.visualState;this.setState({visualState:tx(tx({},r),{},{carouselData:(0,eJ.Z)({carouselData:n.carousel_data,images:n.images,product:null===(e=n.rich_metadata||n.rich_summary)||void 0===e?void 0:null===(t=e.products)||void 0===t?void 0:t[0]})})})}},{key:"componentDidMount",value:function(){var e,t,n,r,i=this.props,o=i.conversation_id,a=i.conversationOpen,l=i.dispatch,s=i.pin,u=i.pinId,c=i.senderId,d=i.setPlacementExtraContext,p=i.shouldShowInbox,f=i.toastManager,m=i.openInbox,y=i.trackInteraction,h=this.state.visualState.carouselData,g=et({richPinData:s.rich_summary});this.mounted=!0,!h&&(null!=g&&g.has_multi_images||null!=g&&null!==(e=g.videos)&&void 0!==e&&e.length)&&this.populatePlaceholderCarouselData(),o&&c&&u&&tT({conversation_id:o,senderId:c,pinId:u}),o&&(a(o),p&&m()),s.image_signature&&this.props.setMostRecentPinImage(s.image_signature),u&&this.props.setMostRecentPinId(u),d&&d({is_own_or_group_pin:this.isOwnOrGroupPin});var v=ta.Z.getItem(tg.M8)||"";v&&v===u&&(ta.Z.removeItem(tg.M8),y({action:"trigger",item:"unauth-save-button-quicksave"}),(0,eD.Z)({description:s.description,entityId:s.id,link:s.link,promotedIsRemovable:s.promoted_is_removable,title:s.title},this.props.i18n).then(function(e){var t=e.id,n=e.url,r=e.name;l((0,th.d)({boardId:t,url:n,title:r||"",pinId:u})),f.showToast(function(t){var n,r,i,o=t.hideToast;return(0,F.jsx)(tp.Z,{boardName:e.name,boardUrl:e.url,onHide:o,pinImageUrl:null!==(n=null===(r=s.images)||void 0===r?void 0:null===(i=r["236x"])||void 0===i?void 0:i.url)&&void 0!==n?n:""})})})),this.updateViewportSize(),window.addEventListener("resize",this.updateViewportSize),window.addEventListener("focus",this.handleWindowFocus),null!==(t=window)&&void 0!==t&&null!==(n=t.location)&&void 0!==n&&null!==(r=n.search)&&void 0!==r&&r.includes("invite_code=")&&(0,e8.Z)()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.didRepin,r=t.isLandingPage,i=t.pin,o=t.pinId,a=t.conversation_id,l=t.senderId,s=t.pinResource,u=t.pinResource.data,c=t.pwtSurfaceContext,d=t.setPlacementExtraContext,p=t.showQuickPromote,f=this.state,m=f.visualState.carouselData,y=f.firstLoadComplete,h=f.quickPromoteModalTriggered;this.visualDataDidUpdate(),!y||this.isWideCarousel()||this.removedPwtThumbnailsConstraint||(null==c||c.removeConstraint("thumbnailsLoaded"),this.removedPwtThumbnailsConstraint=!0),u&&!y&&(u.carousel_data&&(u.carousel_data.index=(null==m?void 0:m.index)||0),this.dispatch({type:"pinLoaded",pin:u})),a&&l&&o&&e.pinId!==o&&tT({conversation_id:a,senderId:l,pinId:o}),!e.pinResource.data&&s.data&&!h&&p&&this.triggerQuickPromote();var g={};(ta.Z.getItem(tg.W3)||"").includes("/pin/".concat(o))&&r&&(g.loginPageType="pin"),n&&(g.didRepin=!0),i.image_signature&&(g.pin_image_signature=i.image_signature),g.is_own_or_group_pin=this.isOwnOrGroupPin,!(0,e3.Z)(g)&&d&&d(tx({},g))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateViewportSize),window.removeEventListener("focus",this.handleWindowFocus),this.mounted=!1}},{key:"isOwnOrGroupPin",get:function(){var e,t,n=this.props,r=n.pin,i=n.viewer,o=(r||{}).board||{},a=o.is_collaborative&&(0,e$.Z)(o.collaborated_by_me,null===(e=o.owner)||void 0===e?void 0:e.id,i);return!!(i.isAuth&&(null===(t=r.pinner)||void 0===t?void 0:t.id)===i.id||a)}},{key:"isWideCarousel",value:function(){var e=this.state;return tR({viewportSize:e.viewportSize,hasCarouselData:!!e.visualState.carouselData})}},{key:"visualDataDidUpdate",value:function(){var e,t,n,r,i,o,a,l,s=this.props,u=s.pin,c=s.mainImage,d=this.state,p=d.visualState,f=p.carouselData,m=p.mainImage;if(d.firstLoadComplete){var y=(0,eJ.Z)({carouselData:u.carousel_data,images:u.images,product:null===(e=u.rich_metadata||u.rich_summary)||void 0===e?void 0:null===(t=e.products)||void 0===t?void 0:t[0]}),h=((null==y?void 0:y.carousel_slots)||[])[0]||{},g=(0,e0.Z)(h.images),v=(null==f?void 0:f.index)||0;o=y&&((null===(n=y.carousel_slots)||void 0===n?void 0:n.length)||0)>1?{mainImage:c,carouselData:tx(tx({},y),{},{index:v}),previewImage:(0,tc.Yf)(null===(a=u.images)||void 0===a?void 0:a["236x"])}:null!=g&&g.url?{mainImage:{url:g.url,height:g.height||1,width:g.width||1}}:{mainImage:c,previewImage:(0,tc.Yf)(null===(l=u.images)||void 0===l?void 0:l["236x"])},((null==f?void 0:f.id)!==(null===(r=o.carouselData)||void 0===r?void 0:r.id)||JSON.stringify(null==f?void 0:f.carousel_slots)!==JSON.stringify(null===(i=o.carouselData)||void 0===i?void 0:i.carousel_slots)||m.url!==o.mainImage.url)&&(this.setState({visualState:o}),this.updateViewportSize())}}},{key:"renderBodyContent",value:function(e){var t,n,r,i=e.isEligibleForStlFlyout,o=e.relatedResourceOptions,a=e.taggedProducts,l=e.maxWidth,s=this.props,u=s.experimentsClient.checkExperiment,c=s.isLimitedLogin,d=s.pin,y=s.pinResource,h=s.routePush,g=s.searchQuery,v=s.showRepinOnInitialRender,b=s.trafficSource,_=s.viewer,x=s.orbacActingAs,P=s.showStructuredDescription,S=s.userBusinessRoleResource,j=s.isORBACGA,w=s.trendsData,O=d.id,A=d.sponsorship,k=d.story_pin_data_id,C=d.story_pin_data,D=!!k,E=!!(null!=C&&C.is_deleted),I=A||{},T=I.creator,R=I.sponsor,L=I.status,z=(T||{}).username,M=(R||{}).username,B=y.refresh,N=j?(0,ef.lJ)(_,x):void 0,Z=(S||{}).data,U=!d.is_repin&&!!M,K=M===_.username?[eQ.V3.OWNER]:null==Z?void 0:Z.permissions,H=M===_.username||!!(null!=K&&K.find(function(e){return eY.Z.includes(e)})),V=M===_.username||!!(null!=K&&K.find(function(e){return eY.Z.includes(e)})),G=this.state,W=G.didShortClickThrough,q=G.viewportSize,Y=((0,e6.Z)((0,te.Z)({pin:d}))||{}).isWideVideo,X=(0,e9.rh)(d&&{aggregatedPinData:d.aggregated_pin_data&&{creatorAnalytics:d.aggregated_pin_data.creator_analytics&&{_30dRealtime:d.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:d.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:d.board&&{privacy:d.board.privacy},creatorAnalytics:d.creator_analytics&&{_30dRealtime:d.creator_analytics["30d_realtime"]&&{carId:d.creator_analytics["30d_realtime"].id}},isRepin:d.is_repin,pinner:d.pinner&&{entityId:d.pinner.id},storyPinDataId:d.story_pin_data_id,videos:d.videos&&{videoList:d.videos.video_list&&{__typename:"VideoList"}}},_,this.props.experimentsClient,N),$=(0,m.CA)(null==w?void 0:w.data,this.props.experimentsClient),Q=U&&_.isAuth&&u("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(H&&0===L||V&&1===L),J=!!(d.aggregated_pin_data||{}).has_xy_tags,ee=D&&(null!==(t=null==C?void 0:null===(n=C.pages)||void 0===n?void 0:n.length)&&void 0!==t?t:0)>0;return(0,F.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:D?tx(tx({},tE.storyPinGradientStyle),{},{width:"100%"}):{}},id:"gradient","data-test-id":"gradient",display:"flex",justifyContent:"center",children:(0,F.jsx)(p.Fragment,{children:(0,F.jsx)(tu.Z,{isStoryPin:D,isWideVideo:Y,children:(0,F.jsx)(e1.Z,{name:"CloseupBody",children:(0,F.jsxs)(f.xu,{children:[(0,F.jsxs)(f.xu,{alignItems:Y?"center":void 0,direction:Y?"column":void 0,display:Y?"flex":void 0,children:[Q&&"number"==typeof L&&(0,F.jsx)(f.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,F.jsx)(e1.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,F.jsx)(to.Z,{children:(0,F.jsx)(tC,{business_role:K,creatorUsername:null!=z?z:"",sponsorshipStatus:L,pinId:O})})})}),(0,e9.WE)(_,q,X,$,w,Q)&&(0,F.jsx)(f.xu,{"data-test-id":"PartnerModule",width:"lg"===q&&Y?l:"100%",children:(0,F.jsx)(e1.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,F.jsx)(to.Z,{children:(0,F.jsx)(tk,{borderStyle:tI,isStoryPin:D,pinKey:{type:"deprecated",data:d},viewportSize:q,trendsData:$?null==w?void 0:null===(r=w.data)||void 0===r?void 0:r.results:null,showPinStats:X})})})})]}),(0,F.jsx)(ev,{data:y.data,didShortClickThrough:W,goBack:this.handleBackButtonClick,hasXYcoordinates:J,isEligibleForStlFlyout:i,isStoryPin:D,isDeletedStoryPin:!!E,isWideVideo:Y,onClickThrough:this.executeClickthrough,onSaveButtonClick:this.handleClickLogging,onUpdate:B,outerBodyStyle:D?null:tI,pin:d,relatedResourceOptions:o,routePush:h,searchQuery:g,showRepinOnInitialRender:!c&&v,trafficSource:b,viewParameterType:ee?157:void 0,showStructuredDescription:P,taggedProducts:a})]})})})})})}},{key:"render",value:function(){var e,t,n,r,i,o,a,l,s,u,c,d,p=this,m=this.props,g=m.contextPinIds,v=m.getStringifiedCommerceAuxData,b=m.ideaPinStelaCategories,_=m.pin,x=m.pinDerivedData,P=m.taggedObjectsResource,S=m.topLevelTrafficSource,j=m.topLevelTrafficSourceDepth,w=m.trafficSource,O=m.searchQuery,A=m.storyPinTaggedProductsResource,k=m.pinResource,C=m.isORBACGA,D=m.viewer,E=m.orbacActingAs,I=this.props,T=I.showStructuredDescription,R=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(I,tv),L=v({isPdpPlus:!0}),z=this.state,M=z.viewportSize,B=z.didShortClickThrough,N=z.firstLoadComplete,Z=z.visualState.carouselData,U=tF({isWideVideo:((0,e6.Z)((0,te.Z)({pin:_}))||{}).isWideVideo,viewportSize:M}),K=_.recommendation_reason,H={name:"RelatedModulesResource",options:{pin_id:_.id,context_pin_ids:g,homefeed_source_sig:K&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(K.reason)&&K.reason_id,page_size:12,search_query:O,source:w,top_level_source:S,top_level_source_depth:j,is_pdp:_.is_eligible_for_pdp}},V=(0,ef.q6)(D,null===(e=_.pinner)||void 0===e?void 0:e.id,E),G=!!_.id&&(!C||!V)&&(0,F.jsx)(eC,{pinKey:{type:"deprecated",data:_},relatedResourceOptions:H,setRelatedPinsHeaderRef:this.setRelatedPinsHeaderRef,topLevelTrafficSource:S,viewParameter:(0,tt.Z)({hasPin:!!_,hasPinRichMetadata:!!_.rich_metadata,hasPinRichMetadataProducts:!!(null!==(t=_.rich_metadata)&&void 0!==t&&t.products),hasPinRichMetadataArticle:!!(null!==(n=_.rich_metadata)&&void 0!==n&&n.article),hasPinRichMetadataRecipe:!!(null!==(r=_.rich_metadata)&&void 0!==r&&r.recipe),hasPinStoryPinData:!!_.story_pin_data}),viewportSize:M}),W=(P||{}).data,q=!!W&&W.length>0&&W.some(function(e){return(0,eq.Z)(e)})&&!((null!==(i=null===(o=_.rich_summary)||void 0===o?void 0:o.products)&&void 0!==i?i:[]).length||(null!==(a=null===(l=_.rich_metadata)||void 0===l?void 0:l.products)&&void 0!==a?a:[]).length),Y=(A||{}).data,X=this.isWideCarousel(),$=X&&U?em.Ch:em.CI,Q=X?em.Gb:em.Kn,J=N&&this.isWideCarousel(),ee=J&&(0,F.jsx)(eu,{disabled:!T,children:(0,F.jsx)(tn,{containerId:"InnerScrollContainer",children:(0,F.jsx)(eW,{carouselSlots:null!==(s=null==Z?void 0:Z.carousel_slots)&&void 0!==s?s:[],commerceData:L,onImageSelect:this.handleCarouselSwipe,pinId:_.id,selectedIndex:(null==Z?void 0:Z.index)||0,viewParameter:(0,tt.Z)({hasPin:!!this.props.pin,hasPinRichMetadata:!!this.props.pin.rich_metadata,hasPinRichMetadataProducts:!!(null!==(u=this.props.pin.rich_metadata)&&void 0!==u&&u.products),hasPinRichMetadataArticle:!!(null!==(c=this.props.pin.rich_metadata)&&void 0!==c&&c.article),hasPinRichMetadataRecipe:!!(null!==(d=this.props.pin.rich_metadata)&&void 0!==d&&d.recipe),hasPinStoryPinData:!!this.props.pin.story_pin_data}),size:"sm"})})}),et=J&&(0,F.jsx)(f.xu,{width:tD.sm}),en=(0,F.jsx)(h.Z,{isVideoPin:x.isVideoPin,taggedProducts:W,pin:_,pinResource:k,topLevelTrafficSource:S,didShortClickThrough:B,firstLoadComplete:N,viewportSize:M,renderRelatedModulesContent:function(){return G},renderBodyContent:function(){return p.renderBodyContent({ideaPinStelaCategories:b,isEligibleForStlFlyout:q,taggedProducts:W,relatedResourceOptions:H,storyPinTaggedProducts:Y,maxWidth:Q})},onWrapperClick:this.onWrapperClick,beforeBodyContent:ee,afterBodyContent:et});return(0,F.jsx)(y.Xl,{classProps:tx(tx({},R),{},{location:{pathname:"",search:"",hash:""}}),classState:this.state,commerceData:L,showCloseupContentRight:U,showProductDetailPage:!0,isWideCarousel:X,paneWidth:$,maxWidth:Q,descriptionPaneWidth:"lg"===M?Q-$:$,handleCarouselSwipe:this.handleCarouselSwipe,handleFocus:this.handleFocus,setResultScrollContainerRef:this.setResultScrollContainerRef,handleScroll:this.handleScroll,handleBackButtonClick:this.handleBackButtonClick,closeupContent:en,onRelatedInterestsBannerDismiss:this.onRelatedInterestsBannerDismiss})}}],tP(o.prototype,n),r&&tP(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(p.Component),tz=(0,b.Z)(function(e){var t,n,r,i,o,a,l,u=e.pin,c=e.pinResource,d=e.pinId,f=e.viewer,y=e.deepLinkBackGoesToBoard,h=e.goBack,g=e.routePush,b=e.trafficSource,_=(0,B.v)().logContextEvent,x=(0,tl.Z)(),P=(0,T.ZP)(),S=(0,ti.B)(),j=(0,ec.F)(),w=j.checkExperiment,O=!!(u.is_eligible_for_pdp&&!u.story_pin_data&&null!==(t=u.formatted_description)&&void 0!==t&&t.components),A=(0,ty.f)(),k=A.setMostRecentPinId,C=A.setMostRecentPinImage,D=(0,er.Z)({type:"deprecated",data:u}),E=(0,e4.Z)({type:"deprecated",data:u}),I=(0,e5.sY)(null===(n=u.embed)||void 0===n?void 0:n.type)&&"gif"||!!u.is_eligible_for_pdp&&"productPin"||(null===(r=u.rich_summary)||void 0===r?void 0:r.type_name)==="recipe"&&"recipePin"||u.story_pin_data_id&&"storyPin"||!!(null!==(i=u.videos)&&void 0!==i&&i.video_list)&&"video"||"image",R="pin_closeup_lcp",L=(0,tr.PY)(R),z=(0,tf.Z5)().conversationOpen,M=w("web_m10n_business_access_orbac_www").anyEnabled,N=w("web_m10n_business_access_orbac_www").anyEnabled,Z=(0,ep.Z)(),U=N?(0,ef.lJ)(f,Z):void 0;(0,p.useEffect)(function(){L&&(0,tr.ku)({stopwatchName:R,binaryAnnotationName:"pinType",value:I,annotationType:"STRING"})},[L,I]);var K=null===(o=u.sponsorship)||void 0===o?void 0:null===(a=o.sponsor)||void 0===a?void 0:a.id,H=!u.is_repin&&!!K,V=(0,ed.Z)(K&&H&&f.isAuth&&"storyPin"===I?{name:"ApiResource",options:{url:"/ads/v4/business_access/businesses/".concat(K,"/me/ad_accounts_permissions/")}}:null),G=(0,td.Z)({commerceOptions:{isPdpPlus:!0},deepLinkBackGoesToBoard:y,element:13310,goBack:h,routePush:g,trafficSource:b,viewer:f,requestContext:S,pinKey:{type:"deprecated",data:u}},_).onHandleBackButtonClick,W=f.isAuth&&(0,m.Gv)({orbacSubjectId:U,pinIsRepin:u.is_repin,pinPinnerId:null===(l=u.pinner)||void 0===l?void 0:l.id,viewerId:f.id,viewerIsPartner:f.isPartner}),q=(0,ed.Z)(W?{name:"ApiResource",options:{url:"/v3/trends/partner/".concat(f.id||"","/trends_for_pin/").concat(u.id,"/"),data:{number_terms_to_return:10}}}:null),Y=q.data,X=q.isLoaded,$=(0,v.Z)({pin:u,pinId:d,pinResource:c}),Q=(0,e7.Z)({pinKey:{type:"deprecated",data:u}}).getMainPinImage;return(0,F.jsx)(tL,tx(tx({},e),{},{initialState:$,conversationOpen:z,dispatch:(0,s.useDispatch)(),experimentsClient:j,getSterlingURL:(0,eX.Z)(),getStringifiedCommerceAuxData:D,pwtSurfaceContext:(0,ee.E)(),requestContext:S,setMostRecentPinId:k,setMostRecentPinImage:C,toastManager:(0,ts.F9)(),i18n:P,orbacActingAs:M?Z:{},logContextEvent:_,showStructuredDescription:O,userBusinessRoleResource:V,isORBACGA:N,trackInteraction:x,trendsData:{data:Y,isLoaded:!W||X},onHandleBackButtonClick:G,mainImage:Q(),pinFormattedLink:E}))}),tM=n(558068),tB=n(915071);function tN(e){return(tN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tZ(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==tN(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tN(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tN(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tK(e){return(0,F.jsx)(c.l6,tU(tU({},e),{},{CloseupComponent:tz}))}function tH(e){var t=(0,s.useDispatch)(),n=(0,ei.Z)(),r=(0,u.useParams)(),i=(0,tM.aX)(),o=tU(tU({},e),{},{history:(0,u.useHistory)(),location:(0,u.useLocation)(),params:r,requestContext:(0,ti.B)(),searchPinCloseupViewed:function(e,n){return t((0,tB.Y4)(e,n))},viewer:n}),a=(0,ec.F)().checkExperiment;return(0,F.jsx)(d.Z,{pinId:r.id||"",orbacSubjectId:(0,ef.lJ)(n,(0,ep.Z)()),children:function(e){var t=e.pinResource;return(0,p.createElement)(tK,tU(tU({},o),{},{checkExperiment:a,currentHistoryStack:i,pinResource:t,key:r.id}))}})}},170540:function(e,t,n){"use strict";n.d(t,{S:function(){return g},Z:function(){return b}});var r,i=n(76911);n(704217);var o=n(908390),a=n(575576),l=n(372169),s=n(916117),u=n(329734),c=n(692627),d=n(773285),p=n(430323),f=n(786871),m=n(92331),y=n(8742),h=n(515198),g=function(){return(0,h.jsx)(i.Fragment,{children:Array(12).fill(void 0).map(function(e,t){return(0,h.jsx)(o.xu,{width:l.jh,marginEnd:4},"empty-pin-".concat(t))})})},v=void 0!==r?r:r=n(599891);function b(e){var t,n,r,i=e.relatedPins,l=e.pinKey,b=e.initialSlotIndex,_=(0,s.u)(v,l).data,x=(0,f.Z)(),P=(0,d.F)().checkExperiment,S=!!i.find(function(e){return"pin"===e.type&&e.is_eligible_for_pdp})&&P("web_product_pin_rep_redesign").anyEnabled,j=function(e){var t,n,r,i,o,l,s,d=e.data,p=e.itemIdx,f=(0,u.Z)(x);return s="story"===d.type?"BUBBLE_ONE_COL"===d.story_type?(0,h.jsx)(m.Z,{bubbles:d.objects,id:d.id,referringSource:d.referring_source,slotIndex:p,storyType:d.story_type,title:d.title,viewType:3,viewParameter:(0,c.Z)({hasPin:!!_,hasPinRichMetadata:!!_.richMetadata,hasPinRichMetadataProducts:!!(null!==(t=_.richMetadata)&&void 0!==t&&t.products),hasPinRichMetadataArticle:!!(null!==(n=_.richMetadata)&&void 0!==n&&n.article),hasPinRichMetadataRecipe:!!(null!==(r=_.richMetadata)&&void 0!==r&&r.recipe),hasPinStoryPinData:!!_.storyPinData})}):null:(0,h.jsx)(y.ZP,{imageOnlyOption:f?"image-only":"default",pin:d,pinId:d.id,authDesktopSurface:S?"PdpRelatedPinGrid":"RelatedPinGrid",componentType:13176,duploQueryRef:null,slotIndex:p+b,viewData:{pin_id:_.entityId},viewParameter:(0,c.Z)({hasPin:!!_,hasPinRichMetadata:!!_.richMetadata,hasPinRichMetadataProducts:!!(null!==(i=_.richMetadata)&&void 0!==i&&i.products),hasPinRichMetadataArticle:!!(null!==(o=_.richMetadata)&&void 0!==o&&o.article),hasPinRichMetadataRecipe:!!(null!==(l=_.richMetadata)&&void 0!==l&&l.recipe),hasPinStoryPinData:!!_.storyPinData}),viewType:3}),(0,h.jsx)(a.Z,{children:s})};return(0,h.jsx)(p.Z,{viewParameter:(0,c.Z)({hasPin:!!_,hasPinRichMetadata:!!_.richMetadata,hasPinRichMetadataProducts:!!(null!==(t=_.richMetadata)&&void 0!==t&&t.products),hasPinRichMetadataArticle:!!(null!==(n=_.richMetadata)&&void 0!==n&&n.article),hasPinRichMetadataRecipe:!!(null!==(r=_.richMetadata)&&void 0!==r&&r.recipe),hasPinStoryPinData:!!_.storyPinData}),component:86,children:(0,h.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"5px"}},children:[(0,h.jsx)(o.Rk,{items:i,renderItem:function(e){return j({data:e.data,itemIdx:e.itemIdx})}}),(0,h.jsx)(g,{})]})})}},712331:function(e,t,n){"use strict";var r=n(326884),i=[r.gO.ADMIN,r.gO.CAMPAIGN_MANAGER];t.Z=i},616106:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(76911),i=n(506979),o=n(904202),a=n(908390),l=n(237693),s=n(898781),u=n(66699),c=n(515198),d=function(e){var t=e.collapsed,n=e.commentCount,r=e.onIconClick,i=e.showCommentCount,o=(0,s.ZP)(),a=n&&i?(0,u.Z)(o.ngettext('{{ count }} Comment', '{{ count }} Comments', n, 'Closeup.CommentsHeading.CommentsCountLabel', 'Comments on a Pin'),{count:n.toString()}):o._('Comments', 'comments on a Pin', 'comments on a Pin');return(0,c.jsx)(l.Z,{collapsed:t,heading:a,onClick:r,showArrow:n>0})},p=n(283855),f=n(44715),m=n(780280),y=n(784590),h=n(50286),g=n(139405),v=n(664569),b=n(966676),_=n(44004),x=n(600147),P=n(274415),S=n(492583);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var C=(0,o.P1)(function(e,t,n){return n},function(e,t){return e.feeds["".concat(S.Z.UNIFIED_COMMENTS,":").concat(t)]},function(e){return e.didItData},function(e,t,n){return(null==t?void 0:t.map(function(t){var r=t.id;return"aggregatedcomment"===t.type.toLowerCase()?e[r]:n[r]}).filter(function(e){return e}))||[]}),D=function(e){var t=e.aggregatedPinId,n=e.closeupAttributionId,o=e.closeupAttributionUsername,l=e.commentCount,s=e.commentCountInUSM,u=e.commentsDisabled,p=e.commentsLoadedCallback,P=e.featuredCommentId,S=e.isCommentSectionOpen,j=e.isLoadingNewCreatedComment,w=e.isORBACProfileManager,O=e.isVideo,k=e.onCommentSectionClick,D=e.photoCount,E=e.pinId,I=e.pinnerId,T=e.scrollContainerRef,R=e.shouldShowHeading,F=e.storyPinDataId,L=e.viewParameter,z=(0,i.useDispatch)(),M=(0,m.B)().isBot,B=(0,h.HG)(),N=(0,g.lV)(),Z=(0,g.nf)(),U=Z.toggleAggregatedCommentHelpful,K=Z.toggleAggregatedCommentLike,H=Math.max(l+D,0)>0,V=(0,r.useRef)(!H),G=(0,y.Z)(!V.current&&t?(0,_.w)({aggregatedPinDataId:t,featuredCommentIds:P?[P]:[],isDesktop:B}):null),W=G.fetchMore,q=G.isAtEnd,Y=G.isFetching,X=G.isLoaded,$=(0,i.useSelector)(function(e){return C(e,t,N)}),Q=(0,r.useContext)(b.ZP).updateCloseupBodyContainerHeight,J=A((0,r.useState)(!1),2),ee=J[0],et=J[1],en=A((0,r.useState)(void 0),2),er=en[0],ei=en[1],eo=A((0,r.useState)(void 0),2),ea=eo[0],el=eo[1];return(0,r.useEffect)(function(){Q&&Q()},[Q]),(0,r.useEffect)(function(){null==p||p(X||!H)},[p,X,H]),(0,r.useEffect)(function(){setTimeout(function(){et(!0)},1e3)},[]),(0,c.jsxs)(a.kC,{dataTestId:"canonical-card",direction:"column",gap:{row:0,column:6},children:[R&&(0,c.jsx)(d,{commentCount:u?0:Math.max(l+D,0),collapsed:!S,onIconClick:function(){k&&k(!S)},showCommentCount:!s}),ee&&S&&(0,c.jsxs)(r.Fragment,{children:[!!T&&(0,c.jsx)(a.gr,{container:T,isAtEnd:q,isFetching:Y,fetchMore:M?void 0:W}),(0,c.jsx)(f.Z,{comments:$,commentsDisabled:u,featuredCommentId:P,gapSize:5,isDesktop:!0,isLoaded:X||!H,isLoading:X&&j,toggleReplyComposer:function(e){ei(null==e?void 0:e.id)},parentId:null!=t?t:void 0,parentType:v.o.pin,replyingToCommentId:er,toggleHelpful:function(e,t,n){return function(){n?z((0,x.YH)({didItDataId:e,isMarkedHelpfulByMe:t})):U({aggregatedCommentId:e,isMarkedHelpfulByMe:t})}},toggleLike:function(e,t,n){return function(){n?z((0,x.wH)({didItDataId:e,isLikedByMe:t})):K({aggregatedCommentId:e,isLikedByMe:t})}},userAvatarSize:"sm",isORBACProfileManager:w,aggregatedPinDataId:t,closeupAttributionId:n,closeupAttributionUsername:o,pinId:E,isVideo:O,storyPinDataId:F,pinnerId:I,showReactionListForComment:el,reactionListCommentId:ea,viewParameter:L})]})]})};function E(e){var t=(0,i.useDispatch)();return(0,c.jsx)(D,O(O({},e),{},{featuredCommentId:(0,p.K)(),pinUpdateCommentCount:function(e,n){return t((0,P.R)(e,n))}}))}},785430:function(e,t,n){"use strict";n.d(t,{$y:function(){return t5},Xl:function(){return t6},f9:function(){return t7},z8:function(){return t4},Q2:function(){return ne},te:function(){return t2}});var r,i,o,a,l,s=n(76911),u=n(506979),c=n(599689),d=n(908390),p=n(994608),f=n(874259),m=n(258140),y=n(898781),h=n(784590),g=n(8742),v=n(515198);function b(e){var t=e.newsId,n=e.currentPinId,r=((0,h.Z)({name:"NewsHubDetailsResource",options:{news_id:t,page_size:3},noCache:!0}).data||[]).reduce(function(e,t){return(e||[]).concat(t&&t.content_items||[])},[]).map(function(e){return e.content_object}).filter(function(e){return e.id!==n}).slice(0,14),i=(0,y.ZP)(),o=i._('Inspired by you', 'closeup.notifModule.heading', 'The header for the notif pins module for pins recommended in the same email');return r.length>0&&(0,v.jsxs)(d.xu,{marginTop:10,marginBottom:10,children:[(0,v.jsx)(d.X6,{size:"400",align:"center",children:o}),(0,v.jsx)(d.xu,{marginTop:4,marginStart:12,display:"block",fit:!0,children:(0,v.jsx)(d.kC,{direction:"row",gap:1,overflow:"scrollX",flex:"grow",children:r.map(function(e,t){return(0,v.jsx)(d.kC.Item,{children:"pin"===e.type?(0,v.jsx)(d.xu,{height:236,width:236,marginEnd:4,children:(0,v.jsx)(g.ZP,{duploQueryRef:null,pin:e,pinId:e.id,pinImageCrop:{height:236,width:236},slotIndex:t,viewParameter:3082,viewType:3})},t):null},e.id)})})})]})}n(704217);var _=n(215292);function x(e){var t=e.handleClick,n=e.pins,r=e.title,i=e.viewportSize;if(n.length<1)return null;var o="narrow"===i,a=Math.min(n.length,(o?4:5)-1),l=n.slice(0,a+1),s=o?553:807,u=o?266:292,c=o?118:139,p=o?176:208,f=l.map(function(e,t){var n,r,i,o=e.description,a=e.entityId,l=e.image236x;return(0,v.jsx)(d.xu,{width:c,height:p,marginStart:0!==t?4:0,overflow:"hidden",dangerouslySetInlineStyle:{__style:{borderRadius:"7px"}},children:(0,v.jsx)(d.zd,{wash:!0,width:c,height:p,children:(0,v.jsx)(d.Ee,{alt:null!=o?o:"",src:null!==(n=null==l?void 0:l.url)&&void 0!==n?n:"",naturalWidth:null!==(r=null==l?void 0:l.width)&&void 0!==r?r:1,naturalHeight:null!==(i=null==l?void 0:l.height)&&void 0!==i?i:1,fit:"cover"})})},a)});return(0,v.jsx)(_.q,{children:function(e){var n=e.hovered,i=e.onMouseEnter,o=e.onMouseLeave;return(0,v.jsx)(d.iP,{onMouseEnter:i,onMouseLeave:o,onTap:t,children:(0,v.jsxs)(d.xu,{"data-test-id":"shop-entry-container",display:"flex",justifyContent:"center",color:n?"secondary":"default",direction:"column",position:"relative",width:s,height:u,marginBottom:7,dangerouslySetInlineStyle:{__style:{borderRadius:"23px",marginTop:"18px"}},children:[(0,v.jsx)(d.xu,{marginBottom:4,children:(0,v.jsx)(d.xv,{align:"center",size:"300",weight:"bold",children:r})}),(0,v.jsx)(d.kC,{alignItems:"stretch",justifyContent:"center",width:s,children:f})]})})}})}var P=n(407043),S=n(916117),j=n(564194);function w(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var A=void 0!==r?r:r=n(956886),k=void 0!==i?i:i=n(45159);function C(e){var t=(0,c.useHistory)(),n=(0,P.v)().logContextEvent,r=e.pinKey,i=e.searchQuery,o=e.slotIndex,a=e.storyKey,l=e.trafficSource,s=e.viewParameter,u=e.viewportSize,d=(0,S.u)(A,r).data,p=(0,S.u)(k,a).data,f=p.contentIds,m=p.storyId,y=p.objects,h=p.storyType,g=p.storyTitle,b=(null==g?void 0:g.format)||"";return y&&y.length<1?null:(0,v.jsx)(j.Z,{componentType:0,contextLogData:{content_ids:(f||[]).map(function(e){return"pin:".concat(e)}).join("|"),story_id:m,story_type:h},impressionType:"Story",loggingId:m,slotIndex:o,viewParameter:s,viewType:3,children:(0,v.jsx)(x,{pins:y?y.map(function(e){var t=e.entityId,n=e.description,r=e.imageSpec_236x;return{description:n,entityId:t||"",image236x:r&&{width:r.width,height:r.width,url:r.url}}}):[],title:b,handleClick:function(){n({event_type:101,view_type:3,view_parameter:139,component:200,aux_data:{story_id:m,story_type:h}});var e=[].concat(w(l&&"unknown"!==l?[].concat(w(i?["q=".concat(i)]:[]),["rs=".concat(l)]):[]),["surfaceType=stela"]);t.push("/pin/".concat(d.entityId,"/visual-search/?").concat(e.join("&")))},viewportSize:u})})}var D=n(360961),E=n(438799),I=void 0!==o?o:o=n(551542);function T(e){var t,n=e.clientTrackingParams,r=e.pinKey,i=e.searchQuery,o=e.setRelatedPinsHeaderRef,a=e.slotIndex,l=e.story,s=e.trafficSource,u=e.viewParameter,c=e.viewportSize,p=(0,S.u)(I,r).data;return l?"related_products_collage"===l.story_type?(0,v.jsx)(d.xu,{alignSelf:"center",children:(0,v.jsx)(C,{pinKey:p,searchQuery:i,slotIndex:a,storyKey:{type:"deprecated",data:l},trafficSource:s,viewParameter:u,viewportSize:c})}):"SKIN_TONE_FILTER_QUERIES"===l.story_type?(0,v.jsx)(d.xu,{alignSelf:"center",children:(0,v.jsx)(E.Z,{story:l})}):"related_modules_header"===l.story_type?(0,v.jsx)(d.xu,{"data-test-id":"related-modules-header",ref:o,children:(0,v.jsx)(D.Z,{clientTrackingParams:n,slotIndex:a,storyId:l.id,storyType:l.story_type,title:null===(t=l.title)||void 0===t?void 0:t.format,viewParameter:u})}):null:null}var R=n(575576),F=n(361259),L=n(356997),z=n(444445),M=n(149230),B=n(96939),N=[81];function Z(e){var t=e.data||{},n=t.action,r=t.container_type,i=t.objects,o=t.title,a=(null!=o?o:{}).format,l=null!=n?n:{},s=l.text,u=l.url,c=l.user,p=void 0===c?{}:c,f=p.image_large_url,m=p.full_name,y=((null==i?void 0:i.find(function(e){return"pin"===e.type}))||{}).images,h=null,g=(0,M.Z)({url:u})?"nofollow":"none";return 81===r&&(h=(0,v.jsxs)(d.kC,{direction:"column",gap:{row:0,column:2},children:[(0,v.jsxs)(d.xu,{position:"relative",children:[(0,v.jsx)(B.Z,{coverImages:null!=y?y:void 0,height:z.yF,text:null!=a?a:"",textType:"text",url:null!=u?u:""}),p.imageUrl&&(0,v.jsx)(d.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,v.jsx)(L.qE,{outline:!0,size:"md",src:null!=f?f:"",name:m||""})})]}),(0,v.jsx)(d.ZP,{rel:g,fullWidth:!0,size:"lg",text:null!=s?s:"",href:null!=u?u:""})]})),h}var U=n(112690),K=n(18514),H=n(329734),V=n(692627),G=n(317254),W=n(53325),q=n(430323),Y=n(92331),X=n(67347),$=["pinKey"];function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){eo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ea(r.key),r)}}function en(e,t){return(en=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function er(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eo(e,t,n){return(t=ea(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ea(e){var t=function(e,t){if("object"!==Q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Q(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Q(t)?t:String(t)}var el=void 0!==a?a:a=n(519155),es=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&en(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=ei(o);if(t){var r=ei(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return er(e)}(this,e)});function o(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var e,t,n,r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];return eo(er(n=i.call.apply(i,[this].concat(a))),"state",{imageHeightModifier:null===(e=n.props.relatedPinsResource.auxData)||void 0===e?void 0:null===(t=e.grid_layout)||void 0===t?void 0:t.w_h_ratio}),eo(er(n),"scrollContainerRef",(0,s.createRef)()),eo(er(n),"renderItem",function(e){var t,r,i,o,a,l,s,u=e.data,c=e.itemIdx,d=n.props.lfvExperiences,p=n.state.imageHeightModifier;if("story"===u.type)(0,X.nP)("web_story_card_type",{sampleRate:1,tags:{story_type:u.story_type||"unknown",surface:"closeup"}}),s="BUBBLE_ONE_COL"===u.story_type?(0,v.jsx)(Y.Z,{bubbles:u.objects,id:u.id,referringSource:u.referring_source,slotIndex:c,storyType:u.story_type,title:u.title,viewType:3,viewParameter:(0,V.Z)({hasPin:!!n.props.pin,hasPinRichMetadata:!!n.props.pin.richMetadata,hasPinRichMetadataProducts:!!(null!==(t=n.props.pin.richMetadata)&&void 0!==t&&t.products),hasPinRichMetadataArticle:!!(null!==(r=n.props.pin.richMetadata)&&void 0!==r&&r.article),hasPinRichMetadataRecipe:!!(null!==(i=n.props.pin.richMetadata)&&void 0!==i&&i.recipe),hasPinStoryPinData:!!n.props.pin.storyPinData})}):null,u.container_type&&N.includes(u.container_type)&&(s=(0,v.jsx)(Z,{data:u}));else{var f=(0,H.Z)(d);s=(0,v.jsx)(g.ZP,{duploQueryRef:null,imageOnlyOption:f?"image-only":"default",pin:u,pinId:u.id,pinImageCrop:p?{height:W.zX*p,width:W.zX}:null,authDesktopSurface:"RelatedPinGrid",componentType:13007,slotIndex:c,viewData:{pin_id:n.props.pin.entityId},viewParameter:(0,V.Z)({hasPin:!!n.props.pin,hasPinRichMetadata:!!n.props.pin.richMetadata,hasPinRichMetadataProducts:!!(null!==(o=n.props.pin.richMetadata)&&void 0!==o&&o.products),hasPinRichMetadataArticle:!!(null!==(a=n.props.pin.richMetadata)&&void 0!==a&&a.article),hasPinRichMetadataRecipe:!!(null!==(l=n.props.pin.richMetadata)&&void 0!==l&&l.recipe),hasPinStoryPinData:!!n.props.pin.storyPinData}),viewType:3})}return(0,v.jsx)(R.Z,{children:s})}),n}return n=[{key:"componentDidMount",value:function(){var e,t,n;this.props.logContextEvent({event_type:13,view_parameter:(0,V.Z)({hasPin:!!this.props.pin,hasPinRichMetadata:!!this.props.pin.richMetadata,hasPinRichMetadataProducts:!!(null!==(e=this.props.pin.richMetadata)&&void 0!==e&&e.products),hasPinRichMetadataArticle:!!(null!==(t=this.props.pin.richMetadata)&&void 0!==t&&t.article),hasPinRichMetadataRecipe:!!(null!==(n=this.props.pin.richMetadata)&&void 0!==n&&n.recipe),hasPinStoryPinData:!!this.props.pin.storyPinData}),view_type:3,component:86})}},{key:"componentDidUpdate",value:function(e){var t,n,r,i,o=this.props.relatedPinsResource;this.state.imageHeightModifier||null!==(t=e.relatedPinsResource.auxData)&&void 0!==t&&null!==(n=t.grid_layout)&&void 0!==n&&n.w_h_ratio||null===(r=o.auxData)||void 0===r||null===(i=r.grid_layout)||void 0===i||!i.w_h_ratio||this.setState({imageHeightModifier:o.auxData.grid_layout.w_h_ratio}),this.scrollContainerRef.current=window}},{key:"render",value:function(){var e,t,n,r=this.props,i=r.pin,o=r.relatedPinsResource,a=o.data,l=o.fetchMore,s=o.isAtEnd,u=o.isFetching;if(!o.isLoaded)return null;var c="relatedPins:".concat(i.entityId),p=["related_products_button_footer","related_domain_carousel","related_products_feed_header"],f=(a||[]).slice(1).filter(function(e){return!p.includes(null==e?void 0:e.story_type)});return(0,v.jsxs)(d.xu,{children:[f&&this.props.hasSimplifiedPinGridExpLoaded&&(0,v.jsx)(q.Z,{viewParameter:(0,V.Z)({hasPin:!!this.props.pin,hasPinRichMetadata:!!this.props.pin.richMetadata,hasPinRichMetadataProducts:!!(null!==(e=this.props.pin.richMetadata)&&void 0!==e&&e.products),hasPinRichMetadataArticle:!!(null!==(t=this.props.pin.richMetadata)&&void 0!==t&&t.article),hasPinRichMetadataRecipe:!!(null!==(n=this.props.pin.richMetadata)&&void 0!==n&&n.recipe),hasPinStoryPinData:!!this.props.pin.storyPinData}),component:86,children:(0,v.jsx)(G.Z,{isAtEndOfFeed:s,itemCount:f.length,children:(0,v.jsx)(K.default,{columnWidth:z.yF,renderItem:this.renderItem,items:f,loadItems:l,cacheKey:c,isFetching:u,paddingStyle:"simplified",scrollContainerRef:this.scrollContainerRef,serverRender:!0})})}),(0,v.jsx)(d.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,v.jsx)(d.$j,{accessibilityLabel:this.props.i18n._('Loading related products results', 'closeup.relatedProducts.results', 'Accessibility label for loading related products results'),show:u})})]})}}],et(o.prototype,n),r&&et(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(s.Component);function eu(e){var t=e.pinKey,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,$),r=(0,y.ZP)(),i=(0,U.Z)(),o=(0,F.$)().hasSimplifiedPinGridExpLoaded,a=(0,S.u)(el,t).data;return(0,v.jsx)(es,ee(ee({},n),{},{pin:a,hasSimplifiedPinGridExpLoaded:o,i18n:r,logContextEvent:i}))}var ec=n(786871);function ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ep=new Set(["related_modules_header","related_products_feed_header"]),ef=new Set([].concat(function(e){if(Array.isArray(e))return ed(e)}(ep)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(ep)||function(e,t){if(e){if("string"==typeof e)return ed(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ed(e,t)}}(ep)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["related_domain_carousel","related_products_collage","SKIN_TONE_FILTER_QUERIES"])),em=void 0!==l?l:l=n(223884);function ey(e){var t=e.pinKey,n=e.searchQuery,r=e.relatedResourceOptions,i=e.setRelatedPinsHeaderRef,o=e.trafficSource,a=e.viewParameter,l=e.viewportSize,s=e.clientTrackingParams,u=(0,h.Z)({name:r.name,options:r.options}),c=(0,ec.Z)(),p=(0,S.u)(em,t).data;return(0,v.jsxs)(d.xu,{"data-test-id":"relatedPins",display:"flex",direction:"column",flex:"grow",position:"relative",children:[(u.data||[]).filter(function(e){return ef.has(e.story_type)}).map(function(e,t){return(0,v.jsx)(d.xu,{display:"flex",direction:"column",children:(0,v.jsx)(T,{clientTrackingParams:s,pinKey:p,searchQuery:n,setRelatedPinsHeaderRef:i,slotIndex:t,story:e,trafficSource:o,viewParameter:a,viewportSize:l})},"related-module-".concat(e.id))}),(0,v.jsx)(d.xu,{children:(0,v.jsx)(eu,{lfvExperiences:c,pinKey:p,relatedPinsResource:u})})]})}var eh=n(737930),eg=n(755742);function ev(e){return(ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eS(r.key),r)}}function e_(e,t){return(e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ex(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eP(e){return(eP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eS(e){var t=function(e,t){if("object"!==ev(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ev(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ev(t)?t:String(t)}var ej=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e_(e,t)}(i,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=eP(i);if(t){var r=eP(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===ev(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ex(e)}(this,e)});function i(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var e,t,n,o,a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=ex(e=r.call.apply(r,[this].concat(l))),n="handleKeyDown",o=function(t){var n=e.props,r=n.onClose,i=n.goToNext,o=n.goToPrevious,a=t.keyCode||t.code;t.ctrlKey||t.metaKey||["input","select","button","textarea"].includes(((document.activeElement||{}).tagName||"").toLowerCase())||document.activeElement&&document.activeElement.isContentEditable||(a===eg.Z.LEFT?(t.preventDefault(),t.stopPropagation(),o&&o(),(0,X.nP)("web_keydown_left")):a===eg.Z.RIGHT?(t.preventDefault(),t.stopPropagation(),i&&i(),(0,X.nP)("web_keydown_right")):a===eg.Z.ESCAPE&&(t.preventDefault(),t.stopPropagation(),r()))},(n=eS(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,e}return eb(i.prototype,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return null}}]),n&&eb(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(s.PureComponent),ew=n(319247),eO=n(608440),eA=n(801827),ek=n(128503),eC=n(391254);function eD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eE="SelectInterest",eI={__style:{animationName:"".concat(eE,"_AnimateIn, ").concat(eE,"_CircleAnimateOut"),animationDuration:"0.3s, 0.3s",animationDelay:"0.3s, 1s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(196, 196, 196, 0.1)"}},eT={__style:{animationName:"".concat(eE,"_AnimateIn, ").concat(eE,"_AnimateOut"),animationDuration:"0.3s, 0.5s",animationDelay:"0.3s, 1.1s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}},eR=function(e){var t,n,r=e.anchor,i=e.endAnimation,o=e.interest,a=function(e){if(Array.isArray(e))return e}(t=(0,s.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eD(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],u=a[1],c=o.images["400x"],p=c.width,f=c.height,m=c.url,y=function(){i(o.id)},h=function(){u(!0),n=setTimeout(y,2e3)},g=function(){var e=new Image;e.src=null!=m?m:"",e.onload=h};(0,s.useEffect)(function(){return g(),function(){n&&clearTimeout(n)}},[]);var b=(null==r?void 0:r.getBoundingClientRect())||{},_=b.top,x=b.left,P=b.bottom,S=b.right;return!!r&&l&&(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(eC.Z,{unsafeCSS:"\n@keyframes ".concat(eE,"_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes ").concat(eE,"_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes ").concat(eE,"_AnimateOut {\n  from {\n    transform: translateX(0) translateY(0) scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: translateX(-25px) translateY(-200px) scale(0.1);\n    opacity: 0;\n  }\n}\n")}),(0,v.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{top:((void 0===_?0:_)+(void 0===P?0:P))/2+100,left:((void 0===x?0:x)+(void 0===S?0:S))/2+-75}},display:"flex",justifyContent:"center",position:"fixed",width:200,height:200,children:[(0,v.jsx)(d.xu,{alignItems:"center",dangerouslySetInlineStyle:eI,display:"flex",height:"100%",justifyContent:"center",opacity:0,rounding:"circle",width:"100%"}),(0,v.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:eT,height:100,left:!0,margin:"auto",opacity:0,position:"absolute",rounding:3,right:!0,top:!0,width:100,children:(0,v.jsx)(d.zd,{height:"100%",rounding:4,width:"100%",wash:!0,children:(0,v.jsx)(d.Ee,{alt:"pin-image",fit:"cover",naturalHeight:null!=p?p:1,naturalWidth:null!=f?f:1,src:null!=m?m:""})})})]})]})},eF=n(844974),eL=n(339363),ez=n(965900),eM=n(833991),eB=n(550448),eN=n(275445),eZ=n(578248);function eU(e){return(eU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eK(Object(n),!0).forEach(function(t){eV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eV(e,t,n){var r;return(r=function(e,t){if("object"!==eU(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eU(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===eU(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eW(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eq="cubic-bezier(0.66, 0.025, 0.33, 0.975)",eY=function(){var e=(0,eF.qn)("lastViewedMiniRenux");return!!(e&&Date.now()-Number(e)<2592e5)},eX="RelatedInterestsBanner_SlideIn ".concat(250,"ms forwards ").concat(eq),e$=function(e){return{view_type:e,view_parameter:136,component:13489}};function eQ(e){var t,n=e.onDismiss,r=e.relatedInterests,i=e.viewType,o=(0,P.v)().logContextEvent,a=(0,y.ZP)(),l=eG((0,s.useState)(!0),2),p=l[0],f=l[1],m=eG((0,s.useState)(!1),2),h=m[0],g=m[1],b=eG((0,s.useState)([]),2),_=b[0],x=b[1],S=eG((0,s.useState)(_.reduce(function(e,t){return e[t.id]=!1,e},{})),2),j=S[0],w=S[1],O=eG((0,s.useState)(),2),A=O[0],k=O[1],C=eG((0,s.useState)(),2),D=C[0],E=C[1],I=eG((0,s.useState)(),2),T=I[0],R=I[1],F=(0,ez.I)().appUI.viewportSize,L=(0,c.useHistory)(),z=(0,u.useDispatch)();(0,s.useEffect)(function(){r&&r.length>=5&&(x(r.slice(0,6)),f(!1),o({event_type:9025,view_type:i}),g(eY()),(0,eL.Nh)("viewedMiniRenux",!0),(0,eF.Nh)("lastViewedMiniRenux",Date.now()))},[r]),(0,s.useEffect)(function(){return function(){clearTimeout(A),clearTimeout(D),clearTimeout(t)}},[]);var M=(0,eB.p)(),B=M.isTooltipOnLogoButtonShown,N=M.logoButtonRef,Z=M.toggleTooltipOnLogoButton,U=function(){return Z(!1)},K=function(){return Z(!0)},H=function(){B?(A&&clearTimeout(A),k(setTimeout(U,7e3))):(D&&clearTimeout(D),A&&clearTimeout(A),E(setTimeout(K,3e3)),k(setTimeout(U,1e4)))},V=function(e){f(!p);var n=e?Object.freeze({}):{element:179};R(!0),t=setTimeout(function(){return R(!1)},125),o(eH(eH({event_type:e&&(p?107:106)||101},e$(i)),n))},G=function(e){var t=_.findIndex(function(t){return t.id===e.id}),n=!e.is_followed,r=_.slice();r[t]=eH(eH({},e),{},{is_followed:n}),x(r),n&&w(eH(eH({},j),{},eV({},e.id,!0))),Promise.resolve(z((0,eZ.bJ)(eV({},e.id,n),"mini_renux"))).then(function(){n&&H(),z((0,eZ.H5)(!0))}),o(eH(eH({event_type:101},e$(i)),{},{element:n?1030:1151})),(0,eL.Nh)("completedMiniRenux",!0)},W=function(e){return w(eH(eH({},j),{},eV({},e,!1)))},q=a._('Welcome back!', 'relatedInterestsBanner.header', 'Welcome header on related interests banner'),Y=a._('Tell us what else you\'re interested in', 'relatedInterestsBanner.subheader', 'Subheader on realted interests banner instructing users to select interests'),X=(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(d.xu,{display:"flex",marginStart:-2,children:_.slice(0,3).map(function(e){var t,n,r,i=e.images["400x"];return i?(0,v.jsx)(d.xu,{marginStart:2,rounding:2,children:(0,v.jsx)(d.zd,{height:64,rounding:4,width:64,children:(0,v.jsx)(d.Ee,{alt:a._('Related interest image thumbnail', 'relatedInterestsBanner.image.thumbnail', 'Label for related interests image preview thumbnail'),color:e.background_color,fit:"cover",naturalHeight:null!==(t=i.height)&&void 0!==t?t:1,naturalWidth:null!==(n=i.width)&&void 0!==n?n:1,src:null!==(r=i.url)&&void 0!==r?r:""})})},i.url):null})}),(0,v.jsxs)(d.xu,{direction:"column",display:"flex",marginEnd:6,paddingX:6,children:[(0,v.jsx)(d.xv,{children:q}),(0,v.jsx)(d.X6,{size:"400",children:Y})]}),(0,v.jsx)(d.zx,{onClick:function(){return V(!1)},text:a._('Choose topics', 'relatedInterestsBanner.button.chooseTopics', 'Choose topics button, expands banner to show topics')})]}),$=(0,v.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,v.jsx)(d.xv,{align:"center",children:q}),(0,v.jsx)(d.X6,{align:"center",size:"400",children:Y}),(0,v.jsx)(d.xu,{display:"flex",marginStart:-2,paddingY:4,children:_.map(function(e){return(0,v.jsx)(d.xu,{marginStart:2,display:"flex",direction:"column",justifyContent:"start",children:(0,v.jsx)(eN.Z,{clickHandler:function(){return G(e)},interest:e,interestRef:null,isSelected:e.is_followed,size:"md_120"})},e.id)})}),(0,v.jsx)(d.zx,{color:"red",disabled:0===_.filter(function(e){return e.is_followed}).length,onClick:function(){L.push("/"),o(eH(eH({event_type:101},e$(i)),{},{element:76}))},text:a._('See your new home feed', 'relatedInterestsBanner.button.seeHomefeed', 'Submit selected topics and go to updated homefeed button')})]}),Q=new d.H3([new d.Ry(eM.HW)]);return _.length>=5&&!h?(0,v.jsxs)(d.mh,{children:[(0,v.jsx)(eC.Z,{unsafeCSS:"\n@keyframes RelatedInterestsBanner_SlideIn {\n  from { transform: translateY(".concat(128,"px); }\n  to { transform: translateY(0); }\n}\n")}),(0,v.jsx)(d.iP,{onTap:p?function(){}:function(){return V(!1)},children:(0,v.jsxs)(d.xu,{alignItems:"center",bottom:!0,borderStyle:"shadow",color:"default",dangerouslySetInlineStyle:{__style:{animation:eX,WebkitAnimation:eX,cursor:p?"default":"pointer",transition:"min-height ".concat(250,"ms ").concat(eq)}},display:"flex",minHeight:p?328:128,justifyContent:"center",left:!0,padding:8,position:"fixed",right:!0,zIndex:Q,children:[!T&&(p?$:X),(0,v.jsx)(d.xu,{padding:"lg"===F||p?8:4,position:"lg"===F||p?"absolute":"static",right:!0,top:p,children:(0,v.jsx)(d.hU,{accessibilityLabel:a._('Dismiss icon button', 'relatedInterestsBanner.button.dismiss', 'Icon button to close banner'),icon:"cancel",iconColor:"darkGray",onClick:function(){return n(p)},size:"md"})})]})}),_.map(function(e){return j[e.id]?(0,v.jsx)(eR,{anchor:N,interest:e,endAnimation:W},e.id):null})]}):null}function eJ(e){var t=e.onDismiss,n=e.pinId,r=(0,h.Z)({name:"PinInterestsResource",options:{hideFollowed:!0,limit:6,pinId:n}}).data;return(0,v.jsx)(eQ,{onDismiss:t,relatedInterests:r,viewType:3})}var e0=n(167137),e1=n(206663),e2=n(712331),e8=n(21353),e3=n(4294),e9=n(326884),e6=n(834911),e5=n(737022),e7=n(768559),e4=n(319915),te=n(673270),tt=n(147128),tn=n(322617),tr=n(327788),ti=n(502517),to=n(186656),ta=n(507712),tl=n(251819),ts=n(926275),tu=n(411938),tc=n(750391),td=n(184578),tp=n(623568),tf=n(359969),tm=n(489494),ty=n(802933),th=n(773285),tg=n(276602),tv=n(31062),tb=n(780280),t_=n(947599),tx=n(957161),tP=n(764537),tS=n(700380),tj=n(52022),tw=n(203138),tO=n(343341),tA=n(999018),tk=n(19121),tC=n(717615),tD=n(231947),tE=n(92261),tI=n(966676),tT=n(819303),tR=n(559073),tF=n(951786),tL=n(313951),tz=n(730654),tM=n(534991),tB=n(977558),tN=n(807532),tZ=n(709113);function tU(e){return(tU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tH(Object(n),!0).forEach(function(t){tX(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,t$(r.key),r)}}function tW(e,t){return(tW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tq(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tY(e){return(tY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tX(e,t,n){return(t=t$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t$(e){var t=function(e,t){if("object"!==tU(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tU(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tU(t)?t:String(t)}var tQ=(0,s.lazy)(function(){return n.e(58789).then(n.bind(n,70943))}),tJ=(0,s.lazy)(function(){return n.e(95246).then(n.bind(n,263551))}),t0=(0,s.lazy)(function(){return n.e(75754).then(n.bind(n,849086))}),t1={storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}},t2={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32};function t8(e){var t=e.conversation_id,n=e.senderId,r=e.pinId;(0,to.Z)({url:"/v3/conversations/".concat(t,"/message/mark_seen/"),method:"POST",data:{sender:n,pin:r}})}var t3=function(e){var t=e.isWideVideo;return!["md","sm"].includes(e.viewportSize)&&!t},t9=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tW(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=tY(o);if(t){var r=tY(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===tU(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tq(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return tX(tq(e=i.call.apply(i,[this].concat(n))),"state",e.props.initialState),tX(tq(e),"removedPwtThumbnailsConstraint",!1),tX(tq(e),"setCloseupBodyContainerRef",function(t){e.closeupBodyContainerRef=t}),tX(tq(e),"setResultScrollContainerRef",function(t){e.resultScrollContainer||(e.resultScrollContainer=t,e.forceUpdate())}),tX(tq(e),"setRelatedPinsHeaderRef",function(t){e.relatedPinsHeaderRef=t}),tX(tq(e),"mounted",!1),tX(tq(e),"handleCloseupBodyUpdate",function(){e.updateViewportSize()}),tX(tq(e),"updateViewportSize",function(){if(e.mounted){var t="lg";window&&window.innerWidth<1056&&(t=window&&window.innerWidth<680?"sm":"md"),e.setState({hideBackButton:window&&("lg"===t&&window.innerWidth<=1135||["md","sm"].includes(t)&&window.innerWidth<=630),backButtonLabelFitInScreen:window&&"lg"===t&&window.innerWidth>=1340,viewportSize:t})}}),tX(tq(e),"throttleUpdateViewportSize",(0,tS.Z)(e.updateViewportSize,50)),tX(tq(e),"clickThroughTimer",function(){var t=e.props.setPlacementExtraContext;clearInterval(e.state.intervalId),t&&t({didLongClickThrough:!0})}),tX(tq(e),"executeClickthrough",function(t){var n,r,i,o=e.props,a=o.pinId,l=o.setPlacementExtraContext,s=o.viewer,u=o.trafficSource,c=o.logContextEvent,d=o.getStringifiedCommerceAuxData,p=o.pinFormattedLink,f=e.state,m=f.pin,y=f.didPinClickThrough,h=f.didShortClickThrough,g=!!m.story_pin_data_id,v=t||{},b=v.wasImageClicked,_=v.auxData,x=v.componentType,P=void 0===x?g?228:4:x,S=v.elementType,j=void 0===S?b?35:g?11157:361:S,w=v.viewType,O=void 0===w?3:w,A=(0,V.Z)({hasPin:!!e.props.pin,hasPinRichMetadata:!!e.props.pin.rich_metadata,hasPinRichMetadataProducts:!!(null!==(n=e.props.pin.rich_metadata)&&void 0!==n&&n.products),hasPinRichMetadataArticle:!!(null!==(r=e.props.pin.rich_metadata)&&void 0!==r&&r.article),hasPinRichMetadataRecipe:!!(null!==(i=e.props.pin.rich_metadata)&&void 0!==i&&i.recipe),hasPinStoryPinData:!!e.props.pin.story_pin_data}),k=tV(tV({},d()),_||{});if(s&&s.isAuth&&!y&&l&&(l({didPinClickThrough:!0}),e.setState({didPinClickThrough:!0})),g&&c({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:m.id,url:p}}),c({event_type:101,object_id_str:a,component:P,element:j,aux_data:tV(tV({},d()),_||{})}),c({event_type:12,object_id_str:a,view_type:O,view_parameter:A,component:P,element:j,aux_data:k}),c({event_type:8948,view_type:O,view_parameter:A,component:P,element:j,object_id_str:a,aux_data:tV(tV({click_type:"clickthrough",closeup_navigation_type:u&&(0,tp.sV)(u)?"deeplink":"click"},d()),_||{})}),b){var C=setInterval(e.clickThroughTimer,12e4);e.setState({intervalId:C})}e.clickThroughStartTime=Date.now(),h&&e.setState({didShortClickThrough:!1})}),tX(tq(e),"handleFocus",function(){var t=e.props.setPlacementExtraContext;clearInterval(e.state.intervalId),t&&t({didLongClickThrough:!1})}),tX(tq(e),"handleWindowFocus",function(){if(e.clickThroughStartTime>0){var t=Date.now()-e.clickThroughStartTime<5e3;e.setState({didShortClickThrough:t}),e.clickThroughStartTime=0}}),tX(tq(e),"handleSaveClicked",function(){e.props.logContextEvent({event_type:101,object_id_str:e.state.pin.id,component:4,element:0,aux_data:tV({},e.props.getStringifiedCommerceAuxData())})}),tX(tq(e),"handleBackButtonClick",function(){e.props.onHandleBackButtonClick()}),tX(tq(e),"handleCarouselSwipe",function(t){var n=e.state,r=n.visualState;n.firstLoadComplete&&e.setState({visualState:tV(tV({},r),{},{carouselData:tV(tV({},r.carouselData),{},{index:t})})})}),tX(tq(e),"dispatch",function(t,n){return e.setState(function(e){return(0,ew.Z)(e,t)},n)}),tX(tq(e),"handleScroll",(0,tS.Z)(function(){var t=e.state.isOverRelatedPins;if(e.relatedPinsHeaderRef){var n=tB.hu,r=e.relatedPinsHeaderRef.getBoundingClientRect().top<=n;r&&!t?e.setState({isOverRelatedPins:!0}):!r&&t&&e.setState({isOverRelatedPins:!1})}},10)),tX(tq(e),"onToggleIdeaPinCloseupPanel",function(t){e.setState({isCloseupMaximized:!t}),e.closeupBodyContainerRef&&(e.closeupBodyContainerRef.ariaHidden=!t)}),tX(tq(e),"onWrapperClick",function(t){t.stopPropagation(),e.handleBackButtonClick()}),tX(tq(e),"onRelatedInterestsBannerDismiss",function(t){e.props.logContextEvent({event_type:101,view_type:3,view_parameter:136,component:t?13489:13822,element:11925}),e.setState({isRelatedInterestsBannerDismissed:!0})}),tX(tq(e),"handleIdeaCloseupCommentIconClick",function(t){e.setState({isCommentSectionOpen:t})}),tX(tq(e),"getClientTrackingParams",function(){var t,n,r,i=e.props,o=i.pin,a=i.location;return null!==(t=(0,e7.Z)({boardUrl:null===(n=o.board)||void 0===n?void 0:n.url,location:a,pinId:o.id,pinnerUserName:null===(r=o.pinner)||void 0===r?void 0:r.username,storyPinDataId:o.story_pin_data_id,trackingParams:o.tracking_params,trackingParamsMap:o.tracking_params_map}))&&void 0!==t?t:""}),e}return n=[{key:"componentDidMount",value:function(){var e,t,n,r=this.props,i=r.conversation_id,o=r.conversationOpen,a=r.pin,l=r.pinId,s=r.senderId,u=r.setPlacementExtraContext,c=r.shouldShowInbox,d=r.openInbox;this.mounted=!0,i&&s&&l&&t8({conversation_id:i,senderId:s,pinId:l}),i&&(o(i),c&&d()),a.image_signature&&this.props.setMostRecentPinImage(a.image_signature),l&&this.props.setMostRecentPinId(l),u&&u({is_own_or_group_pin:this.isOwnOrGroupPin}),this.updateViewportSize(),window.addEventListener("resize",this.throttleUpdateViewportSize),window.addEventListener("focus",this.handleWindowFocus),null!==(e=window)&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&null!==(n=t.search)&&void 0!==n&&n.includes("invite_code=")&&(0,ta.Z)()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.didRepin,r=t.isLandingPage,i=t.pin,o=t.pinId,a=t.conversation_id,l=t.senderId,s=t.pinResource.data,u=t.pwtSurfaceContext,c=t.setPlacementExtraContext,d=this.state,p=d.visualState.carouselData,f=d.firstLoadComplete;this.visualDataDidUpdate(),f&&!this.removedPwtThumbnailsConstraint&&(null==u||u.removeConstraint("thumbnailsLoaded"),this.removedPwtThumbnailsConstraint=!0),s&&!f&&(s.carousel_data&&(s.carousel_data.index=(null==p?void 0:p.index)||0),this.dispatch({type:"pinLoaded",pin:s})),a&&l&&o&&e.pinId!==o&&t8({conversation_id:a,senderId:l,pinId:o});var m={};(tx.Z.getItem(tZ.W3)||"").includes("/pin/".concat(o))&&r&&(m.loginPageType="pin"),n&&(m.didRepin=!0),i.image_signature&&(m.pin_image_signature=i.image_signature),m.is_own_or_group_pin=this.isOwnOrGroupPin;var y=e.didRepin,h=e.isLandingPage,g=e.pinId;!(0,tl.Z)(m)&&(y!==n||r!==h||g!==o)&&c&&c(tV({},m))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.throttleUpdateViewportSize),window.removeEventListener("focus",this.handleWindowFocus),this.mounted=!1}},{key:"isOwnOrGroupPin",get:function(){var e,t,n=this.props,r=n.pin,i=n.viewer,o=(r||{}).board||{},a=o.is_collaborative&&(0,e3.Z)(o.collaborated_by_me,null===(e=o.owner)||void 0===e?void 0:e.id,i);return!!(i.isAuth&&(null===(t=r.pinner)||void 0===t?void 0:t.id)===i.id||a)}},{key:"visualDataDidUpdate",value:function(){var e,t,n,r,i,o,a,l,s=this.props,u=s.pin,c=s.mainImage,d=this.state,p=d.visualState,f=p.carouselData,m=p.mainImage;if(d.firstLoadComplete){var y=(0,e6.Z)({carouselData:u.carousel_data,images:u.images,product:null===(e=u.rich_metadata||u.rich_summary)||void 0===e?void 0:null===(t=e.products)||void 0===t?void 0:t[0]}),h=((null==y?void 0:y.carousel_slots)||[])[0]||{},g=(0,e5.Z)(h.images),v=(null==f?void 0:f.index)||0;o=y&&((null===(n=y.carousel_slots)||void 0===n?void 0:n.length)||0)>1?{mainImage:c,carouselData:tV(tV({},y),{},{index:v}),previewImage:(0,tR.Yf)(null===(a=u.images)||void 0===a?void 0:a["236x"])}:null!=g&&g.url?{mainImage:{url:g.url,height:g.height||1,width:g.width||1}}:{mainImage:c,previewImage:(0,tR.Yf)(null===(l=u.images)||void 0===l?void 0:l["236x"])},((null==f?void 0:f.id)!==(null===(r=o.carouselData)||void 0===r?void 0:r.id)||JSON.stringify(null==f?void 0:f.carousel_slots)!==JSON.stringify(null===(i=o.carouselData)||void 0===i?void 0:i.carousel_slots)||m.url!==o.mainImage.url)&&this.setState({visualState:o})}}},{key:"renderBodyContent",value:function(e){var t,n,r,i,o,a,l=this,u=e.ideaPinStelaCategories,c=e.isEligibleForStlFlyout,m=e.relatedResourceOptions,y=e.taggedProducts,h=e.storyPinTaggedProducts,g=e.maxWidth,b=e.isEligibleForStaticImageIdeaPin,_=this.props,x=_.experimentsClient.checkExperiment,P=_.isLimitedLogin,S=_.pin,j=_.pinDerivedData,w=_.pinResource,O=_.requestContext,A=_.routePush,k=_.searchQuery,C=_.showRepinOnInitialRender,D=_.trafficSource,E=_.viewer,I=_.orbacActingAs,T=_.userBusinessRoleResource,R=_.isORBACGA,F=_.trendsData,L=S.id,z=S.sponsorship,M=S.story_pin_data_id,B=S.story_pin_data,N=!!M&&!b,Z=!!(null!=B&&B.is_deleted),U=z||{},K=U.creator,H=U.sponsor,V=U.status,G=(K||{}).username,W=(H||{}).username,q=w.refresh,Y=R?(0,tD.lJ)(E,I):void 0,X=(T||{}).data,$=!S.is_repin&&!!W,Q=W===E.username?[e9.V3.OWNER]:null==X?void 0:X.permissions,J=W===E.username||!!(null!=Q&&Q.find(function(e){return e2.Z.includes(e)})),ee=W===E.username||!!(null!=Q&&Q.find(function(e){return e2.Z.includes(e)})),et=this.state,en=et.didShortClickThrough,er=et.isCloseupMaximized,ei=et.shopping,eo=et.viewportSize,ea=et.isCommentSectionOpen,el=((0,td.Z)((0,ty.Z)({pin:S}))||{}).isWideVideo,es=(0,tc.rh)(S&&{aggregatedPinData:S.aggregated_pin_data&&{creatorAnalytics:S.aggregated_pin_data.creator_analytics&&{_30dRealtime:S.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:S.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:S.board&&{privacy:S.board.privacy},creatorAnalytics:S.creator_analytics&&{_30dRealtime:S.creator_analytics["30d_realtime"]&&{carId:S.creator_analytics["30d_realtime"].id}},isRepin:S.is_repin,pinner:S.pinner&&{entityId:S.pinner.id},storyPinDataId:S.story_pin_data_id,videos:S.videos&&{videoList:S.videos.video_list&&{__typename:"VideoList"}}},E,this.props.experimentsClient,Y),eu=(0,p.CA)(null==F?void 0:F.data,this.props.experimentsClient),ec=$&&E.isAuth&&x("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(J&&0===V||ee&&1===V),ed=(null===(t=S.link_domain)||void 0===t?void 0:null===(n=t.official_user)||void 0===n?void 0:n.username)||(null===(r=S.native_creator)||void 0===r?void 0:r.username),ep=(0,tD.Ms)(E,I)===ed&&(0,tD.nl)(E,I)&&O.experimentsClient.checkExperiment("web_stl_tooling").anyEnabled,ef=!!(S.aggregated_pin_data||{}).has_xy_tags,em=N&&(null!==(i=null==B?void 0:null===(o=B.pages)||void 0===o?void 0:o.length)&&void 0!==i?i:0)>0,ey=(0,tc.WE)(E,eo,es,eu,F,ec),eh=(0,v.jsx)(e4.Z,{name:"CloseupBody",children:(0,v.jsxs)(d.xu,{color:"default",direction:"column",display:"flex",ref:this.setCloseupBodyContainerRef,width:"100%",children:[(0,v.jsxs)(d.xu,{alignItems:el?"center":void 0,direction:el?"column":void 0,display:el?"flex":void 0,children:[ec&&"number"==typeof V&&(0,v.jsx)(d.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,v.jsx)(e4.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,v.jsx)(t_.Z,{children:(0,v.jsx)(t0,{business_role:Q,creatorUsername:null!=G?G:"",sponsorshipStatus:V,pinId:L})})})}),ey&&!N&&(0,v.jsx)(d.xu,{"data-test-id":"PartnerModule",width:"lg"===eo&&el?g:"100%",children:(0,v.jsx)(e4.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,v.jsx)(t_.Z,{children:(0,v.jsx)(tJ,{borderStyle:t2,isStoryPin:N,pinKey:{type:"deprecated",data:S},viewportSize:eo,trendsData:eu?null==F?void 0:null===(a=F.data)||void 0===a?void 0:a.results:null,showPinStats:es})})})})]}),(0,v.jsx)(d.xu,{flex:"grow",children:(0,v.jsx)(f.Z,{isCommentSectionOpen:ea,ideaPinStelaCategories:u,handleCarouselSwipe:this.handleCarouselSwipe,isCloseupMaximized:er,onCloseupBodyUpdate:this.handleCloseupBodyUpdate,onCommentSectionClick:this.handleIdeaCloseupCommentIconClick,shopping:ei,shouldShowStlCarouselForOwnPin:ep,storyPinTaggedProducts:h,taggedProducts:y,data:w.data,didShortClickThrough:en,goBack:this.handleBackButtonClick,hasXYcoordinates:ef,isEligibleForStlFlyout:c,isStoryPin:N,isDeletedStoryPin:!!Z,isVideoPin:j.isVideoPin,isWideVideo:el,onClickThrough:this.executeClickthrough,onSaveButtonClick:this.handleSaveClicked,onUpdate:q,outerBodyStyle:N?null:t2,pin:S,relatedResourceOptions:m,routePush:A,searchQuery:k,showRepinOnInitialRender:!P&&C,trafficSource:D,viewParameterType:em?157:void 0,viewType:em?3:void 0,clientTrackingParams:this.getClientTrackingParams(),viewportSize:eo,shouldShowPartnerModule:ey,trendsData:F,showTrendsOnPinCloseup:eu,showPinStats:es})})]})});return(0,v.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:N?tV(tV({},t1.storyPinGradientStyle),{},{width:"100%"}):{}},id:"gradient","data-test-id":"gradient",display:"flex",justifyContent:"center",marginBottom:4,children:(0,v.jsxs)(s.Fragment,{children:[em&&B&&(0,v.jsx)(tP.ZP,{appConfig:{type:"authDesktop",onClickThrough:this.executeClickthrough,onNavigateBack:this.handleBackButtonClick},pin:S,storyPinData:B,onIdeaPinCloseupCommentClick:function(){l.handleIdeaCloseupCommentIconClick(!0)},variant:"closeup",onTogglePanel:this.onToggleIdeaPinCloseupPanel,viewType:3,viewParameterType:157}),(0,v.jsx)(tT.Z,{isStoryPin:N,isWideVideo:el,children:eh})]})})}},{key:"render",value:function(){var e,t,n,r,i,o,a,l,s=this,u=this.props,c=u.contextPinIds,d=u.experimentsClient,p=u.ideaPinStelaCategories,f=u.location,y=u.pin,h=u.pinDerivedData,g=u.taggedObjectsResource,_=u.topLevelTrafficSource,x=u.topLevelTrafficSourceDepth,P=u.trafficSource,S=u.searchQuery,j=u.storyPinTaggedProductsResource,w=u.pinResource,O=u.isORBACGA,A=u.viewer,k=u.orbacActingAs,C=this.state,D=C.viewportSize,E=C.didShortClickThrough,I=C.firstLoadComplete,T=t3({isWideVideo:((0,td.Z)((0,ty.Z)({pin:y}))||{}).isWideVideo,viewportSize:D}),R=y.recommendation_reason,F={name:"RelatedModulesResource",options:{pin_id:y.id,context_pin_ids:c,homefeed_source_sig:R&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(R.reason)&&R.reason_id,page_size:12,search_query:S,source:P,top_level_source:_,top_level_source_depth:x,is_pdp:!1}},L=(0,V.Z)({hasPin:!0,hasPinRichMetadata:!!y.rich_metadata,hasPinRichMetadataProducts:!!(null!==(e=y.rich_metadata)&&void 0!==e&&e.products),hasPinRichMetadataArticle:!!(null!==(t=y.rich_metadata)&&void 0!==t&&t.article),hasPinRichMetadataRecipe:!!(null!==(n=y.rich_metadata)&&void 0!==n&&n.recipe),hasPinStoryPinData:!!y.story_pin_data}),z=(0,tD.q6)(A,null===(r=y.pinner)||void 0===r?void 0:r.id,k),M=!!y.id&&(!O||!z),B=M&&(0,v.jsx)(ey,{clientTrackingParams:this.getClientTrackingParams(),contextPinIds:c,pinKey:{type:"deprecated",data:y},searchQuery:S,trafficSource:P,relatedResourceOptions:F,setRelatedPinsHeaderRef:this.setRelatedPinsHeaderRef,viewParameter:L,viewportSize:D}),N=new URLSearchParams(f.search),Z=N.get("utm_campaign")||"",U=N.get("news_hub_id")||"",K=d.checkExperiment("closeup_notif_pin_module").anyEnabled&&["homefeednewpins","rtpinrecs","rtpinrecs_og","rdpins"].includes(Z)&&U.length>0&&M&&(0,v.jsx)(b,{newsId:U,currentPinId:y.id}),H=!!y.story_pin_data_id&&!1===y.should_open_in_stream,G=(g||{}).data,W=!!G&&G.length>0&&G.some(function(e){return(0,e1.Z)(e)})&&!((null!==(i=null===(o=y.rich_summary)||void 0===o?void 0:o.products)&&void 0!==i?i:[]).length||(null!==(a=null===(l=y.rich_metadata)||void 0===l?void 0:l.products)&&void 0!==a?a:[]).length),q=(j||{}).data,Y=tE.Gg,X=tE.u6,$=(0,v.jsx)(m.Z,{isVideoPin:h.isVideoPin,taggedProducts:G,pin:y,pinResource:w,topLevelTrafficSource:_,didShortClickThrough:E,firstLoadComplete:I,viewportSize:D,renderNotifModulesContent:function(){return K},renderRelatedModulesContent:function(){return B},renderBodyContent:function(){return s.renderBodyContent({ideaPinStelaCategories:p,isEligibleForStlFlyout:W,taggedProducts:G,relatedResourceOptions:F,storyPinTaggedProducts:q,maxWidth:X,isEligibleForStaticImageIdeaPin:H})},onWrapperClick:this.onWrapperClick});return(0,v.jsx)(t6,{classProps:this.props,classState:this.state,showCloseupContentRight:T,showProductDetailPage:!1,isWideCarousel:!1,paneWidth:Y,maxWidth:X,descriptionPaneWidth:X-Y,handleCarouselSwipe:this.handleCarouselSwipe,handleFocus:this.handleFocus,setResultScrollContainerRef:this.setResultScrollContainerRef,handleScroll:this.handleScroll,handleBackButtonClick:this.handleBackButtonClick,closeupContent:$,onRelatedInterestsBannerDismiss:this.onRelatedInterestsBannerDismiss,isEligibleForStaticImageIdeaPin:H})}}],tG(o.prototype,n),r&&tG(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(s.Component);function t6(e){var t,n,r,i,o,a,l=e.classProps,s=e.classState,u=e.commerceData,c=e.showCloseupContentRight,d=e.showProductDetailPage,p=e.isWideCarousel,f=e.paneWidth,m=e.maxWidth,y=e.descriptionPaneWidth,h=e.handleCarouselSwipe,g=e.handleFocus,b=e.setResultScrollContainerRef,_=e.handleScroll,x=e.handleBackButtonClick,P=e.closeupContent,S=e.onRelatedInterestsBannerDismiss,j=e.isEligibleForStaticImageIdeaPin,w=l.pin,O=l.pinId,A=l.trafficSource,k=l.deepLinkBackGoesToBoard,C=l.isLandingPage,D=l.experimentsClient,E=s.backButtonLabelFitInScreen,I=s.visualState,T=I.carouselData,R=I.mainImage,F=I.previewImage,L=s.hideBackButton,z=s.isOverRelatedPins,M=s.isRelatedInterestsBannerDismissed,B=s.viewportSize,N=!!w.story_pin_data_id&&!j,Z=(0,tk.Z)(),U=Z.isAuth&&D.checkExperiment("auth_plp_hide_back_button").anyEnabled,K=C&&z&&!M,H=!1;return K&&(H=D.checkExperiment("dweb_turn_off_mini_renux_exp").anyEnabled),(0,v.jsx)(tI.ZP.Provider,{value:(0,tI.Nb)({showCloseupContentRight:c,showProductDetailPage:d,pdpCarouselSlotToPaneRatio:(0,tI.YO)({showProductDetailPage:d,isLargerPane:p,showCloseupContentRight:c}),viewportSize:B,paneWidth:f,maxWidth:m,descriptionPaneWidth:y}),children:(0,v.jsxs)(eA.A,{pinKey:{type:"deprecated",data:w},overrideValue:{mainImage:R,previewImage:F,carouselInfo:T&&{carouselData:T,handleCarouselSwipe:h,viewType:3,componentType:w.is_eligible_for_pdp?14186:85,viewParameter:(0,V.Z)({hasPin:!0,hasPinRichMetadata:!!w.rich_metadata,hasPinRichMetadataProducts:!!(null!==(t=w.rich_metadata)&&void 0!==t&&t.products),hasPinRichMetadataArticle:!!(null!==(n=w.rich_metadata)&&void 0!==n&&n.article),hasPinRichMetadataRecipe:!!(null!==(r=w.rich_metadata)&&void 0!==r&&r.recipe),hasPinStoryPinData:!!w.story_pin_data})}},children:[(0,v.jsx)(tr.Z,{placementId:1000141}),(0,v.jsx)(tr.Z,{placementId:1000499}),(0,v.jsx)(tz.Z,{placementId:12}),(0,v.jsx)(tt.Z,{placementId:12}),(0,v.jsx)(te.Z,{placementId:12}),(0,v.jsx)(tn.Z,{placementId:12}),(0,v.jsx)(q.Z,{auxData:u,view:3,viewParameter:(0,ty.Z)(l)?(0,V.Z)({hasPin:!!w,hasPinRichMetadata:!!w.rich_metadata,hasPinRichMetadataProducts:!!(null!==(i=w.rich_metadata)&&void 0!==i&&i.products),hasPinRichMetadataArticle:!!(null!==(o=w.rich_metadata)&&void 0!==o&&o.article),hasPinRichMetadataRecipe:!!(null!==(a=w.rich_metadata)&&void 0!==a&&a.recipe),hasPinStoryPinData:!!w.story_pin_data}):void 0,objectId:O,children:(0,v.jsxs)("div",{className:"reactCloseupScrollContainer",onFocus:g,ref:b,children:[(0,v.jsx)(e4.Z,{name:"SafeSuspense_Closeup_ExperienceHero",children:(0,v.jsx)(t_.Z,{children:(0,v.jsx)(tQ,{placementId:12})})}),(0,v.jsx)(ti.default,{placementId:12}),!L&&!N&&!U&&(0,v.jsx)(tw.Z,{deepLinkBackGoesToBoard:k,handleScroll:_,isNewOrRes:(0,ts.Z)(Z.createdAt)||(0,tu.Z)(null,Z),onClick:function(){x()},showLabel:!!(E&&!z),showShadow:z,trafficSource:A}),(0,v.jsx)(ej,{onClose:x}),P,(0,v.jsx)(tM.Z,{placementId:12}),K&&!H?(0,v.jsx)(eJ,{pinId:O,onDismiss:S}):null]})})]})})}var t5=(0,ek.Z)(function(e){var t,n,r,i,o,a,l,d=(0,P.v)().logContextEvent,f=e.pin,m=e.viewer,g=e.pinResource,b=e.pinId,_=e.showQuickPromote,x=e.deepLinkBackGoesToBoard,S=e.goBack,j=e.routePush,w=e.trafficSource,O=(0,y.ZP)(),A=(0,th.F)(),k=A.checkExperiment,C=(0,tj.Z)(),D=(0,tN.f)(),E=D.setMostRecentPinId,I=D.setMostRecentPinImage,T=(0,tA.Z)({type:"deprecated",data:f}),R=(0,tp.sY)(null===(n=f.embed)||void 0===n?void 0:n.type)&&"gif"||f.is_eligible_for_pdp&&"productPin"||(null===(r=f.rich_summary)||void 0===r?void 0:r.type_name)==="recipe"&&"recipePin"||!!f.story_pin_data_id&&"storyPin"||!!(null!==(i=f.videos)&&void 0!==i&&i.video_list)&&"video"||"image",F="pin_closeup_lcp",L=(0,tv.PY)(F),z=(0,tL.Z5)().conversationOpen,M=k("web_m10n_business_access_orbac_www").anyEnabled,B=k("web_m10n_business_access_orbac_www").anyEnabled,N=(0,tC.Z)(),Z=(0,e8.Z)(),U=(0,u.useDispatch)(),K=(0,tg.E)(),H=(0,tb.B)(),V=(0,c.useLocation)(),G=(0,tO.F9)(),W=function(e){if(Array.isArray(e))return e}(t=(0,s.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tK(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),q=W[0],Y=W[1],X=Z("quick_promote_on_www"),$="".concat(X,"?pinId=").concat(b),Q=(0,tm.Z)({type:"deprecated",data:f}),J=(0,tF.Z)({commerceOptions:f.promoted_is_lead_ad?{}:null,deepLinkBackGoesToBoard:x,goBack:S,routePush:j,trafficSource:w,viewer:m,requestContext:H,pinKey:{type:"deprecated",data:f}},d).onHandleBackButtonClick;(0,s.useEffect)(function(){g.data&&!q&&_&&Y(!0)},[g.data,q,_]);var ee=B?(0,tD.lJ)(m,N):void 0;(0,s.useEffect)(function(){L&&(0,tv.ku)({stopwatchName:F,binaryAnnotationName:"pinType",value:R,annotationType:"STRING"})},[L,R]);var et=null===(o=f.sponsorship)||void 0===o?void 0:null===(a=o.sponsor)||void 0===a?void 0:a.id,en=!f.is_repin&&!!et,er=(0,h.Z)(et&&en&&m.isAuth&&"storyPin"===R?{name:"ApiResource",options:{url:"/ads/v4/business_access/businesses/".concat(et,"/me/ad_accounts_permissions/")}}:null),ei=m.isAuth&&(0,p.Gv)({orbacSubjectId:ee,pinIsRepin:f.is_repin,pinPinnerId:null===(l=f.pinner)||void 0===l?void 0:l.id,viewerId:m.id,viewerIsPartner:m.isPartner}),eo=(0,h.Z)(ei?{name:"ApiResource",options:{url:"/v3/trends/partner/".concat(m.id||"","/trends_for_pin/").concat(f.id,"/"),data:{number_terms_to_return:10}}}:null),ea=eo.data,el=eo.isLoaded,es=(0,eO.Z)({pin:f,pinId:b,pinResource:g}),eu=(0,tf.Z)({pinKey:{type:"deprecated",data:f}}).getMainPinImage;return q?(0,v.jsx)(c.Redirect,{to:$}):(0,v.jsx)(t9,tV(tV({},e),{},{initialState:es,conversationOpen:z,dispatch:U,experimentsClient:A,getSterlingURL:Z,getStringifiedCommerceAuxData:T,pwtSurfaceContext:K,requestContext:H,location:V,setMostRecentPinId:E,setMostRecentPinImage:I,toastManager:G,i18n:O,orbacActingAs:M?N:{},logContextEvent:d,userBusinessRoleResource:er,isORBACGA:B,trackInteraction:C,trendsData:{data:ea,isLoaded:!ei||el},onHandleBackButtonClick:J,mainImage:eu(),pinFormattedLink:Q}))});function t7(e){var t=(0,th.F)().checkExperiment("collection_pin_data_read").anyEnabled?"/v3/visual_links/pins/".concat(e.pin.id,"/pin_items/"):"/v3/visual_links/pins/".concat(e.pin.id,"/tagged_objects/"),n=(0,h.Z)({name:"ApiResource",options:{url:t,data:{fields:(0,eh.Z)()}},noCache:!0});return(0,v.jsx)(t5,tV(tV({},e),{},{taggedObjectsResource:n}))}function t4(e){var t=(0,h.Z)({name:"StoryPinTaggedProductsResource",options:{noCache:!0,id:e.pin.id}});return(0,v.jsx)(t5,tV(tV({},e),{},{storyPinTaggedProductsResource:t}))}function ne(e){var t=(0,h.Z)({name:"ApiResource",options:{url:"/v3/storypins/".concat(e.pin.id,"/stela/tags/"),data:{fields:(0,e0.Z)()}}}).data;return(0,v.jsx)(t5,tV(tV({},e),{},{ideaPinStelaCategories:t||[]}))}},790904:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(76911),i=n(908390),o=n(515198);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e){var t,n=e.accessibilityLabel,l=e.handleClick,s=e.icon,u=e.iconColor,c=e.iconOnly,d=e.testId,p=e.buttonText,f=e.tabIndex,m=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=m[0],h=m[1],g=(0,r.useRef)(null),v=function(){h(function(e){return!e}),l()},b=function(e){var t;g&&e.target instanceof Element&&!(null!==(t=g.current)&&void 0!==t&&t.contains(e.target))&&h(!1)};return(0,r.useEffect)(function(){return window.addEventListener("mousedown",b),function(){window.removeEventListener("mousedown",b)}},[]),(0,o.jsx)(i.xu,{"data-test-id":d||"closeup-action-bar-button",children:(0,o.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,o.jsx)(i.hU,{accessibilityLabel:n,iconColor:u||"darkGray",onClick:v,selected:y,icon:s,size:c?"md":"lg",ref:g,tabIndex:f}),p&&(0,o.jsx)(i.iP,{onTap:v,rounding:2,children:(0,o.jsx)(i.X6,{color:"light",overflow:"normal",size:"400",children:p})})]})})}},882684:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(76911),i=n(908390),o=n(288889),a=n(898781),l=n(349700),s=n(66699),u=n(515198);function c(e){var t=e.minutes,n=(0,a.ZP)(),r=t%60,s=Math.floor(t/60),c=r>0?(0,l.nk)(n._('{{ mins }}min', 'closeup.storyPin.basicsLayout.cookTimeUnit', 'Minutes label indicating the cooking time of this Story Pin'),{mins:r}).join(""):"",d=s>0?(0,l.nk)(n._('{{ hours }}hr', 'closeup.storyPin.basicsLayout.cookTimeUnit', 'Hours label indicating the cooking time of this Story Pin'),{hours:s}).join(""):"";return(0,u.jsx)(i.xu,{marginEnd:1,display:"inlineBlock",children:(0,u.jsx)(i.xv,{inline:!0,size:o.n,children:(0,l.nk)(n._('{{ hoursText }} {{ minsText }}', 'closeup.storyPin.basicsLayout.cookTime', 'Combined label for story pin cooktime (ex: "1hr 13min")'),{hoursText:d,minsText:c})})})}function d(e){var t=e.servingSize,n=(0,a.ZP)(),r=(0,s.Z)(n.ngettext('{{servingSize}} serving', '{{servingSize}} servings', t, 'number of servings for a recipe', 'number of servings for a recipe'),{servingSize:t});return(0,u.jsx)(i.xu,{marginEnd:1,display:"inlineBlock",children:(0,u.jsx)(i.xv,{inline:!0,size:o.n,children:(0,l.nk)(n._('{{ servingText }}', 'closeup.storyPin.basicsLayout.servings', 'Combined label for story pin servings (ex: "Servings: 10 servings")'),{servingText:r})})})}function p(e){var t=e.difficulty,n=(0,a.ZP)(),r={1:n._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:n._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:n._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')},s=t?r[t]:null;if(!s)return null;var c=n._('Difficulty:', 'closeup.storyPin.basicsLayout.difficultyLevelLabel', 'Label indicating the difficulty level of this Story Pin');return(0,u.jsx)(i.xu,{marginEnd:1,display:"inlineBlock",children:(0,u.jsx)(i.xv,{inline:!0,size:o.n,children:(0,l.nk)(n._('{{ label }} {{ difficultyLevel }}', 'closeup.storyPin.basicsLayout.difficulty', 'Combined label for story pin difficulty (ex: "Difficulty: Intermediate")'),{label:c,difficultyLevel:s})})})}function f(e){var t=e.keyValueBlocks;if(!e.hasMetadataTemplateType)return null;var n=t||[];return(0,u.jsx)(i.xu,{"data-test-id":"categories-metadata",children:(n||[]).map(function(e,t){var a="kv-".concat(t),l=function(e){var t,n=null!==(t=e.category_type)&&void 0!==t?t:e.categoryType,r=e.value;if(2===n)return(0,u.jsx)(p,{difficulty:r});var i=parseInt(r,10);return 1===n?(0,u.jsx)(d,{servingSize:i}):0===n&&i?(0,u.jsx)(c,{minutes:i}):null}(e);return l?t<n.length-1?(0,u.jsxs)(r.Fragment,{children:[l,(0,u.jsx)(i.xu,{marginEnd:1,display:"inlineBlock",children:(0,u.jsx)(i.xv,{inline:!0,size:o.n,children:" \xb7 "})})]},a):(0,u.jsx)(r.Fragment,{children:l},a):null}).filter(function(e){return null!=e})})}},874259:function(e,t,n){"use strict";n.d(t,{R:function(){return rv},Z:function(){return rb}});var r,i,o,a,l,s,u,c,d,p,f,m,y,h,g=n(76911),v=n(506979),b=n(599689),_=n(908390),x=n(964569),P=n(541776),S=n(513578),j=n(407043),w=n(499128),O=n(898781),A=n(584595),k=n(343341),C=n(19121),D=n(664569),E=n(600147),I=n(515198);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function F(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function M(e){var t=e.aggregatedPinDataId,n=e.closeupAttributionId,r=e.commentCount,i=e.commentCountInUSM,o=e.disablePhotoCommentSelection,a=e.isEligibleForPinReactions,l=e.isPDP,s=e.isReactionsExpansionEnabled,u=e.orbacSubjectId,c=e.pinId,d=e.privatePin,p=e.reactionByMe,f=e.reactionCounts,m=e.setIsLoadingNewlyCreatedComment,y=e.showCommentComposer,h=e.storyPinDataId,b=e.viewParameter,z=(0,O.ZP)(),M=(0,C.Z)(),B=(0,v.useDispatch)(),N=(0,j.v)().logContextEvent,Z=(0,x.Z)(),U=(0,k.F9)().showOneToast,K=L((0,g.useState)(!1),2),H=K[0],V=K[1],G=L((0,g.useState)(P.A9.NONE),2),W=G[0],q=G[1];function Y(){var e;return e=regeneratorRuntime.mark(function e(r){var i,o,a,l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.contentMarkdown,o=r.force,a=r.imageSignatures,l=r.tags,null!==t){e.next=3;break}return e.abrupt("return",!1);case 3:if(m(!0),e.prev=4,!t){e.next=15;break}if(!a.length){e.next=12;break}return s={aggregatedPinDataId:t,details:i,image_signatures:a,pin_id:null!=c?c:"",username:M.username||"",fromUnifiedComment:!0},e.next=10,B((0,E.DD)(s));case 10:e.next=14;break;case 12:return e.next=14,Z({force:o,fromUnifiedComment:!0,objectType:D.o.pin,objectId:t,pinId:c,tags:l,text:i,orbacSubjectId:u});case 14:N({event_type:7,object_id_str:c,aux_data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==T(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===T(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({num_user_mention_tags:(l?JSON.parse(l):[]).length},h?{creator_id:n,story_pin_data_id:h}:{})});case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(4),[A.ky,A.LJ].includes(e.t0.api_error_code)?q(e.t0.api_error_code===A.ky?P.A9.WARNING:P.A9.BLOCK):U(function(t){var n=t.hideToast;return(0,I.jsx)(w.ZP,{onHide:n,type:"error",text:e.t0.message_detail||e.t0.message||z._('There was an issue posting your comment.', 'comment.post.errorMessage', 'error message for posting comment in toast')})}),m(!1),e.abrupt("return",!1);case 22:return V(!1),m(!1),e.abrupt("return",!0);case 25:case"end":return e.stop()}},e,null,[[4,17]])}),(Y=function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){F(o,r,i,a,l,"next",e)}function l(e){F(o,r,i,a,l,"throw",e)}a(void 0)})}).apply(this,arguments)}return(0,I.jsx)(_.xu,{marginEnd:l?6:0,marginStart:l?8:0,children:(0,I.jsx)(S.Z,{commentCount:r,commentCountInUSM:i,pinId:c,reactionByMe:p,reactionCounts:f,dismissCommentWarningModal:function(){return q(P.A9.NONE)},isEligibleForPinReactions:a,isLeftAligned:l,isReactionsExpansionEnabled:s,objectType:D.o.pin,onAddItem:function(e){return Y.apply(this,arguments)},onCancelItem:function(){return V(!1)},onEnter:function(){return V(!0)},privatePin:d,commentWarningModalState:W,iconSize:l?20:void 0,showReactBackground:!l,showCommentComposer:y,statusType:H?"textInflightCreation":"textStaticDisplay",viewParameter:b,disablePhotoCommentSelection:o})})}n(704217);var B=n(827896),N=n(357998),Z=n(564194),U=n(999018),K=void 0!==a?a:a=n(501071),H=function(e){return{entityId:e.id,isEligibleForPdpPlus:e.is_eligible_for_pdp_plus}},V=function(e){var t=e.children,n=e.pinKey,r=e.pinImageUrl,i=e.closeupNavigationType,o=(0,B.Z)(),a=(0,N.Q)(K,n,{useLegacyAdapter:H}),l=a.data,s=a.childDataKey__DEPRECATED,u=(0,U.Z)(s),c=l.entityId,d=l.isEligibleForPdpPlus?u({isPdpPlus:!0}):{};return(0,I.jsx)(Z.Z,{contextLogData:d,componentType:85,impressionAuxFields:{imageURL:r,clientTrackingParams:o(c,{shouldTrackForPrevLocation:!0})},closeupNavigationType:i,closeupImpressionType:13,impressionType:"Pin",loggingId:c,slotIndex:-1,viewData:{pin_id:c},viewType:3,children:t})},G=n(92261);function W(e){var t=e.children,n=e.outerPaddingSize;return(0,I.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:null!=n?n:G.g9}},children:t})}var q=n(785430),Y=n(882684),X=n(945544),$=n(816890),Q=n(481697),J=n(561886),ee=n(565212),et=n(801827),en=n(509278),er=n(516514),ei=n(440455),eo=n(105265),ea=n(986644),el=n(916117),es=n(298361),eu=n(349700),ec=void 0!==l?l:l=n(329933);function ed(e){var t,n,r,i,o,a,l,s=e.pinKey,u=(0,O.ZP)(),c=(0,es.Z)(),d=(0,el.u)(ec,s).data,p=(0,eu.nk)(u._('Saved to {{boardName}}', 'Text describing which board a pin was saved to', 'Text describing which board a pin was saved to'),{boardName:(0,I.jsx)(_.xv,{inline:!0,size:"200",lineClamp:1,weight:"bold",children:(0,I.jsx)(_.rU,{href:null!==(r=null===(i=d.board)||void 0===i?void 0:i.url)&&void 0!==r?r:"",display:"inlineBlock",underline:"hover",children:null===(o=d.board)||void 0===o?void 0:o.name})},null!==(t=null===(n=d.board)||void 0===n?void 0:n.url)&&void 0!==t?t:"")}),f=null!==(a=d.pinner)&&void 0!==a?a:null;return(0,I.jsxs)(_.kC,{alignItems:"center",justifyContent:"start",width:"100%",children:[(0,I.jsx)(eo.Z,{userKey:f}),(0,I.jsxs)(_.xu,{marginStart:4,width:"100%",children:[(0,I.jsx)(_.xv,{size:"200",weight:"bold",children:(0,I.jsx)(_.rU,{href:"/".concat(null!==(l=null==f?void 0:f.username)&&void 0!==l?l:"","/"),children:null==f?void 0:f.fullName})},null==f?void 0:f.username),(0,I.jsxs)(_.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",children:[(0,I.jsx)(_.xu,{width:250,children:(0,I.jsx)(_.xv,{lineClamp:1,size:"200",children:p})}),(0,I.jsx)(_.xv,{inline:!0,size:"200",color:"subtle",children:d.createdAt&&(0,ea.A7)(d.createdAt,u,c)})]})]})]})}function ep(e){var t=e.onDismiss,n=(0,O.ZP)();return(0,I.jsxs)(_.xu,{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",marginTop:9,marginBottom:9,children:[(0,I.jsx)(_.xu,{maxWidth:400,children:(0,I.jsx)(_.X6,{align:"center",size:"400",children:n._('Added to favorites by', 'closeup.favoritesModal.heading', 'Heading for modal showing favorites on a Pin')})}),(0,I.jsx)(_.xu,{position:"absolute",top:!0,left:!0,marginTop:-2,paddingX:7,children:(0,I.jsx)(_.hU,{accessibilityLabel:n._('Close', 'closeup.favoritesModal.cancelIconButton', 'Accessibility label for button to close out modal'),icon:"cancel",iconColor:"darkGray",onClick:t,size:"md"})})]})}var ef=n(81636),em=n(356997),ey=n(414327),eh=n(784590);function eg(e){var t=e.fullName,n=e.image,r=e.isViewer,i=e.username,o=(0,j.v)().logContextEvent,a=(0,O.ZP)(),l=function(){o({event_type:101,component:13798,view_type:132,view_parameter:3553})};return(0,I.jsxs)(_.xu,{alignItems:"center",display:"flex",paddingY:2,paddingX:6,children:[(0,I.jsx)(_.xu,{children:(0,I.jsx)(_.rU,{href:"/".concat(i,"/"),onClick:l,children:(0,I.jsx)(em.qE,{name:i,size:"md",src:n})})}),(0,I.jsx)(_.xu,{paddingX:2,children:(0,I.jsx)(_.X6,{size:"400",lineClamp:1,children:(0,I.jsxs)(_.rU,{href:"/".concat(i,"/"),onClick:l,children:[t," ",r&&a._('(You)', 'closeup.favoritesModal.viewerText', 'Text informing user they favorited the Pin')]})})})]})}function ev(e){var t=e.pinId,n=(0,O.ZP)(),r=(0,v.useDispatch)();(0,g.useEffect)(function(){return function(){r((0,ey.jB)("ApiResource",{url:"/v3/pins/".concat(t,"/favorite/users/")}))}},[]);var i=(0,C.Z)(),o=i.isAuth?i.id:"";(0,ef.Q)({view_type:132,view_parameter:3553});var a=(0,eh.Z)({name:"ApiResource",options:{url:"/v3/pins/".concat(t,"/favorite/users/")}}),l=a.data,s=a.fetchMore,u=a.isAtEnd,c=a.isFetching;if(l&&l.length>0){var d=l.map(function(e){var t=e.full_name,n=e.id;return{fullName:t,image:e.image_medium_url,isViewer:n===o,username:e.username}}),p=d.find(function(e){return e.isViewer});return p&&(d.splice(d.indexOf(p),1),d.unshift(p)),(0,I.jsxs)(_.xu,{maxHeight:400,marginBottom:6,children:[d.map(function(e){return(0,I.jsx)(eg,{fullName:e.fullName,image:e.image,isViewer:e.isViewer,username:e.username},e.username)}),!u&&(0,I.jsx)(_.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,I.jsx)(_.zx,{accessibilityLabel:n._('See more', 'closeup.favoritesModal.buttonAccessibilityLabel', 'Accessibility label for button to see more users'),disabled:c,onClick:s,text:n._('See more', 'closeup.favoritesModal.buttonText', 'Button text to see more users')})})]})}return(0,I.jsx)(_.$j,{accessibilityLabel:n._('Loading list of users who favorited this Pin', 'closeup.favoritesModal.spinner', 'Accessibility label for user favorite list spinner'),show:!0})}var eb=n(121151);function e_(e){var t=e.onDismiss,n=e.pinId,r=(0,O.ZP)();return(0,I.jsx)(eb.ZP,{accessibilityModalLabel:r._('View favorites on Pin', 'closeup.favoritesModal.modalAccessibilityLabel', 'Accessiblility label for modal used to see who favorited a Pin'),heading:(0,I.jsx)(ep,{onDismiss:t}),onDismiss:t,size:"sm",children:(0,I.jsx)(ev,{pinId:n})})}var ex=n(694379),eP=n(948618);function eS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ej=void 0!==s?s:s=n(319430);function ew(e){var t,n,r,i,o,a,l,s,u=e.pinKey,c=(0,O.ZP)(),d=(0,el.u)(ej,u).data,p=null!==(n=d.pinner)&&void 0!==n?n:null,f=function(e){if(Array.isArray(e))return e}(t=(0,g.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eS(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=f[0],y=f[1],h=0;d.favoriteUserCount&&(h=d.favoritedByMe?d.favoriteUserCount-1:d.favoriteUserCount);var v=c._('Added to favorites by you', 'closeup.pinnerSavedRep.favoritedByTextOnlyYou', 'Text saying that you favorited the Pin'),b=(0,eu.nk)(c.ngettext('Added to favorites by {{count}} other', 'Added to favorites by {{count}} others', h, 'closeup.pinnerSavedRep.favoritedByTextOnlyOthers', 'Text describing how many people favorited the Pin'),{count:(0,I.jsx)(ex.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:h},"following-count")}),x=(0,eu.nk)(c.ngettext('Added to favorites by you and {{count}} other', 'Added to favorites by you and {{count}} others', h, 'closeup.pinnerSavedRep.favoritedByText', 'Text describing how many people favorited the Pin with you'),{count:(0,I.jsx)(ex.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:h},"following-count")});return(0,I.jsxs)(g.Fragment,{children:[(0,I.jsxs)(_.kC,{alignItems:"center",justifyContent:"start",width:"100%",children:[(0,I.jsx)(_.kC,{alignItems:"stretch",justifyContent:"start",flex:"none",children:(0,I.jsx)(eo.Z,{userKey:p,size:"sm"})}),(0,I.jsxs)(_.xu,{marginStart:2,width:"100%",children:[(0,I.jsx)(_.xv,{inline:!0,size:"200",children:(0,eu.nk)(c._('{{firstName}} saved to {{boardName}}', 'closeup.pinnerSavedRep.savedToText', 'Text describing which board a pin was saved to'),{boardName:(0,I.jsx)(_.xv,{inline:!0,size:"200",weight:"bold",children:(0,I.jsx)(_.rU,{href:null!==(r=null===(i=d.board)||void 0===i?void 0:i.url)&&void 0!==r?r:"",display:"inlineBlock",underline:"hover",children:null!==(o=null===(a=d.board)||void 0===a?void 0:a.name)&&void 0!==o?o:""})}),firstName:(0,I.jsx)(_.xv,{inline:!0,size:"200",weight:"bold",children:(0,I.jsx)(_.rU,{href:"/".concat(null!==(l=null==p?void 0:p.username)&&void 0!==l?l:"","/"),display:"inlineBlock",underline:"hover",children:null!==(s=null==p?void 0:p.firstName)&&void 0!==s?s:""})})})}),(0,I.jsx)(_.xv,{inline:!0,children:(0,I.jsx)("span",{onClick:function(){y(!0)},onKeyDown:function(e){"Enter"===e.key&&y(!0)},role:"button",style:{cursor:"pointer"},tabIndex:"0",children:d.favoriteUserCount?1===d.favoriteUserCount&&d.favoritedByMe?(0,I.jsxs)(_.xv,{inline:!0,size:"200",weight:"bold",children:[(0,I.jsx)(eP.Z,{}),v]}):(0,I.jsxs)(_.xv,{inline:!0,size:"200",weight:"bold",children:[(0,I.jsx)(eP.Z,{}),d.favoritedByMe?x:b]}):null})})]})]}),m&&(0,I.jsx)(e_,{onDismiss:function(){y(!1)},pinId:d.entityId})]})}var eO=n(594736);function eA(e){return function(e){if(Array.isArray(e))return ek(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ek(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ek(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ek(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eC="__HashtagFlag__",eD=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi,eE=function(e,t){return"/search/pins/?q=".concat(encodeURIComponent(e),"&rs=").concat(t)};function eI(e){return(eI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eL(r.key),r)}}function eR(e,t){return(eR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eF(e){return(eF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eL(e){var t=function(e,t){if("object"!==eI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eI(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eI(t)?t:String(t)}var ez=(r={},i="hashtags",o=function(e,t){for(var n=t.appendText||"",r=t.source||"hashtag_pinrep",i=[],o=[],a={},l=0,s=function(e){return function(t,n){if(t!==eC||!o.length)return t;var i=o.shift();return l+=1,(0,I.jsx)(_.xu,{"data-test-id":"pinHashtag",children:(0,I.jsx)(_.xv,{color:"shopping",children:(0,I.jsx)(_.rU,{href:eE(i,r),children:i})},"hashtag-".concat(e,".").concat(n))})}},u=0;u<e.length;u+=1){var c=e[u];if("string"==typeof c){var d=c.replace(eD,function(e){return o.push(e),a[e]=!0,eC}).split(new RegExp("(".concat(eC,")"))).map(s(u));i=[].concat(eA(i),eA(d))}else i.push(c)}var p=[];return n&&n.replace(eD,function(e,t){return!a[e]&&l<4&&(l+=1,p.push((0,I.jsxs)("span",{children:["\xa0",(0,I.jsx)(_.xu,{"data-test-id":"pinHashtag",children:(0,I.jsx)(_.xv,{color:"shopping",children:(0,I.jsx)(_.rU,{href:eE(e,r),children:e})})})]},"appended"+t)),a[e]=!0),e}),i=[].concat(eA(i),p)},(i=eL(i))in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,r),eM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eR(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=eF(o);if(t){var r=eF(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===eI(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return n=[{key:"shouldComponentUpdate",value:function(e){return!(0,eO.ZP)(this.props,e)}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.options;if("string"==typeof t&&""===t.trim())return t;for(var r=[t],i=0,o=Object.keys(ez);i<o.length;i++){var a=o[i];a in n&&(r=(0,ez[a])(r,n[a]))}return(0,I.jsx)("span",{children:r})}}],eT(o.prototype,n),r&&eT(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(g.Component),eB=void 0!==u?u:u=n(895292);function eN(e){var t=e.pinKey,n=e.showFavoritesInformation,r=(0,el.u)(eB,t).data,i=r.carouselData;if(!r.isRepin&&i){var o,a,l,s=null!==(a=i.index)&&void 0!==a?a:0,u=null!==(l=i.carouselSlots)&&void 0!==l?l:[];u[s]&&u[s].details&&(o=u[s].details)}return(0,I.jsxs)(_.xu,{marginBottom:10,children:[(0,I.jsx)(_.xu,{paddingY:2,children:n?(0,I.jsx)(ew,{pinKey:r}):(0,I.jsx)(ed,{pinKey:r})}),!!o&&(0,I.jsx)(_.xu,{paddingY:3,marginBottom:1,children:(0,I.jsx)(_.xv,{children:(0,I.jsx)(eM,{text:o,options:{hashtags:{source:"hashtag_closeup"}}})})})]})}var eZ=n(413614),eU=n(319915),eK=n(773285),eH=n(947599),eV=n(215292),eG=n(765798),eW=n(635821),eq=n(788645),eY=(0,g.lazy)(function(){return n.e(95246).then(n.bind(n,263551))}),eX=void 0!==c?c:c=n(642637);function e$(e){var t,n,r,i,o,a,l,s,u,c,d,p,f=e.pinKey,m=e.isStoryPin,y=e.isDeletedStoryPin,h=e.viewParameter,v=e.trafficSource,b=e.details,x=e.viewer,P=e.orbacActingAs,S=e.outerPaddingSize,j=e.viewportSize,w=e.shouldShowPartnerModule,O=e.trendsData,A=e.showTrendsOnPinCloseup,k=e.showPinStats,C=e.trackingParamsMap,D=(0,et.r)().carouselInfo,E=(0,el.u)(eX,f).data,T=(0,er.Z)({pinKey:E,pinId:E.entityId,viewParameter:h,trafficSource:v}),R=(0,Q.Z)(E,x),F=E.closeupUnifiedDescription,L=E.closeupUserNote,z=E.userMentionTags,M=(0,$.Z)({pinKey:E,orbacActingAs:P,viewer:x}),B=(0,eK.F)().checkExperiment,N=B("closeup_rich_pin_idea_pins_dweb_auth").anyEnabled,Z=B("web_hashtags_in_description_display").anyEnabled,U=B("web_new_line_description").anyEnabled,K=null!==(t=null===(n=E.storyPinData)||void 0===n?void 0:null===(r=n.metadata)||void 0===r?void 0:null===(i=r.basics)||void 0===i?void 0:null===(o=i.keyValueBlocks)||void 0===o?void 0:o.map(function(e){return{categoryType:e.categoryType,value:e.value}}))&&void 0!==t?t:[],H=K.length>0,V=(0,J.Z)(L)||!!E.richMetadata,G=(null===(a=E.richMetadata)||void 0===a?void 0:null===(l=a.recipe)||void 0===l?void 0:l.name)&&E.richMetadata.recipe.categorizedIngredients&&E.richMetadata.recipe.categorizedIngredients.length>0,eo=z?(0,I.jsx)(ei.Z,{description:F||"",userMentionTags:z.map(function(e){return{length:e.length,objectId:e.objectId,offset:e.offset,tagType:e.tagType}})}):(0,en.Z)({isHashtagInDescriptionDisplayEnabled:Z,text:F||""});return(0,I.jsxs)(g.Fragment,{children:[(0,I.jsxs)(W,{outerPaddingSize:S,children:[(0,I.jsx)(_.xu,{"data-test-id":"closeup-title",children:(0,I.jsx)(eV.q,{children:function(e){var t=e.hovered,n=e.onMouseEnter,r=e.onMouseLeave;return(0,I.jsx)(eZ.Z,{hovered:t,pinKey:E,trafficSource:v,trackingParamsMap:C,viewType:3,children:(0,I.jsx)(_.xu,{onMouseEnter:n,onMouseLeave:r,children:(0,I.jsx)(eG.Z,{carouselInfo:D,isLink:!m,onClick:T,pinKey:E,trackingParamsMap:C})})})}})}),w&&m&&(0,I.jsx)(_.xu,{"data-test-id":"PartnerModule",width:"100%",children:(0,I.jsx)(eU.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,I.jsx)(eH.Z,{children:(0,I.jsx)(eY,{borderStyle:q.te,isStoryPin:m,pinKey:E,viewportSize:j,trendsData:A?null==O?void 0:null===(s=O.data)||void 0===s?void 0:s.results:null,showPinStats:k})})})}),!N&&m&&H&&(0,I.jsx)(_.xu,{marginTop:4,children:(0,I.jsx)(Y.Z,{keyValueBlocks:K,hasMetadataTemplateType:!!(null!==(u=E.storyPinData)&&void 0!==u&&null!==(c=u.metadata)&&void 0!==c&&c.templateType)})}),N&&H&&(0,I.jsx)(_.xu,{marginTop:4,children:(0,I.jsx)(Y.Z,{keyValueBlocks:K,hasMetadataTemplateType:!!(null!==(d=E.storyPinData)&&void 0!==d&&null!==(p=d.metadata)&&void 0!==p&&p.templateType)})}),N&&!H&&!!G&&(0,I.jsx)(eW.Z,{pinId:E.entityId,graphqlRef:null,boldText:!1,textSize:"300",isWideViewport:!0}),!!(m&&F&&(!N||V))&&(0,I.jsx)(_.xu,{marginTop:8,children:(0,I.jsx)(ee.Z,{descriptionDir:(0,eq.j)(F),children:U?(0,I.jsx)(X.Z,{description:F||"",userMentionTags:null==z?void 0:z.map(function(e){return{length:e.length,objectId:e.objectId,offset:e.offset,tagType:e.tagType}})}):eo})})]}),(0,I.jsxs)(g.Fragment,{children:[b,!!R&&(0,I.jsx)(_.xu,{marginTop:2,children:(0,I.jsx)(eN,{pinKey:E,showFavoritesInformation:!y&&M})})]})]})}var eQ=n(616106),eJ=n(288889),e0=n(748373);function e1(e){return(e1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e2(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==e1(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==e1(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e1(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e3=function(e){if(!e)return null;var t=e.recipe.categorizedIngredients;return t&&t.length>0?e8(e8({},e),{},{categorizedIngredients:t}):null},e9=n(580749),e6=n(432730),e5=n(802933),e7=n(561195),e4=n(923297),te=n(833049),tt=n(883561),tn=n(594635),tr=n(57009);function ti(e){return(ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?to(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=tc(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tl(e){return function(e){if(Array.isArray(e))return ts(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ts(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ts(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ts(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tc(r.key),r)}}function tc(e){var t=function(e,t){if("object"!==ti(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ti(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ti(t)?t:String(t)}function td(e,t){return(td=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tp(e){return(tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tf=function(e){return e.replace(/\s+/g," ")},tm=void 0!==d?d:d=n(450756),ty=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&td(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=tp(o);if(t){var r=tp(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===ti(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return n=[{key:"componentDidMount",value:function(){var e=this.props.onUpdate;null==e||e()}},{key:"componentDidUpdate",value:function(e){if(e.showMore!==this.props.showMore){var t=this.props.onUpdate;null==t||t()}}},{key:"render",value:function(){var e=this.props,t=e.isArticle,n=e.pin,r=e.tutorialDescription,i=e.showMore,o=e.onToggle,a=e.i18n,l=e.checkExperiment,s=n.carouselData,u=n.closeupUnifiedDescription,c=n.userMentionTags,d=n.storyPinData,p=(u||"").trim();if(s){var f,m,y,h=null!==(m=s.carouselSlots)&&void 0!==m?m:[],g=null!==(y=s.index)&&void 0!==y?y:0;h[g]&&h[g].details&&(p=h[g].details)}var v=l("closeup_rich_pin_idea_pins_dweb_auth").anyEnabled,b=l("web_new_line_description").anyEnabled,x=l("web_hashtags_in_description_display").anyEnabled,P=p&&r&&r.trim()===p,S=p?tf(p):"";(S=!i&&S&&S.length?(0,tt.ZP)(S,t?195:200):S)&&c&&(S=(0,I.jsx)(e0.Z,{description:S,mentionLinkColor:"shopping",shouldAdjustOffset:!0,userMentionTags:c.map(function(e){return{length:e.length,objectId:e.objectId,offset:e.offset,tagType:e.tagType}})}));var j=p&&p.length>(t?195:200),w=null,O=e3((0,e9.Z)((0,e6.Z)((0,e5.Z)(this.props)))),A=null==d?void 0:null===(f=d.metadata)||void 0===f?void 0:f.basics;if(A){var k,C,D=A.keyValueBlocks,E=A.listBlocks;n&&n.domain&&n.link&&(C={domain:n.domain,url:n.link});var T=[];null!==(k=C)&&void 0!==k&&k.domain&&(T=[].concat(tl(T),[C.domain]));var R=(D||[]).map(function(e){return(0,tn.Z)(e.categoryType,e.value,a)}).filter(function(e){return""!==e});R.length>0&&(T=[].concat(tl(T),tl(R))),(null!=E?E:[]).forEach(function(e){var t=e.heading,n=e.blocks;t&&(T=[].concat(tl(T),[t])),(null!=n?n:[]).forEach(function(e){var t=e.blocks;(null!=t?t:[]).forEach(function(e){var t=e.text;t&&(T=[].concat(tl(T),[t]))})})}),w=(0,tr.Z)(T)}else if(O){var F,L,z,M,B,N,Z,U,K,H,V,G,W=this.props.pin,q=O.recipe,Y=q.prepTime,$=q.cookTime,Q=q.totalTime,J=q.servingSummary,et=q.serves,er=Q||$||Y;if($&&Y){var eo=$.h||0,ea=$.m||0;er={h:eo+(Y.h||0),m:ea+(Y.m||0)}}var el=er?(0,te.Z)((0,e4.X)(er),this.props.i18n):null,es=null===(F=W.richMetadata)||void 0===F?void 0:null===(L=F.recipe)||void 0===L?void 0:null===(z=L.aggregateRating)||void 0===z?void 0:z.reviewCount;J&&(w=et?(0,I.jsxs)(_.xv,{inline:!0,size:eJ.n,children:[et," ",this.props.i18n._('servings', 'closeup.CardSourceDescriptionText.servesLabel', 'Label for servings')]},"recipe"):(0,I.jsx)(_.xv,{inline:!0,size:"200",children:J},"recipe")),el&&(w=w?(0,eu.nk)("{{ timeLabel }} \xb7 {{ description }}",{timeLabel:el,description:w}):el),"number"==typeof es&&es>0&&(w=w?(0,eu.nk)(this.props.i18n._('{{ reviewCount }} reviews \xB7 {{ description }}', 'number of reviews on a recipe and the description', 'number of reviews on a recipe and the description'),{reviewCount:es,description:w}):es);var ec=null===(M=W.richMetadata)||void 0===M?void 0:null===(B=M.recipe)||void 0===B?void 0:null===(N=B.aggregateRating)||void 0===N?void 0:N.ratingValue,ed=Number(ec);Number.isNaN(ed)&&(ed=0),ed>=.25&&(w=w?(0,eu.nk)("{{ ratings }} {{ description }}",{ratings:(0,I.jsx)(e7.Z,{rating:ec,max_rating:null===(Z=W.richMetadata)||void 0===Z?void 0:null===(U=Z.recipe)||void 0===U?void 0:null===(K=U.aggregateRating)||void 0===K?void 0:K.bestRating,width:12},ec),description:w}):(0,I.jsx)(e7.Z,{rating:ec,max_rating:null===(H=W.richMetadata)||void 0===H?void 0:null===(V=H.recipe)||void 0===V?void 0:null===(G=V.aggregateRating)||void 0===G?void 0:G.bestRating,width:12},ec))}if(!S||P)return null;var ep=(null==O?void 0:O.recipe.diets)||[],ef=c?(0,I.jsx)(ei.Z,{description:tf(p),userMentionTags:c}):(0,en.Z)({isHashtagInDescriptionDisplayEnabled:x,text:tf(p)});return p?(0,I.jsxs)(_.xu,{marginTop:4,marginBottom:4,children:[!!w&&!v&&(0,I.jsx)(_.xu,{marginTop:4,marginBottom:4,children:(0,I.jsxs)(_.xv,{size:eJ.n,children:[w,ep.length>0?" ".concat("\xb7"," "):null,ep.length>0?ep.join(" ".concat("\xb7"," ")):null]})}),(0,I.jsx)(ee.Z,{descriptionDir:(0,eq.j)(p),children:b?(0,I.jsx)(X.Z,{description:u||"",userMentionTags:c||[]}):ef})]}):(0,I.jsxs)("span",{children:[(0,I.jsx)(_.xv,{inline:!0,size:"200",children:(0,I.jsx)(_.xu,{"data-test-id":"description",position:"relative",dangerouslySetInlineStyle:{__style:{display:"inline"}},children:w?(0,eu.nk)("{{ recipeInfo }} \xb7 {{ description }}",{recipeInfo:w,description:S}):S})}),j&&!i&&(0,I.jsx)(_.xu,{"data-test-id":"more-button",display:"inlineBlock",marginStart:1,children:(0,I.jsx)(_.iP,{fullWidth:!1,onTap:o,children:(0,I.jsx)(_.xv,{weight:"bold",size:"200",inline:!0,children:this.props.i18n._('More', ' - ', ' -- ')})})})]})}}],tu(o.prototype,n),r&&tu(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(g.Component),th=function(e){var t=(0,O.ZP)(),n=(0,eK.F)().checkExperiment,r=e.pinKey,i=(0,el.u)(tm,r).data;return(0,I.jsx)(ty,ta(ta({},e),{},{i18n:t,checkExperiment:n,pin:i}))};function tg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tv=function(e,t){return e.length>300?e:e.length+t.length+3>300?"".concat(e," ").concat(t,"..."):"".concat(e," ").concat(t)},tb=void 0!==p?p:p=n(911824);function t_(e){var t,n,r,i,o,a,l,s,u,c=function(e){if(Array.isArray(e))return e}(t=(0,g.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tg(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=c[0],p=c[1],f=e.pinKey,m=e.onUpdate,y=(0,el.u)(tb,f).data;if(!y.entityId)return null;var h=!!y.aggregatedPinData,v=!!y.description,b=!!(null!==(n=y.richMetadata)&&void 0!==n&&n.recipe),_=!!(null!==(r=y.richMetadata)&&void 0!==r&&r.article),x=null===(i=y.richMetadata)||void 0===i?void 0:null===(o=i.article)||void 0===o?void 0:o.description,P=!!(null!==(a=y.richMetadata)&&void 0!==a&&a.tutorial),S=null!==(l=null===(s=y.richMetadata)||void 0===s?void 0:null===(u=s.tutorial)||void 0===u?void 0:u.description)&&void 0!==l?l:"",j=_&&!b&&!P;return(0,I.jsx)(g.Fragment,{children:(0,I.jsx)("span",{className:"richPinInformation","data-test-id":"richPinInformation-description",children:v||h?(0,I.jsx)(th,{tutorialDescription:S,isArticle:j,onToggle:function(){return p(!0)},onUpdate:m,pinKey:y,showMore:d}):j&&x&&(0,I.jsx)("span",{className:"richPinArticleSummary",style:{fontSize:"16px",marginBottom:12},children:x.split(" ").map(function(e){return e.trim()}).reduce(tv,"")})})})}function tx(e){var t=e.mediaAttribution,n=t.author,r=t.authorUrl,i=t.ccUrl,o=t.link,a=t.mediaType,l=t.providerName,s=(0,O.ZP)(),u=!!(l&&o);if(!n&&!u)return null;var c=u?s._('from {{ provider }}', 'closeup.attribution.imageWithProvider', 'Image source attribution withprovider but no author on pin closeup'):null;return n&&(c="VIDEO"===a?u?s._('Video by {{ author }} on {{ provider }}', 'closeup.attribution.videoWithAuthorProvider', 'Video source attribution on pin closeup'):s._('Video by {{ author }}', 'closeup.attribution.videoWithAuthor', 'Video source attribution on pin closeup when there is an author but no provider'):u?s._('Photo by {{ author }} on {{ provider }}', 'closeup.attribution.photoWithAuthorProvider', 'Photo source attribution on pin closeup'):s._('Photo by {{ author }}', 'closeup.attribution.photoWithAuthor', 'Photo source attribution on pin closeup when there is an author but no providers')),(0,I.jsx)(_.xu,{display:"inlineBlock","data-test-id":"media-attribution",children:(0,I.jsxs)(_.xv,{size:"200",color:"default",children:[!!c&&(0,I.jsx)(eu.r7,{text:(0,eu.nk)(c,{author:(0,I.jsx)(_.rU,{display:"inlineBlock",href:null!=r?r:"",rel:"nofollow",underline:"hover",children:(0,I.jsx)(_.xv,{size:"200",weight:"bold",children:n})},"author"),provider:u?(0,I.jsx)(_.xu,{marginEnd:1,display:"inlineBlock",children:(0,I.jsx)(_.rU,{display:"inlineBlock",href:null!=o?o:"",rel:"nofollow",underline:"always",children:l},"provider")}):null})}),i&&(0,I.jsx)(_.rU,{href:i,rel:"nofollow",children:s._('(cc)', 'creative commons link text', 'creative commons link text')})]})})}function tP(e){var t=e.attribution,n=t.authorName,r=t.authorUrl,i=t.ccUrl,o=t.providerName,a=t.url,l=e.embed,s=(0,O.ZP)(),u=!!(o&&a);if(!n&&!u)return null;var c=null;return u?c=n?null!=l&&l.src&&"gif"!==l.type&&"pinstory"!==l.subtype?s._('Video by {{ author }} on {{ provider }}', 'closeup.attribution.videoWithAuthorProvider', 'Video source attribution on pin closeup'):s._('Photo by {{ author }} on {{ provider }}', 'closeup.attribution.photoWithAuthorProvider', 'Photo source attribution on pin closeup'):s._('from {{ provider }}', 'closeup.attribution.imageWithProvider', 'Image source attribution withprovider but no author on pin closeup'):n&&(c=null!=l&&l.src&&"gif"!==l.type&&"pinstory"!==l.subtype?s._('Video by {{ author }}', 'closeup.attribution.videoWithAuthor', 'Video source attribution on pin closeup when there is an author but no provider'):s._('Photo by {{ author }}', 'closeup.attribution.photoWithAuthor', 'Photo source attribution on pin closeup when there is an author but no providers')),(0,I.jsx)(_.xu,{display:"inlineBlock","data-test-id":"photo-attribution",children:(0,I.jsxs)(_.xv,{size:"200",color:"default",children:[!!c&&(0,I.jsx)(eu.r7,{text:(0,eu.nk)(c,{author:(0,I.jsx)(_.rU,{display:"inlineBlock",href:null!=r?r:"",rel:"nofollow",underline:"hover",children:(0,I.jsx)(_.xv,{size:"200",weight:"bold",children:n})},"author"),provider:u?(0,I.jsx)(_.xu,{marginEnd:1,display:"inlineBlock",children:(0,I.jsx)(_.rU,{display:"inlineBlock",href:null!=a?a:"",rel:"nofollow",underline:"always",children:o},"provider")}):null})}),i&&(0,I.jsx)(_.rU,{href:i,rel:"nofollow",children:s._('(cc)', 'creative commons link text', 'creative commons link text')})]})})}var tS=void 0!==f?f:f=n(126842),tj=function(e){var t,n,r,i,o=e.isStoryPin,a=e.pinKey,l=e.onUpdate,s=(0,el.u)(tS,a).data,u=s.entityId&&(!!(null!==(t=s.attribution)&&void 0!==t&&t.providerUrl)&&!!s.attribution.providerName||!!(null!==(n=s.attribution)&&void 0!==n&&n.authorName)),c=s.entityId&&(!!(null!==(r=s.mediaAttribution)&&void 0!==r&&r.link)&&!!s.mediaAttribution.providerName||!!(null!==(i=s.mediaAttribution)&&void 0!==i&&i.author)),d=null;if(u||c){var p=(s.closeupUnifiedDescription||"").trim()?"{{ credit }}｜":"{{ credit }}";d=s.mediaAttribution?(0,eu.nk)(p,{credit:s.attribution&&(0,I.jsx)(tx,{mediaAttribution:{author:s.mediaAttribution.author,authorUrl:s.mediaAttribution.authorUrl,ccUrl:s.mediaAttribution.ccUrl,link:s.mediaAttribution.link,mediaType:s.mediaAttribution.mediaType,providerName:s.mediaAttribution.providerName}},"article-pin")}):(0,eu.nk)(p,{credit:s.attribution&&(0,I.jsx)(tP,{attribution:{authorName:s.attribution.authorName,authorUrl:s.attribution.authorUrl,ccUrl:s.attribution.ccUrl,providerName:s.attribution.providerName,url:s.attribution.url},embed:s.embed&&{type:s.embed.type,src:s.embed.src,subtype:s.embed.subtype}},"article-pin")})}return(0,I.jsxs)(_.xv,{inline:!0,children:[d,!o&&(0,I.jsx)(t_,{onUpdate:l,pinKey:s})]})},tw=n(498537),tO=n(783810),tA=n(450053),tk=n(485710),tC=n(319530);function tD(e){var t=e.templateType,n=e.listBlocks,r=(0,O.ZP)(),i=new Map([[null,r._('Notes', 'Closeup.StoryPinBasicsLayout.notesLayoutTitle', 'Label for button to expand notes Story Pin details')],[1,r._('Ingredients', 'Closeup.StoryPinBasicsLayout.recipeLayoutTitle', 'Label for button to expand ingredients Story Pin details')],[2,r._('Supplies', 'Closeup.StoryPinBasicsLayout.diyHomeLayoutTitle', 'Label for button to expand supplies Story Pin details')]]);return(0,I.jsx)(tk.Z,{heading:i.get(t),children:(0,I.jsxs)(tC.Z,{children:[(0,I.jsx)(_.xu,{marginBottom:4}),n.map(function(e,t){var n;return(0,I.jsxs)(g.Fragment,{children:[(0,I.jsx)(_.xv,{size:eJ.n,weight:"bold",children:e.heading}),(null!==(n=e.blocks)&&void 0!==n?n:[]).map(function(t,n){return(0,I.jsx)(g.Fragment,{children:(0,I.jsx)(_.xu,{marginBottom:1,children:(0,I.jsxs)(_.xv,{size:eJ.n,children:["• ",t.text?t.text:""]})})},"item-".concat(n,"-").concat(e.heading||"empty"))}),(0,I.jsx)(_.xu,{marginBottom:4})]},"".concat(e.heading||"empty","-").concat(t,"-listHeading"))})]})})}function tE(e){var t=e.templateType,n=e.listBlocks;return(0,I.jsx)(_.xu,{marginTop:2,children:(0,I.jsx)(tD,{templateType:t,listBlocks:n})})}var tI=n(326595),tT=n(224496),tR=function(e){return e.type===tT.h8.INGREDIENT},tF=function(e){var t=e.block;if(t.type!==tT.h8.INGREDIENT)return null;var n=t.amt,r=t.name,i=t.unit;return(0,I.jsxs)("li",{style:{display:"table-row"},children:[(0,I.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",paddingRight:12}},children:!!n&&(0,I.jsxs)(_.xv,{size:"200",align:"end",children:[n," ",i]})}),(0,I.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell"}},children:(0,I.jsx)(_.xv,{size:"200",children:r})})]})},tL=n(66699),tz=function(e){var t=e.blocks,n=e.recipeData,r=(0,O.ZP)(),i=n.serving_size,o=n.cooking_time,a=n.prep_time,l="number"==typeof o&&"number"==typeof a?o+a:null,s=i?(0,tL.Z)(r.ngettext('{{servingSize}} serving', '{{servingSize}} servings', i, 'number of servings for a recipe', 'number of servings for a recipe'),{servingSize:i}):null;return(0,I.jsxs)(g.Fragment,{children:[(0,I.jsxs)(_.xu,{marginBottom:4,marginTop:5,children:[(0,I.jsx)(_.X6,{overflow:"normal",size:"500",children:r._('Ingredients', 'Heading for list of ingredients', 'Heading for list of ingredients')}),(0,I.jsxs)(_.xu,{marginTop:2,display:"flex",alignItems:"center",children:[!!l&&(0,I.jsx)(tI.Z,{bold:!1,color:"subtle",iconSize:14,textSize:"200",timeString:(0,te.Z)((0,e4.X)({m:l}),r)||""}),!!l&&s&&(0,I.jsx)(_.xu,{paddingX:1,children:(0,I.jsx)(_.xv,{color:"subtle",size:"200",children:"•"})}),s&&(0,I.jsx)(_.xv,{color:"subtle",size:"200",children:s})]})]}),(0,I.jsx)("ul",{children:t&&t.filter(tR).map(function(e,t){return(0,I.jsx)(tF,{block:e},e.name||t)})})]})},tM=function(e){return e.type===tT.h8.SUPPLY},tB=function(e){var t=e.block;if(t.type!==tT.h8.SUPPLY)return null;var n=t.name,r=t.amt;return(0,I.jsxs)("li",{style:{display:"table-row"},children:[(0,I.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",paddingRight:12}},children:!!r&&(0,I.jsx)(_.xv,{size:"200",align:"end",children:r})}),(0,I.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell"}},children:(0,I.jsx)(_.xv,{size:"200",children:n})})]})},tN=function(e){var t=e.blocks,n=e.diyData,r=(0,O.ZP)(),i=n.difficulty,o={1:r._('Easy', 'difficulty level of easy DIY tutorial', 'difficulty level of easy DIY tutorial'),2:r._('Intermediate', 'difficulty level of medium DIY tutorial', 'difficulty level of medium DIY tutorial'),3:r._('Expert', 'difficulty level of hard DIY tutorial', 'difficulty level of hard DIY tutorial')};return(0,I.jsxs)(g.Fragment,{children:[(0,I.jsxs)(_.xu,{marginBottom:4,marginTop:5,children:[(0,I.jsx)(_.X6,{overflow:"normal",size:"500",children:r._('Supplies', 'Heading for list of supplies', 'Heading for list of supplies')}),!!i&&(0,I.jsx)(_.xu,{marginTop:2,display:"flex",alignItems:"center",children:(0,I.jsx)(_.xv,{color:"subtle",size:"200",children:(0,eu.nk)(r._('Difficulty: {{difficultyLevel}}', 'Label indicating the difficulty level of a tutorial', 'Label indicating the difficulty level of a tutorial'),{difficultyLevel:o[i]})})})]}),(0,I.jsx)("ul",{children:t&&t.filter(tM).map(function(e,t){return(0,I.jsx)(tB,{block:e},e.name||t)})})]})};function tZ(e){var t=e.detailsPage,n=e.metadata;if(!n)return null;var r=n.basics;if(r&&Object.keys(r).length>0&&(r.key_value_blocks&&r.key_value_blocks.length>0||r.list_blocks&&r.list_blocks.length>0))return(0,I.jsx)(tE,{templateType:n.template_type,listBlocks:r.list_blocks||[]});switch(n.template_type){case 1:return!!n.recipe_data&&(0,I.jsx)(tz,{blocks:null==t?void 0:t.blocks,recipeData:n.recipe_data});case 2:return!!n.diy_data&&(0,I.jsx)(tN,{blocks:null==t?void 0:t.blocks,diyData:n.diy_data});default:return null}}var tU=n(737930),tK=n(765050),tH=n(366428),tV=n(563886);function tG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tW=void 0!==m?m:m=n(286286),tq=function(e){var t,n=e.marginTop,r=e.children,i=e.id,o=e.story,a=e.viewParameter,l=o.content_ids,s=o.display_options,u=o.slot,c=o.id,d=o.story_type,p=o.tracking_params,f=null==s?void 0:null===(t=s.content_display)||void 0===t?void 0:t.component_type,m=(0,tH.Z)({clientTrackingParams:p,componentType:f,contextLogData:{story_id:c,story_type:d,content_ids:l},impressionType:"Story",loggingId:c,slotIndex:u||0,viewParameter:a,viewType:3});return(0,I.jsx)(_.xu,{ref:m,marginTop:n?8:0,children:r},i)};function tY(e){var t,n,r=e.moduleWidth,i=e.pinKey,o=e.trafficSource,a=e.type,l=e.viewParameter,s=(0,el.u)(tW,i).data,u=(0,eh.Z)({name:"ApiResource",options:{url:"/v3/visual_search/stela/pins/".concat(s.entityId,"/module/"),data:{fields:(0,tU.Z)()}}}).data,c=(function(e){if(Array.isArray(e))return e}(t=u||[void 0])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,1)||function(e,t){if(e){if("string"==typeof e)return tG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tG(e,t)}}(t,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],d=(0,tK.Z)({pinKey:s,requestParams:null==c?void 0:null===(n=c.action)||void 0===n?void 0:n.request_params,surfaceType:"stl",topLevelTrafficSource:o});return!u||u&&0===u.length?null:(0,I.jsx)(_.kC,{justifyContent:"center",direction:"column",alignItems:"center",width:r,children:(0,I.jsx)(_.xu,{width:r,children:!!u&&u.map(function(e){var t=null===(o=e.display_options)||void 0===o?void 0:o.display_view_state,n=e.container_type,i=e.id;if(139!==n)return null;var o,s,u=(null===(s=e.title)||void 0===s?void 0:s.format)||"";return(0,I.jsx)(tq,{id:i,marginTop:"standard"===a,story:e,viewParameter:l,children:(0,I.jsx)(tk.Z,{displayViewState:t,forceTappableHeader:!0,heading:u,headerPaddingRight:G.g9,children:(0,I.jsx)(_.xu,{marginTop:4,children:(0,I.jsx)(tV.Z,{addContentRight:(0,I.jsx)(_.xu,{width:G.g9}),dangerouslySetActionUrl:d,disableHeader:!0,gutterWidth:8,styleOverrides:{justifyContent:"start",navigationFabSize:32},story:e,storyGraphqlRef:null,surface:"ShoppingGridSmallCarousel",saveButtonOptions:{type:"classic"},view:3,viewParameter:l,width:r})})})},i)})})})}var tX=n(536237),t$=n(799405),tQ=n(206663),tJ=n(220306),t0=n(231947),t1=n(426975),t2=(0,g.lazy)(function(){return n.e(34209).then(n.bind(n,209435))}),t8=(0,g.lazy)(function(){return n.e(59559).then(n.bind(n,4255))});function t3(e){var t,n,r,i,o,a,l,s,u,c,d,p,f,m,y,h,g,v,b,x,P,S,j,w=e.commentCountInUSM,O=e.currentIdeaPinId,A=e.hasXYcoordinates,k=e.ideaPinStelaCategories,C=void 0===k?[]:k,D=e.isCommentSectionOpen,E=e.isInStream,T=e.isStoryPin,R=e.isVideoPin,F=e.isDeletedStoryPin,L=e.orbacActingAs,z=e.orbacSubjectId,M=e.onCommentSectionClick,B=e.onCloseupBodyUpdate,N=e.outerPaddingSize,Z=e.pin,U=e.viewer,K=e.shouldShowStlCarouselForOwnPin,H=e.storyPinTaggedProducts,V=void 0===H?[]:H,q=e.taggedProducts,Y=e.trafficSource,X=e.viewParameterType,J=e.viewType,ee=e.closeupContext,et=e.isLoadingNewlyCreatedComment,en=e.viewParameter,er=e.detailsScrollContainerRef,ei=e.clientTrackingParams,eo=(0,(0,tA.ZP)({pin:Z}).makeDetailsArgs)(!!F),ea=eo.isShopTheLook,el=eo.showCreatorCard,es=eo.creatorId,eu=eo.showCanonicalComments,ec=eo.storyPinDetailsArgs,ed=(0,Q.Z)({type:"deprecated",data:Z},U),ep=e3((0,e9.Z)((0,e6.Z)((0,e5.Z)({pin:Z})))),ef=(q||[]).filter(function(e){return(0,tQ.Z)(e)}),em=(0,t0.q6)(U,null===(t=Z.pinner)||void 0===t?void 0:t.id,L),ey=ee.descriptionPaneWidth-2*G.g9,eh=!T&&(!((null!==(n=null===(r=Z.rich_summary)||void 0===r?void 0:r.products)&&void 0!==n?n:[]).length||(null!==(i=null===(o=Z.rich_metadata)||void 0===o?void 0:o.products)&&void 0!==i?i:[]).length)&&ea&&ef.length>0||K)&&!R,eg=T&&V&&V.length>0,ev=(null!==(a=null==ec?void 0:null===(l=ec.metadata)||void 0===l?void 0:null===(s=l.basics)||void 0===s?void 0:null===(u=s.list_blocks)||void 0===u?void 0:u.length)&&void 0!==a?a:0)>0,eb=(0,$.Z)({pinKey:{type:"deprecated",data:Z},orbacActingAs:L,viewer:U}),e_=(0,(0,eK.F)().checkExperiment)("closeup_rich_pin_idea_pins_dweb_auth").anyEnabled,ex=!!Z.story_pin_data_id&&!1===Z.should_open_in_stream,eP=ex&&V&&V.length>0;return(0,I.jsxs)(_.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",children:[(0,I.jsxs)(W,{outerPaddingSize:N,children:[(0,I.jsx)(_.kC,{direction:"row",alignItems:"baseline",justifyContent:"start",children:(0,I.jsx)(_.xu,{maxWidth:ey,children:(0,I.jsx)(tj,{isStoryPin:T,pinKey:{type:"deprecated",data:Z},onUpdate:B})})}),el&&(0,I.jsx)(_.xu,{marginBottom:8,children:(0,I.jsx)(t1.Z,{children:(0,I.jsx)(tO.Z,{creatorId:es,children:function(e){return(0,I.jsx)(tX.Z,{slotIndex:0,viewType:J,viewParameter:en,componentType:126,impressionType:"User",loggingId:es,input:{type:"deprecated",data:Z},officialUser:e,isORBACProfileManager:em,clientTrackingParams:ei})}})})}),!e_&&!T&&!!ep&&(0,I.jsx)(tJ.Z,{recipeProps:ep}),e_&&!!ep&&!ev&&(0,I.jsx)(tJ.Z,{recipeProps:ep}),(T||ex)&&!!ec&&ev&&(0,I.jsx)(tZ,{detailsPage:ec.detailsPage,metadata:ec.metadata}),(eh||eg||eP)&&(0,I.jsx)(eU.Z,{name:"SafeSuspense_CloseupBody_StlCloseupModule",children:(0,I.jsx)(eH.Z,{children:(0,I.jsx)(t2,{closeupImageSignature:null!==(c=Z.image_signature)&&void 0!==c?c:"",isOwnCreatedPin:K,pin:Z,pinId:Z.id,taggedObjects:eg||eP?V:ef,type:eh?"stl":"story",viewParameter:en})})}),!ex&&C.length>0&&(E&&O===Z.id||!E)&&(0,I.jsx)(eU.Z,{name:"SafeSuspense_CloseupBody_StelaCloseupModule",children:(0,I.jsx)(eH.Z,{children:(0,I.jsx)(t$.L,{value:{categories:C,pin:Z,pinId:Z.id,viewParameter:X,viewType:J},children:(0,I.jsx)(t8,{trafficSource:Y})})})})]}),(0,I.jsx)(tY,{moduleWidth:G.Gg-G.g9,pinKey:{type:"deprecated",data:Z},trafficSource:Y,type:"standard",viewParameter:en}),(0,I.jsxs)(W,{outerPaddingSize:N,children:[eb&&(0,I.jsx)(tw.Z,{boardId:null===(d=Z.board)||void 0===d?void 0:d.id,isGroupNote:ed,pinId:Z.id,pinNoteText:null===(p=Z.pin_note)||void 0===p?void 0:p.text}),!F&&!A&&eu&&(0,I.jsx)(eU.Z,{name:"CanonicalCard",children:(0,I.jsx)(_.xu,{marginTop:10,marginBottom:6,children:(0,I.jsx)(eQ.Z,{aggregatedPinId:null===(f=Z.aggregated_pin_data)||void 0===f?void 0:f.id,closeupAttributionId:null===(m=Z.closeup_attribution)||void 0===m?void 0:m.id,closeupAttributionUsername:null===(y=Z.closeup_attribution)||void 0===y?void 0:y.username,commentCount:null!==(h=null===(g=Z.aggregated_pin_data)||void 0===g?void 0:g.comment_count)&&void 0!==h?h:0,commentCountInUSM:w,commentsDisabled:Z.comments_disabled,isCommentSectionOpen:D,isLoadingNewCreatedComment:et,isORBACProfileManager:em,isShopTheLook:ea,isVideo:!!(null!==(v=Z.videos)&&void 0!==v&&v.video_list),onCommentSectionClick:M,orbacSubjectId:z,photoCount:null!==(b=null===(x=Z.aggregated_pin_data)||void 0===x?void 0:null===(P=x.did_it_data)||void 0===P?void 0:P.images_count)&&void 0!==b?b:0,pinId:Z.id,pinnerId:null===(S=Z.pinner)||void 0===S?void 0:S.id,scrollContainerRef:er,shouldShowHeading:!0,storyPinDataId:null===(j=Z.story_pin_data)||void 0===j?void 0:j.id,viewParameter:en})})})]})]})}var t9=n(268592),t6=n(127897),t5=n(680333),t7=n(491073),t4=n(475406),ne=n.n(t4),nt=n(992544);function nn(e){var t=e.id,n=e.selectedCountry,r=e.onChange,i=e.placeholder,o=e.errorMessage,a=(0,O.ZP)(),l=(0,nt.Z)({selectedCountry:n}).options;return(0,I.jsx)(_.EI,{id:t,label:a._('Country', '[m10n] countryDropdown.countryLabel', 'Label for country dropdown'),value:n,onChange:function(e){r({value:e.value})},placeholder:i,errorMessage:o,size:"lg",children:l.map(function(e,t){var n=e.value,r=e.label;return(0,I.jsx)(_.EI.Option,{label:r,value:n},"".concat(n,"-").concat(t))})},t)}function nr(e){return function(e){if(Array.isArray(e))return no(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ni(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ni(e,t){if(e){if("string"==typeof e)return no(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return no(e,t)}}function no(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function na(e){var t,n=e.questions,r=void 0===n?[]:n,i=e.answers,o=e.setAnswers,a=e.answerErrors,l=e.leadGenFieldMessages,s=e.pinId,u=e.leadFormId,c=(0,O.ZP)(),d=(0,j.v)().logContextEvent,p=function(e){if(Array.isArray(e))return e}(t=(0,g.useState)(r.map(function(){})))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||ni(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=p[0],m=p[1],y=function(e,t){var n=nr(i);n[e]=t,o(n)},h=function(e,t,n,r){var i=nr(f);if(n){var o=Array.isArray(f[e])?[].concat(nr(f[e]),[t]):[t];i[e]=o}else if(Array.isArray(f[e])){var a=f[e].filter(function(e){return e!==t});i[e]=a}m(i);var l=r.filter(function(t,n){return Array.isArray(i[e])&&i[e].includes(n)});y(e,l)},v=function(e){return d({event_type:10367,view_type:175,view_parameter:null,component:14307,element:e,object_id_str:s,aux_data:{lead_form_id:u,is_lead_ad:1}})},b=function(e,t){var n=e.questionType,r=e.questionFieldType,o=e.questionLabel,s=e.questionOptions,u=e.multiFieldsOrder,d=null!=u?l[n||0][u]:l[n||0],p=d.placeholderText,b=d.element,x=d.customElements,P=1===n?x[r||0]:b,S=i[t],j=a[t];switch(r){case 1:var w=c._('Limit reached. You can only use 80 characters in this field.', '[m10n] leadGenFields.textFieldLimitReached', 'Text field limit reached'),O=c._('80 characters max', '[m10n] leadGenFields.textFieldHelperText', 'Text field limit helper text');return(0,I.jsx)(_.nv,{id:"field-".concat(t),label:o||"",name:"formTextField",errorMessage:j,size:"lg",placeholder:p||"",value:String(S),maxLength:{characterCount:80,errorAccessibilityLabel:w},helperText:O,onChange:function(e){return y(t,e.value)},onBlur:function(){return v(P)},type:6===n?"tel":"text",autoComplete:"off"},"field-".concat(t));case 2:var A=c._('Limit reached. You can only use 120 characters in this field.', '[m10n] leadGenFields.textAreaLimitReached', 'Text area limit reached'),k=c._('120 characters max', '[m10n] leadGenFields.textAreaHelperText', 'Text area limit helper text');return(0,I.jsx)(_.Kx,{id:"field-".concat(t),label:o||"",name:"formTextArea",errorMessage:j,placeholder:p||"",value:String(S),maxLength:{characterCount:120,errorAccessibilityLabel:A},helperText:k,onChange:function(e){return y(t,e.value)},onBlur:function(){return v(P)}},"field-".concat(t));case 3:return(0,I.jsx)(_.FX,{id:"field-".concat(t),legend:o||"",errorMessage:j,children:null==s?void 0:s.map(function(e,n){return(0,I.jsx)(_.FX.RadioButton,{id:"radio-".concat(t,"-").concat(n),name:"radio-".concat(t,"-").concat(n),label:e,checked:f[t]===n,onChange:function(){var r=nr(f);r[t]=n,m(r),y(t,e),v(P)},value:e,size:"sm"},"radio-".concat(t,"-").concat(n))})},"field-".concat(t));case 5:if(11===n)return(0,I.jsx)(g.Suspense,{children:(0,I.jsx)(nn,{id:"field-".concat(t),selectedCountry:String(S),onChange:function(e){y(t,e.value),v(P)},placeholder:p||"",errorMessage:j},"field-".concat(t))},"field-".concat(t,"-suspense"));return(0,I.jsx)(_.EI,{id:"field-".concat(t),label:o||"",value:String(S),onChange:function(e){y(t,e.value),v(P)},placeholder:p||"",errorMessage:j,size:"lg",children:null==s?void 0:s.map(function(e){return(0,I.jsx)(_.EI.Option,{label:e,value:e},e.toLowerCase())})},"field-".concat(t));case 4:return(0,I.jsx)(_.pg,{id:"field-".concat(t),legend:o||"",errorMessage:j,children:(0,I.jsx)(_.kC,{direction:"column",gap:{column:2,row:0},children:null==s?void 0:s.map(function(e,n){return(0,I.jsx)(_.XZ,{label:e,checked:Array.isArray(f[t])&&f[t].includes(n),id:"checkbox-".concat(t,"-").concat(n),name:"checkbox-".concat(t,"-").concat(n),size:"sm",onChange:function(e){h(t,n,e.checked,s),v(P)}},"checkbox-".concat(t,"-").concat(n))})})},"field-".concat(t));default:return""}};return(0,I.jsx)(_.kC,{direction:"column",gap:{row:0,column:3},children:r.map(function(e,t){return b(e,t)})})}var nl=n(134906);function ns(e){return(ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nu(e,t,n){var r;return(r=function(e,t){if("object"!==ns(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ns(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===ns(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nc=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/g,nd=function(){var e,t,n=(0,O.ZP)(),r=(nu(t={},1,{placeholderText:n._('Enter your answer', '[m10n]closeup.leadGenContainer.customFieldPlaceholder', 'Placeholder for custom field'),errorMessage:n._('Enter valid information to continue', '[m10n] leadGenContainer.customFieldlError', 'Invalid custom field validator error'),customElements:(nu(e={},1,13621),nu(e,2,13622),nu(e,3,13623),nu(e,4,13624),e)}),nu(t,2,{placeholderText:n._('Enter full name', '[m10n]closeup.leadGenContainer.fullNamePlaceholder', 'Placeholder for name'),errorMessage:n._('Enter your full name to continue', '[m10n] leadGenContainer.nameValEmptyError', 'Invalid name validator empty error'),errorMessageSecondary:n._('Enter a valid full name to continue', '[m10n] leadGenContainer.nameValError', 'Invalid name validator error'),element:13411}),nu(t,3,{placeholderText:n._('Enter first name', '[m10n]closeup.leadGenContainer.firstNamePlaceholder', 'Placeholder for first name'),errorMessage:n._('Enter your first name to continue', '[m10n] leadGenContainer.firstNameValEmptyError', 'Invalid first name validator empty error'),errorMessageSecondary:n._('Enter a valid first name to continue', '[m10n] leadGenContainer.firstNameValError', 'Invalid first name validator error'),element:13614}),nu(t,4,{placeholderText:n._('Enter last name', '[m10n]closeup.leadGenContainer.lastNamePlaceholder', 'Placeholder for last name'),errorMessage:n._('Enter your last name to continue', '[m10n] leadGenContainer.lastNameValEmptyError', 'Invalid last name validator empty error'),errorMessageSecondary:n._('Enter a valid last name to continue', '[m10n] leadGenContainer.lastNameValError', 'Invalid last name validator error'),element:13615}),nu(t,5,{placeholderText:n._('Enter email', '[m10n]closeup.leadGenContainer.emailPlaceholder', 'Placeholder for email'),errorMessage:n._('Enter your email to continue', '[m10n] leadGenContainer.emailValEmptyError', 'Invalid email validator empty error'),errorMessageSecondary:n._('Enter a valid email to continue', '[m10n] leadGenContainer.emailValError', 'Invalid email validator error'),element:13412}),nu(t,6,{placeholderText:n._('Enter phone number', '[m10n]closeup.leadGenContainer.phoneNumberPlaceholder', 'Placeholder for phone number'),errorMessage:n._('Enter your phone number to continue', '[m10n] leadGenContainer.phoneNumberValEmptyError', 'Invalid phone number validator empty error'),errorMessageSecondary:n._('Enter a valid phone number to continue', '[m10n] leadGenContainer.phoneNumberValError', 'Invalid phone number validator error'),element:13413}),nu(t,7,{placeholderText:n._('Enter zip code', '[m10n]closeup.leadGenContainer.zipCodePlaceholder', 'Placeholder for zip code'),errorMessage:n._('Enter your zip code to continue', '[m10n] leadGenContainer.zipCodeValEmptyError', 'Invalid zip code validator empty error'),element:13414}),nu(t,8,{placeholderText:n._('Enter age', '[m10n]closeup.leadGenContainer.agePlaceholder', 'Placeholder for age'),errorMessage:n._('Enter your age to continue', '[m10n] leadGenContainer.ageValEmptyError', 'Invalid age validator empty error'),errorMessageSecondary:n._('Enter a valid age to continue', '[m10n] leadGenContainer.ageValError', 'Invalid age validator error'),errorMessageTertiary:n._('You should be older than 18 years to continue', '[m10n] leadGenContainer.ageUnderAgeError', 'Invalid age validator underage error'),element:13616}),nu(t,9,{errorMessage:n._('Select one option to continue', '[m10n]closeup.leadGenContainer.genderValError', 'Invalid gender validator error'),element:13617}),nu(t,11,{placeholderText:n._('Select a country', '[m10n]closeup.leadGenContainer.countryPlaceholder', 'Placeholder for country'),errorMessage:n._('Select one option to continue', '[m10n]closeup.leadGenContainer.countryValError', 'Invalid country validator error'),element:13618}),nu(t,10,{placeholderText:n._('Enter your city', '[m10n]closeup.leadGenContainer.cityPlaceholder', 'Placeholder for city'),errorMessage:n._('Enter your city to continue', '[m10n]closeup.leadGenContainer.cityValError', 'Invalid city validator error'),errorMessageSecondary:n._('Enter a valid city to continue', '[m10n]closeup.leadGenContainer.cityValError', 'Invalid city validator error'),element:13619}),nu(t,13,{placeholderText:n._('Enter your state/province', '[m10n]closeup.leadGenContainer.stateProvincePlaceholder', 'Placeholder for state/province'),errorMessage:n._('Enter your state/province to continue', '[m10n]closeup.leadGenContainer.stateProvinceValError', 'Invalid state/province validator error'),element:13620}),nu(t,14,[{multi_field_label:n._('Address line 1', '[m10n]closeup.leadGenContainer.address1Label', 'Label for address line 1'),placeholderText:n._('Enter your street address', '[m10n]closeup.leadGenContainer.addressPlaceholder', 'Placeholder for address line 1'),errorMessage:n._('Enter your address to continue', '[m10n]closeup.leadGenContainer.addressValError', 'Invalid address error'),element:14886},{multi_field_label:n._('Address line 2 (optional)', '[m10n]closeup.leadGenContainer.address2Label', 'Label for address line 2'),placeholderText:n._('Enter your apt, suite, etc.', '[m10n]closeup.leadGenContainer.addressPlaceholder', 'Placeholder for address'),errorMessage:"",element:14886}]),nu(t,15,[{multi_field_label:n._('Date of birth', '[m10n]closeup.leadGenContainer.dateOfBirthLabel', 'Label for date of birth'),placeholderText:n._('Enter day', '[m10n]closeup.leadGenContainer.dateOfBirthDatePlaceholder', 'Placeholder for date of birth date'),errorMessage:n._('Enter your date of birth to continue', '[m10n]closeup.leadGenContainer.dateOfBirthDateValError', 'Invalid date of birth date error'),errorMessageSecondary:n._('Enter a valid birthday to continue', '[m10n]closeup.leadGenContainer.dateOfBirthDateValError', 'Invalid birthday validator error'),element:14914},{placeholderText:n._('Select month', '[m10n]closeup.leadGenContainer.dateOfBirthMonthPlaceholder', 'Placeholder for date of birth month'),errorMessage:n._('Enter your date of birth month to continue', '[m10n]closeup.leadGenContainer.dateOfBirthMonthValError', 'Invalid date of birth month error'),element:14914}]),t);return{leadGenFieldMessages:r,getLeadGenFieldErrors:function(e,t){var n=[],i=function(e,t){var i=e.questionType,o=e.questionFieldType,a=e.multiFieldsOrder,l=null!=a?r[i][a]:r[i],s=l.errorMessage,u=l.errorMessageSecondary,c=l.errorMessageTertiary;switch(i){case 2:var d=(0,nl.a3)(String(t),[(0,nl.aH)({message:s}),(0,nl.VG)({message:u})]);n.push(d);break;case 3:var p=(0,nl.a3)(String(t),[(0,nl.aH)({message:s}),(0,nl.VG)({message:u})]);n.push(p);break;case 4:var f=(0,nl.a3)(String(t),[(0,nl.aH)({message:s}),(0,nl.VG)({message:u})]);n.push(f);break;case 5:var m=(0,nl.a3)(String(t),[(0,nl.aH)({message:s}),(0,nl.GT)({message:u})]);n.push(m);break;case 6:var y=(0,nl.a3)(String(t),[(0,nl.aH)({message:s}),(0,nl.Bh)({message:u})]);n.push(y);break;case 8:var h=(0,nl.a3)(String(t),[(0,nl.aH)({message:s}),(0,nl.ZA)({invalidAgeString:u,checkUnderAgeWithString:c})]);n.push(h);break;case 10:var g=(0,nl.a3)(String(t),[(0,nl.aH)({message:s}),(0,nl.vd)({message:u,pattern:nc})]);n.push(g);break;case 15:if(0===a){var v=(0,nl.a3)(String(t),[(0,nl.aH)({message:s}),(0,nl.fS)({invaliddobDateString:u})]);n.push(v);break}var b=(0,nl.a3)(String(t),[(0,nl.aH)({message:s})]);n.push(b);break;default:if(4===o){n.push("");break}var _=(0,nl.a3)(String(t),[(0,nl.aH)({message:s})]);n.push(_)}};return t.forEach(function(t,n,r){var o=e[n],a=o.questionType,l=o.multiFieldsOrder,s=t;15===a&&0===l&&n+1<r.length&&(s=t.toString()+" "+r[n+1].toString()),i(o,s)}),{hasErrors:n.some(function(e){return e&&""!==e}),errors:n}},addressQuestion:[{questionType:14,questionFieldType:1,questionLabel:"Address line 1",questionOptions:null,multiFieldsOrder:0},{questionType:14,questionFieldType:1,questionLabel:"Address line 2 (optional)",questionOptions:null,multiFieldsOrder:1}],dobQuestion:[{questionType:15,questionFieldType:1,questionLabel:"Date of birth",questionOptions:null,multiFieldsOrder:0},{questionType:15,questionFieldType:5,questionLabel:"",questionOptions:["January","February","March","April","May","June","July","August","September","October","November","December"],multiFieldsOrder:1}]}};function np(e){return function(e){if(Array.isArray(e))return nf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return nf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nf(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nm={January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"},ny=function(e,t){var n=[],r="",i=null,o=null;return e.forEach(function(e,a){14===e.questionType?"string"==typeof t[a]&&(""===r?r=t[a]:(r=r+" "+t[a],n.push(r))):15===e.questionType?"string"==typeof t[a]&&(null===i?i=2===t[a].length?t[a]:"0"+t[a]:(o=nm[t[a]],n.push(o+"/"+i))):n.push(t[a])}),n},nh=n(186656),ng=n(966113),nv=n(312918),nb=n(878552);function n_(e){return(n_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nx(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==n_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==n_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n_(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nS(e){return function(e){if(Array.isArray(e))return nO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nw(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||nw(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nw(e,t){if(e){if("string"==typeof e)return nO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nO(e,t)}}function nO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nA=void 0!==y?y:y=n(607093);function nk(e){var t,n,r=e.pinKey,i=e.leadFormResponseState,o=e.setIsLoadingLeadFormSubmit,a=e.setLeadFormResponseState,l=e.submitButtonRef,s=(0,O.ZP)(),u=(0,el.u)(nA,r).data,c=(0,(0,eK.F)().checkExperiment)("web_lead_ads_multiple_policy_link").anyEnabled,d=u.title,p=u.adDestinationUrl,f=u.description,m=u.entityId,y=u.promotedIsLeadAd,h=u.pinner||{},v=h.fullName,b=h.fullName,x=h.imageMediumUrl,P=h.verifiedIdentity,S=h.isVerifiedMerchant,w=h.username,A=u.promotedLeadForm||{},k=A.leadFormId,C=A.pinPromotionId,D=A.completionMessage,E=A.disclosureLanguage,T=A.privacyPolicyLink,R=A.policyLinks,F=(0,nb.Q)(),L=F.leadGen,z=F.updateLeadGenInfo,M=nd(),B=M.leadGenFieldMessages,N=M.getLeadGenFieldErrors,Z=((null===(t=u.promotedLeadForm)||void 0===t?void 0:null===(n=t.questions)||void 0===n?void 0:n.map(function(e){return{questionType:e.questionType,questionFieldType:e.questionFieldType,questionLabel:e.questionLabel,questionOptions:e.questionOptions}}))||[]).reduce(function(e,t){var n=nd(),r=n.dobQuestion,i=n.addressQuestion,o=t.questionType;return 14===o?[].concat(np(e),np(i)):15===o?[].concat(np(e),np(r)):[].concat(np(e),[t])},[]),U=nj((0,g.useState)(Z.map(function(e){return 4===e.questionFieldType?[]:""})),2),K=U[0],H=U[1],V=nj((0,g.useState)(Z.map(function(){return""})),2),G=V[0],W=V[1],q=nj((0,g.useState)(!1),2),Y=q[0],X=q[1],$=nj((0,g.useState)(""),2),Q=$[0],J=$[1],ee=!!(null!=P&&P.verified),et="/".concat(null!=w?w:"","/"),en=L.formSubmissions,er=en[k||""],ei=(0,j.v)().logContextEvent,eo=s._('You have to agree to continue', '[m10n] closeup.leadGen.acceptTermsErrorMessage', 'Accept terms error message'),ea=function(e,t){var n=nS(e),r=nS(t).reduce(function(e,t,n){var r=nS(e);return 4===t.questionFieldType&&r.push(n),r},[]),i=nS(r);return n.map(function(e,t){return i.includes(t)?ne().unparse([e],{quotes:!0,quoteChar:'"'}):e})},es=function(){var e=ny(Z,K),t=N(Z,K),n=t.errors,r=t.hasErrors;if(W(nS(n)),Y?J(""):J(eo),!r&&Y){o(!0);var i=ea(e,Z),l={fullName:"",email:"",phoneNumber:"",zipCode:"",formSubmissions:en};z(l);var s={pin_promotion_id:C&&C.toString(),answers:JSON.stringify(i)};(0,nh.Z)({url:"/v3/lead_form/submit/",method:"POST",data:s}).then(function(){var e=nP({},en);e[k||""]=m,z(nP(nP({},l),{},{formSubmissions:e})),o(!1),a("success"),ei({event_type:10368,view_type:175,view_parameter:null,component:14307,object_id_str:m})}).catch(function(){o(!1),a("error"),ei({event_type:10370,view_type:175,view_parameter:null,component:14307,object_id_str:m,aux_data:{is_lead_ad:1}})})}};(0,g.useImperativeHandle)(l,function(){return{handleClick:es}});var ec=(0,I.jsx)(_.xu,{marginTop:2,children:(0,I.jsxs)(_.kC,{gap:{column:0,row:2},children:[(0,I.jsx)(_.qb,{accessibilityLabel:s._('Privacy policy error', '[m10n] closeup.leadGen.privacyPolicyErrorLabel', 'Privacy policy error icon'),type:"problem"}),(0,I.jsx)(_.xv,{size:"100",color:"error",children:Q})]})}),ed=(0,I.jsx)(_.xu,{marginTop:2,children:(0,I.jsxs)(_.xv,{size:"100",color:"subtle",children:[E,R?" ":"",c&&(null==R?void 0:R.map(function(e,t){return(0,I.jsxs)(_.xv,{size:"100",color:"subtle",inline:!0,children:[t>0&&t<R.length?", ":"",(0,eu.nk)(s._('{{policyLinkLabel}}', '[m10n]closeup.leadGen.policyLinkLabel', 'Policy link label, policyLinkLabel: the policy links of the brand'),{policyLinkLabel:(0,I.jsx)(_.xv,{weight:"bold",size:"100",color:"subtle",inline:!0,underline:!0,children:(0,I.jsx)(_.rU,{href:e.link||"",target:"blank",display:"inlineBlock",underline:"always",children:e.label},k)})})]},"policyLink-".concat(t))}))]})});return(0,g.useEffect)(function(){ei({event_type:10363,view_type:175,view_parameter:null,component:14307,object_id_str:m,aux_data:{lead_form_id:k,is_lead_ad:1}}),er?(a("success"),ei({event_type:13,view_type:175,view_parameter:null,component:14308,object_id_str:m,aux_data:{lead_form_id:k,is_lead_ad:1}})):ei({event_type:13,view_type:175,view_parameter:null,component:14307,object_id_str:m,aux_data:{lead_form_id:k,is_lead_ad:1}})},[er,k,m,ei,a]),(0,I.jsx)(g.Fragment,{children:"success"===i||er?(0,I.jsxs)(_.xu,{paddingY:3,marginTop:1,children:[(0,I.jsxs)(_.kC,{direction:"column",justifyContent:"between",gap:{row:0,column:3},children:[(0,I.jsx)(nv.Z,{fullName:b,hasVerifiedIdentity:ee,imageUrl:x,isPromoted:null!=y&&y,isVerifiedMerchant:S||!1,profileUrl:et,isLeadPin:!0}),(0,I.jsx)(_.X6,{size:"600",children:s._('Your information was sent!', '[m10n] closeup.leadGen.InformationSentMessage', 'Information sent message')}),(0,I.jsx)(_.xv,{size:"300",children:D})]}),(0,I.jsx)(_.xu,{paddingY:6,children:(0,I.jsx)(_.ZP,{accessibilityLabel:s._('Visit site', '[m10n]closeup.leadGen.visitSiteButton', 'Submit button for the form'),size:"lg",text:s._('Visit site', '[m10n]closeup.leadGen.visitSiteButton', 'Visit Site button for the lead ad success page'),onClick:function(){ei({event_type:8948,view_type:175,view_parameter:null,object_id_str:m,aux_data:{click_type:"clickthrough",closeup_navigation_type:"click",lead_form_id:k}})},target:"blank",href:p||"",color:"red"})})]}):(0,I.jsxs)(_.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:12,paddingBottom:24}},marginTop:2,children:[(0,I.jsxs)(_.kC,{direction:"column",justifyContent:"between",gap:{row:0,column:3},children:[(0,I.jsx)(nv.Z,{fullName:b,hasVerifiedIdentity:ee,imageUrl:x,isPromoted:y||!1,isVerifiedMerchant:S||!1,profileUrl:et,isLeadPin:!0}),(0,I.jsx)(_.X6,{size:"600",children:d}),(0,I.jsx)(_.xv,{size:"300",children:f})]}),(0,I.jsx)(_.xu,{paddingY:6,children:(0,I.jsxs)(_.kC,{direction:"column",gap:{row:0,column:3},children:[(0,I.jsx)(na,{questions:Z,answers:K,setAnswers:H,answerErrors:G,leadGenFieldMessages:B,pinId:m,leadFormId:k}),"error"===i&&(0,I.jsxs)(_.xu,{display:"flex",marginTop:2,justifyContent:"start",children:[(0,I.jsx)(_.qb,{type:"problem"}),(0,I.jsx)(_.xu,{paddingX:2,children:(0,I.jsx)(_.xv,{size:"100",color:"error",children:s._('Something went wrong. Please try "Submit" again.', '[m10n] closeup.leadGen.InternalErrorMessage', 'Service error message')})})]})]})}),(0,I.jsx)(_.xu,{"data-test-id":"lead-gen-container-policy",children:(0,I.jsxs)(_.kC,{gap:2,children:[(0,I.jsx)(_.XZ,{id:"acceptTermsCheckbox",size:"sm",checked:Y,errorMessage:Q,name:"acceptTermsCheckbox",onChange:function(){X(!Y)}}),(0,I.jsxs)(_.kC,{direction:"column",children:[(0,I.jsx)(_.xv,{size:"100",color:"subtle",children:(0,eu.nk)(s._('By checking the box and submitting, you agree to send your info to {{ brand }} so that they can contact you about this offer. {{ brand }} agrees to use your information in accordance with {{ theirPrivacyPolicy }}. Pinterest will also use your info in accordance with {{ ourPrivacyPolicy }}.', '[m10n]closeup.leadGen.leadGenDisclaimer', 'Disclaimer text, brand: the entity who created the lead ad, theirPrivacyPolicy: the privacy policy of the brand, ourPrivacyPolicy: the privacy policy of Pinterest'),{brand:v,theirPrivacyPolicy:(0,I.jsx)(_.xv,{weight:"bold",size:"100",color:"subtle",inline:!0,children:(0,I.jsx)(_.rU,{href:T||"",target:"blank",display:"inlineBlock",underline:"always",children:s._('their privacy policy', '[m10n]closeup.leadGen.theirPrivacyPolicy', 'Lead form advertiser privacy policy')},k)},"theirPrivacyPolicyText"),ourPrivacyPolicy:(0,I.jsx)(_.xv,{weight:"bold",size:"100",color:"subtle",inline:!0,children:(0,I.jsx)(_.rU,{href:ng.R_9,target:"blank",display:"inlineBlock",underline:"always",children:s._('our privacy policy', '[m10n]closeup.leadGen.ourPrivacyPolicy', 'Lead form pinterest privacy policy')},k)},"ourPrivacyPolicyText")})}),R||E?ed:null,Q&&ec]})]})})]})})}var nC=n(425288),nD=n(700380);function nE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nI=(0,nC.Z)("LeadGenShadow"),nT=nI.Provider,nR=nI.useHook;function nF(e){var t,n,r,i=e.children,o=e.metadataContainerRef,a=function(e){if(Array.isArray(e))return e}(t=(0,g.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return nE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nE(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],s=a[1],u=null===(n=o.current)||void 0===n?void 0:n.children[0],c=window.innerHeight;return(0,g.useEffect)(function(){u&&s(c<u.getBoundingClientRect().bottom+34);var e=(0,nD.Z)(function(){u&&s(c<u.getBoundingClientRect().bottom+34)},50);return document.addEventListener("scroll",e),function(){document.removeEventListener("scroll",e)}},[null===(r=o.current)||void 0===r?void 0:r.children,u,c]),(0,I.jsx)(nT,{value:{showShadow:l},children:i})}function nL(e){return(nL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var nM={boxShadow:"0px -8px 8px -5px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};function nB(e){var t=e.submitButtonRef,n=e.showLeadPinStdBeta,r=void 0!==n&&n,i=(0,O.ZP)(),o=nR().showShadow,a=(0,I.jsx)(_.zx,{onClick:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.handleClick()},type:"submit",accessibilityLabel:i._('Submit', '[m10n]closeup.leadGen.submitButton', 'Submit button for the form'),size:"lg",fullWidth:r,text:i._('Submit', '[m10n]closeup.leadGen.submitButton', 'Submit button for the form'),color:"red"});return(0,I.jsx)(_.Le,{bottom:0,children:(0,I.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nz(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==nL(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nL(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nL(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({borderTop:r?"":"1px solid #EFEFEF",borderBottomRightRadius:32,borderBottomLeftRadius:32},o&&r&&nM)},color:"default",paddingX:8,paddingY:3,width:"100%","data-test-id":"lead-gen-footer",children:r?(0,I.jsx)(_.kC,{justifyContent:"end",alignItems:"center",gap:4,children:a}):(0,I.jsx)(_.kC,{alignItems:"stretch",justifyContent:"end",children:a})})})}var nN=n(81072),nZ=n(814197);function nU(e){var t,n=e.height,r=(0,g.useRef)(null),i=(0,nN.Z)(),o=(null===(t=r.current)||void 0===t?void 0:t.getBoundingClientRect().top)||0;return(0,I.jsx)(_.xu,{ref:r,id:"lead-gen-sticky-container ","data-test-id":"lead-gen-sticky-container",children:(0,I.jsx)(_.Le,{height:n,top:i+-40+o,zIndex:nZ.mS,children:e.children})})}var nK=n(385646),nH=n(537313),nV=n(333312),nG=void 0!==h?h:h=n(891807);function nW(e){var t,n=e.actionBarHeight,r=e.isStoryPin,i=e.onClickThrough,o=e.pinKey,a=e.trackingParamsMap,l=(0,g.useRef)(null),s=(0,el.u)(nG,o).data,u=(0,nH.Wp)({carouselData:s.carouselData&&{carouselSlots:s.carouselData.carouselSlots&&s.carouselData.carouselSlots.map(function(e){return{domain:e.domain,link:e.link}}),index:null===(t=s.carouselData)||void 0===t?void 0:t.index},domain:s.domain}).currentDomain;return(0,I.jsxs)(_.xu,{display:"inlineBlock",position:"relative",width:"100%",children:[(0,I.jsx)(nH.ZP,{actionBarHeight:n,onClickThrough:i,pinKey:s,showDomainInLink:!0,trackingParamsMap:a,children:(0,I.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"underline"}},ref:l,children:(0,I.jsx)(_.xv,{size:eJ.n,children:(0,nK.f)(u)})})}),r&&(0,I.jsx)(nV.default,{showCaret:!0,anchor:l.current,experienceIds:[504729],flyoutSize:"md",placementId:1000167,textAlign:"center",textWeight:"normal"})]})}function nq(e){return(nq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nY(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==nq(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nq(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nq(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nY(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function n$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nQ(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nJ=(0,g.lazy)(function(){return Promise.all([n.e(50564),n.e(11177),n.e(21177)]).then(n.bind(n,707047))});function n0(e){var t=e.pin,n=e.data,r=e.goBack,i=e.isReactionsExpansionEnabled,o=e.isStoryPin,a=e.onClickThrough,l=e.onUpdate,s=e.viewParameter,u=e.onSaveButtonClick,c=e.showRepinOnInitialRender,d=e.actionBarContainerRef,p=e.trafficSource,f=e.visualContentContainer,m=e.visualContentContainerHeight,y=e.descriptionPaneWidth,h=e.metadataContainerRef,v=e.leadFormHeight,b=e.isOverflowVisible,x=e.showLeadPinStdBeta,P=n$((0,g.useState)(!1),2),S=P[0],j=P[1],w=n$((0,g.useState)(null),2),A=w[0],k=w[1],C=(0,O.ZP)(),D=(0,g.useRef)();return(0,I.jsxs)(nF,{metadataContainerRef:h,children:[f,(0,I.jsx)(_.xu,{"data-test-id":"lead-gen-description-content-container",display:"flex",direction:"column",height:"100%",maxHeight:m,width:y,children:!n||S?(0,I.jsx)(_.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingY:4,children:(0,I.jsx)(_.$j,{accessibilityLabel:C._('Pin details loading', ' - ', ' -- '),show:!0})}):(0,I.jsxs)(g.Fragment,{children:[(0,I.jsxs)(_.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:G.g9,paddingLeft:G.g9}},direction:"column",display:"flex",flex:"grow",maxHeight:v,overflow:b?"visible":"auto",children:[(0,I.jsx)(eU.Z,{name:"SafeSuspense_CloseupBody_CloseupActionBar",children:(0,I.jsx)(eH.Z,{children:(0,I.jsx)(nJ,{goBack:r,gridDescription:t.description,isDeletedStoryPin:!1,isOnSecretBoard:!1,isReactionsExpansionEnabled:i,onEditSubmit:l,pin:t,viewParameter:s,onSaveButtonClick:u,showRepinOnInitialRender:c,isStoryPin:!1,actionBarContainerRef:d,outerPaddingSize:G.$T,showLeadPin:!0})})}),(0,I.jsx)(_.xu,{alignItems:"stretch",display:"flex",flex:"grow",justifyContent:"start",direction:"column",ref:h,children:(0,I.jsxs)(_.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,I.jsx)(_.xu,{direction:"row",display:"flex","data-test-id":"maybe-clickthrough-link",children:(0,I.jsx)(eV.q,{children:function(e){var n,r=e.hovered,i=e.onMouseEnter,l=e.onMouseLeave;return(0,I.jsx)(eZ.Z,{hovered:r,pinKey:{type:"deprecated",data:t},trafficSource:p,trackingParamsMap:t.tracking_params_map,viewType:3,children:(0,I.jsx)(_.xu,{onMouseEnter:i,onMouseLeave:l,children:(0,I.jsx)(nW,{actionBarHeight:(null===(n=d.current)||void 0===n?void 0:n.offsetHeight)||G.Ie,onClickThrough:a,pinKey:{type:"deprecated",data:t},trackingParamsMap:t.tracking_params_map,isStoryPin:o})})})}})}),(0,I.jsx)(nk,{pinKey:{type:"deprecated",data:t},leadFormResponseState:A,setIsLoadingLeadFormSubmit:j,setLeadFormResponseState:k,submitButtonRef:D})]})})]}),"success"!==A&&(0,I.jsx)(nB,{submitButtonRef:D,showLeadPinStdBeta:void 0===x||x})]})})]})}function n1(e){var t=e.pin,n=e.data,r=e.goBack,i=e.isReactionsExpansionEnabled,o=e.isStoryPin,a=e.onClickThrough,l=e.onUpdate,s=e.viewParameter,u=e.onSaveButtonClick,c=e.showRepinOnInitialRender,d=e.actionBarContainerRef,p=e.trafficSource,f=e.visualContentContainer,m=e.descriptionPaneWidth,y=e.metadataContainerRef,h=e.showLeadPinStdBeta,g={visualContentContainer:(0,I.jsx)(nU,{children:f}),isOverflowVisible:!0,showLeadPinStdBeta:h};return(0,I.jsx)(n0,nX({},nX({pin:t,data:!!n,goBack:r,isReactionsExpansionEnabled:i,onUpdate:l,viewParameter:s,onSaveButtonClick:u,showRepinOnInitialRender:c,actionBarContainerRef:d,trafficSource:p,onClickThrough:a,isStoryPin:o,descriptionPaneWidth:m,metadataContainerRef:y,visualContentContainer:f},g)))}var n2=n(71052),n8=n(112690),n3=n(121093);function n9(e){return(n9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n6(Object(n),!0).forEach(function(t){rn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n6(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function n7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rr(r.key),r)}}function n4(e,t){return(n4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function re(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rn(e,t,n){return(t=rr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rr(e){var t=function(e,t){if("object"!==n9(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==n9(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n9(t)?t:String(t)}var ri=function(e,t,n){var r=window.innerHeight,i=window.innerWidth-e.width-24-n.right,o=n.left-e.width-24;return!(n.top<8)&&!(r-n.bottom<8)&&!!t&&({right:i,left:o})[t]>0},ro=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n4(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=rt(o);if(t){var r=rt(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===n9(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return re(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return rn(re(e=i.call.apply(i,[this].concat(n))),"state",{flyoutType:""}),rn(re(e),"componentDidUpdate",function(){e.state.flyoutType&&e.setFlyoutStyle()}),rn(re(e),"logFeedback",function(t){var n,r,i,o,a=e.props,l=a.pin,s=a.logContextEvent,u={pin_is_shop_the_look:null!==(n=l.aggregatedPinData)&&void 0!==n&&n.isShopTheLook?"1":"0",board_owner_id:null!==(r=l.board)&&void 0!==r&&r.owner?l.board.owner.entityId:"",pin_recommendation_reason:l.recommendationReason&&{reason:l.recommendationReason.reason},pin_is_promoted:l.isPromoted?"1":"0"};s({view_type:11,view_parameter:195,component:13186,event_type:102,element:t?10615:10616,aux_data:{board_id:null!==(i=null===(o=l.board)||void 0===o?void 0:o.entityId)&&void 0!==i?i:"",is_downstream_promoted_pin:l.isDownstreamPromotion?"1":"0",url:l.link||"",pin_id:l.entityId,image_signature:l.imageSignature,is_promoted_pin:l.isPromoted?"1":"0",commerce_data:JSON.stringify(u)},object_id_str:l.entityId})}),rn(re(e),"flyoutParentRef",(0,g.createRef)()),rn(re(e),"handleEgSurveyDismiss",function(t,n){e.setState({flyoutType:""}),e.logFeedback(t),n()}),rn(re(e),"handleEgSurveyClick",function(t){e.setState({flyoutType:t})}),rn(re(e),"setFlyoutStyle",function(){var t=e.flyoutParentRef&&e.flyoutParentRef.current&&e.flyoutParentRef.current.children[0];if(t){t.style.zIndex="".concat(nZ.fS);var n=t.children[0];n&&(n.style.border="transparent")}}),e}return n=[{key:"render",value:function(){var e,t=this,n=this.props,r=n.imageContainerRef,i=n.maybeLinkRef,o=n.legoLinkClickthroughAnchorRef,a=this.state.flyoutType;"maybeLink"===a?e=i:"legoMaybeLink"===a?e=o:"imageContainer"===a&&(e=r);var l={height:this.flyoutParentRef&&this.flyoutParentRef.current&&this.flyoutParentRef.current.children[0]?this.flyoutParentRef.current.children[0].clientHeight:0,width:230},s=e&&e.current?e.current.getBoundingClientRect():null,u=!!s&&ri(l,"imageContainer"===a?"left":"right",s);return a&&u?(0,I.jsx)(n3.Z,{eligibleIds:[501145],placementId:12,children:function(n){var r=n.complete;return(0,I.jsx)(_.xu,{ref:t.flyoutParentRef,position:"absolute",children:(0,I.jsx)(_.J2,{anchor:e?e.current:null,idealDirection:"imageContainer"===a?"left":"right",onDismiss:function(){},size:"sm",children:(0,I.jsxs)(_.xu,{padding:4,children:[(0,I.jsx)(_.xv,{weight:"bold",children:t.props.i18n._('Is this site useful?', 'Ask user about click through link usefulness on a Small Flyout on closeup', 'Ask user about click through link usefulness on a Small Flyout on closeup')}),(0,I.jsx)(_.xv,{children:t.props.i18n._('Your feedback helps make Pinterest better.', 'Ask user about usefulness to improve click through links quality', 'Ask user about usefulness to improve click through links quality')}),(0,I.jsxs)(_.xu,{display:"flex",direction:"row",marginTop:4,width:"198px",children:[(0,I.jsx)(_.xu,{column:6,marginEnd:1,children:(0,I.jsx)(_.zx,{fullWidth:!0,size:"sm",color:"gray",text:t.props.i18n._('No', 'Keep it short, shown on a button to indicate whether its helpful or not', 'Keep it short, shown on a button to indicate whether its helpful or not'),onClick:function(){return t.handleEgSurveyDismiss(!1,r)}})}),(0,I.jsx)(_.xu,{column:6,marginStart:1,children:(0,I.jsx)(_.zx,{fullWidth:!0,size:"sm",color:"gray",text:t.props.i18n._('Yes', 'Keep it short, shown on a button to indicate whether its helpful or not', 'Keep it short, shown on a button to indicate whether its helpful or not'),onClick:function(){return t.handleEgSurveyDismiss(!0,r)}})})]})]})})})}}):""}}],n7(o.prototype,n),r&&n7(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(g.Component),ra=(0,g.forwardRef)(function(e,t){var n=(0,O.ZP)(),r=(0,n8.Z)();return(0,I.jsx)(ro,n5(n5({},e),{},{ref:t,i18n:n,logContextEvent:r}))}),rl=n(139134),rs=n(681227),ru=n(717615),rc=n(966676),rd={__style:{marginBottom:"0",marginTop:"0",maxWidth:G.KP,minWidth:G.Gg}};function rp(e){var t=e.children,n=e.isWideVideo,r=(0,rc.x4)(),i=r.showCloseupContentRight,o=r.maxWidth,a=r.paneWidth;return(0,I.jsx)(_.xu,{display:"flex",rounding:8,width:"100%",height:"100%",maxWidth:i||n?o:a,position:"relative","data-test-id":"closeup-lego-container",children:(0,I.jsx)("div",{onClick:function(e){e.stopPropagation()},style:{display:"flex"},children:(0,I.jsx)(_.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto",paddingTop:10}},display:"flex",children:(0,I.jsx)(_.xu,{dangerouslySetInlineStyle:n?rd:{},display:"flex",children:t})})})})}var rf=n(273690),rm=n(827834);function ry(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rh=(0,g.lazy)(function(){return Promise.all([n.e(97270),n.e(46760),n.e(92982)]).then(n.bind(n,576070))}),rg=(0,g.lazy)(function(){return Promise.all([n.e(50564),n.e(11177),n.e(21177)]).then(n.bind(n,707047))});function rv(e){var t,n,r,i,o,a,l,s,u,c,d,p,f,m=e.commentCountInUSM,y=e.isWideVideo,h=e.didShortClickThrough,x=e.webLinkSurveyState,P=x.webLinkSurveyRef,S=x.imageContainerRef,j=x.legoLinkClickthroughAnchorRef,w=x.maybeLinkRef,A=e.pin,k=e.outerBodyStyle,C=e.isEligibleForPinReactions,D=e.isStoryPin,E=e.trafficSource,T=e.visualContentContainer,R=e.isCloseupMaximized,F=e.data,L=e.outerPaddingSize,z=e.isInStream,B=e.isReactionsExpansionEnabled,N=e.metadataContainerRef,Z=e.onClickThrough,U=e.viewParameter,K=e.metadata,H=e.viewer,q=e.orbacSubjectId,Y=e.setIsLoadingNewlyCreatedComment,X=e.relatedModulesResource,$=e.descriptionContentMaxHeight,Q=e.marginBottom,J=e.isDeletedStoryPin,ee=e.onSaveButtonClick,et=e.showRepinOnInitialRender,en=e.goBack,er=e.onUpdate,ei=e.routePush,eo=e.closeupActionBarMaxWidth,ea=e.visualContentContainerRef,el=e.showPDPComments,es=(0,eK.F)().checkExperiment,eu=(0,g.useRef)(null),ec=(0,rc.x4)().descriptionPaneWidth,ed=(0,v.useSelector)(function(e){return e.changeBoardFromToast})||{},ep=(0,O.ZP)(),ef=(0,b.useHistory)(),em=(0,ru.Z)(),ey=A.pinner,eh=(0,t0.q6)(H,null==ey?void 0:ey.id,em),eg=(0,(0,tA.ZP)({pin:A}).getShowClickthroughLink)(D),ev=!(eh&&!q)&&(!A.is_eligible_for_pdp||!!el)&&!A.comments_disabled&&!!A.is_eligible_for_aggregated_comments,eb=!!A.promoted_is_lead_ad&&es("web_lead_ads_std_beta").anyEnabled,e_=0!==Object.keys(A).length,ex=!!A.story_pin_data_id&&!1===A.should_open_in_stream,eP=(0,rs.J6)({board:A.board&&{isCollaborative:A.board.is_collaborative,collaboratedByMe:A.board.collaborated_by_me},videos:A.videos&&A.videos.id?{entityId:A.videos.id}:null,isDownstreamPromotion:A.is_downstream_promotion,isPromoted:A.is_promoted,storyPinDataId:A.story_pin_data_id},!!J,ex),eS=(null==ea?void 0:null===(t=ea.current)||void 0===t?void 0:t.clientHeight)||0;return(0,I.jsxs)(_.xu,{height:"100%",marginBottom:void 0===Q?0:Q,children:[(0,I.jsx)(rp,{isWideVideo:y,children:(0,I.jsxs)(_.xu,{display:"flex",position:"relative",children:[!h&&(0,I.jsx)(ra,{ref:P,imageContainerRef:S,legoLinkClickthroughAnchorRef:j,maybeLinkRef:w,pin:{aggregatedPinData:A.aggregated_pin_data&&{isShopTheLook:A.aggregated_pin_data.is_shop_the_look},board:A.board&&{entityId:A.board.id,owner:A.board.owner&&{entityId:null!==(n=A.board.owner.id)&&void 0!==n?n:""}},entityId:A.id,imageSignature:A.image_signature,isDownstreamPromotion:A.is_downstream_promotion,isPromoted:A.is_promoted,link:A.link,recommendationReason:A.recommendation_reason&&{reason:A.recommendation_reason.reason}}}),(0,I.jsx)(_.xu,{color:e_?"default":"transparent",dangerouslySetInlineStyle:{__style:null!=k?k:{}},display:"flex",position:"relative",rounding:2,children:(0,I.jsxs)(_.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,I.jsx)(rf.Z,{isStoryPin:D,isWideVideo:y,children:e_?(0,I.jsx)(V,{pinKey:{type:"deprecated",data:A},pinImageUrl:null!==(r=A.images&&(null===(i=A.images["236x"])||void 0===i?void 0:i.url))&&void 0!==r?r:"",closeupNavigationType:(0,rm.Z)(ef,E),children:A.promoted_is_lead_ad?(0,I.jsx)(n1,{pin:A,data:!!F,goBack:en,onUpdate:er,viewParameter:U,onSaveButtonClick:ee,showRepinOnInitialRender:et,actionBarContainerRef:eu,trafficSource:E,onClickThrough:Z,isStoryPin:D,descriptionPaneWidth:ec,metadataContainerRef:N,visualContentContainer:T,visualContentContainerHeight:eS,showLeadPinStdBeta:eb,isReactionsExpansionEnabled:B}):(0,I.jsxs)(g.Fragment,{children:[T,(0,I.jsx)(_.xu,{"data-test-id":"description-content-container",display:"flex",direction:"column",height:R?0:"100%",maxHeight:D?void 0:$,maxWidth:y?G.KP:void 0,width:y?void 0:ec,children:F?(0,I.jsxs)(g.Fragment,{children:[(0,I.jsxs)(_.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:G.g9}},direction:"column",display:"flex",flex:"grow",children:[!z&&(0,I.jsx)(eU.Z,{name:"SafeSuspense_CloseupBody_CloseupActionBar",children:(0,I.jsx)(eH.Z,{children:(0,I.jsx)(rg,{goBack:en,gridDescription:null!==(o=A.description)&&void 0!==o?o:"",isDeletedStoryPin:!!J,isReactionsExpansionEnabled:B,isOnSecretBoard:!1,onEditSubmit:er,pin:A,routePush:ei,viewParameter:U,isORBACProfileManager:eh,onSaveButtonClick:ee,showRepinOnInitialRender:et,isStoryPin:D,actionBarContainerRef:eu,outerPaddingSize:L,maxWidth:eo})})}),(0,I.jsx)(_.xu,{alignItems:"stretch",display:"flex",flex:"grow",justifyContent:"start",direction:"column",overflow:"auto",ref:N,children:(0,I.jsxs)(_.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,I.jsxs)(W,{outerPaddingSize:L,children:[eP&&!!A.reaction_counts&&!B&&(0,I.jsx)(_.xu,{"data-test-id":"reactions",children:(0,I.jsx)(rl.Z,{pinId:A.id,reactionCounts:A.reaction_counts})}),eg&&(0,I.jsxs)(_.xu,{direction:"row",display:"flex","data-test-id":"maybe-clickthrough-link",children:[(0,I.jsx)(eV.q,{children:function(e){var t,n=e.hovered,r=e.onMouseEnter,i=e.onMouseLeave;return(0,I.jsx)(eZ.Z,{hovered:n,pinKey:{type:"deprecated",data:A},trafficSource:E,trackingParamsMap:A.tracking_params_map,viewType:3,children:(0,I.jsx)(_.xu,{onMouseEnter:r,onMouseLeave:i,children:(0,I.jsx)(nW,{actionBarHeight:(null===(t=eu.current)||void 0===t?void 0:t.offsetHeight)||G.Ie,onClickThrough:Z,pinKey:{type:"deprecated",data:A},trackingParamsMap:A.tracking_params_map,isStoryPin:D})})})}}),(0,I.jsx)(_.xu,{ref:j,marginEnd:-7,marginStart:6,width:4})]})]}),K]})})]}),(ev||B)&&(0,I.jsx)(_.Le,{bottom:0,children:(0,I.jsx)(M,{aggregatedPinDataId:null===(a=A.aggregated_pin_data)||void 0===a?void 0:a.id,closeupAttributionId:null===(l=A.closeup_attribution)||void 0===l?void 0:l.id,commentCount:A.comments_disabled?0:(null!==(s=null===(u=A.aggregated_pin_data)||void 0===u?void 0:u.comment_count)&&void 0!==s?s:0)+(null!==(c=null===(d=A.aggregated_pin_data)||void 0===d?void 0:null===(p=d.did_it_data)||void 0===p?void 0:p.images_count)&&void 0!==c?c:0),commentCountInUSM:m,disablePhotoCommentSelection:!!A.done_by_me,isEligibleForPinReactions:C,isPDP:A.is_eligible_for_pdp,isReactionsExpansionEnabled:B,orbacSubjectId:q,pinId:A.id,privatePin:"secret"===A.privacy,reactionByMe:A.reaction_by_me||0,reactionCounts:A.reaction_counts,setIsLoadingNewlyCreatedComment:void 0===Y?function(){}:Y,showCommentComposer:ev,storyPinDataId:A.story_pin_data_id,viewParameter:U})})]}):(0,I.jsx)(_.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingY:4,children:(0,I.jsx)(_.$j,{accessibilityLabel:ep._('Pin details loading', ' - ', ' -- '),show:!0})})})]})}):(0,I.jsx)(_.kC,{alignItems:"center",height:300,justifyContent:"center",width:"100%",children:(0,I.jsx)(_.$j,{accessibilityLabel:ep._('Pin loading', ' - ', ' -- '),show:!0})})}),h&&!A.is_promoted&&X.data&&X.data.length>0&&(0,I.jsx)(n2.C,{})]})})]})}),ed.shouldOpenModal&&ed.newPin&&(null===(f=ed.originalPin)||void 0===f?void 0:f.id)===A.id&&(0,I.jsx)(eU.Z,{name:"SafeSuspense_CloseupBody_ChangeBoardModal",children:(0,I.jsx)(eH.Z,{children:(0,I.jsx)(rh,{experience:ed.experience,pinKey:{type:"deprecated",data:ed.newPin}})})})]})}function rb(e){var t,n=e.disableRelatedResource,r=e.relatedResourceOptions,i=e.hasXYcoordinates,o=e.isEligibleForStlFlyout,a=e.isStoryPin,l=e.isVideoPin,s=e.isWideVideo,u=e.pin,c=e.searchQuery,d=e.taggedProducts,p=e.trafficSource,f=e.viewParameterType,m=e.onClickThrough,y=e.data,h=e.didShortClickThrough,v=e.goBack,b=e.isCloseupMaximized,_=e.isInStream,x=void 0!==_&&_,P=e.isDeletedStoryPin,S=e.onSaveButtonClick,j=e.onUpdate,w=e.outerBodyStyle,O=e.outerPaddingSize,A=e.routePush,k=e.showRepinOnInitialRender,D=e.viewType,E=e.ideaPinStelaCategories,T=e.currentIdeaPinId,R=e.isCommentSectionOpen,F=e.onCommentSectionClick,L=e.onCloseupBodyUpdate,z=e.shouldShowStlCarouselForOwnPin,M=e.storyPinTaggedProducts,B=e.clientTrackingParams,N=e.viewportSize,Z=e.shouldShowPartnerModule,U=e.trendsData,K=e.showTrendsOnPinCloseup,H=e.showPinStats,V=function(e){if(Array.isArray(e))return e}(t=(0,g.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ry(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ry(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),G=V[0],W=V[1],q=(0,eh.Z)(void 0!==n&&n?null:{name:r.name,options:r.options}),Y=(0,g.useRef)(null),X=(0,rc.x4)(),$=(0,C.Z)(),Q=(0,eK.F)().checkExperiment,J=!u.is_promoted&&!u.is_downstream_promotion&&!P,ee=Q(u.videos&&u.videos.id||u.story_pin_data_id?"dweb_reactions_expansion_mvp_idea_video_pin":"dweb_reactions_expansion_mvp_web_pin"),et=ee.anyEnabled,en="enabled_count_in_usm"===ee.group,er=Q("web_m10n_business_access_orbac_ga").anyEnabled,ei=(0,ru.Z)(),eo=er?(0,t0.lJ)($,ei):"",ea=(0,t5.Z)(),el=(0,t6.Z)({metadataContainerRef:Y}),es=(0,t9.Z)(),eu=(0,(0,tA.ZP)({pin:u}).getViewParameter)(f),ec=ea.setClickthroughComponentForSurvey,ed=ea.imageContainerRef,ep=(0,I.jsx)(t7.Z,{hasXYcoordinates:i,isEligibleForStlFlyout:o,isStoryPin:a,isWideVideo:s,pin:u,searchQuery:c,taggedProducts:d,trafficSource:p,viewParameterType:f,visualContentContainerRef:es.visualContentContainerRef,imageContainerRef:ed,handleImageClickThrough:function(){return m({wasImageClicked:!0})},setClickthroughComponentForSurvey:ec,isShortImage:el}),ef=(0,I.jsx)(t3,{commentCountInUSM:en,currentIdeaPinId:T,hasXYcoordinates:i,ideaPinStelaCategories:E,isCommentSectionOpen:R,isInStream:x,isStoryPin:a,isVideoPin:l,isDeletedStoryPin:P,orbacActingAs:ei,orbacSubjectId:eo,onCommentSectionClick:F,onCloseupBodyUpdate:L,outerPaddingSize:O,pin:u,viewer:$,shouldShowStlCarouselForOwnPin:z,storyPinTaggedProducts:M,taggedProducts:d,trafficSource:p,viewParameterType:f,viewType:D,closeupContext:X,isLoadingNewlyCreatedComment:G,viewParameter:eu,detailsScrollContainerRef:Y.current,clientTrackingParams:B}),em=(0,I.jsx)(e$,{pinKey:{type:"deprecated",data:u},trackingParamsMap:u.tracking_params_map,isStoryPin:a,isDeletedStoryPin:P,trafficSource:p,details:ef,outerPaddingSize:O,orbacActingAs:ei,viewer:$,viewParameter:eu,viewportSize:N,shouldShowPartnerModule:Z,trendsData:U,showTrendsOnPinCloseup:K,showPinStats:H});return(0,I.jsx)(rv,{commentCountInUSM:en,isWideVideo:s,didShortClickThrough:h,webLinkSurveyState:ea,pin:u,outerBodyStyle:w,isEligibleForPinReactions:J,isReactionsExpansionEnabled:et,isStoryPin:a,trafficSource:p,visualContentContainer:ep,isCloseupMaximized:void 0!==b&&b,data:y,isInStream:x,metadataContainerRef:Y,onClickThrough:function(){m&&m({componentType:129}),ea.setClickthroughComponentForSurvey("legoMaybeLink")},viewParameter:eu,viewType:D,viewer:$,orbacSubjectId:eo,setIsLoadingNewlyCreatedComment:W,relatedModulesResource:q,descriptionContentMaxHeight:es.descriptionContentMaxHeight,metadata:em,onSaveButtonClick:S,showRepinOnInitialRender:k,goBack:v,onUpdate:j,routePush:A,visualContentContainerRef:es.visualContentContainerRef})}},187638:function(e,t,n){"use strict";function r(e){switch(e){case"flashlight":return"flashlight";case"stela":return"stela";case"stl":return"stl";default:return null}}function i(e){var t=e.isShopTheLook,n=e.showFlashlightButton,r=e.showShopButton,i=e.showStelaDots;return n&&!i?"flashlight":r?t?"stl":"stela":null}n.d(t,{W:function(){return r},Z:function(){return i}})},431911:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(737022),i=n(92261);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e){var t=e.carouselData,n=e.mainImage,a=e.maxCloseupImageWidth,l=e.imageToDisplayWidthRatio,s=e.shouldPadImage,u=a-i.d2,c=void 0!==s&&s?u:a,d=Math.floor(c*(t?void 0===l?1:l:1)/function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=[t].concat(o((null==n?void 0:null===(e=n.carousel_slots)||void 0===e?void 0:e.map(function(e){var t,n,i,o,a,l;return(0,r.Z)(e.images)||((n=null===(t=e.videos)||void 0===t?void 0:t.video_list)?null!==(i=n.V_720P)&&void 0!==i&&i.url?n.V_720P:null!==(o=n.V_HLSV4)&&void 0!==o&&o.url?n.V_HLSV4:null!==(a=n.V_HLSV3_MOBILE)&&void 0!==a&&a.url?n.V_HLSV3_MOBILE:null!==(l=n.V_HLSV3_WEB)&&void 0!==l&&l.url?n.V_HLSV3_WEB:null:null)}).filter(function(e){return!!e}))||[])).map(function(e){var t=e.width,n=e.height;return(void 0===t?1:t)/(void 0===n?1:n)});return Math.min.apply(Math,o(i))}(n,t));return{width:c,height:d}}},498537:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var r=n(76911),i=n(387551),o=n(908390),a=n(898781),l=n(883561),s=n(515198);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t,n=e.pinNoteText,i=(0,a.ZP)(),c=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=c[0],p=c[1];return(0,s.jsx)(o.xu,{maxWidth:360,dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},"data-test-id":"closeup-pin-note-text",children:!d&&n.length>125?(0,s.jsxs)(o.xu,{children:[(0,s.jsx)(o.xv,{inline:!0,size:"200",children:(0,l.ZP)(n,125)}),(0,s.jsx)(o.xu,{display:"inlineBlock",marginStart:1,children:(0,s.jsx)(o.iP,{onTap:function(){p(!0)},children:(0,s.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:i._('More', 'closeup.closeupPinNoteText.moreText', 'Option to expand a Pin note preview and see entire description')})})})]}):(0,s.jsx)(o.xv,{size:"200",children:n})})}var d=n(506979),p=n(121151);function f(e){var t=e.onCancel,n=e.onDelete,r=e.onDismiss,i=(0,a.ZP)();return(0,s.jsx)(p.ZP,{heading:i._('Delete this note?', 'closeup.deleteNoteConfirmation.modalHeading', 'Confirm the user wants to delete the Pin note'),accessibilityModalLabel:i._('Delete this note?', 'closeup.deleteNoteConfirmation.modalAccessibilityLabel', 'Accessiblility label to confirm the user wants to delete the Pin note'),size:"sm",onDismiss:r,footer:(0,s.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,s.jsx)(o.xu,{paddingX:1,children:(0,s.jsx)(o.zx,{fullWidth:!0,onClick:t,text:i._('Cancel', 'closeup.deleteNoteConfirmation.cancelButton', 'Text on button used to cancel deletion of Pin note')})}),(0,s.jsx)(o.xu,{paddingX:1,children:(0,s.jsx)(o.zx,{fullWidth:!0,color:"red",onClick:n,text:i._('Delete', 'closeup.deleteNoteConfirmation.deleteButton', 'Text on button used to delete Pin note')})})]}),children:(0,s.jsx)(o.xu,{paddingX:12,children:(0,s.jsx)(o.xv,{align:"center",children:i._('The Pin will remain on your board, but the text in the note will be gone for good', 'closeup.deleteNoteConfirmation.bodyText', 'Description of what happens when user deletes a note on a Pin')})})})}function m(e){var t=e.onCancel,n=e.onDismiss,r=(0,a.ZP)();return(0,s.jsx)(p.ZP,{heading:r._('Discard your changes?', 'closeup.discardChangesConfirmation.modalHeading', 'Confirm the user wants to discard changes made to Pin note'),accessibilityModalLabel:r._('Discard your changes?', 'closeup.discardChangesConfirmation.modalAccessibilityLabel', 'Accessibility label to confirm the user wants to discard changes made to Pin'),size:"sm",onDismiss:n,footer:(0,s.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,s.jsx)(o.xu,{paddingX:1,children:(0,s.jsx)(o.zx,{fullWidth:!0,onClick:t,text:r._('Cancel', 'closeup.discardChangesConfirmation.cancelButton', 'Text on button used to cancel discarding changes to Pin note')})}),(0,s.jsx)(o.xu,{paddingX:1,children:(0,s.jsx)(o.zx,{fullWidth:!0,color:"red",onClick:n,text:r._('Discard', 'closeup.discardChangesConfirmation.discardButton', 'Text on button used to discard changes made to Pin note')})})]}),children:(0,s.jsx)(o.xu,{paddingX:12,children:(0,s.jsx)(o.xv,{align:"center",children:r._('The Pin will remain on your board, but the changes in this note won\u2019t be saved', 'closeup.discardChangesConfirmation.bodyText', 'Description of what happens when user discards changes made to note on a Pin')})})})}var y=n(780280);function h(e){var t=e.isGroupNote,n=e.onClickCancel,r=(0,a.ZP)(),i=(0,y.B)().isRTL;return(0,s.jsxs)(o.xu,{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",paddingY:6,paddingX:4,children:[(0,s.jsx)(o.xu,{maxWidth:400,children:(0,s.jsx)(o.X6,{align:"center",size:"500",children:t?r._('Add note to group', 'closeup.PinNoteEditModal.groupHeading', 'Heading for modal which allows user to add note to Pin on group board'):r._('Add note to self', 'closeup.PinNoteEditModal.heading', 'Heading for modal which allows user to add note to Pin')})}),(0,s.jsx)(o.xu,{position:"absolute",top:!0,left:i,right:!i,paddingY:6,paddingX:6,children:(0,s.jsx)(o.hU,{accessibilityLabel:r._('Cancel changes', 'closeup.PinNoteEditModal.cancelIconButton', 'Accessibility label for cancel changes button'),icon:"cancel",iconColor:"darkGray",onClick:n,size:"md"})})]})}var g=n(407043),v=n(414327),b=n(19121),_=n(717615),x=n(231947),P=n(482567),S=n(563996);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t=e.initialText,n=e.isGroupNote,i=e.onDismiss,l=e.pinId,u=(0,g.v)().logContextEvent,c=(0,a.ZP)(),y=(0,d.useDispatch)(),w=j((0,r.useState)(null!=t?t:""),2),O=w[0],A=w[1],k=j((0,r.useState)(!1),2),C=k[0],D=k[1],E=j((0,r.useState)(!1),2),I=E[0],T=E[1],R=(0,r.useRef)(null),F=(0,b.Z)(),L=(0,_.Z)(),z=(0,x.lJ)(F,L),M=n?c._('Add a private note for collaborators\u2014like \u201CShow Tony?\u201D or \u201CNeeds more salt\u201D\u2014to remember ideas about this Pin', 'closeup.PinNoteEditModal.groupPlaceholderText', 'Placeholder text on group Pin note'):c._('Add a private note\u2014like \u201CShow Tony?\u201D or \u201CNeeds more salt\u201D\u2014to remember your ideas about this Pin', 'closeup.PinNoteEditModal.placeholderText', 'Placeholder text on Pin note');(0,r.useEffect)(function(){u({event_type:13,object_id_str:l,view_type:478})},[]);var B=function(){u({event_type:101,element:O.length>0?12108:12106,object_id_str:l,view_type:478}),t&&y((0,P._)(l,t,null,z)),y((0,v.jB)("PinResource",(0,S.Tr)(l,!0,z))),i()};return((0,r.useEffect)(function(){R.current&&(R.current.style.height="auto",R.current.style.height=R.current.scrollHeight+"px")},[O,R.current,C,I]),I)?(0,s.jsx)(m,{onCancel:function(){T(!1)},onDismiss:function(){u({event_type:101,element:12109,object_id_str:l,view_type:478}),i()}}):C?(0,s.jsx)(f,{onCancel:function(){D(!1)},onDelete:B,onDismiss:i}):(0,s.jsx)(p.ZP,{accessibilityModalLabel:c._('Edit Pin note', 'closeup.PinNoteEditModal.modalAccessibilityLabel', 'Accessiblility label for modal used to edit Pin note'),heading:(0,s.jsx)(h,{isGroupNote:n,onClickCancel:function(){t&&O!==t?T(!0):i()}}),onDismiss:i,footer:(0,s.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"end",children:[""!==O&&(0,s.jsx)(o.xu,{flex:"grow",children:(0,s.jsx)(o.hU,{accessibilityLabel:c._('Delete note', 'closeup.PinNoteEditModal.trashcanIconButton', 'Accessibility label for delete note button'),iconColor:"darkGray",icon:"trash-can",onClick:function(){u({event_type:101,element:12105,object_id_str:l,view_type:478}),D(!0)},size:"md"})}),(0,s.jsx)(o.xu,{children:(0,s.jsx)(o.zx,{color:"red",text:c._('Done', 'closeup.PinNoteEditModal.doneButton', 'Done button for Pin note edit modal'),onClick:O.length>0?function(){u({event_type:101,element:12106,object_id_str:l,view_type:478}),(0,S.aU)(t,O)&&y((0,P._)(l,t,O,z)),y((0,v.jB)("PinResource",(0,S.Tr)(l,!0,z))),i()}:B})})]}),size:"sm",children:(0,s.jsxs)(o.xu,{paddingX:8,height:220,children:[(0,s.jsx)("textarea",{className:"PinNoteInput",id:"pinNoteText",maxLength:500,onChange:function(e){A(e.currentTarget.value)},placeholder:M,ref:R,value:O}),O.length>=500&&(0,s.jsx)(o.xu,{paddingY:1,children:(0,s.jsx)(o.xv,{color:"error",size:"200",weight:"bold",children:c._('Character limit reached', 'closeup.PinNoteEditModal.warningText', 'Text to inform user they have reached the length limit on Pin note')})})]})})}var A=n(333312),k=n(784590),C=n(304903),D=n(814197),E=n(758119);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function R(e){var t=e.boardId,n=e.isGroupNote,l=e.pinId,u=e.pinNoteText,d=(0,g.v)().logContextEvent,p=(0,a.ZP)(),f=(0,k.Z)({name:"BoardResource",options:{field_set_key:"pin_note",board_id:t}}).data,m=(0,r.useRef)(null),y=I((0,r.useState)(!1),2),h=y[0],v=y[1],b=I((0,r.useState)(0),2),_=b[0],x=b[1],P=function(){x((0,C.S$)())};(0,r.useEffect)(function(){return window.addEventListener("scroll",P),function(){window.removeEventListener("scroll",P)}});var S=n?p._('Notes added here will be private to people on this board', 'closeup.closeupPinNote.groupPlaceholderText', 'Placeholder text for private group note on Pin'):p._('What do you want to remember about this Pin?', 'closeup.closeupPinNote.placeholderText', 'Placeholder text for private note on Pin');return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(o.xu,{marginTop:5,marginBottom:5,children:(0,s.jsxs)(o.kC,{direction:"row",alignItems:"center",justifyContent:"between",children:[(0,s.jsxs)(o.xu,{children:[(0,s.jsxs)(o.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,s.jsx)(o.xu,{ref:m,marginEnd:4,children:(0,s.jsx)(o.xv,{weight:"bold",children:n?p._('Note to group', 'closeup.closeupPinNote.groupTitle', 'Title for private group note on Pin'):p._('Note to self', 'closeup.closeupPinNote.title', 'Title for private note on Pin')})}),n&&f&&(0,s.jsx)(o.xu,{marginStart:1,children:(0,s.jsx)(E.Z,{board:f,isCompact:!0})})]}),(0,s.jsx)(o.xu,{display:"flex",flex:"grow",marginEnd:4,children:(0,s.jsx)(o.xv,{size:"200",children:u?(0,s.jsx)(c,{pinNoteText:u}):S})})]}),(0,s.jsx)(o.zx,{size:"lg",text:u?p._('Edit', 'closeup.closeupPinNote.editButton', 'Text on button used to edit private note on Pin'):p._('Add note', 'closeup.closeupPinNote.addNoteButton', 'Text on button used to add private note on Pin'),onClick:function(){d({event_type:101,component:13769,element:u?12104:12103,object_id_str:l,view_type:3}),v(!0)}})]})}),h&&(0,s.jsx)(O,{initialText:u,isGroupNote:n,onDismiss:function(){v(!1)},pinId:l}),m&&(0,s.jsx)(i.Z,{in:0===_,timeout:300,classNames:"CloseupPinNoteTooltip",unmountOnExit:!0,children:(0,s.jsx)(o.xu,{zIndex:D.km,children:(0,s.jsx)(A.default,{anchor:m.current,experienceIds:[503219,502828],flyoutSize:312,idealDirection:"up",placementId:12,showCaret:!0,textAlign:"center",textWeight:"bold"})})})]})}},237693:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(76911),i=n(908390),o=n(898781),a=n(773285),l=n(780280),s=n(515198);function u(e){var t=e.collapsed,n=e.displayViewState,u=e.forceTappableHeader,c=e.headerPaddingRight,d=e.headerPreview,p=e.heading,f=e.onClick,m=e.showArrow,y=(0,o.ZP)(),h=(0,a.F)().checkExperiment,g=(0,l.B)().isAuthenticated?h("auth_closeup_redesign").anyEnabled:h("unauth_closeup_redesign").anyEnabled;return(0,s.jsx)(r.Fragment,{children:u||null!==n?(0,s.jsx)(i.iP,{onTap:f,children:(0,s.jsxs)(i.kC,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",justifyContent:"between",children:[(0,s.jsx)(i.X6,{align:"start",size:g?"300":"400",accessibilityLevel:2,id:"comments-heading",children:p}),(0,s.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingRight:c}},direction:"row",display:"flex",children:[t&&d,m&&(0,s.jsx)(i.xu,{"data-test-id":"collapse-button",display:"flex",marginStart:d?4:0,width:48,alignItems:"center",justifyContent:"center",children:(0,s.jsx)(i.JO,{accessibilityLabel:y._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),color:"default",icon:t?"arrow-down":"arrow-up"})})]})]})}):(0,s.jsx)(i.X6,{align:"start",size:"400",accessibilityLevel:2,id:"comments-heading",children:p})})}},945544:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(908390),i=n(509278),o=n(440455),a=n(773285),l=n(515198);function s(e){var t=e.description,n=e.userMentionTags,s=(0,(0,a.F)().checkExperiment)("web_hashtags_in_description_display").anyEnabled;return(t.split(/\n/)||[]).map(function(e,t){return 0===t&&null!=n&&n.length?(0,l.jsx)(o.Z,{description:e.replace(/\s+/g," "),userMentionTags:n}):(0,l.jsx)(r.xu,{children:(0,i.Z)({isHashtagInDescriptionDisplayEnabled:s,text:e})})})}},783810:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(784590);function i(e){var t=e.creatorId;return(0,e.children)((0,r.Z)({name:"UserResource",options:{field_set_key:"grid_item",user_id:t}}).data)}},459263:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(76911),i=n(908390),o=n(407043),a=n(121151),l=n(898781),s=n(391254),u=n(515198);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e){var t,n=e.handlePause,d=e.handlePlay,p=e.musicAttributions,f=e.shouldMute,m=e.showEndCard,y=(0,l.ZP)(),h=(0,o.v)().logContextEvent,g=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=g[0],b=g[1];if((0,r.useEffect)(function(){!m&&(null!=p&&p.length||f)&&h({event_type:f?14600:14601,view_type:3,view_parameter:140})},[h,p,f,m]),m||!(null!=p&&p.length)&&!f)return null;var _=function(){d&&d(),b(!1)},x="";if((null==p?void 0:p.length)===1){var P=p[0],S=P.artist,j=void 0===S?"":S,w=P.title,O=void 0===w?"":w;x=j&&O?"".concat(j," - ").concat(O):""}var A=((null==p?void 0:p.length)||0)>=2?(0,u.jsx)(i.xu,{children:(0,u.jsx)(i.iP,{fullHeight:!0,fullWidth:!0,onTap:function(){n&&n(),b(!0)},children:(0,u.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,u.jsx)(i.xu,{marginEnd:2,children:(0,u.jsx)(i.JO,{inline:!0,accessibilityLabel:y._('Music icon', 'web.closeup.musicicon', 'Artist and song title for Pin music attribution'),color:"inverse",icon:f?"music-off":"music-on",size:12})}),(0,u.jsx)(i.xv,{inline:!0,color:"inverse",overflow:"noWrap",size:"100",children:y._('View the playlist', 'web.closeup.musicAttibutionModal.entryPoint', 'Entry point for playlist modal')})]})})}):(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(i.JO,{inline:!0,accessibilityLabel:y._('Music icon', 'web.pin.closeup.musicicon', 'Music icon for Pin music attribution'),color:"inverse",icon:f?"music-off":"music-on",size:12}),(0,u.jsx)(i.xu,{marginStart:2,overflow:"hidden",children:(0,u.jsxs)("span",{className:x.length>=50?"marquee":void 0,style:{display:"inline-block",maxWidth:x.length>=50?"260px":void 0},children:[(0,u.jsx)(i.xv,{inline:!0,color:"inverse",overflow:"noWrap",size:"100",children:x}),(0,u.jsx)(s.Z,{unsafeCSS:"\n                  .marquee {\n                   animation: marquee ".concat("10s"," linear infinite;\n                   animation-delay: ").concat("2s",";\n                  }\n\n                  .marquee:hover {\n                      animation-play-state: paused;\n                  }\n\n\n                 @keyframes marquee {\n                   0% {\n                     transform: translateX(0%);\n                    }\n                  50% {\n                    transform: translateX(").concat("-100%",");\n                  }\n                  100% {\n                    transform: translateX(0%);\n                  }\n              }\n            ")})]})})]});return(0,u.jsxs)(r.Fragment,{children:[f?(0,u.jsx)(r.Fragment,{children:(0,u.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,u.jsx)(i.xu,{marginEnd:2,children:(0,u.jsx)(i.JO,{inline:!0,accessibilityLabel:y._('Music icon', 'web.closeup.musicMutedIcon', 'Music muted icon for Pin music attribution'),color:"inverse",icon:"music-off",size:12})}),(0,u.jsx)(i.xv,{inline:!0,color:"inverse",overflow:"noWrap",size:"100",children:y._('Audio not available in your location', 'web.closeup.musicAttribution', 'Informational message to tell user audio is not available in their location')})]})}):A,v&&(0,u.jsx)(a.ZP,{accessibilityModalLabel:y._('Artist and song title for this Pin', 'web.closeup.musicAttibutionModal', 'Artist and song title for Pin music attribution'),heading:(0,u.jsxs)(i.kC,{justifyContent:"between",children:[(0,u.jsx)(i.X6,{size:"500",children:y._('Playlist for this video', 'web.closeup.musicAttibutionModal.heading', 'Title for music attribution modal')}),(0,u.jsx)(i.hU,{accessibilityLabel:y._('Close modal button', 'web.closeup.musicAttibutionModal.closeButton', 'Close modal button for music attribution modal'),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:_,size:"sm"})]}),onDismiss:_,children:(0,u.jsx)(i.xu,{paddingX:5,marginBottom:5,paddingY:1,children:null==p?void 0:p.map(function(e,t){var n=e.isrc,r=e.thumbnail_image_url,o=e.title,a=e.artist;return(0,u.jsxs)(i.xu,{display:"flex",padding:1,children:[(0,u.jsx)(i.xu,{color:"darkWash",height:60,rounding:7,width:60,children:(0,u.jsx)(i.Ee,{alt:y._('Image of album art', 'web.closeup.musicAttibutionModal.albumArt', 'Alt text for image of album art for associated song'),color:"darkWash",naturalWidth:1,naturalHeight:1,src:r||""})}),(0,u.jsxs)(i.xu,{display:"flex",direction:"column",justifyContent:"center",paddingX:2,children:[(0,u.jsx)(i.xv,{weight:"bold",children:null!=o?o:""}),(0,u.jsx)(i.xv,{size:"100",children:null!=a?a:""})]})]},n||"".concat(t))})})})]})}},614514:function(e,t,n){"use strict";n.d(t,{Z:function(){return tc}});var r,i,o,a,l,s=n(908390),u=n(515198),c=function(e){var t=e.children;return(0,u.jsx)(s.xu,{display:"flex",justifyContent:"center",height:"100%",width:"100%",padding:5,children:t})},d=n(27255),p=n(898781),f=n(780280),m=n(240681),y=n(92261),h=n(966676);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var b=function(e){var t=e.embedUrl,n=e.isWideVideo,r=e.paddingBottom,i=void 0===r?"50%":r,o=e.shouldPadImage,a=(0,p.ZP)(),l=(0,f.B)(),b=n?y.KP:y.Gg,_=(0,u.jsx)(h.ZP.Consumer,{children:function(e){var r=e.showCloseupContentRight,c=e.viewportSize,p=(0,u.jsx)("div",{style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({height:0,overflow:"hidden",position:"relative",width:"100%",paddingBottom:i},(0,m.Z)({isSideBySide:!n,isPadded:o,isRTL:l.isRTL})),children:(0,u.jsx)("iframe",{allowFullScreen:!0,id:d.Z.VIDEO_IFRAME_ID,src:t.replace("http://","https://"),style:{border:0,height:"100%",left:0,position:"absolute",top:0,width:"100%"},title:a._('Embedded content', 'Accessible content for the embedded content iframe', 'Accessible content for the embedded content iframe')})});return r&&"lg"===c?(0,u.jsx)(s.xu,{marginBottom:6,marginEnd:n||o?0:6,width:b,children:p}):p}});return o?(0,u.jsx)(c,{children:_}):_},_=n(111891),x=n(76911);n(704217);var P=n(238464),S=n(112690),j=function(e){var t=e.contextLogData,n=e.height,r=e.isFocused,i=e.videoList,o=e.onFocus,a=e.onUnfocus,l=e.pinId,c=e.width,d=(0,S.Z)(),p=i.V_720P,f=i.V_HLSV4,m=i.V_HLSV3_MOBILE,y=p||f||m||{},h=y.height,g=y.width,v=y.thumbnail;(0,x.useEffect)(function(){r?o&&o():a&&a()},[r,o,a]),(0,x.useEffect)(function(){r&&d({component:t.component,event_type:13,object_id_str:t.objectId,view_parameter:t.viewParameter,view_type:t.view})},[r,t,d]);var b=(0,x.useCallback)(function(){d({component:t.component,event_type:3621,object_id_str:t.objectId,view_parameter:t.viewParameter,view_type:t.view})},[t,d]);return(0,u.jsx)(s.kC,{alignItems:"center",justifyContent:"center",height:"100%",width:"100%",children:(0,u.jsx)(s.xu,{width:"".concat(100*Math.min(n/c/((void 0===h?1:h)/(void 0===g?1:g)),1),"%"),children:(0,u.jsx)(P.Z,{loop:!0,muted:!1,pinId:l,variant:"default",video:{mp4:p,hls:f,hlsv3:m},customThumbnail:v,preferMp4:!0,showControls:"hover",contextLogData:t,disabled:!r,onPlay:b})})})},w=n(407043),O=n(357998),A=n(276602),k=n(999018),C=n(965900),D=n(435497),E=n(737022),I=n(455024),T=function(e){var t=e.fit,n=e.highResOnly,r=e.lowResOnly,i=e.onError,o=e.onLoad,a=e.slot,l=e.slotIndex,c=(0,p.ZP)(),d=a.details,f=void 0===d?"":d,m=(0,E.Z)(a.images)||{},y=m.url,h=void 0===y?"":y,g=m.width,v=void 0===g?1:g,b=m.height,_=void 0===b?1:b;return(0,u.jsx)(s.Ee,{alt:(0,I.GH)(f,c,l),fit:t,naturalHeight:null!=_?_:1,naturalWidth:null!=v?v:1,onError:i,onLoad:o,src:null!=h?h:"",srcSet:(0,I.gA)({slot:a,lowResOnly:r,highResOnly:n})})},R=void 0!==r?r:r=n(655519),F=function(e){return{entityId:e.id,isEligibleForPdp:e.is_eligible_for_pdp}};function L(e){var t,n=e.carouselData,r=e.displayHeight,i=e.displayWidth,o=e.pinKey,a=(0,w.v)().logContextEvent,l=(0,h.x4)(),c=l.pdpCarouselSlotToPaneRatio,d=l.showProductDetailPage,p=n.index,f=void 0===p?0:p,m=(0,C.I)(),y=m.pauseAutoplay,g=m.setCurrentVideo,v=(0,O.Q)(R,o,{useLegacyAdapter:F}),b=v.data,_=v.childDataKey__DEPRECATED,P=b.entityId,S=(0,x.useRef)(null),E=(0,k.Z)(_),I=b.isEligibleForPdp?E({isPdpPlus:!0}):void 0,L=b.isEligibleForPdp?144:void 0,z=b.isEligibleForPdp?3:void 0,M=(0,A.E)(),B=(0,x.useCallback)(function(e){M&&e>=1&&M.markConstraintComplete("image")},[M]),N=(0,x.useMemo)(function(){return{viewParameter:d?144:156,view:3,component:d?14012:179,objectId:P}},[P,d]),Z=(0,x.useCallback)(function(){g({pinId:P,isPromoted:!1})},[g,P]),U=(0,x.useCallback)(function(){y({pinId:P,isPromoted:!1})},[y,P]);return(0,x.useEffect)(function(){var e;(null===(e=n.carousel_slots)||void 0===e?void 0:e.find(function(e){var t;return null===(t=e.videos)||void 0===t?void 0:t.video_list}))&&a({event_type:120,view_type:N.view,view_parameter:N.viewParameter,component:N.component,object_id_str:N.objectId})},[a,n.carousel_slots,N]),(0,u.jsx)(s.xu,{ref:S,children:(0,u.jsx)(D.Z,{contextLogData:I,height:r,id:P,index:f,slideWidth:i,widthRatio:c,gap:1===c?0:4,containerRef:S,view:z,viewParameter:L,children:(null===(t=n.carousel_slots)||void 0===t?void 0:t.map(function(e,t){var n,o,a;return null!==(n=e.videos)&&void 0!==n&&n.video_list?(o=(0,u.jsx)(j,{contextLogData:N,height:r,isFocused:f===t,onFocus:Z,onUnfocus:U,pinId:P,videoList:e.videos.video_list,width:i*c}),a=e.videos.id):(o=(0,u.jsx)(T,{fit:"contain",onLoad:function(){return B(t)},slot:e,slotIndex:t}),a=e.image_signature),(0,u.jsx)(s.zd,{height:"100%",wash:1!==c,children:o},"".concat(P,"-").concat(a||t))}))||[]})})}var z=n(431911),M=n(523657);function B(e){var t=e.dominantColor,n=e.imageProps,r=e.imgSrc,i=e.isPreviewImage,o=e.previewImageFit,a=(0,A.E)(),l=(0,x.useCallback)(function(){a&&a.markConstraintComplete("image")},[a]);return(0,u.jsx)(s.zd,{wash:!0,children:(0,u.jsx)(M.Z,{alt:n.alt,color:t,naturalHeight:n.naturalHeight,naturalWidth:n.naturalWidth,src:n.src,onLoad:l,children:i&&r&&(0,u.jsx)(s.Ee,{alt:"",fit:o,naturalHeight:n.naturalHeight,naturalWidth:n.naturalWidth,src:r})})})}var N=n(413614),Z=n(916117);function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var K=void 0!==i?i:i=n(499410);function H(e){var t,n,r=e.domain,i=e.link,o=e.pinKey,a=e.trafficSource,l=e.trackingParamsMap,c=(0,p.ZP)(),d=function(e){if(Array.isArray(e))return e}(t=(0,x.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=d[0],m=d[1],y=(0,Z.u)(K,o).data;return n=i.startsWith("https://i.pinimg.com")?c._('View image', 'closeup.image.domainLinkButton', 'Text indicating where clickthrough will navigate to'):r||c._('Learn more', 'closeup.image.domainLinkButton', 'Text indicating where clickthrough will navigate to'),(0,u.jsx)(s.iP,{onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},onTap:function(){},children:(0,u.jsx)(N.Z,{hovered:f,pinKey:y,trafficSource:a,trackingParamsMap:l,viewType:3,children:(0,u.jsxs)(s.xu,{alignItems:"center",color:f?"lightWash":"default","data-test-id":"visit-button",display:"flex",height:44,justifyContent:"center",opacity:.9,paddingX:4,rounding:"pill",children:[(0,u.jsx)(s.JO,{accessibilityLabel:c._('Open link icon', 'closeup.image.domainLinkButtonIcon', 'Icon on domain link button'),color:"default",icon:"arrow-up-right"}),(0,u.jsx)(s.xu,{paddingX:1}),(0,u.jsx)(s.xv,{size:"300",weight:"bold",children:n})]})})})}var V=n(319915),G=n(241244),W=n(947599),q=void 0!==o?o:o=n(369092);function Y(e){var t=e.domain,n=e.link,r=e.navigationWrapper,i=e.pinKey,o=e.trafficSource,a=e.trackingParamsMap,l=(0,Z.u)(q,i).data;return(0,u.jsxs)(x.Fragment,{children:[(0,u.jsx)(s.xu,{height:"calc(100% - 60px)"}),(0,u.jsx)(s.Le,{bottom:12,children:(0,u.jsx)(s.xu,{display:"flex",justifyContent:"start",maxWidth:"calc(100% - 88px)",paddingX:5,children:(0,u.jsx)(V.Z,{name:"SafeSuspense_DomainLinkButtonWrapper_DomainLinkButton",children:(0,u.jsx)(W.Z,{children:(0,u.jsx)(G.Z,{children:r((0,u.jsx)(H,{domain:t,link:n,pinKey:l,trafficSource:o,trackingParamsMap:a}))})})})})})]})}var X=n(765050),$=n(773285),Q=n(674462);function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var et=function(e){var t=e.carouselData,n=e.containerWidth,r=e.slotWidth,i=t||{},o=i.index,a=i.carousel_slots,l=Math.floor(r);return void 0===o||!a||o>=a.length-1?0:n-l};function en(e){var t=e.carouselData,n=e.carouselSlotToPaneRatio,r=e.children,i=e.displayWidth,o=e.hide,a=(0,x.useCallback)(function(){return et({carouselData:t,containerWidth:i,slotWidth:i*n})},[t,i,n]),l=J((0,x.useState)(a()),2),c=l[0],d=l[1],p=J((0,x.useState)(!1),2),f=p[0],m=p[1],y=J((0,x.useState)(),2),h=y[0],g=y[1],v=(0,x.useCallback)(function(){d(a())},[a]),b=function(){m(!0)},_=function(){m(!1)};return(0,x.useEffect)(function(){var e=!0;return _(),g(function(t){return clearTimeout(t),setTimeout(function(){e&&(v(),o||b())},500)}),function(){e=!1}},[null==t?void 0:t.index,v,o]),(0,x.useEffect)(function(){return function(){return clearTimeout(h)}},[h]),(0,u.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginRight:c,transition:"opacity ".concat(500,"ms, visibility ").concat(500,"ms ease-in-out"),visibility:f?"visible":"hidden"}},opacity:f?1:0,children:r})}var er=n(751191),ei=(0,x.lazy)(function(){return n.e(90907).then(n.bind(n,356725))}),eo=(0,x.lazy)(function(){return n.e(90907).then(n.bind(n,239062))}),ea=(0,x.lazy)(function(){return n.e(47319).then(n.bind(n,331823))}),el=(0,x.lazy)(function(){return n.e(87122).then(n.bind(n,647303))}),es=(0,x.lazy)(function(){return n.e(97372).then(n.bind(n,67567))}),eu=(0,x.lazy)(function(){return n.e(91449).then(n.bind(n,930912))}),ec=(0,x.lazy)(function(){return n.e(79156).then(n.bind(n,615711))}),ed=function(e){var t=e.children,n=e.name;return(0,u.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"experimental-closeup-image-overlay-layer-".concat(n),left:!0,position:"absolute",right:!0,top:!0,children:t})},ep=function(e){var t,n,r,i,o=e.animateShopButton,a=e.carouselInfo,l=e.displayHeight,c=e.displayWidth,d=e.domain,p=e.hasStelaResults,f=e.imageSignature,m=e.isHovered,y=e.justifyShopButton,g=e.link,v=e.navigationWrapper,b=e.onShopButtonAnimationComplete,_=e.onStelaDotAnimationComplete,P=e.onStlFlyoutHover,S=e.pin,j=e.searchQuery,w=e.showCarouselControls,O=e.showCarouselEllipsis,A=e.showCloseupShopDomainLinkButton,k=e.showDebugSignalsFeedbackButton,C=e.showDomainLink,D=e.showDomainLinkButton,E=e.showFlashlightButton,I=e.showProductDetailPage,T=e.showPinTagButton,R=e.showShopButton,F=e.showStelaDots,L=e.showStlFlyout,z=e.stelaDotAnimationType,M=e.surfaceType,B=e.taggedProducts,N=e.trafficSource,Z=(0,h.x4)().pdpCarouselSlotToPaneRatio,U=(0,$.F)().checkExperiment,K=S.is_eligible_for_pdp,H=!!S.story_pin_data_id&&!1===S.should_open_in_stream,q=!K&&!H&&E,J=q&&(U("web_flashlight_cta").anyEnabled||U("web_flashlight_cta_expansion").anyEnabled),ee=q&&!!p&&U("web_stela_dots_on_flashlight").anyEnabled,et=A||ee&&m,ep=(0,X.Z)({pinKey:{type:"deprecated",data:S},surfaceType:"stl"===M?"stela":M,topLevelTrafficSource:N});return(0,u.jsxs)(x.Fragment,{children:[C&&(0,u.jsx)(ed,{name:"domain-link",children:(0,u.jsxs)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:[(0,u.jsx)(s.xu,{paddingX:1,children:(0,u.jsx)(s.JO,{accessibilityLabel:"",color:"inverse",icon:"arrow-up-right",size:16})}),(0,u.jsx)(s.xu,{paddingX:1,children:(0,u.jsx)(s.xv,{color:"inverse",weight:"bold",children:d})})]})}),w&&a&&(0,u.jsxs)(ed,{name:"carousel-controls",children:[(0,u.jsx)(V.Z,{name:"SafeSuspense_CloseupImageOverlay_CarouselSliders",children:(0,u.jsx)(W.Z,{children:(0,u.jsx)(eo,{carouselIndex:a.carouselData&&a.carouselData.index,carouselData:{carouselSlots:null===(t=a.carouselData.carousel_slots)||void 0===t?void 0:t.map(function(e){return{id:e.id,title:e.title}}),entityId:null!==(n=a.carouselData.id)&&void 0!==n?n:"",index:a.carouselData.index},componentType:a.componentType,handleCarouselSwipe:a.handleCarouselSwipe,pinKey:{type:"deprecated",data:S.id},viewParameter:a.viewParameter,viewType:a.viewType,forwardNode:I?(0,u.jsx)(er.Z,{iconType:"forward",showFab:m,backgroundColor:"default",hoverColor:"secondary",iconColor:"default"}):void 0,backNode:I?(0,u.jsx)(er.Z,{iconType:"back",showFab:m,backgroundColor:"default",hoverColor:"secondary",iconColor:"default"}):void 0})})}),(0,u.jsx)(s.xu,{alignItems:"end",bottom:!0,display:"flex",height:405,justifyContent:"center",left:!0,position:"absolute",right:!0,padding:5,children:!D&&O&&(0,u.jsx)(V.Z,{name:"SafeSuspense_CloseupImageOverlay_CarouselEllipsis",children:(0,u.jsx)(W.Z,{children:(0,u.jsx)(G.Z,{children:(0,u.jsx)(ei,{carouselIndex:a.carouselData&&a.carouselData.index,carouselData:{carouselSlots:null===(r=a.carouselData.carousel_slots)||void 0===r?void 0:r.map(function(e){return{id:e.id,title:e.title}}),entityId:null!==(i=a.carouselData.id)&&void 0!==i?i:"",index:a.carouselData.index},componentType:a.componentType,handleCarouselSwipe:a.handleCarouselSwipe,isCloseup:!0,pinKey:{type:"deprecated",data:S.id},variant:"default",viewParameter:a.viewParameter,viewType:a.viewType})})})})})]}),(F||ee)&&(0,u.jsx)(ed,{name:"stela-container",children:(0,u.jsx)(V.Z,{name:"SafeSuspense_CloseupImageOverlay_StelaContainerWrapper",children:(0,u.jsx)(W.Z,{children:(0,u.jsx)(es,{alwaysShow:et,disableSelected:!0,enablePointerEvents:p&&"inOut"===z||et,height:l,isFlashlightPin:ee,onStelaDotAnimationComplete:_,pinKey:{type:"deprecated",data:S},searchQuery:j,stelaDotAnimationType:z,trafficSource:N,width:c})})})}),L&&(0,u.jsx)(ed,{name:"stl-flyout-container",children:(0,u.jsx)(V.Z,{name:"SafeSuspense_CloseupImageOverlay_StlFlyoutContainer",children:(0,u.jsx)(W.Z,{children:(0,u.jsx)(G.N,{enabled:"inOut"===z,children:(0,u.jsx)(ec,{alwaysShow:m,displayWidth:c,displayHeight:l,imageSignature:f,onStlFlyoutHover:P,taggedProducts:B||[],onAnimationComplete:_,stelaDotAnimationType:z})})})})}),R&&M&&(0,u.jsxs)(ed,{name:"shop-button",children:[(0,u.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 60px)"}}}),(0,u.jsx)(s.Le,{bottom:12,children:(0,u.jsx)(s.xu,{display:"flex",justifyContent:y,paddingX:4,children:(0,u.jsx)(V.Z,{name:"SafeSuspense_CloseupImageOverlay_ShopButton",children:(0,u.jsx)(W.Z,{children:(0,u.jsx)(G.Z,{children:(0,u.jsx)(eu,{animateShopButton:o,actionUrl:ep,id:S.id,imageSignature:S.image_signature,onAnimationComplete:b,surfaceType:M})})})})})})]}),k&&(0,u.jsxs)(ed,{name:"debug-signals-feedback",children:[(0,u.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 115px)"}}}),(0,u.jsx)(s.Le,{bottom:12,children:(0,u.jsx)(s.xu,{display:"flex",justifyContent:"end",paddingX:5,children:(0,u.jsx)(Q.Z,{pinKey:{type:"deprecated",data:S}})})})]}),!F&&(0,u.jsxs)(ed,{name:"flashlight-button",children:[(0,u.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 60px)"}}}),(0,u.jsx)(s.Le,{bottom:16,children:(0,u.jsx)(s.xu,{display:"flex",justifyContent:"end",paddingX:5,children:J&&M?(0,u.jsx)(V.Z,{name:"SafeSuspense_CloseupImageOverlay_FlashlightButton",children:(0,u.jsx)(W.Z,{children:(0,u.jsx)(G.Z,{children:(0,u.jsx)(eu,{actionUrl:E?ep:void 0,animateShopButton:o,id:S.id,imageSignature:S.image_signature,onAnimationComplete:b,surfaceType:M})})})}):(0,u.jsx)(en,{displayWidth:c,carouselData:null==a?void 0:a.carouselData,carouselSlotToPaneRatio:Z,hide:!E||!!a&&0!==a.carouselData.index,children:(0,u.jsx)(V.Z,{name:"SafeSuspense_CloseupImageOverlay_FlashlightButton",children:(0,u.jsx)(W.Z,{children:(0,u.jsx)(G.Z,{children:(0,u.jsx)(ea,{actionUrl:E?ep:void 0,closeupImageHovered:!D&&m,pinId:S.id,variant:"default"})})})})})})})]}),(D||A)&&(0,u.jsx)(ed,{name:"domain-link-button",children:(0,u.jsx)(Y,{domain:d,link:g,navigationWrapper:v,pinKey:{type:"deprecated",data:S},trafficSource:N,trackingParamsMap:S.tracking_params_map})}),T&&(0,u.jsx)(ed,{name:"tag-button",children:(0,u.jsx)(V.Z,{name:"SafeSuspense_CloseupImageOverlay_CloseupTagButton",children:(0,u.jsx)(W.Z,{children:(0,u.jsx)(G.Z,{children:(0,u.jsx)(el,{pin:S})})})})})]})},ef=n(187638),em=n(752802),ey=void 0!==a?a:a=n(169310);function eh(e){var t,n,r,i,o,a,l,s,u,c,d,p,f=e.canShowDomainLinkButton,m=e.carouselInfo,y=e.disablePinTagButton,h=e.domain,g=e.hasMetTrustAndSafetyCheck,v=e.hasXYcoordinates,b=e.isEligibleForStlFlyout,_=e.isEmployee,x=e.isHovered,P=e.isORBACProfileManager,S=e.isScenePin,j=e.navLink,w=e.pinKey,O=e.showProductDetailPage,A=e.showStelaDots,k=e.stlFlyoutHovered,C=(0,Z.u)(ey,w).data,D=C.access,E=C.aggregatedPinData,I=C.storyPinDataId,T=g&&b,R=!!(null!=E&&E.isShopTheLook),F=(S||T)&&x,L=g&&(R&&!F||S||b),z=!1,M=!1;x&&!F&&(z=!(M=!!j&&!A&&f)&&!k&&!!h&&!!C.link&&!C.link.startsWith("https://i.pinimg.com")&&!(O&&m));var B=(n=(t={carouselInfo:m,hasMetTrustAndSafetyCheck:g,hasXYcoordinates:v,isORBACProfileManager:P,isScenePin:S,isShopTheLook:R,pin:C,showProductDetailPage:O}).carouselInfo,r=t.hasMetTrustAndSafetyCheck,i=t.hasXYcoordinates,o=t.isORBACProfileManager,a=t.isScenePin,l=t.isShopTheLook,s=t.pin,u=t.showProductDetailPage,c=s.embed,d=s.isPromoted,p=c&&"gif"===c.type,!!r&&!a&&!l&&!d&&!p&&!o&&!i&&(u?!n||function(e){var t,n=e.pin,r=e.carouselData,i=r.index,o=r.carousel_slots,a=(void 0===o?[]:o)[void 0===i?0:i],l=a.image_signature,s=a.images;if((void 0===l?"":l).length>0)return!0;var u=n.imageSpec_564x||n.imageSpec_736x||n.imageSpec_orig||n.imageSpec_474x||n.imageSpec_236x;return(null==u?void 0:u.url)===(null===(t=(0,em.Z)({images:s}))||void 0===t?void 0:t.url)}({pin:s,carouselData:n.carouselData}):!n)),N=!I&&!!D&&D.includes("tag")&&!y||P||!1,U=(0,ef.Z)({showFlashlightButton:B,showShopButton:L,showStelaDots:A,isShopTheLook:R});return{justifyShopButton:S||f?"end":"start",showCarouselControls:!!m,showCloseupShopDomainLinkButton:F,showDebugSignalsFeedbackButton:!!_,showDomainLink:z,showDomainLinkButton:M,showFlashlightButton:B,showPinTagButton:N,showShopButton:L,showStlFlyout:T,surfaceType:U}}var eg=n(537313),ev=n(832654),eb=n(801827),e_=n(409667),ex=n(19121),eP=n(717615),eS=n(231947);function ej(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ew(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ew(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ew(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eO=void 0!==l?l:l=n(669961);function eA(e){var t,n,r,i,o,a,l=e.isHovered,s=e.pinKey,u=e.shouldPadImage,c=(0,Z.u)(eO,s).data,d=c.aggregatedPinData,y=c.altText,g=c.autoAltText,v=c.isEligibleForPdp,b=c.isEligibleForRelatedProducts,_=c.isHidden,P=c.isUnsafe,S=c.pinner,j=c.richMetadata,w=c.richSummary,O=c.visualObjects,A=c.trackedLink,k=c.link,C=c.method,D=(null!==(i=null==w?void 0:w.products)&&void 0!==i?i:[]).length||(null!==(o=null==j?void 0:j.products)&&void 0!==o?o:[]).length,E=!!(null!=d&&d.isShopTheLook),I=!!b&&!E&&!D&&!v,T=(0,e_.Z)({isHiddenPin:_,isUnsafePin:P})&&I,R=(0,p.ZP)(),F=(0,ex.Z)(),L=(0,$.F)().checkExperiment,z=(0,eP.Z)(),M=(0,eb.r)(),B=M.mainImage,N=M.carouselInfo,U=M.previewImage,K=M.isGif,H=M.imgSrc,V=(0,eS.nl)(F,z)&&L("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled,G=ej((0,x.useState)("inOut"),2),W=G[0],q=G[1],Y=ej((0,x.useState)(!0),2),X=Y[0],Q=Y[1],J=(0,x.useCallback)(function(){Q(!1)},[Q]);(0,x.useEffect)(function(){X&&l&&q("none")},[X,l,J,q,T]);var ee=ej((0,x.useState)(!1),2),et=ee[0],en=ee[1],er=null===(a=c.imageSpec_orig)||void 0===a?void 0:a.url,ei=null!=N&&N.carouselData?(n=(t=N.carouselData).carousel_slots,r=t.index,n&&void 0!==r&&(n[r]||{}).image_signature?n[r].image_signature:null):c.imageSignature,eo=A||k,ea="catalog_bulk_create"===C||(null==j?void 0:j.products),el=eo&&ea?decodeURIComponent(eo):eo,es=(null!=O?O:[]).some(function(e){return e.isStela}),eu=(0,eS.Ms)(F,z)===(null==S?void 0:S.username)&&V,ec=!I&&F.isAuth,ed=(0,h.x4)(),ep=ed.showCloseupContentRight,ef=ed.paneWidth,em=ed.pdpCarouselSlotToPaneRatio,ey=ed.showProductDetailPage,eh=B.height,eg={naturalWidth:B.width,naturalHeight:eh,alt:(0,ev.Z)({altText:y,autoAltText:g,i18n:R,checkExperiment:L}),src:K?H:(null==U?void 0:U.url)||""},ew=(0,f.B)();return{stelaDotAnimationType:W,onStelaDotAnimationComplete:function(){return q("none")},animateShopButton:X,onShopButtonAnimationComplete:J,stlFlyoutHovered:et,onStlFlyoutHover:function(e){return en(e)},originalImageUrl:er,imageSignature:ei,link:el,hasStelaResults:es,isScenePin:I,showStelaDots:T,disablePinTagButton:eu,canShowDomainLinkButton:ec,pdpCarouselSlotToPaneRatio:em,showProductDetailPage:ey,maxCloseupImageWidth:ef,imageProps:eg,borderStyle:(0,m.Z)({isSideBySide:ep,isPadded:u,isRTL:ew.isRTL})}}var ek=n(517082),eC=n(664633),eD=n(287072);function eE(e){return(eE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==eE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eE(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eE(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eR=function(e){var t=e.onClick,n=e.href,r=e.children,i=e.onNavigation;return(0,u.jsx)(s.xu,{"data-test-id":"image-link",children:(0,u.jsx)(s.Tg,{onTap:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),t(),i({event:n})},href:n,rel:"nofollow",children:r})})};function eF(e){var t,n,r,i,o=e.onClick,a=e.hasXYcoordinates,l=e.isEligibleForStlFlyout,c=e.isHovered,d=e.pin,p=e.searchQuery,m=e.shouldPadImage,y=e.taggedProducts,h=e.trafficSource,g=e.viewParameter,v=e.isORBACProfileManager,b=eA({isHovered:c,pinKey:{type:"deprecated",data:d},shouldPadImage:m}),x=b.stelaDotAnimationType,P=b.onStelaDotAnimationComplete,S=b.animateShopButton,j=b.onShopButtonAnimationComplete,w=b.stlFlyoutHovered,O=b.onStlFlyoutHover,A=b.originalImageUrl,C=b.imageSignature,D=b.link,E=b.hasStelaResults,I=b.isScenePin,T=b.showStelaDots,R=b.disablePinTagButton,F=b.canShowDomainLinkButton,M=b.pdpCarouselSlotToPaneRatio,N=b.showProductDetailPage,Z=b.maxCloseupImageWidth,U=b.imageProps,K=b.borderStyle,H=(0,ex.Z)(),V=(0,eb.r)(),G=V.mainImage,W=V.carouselInfo,q=V.isGif,Y=V.imgSrc,X=(0,f.B)().isBot,$=(0,eC.Z)(),Q=d.domain,J=d.is_eligible_for_pdp,ee=d.id,et=!!d.shuffle&&$&&!X,en=(0,ek.Z)({pinId:ee,shouldRenderShuffle:et}),er=(0,e_.Z)({isHiddenPin:d.is_hidden,isUnsafePin:d.is_unsafe}),ei=(0,eg.Wp)({carouselData:d.carousel_data&&{carouselSlots:d.carousel_data.carousel_slots&&d.carousel_data.carousel_slots.map(function(e){return{domain:e.domain,link:e.link}}),index:null===(t=d.carousel_data)||void 0===t?void 0:t.index},domain:d.domain}).currentDomain||Q,eo={carousel_slot_id:void 0,carousel_data_id:void 0,carousel_slot_index:void 0,commerce_data:void 0};if(W&&W.carouselData&&W.carouselData.id){var ea=W.carouselData,el=ea.carousel_slots,es=void 0===el?[]:el,eu=ea.id,ec=ea.index,ed=void 0===ec?0:ec;i=es[ed]&&es[ed].link,eo.carousel_slot_id=es[ed]&&es[ed].id,eo.carousel_data_id=eu,eo.carousel_slot_index=ed,ei=es[ed]&&es[ed].domain||ei}var ef=(0,k.Z)({type:"deprecated",data:d})({isPdpPlus:J});ef&&(eo.commerce_data=ef);var em=i||D||A||"",ey=d.dominant_color,ev=(0,z.Z)({carouselData:null==W?void 0:W.carouselData,mainImage:G,maxCloseupImageWidth:Z,shouldPadImage:m,imageToDisplayWidthRatio:M}),eP=ev.height,eS=ev.width,ej=(0,eD.Z)({href:em,target:"blank",externalData:{auxData:eo,pin:d&&{attributionSourceId:d.attribution_source_id,board:d.board&&{url:d.board.url},campaignId:d.campaign_id,entityId:d.id,isDownstreamPromotion:d.is_downstream_promotion,isPromoted:d.is_promoted,pinner:d.pinner&&{username:d.pinner.username},pinPromotionId:d.pin_promotion_id,promoter:d.promoter&&{entityId:d.promoter.id},storyPinDataId:d.story_pin_data_id,trackingParams:d.tracking_params,trackingParamsMap:d.tracking_params_map,advertiserId:d.advertiser_id}}}),ew=(0,u.jsx)(B,{dominantColor:ey||"",imageProps:U,imgSrc:Y,isPreviewImage:!q&&!!Y}),eO=ew;null!=W&&W.carouselData&&(eO=(0,u.jsx)(L,{carouselData:W.carouselData,displayHeight:eP,displayWidth:eS,pinKey:{type:"deprecated",data:d}})),et&&(eO=(0,u.jsx)(s.xu,{"data-test-id":"shuffle-renderer",children:(0,u.jsx)(_.s,{shuffle:en,width:eS,children:ew})}));var eE=(0,u.jsx)(s.xu,{"data-test-id":"closeup-image",overflow:"hidden",dangerouslySetInlineStyle:{__style:eT({},K)},children:eO}),eI=eh({canShowDomainLinkButton:F,carouselInfo:W,disablePinTagButton:R,domain:ei||"",hasXYcoordinates:a,isEligibleForStlFlyout:void 0!==l&&l,isEmployee:H.isAuth&&!!H.isEmployee,isHovered:c,isScenePin:I,hasMetTrustAndSafetyCheck:er,navLink:em,pinKey:{type:"deprecated",data:d},showProductDetailPage:N,showStelaDots:T,stlFlyoutHovered:w,isORBACProfileManager:v}),eF=eI.justifyShopButton,eL=eI.showCarouselControls,ez=eI.showCloseupShopDomainLinkButton,eM=eI.showDebugSignalsFeedbackButton,eB=eI.showDomainLink,eN=eI.showDomainLinkButton,eZ=eI.showFlashlightButton,eU=eI.showPinTagButton,eK=eI.showShopButton,eH=eI.showStlFlyout,eV=eI.surfaceType;return(0,u.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:eT({},K)},"data-test-id":"closeup-body-image-container",height:eP,position:"relative",width:eS,children:[I||F?eE:(0,u.jsx)(eR,{onClick:o,href:em,onNavigation:ej,children:eE}),(0,u.jsx)(ep,{carouselInfo:W,displayHeight:eP,displayWidth:eS,domain:null!==(n=null!==(r=ei)&&void 0!==r?r:Q)&&void 0!==n?n:"",hasStelaResults:E,imageSignature:C,isHovered:c,justifyShopButton:eF,link:em,navigationWrapper:function(e){return(0,u.jsx)(eR,{onClick:o,href:em,onNavigation:ej,children:e})},onShopButtonAnimationComplete:j,onStelaDotAnimationComplete:P,onStlFlyoutHover:O,pin:d,searchQuery:p,animateShopButton:S,showCarouselControls:eL,showCarouselEllipsis:!N,showCloseupShopDomainLinkButton:ez,showDebugSignalsFeedbackButton:eM,showDomainLink:eB,showDomainLinkButton:eN,showFlashlightButton:eZ,showProductDetailPage:N,showPinTagButton:eU,showShopButton:eK,showStelaDots:T,showStlFlyout:eH,stelaDotAnimationType:x,surfaceType:eV,taggedProducts:y,trafficSource:h,viewParameter:g})]})}var eL=n(386352),ez=n(233316),eM=n(860507),eB=n(784590),eN=n(124364),eZ=n(224496),eU=n(775151);function eK(e){return(eK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eH(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==eK(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eK(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eK(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eW(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eq={width:508,height:640};function eY(e){var t,n,r=e.onClick,i=e.hasXYcoordinates,o=e.isEligibleForStlFlyout,a=e.isHovered,l=e.pin,c=e.searchQuery,d=e.shouldPadImage,p=e.taggedProducts,f=e.trafficSource,m=e.viewParameter,y=e.isORBACProfileManager,h=eA({pinKey:{type:"deprecated",data:l},shouldPadImage:d}),g=h.stelaDotAnimationType,v=h.onStelaDotAnimationComplete,b=h.animateShopButton,_=h.onShopButtonAnimationComplete,P=h.stlFlyoutHovered,S=h.onStlFlyoutHover,j=h.originalImageUrl,w=h.imageSignature,O=h.link,A=h.hasStelaResults,C=h.isScenePin,D=h.showStelaDots,E=h.disablePinTagButton,I=h.canShowDomainLinkButton,T=h.maxCloseupImageWidth,R=h.imageProps,F=h.borderStyle,L=(0,ex.Z)(),M=(0,eM.Z)(),N=(0,e_.Z)({isHiddenPin:l.is_hidden,isUnsafePin:l.is_unsafe}),Z=(0,eb.r)().mainImage,U=eG((0,x.useState)(),2),K=U[0],H=U[1],V=l.domain,G=void 0===V?"":V,W=l.id,q=l.dominant_color,Y=l.story_pin_data,X=l.native_creator,$={carousel_slot_id:void 0,carousel_data_id:void 0,carousel_slot_index:void 0,commerce_data:void 0},Q=(0,k.Z)({type:"deprecated",data:l})();Q&&($.commerce_data=Q);var J=O||j||"",ee=(0,eB.Z)({name:"StoryPinTaggedProductsResource",options:{id:l.id},noCache:!0}),et=ee.data,en=void 0===et?[]:et,er=ee.isLoaded,ei=(Y||{}).pages,eo=void 0===ei?[null]:ei,ea=eG(eo,1)[0],el=(0,ez.Z)({storyPinBlocks:(null==ea?void 0:ea.blocks)||[],blocksToRender:[eZ.h8.COMMENT_REPLY_STICKER,eZ.h8.GENERIC_STICKER,eZ.h8.HEADING,eZ.h8.MENTION_STICKER,eZ.h8.PARAGRAPH,eZ.h8.PRODUCT_STICKER,eZ.h8.VTO_MAKEUP_STICKER]}).blocks,es=((null==ea?void 0:ea.style)||{}).background_color,eu=(0,ez.Z)({storyPinBlocks:(null==ea?void 0:ea.blocks)||[],blocksToRender:[eZ.h8.IMAGE]}).blocks,ec=eG(eu=void 0===eu?[null]:eu,1)[0],ed=(0,eD.Z)({href:J,target:"blank",externalData:{auxData:$,pin:l&&{attributionSourceId:l.attribution_source_id,board:l.board&&{url:l.board.url},campaignId:l.campaign_id,entityId:l.id,isDownstreamPromotion:l.is_downstream_promotion,isPromoted:l.is_promoted,pinner:l.pinner&&{username:l.pinner.username},pinPromotionId:l.pin_promotion_id,promoter:l.promoter&&{entityId:l.promoter.id},storyPinDataId:l.story_pin_data_id,trackingParams:l.tracking_params,trackingParamsMap:l.tracking_params_map,advertiserId:l.advertiser_id}}}),ef=(0,eU.tq)({hasPin:!!l,pages:eo}).fontsLoaded,em=eh({canShowDomainLinkButton:I,disablePinTagButton:E,domain:G,hasXYcoordinates:i,hasMetTrustAndSafetyCheck:N,isEligibleForStlFlyout:void 0!==o&&o,isEmployee:L.isAuth&&!!L.isEmployee,isHovered:a,isScenePin:C,navLink:J,pinKey:{type:"deprecated",data:l},stlFlyoutHovered:P,isORBACProfileManager:y}),ey=em.justifyShopButton,eg=em.showCloseupShopDomainLinkButton,ev=em.showDebugSignalsFeedbackButton,eP=em.showDomainLink,eS=em.showDomainLinkButton,ej=em.showFlashlightButton,ew=em.showPinTagButton,eO=em.showShopButton,ek=em.showStlFlyout,eC=em.surfaceType;if(null!==(t=l.story_pin_data)&&void 0!==t&&t.is_deleted||!ea)return(0,u.jsx)(eN.Z,{width:eq.width,height:eq.height,rounding:4,color:"secondary"});var eE=(0,z.Z)({mainImage:Z,maxCloseupImageWidth:T,shouldPadImage:d}),eI=eE.height,eT=eE.width,eF=(0,u.jsxs)(s.xu,{"data-test-id":"closeup-image",overflow:"hidden",dangerouslySetInlineStyle:{__style:eV({},F)},position:"absolute",top:!0,right:!0,bottom:!0,left:!0,children:[!K&&(0,u.jsx)(B,{dominantColor:q||"",imageProps:R}),ec&&(0,u.jsx)(eL.ZP,{block:ec,fontsLoaded:!0,isActive:!1,muteVideos:!0,ownerId:null!==(n=null==X?void 0:X.id)&&void 0!==n?n:"",pageAspectRatio:eT/eI,pageIndex:0,pageHeight:eI,pageWidth:eT,pinId:W,pinKey:null,onImageLoaded:function(){return H(!0)}})]});return(0,u.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:eV(eV({},F),{},{background:es||"#fff"})},"data-test-id":"closeup-body-image-container",height:eI,position:"relative",width:eT,children:[C||I?eF:(0,u.jsx)(eR,{onClick:r,href:J,onNavigation:ed,children:eF}),(0,u.jsx)(ep,{hasStelaResults:A,displayHeight:eI,displayWidth:eT,domain:G,imageSignature:w,isHovered:a,justifyShopButton:ey,link:J,navigationWrapper:function(e){return(0,u.jsx)(eR,{onClick:r,href:J,onNavigation:ed,children:e})},onShopButtonAnimationComplete:_,onStelaDotAnimationComplete:v,onStlFlyoutHover:S,pin:l,searchQuery:c,animateShopButton:b,showCloseupShopDomainLinkButton:eg,showDebugSignalsFeedbackButton:ev,showDomainLink:eP,showDomainLinkButton:eS,showFlashlightButton:ej,showPinTagButton:ew,showShopButton:eO,showStelaDots:D,showStlFlyout:ek,stelaDotAnimationType:g,surfaceType:eC,taggedProducts:p,trafficSource:f,viewParameter:m}),er&&K&&el.map(function(e,t){var n,r,i,o=(en||[]).find(function(t){return[t.id,t.cacheable_id].includes(e.pin_id)});return(0,u.jsx)(eL.ZP,{block:e,disableProductStickers:M,fontsLoaded:ef,isActive:!1,muteVideos:!0,ownerId:null!==(i=null==X?void 0:X.id)&&void 0!==i?i:"",pageAspectRatio:eT/eI,pageIndex:0,pageHeight:eI,pageWidth:eT,pinKey:null!=o?{type:"deprecated",data:o}:null,pinId:W},"".concat(null!==(n=ea.id)&&void 0!==n?n:"","-").concat(null!==(r=e.type)&&void 0!==r?r:"","-").concat(t))})]})}var eX=n(430323),e$=function(e){var t=e.hasXYcoordinates,n=e.isHovered,r=e.isEligibleForStlFlyout,i=e.onImageClick,o=e.pin,a=e.searchQuery,l=e.shouldPadImage,s=e.taggedProducts,d=e.trafficSource,p=e.viewParameter,f=e.isORBACProfileManager,m=(0,k.Z)({type:"deprecated",data:o}),y=o.is_eligible_for_pdp?m({isPdpPlus:!0}):void 0,h=!!o.story_pin_data_id&&!1===o.should_open_in_stream,g=(0,u.jsx)(eX.Z,{auxData:y,viewParameter:p,component:85,children:h?(0,u.jsx)(eY,{hasXYcoordinates:t,isHovered:n,isEligibleForStlFlyout:r,onClick:i,pin:o,searchQuery:a,shouldPadImage:l,taggedProducts:s,trafficSource:d,viewParameter:p,isORBACProfileManager:f}):(0,u.jsx)(eF,{hasXYcoordinates:t,isHovered:n,isEligibleForStlFlyout:r,onClick:i,pin:o,searchQuery:a,shouldPadImage:l,taggedProducts:s,trafficSource:d,viewParameter:p,isORBACProfileManager:f})});return l?(0,u.jsx)(c,{children:g}):g},eQ=n(357787),eJ=n(36971),e0=n(463045),e1=["setCurrentVideo","pauseAutoplay","videoStartTime","videosAutoplaying"];function e2(e){return(e2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e8(Object(n),!0).forEach(function(t){e4(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e8(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function e9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,te(r.key),r)}}function e6(e,t){return(e6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e5(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e7(e){return(e7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e4(e,t,n){return(t=te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e){var t=function(e,t){if("object"!==e2(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==e2(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e2(t)?t:String(t)}var tt=(0,eQ.Z)(P.Z),tn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e6(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=e7(o);if(t){var r=e7(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===e2(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return e5(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e4(e5(e=i.call.apply(i,[this].concat(n))),"handleVisibilityChanged",function(t){var n=e.props,r=n.pinId,i=n.isPromoted,o=n.setCurrentVideo,a=n.pauseAutoplay,l=n.videosAutoplaying,s=n.videoStartTime,u=(0,e0.Z)(r,l);t&&!u?o({pinId:r,isPromoted:!!i,currentTime:s}):!t&&u&&a({pinId:r,isPromoted:!!i,currentTime:e.currentVideoCurrentTime})}),e4(e5(e),"handleVideoTimeChange",function(t){var n=e.props,r=n.pinId,i=n.videosAutoplaying;(0,e0.Z)(r,i)&&(e.currentVideoCurrentTime=t.time)}),e}return n=[{key:"componentDidUpdate",value:function(e){var t=e.appInFocus,n=this.props,r=n.appInFocus,i=n.pauseAutoplay,o=n.pinId,a=n.isPromoted,l=n.setCurrentVideo,s=n.videosAutoplaying,u=(0,e0.Z)(o,s),c=(0,eJ.Z)(o,s);this.currentVideoCurrentTime=null!=c?c:this.currentVideoCurrentTime,r!==t&&!r&&u?(this.pausedDueToBrowserOutOfFocus=!0,i({pinId:o,isPromoted:!!a,currentTime:this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&r&&(this.pausedDueToBrowserOutOfFocus=!1,l({pinId:o,isPromoted:!!a,currentTime:this.currentVideoCurrentTime}))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.pinId,n=e.isPromoted;(0,e.pauseAutoplay)({pinId:t,isPromoted:!!n,currentTime:this.currentVideoCurrentTime})}},{key:"render",value:function(){var e=this.props,t=(e.setCurrentVideo,e.pauseAutoplay,e.videoStartTime,e.videosAutoplaying,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,e1));return(0,u.jsx)(tt,e3({inAdsDesktopVideoExperiment:!0,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,trackFullVisible:!1},t))}}],e9(o.prototype,n),r&&e9(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(x.Component);function tr(e){var t=e.pinId,n=e.isPromoted,r=(0,C.I)(),i=r.appUI,o=i.appInFocus,a=i.videosAutoplaying,l=r.pauseAutoplay,s=r.setCurrentVideo,c=a.organicVideosAutoplaying,d=a.promotedVideosAutoplaying,p=n?d[t]:c[t];return(0,u.jsx)(tn,e3(e3({},e),{},{appInFocus:o,pauseAutoplay:l,setCurrentVideo:s,videosAutoplaying:a,videoStartTime:p?p.currentTime:null}))}var ti=n(957161),to=n(274970),ta=n(709113),tl=(0,x.lazy)(function(){return n.e(87122).then(n.bind(n,647303))}),ts=function(e){var t=e.children,n=e.name;return(0,u.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"experimental-closeup-image-overlay-layer-".concat(n),left:!0,position:"absolute",right:!0,top:!0,children:t})},tu=function(e){var t=e.closeupIsFirstPageInHistoryStack,n=e.customThumbnail,r=e.imageContainerRef,i=e.isWideVideo,o=e.pin,a=e.shouldPadImage,l=e.flyoutShareProps,d=e.video,p=e.isORBACProfileManager,f=!!o.promoter&&!o.is_downstream_promotion,m=f&&!o.is_eligible_for_web_closeup,h=o||{},g=h.access,v=h.should_mute,b=!!g&&g.includes("tag")||p,_=y.Gg-y.d2,x="undefined"!=typeof window&&0===ti.Z.getItem(ta._e),P=(0,u.jsxs)(to.Z,{isVideo:!0,isWideVideo:i,shouldPadImage:a,styleOverrides:a?{maxWidth:{maxWidth:_},minWidth:{minWidth:_},height:{},borderRadius:16}:{},variant:"default",children:[(0,u.jsx)(s.xu,{"data-test-id":"closeup-video-with-visibility",width:"100%",ref:r,children:(0,u.jsx)(tr,{autoplay:!x,customThumbnail:n,flyoutShareProps:l,isPromoted:f,loop:m,muted:v||t,pinId:o.id,shouldMute:v,video:d,variant:"default"})}),b&&(0,u.jsx)(ts,{name:"tag-button",children:(0,u.jsx)(V.Z,{name:"SafeSuspense_VideoContent_CloseupTagButton",children:(0,u.jsx)(W.Z,{children:(0,u.jsx)(G.Z,{children:(0,u.jsx)(tl,{pin:o})})})})})]});return a?(0,u.jsx)(c,{children:P}):P},tc=function(e){var t=e.closeupIsFirstPageInHistoryStack,n=e.imageContainerRef,r=e.flyoutShareProps,i=e.hasXYcoordinates,o=e.isEligibleForStlFlyout,a=e.isWideVideo,l=e.pin,s=e.shouldPadImage,c=e.searchQuery,d=e.taggedProducts,p=e.trafficSource,f=e.isORBACProfileManager,m=e.isHovered,y=e.onImageClick,h=e.viewParameter,g=(0,eb.r)(),v=g.video,_=g.imgSrc,x=g.isEmbeddedVideo;if(v)return(0,u.jsx)(tu,{closeupIsFirstPageInHistoryStack:t,imageContainerRef:n,isWideVideo:a,pin:l,shouldPadImage:s,flyoutShareProps:r,video:v,customThumbnail:_,isORBACProfileManager:f});if(x){var P,S="50%",j=l.attribution&&(l.attribution.author_name||l.attribution.url)?l.attribution.provider_name:null;return"soundcloud"===j?S="30%":"vin"===j&&(S="100%"),(0,u.jsx)(b,{embedUrl:null===(P=l.embed)||void 0===P?void 0:P.src,isWideVideo:a,paddingBottom:S,shouldPadImage:s})}return(0,u.jsx)(N.Z,{hovered:m,pinKey:{type:"deprecated",data:l},trackingParamsMap:l.tracking_params_map,viewType:3,children:(0,u.jsx)(e$,{hasXYcoordinates:i,isHovered:m,isEligibleForStlFlyout:o,onImageClick:y,pin:l,searchQuery:c,shouldPadImage:s,taggedProducts:d,trafficSource:p,viewParameter:h,isORBACProfileManager:f})})}},491073:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(76911),i=n(908390),o=n(450053),a=n(459263),l=n(614514),s=n(43671),u=n(740025),c=n(515198);function d(e){var t=e.pin,n=(0,u.Z)({viewParameter:156,pinKey:{type:"deprecated",data:t}});return(0,c.jsx)(s.ZP,{hideContents:!0,pin:t,feedbackType:n})}var p=n(801827),f=n(558068),m=n(780280),y=n(224496),h=n(215292),g=n(19121),v=n(717615),b=n(231947),_=n(240681),x=n(966676);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function w(e){var t,n=e.hasXYcoordinates,s=e.isEligibleForStlFlyout,u=e.isStoryPin,w=e.isWideVideo,O=e.pin,A=e.searchQuery,k=e.taggedProducts,C=e.trafficSource,D=e.viewParameterType,E=e.visualContentContainerRef,I=void 0===E?{current:null}:E,T=e.imageContainerRef,R=e.handleImageClickThrough,F=e.setClickthroughComponentForSurvey,L=e.isShortImage,z=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),M=z[0],B=z[1],N=(0,f.Hv)().previous,Z=(0,x.x4)(),U=(0,v.Z)(),K=(0,m.B)(),H=(0,p.r)(),V=(0,g.Z)(),G=(0,o.ZP)({pin:O}).getViewParameter,W=0===N.length,q=H.carouselInfo,Y=H.imgSrc,X=H.mainImage,$=H.video,Q=function(){B(function(e){return!e})},J=function(){B(!1)},ee=Z.showCloseupContentRight,et=Z.paneWidth;if(u)return null;var en=O.domain,er=O.music_attributions,ei=O.pinner,eo=O.should_mute,ea=en&&!!O.link&&!O.link.startsWith("https://i.pinimg.com"),el=X.width,es=(0,o.NE)({closePanelWidth:et,isShortImage:L,carouselInfo:q,isWideVideo:w,naturalWidth:el,showCloseupContentRight:ee}),eu=(0,_.Z)({isSideBySide:ee,isPadded:!1,isRTL:K.isRTL}),ec=(0,b.q6)(V,(void 0===ei?{}:ei).id,U);return(0,c.jsx)(i.xu,{"data-test-id":"visual-content-container",children:(0,c.jsx)(h.q,{children:function(e){var t=e.hovered,r=e.onMouseEnter,o=e.onMouseLeave;return(0,c.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},eu)},display:"flex",justifyContent:"center",onMouseEnter:r,onMouseLeave:o,position:"relative",ref:I,width:w?"100%":et,children:[$&&(null==er?void 0:er.length)&&(0,c.jsx)(i.xu,{top:!0,alignItems:"center","data-test-id":"music-attribution",display:"flex",justifyContent:"center",marginTop:6,overflow:"hidden",paddingY:8,position:"absolute",width:et,zIndex:y.Ls,children:(0,c.jsx)(a.Z,{musicAttributions:er,shouldMute:eo})}),(0,c.jsx)(l.Z,{closeupIsFirstPageInHistoryStack:W,flyoutShareProps:{gridDescription:O.description,imageSrc:Y,isFlyoutOpen:M,onFlyoutDismiss:J,onToggleFlyout:Q,pinId:O.id},hasXYcoordinates:n,isEligibleForStlFlyout:s,imageContainerRef:T,isHovered:t,isWideVideo:w,onImageClick:function(){R&&R(),F("imageContainer")},pin:O,searchQuery:A,shouldPadImage:es,showDomainLink:ea,taggedProducts:k,trafficSource:C,viewParameter:G(D),isORBACProfileManager:ec}),O&&O.showFeedback&&(0,c.jsx)(d,{pin:O})]})}})})}},450053:function(e,t,n){"use strict";n.d(t,{NE:function(){return l},ZP:function(){return s},nU:function(){return a}});var r=n(76911),i=n(692627),o=n(681227);function a(e){var t=e.native_creator,n=e.pinner,r=e.domain;return(e.link_user_website&&e.link_user_website.official_user||e.link_domain&&e.link_domain.official_user||!!e.third_party_pin_owner||!!n&&n.domain_verified&&n.domain_url===r)&&!e.is_promoted||!!t}function l(e){var t=e.carouselInfo,n=e.closePanelWidth,r=e.isWideVideo,i=e.isShortImage,o=e.naturalWidth,a=e.showCloseupContentRight;return!r&&!!a&&(!!i||!t&&o<n)}function s(e){var t,n,l,s=e.pin,u=(0,r.useCallback)(function(e){return e?!!s.link:!s.is_eligible_for_pdp},[s.is_eligible_for_pdp,s.link]),c=(0,i.Z)({hasPin:!!s,hasPinRichMetadata:!!s.rich_metadata,hasPinRichMetadataProducts:!!(null!==(t=s.rich_metadata)&&void 0!==t&&t.products),hasPinRichMetadataArticle:!!(null!==(n=s.rich_metadata)&&void 0!==n&&n.article),hasPinRichMetadataRecipe:!!(null!==(l=s.rich_metadata)&&void 0!==l&&l.recipe),hasPinStoryPinData:!!s.story_pin_data});return{getShowClickthroughLink:u,getViewParameter:(0,r.useCallback)(function(e){return e||c},[c]),makeDetailsArgs:(0,r.useCallback)(function(e){var t,n,r,i,l,u,c;return{isShopTheLook:(null===(t=s.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look)||!!(null!==(n=s.aggregated_pin_data)&&void 0!==n&&n.is_stela),showCreatorCard:a(s),creatorId:null!==(r=null===(i=s.closeup_attribution)||void 0===i?void 0:i.id)&&void 0!==r?r:null,showCanonicalComments:!!s.is_eligible_for_aggregated_comments,storyPinDetailsArgs:s.story_pin_data_id?{metadata:null===(l=s.story_pin_data)||void 0===l?void 0:l.metadata,detailsPage:null!==(u=s.story_pin_data)&&void 0!==u&&null!==(c=u.pages)&&void 0!==c&&c[1]?s.story_pin_data.pages[1]:void 0}:void 0,showReactions:(0,o.J6)({board:s.board&&{isCollaborative:s.board.is_collaborative,collaboratedByMe:s.board.collaborated_by_me},videos:s.videos&&s.videos.id?{entityId:s.videos.id}:null,isDownstreamPromotion:s.is_downstream_promotion,isPromoted:s.is_promoted,storyPinDataId:s.story_pin_data_id},e),isCreatorClassPin:!!s.creator_class}},[s])}}},268592:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(76911),i=n(829407),o=n(977558);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l="calc(100vh - ".concat(o.cI,"px - ").concat(16,"px)");function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(l))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=n[0],u=n[1],c=(0,r.useRef)(null),d="calc(".concat(null!=t?t:"100","vh - ").concat(o.cI,"px - ").concat(16,"px)");return(0,i.Z)(function(){if(window){var e,n=window.innerHeight-o.cI-16,r=(null===(e=c.current)||void 0===e?void 0:e.clientHeight)||0;r>n*t/100&&(d=r.toString()),u(n>r?d:r)}}),{descriptionContentMaxHeight:s,visualContentContainerRef:c}}},816890:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}}),n(704217);var r,i=n(4294),o=n(916117),a=n(231947),l=void 0!==r?r:r=n(299879);function s(e){var t,n,r,s,u,c=e.pinKey,d=e.orbacActingAs,p=e.viewer,f=(0,o.u)(l,c).data,m=null!==(t=f.pinner)&&void 0!==t&&!!t.entityId&&(0,a.D3)(p,f.pinner.entityId,d),y=(null!==(n=f.board)&&void 0!==n&&!!n.collaboratedByMe||null!==(r=f.board)&&void 0!==r&&null!==(s=r.owner)&&void 0!==s&&!!s.entityId)&&(0,i.Z)(f.board.collaboratedByMe,null===(u=f.board.owner)||void 0===u?void 0:u.entityId,p);return m||y}},481697:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}}),n(704217);var r,i=n(4294),o=n(916117),a=void 0!==r?r:r=n(174426);function l(e,t){var n,r,l,s,u=(0,o.u)(a,e).data;return(0,i.Z)(null===(n=u.board)||void 0===n?void 0:n.collaboratedByMe,null===(r=u.board)||void 0===r?void 0:null===(l=r.owner)||void 0===l?void 0:l.entityId,t)&&!!(null!==(s=u.board)&&void 0!==s&&s.isCollaborative)}},127897:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(76911),i=n(431911),o=n(801827),a=n(829407),l=n(92261),s=n(966676);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=100+l.Ie;function d(e){var t,n=e.metadataContainerRef,l=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=l[0],p=l[1],f=(0,s.x4)(),m=(0,o.r)();return(0,a.Z)(function(){var e,t,r,o,a,l,s,u;n.current&&(t=(e={metadataHeight:n.current.getBoundingClientRect().height+c,closeupContext:f,visualData:m}).metadataHeight,r=e.closeupContext,o=e.visualData,a=r.pdpCarouselSlotToPaneRatio,l=r.paneWidth,s=o.mainImage,u=o.carouselInfo,t>(0,i.Z)({carouselData:null==u?void 0:u.carouselData,mainImage:s,maxCloseupImageWidth:l,imageToDisplayWidthRatio:a}).height&&p(!0))}),d}},680333:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(76911);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],o=t[1],a=(0,r.useRef)(null),l=(0,r.useRef)(null),s=(0,r.useRef)(null),u=(0,r.useRef)(null);return(0,r.useEffect)(function(){var e=function(){n&&a.current&&a.current.handleEgSurveyClick(n)};return window.addEventListener("focus",e),function(){return window.removeEventListener("focus",e)}},[n]),{clickthroughComponentForSurvey:n,setClickthroughComponentForSurvey:o,webLinkSurveyRef:a,imageContainerRef:l,legoLinkClickthroughAnchorRef:s,maybeLinkRef:u}}},156491:function(e,t,n){"use strict";n.d(t,{l6:function(){return tT},ZP:function(){return tF}});var r,i,o,a,l,s=n(76911),u=n(506979),c=n(599689),d=n(785430),p=n(332611),f=n(558068),m=n(780280),y=n(826067),h=n(19121),g=n(313951),v=n(350118);function b(e){var t=0===(0,f.Hv)().previous.length,n=e.children,r=(0,c.useLocation)(),i=(0,h.Z)(),o=(0,u.useDispatch)(),a=(0,m.B)().isBot,l=(0,g.Z5)().dropdownOpen,s=(0,v.AF)(),d=!!s[e.pinId]&&(s[e.pinId].saved||!!s[e.pinId].savedInfo),b=s[e.pinId]||e.pinResource.data||{},_="inbox"===(0,y.mB)(r.search).tab;return n({isLandingPage:t,isLimitedLogin:!!i.isAuth&&i.isLimitedLogin,didRepin:d,openInbox:l,pin:b,shouldShowInbox:_,updateExperienceForPlacement:function(e){o((0,p.pz)([e],a))}})}var _=n(385937),x=n(709717),P=n(283855);n(704217);var S=n(908390),j=n(898781),w=n(349700),O=n(515198);function A(e){var t=e.attribution,n=t.authorName,r=t.authorUrl,i=t.ccUrl,o=t.providerName,a=t.url,l=e.embed,u=(0,j.ZP)();if(!n&&!(o&&a))return null;var c=u._('from {{ provider }}', 'Image source attribution without author on pin closeup', 'Image source attribution without author on pin closeup');return n&&(c=null!=l&&l.src&&"gif"!==l.type&&"pinstory"!==l.subtype?u._('Video by {{ author }} on {{ provider }}', 'Video source attribution on pin closeup', 'Video source attribution on pin closeup'):u._('Photo by {{ author }} on {{ provider }}', 'Photo source attribution on pin closeup', 'Photo source attribution on pin closeup')),(0,O.jsxs)(s.Fragment,{children:[(0,O.jsx)(S.xv,{color:"subtle",children:(0,w.nk)(c,{author:(0,O.jsx)(S.rU,{display:"inlineBlock",href:null!=r?r:"",rel:"nofollow",underline:"hover",children:n},"author"),provider:(0,O.jsx)(S.rU,{display:"inlineBlock",href:null!=a?a:"",rel:"nofollow",underline:"hover",children:o},"provider")})}),i&&(0,O.jsx)(S.rU,{href:i,rel:"nofollow",children:u._('(cc)', 'Creative Commons Link Text', 'Creative Commons Link Text')})]})}function k(e){var t=e.category,n=e.ingredients;return(0,O.jsxs)(S.xu,{children:[t&&(0,O.jsx)(S.xu,{children:(0,O.jsx)(S.xv,{weight:"bold",children:t})}),(0,O.jsx)("ul",{children:n.map(function(e,t){return(0,O.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,O.jsx)(S.xu,{marginTop:1,children:(0,O.jsxs)(S.xv,{children:[e.amt||null," ",e.name]})})},t)})})]})}var C=n(326595),D=n(580749),E=n(561195),I=n(923297),T=n(833049),R=n(134185),F=n(92261),L=n(966676);function z(){return(0,O.jsx)(L.ZP.Consumer,{children:function(e){var t=e.showCloseupContentRight,n=e.viewportSize;return t&&"lg"===n?(0,O.jsx)(S.xu,{width:16}):null}})}function M(e){var t=e.recipe,n=t.aggregateRating,r=t.categorizedIngredients,i=t.cookTimes,o=t.diets,a=t.fromAggregatedData,l=t.name,s=t.servingsSummary,u=(0,j.ZP)();if(!l||!r||0===r.length)return null;var c=null==s?void 0:s.summary,d=(0,D.f)(null==i?void 0:i.prep),p=(0,D.f)(null==i?void 0:i.cook),f=(0,D.f)(null==i?void 0:i.total)||p||d;if(p&&d){var m=p.h||0,y=p.m||0;f={h:m+(d.h||0),m:y+(d.m||0)}}var h=f?(0,T.Z)((0,I.X)(f),u):null,g=null==n?void 0:n.reviewCount;return(0,O.jsxs)(R.Z,{itemScope:!0,itemType:F.iB.RECIPE,children:[(0,O.jsx)("meta",{content:l,itemProp:"name"}),a?(0,O.jsx)("div",{className:"hr cardDivider"}):null,!!g&&(0,O.jsxs)(S.xu,{marginBottom:2,display:"flex",alignItems:"baseline",children:[n&&(0,O.jsx)(S.xu,{marginEnd:1,children:(0,O.jsx)(E.Z,{rating:n.ratingValue,max_rating:n.bestRating,width:16})}),(0,O.jsx)(S.xv,{weight:"bold",children:(0,w.nk)(u.ngettext('{{reviewCount}} review', '{{reviewCount}} reviews', g, ' - ', ' -- '),{reviewCount:g})})]}),h?(0,O.jsx)(S.xu,{marginBottom:2,display:"flex",alignItems:"center",children:(0,O.jsx)(C.Z,{timeString:h})}):null,(0,O.jsxs)(S.xu,{"data-test-id":"ingredients-heading",marginBottom:4,children:[(0,O.jsx)(S.X6,{size:"500",children:a?l:u._('Ingredients', 'Ingredients title in closeup recipe description', 'Ingredients title in closeup recipe description')}),o?(0,O.jsxs)(S.xu,{display:"flex",marginTop:1,"data-test-id":"diets-section",children:[(0,O.jsx)(S.xv,{children:o.join(", ")}),c?(0,O.jsx)(S.xu,{marginStart:1,"data-test-id":"serving-summary-section",children:(0,O.jsx)(S.xv,{children:"∙ "+c})}):null]}):null]}),Array.isArray(r)&&r.length>0&&(1===r.length?(0,O.jsx)(S.xu,{column:12,"data-test-id":"single-column-ingredients",children:r.map(function(e,t){var n=e.category,r=e.ingredients;return(0,O.jsx)(S.xu,{marginBottom:2,children:(0,O.jsx)(k,{category:n,ingredients:(null!=r?r:[]).map(function(e){return{amt:e.amt,name:e.name}})})},t)})}):(0,O.jsxs)(S.xu,{display:"flex","data-test-id":"dual-column-ingredients",children:[(0,O.jsx)(S.xu,{column:6,children:r.slice(0,Math.ceil(r.length/2)).map(function(e,t){var n=e.category,r=e.ingredients;return(0,O.jsx)(S.xu,{marginBottom:2,children:(0,O.jsx)(k,{category:n,ingredients:(null!=r?r:[]).map(function(e){return{amt:e.amt,name:e.name}})})},t)})}),(0,O.jsx)(z,{}),(0,O.jsx)(S.xu,{column:6,children:r.slice(Math.ceil(r.length/2)).map(function(e,t){var n=e.category,r=e.ingredients;return(0,O.jsx)(S.xu,{marginBottom:2,children:(0,O.jsx)(k,{category:n,ingredients:(null!=r?r:[]).map(function(e){return{amt:e.amt,name:e.name}})})},t)})})]}))]})}var B=n(782534);function N(e){var t,n=e.article,r=(0,j.ZP)();if(!n.name)return null;var i=n.datePublished&&new Date(n.datePublished),o=(null!==(t=n.authors)&&void 0!==t?t:[]).map(function(e){return e.name}).filter(Boolean);return(0,O.jsxs)(R.Z,{itemScope:!0,itemType:F.iB.ARTICLE,children:[(0,O.jsx)("meta",{content:n.name,itemProp:"name"}),(0,O.jsxs)(S.xu,{marginTop:3,children:[i&&(0,O.jsxs)(S.xu,{children:[(0,O.jsx)("meta",{content:i.toDateString(),itemProp:"datePublished"}),(0,O.jsxs)(S.xv,{children:[r._('Published ', ' - ', ' -- '),(0,O.jsx)(B.Z,{value:i,dateFormatType:B.k.LONG})]})]}),o.length>0&&(0,O.jsx)(S.xu,{"data-test-id":"article-author",children:(0,O.jsxs)(S.xv,{children:[r._('Written by ', ' - ', ' -- '),o.join(", ")]})})]})]})}var Z=n(883561);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=G(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G(r.key),r)}}function G(e){var t=function(e,t){if("object"!==U(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==U(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===U(t)?t:String(t)}function W(e,t){return(W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=q(o);if(t){var r=q(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return n=[{key:"componentDidMount",value:function(){var e=this.props.onUpdate;null==e||e()}},{key:"componentDidUpdate",value:function(e){if(e.showMore!==this.props.showMore){var t=this.props.onUpdate;null==t||t()}}},{key:"render",value:function(){var e,t,n=this.props,r=n.carouselData,i=n.closeupDescription,o=n.tutorialDescription,a=n.showMore,l=n.onToggle,u=(r&&(null===(e=r.carouselSlots)||void 0===e?void 0:e[null!==(t=r.index)&&void 0!==t?t:0])||{}).details||i,c=u&&o&&o.trim()===u.trim(),d=u?u.trim().replace(/\s+/g," "):null,p=u&&u.length>200;return d&&!c?(0,O.jsx)(s.Fragment,{children:p?(0,O.jsxs)(S.xu,{children:[(0,O.jsx)(S.xv,{inline:!0,children:a?d:(0,Z.ZP)(d,200)}),(0,O.jsx)(S.xu,{display:"inlineBlock",marginStart:1,children:(0,O.jsx)(S.iP,{fullWidth:!1,onTap:l,children:(0,O.jsx)(S.xv,{inline:!0,size:"200",weight:"bold",children:a?this.props.i18n._('Less', ' - ', ' -- '):this.props.i18n._('More', ' - ', ' -- ')})})})]}):(0,O.jsx)(S.xv,{children:d})}):null}}],V(o.prototype,n),r&&V(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(s.Component);function X(e){var t=(0,j.ZP)();return(0,O.jsx)(Y,H(H({},e),{},{i18n:t}))}var $=n(916117),Q=void 0!==r?r:r=n(132881);function J(e){var t,n,r,i,o,a,l,u,c,d=e.onToggle,p=e.onUpdate,f=e.pinKey,m=e.showMore,y=(0,$.u)(Q,f).data;if(!y||!y.entityId)return null;var h=null!==(t=y.richMetadata)&&void 0!==t&&null!==(n=t.tutorial)&&void 0!==n&&n.name?y.richMetadata.tutorial:null,g=null!==(r=y.richMetadata)&&void 0!==r&&null!==(i=r.article)&&void 0!==i&&i.name?y.richMetadata.article:null,v=null!==(o=y.richMetadata)&&void 0!==o&&null!==(a=o.recipe)&&void 0!==a&&a.name?y.richMetadata.recipe:null,b=!!g&&!v&&!h;return(0,O.jsxs)(S.xu,{marginBottom:3,marginTop:3,dangerouslySetInlineStyle:{__style:{fontSize:"14px"}},children:[(0,O.jsxs)("div",{className:"richPinInformation",style:{marginBottom:12},children:[y.aggregatedPinData&&(0,O.jsx)(X,{carouselData:y.carouselData&&{index:y.carouselData.index,carouselSlots:null===(l=y.carouselData.carouselSlots)||void 0===l?void 0:l.map(function(e){return{details:e.details}})},closeupDescription:y.closeupDescription,onToggle:d,showMore:m,onUpdate:p,tutorialDescription:null!=h&&h.name&&h.description?h.description:void 0})||b&&(null==g?void 0:g.description)&&(0,O.jsx)("div",{className:"richPinArticleSummary",style:{fontSize:"16px",marginBottom:12},children:g.description.split(" ").map(function(e){return e.trim()}).reduce(function(e,t){return e.length>300?e:e.length+t.length+3>300?"".concat(e," ").concat(t,"..."):"".concat(e," ").concat(t)},"")}),b&&g&&(0,O.jsxs)(s.Fragment,{children:[(0,O.jsx)(N,{article:{authors:null===(u=g.authors)||void 0===u?void 0:u.map(function(e){return{name:e.name}}),datePublished:g.datePublished,name:g.name}}),!!y.attribution&&(0,O.jsx)(A,{attribution:{authorName:y.attribution.authorName,authorUrl:y.attribution.authorUrl,ccUrl:y.attribution.ccUrl,providerName:y.attribution.providerName,url:y.attribution.url},embed:y.embed&&{type:y.embed.type,src:y.embed.src,subtype:y.embed.subtype}})]})]}),v&&(0,O.jsx)(M,{recipe:{aggregateRating:v.aggregateRating&&{bestRating:v.aggregateRating.bestRating,ratingCount:v.aggregateRating.ratingCount,ratingValue:v.aggregateRating.ratingValue,reviewCount:v.aggregateRating.reviewCount},categorizedIngredients:null===(c=v.categorizedIngredients)||void 0===c?void 0:c.map(function(e){var t;return{category:e.category,ingredients:null===(t=e.ingredients)||void 0===t?void 0:t.map(function(e){return{amt:e.amt,name:e.name}})}}),cookTimes:v.cookTimes&&{cook:v.cookTimes.cook,prep:v.cookTimes.prep,total:v.cookTimes.total},diets:v.diets,fromAggregatedData:v.fromAggregatedData,name:v.name,servingsSummary:v.servingsSummary&&{summary:v.servingsSummary.summary}}})]})}var ee=n(537313),et=n(814197),en=void 0!==i?i:i=n(602375);function er(e){var t=e.onClickThrough,n=e.onToggle,r=e.onUpdate,i=e.pinKey,o=e.showMore,a=e.trackingParamsMap,l=(0,$.u)(en,i).data;return(0,O.jsxs)(S.xu,{marginTop:3,children:[(0,O.jsx)(S.xu,{display:"inlineBlock",position:"relative",width:"100%",zIndex:et.Fk,children:(0,O.jsx)(S.xu,{children:(0,O.jsx)(ee.ZP,{onClickThrough:t,pinKey:l,trackingParamsMap:a,showDomainInLink:!0})})}),(0,O.jsx)(J,{onToggle:n,onUpdate:r,pinKey:l,showMore:o})]})}var ei=n(536237),eo=n(214494),ea=n(827896),el=n(407043),es=n(121151),eu=n(784590),ec=n(916062),ed=n(825067),ep=n(254176),ef=n(678638),em=n(956800),ey=n(90326),eh=n(492583);function eg(e){return(eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(n),!0).forEach(function(t){ew(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ev(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function e_(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function ex(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eO(r.key),r)}}function eP(e,t){return(eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eS(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ej(e){return(ej=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ew(e,t,n){return(t=eO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eO(e){var t=function(e,t){if("object"!==eg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eg(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eg(t)?t:String(t)}var eA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eP(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=ej(o);if(t){var r=ej(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===eg(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eS(e)}(this,e)});function o(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var e,t,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return ew(eS(e=i.call.apply(i,[this].concat(r))),"handleHide",function(){var t=e.props.onHide;e.props.logContextEvent({event_type:7802}),t()}),ew(eS(e),"handleDelete",(t=regeneratorRuntime.mark(function t(){var n,r,i,o,a,l,s,u,c,d,p,f,m,y,h,g;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.logContextEvent({event_type:101,component:13373,element:11186}),r=(n=e.props).getClientTrackingParams,i=n.detailedPin,o=n.dispatch,a=n.pinId,l=n.onDelete,s=n.onHide,u=n.changeBoardPinCount,c=n.changeUserPinCount,d=i.data||{},t.next=5,eo.Z.create("PinResource",{id:a,client_tracking_params:r(a)}).callDelete();case 5:f=(p=void 0===(p=d.board)?{}:p).id,y=(m=void 0===(m=d.pinner)?{}:m).id,g=null==(h=d.section)?void 0:h.id,u({boardId:f,sectionId:g,increment:-1}),c({userId:y,increment:-1}),o((0,ep.xQ)(f)),o((0,em.EX)({feedId:g||f,feedType:g?eh.Z.BOARD_SECTION_PINS:eh.Z.BOARDFEED,itemIds:[a],itemType:"pin"})),g&&o((0,ef.CE)(g)),s(),l&&l();case 18:case"end":return t.stop()}},t)}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(e){e_(o,r,i,a,l,"next",e)}function l(e){e_(o,r,i,a,l,"throw",e)}a(void 0)})})),e}return n=[{key:"render",value:function(){var e=this;return(0,O.jsx)(es.ZP,{accessibilityModalLabel:this.props.i18n._('Delete this Pin', 'Accessibility label for modal to delete this status pin', 'Accessibility label for modal to delete this status pin'),onDismiss:this.handleHide,heading:this.props.i18n._('Delete this Pin?', 'Heading for modal to delete this status pin', 'Heading for modal to delete this status pin'),size:"sm",footer:(0,O.jsxs)(s.Fragment,{children:[(0,O.jsx)(S.xu,{marginBottom:3,children:(0,O.jsx)(S.zx,{fullWidth:!0,color:"gray",text:this.props.i18n._('Delete', 'Button label for confirming the action of deleting status pin', 'Button label for confirming the action of deleting status pin'),onClick:function(){e.handleDelete()}})}),(0,O.jsx)(S.xu,{children:(0,O.jsx)(S.zx,{fullWidth:!0,color:"red",text:this.props.i18n._('Cancel', 'Button label for cancelling the action to delete status pin', 'Button label for cancelling the action to delete status pin'),onClick:this.handleHide})})]}),children:(0,O.jsx)(S.xu,{padding:4,children:(0,O.jsx)(S.xv,{children:this.props.i18n._('If you delete this Pin, you won\'t be able to get it back.', 'Text to confirm whether user wants to delete the status pin', 'Text to confirm whether user wants to delete the status pin')})})})}}],ex(o.prototype,n),r&&ex(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(s.Component);function ek(e){var t,n,r,i,o,a,l=(0,u.useDispatch)(),s=(0,el.v)().logContextEvent,c=null===(t=(0,ed.W)())||void 0===t?void 0:t.onPinDelete,d=(0,eu.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"detailed"}}),p=(0,ec.Z)({hasPin:!!d.data,pinId:null===(n=d.data)||void 0===n?void 0:n.id,boardLayout:null===(r=d.data)||void 0===r?void 0:null===(i=r.board)||void 0===i?void 0:i.layout,boardUrl:null===(o=d.data)||void 0===o?void 0:null===(a=o.board)||void 0===a?void 0:a.url});return(0,O.jsx)(eA,eb(eb({},e),{},{changeBoardPinCount:function(e){return l((0,ep.Br)(e))},changeUserPinCount:function(e){return l((0,ey.JS)(e))},detailedPin:d,dispatch:l,getClientTrackingParams:(0,ea.Z)(),i18n:(0,j.ZP)(),logContextEvent:s,onDelete:function(){var t;p(),null===(t=e.onDelete)||void 0===t||t.call(e),null==c||c({pinId:e.pinId})}}))}var eC=n(238464),eD=n(499128),eE=n(966113),eI=n(700380),eT=n(430323),eR=n(343341),eF=n(704115),eL=n(356997),ez=n(681669),eM=n(985913),eB=n(954931),eN=n(215292),eZ=void 0!==o?o:o=n(484044);function eU(e){var t=e.pin,n=e.savedToText,r=(0,j.ZP)(),i=(0,el.v)().logContextEvent,o=!!t.pinner,a=t.pinner||{},l=a.adsOnlyProfileSite,s=a.fullName,u=a.imageMediumUrl,c=a.isAdsOnlyProfile,d=a.username;if(!o)return null;var p=c&&l?l:"/".concat(d||"","/"),f=(0,eM.Z)(r._('{{ pinnerFullName }} avatar link', 'aggregatedCloseupSavedToBoardInfo.avatar.accessibilityLabel', 'Accessibility label for user avatar'),{pinnerFullName:null!=s?s:""}),m=function(e,t){e===t&&i({event_type:101,element:13382,aux_data:{aop_origin:"AggregatedCloseupSavedToBoardInfo"}})};return(0,O.jsx)(S.xu,{marginBottom:5,children:(0,O.jsx)("div",{className:"AggregatedCloseupCard",style:{padding:"0",borderTop:"none"},children:(0,O.jsx)(S.iP,{children:(0,O.jsxs)(S.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,O.jsx)(S.rU,{accessibilityLabel:f,href:p,onClick:function(){return m(p,l)},rel:(0,eB.Z)(p)?"none":"nofollow",target:p===l?"blank":null,children:(0,O.jsx)(eN.q,{children:function(e){var t=e.active,n=e.focused,r=e.hovered,i=e.onBlur,o=e.onFocus,a=e.onMouseEnter,l=e.onMouseLeave;return(0,O.jsx)(S.xu,{marginEnd:2,onFocus:o,onBlur:i,onMouseEnter:a,onMouseLeave:l,children:(0,O.jsx)(S.zd,{wash:r||t||n,rounding:"circle",children:(0,O.jsx)(eL.qE,{size:"sm",name:null!=s?s:"",src:null!=u?u:""})})})}})}),(0,O.jsx)(S.kC,{alignItems:"center",flex:"grow",justifyContent:"start",width:"100%",children:(0,O.jsx)(S.xu,{display:"flex",justifyContent:"between",marginStart:-5,marginEnd:-5,children:(0,O.jsx)(S.xu,{paddingX:5,children:(0,O.jsx)(S.xv,{size:"200",children:s&&n?n:null})})})})]})})})})}function eK(e){var t=e.pinKey,n=e.savedToText,r=(0,ez.sr)(eZ,t,{type:"pin",useLegacyAdapter:function(e){return{pinner:e.pinner&&{adsOnlyProfileSite:e.pinner.ads_only_profile_site,fullName:e.pinner.full_name,imageMediumUrl:e.pinner.image_medium_url,isAdsOnlyProfile:e.pinner.is_ads_only_profile,username:e.pinner.username}}}}).data;return r&&(0,O.jsx)(eU,{savedToText:n,pin:r})}var eH=n(717615),eV=n(231947),eG=void 0!==a?a:a=n(267078);function eW(e){var t,n,r=e.pin,i=e.isOwnPin,o=(0,j.ZP)(),a=(0,h.Z)(),l=(0,eH.Z)(),s=(0,el.v)().logContextEvent,u=(0,eV.lJ)(a,l),c=u?"?orbac_subject_id=".concat(u):"",d=null!==(g=r.pinner)&&void 0!==g&&g.isAdsOnlyProfile&&r.pinner.adsOnlyProfileSite?r.pinner.adsOnlyProfileSite:"/".concat((null===(v=r.pinner)||void 0===v?void 0:v.username)||"","/"),p=(null===(b=r.board)||void 0===b?void 0:b.layout)==="quick_saves",f=(null===(_=r.board)||void 0===_?void 0:_.layout)==="quick_creates",m=(0,O.jsx)(S.xv,{inline:!0,size:"200",weight:"bold",children:(0,O.jsx)(S.rU,{display:"inlineBlock",href:"".concat(null!==(x=null===(P=r.board)||void 0===P?void 0:P.url)&&void 0!==x?x:"").concat(c),underline:"hover",children:null===(A=r.board)||void 0===A?void 0:A.name})},"board"),y=function(e,t){e===t&&s({event_type:101,element:13382,aux_data:{aop_origin:"AggregatedCloseupSavedToBoardInfo"}})};if(f)return(0,w.nk)(o._('Created by {{ pinnerName }}', 'closeup.AggregatedCloseupCard.quickCreatesPinText', 'Showing who created this Pin on closeup'),{pinnerName:(0,O.jsx)(S.xv,{inline:!0,size:"200",weight:"bold",children:(0,O.jsx)(S.rU,{display:"inlineBlock",onClick:function(){var e;return y(d,null===(e=r.pinner)||void 0===e?void 0:e.adsOnlyProfileSite)},href:d,underline:"hover",rel:(0,eB.Z)(d)?"none":"nofollow",target:d===(null===(C=r.pinner)||void 0===C?void 0:C.adsOnlyProfileSite)?"blank":null,children:null===(D=r.pinner)||void 0===D?void 0:D.fullName})},"pinner")});if(i){if(p)return(0,w.nk)(o._('{{ You }} saved this Pin', 'closeup.AggregatedCloseupCard.quickSavesOwnPinText', 'Text explaining that you saved this Pin'),{You:(0,O.jsx)(S.xv,{inline:!0,size:"200",weight:"bold",children:(0,O.jsx)(S.rU,{display:"inlineBlock",onClick:function(){var e;return y(d,null===(e=r.pinner)||void 0===e?void 0:e.adsOnlyProfileSite)},href:d,underline:"hover",rel:(0,eB.Z)(d)?"none":"nofollow",target:d===(null===(I=r.pinner)||void 0===I?void 0:I.adsOnlyProfileSite)?"blank":null,children:o._('You', 'closeup.AggregatedCloseupCard.quickSavesOwnPinYouText', '"You" in "{{ You }} saved this Pin"')})},"you")});if(!r.section)return(0,w.nk)(o._('{{ You }} saved to {{ boardName }}', 'Indicating you saved this pin to a board on closeup', 'Indicating you saved this pin to a board on closeup'),{You:(0,O.jsx)(S.xv,{inline:!0,size:"200",weight:"bold",children:(0,O.jsx)(S.rU,{display:"inlineBlock",onClick:function(){var e;return y(d,null===(e=r.pinner)||void 0===e?void 0:e.adsOnlyProfileSite)},href:d,underline:"hover",rel:(0,eB.Z)(d)?"none":"nofollow",target:d===(null===(E=r.pinner)||void 0===E?void 0:E.adsOnlyProfileSite)?"blank":null,children:o._('You', '"you" in "{{ You }} saved to {{ boardName }}"', '"you" in "{{ You }} saved to {{ boardName }}"')})},"you"),boardName:m});var g,v,b,_,x,P,A,k,C,D,E,I,T,R,F,L,z="".concat(null!==(T=null===(R=r.board)||void 0===R?void 0:R.url)&&void 0!==T?T:"").concat(null!==(F=r.section.slug)&&void 0!==F?F:"","/").concat(c);return(0,w.nk)(o._('You saved to {{ sectionName }} in {{ boardName }}', 'Showing that you saved this pin to a section within a board on closeup', 'Showing that you saved this pin to a section within a board on closeup'),{sectionName:(0,O.jsx)(S.xv,{inline:!0,size:"200",weight:"bold",children:(0,O.jsx)(S.rU,{display:"inlineBlock",href:z,underline:"hover",children:null===(L=r.section)||void 0===L?void 0:L.title})},"section"),boardName:m})}if((null===(k=r.board)||void 0===k?void 0:k.privacy)==="protected"||p)return(0,w.nk)(o._('{{ pinnerName }} saved this Pin', 'Showing who saved this pin, but not which board (private board), on closeup', 'Showing who saved this pin, but not which board (private board), on closeup'),{pinnerName:(0,O.jsx)(S.xv,{inline:!0,size:"200",weight:"bold",children:(0,O.jsx)(S.rU,{display:"inlineBlock",onClick:function(){var e;return y(d,null===(e=r.pinner)||void 0===e?void 0:e.adsOnlyProfileSite)},href:d,underline:"hover",rel:(0,eB.Z)(d)?"none":"nofollow",target:d===(null===(M=r.pinner)||void 0===M?void 0:M.adsOnlyProfileSite)?"blank":null,children:null===(B=r.pinner)||void 0===B?void 0:B.fullName})},"pinner")});if(!r.section)return(0,w.nk)(o._('{{ pinnerName }} saved to {{ boardName }}', 'Showing who saved this pin to which board on closeup', 'Showing who saved this pin to which board on closeup'),{pinnerName:(0,O.jsx)(S.xv,{inline:!0,size:"200",weight:"bold",children:(0,O.jsx)(S.rU,{display:"inlineBlock",onClick:function(){var e;return y(d,null===(e=r.pinner)||void 0===e?void 0:e.adsOnlyProfileSite)},href:d,underline:"hover",rel:(0,eB.Z)(d)?"none":"nofollow",target:d===(null===(t=r.pinner)||void 0===t?void 0:t.adsOnlyProfileSite)?"blank":null,children:null===(n=r.pinner)||void 0===n?void 0:n.fullName})},"pinner"),boardName:m});var M,B,N,Z,U,K,H,V,G="".concat(null!==(N=null===(Z=r.board)||void 0===Z?void 0:Z.url)&&void 0!==N?N:"").concat(null!==(U=r.section.slug)&&void 0!==U?U:"","/").concat(c);return(0,w.nk)(o._('{{ pinnerName }} saved to {{ sectionName }} in {{ boardName }}', 'Showing who saved this pin to a section within a board on closeup', 'Showing who saved this pin to a section within a board on closeup'),{pinnerName:(0,O.jsx)(S.xv,{inline:!0,size:"200",weight:"bold",children:(0,O.jsx)(S.rU,{display:"inlineBlock",onClick:function(){var e;return y(d,null===(e=r.pinner)||void 0===e?void 0:e.adsOnlyProfileSite)},href:d,underline:"hover",rel:(0,eB.Z)(d)?"none":"nofollow",target:d===(null===(K=r.pinner)||void 0===K?void 0:K.adsOnlyProfileSite)?"blank":null,children:null===(H=r.pinner)||void 0===H?void 0:H.fullName})},"pinner"),sectionName:(0,O.jsx)(S.xv,{inline:!0,size:"200",weight:"bold",children:(0,O.jsx)(S.rU,{display:"inlineBlock",href:G,underline:"hover",children:null===(V=r.section)||void 0===V?void 0:V.title})},"section"),boardName:m})}function eq(e){var t=e.pinKey,n=e.isOwnPin,r=(0,ez.sr)(eG,t,{type:"pin",useLegacyAdapter:function(e){return{board:e.board&&{layout:e.board.layout,name:e.board.name,privacy:e.board.privacy,url:e.board.url},pinner:e.pinner&&{adsOnlyProfileSite:e.pinner.ads_only_profile_site,fullName:e.pinner.full_name,isAdsOnlyProfile:e.pinner.is_ads_only_profile,username:e.pinner.username},section:e.section&&{slug:e.section.slug,title:e.section.title}}}}).data;return r&&(0,O.jsx)(eW,{pin:r,isOwnPin:n})}var eY=function(e){var t=e.viewer,n=e.pinnerId,r=e.pinId,i=t.isAuth&&n===t.id,o=(0,O.jsx)(eq,{isOwnPin:i,pinKey:{type:"deprecated",data:r}});return(0,O.jsx)(S.xu,{marginTop:10,"data-test-id":"aggregated-closeup-card",children:(0,O.jsx)(eK,{pinKey:{type:"deprecated",data:r},savedToText:o})})},eX=n(819303),e$=n(274970),eQ=n(273690);function eJ(e){var t=e.children,n=e.isWideVideo,r=void 0!==n&&n;return(0,O.jsx)(L.ZP.Consumer,{children:function(e){var n=e.showCloseupContentRight,i=e.viewportSize;return n&&"lg"===i&&!r?null:t}})}var e0=n(765798);function e1(e){return(e1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e2(Object(n),!0).forEach(function(t){e7(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function e3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e4(r.key),r)}}function e9(e,t){return(e9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e6(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e5(e){return(e5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e7(e,t,n){return(t=e4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e4(e){var t=function(e,t){if("object"!==e1(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==e1(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e1(t)?t:String(t)}var te=function(e){var t=e.children;return(0,O.jsx)(L.ZP.Consumer,{children:function(e){var n=e.showCloseupContentRight,r=e.viewportSize;return n&&"lg"===r&&t}})},tt={backgroundGradient:{__style:{background:"linear-gradient(to bottom, #eee 200px, #fff 100%)",padding:"32px 0",width:"100%"}},closeupBoxShadow:{__style:{boxShadow:"0 4px 4px #eee",paddingBottom:"24px"}}},tn=void 0!==l?l:l=n(137937),tr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e9(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=e5(o);if(t){var r=e5(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===e1(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return e6(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e7(e6(e=i.call.apply(i,[this].concat(n))),"state",{descriptionShowMore:!1,showDeletePinModal:!1,viewportSize:"lg"}),e7(e6(e),"mounted",!1),e7(e6(e),"updateViewportSize",(0,eI.Z)(function(){e.mounted&&e.setState({viewportSize:window&&window.matchMedia("(min-width: 1056px)").matches?"lg":"md"})},50)),e7(e6(e),"handleCloseDeleteStatusPinModal",function(){e.setState({showDeletePinModal:!1})}),e7(e6(e),"handleGoBack",function(){var t=e.props,n=t.isLandingPage,r=t.history;(0,eF.Z)().crossSite?window.history.back():n?r.push("/"):r.goBack()}),e7(e6(e),"handleOnDeleteStatusPin",function(){var t=e.props.toastManagerContext;e.setState({showDeletePinModal:!1}),t.showToast(function(t){var n=t.hideToast;return(0,O.jsx)(eD.ZP,{onHide:n,text:e.props.i18n._('Pin deleted', 'Pin delete completion confirmation', 'Pin delete completion confirmation')})}),e.handleGoBack()}),e7(e6(e),"handleOpenDeleteStatusPinModal",function(){e.setState({showDeletePinModal:!0}),e.props.logContextEvent({event_type:7803,view_type:248})}),e7(e6(e),"handleToggleExpand",function(){return e.setState(function(e){return{descriptionShowMore:!e.descriptionShowMore}})}),e7(e6(e),"renderNonConversationalDetail",function(){var t,n,r=e.props,i=r.onCloseupBodyUpdate,o=r.pin,a=r.viewer,l=r.onClickThrough,u=o.isNative,c=(e.props||{}).video;return(0,O.jsxs)(s.Fragment,{children:[e.showCreatorCard&&(0,O.jsx)(S.xu,{marginBottom:3,children:(0,O.jsx)(ei.Z,{componentType:126,impressionType:"User",input:o,loggingId:e.creatorId,slotIndex:0,viewParameter:156,viewType:3})}),u&&o&&(0,O.jsx)(eY,{pinnerId:null===(t=o.pinner)||void 0===t?void 0:t.entityId,pinId:o.entityId,viewer:a}),(0,O.jsx)(er,{onClickThrough:l,onToggle:e.handleToggleExpand,onUpdate:i,pinKey:o,showMore:e.state.descriptionShowMore,trackingParamsMap:e.props.trackingParamsMap}),u&&c?(0,O.jsx)(S.xu,{marginBottom:4,children:(0,O.jsx)(S.xu,{width:"100%",children:(0,O.jsx)(ee.kC,{pinKey:o,trackingParamsMap:e.props.trackingParamsMap})})}):null,!u&&o&&(0,O.jsx)(eY,{pinnerId:null===(n=o.pinner)||void 0===n?void 0:n.entityId,pinId:o.entityId,viewer:a})]})}),e}return n=[{key:"creatorId",get:function(){var e,t=this.props.pin,n=t.linkDomain,r=t.thirdPartyPinOwner,i=n&&n.officialUser;return i||r?null!=i&&i.entityId?i.entityId:null!==(e=null==r?void 0:r.entityId)&&void 0!==e?e:"":null}},{key:"showCreatorCard",get:function(){var e=this.props.pin;return(e.linkDomain&&e.linkDomain.officialUser||!!e.thirdPartyPinOwner)&&!e.isPromoted}},{key:"componentDidMount",value:function(){this.mounted=!0,this.updateViewportSize(),window.addEventListener("resize",this.updateViewportSize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateViewportSize),this.mounted=!1}},{key:"render",value:function(){var e,t=this.state,n=t.showDeletePinModal,r=t.viewportSize,i=this.props,o=i.isLandingPage,a=i.pin,l=a||{},s=l.title,u=l.videoStatusMessage,c=l.imageOrig,d=l.image564x,p=a.entityId?{pin:a}:null,f=((d&&d.url&&d.height&&d.width?{image564x:{url:d.url,height:d.height,width:d.width}}:null)||{}).image564x,m=((c&&c.url&&c.height&&c.width?{imageOrig:{url:c.url,height:c.height,width:c.width}}:null)||{}).imageOrig,y=f||m,h=y&&y.url,g=(this.props||{}).video,v=void 0===g?null:g,b=(0,O.jsx)(e0.Z,{pinKey:a,trackingParamsMap:this.props.trackingParamsMap}),_=60,x=0,P=y&&y.width||0;return y&&(_=y&&"lg"===r?Math.max(Math.min(P,496),60):Math.max(Math.min(P,564),60),x=y&&y.height?_/P*y.height:0),(0,O.jsx)(eT.Z,{view:248,children:(0,O.jsxs)(L.ZP.Provider,{value:(0,L.Nb)(e8(e8({},L.Of),{},{showCloseupContentRight:!0,viewportSize:r})),children:[(0,O.jsxs)(S.xu,{dangerouslySetInlineStyle:tt.backgroundGradient,children:[(0,O.jsx)(S.xu,{display:"flex",justifyContent:"center",paddingY:6,children:(0,O.jsx)(S.xv,{align:"center",inline:!0,children:(0,O.jsxs)("span",{className:"deprecatedTextSizeXL",children:["".concat(null!==(e=(u||{}).closeup)&&void 0!==e?e:""," "),(0,O.jsx)(S.xv,{inline:!0,weight:"bold",children:(0,O.jsx)("span",{className:"deprecatedTextSizeXL",children:(0,O.jsx)(S.rU,{display:"inlineBlock",href:eE.o1A,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},underline:"hover",children:this.props.i18n._('Read our guidelines', 'Text link to Pinterest\'s video content guidelines', 'Text link to Pinterest\'s video content guidelines')})})},"review-guidelines")]})})}),(0,O.jsx)(S.kC,{alignItems:"stretch",justifyContent:"center",children:(0,O.jsx)(eX.Z,{children:(0,O.jsxs)(S.xu,{color:"default",rounding:2,dangerouslySetInlineStyle:tt.closeupBoxShadow,children:[(0,O.jsxs)(S.xu,{display:"flex",justifyContent:"between",alignItems:"center",paddingX:6,paddingY:4,children:[(0,O.jsx)(S.hU,{accessibilityLabel:this.props.i18n._('Back', 'Text for back button in the Pin creation flow', 'Text for back button in the Pin creation flow'),icon:"arrow-back",iconColor:"darkGray",onClick:this.handleGoBack,size:"lg",padding:2}),(0,O.jsx)(S.xu,{display:"flex",padding:1,children:(0,O.jsx)(S.zx,{fullWidth:!0,color:"gray",text:this.props.i18n._('Delete', 'Delete a status Pin', 'Delete a status Pin'),onClick:this.handleOpenDeleteStatusPinModal})})]}),(0,O.jsxs)(eQ.Z,{children:[(0,O.jsx)(S.xu,{paddingX:4,children:(0,O.jsx)(eJ,{children:b})}),(0,O.jsx)(e$.Z,{variant:"default",children:(0,O.jsx)(S.xu,{rounding:2,overflow:"hidden",height:x,width:_,children:v?(0,O.jsx)(eC.Z,{customThumbnail:h,muted:o,pinId:a.entityId,video:v,autoplay:!0,variant:"legacy"}):y&&(0,O.jsx)(S.Ee,{alt:s||"",color:"lightGray",naturalHeight:y.height||0,naturalWidth:y.width||0,src:y.url||""})})}),(0,O.jsxs)(S.xu,{paddingX:4,children:[(0,O.jsx)(te,{children:b}),p&&this.renderNonConversationalDetail()]})]})]})})}),(0,O.jsxs)(S.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:6,children:[(0,O.jsx)(S.JO,{accessibilityLabel:this.props.i18n._('Lock', 'Accessibility label for lock icon', 'Accessibility label for lock icon'),icon:"lock",inline:!0,size:20}),(0,O.jsx)(S.xu,{padding:2,children:(0,O.jsx)(S.xv,{children:this.props.i18n._('This is only visible to you', 'The status pin closeup page is only visible to the pin owner', 'The status pin closeup page is only visible to the pin owner')})})]})]}),n&&(0,O.jsx)(ek,{pinId:a.entityId,onDelete:this.handleOnDeleteStatusPin,onHide:this.handleCloseDeleteStatusPinModal})]})})}}],e3(o.prototype,n),r&&e3(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(s.Component);function ti(e){var t,n,r,i,o,a,l,u,d,p,m,y,g,v,b,_,x,P,S,w,A,k,C,D,E,I,T,R,F,L,z=e.pinKey,M=e.props,B=(0,el.v)().logContextEvent,N=(0,j.ZP)(),Z=0===(0,f.Hv)().previous.length,U=(0,$.u)(tn,z).data,K=U.videos,H=(0,s.useMemo)(function(){var e,t;return null!=K&&null!==(e=K.videoList)&&void 0!==e&&null!==(t=e.v720P)&&void 0!==t&&t.url?{duration:K.videoList.v720P.duration||void 0,height:K.videoList.v720P.height||void 0,thumbnail:K.videoList.v720P.thumbnail||void 0,url:K.videoList.v720P.url||void 0,width:K.videoList.v720P.width||void 0}:void 0},[null==K?void 0:null===(t=K.videoList)||void 0===t?void 0:null===(n=t.v720P)||void 0===n?void 0:n.duration,null==K?void 0:null===(r=K.videoList)||void 0===r?void 0:null===(i=r.v720P)||void 0===i?void 0:i.height,null==K?void 0:null===(o=K.videoList)||void 0===o?void 0:null===(a=o.v720P)||void 0===a?void 0:a.thumbnail,null==K?void 0:null===(l=K.videoList)||void 0===l?void 0:null===(u=l.v720P)||void 0===u?void 0:u.url,null==K?void 0:null===(d=K.videoList)||void 0===d?void 0:null===(p=d.v720P)||void 0===p?void 0:p.width]),V=(0,s.useMemo)(function(){var e,t;return null!=K&&null!==(e=K.videoList)&&void 0!==e&&null!==(t=e.vHLSV4)&&void 0!==t&&t.url?{duration:K.videoList.vHLSV4.duration||void 0,height:K.videoList.vHLSV4.height||void 0,thumbnail:K.videoList.vHLSV4.thumbnail||void 0,url:K.videoList.vHLSV4.url||void 0,width:K.videoList.vHLSV4.width||void 0}:void 0},[null==K?void 0:null===(m=K.videoList)||void 0===m?void 0:null===(y=m.vHLSV4)||void 0===y?void 0:y.duration,null==K?void 0:null===(g=K.videoList)||void 0===g?void 0:null===(v=g.vHLSV4)||void 0===v?void 0:v.height,null==K?void 0:null===(b=K.videoList)||void 0===b?void 0:null===(_=b.vHLSV4)||void 0===_?void 0:_.thumbnail,null==K?void 0:null===(x=K.videoList)||void 0===x?void 0:null===(P=x.vHLSV4)||void 0===P?void 0:P.url,null==K?void 0:null===(S=K.videoList)||void 0===S?void 0:null===(w=S.vHLSV4)||void 0===w?void 0:w.width]),G=(0,s.useMemo)(function(){var e,t;return null!=K&&null!==(e=K.videoList)&&void 0!==e&&null!==(t=e.vHLSV3MOBILE)&&void 0!==t&&t.url?{duration:K.videoList.vHLSV3MOBILE.duration||void 0,height:K.videoList.vHLSV3MOBILE.height||void 0,thumbnail:K.videoList.vHLSV3MOBILE.thumbnail||void 0,url:K.videoList.vHLSV3MOBILE.url||void 0,width:K.videoList.vHLSV3MOBILE.width||void 0}:void 0},[null==K?void 0:null===(A=K.videoList)||void 0===A?void 0:null===(k=A.vHLSV3MOBILE)||void 0===k?void 0:k.duration,null==K?void 0:null===(C=K.videoList)||void 0===C?void 0:null===(D=C.vHLSV3MOBILE)||void 0===D?void 0:D.height,null==K?void 0:null===(E=K.videoList)||void 0===E?void 0:null===(I=E.vHLSV3MOBILE)||void 0===I?void 0:I.thumbnail,null==K?void 0:null===(T=K.videoList)||void 0===T?void 0:null===(R=T.vHLSV3MOBILE)||void 0===R?void 0:R.url,null==K?void 0:null===(F=K.videoList)||void 0===F?void 0:null===(L=F.vHLSV3MOBILE)||void 0===L?void 0:L.width]),W=(0,s.useMemo)(function(){var e=H||V||G;return null!=K&&K.entityId&&e?{id:K.entityId,hasVideo:e,mp4:H||void 0,hls:V||void 0,hlsv3:G||void 0}:null},[V,G,H,null==K?void 0:K.entityId]);return(0,O.jsx)(tr,e8(e8({},M),{},{history:(0,c.useHistory)(),isLandingPage:Z,toastManagerContext:(0,eR.F9)(),viewer:(0,h.Z)(),i18n:N,logContextEvent:B,pin:U,video:W}))}var to=n(409667),ta=n(497529),tl=n(869636);function ts(e){return(ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=tp(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function td(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tp(r.key),r)}}function tp(e){var t=function(e,t){if("object"!==ts(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ts(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ts(t)?t:String(t)}function tf(e,t){return(tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tm(e){return(tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ty=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tf(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=tm(o);if(t){var r=tm(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===ts(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),i.apply(this,arguments)}return n=[{key:"componentDidMount",value:function(){var e=this.props.experience;if(e&&500500===e.experience_id){var t=e.experience_id,n=e.placement_id;this.props.experienceClient.viewExperience(n,t)}}},{key:"componentDidUpdate",value:function(e){var t=e.experience,n=this.props.experience;if(n&&!t){var r=n.experience_id,i=n.placement_id;this.props.experienceClient.viewExperience(i,r)}}},{key:"render",value:function(){return this.props.children}}],td(o.prototype,n),r&&td(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(s.PureComponent);function th(e){var t=(0,ta.Z)(),n=(0,tl.Z)(1000075).experience;return(0,O.jsx)(ty,tc(tc({},e),{},{experience:n,experienceClient:t}))}var tg=n(623568),tv=n(773285),tb=n(763917),t_=function(e){var t=e.pathname;return/^\/pin\/[\w-]+\/activity\/tried\/?$/.test(t)},tx=function(e){var t;return null!==(t=e.map(function(e){var t;return!!(t=e.location)&&((0,tb.C)(t)||t_(t))}).find(function(e){return!0===e}))&&void 0!==t&&t},tP=n(56641),tS=n(794230);function tj(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e||window.location.href;(0,tP.Z)("/login?next=".concat(t?(0,tS.Z)(n,{type:"signup"}):encodeURIComponent(n)))}var tw=n(496793),tO=n(915071),tA=n(67347);function tk(e){return(tk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var tC=["checkExperiment","currentHistoryStack","history","location","params","pinResource","requestContext","searchPinCloseupViewed","showQuickPromote","showRepin","viewer","CloseupComponent"];function tD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tD(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==tk(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tk(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tk(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tI=function(e){var t,n,r=e.id,i=e.story_pin_data,o=e.videos;return(r&&null!=o&&o.id&&o.video_list?[o.video_list.V_720P,o.video_list.V_HLSV4,o.video_list.V_HLSV3_MOBILE]:[]).some(function(e){return e&&e.thumbnail&&e.url&&!!e.width&&!!e.height})||(null!==(t=((null==i?void 0:null===(n=i.pages)||void 0===n?void 0:n[0])||{}).blocks)&&void 0!==t?t:[]).some(function(e){return!!e.video})};function tT(e){e.checkExperiment;var t=e.currentHistoryStack,n=e.history,r=e.location,i=e.params,o=e.pinResource,a=e.requestContext,l=e.searchPinCloseupViewed,u=e.showQuickPromote,c=e.showRepin,d=e.viewer,p=e.CloseupComponent,f=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,tC),m=o.data,h=o.isLoaded,g=(0,s.useRef)(null),v=h&&m&&m.pinner&&d.isAuth&&d.username===m.pinner.username&&h&&m&&"extension"===m.method,x=(0,_.Z)(t,d.isAuth),S=x.trafficSource,j=x.topLevelTrafficSource,w=x.topLevelTrafficSourceDepth,A=x.contextPinIds;w>1&&"pin"!==S&&(0,tA.nP)("p2p.traffic_source.client",{sampleRate:.1,tags:{trafficSource:S,topLevelTrafficSource:j,topLevelTrafficSourceDepth:w}});var k=(0,tb._)(t),C=(0,y.mB)(r.search);return(0,s.useEffect)(function(){var e,t,i,o,l,s;g===m||(t=(e={history:n,isBot:a.isBot,location:r,viewerId:d.id||"",viewerIsAuth:d.isAuth}).history,i=e.isBot,o=e.location,l=e.viewerId,s=e.viewerIsAuth,i||!l||"undefined"==typeof window||(0,tw.U)(window.location,l,!1,s,function(e){return t.replace(e,o.state)})),g.current=m},[n,r,g,m,a.isBot,d.id,d.isAuth]),(0,s.useEffect)(function(){return function(){k&&null!=m&&m.id&&l(m.id,k)}},[null==m?void 0:m.id,k,l]),(0,O.jsx)(P.Q,{value:{featuredCommentId:i.comment_id||""},children:(0,O.jsx)(th,{children:(0,O.jsx)(b,{pinId:i.id||"",pinResource:o,children:function(e){var r,a,l,s,y,h,g,b,_,x=e.isLandingPage,P=e.isLimitedLogin,D=e.didRepin,E=e.openInbox,I=e.pin,T=e.shouldShowInbox,R=e.updateExperienceForPlacement;return(0,O.jsx)(p,tE({contextPinIds:A,conversation_id:C.conversation_id,deepLinkBackGoesToBoard:v,didRepin:D,emailId:C.e_t,forceSendFeedback:C.fsf,goBack:(a=(r={boardUrl:null==m?void 0:null===(b=m.board)||void 0===b?void 0:b.url,currentHistoryStack:t,history:n,isFromExtension:!!v,hasViewerPartner:!!d.partner}).boardUrl,l=r.currentHistoryStack,s=r.history,h=void 0!==(y=r.isFromExtension)&&y,g=r.hasViewerPartner,function(){if(!tx(l)&&!h){g?s.push("/homefeed/"):s.push("/");return}if(h&&1===l.length){s.push(null!=a?a:"");return}s.goBack()}),isLandingPage:x,isLimitedLogin:P,messageId:C.message,onLoginClick:tj,openInbox:E,pin:I,pinId:null!==(_=i.id)&&void 0!==_?_:"",pinDerivedData:{isVideoPin:!!I&&tI(I)},pinResource:o,routePush:n.push,searchQuery:k,senderId:C.sender,shouldShowInbox:T,showQuickPromote:u,showRepinOnInitialRender:c,topLevelTrafficSource:j,topLevelTrafficSourceDepth:w,trafficSource:S,updateExperienceForPlacement:R,viewer:d},f))}})})})}function tR(e){var t,n=e.pinResource.data,r=n||{},i=r.aggregated_pin_data,o=r.ip_eligible_for_stela,a=r.is_hidden,l=r.is_unsafe,s=(i||{}).is_shop_the_look,u=!!(n||{}).story_pin_data,c=null==n?void 0:null===(t=n.story_pin_data)||void 0===t?void 0:t.has_product_pins,p=(0,to.Z)({isHiddenPin:a,isUnsafePin:l}),f=d.$y;return p&&s&&!u?f=d.f9:p&&c?f=d.z8:p&&!u&&o&&(f=d.Q2),(0,O.jsx)(tT,tE(tE({},e),{},{CloseupComponent:f}))}function tF(e){var t=(0,u.useDispatch)(),n=(0,h.Z)(),r=(0,c.useParams)(),i=(0,f.aX)(),o=tE(tE({},e),{},{history:(0,c.useHistory)(),location:(0,c.useLocation)(),params:r,requestContext:(0,m.B)(),searchPinCloseupViewed:function(e,n){return t((0,tO.Y4)(e,n))},viewer:n}),a=(0,tv.F)().checkExperiment;return(0,O.jsx)(x.Z,{pinId:r.id||"",orbacSubjectId:(0,eV.lJ)(n,(0,eH.Z)()),children:function(e){var t=e.pinResource,n=t&&t.data;return n&&(0,tg._J)(n.video_status)?(0,O.jsx)(ti,tE({pinKey:{type:"deprecated",data:n}},o)):(0,s.createElement)(tR,tE(tE({},o),{},{checkExperiment:a,currentHistoryStack:i,pinResource:t,key:r.id}))}})}},258140:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(76911),i=n(908390),o=n(52722),a=n(71052),l=n(860507),s=n(186986),u=n(692627),c=n(276602),d=n(271040),p=n(515198);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t,n,m,y,h=e.taggedProducts,g=e.pin,v=e.pinResource,b=e.topLevelTrafficSource,_=e.didShortClickThrough,x=e.firstLoadComplete,P=e.viewportSize,S=e.renderNotifModulesContent,j=e.renderRelatedModulesContent,w=e.renderBodyContent,O=e.onWrapperClick,A=e.beforeBodyContent,k=e.afterBodyContent,C=e.isVideoPin,D=(0,c.E)(),E=(0,l.Z)(),I=v.error,T=g||{},R=T.image_signature,F=T.story_pin_data_id,L=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!C))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),z=L[0],M=L[1];(0,r.useEffect)(function(){var e=z?null:setTimeout(function(){return M(!0)},1e3);return function(){return clearTimeout(e)}},[z]);var B=!!g.story_pin_data_id&&!1===g.should_open_in_stream;if(Object.keys(g).length,I)return(0,p.jsx)(d.Z,{});var N=!!F&&!B,Z=!g.is_promoted,U=z&&j(),K=z&&S&&S(),H=((h||[]).filter(function(e){return(0,s.Z)(e)})||[])[0],V=(0,u.Z)({hasPin:!!g,hasPinRichMetadata:!!(null!=g&&g.rich_metadata),hasPinRichMetadataProducts:!!(null!=g&&null!==(n=g.rich_metadata)&&void 0!==n&&n.products),hasPinRichMetadataArticle:!!(null!=g&&null!==(m=g.rich_metadata)&&void 0!==m&&m.article),hasPinRichMetadataRecipe:!!(null!=g&&null!==(y=g.rich_metadata)&&void 0!==y&&y.recipe),hasPinStoryPinData:!!(null!=g&&g.story_pin_data)});return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)("div",{className:"Closeup Module","data-test-id":x?"closeup-data-loaded":"",onClick:function(e){N||O(e),D&&(null==D||D.abort("closefakemodal"))},role:"presentation",style:{cursor:"zoom-out",display:"flex",width:"100%"},children:(0,p.jsxs)(i.kC,{alignItems:"stretch",direction:"row",justifyContent:"center",width:"100%",children:[A,w(),k,_&&!Z&&(0,p.jsx)(a.C,{})]})},"closeup-content"),(0,p.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[!E&&!N&&H&&"story"===H.type&&(0,p.jsx)(o.Z,{data:H,closeupImageSignature:R,pin:g,storyId:H.id,slotIndex:0,storyType:H.story_type,viewParameter:V,viewportSize:P,topLevelTrafficSource:b}),K,U]})]})}},360961:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(908390),i=n(898781),o=n(366428),a=n(515198);function l(e){var t=e.storyId,n=e.slotIndex,l=e.storyType,s=e.title,u=e.viewParameter,c=e.clientTrackingParams,d=(0,i.ZP)(),p=s||d._('More like this', 'closeup.relatedPins.header', 'text that shows more pins when you scroll down to related pins from a closeup'),f=(0,o.Z)({clientTrackingParams:c,componentType:200,contextLogData:{story_id:t,story_type:l},impressionType:"Story",loggingId:t,slotIndex:n,viewParameter:u,viewType:3});return(0,a.jsxs)(r.xu,{ref:f,justifyContent:"center",alignItems:"center",display:"flex",color:"default",direction:"column",paddingX:8,paddingY:3,marginBottom:1,children:[(0,a.jsx)(r.xu,{column:12,smColumn:8,justifyContent:"center",alignContent:"center",flex:"grow",display:"flex",children:(0,a.jsx)(r.X6,{align:"center",size:"400",children:p})}),(0,a.jsx)(r.xu,{smColumn:2,display:"none",smDisplay:"block"})]})}},438799:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(599689),i=n(908390),o=n(407043),a=n(940589),l=n(595371),s=n(796668),u=n(883851),c=n(515198);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=e.split(",");return t.length>0?t[0]:""};function f(e){var t,n=e.story,f=(0,o.v)().logContextEvent,m=(0,r.useHistory)(),y=n||{},h=y.custom_properties,g=y.objects,v=y.title,b=((h||{}).skin_tone_filter_list||{}).options,_=(v||{}).format,x=(((function(e){if(Array.isArray(e))return e}(t=g||[])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,1)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(t,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0]||{}).title||{}).format,P=void 0===x?"":x,S=function(e){f({event_type:101,component:13803,element:10418,view_type:3,aux_data:{entered_query:P,filter_type:"skin_tone",value:e}});var t=(0,a.Z)({query:P,rs:l.i.TYPED,scope:"pins",filters:e});m.push(t)};return(0,c.jsx)(i.xu,{marginTop:7,marginBottom:7,children:(0,c.jsxs)(i.kC,{alignItems:"center",direction:"column",gap:{row:0,column:3},children:[(0,c.jsx)(i.xv,{color:"default",overflow:"normal",weight:"bold",children:_}),(0,c.jsx)(i.kC,{flex:"none",gap:{row:1,column:0},children:(void 0===b?[]:b).map(function(e,t){var n=e.term;return(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 2px"}},children:(0,c.jsx)(u.Z,{colors:s.W[t],isSelected:!1,onClick:function(){return S(p(n))}})},n)})})]})})}},52722:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r=n(76911),i=n(506979),o=n(599689),a=n(908390),l=n(372169),s=n(368271),u=n(407043),c=n(356997),d=n(444445),p=n(558068),f=n(898781),m=n(564194),y=n(349700),h=n(773285),g=n(794230),v=n(19121),b=n(717615),_=n(231947),x=n(763917),P=n(96939),S=n(8742),j=n(316674),w=n(515198);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==O(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var I={sm:{maxPins:2,maxWidth:"488px"},md:{maxPins:3,maxWidth:"741px"},lg:{maxPins:4,maxWidth:"976px"}};function T(e){var t,O,k,E,T,R,F,L,z=e.closeupImageSignature,M=e.data,B=e.pin,N=e.slotIndex,Z=e.storyId,U=e.storyType,K=e.topLevelTrafficSource,H=e.viewParameter,V=e.viewportSize,G=(0,u.v)().logContextEvent,W=D((0,r.useState)(0),2),q=W[0],Y=W[1],X=(0,f.ZP)(),$=(0,v.Z)(),Q=(0,b.Z)(),J=(0,h.F)().checkExperiment,ee=(0,_.nl)($,Q)&&J("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled,et="enabled_full_width_story"===J("web_pdp_recommenders",{dangerouslySkipActivation:!0}).group;(0,r.useEffect)(function(){var e=function(){Y(window.innerWidth)};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}});var en=(0,p.aX)(),er=(0,i.useDispatch)(),ei=(0,o.useHistory)(),eo=ee&&(null==B?void 0:null===(k=B.pinner)||void 0===k?void 0:k.username)&&(0,_.Ms)($,Q)===((null===(E=B.link_domain)||void 0===E?void 0:null===(T=E.official_user)||void 0===T?void 0:T.username)||(null===(R=B.native_creator)||void 0===R?void 0:R.username)),ea=M.action,el=M.content_ids,es=M.objects,eu=M.subtitle,ec=M.title,ed=ea||{},ep=ed.user,ef=ed.url,em=ed.text,ey=ep||{},eh=ey.full_name,eg=ey.image_large_url,ev=ey.username,eb=(eu||{}).format,e_=void 0===eb?"":eb,ex=I[V].maxPins,eP=ef,eS=(0,x._)(en);if(eP&&(K||eS)){var ej=C(C({},K?{source:K}:Object.freeze({})),eS?{search_query:eS}:{});eP=(0,g.Z)(eP,ej)}if("related_domain_carousel"===U?F=13327:"shop_the_look_non_xy_coordinates"===U&&(F=13474),"related_domain_carousel"===U){var ew=eh||(null==ec?void 0:ec.format)||ev||"";L=(0,w.jsxs)(a.kC,{alignItems:"center",direction:"row",gap:{row:2,column:0},children:[eg&&et&&ev&&(0,w.jsx)(a.zd,{rounding:"circle",wash:!0,children:(0,w.jsx)(a.Tg,{href:"/".concat(ev,"/"),children:(0,w.jsx)(c.qE,{size:"sm",src:eg,name:ew})})}),(0,y.nk)(X._('More from {{ merchant }}', 'domain.module.header', 'header for the domain module'),{merchant:(0,w.jsx)(a.xu,{display:"inlineBlock","data-test-id":"merchant-name",children:(0,w.jsx)(a.X6,{size:"400",children:ew},ew)},ew)})]})}else"shop_the_look_non_xy_coordinates"===U&&(L=(ec||{}).format);var eO=(t=regeneratorRuntime.mark(function e(){var t,r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(13992).then(n.bind(n,513992)),n.e(38049).then(n.bind(n,474394))]);case 2:r=(t=D(e.sent,2))[0].default,o=(i=t[1]).setCloseupImageSignature,a=i.setPinBuilderEntryPoint,er(r(B)),G({event_type:101,element:12080,view_type:3,view_parameter:H,aux_data:C({image_signature:z,entry_point_source:"domain_module"},B?{pin_id:B.id}:{})}),ei.push({pathname:"/pin-builder/",state:{disableAddPinDraft:!0}}),er(a("domain_module")),er(o(z));case 13:case"end":return e.stop()}},e)}),O=function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(e){A(o,r,i,a,l,"next",e)}function l(e){A(o,r,i,a,l,"throw",e)}a(void 0)})},function(){return O.apply(this,arguments)}),eA=Math.floor(q/(16+l.jh))||I[V].maxPins,ek=et&&es?eA:ex,eC=es.filter(function(e){return(null==e?void 0:e.type)==="pin"}).length;return(0,w.jsx)(m.Z,{componentType:F,contextLogData:{content_ids:(el||[]).map(function(e){return"pin:".concat(e)}).join("|"),story_id:Z,story_type:U,image_signature:z},impressionType:"Story",loggingId:Z,slotIndex:N,viewParameter:H,viewType:3,children:(0,w.jsxs)(a.xu,{"data-test-id":"related-domain-carousel",display:"flex",direction:"column",justifyContent:"center",alignSelf:"center",maxWidth:et?void 0:I[V].maxWidth,alignItems:"center",children:[L&&(0,w.jsx)(a.xu,{display:"inlineBlock",marginTop:10,children:(0,w.jsx)(a.X6,{size:"400",children:L})}),eo&&(0,w.jsx)(a.xu,{display:"flex",flex:"shrink",marginTop:4,children:(0,w.jsx)(s.Z,{entryPoint:"domain_module",imageSignature:z,onClick:function(){eO()},pinId:null==B?void 0:B.id,viewParameter:H})}),!!e_&&(0,w.jsx)(a.xu,{marginTop:2,"data-test-id":"merchant-description",children:(0,w.jsx)(a.xv,{align:"center",children:e_})}),(0,w.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:!!es&&es.map(function(e,t){if(e&&"pin"===e.type&&t<ek+("shop_the_look_non_xy_coordinates"===U?0:1)){var n=et&&t===Math.min(eC,ek),r=(0,w.jsx)(S.ZP,{pin:e,pinId:e.id,authDesktopSurface:n?"ShoppingSquareGridDomainNoMetadata":"ShoppingSquareGridDomain",componentType:F,duploQueryRef:null,slotIndex:t,viewData:{story_id:Z,story_type:U},viewParameter:H,viewType:3});return(0,w.jsx)(a.xu,{marginEnd:t!==ek?2:void 0,marginTop:6,margin:l.iO,width:l.jh,children:et&&n&&ef?(0,w.jsx)(P.Z,{coverImages:e.images,height:d.yF,text:X._('See more', 'closeup.domainModule.seeMore', 'See more pins from this domain'),textType:"text",url:ef,width:d.yF},"actionBubble"):r},e.id)}return null})}),!!em&&!!ef&&eP&&!et&&(0,w.jsx)(a.xu,{marginTop:3,marginBottom:10,children:(0,w.jsx)(a.Tg,{href:eP,tabIndex:-1,children:(0,w.jsx)(a.zx,{fullWidth:!0,onClick:function(){"related_domain_carousel"===U&&(G({component:13882,element:11829,event_type:101,object_id_str:null==B?void 0:B.id,view_type:3,view_parameter:H}),G({aux_data:{commerce_data:JSON.stringify({pin_show_pdp:B&&!!B.is_eligible_for_pdp})},component:13680,event_type:101,object_id_str:null==B?void 0:B.id,view_type:3,view_parameter:H}),j.Z.DomainModule.trackSeeMoreClick({viewParameter:H},G)),"shop_the_look_non_xy_coordinates"===U&&G({event_type:101,component:11967,view_type:3,view_parameter:H,aux_data:{commerce_data:JSON.stringify({pin_is_shop_the_look:!0})}})},text:em})})})]})})}},326595:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(76911),i=n(908390),o=n(898781),a=n(515198);function l(e){var t=e.bold,n=e.color,l=void 0===n?"darkGray":n,s=e.iconSize,u=e.textSize,c=e.timeString,d=(0,o.ZP)();return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(i.xu,{marginEnd:1,children:(0,a.jsx)(i.JO,{accessibilityLabel:d._('clock', 'accessible label for clock icon on recipe rich pin', 'accessible label for clock icon on recipe rich pin'),color:l,icon:"clock",size:void 0===s?16:s})}),(0,a.jsx)(i.xv,{color:l,size:void 0===u?"200":u,weight:void 0===t||t?"bold":"normal",children:c})]})}},565212:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(76911),i=n(908390),o=n(288889),a=n(898781),l=n(854907),s=n(788645),u=n(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t=e.isDarkMode,n=e.onPress,r=e.testID,a=e.label;return(0,u.jsx)(i.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:t?"black":"white"}},"data-test-id":r,children:(0,u.jsx)(i.iP,{fullWidth:!1,onTap:n,children:(0,u.jsxs)(i.xv,{size:o.n,weight:"bold",children:["\xa0...\xa0",a]})})})}function y(e){var t,n=e.children,c=e.isDarkMode,d=e.descriptionDir,y=(0,r.useRef)(null),h=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)({isFirstLoad:!0,isTruncated:!1,showToggle:!1}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),g=h[0],v=h[1],b=g.isFirstLoad,_=g.isTruncated,x=g.showToggle,P=(0,a.ZP)();return(0,r.useEffect)(function(){if(b&&y.current){var e,t=(0,l.xW)(y.current),n=(e=y.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth;v({isTruncated:n,isFirstLoad:!1,showToggle:t>=3&&n})}},[b,_]),(0,u.jsx)(i.xu,{position:"relative","data-test-id":"truncated-description",flex:"grow",children:(0,u.jsx)(s.Z,{dir:d,children:(0,u.jsxs)(i.xv,{size:o.n,ref:y,lineClamp:b||_?3:0,align:"ltr"===d?"forceLeft":void 0,children:[n,x?(0,u.jsx)(r.Fragment,{children:_?(0,u.jsx)(i.xu,{position:"absolute",bottom:!0,right:!0,children:(0,u.jsx)(m,{label:P._('more', 'storyPin.previewText.more', 'Story pin preview more text truncation'),onPress:function(){return v(p(p({},g),{},{isTruncated:!1}))},testID:"more-description-container",isDarkMode:c})}):(0,u.jsx)(m,{label:P._('less', 'storyPin.previewText.less', 'Story pin preview less text truncation'),onPress:function(){return v(p(p({},g),{},{isTruncated:!0}))},testID:"less-description-container",isDarkMode:c})}):null]})})})}},561886:function(e,t,n){"use strict";function r(e){return!!e&&e.replaceAll(" ","").length>0}n.d(t,{Z:function(){return r}})},575576:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(515198),i={contentWrapper:{cursor:"auto"}},o=function(e){e.stopPropagation()};function a(e){var t=e.className,n=e.children;return(0,r.jsx)("div",{className:t,onClick:o,role:"presentation",style:i.contentWrapper,children:n})}},385646:function(e,t,n){"use strict";n.d(t,{f:function(){return l}});var r=n(908390),i=n(898781),o=n(985913),a=n(515198),l=function(e){return"".concat(e.substring(0,33)).concat(e.length>33?"...":"")};t.Z=function(e){var t=e.domain,n=e.fontSize,s=e.fullWidth,u=e.textNode,c=(0,i.ZP)(),d=(0,o.Z)(c._('Visit {{domain}}', 'Accessible label for clickthrough link button', 'Accessible label for clickthrough link button'),{domain:t});return(0,a.jsx)(r.xu,{"data-test-id":"link-icon-with-domain-styles-wrapper",color:"secondary",width:void 0===s||s?"100%":void 0,rounding:2,padding:2,children:(0,a.jsx)(r.st,{children:(0,a.jsxs)(r.xu,{"data-test-id":"link-icon-with-domain-styles",display:"flex",alignItems:"center",justifyContent:"start",padding:1,children:[(0,a.jsx)(r.xu,{paddingX:1,children:(0,a.jsx)(r.JO,{icon:"arrow-up-right",color:"default",inline:!0,accessibilityLabel:d,size:15})}),(0,a.jsx)(r.xu,{paddingX:1,children:u||(0,a.jsx)(r.xv,{inline:!0,size:void 0===n?"200":n,weight:"bold",children:l(t)})})]})})})}},537313:function(e,t,n){"use strict";n.d(t,{Wp:function(){return x},kC:function(){return S}});var r,i=n(76911);n(782296);var o=n(908390),a=n(385646),l=n(722767),s=n(701500),u=n(916117),c=n(898781),d=n(287072),p=n(814197),f=n(977558),m=n(515198);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=["actionBarHeight"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _=function(e){var t=e.children,n=e.isPulsarDisplayed,r=e.onCompleteClick,a=e.zIndex,l=e.onClick,u=e.to,c=e.pin,p=e.trackingParamsMap,f=(0,i.useRef)(null),y=(0,d.Z)({href:null!=u?u:"",target:"blank",externalData:{pin:c&&{attributionSourceId:c.attributionSourceId,board:c.board&&{url:c.board.url},campaignId:c.campaignId,entityId:c.entityId,isDownstreamPromotion:c.isDownstreamPromotion,isPromoted:c.isPromoted,pinner:c.pinner&&{username:c.pinner.username},pinPromotionId:c.pinPromotionId,promoter:c.promoter&&{entityId:c.promoter.entityId},storyPinDataId:c.storyPinDataId,trackingParams:c.trackingParams,trackingParamsMap:p,advertiserId:c.advertiserId}}});return(0,m.jsx)(s.Z,{anchor:".PinActionBar .website.pinActionBarButton, .linkModuleActionButton",anchorElementRef:f.current,isHidden:!n,onCompleteClick:r,zIndex:a,children:(0,m.jsx)(o.Tg,{fullWidth:!1,href:null!=u?u:"",onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),null==l||l(t),y({event:t})},ref:f,rel:"nofollow",children:(0,m.jsx)("div",{className:"linkModuleActionButton",children:t})})})},x=function(e){var t=e.carouselData,n=e.domain,r="",i=n||"";if(t){var o,a=t.carouselSlots,l=void 0===a?[]:a,s=null!==(o=t.index)&&void 0!==o?o:0;l&&l[s]&&(r=l[s].link||"",i=l[s].domain||i)}return{carouselLink:r,currentDomain:i}},P=function(e){var t=e.actionBarHeight,n=e.children,r=e.setPulsarVisibility;return(0,m.jsx)(l.Z,{onVisibilityChange:function(e){r(e.slice(-1)[0].isIntersecting)},options:{rootMargin:"-".concat(t+f.hu,"px 0px 0px 0px"),threshold:.75},children:n})},S=function(e){var t,i,l,s,d,p,f,y,h,g,v,b=(0,c.ZP)(),P=e.children,S=e.isPulsarDisplayed,j=e.onClickThrough,w=e.pinKey,O=e.showDomainInLink,A=e.trackingParamsMap,k=e.zIndex,C=(0,u.u)(void 0!==r?r:r=n(897840),w).data;if(!(C.link&&!C.link.startsWith("https://i.pinimg.com")))return null;var D=b._('Visit', 'Default pin link button text', 'Default pin link button text');!C.linkDomain||null!==(t=C.richMetadata)&&void 0!==t&&null!==(i=t.recipe)&&void 0!==i&&i.fromAggregatedData?D=C.link&&!C.link.startsWith("https://i.pinimg.com")?b._('Visit', 'Generalized pin link button text', 'Generalized pin link button text'):b._('Open', 'Button text for pin without link to view media', 'Button text for pin without link to view media'):null!==(l=C.richMetadata)&&void 0!==l&&l.products&&C.richMetadata.products.length>0?D=b._('Visit', 'Buyable pin link button text', 'Buyable pin link button text'):null!==(s=C.richMetadata)&&void 0!==s&&null!==(d=s.tutorial)&&void 0!==d&&d.name?D=b._('Visit', 'Make pin link button text', 'Make pin link button text'):null!==(p=C.richMetadata)&&void 0!==p&&null!==(f=p.recipe)&&void 0!==f&&f.name?D=b._('Make it', 'Recipe pin link button text', 'Recipe pin link button text'):null!==(y=C.richMetadata)&&void 0!==y&&null!==(h=y.article)&&void 0!==h&&h.name?D=b._('Read it', 'Article pin link button text', 'Article pin link button text'):C.link&&C.link.startsWith("https://i.pinimg.com")&&(D=b._('Open', 'Button text for pin without link to view media', 'Button text for pin without link to view media'));var E=x({carouselData:C.carouselData&&{carouselSlots:C.carouselData.carouselSlots&&C.carouselData.carouselSlots.map(function(e){return{domain:e.domain,link:e.link}}),index:null===(g=C.carouselData)||void 0===g?void 0:g.index},domain:C.domain}),I=E.carouselLink,T=E.currentDomain;return(0,m.jsx)(_,{onClick:j,to:I||C.link||(null===(v=C.imageSpec_orig)||void 0===v?void 0:v.url)||"",onCompleteClick:j,isPulsarDisplayed:S,zIndex:k,pin:C,trackingParamsMap:A,children:P||(O?(0,m.jsx)(a.Z,{domain:T}):(0,m.jsx)(o.zx,{fullWidth:!0,text:D,size:"md"}))})},j=function(e){var t,n=e.actionBarHeight,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,h),a=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],s=a[1];return(0,m.jsx)(o.xu,{width:"100%",children:(0,m.jsx)(P,{actionBarHeight:n||0,setPulsarVisibility:s,children:(0,m.jsx)(o.xu,{display:"inlineBlock",children:(0,m.jsx)(S,v({isPulsarDisplayed:l,zIndex:p.qW},r))})})})};t.ZP=function(e){return(0,m.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,m.jsx)(o.xu,{children:(0,m.jsx)(j,v({},e))})})}},709717:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(76911),i=n(668627),o=n(407043),a=n(692627),l=n(276602),s=n(784590),u=n(999018),c=n(50286),d=n(19121),p=n(387957);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){var t,n=e.segment;return null!==(t=p.GL.get(n))&&void 0!==t?t:new Set},y=function(e){var t,n=m({segment:e.segment});return new Set(((function(e){if(Array.isArray(e))return f(e)})(t=p.hO)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter(function(e){return!n.has(e)}))},h=function(){var e=(0,c.HG)(),t=(0,d.Z)().isAuth&&e,n=(0,l.E)();return n?function(e){"DEFAULT"!==e&&n.setSegment(e),t&&y({segment:e}).forEach(function(e){n.removeConstraint(e)})}:null};function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){var t=(0,o.v)().logContextEvent,n=(0,l.E)(),c=h(),d=(0,s.Z)({name:"PinResource",options:(0,i.Z)(e.pinId,e.orbacSubjectId,e.addFields)}),p=d.data,f=(0,u.Z)(null!=p?{type:"deprecated",data:p}:null);return(0,r.useEffect)(function(){if(p){var e,r,i,o=(0,a.Z)({hasPin:!!p,hasPinRichMetadata:!!p.rich_metadata,hasPinRichMetadataProducts:!!(null!==(e=p.rich_metadata)&&void 0!==e&&e.products),hasPinRichMetadataArticle:!!(null!==(r=p.rich_metadata)&&void 0!==r&&r.article),hasPinRichMetadataRecipe:!!(null!==(i=p.rich_metadata)&&void 0!==i&&i.recipe),hasPinStoryPinData:!!p.story_pin_data});t({event_type:7408,view_parameter:o,object_id_str:p.id,view_type:3,view_data:{pin_id:p.id,closeup_rich_types:p.shopping_flags||[]},aux_data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},f())}),p.aggregated_pin_data&&(p.aggregated_pin_data.is_shop_the_look||p.aggregated_pin_data.is_stela)&&t({event_type:7579,view_parameter:o,object_id_str:p.id,view_type:3,aux_data:{commerce_data:JSON.stringify({pin_is_shop_the_look:p.aggregated_pin_data.is_shop_the_look,pin_is_stela:p.aggregated_pin_data.is_stela})}}),n&&n.markConstraintComplete("resource"),c&&c(p.is_eligible_for_pdp?p.is_eligible_for_pdp_plus?"product_detail_page_plus":"product_detail_page":p.story_pin_data_id?"story_pin":"DEFAULT")}},[p,f]),e.children({pinResource:d})}},319247:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t){switch(t.type){case"gallerySelect":return{shopping:t.select};case"pinLoaded":var n=e.myTry?{}:{myTry:{isDoneByMe:t.pin.done_by_me}};return o(o({pin:t.pin},n),{},{firstLoadComplete:!0});case"tryChange":return{myTry:{isDoneByMe:t.isDoneByMe}};default:throw"impossible"}}n.d(t,{Z:function(){return a}})},71052:function(e,t,n){"use strict";var r=n(76911),i=n(908390),o=n(898781),a=n(92261),l=n(814197),s=n(977558),u=n(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var b=s.hu+a.Ie+76,_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(a,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=h(a);if(t){var r=h(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(y(e=o.call.apply(o,[this].concat(n))),"state",{showRelatedPinsUpsellFlyout:!1}),g(y(e),"componentDidMount",function(){e.handleDidShortClickThrough(),window.addEventListener("scroll",e.hideFlyout)}),g(y(e),"componentWillUnmount",function(){window.removeEventListener("scroll",e.hideFlyout)}),g(y(e),"hideFlyout",function(){e.setState({showRelatedPinsUpsellFlyout:!1})}),g(y(e),"handleDidShortClickThrough",function(){e.scrollToAnchor(),window.setTimeout(function(){e.setState({showRelatedPinsUpsellFlyout:!0})},100)}),g(y(e),"scrollToAnchor",function(){e.anchorRef&&(e.anchorRef.scrollIntoView(!0),window.scrollBy(0,-b))}),g(y(e),"setAnchorRef",function(t){e.anchorRef=t}),g(y(e),"render",function(){return(0,u.jsx)(i.xu,{ref:e.setAnchorRef,children:e.state.showRelatedPinsUpsellFlyout&&(0,u.jsx)(i.xu,{zIndex:new i.Ry(l.lJ),position:"absolute",top:!0,column:12,children:(0,u.jsx)(i.Li,{anchor:e.anchorRef,idealDirection:"up",onDismiss:e.hideFlyout,message:e.props.i18n._('Not into this Pin? See more ideas below', 'Shows in a flyout message to upsell related pins to users', 'Shows in a flyout message to upsell related pins to users')})})})}),e}return n&&f(a.prototype,n),r&&f(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);t.C=function(e){var t=(0,o.ZP)();return(0,u.jsx)(_,p(p({},e),{},{i18n:t}))}},280348:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(76911),i=n(908390),o=n(238464),a=n(407043),l=n(898781),s=n(428258),u=n(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(l,e);var t,n,r,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=h(l);if(t){var r=h(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(y(e=a.call.apply(a,[this].concat(n))),"startAudiblePlayTime",e.props.muted?null:new Date),e}return n=[{key:"componentDidUpdate",value:function(e){e.muted!==this.props.muted&&(this.startAudiblePlayTime=this.props.muted?null:new Date)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.musicRecordingId,n=e.muted,r=e.pinId,i=e.video;if(t&&!n&&this.startAudiblePlayTime&&new Date-this.startAudiblePlayTime>=2e3){var o,a,l,u,c,d,p,f=(0,s.ZP)({vEXP3:null===(o=i.video_list)||void 0===o?void 0:o.V_EXP3,vEXP4:null===(a=i.video_list)||void 0===a?void 0:a.V_EXP4,vEXP5:null===(l=i.video_list)||void 0===l?void 0:l.V_EXP5,vEXP6:null===(u=i.video_list)||void 0===u?void 0:u.V_EXP6,vEXP7:null===(c=i.video_list)||void 0===c?void 0:c.V_EXP7,v720P:null===(d=i.video_list)||void 0===d?void 0:d.V_720P,vHLSV3MOBILE:null===(p=i.video_list)||void 0===p?void 0:p.V_HLSV3_MOBILE})||{},m=f.hlsv3,y=f.mp4||m,h=(null==y?void 0:y.duration)||0;this.props.logContextEvent({event_type:8999,object_id_str:t,aux_data:{pin_id:r,story_pin_music_duration:h}})}}},{key:"render",value:function(){var e,t,n,r,a,l,c,d,p=this.props,f=p.activePageIndex,m=p.blockHeight,y=p.blockWidth,h=p.closeupStoryPinViewability,g=p.customEndCard,v=p.isPlaying,b=p.muted,_=p.onEnded,x=p.onUpdateVideoInfo,P=p.pageIndex,S=p.pinId,j=p.roundCorners,w=p.video,O=p.videoThumbnailStartTime,A=null!==(e=(0,s.ZP)({vEXP3:null===(t=w.video_list)||void 0===t?void 0:t.V_EXP3,vEXP4:null===(n=w.video_list)||void 0===n?void 0:n.V_EXP4,vEXP5:null===(r=w.video_list)||void 0===r?void 0:r.V_EXP5,vEXP6:null===(a=w.video_list)||void 0===a?void 0:a.V_EXP6,vEXP7:null===(l=w.video_list)||void 0===l?void 0:l.V_EXP7,v720P:null===(c=w.video_list)||void 0===c?void 0:c.V_720P,vHLSV3MOBILE:null===(d=w.video_list)||void 0===d?void 0:d.V_HLSV3_MOBILE}))&&void 0!==e?e:{},k=A.hlsv3,C=A.mp4,D=C||k;if(!D)return null;var E=D.height,I=D.thumbnail,T=D.width,R=(null!=T?T:1)/(null!=E?E:1),F={height:"100%",left:"0",top:"0",width:"100%"},L=y/m;if(Math.abs(L-R)>.01){if(L<R){var z=100*R/L;F.width="".concat(z,"%"),F.left="-".concat((z-100)/2,"%")}else if(L>R){var M=100*L/R;F.height="".concat(M,"%"),F.top="-".concat((M-100)/2,"%")}}var B="number"==typeof f&&P<=f+3;return(0,u.jsx)(i.xu,{height:m,overflow:"hidden",position:"relative",width:y,children:(0,u.jsx)(i.xu,{height:"100%",position:"absolute",width:"100%",children:B||v||O?(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:F},position:"absolute",children:(0,u.jsx)(o.Z,{loop:!1,autoplay:v,closeupStoryPinViewability:h,contextLogData:{component:0===P?227:228,element:10957,objectId:S,story_pin_page_id:P,view:3,viewParameter:157},customThumbnail:I,customEndCard:g,isPromoted:!1,muted:b,pinId:S,showControls:"never",variant:"storyPin",preferMp4:!!C,objectFit:C?"cover":void 0,roundingOverride:void 0===j||j?null:0,video:{id:w.id,hlsv3:k,mp4:C},onTimeChange:function(e){var t=e.time;x&&"number"==typeof D.duration&&D.duration>0&&x({currentTime:t,duration:D.duration/1e3})},onEnded:function(){_&&_(P)},videoThumbnailStartTime:O})}):(0,u.jsx)(i.Ee,{alt:this.props.i18n._('Video cover image', 'closeup.storyPin.videoCover', 'cover image displayed for a video'),fit:"cover",naturalHeight:null!=E?E:1,naturalWidth:null!=T?T:1,src:null!=I?I:""})})})}}],f(l.prototype,n),r&&f(l,r),Object.defineProperty(l,"prototype",{writable:!1}),l}(r.PureComponent);function _(e){var t=(0,a.v)().logContextEvent,n=(0,l.ZP)();return(0,u.jsx)(b,p(p({},e),{},{i18n:n,logContextEvent:t}))}},386352:function(e,t,n){"use strict";n.d(t,{_B:function(){return en},Xw:function(){return er},tD:function(){return ei},ZP:function(){return es}}),n(704217);var r,i,o=n(908390),a=n(599689),l=n(407043),s=n(784590),u=n(252417),c=n(515198),d=function(e){var t=e.block,n=t.block_style,r=(n=void 0===n?{}:n).height,i=n.width,d=n.x_coord,p=n.y_coord,f=n.rotation,m=t.original_comment_id,y=e.pageAspectRatio,h=e.scaleFactor,g=(0,l.v)().logContextEvent,v=en/y,b=(0,a.useHistory)(),_=(0,s.Z)({name:"AggregatedCommentResource",options:{commentId:m,field_set_key:"comment_reply_sticker"}}).data;return(0,c.jsx)(o.xu,{display:"flex",dangerouslySetInlineStyle:{__style:{left:(void 0===d?0:d)*en*h/100,top:(void 0===p?0:p)*v*h/100,transform:"rotate(".concat(void 0===f?0:f,"deg)")}},height:(void 0===r?0:r)*v*h/100,position:"absolute",width:(void 0===i?0:i)*en*h/100,rounding:2,zIndex:u.B5,padding:1,margin:-1,children:(0,c.jsx)(o.iP,{onTap:function(){g({event_type:102,view_type:1,component:227,element:12541,aux_data:{comment_id:m}}),null!=_&&_.pin_id&&b.push("/pin/".concat(_.pin_id,"/comments/").concat(m||""))},rounding:"pill"})})},p=n(523657),f=n(902355);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=["src","fallbackSrc"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e){var t=e.src,n=e.fallbackSrc,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,y),i=(0,f.Z)(t);return(0,c.jsx)(p.Z,g(g({},r),{},{src:i?t:n}))}var b=n(506979);function _(e){var t=e.isUseCache,n=e.signature;return(0,b.useSelector)(function(e){var r=e.pinbuilder.storyPinItemBlocks;if(!t)return null;for(var i=0,o=Object.keys(r);i<o.length;i++){var a,l,s=o[i];if((null===(a=r[s].media)||void 0===a?void 0:a.signatureEdited)===n||(null===(l=r[s].media)||void 0===l?void 0:l.signature)===n)return r[s]}return null})}var x=n(76911),P=n(964569),S=n(237056),j=n(121151),w=n(898781),O=n(664569);function A(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t,n=e.aggregatedCommentId,r=e.onDismiss,i=(0,w.ZP)(),a=(0,S.Z)(),l=(0,P.Z)(),s=function(e){if(Array.isArray(e))return e}(t=(0,x.useState)(""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=s[0],d=s[1],p=(0,c.jsx)(o.kC,{justifyContent:"end",children:(0,c.jsx)(o.zx,{color:"red",disabled:!u,onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({fromUnifiedComment:!0,objectType:O.o.aggregatedComment,objectId:n,tags:"[]",text:u});case 2:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){A(o,r,i,a,l,"next",e)}function l(e){A(o,r,i,a,l,"throw",e)}a(void 0)})})(),r()},text:i._('Post', 'ideapin.questionsticker.replymodal.postbutton', 'Post reply to creator Q&A question')})});return(0,c.jsx)(j.ZP,{accessibilityModalLabel:"reply to creator Q and A question",align:"start",footer:p,heading:i._('Reply', 'ideapin.questionsticker.replymodal', 'Reply to creator Q&A question'),onDismiss:r,children:(0,c.jsx)(o.xu,{paddingX:8,paddingY:1,children:(0,c.jsx)(o.Kx,{id:"ideaPinQuestionStickerReplyModalTextArea",onChange:function(e){d(e.value)},placeholder:a?i._('Your reply will show up as a public comment on this Pin.', 'pin.questionsticker.replymodal.placeholder', 'Placeholder for creator Q&A reply textarea'):i._('Your reply will show up as a public comment on this Idea Pin.', 'ideapin.questionsticker.replymodal.placeholder', 'Placeholder for creator Q&A reply textarea'),value:u})})})},D=n(356997),E=n(916117),I=n(349700),T=n(773285),R=n(224496),F=n(148028);function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var M=void 0!==r?r:r=n(884884);function B(e){var t,n=e.block,r=e.elementType,i=e.onFlyoutOpen,d=e.pageAspectRatio,p=e.pageIndex,f=e.pinKey,m=e.scaleFactor,y=e.tooltipElementType,h=e.videoPinProgress,g=(0,l.v)().logContextEvent,v=L((0,x.useState)(!1),2),b=v[0],_=v[1],P=L((0,x.useState)(!1),2),S=P[0],j=P[1],O=(0,x.useRef)(null),A=(0,a.useHistory)(),k=(0,w.ZP)(),z=(0,E.u)(M,f).data,B=(0,T.F)().checkExperiment,N=n.block_style,Z=(N=void 0===N?{}:N).height,U=N.width,K=N.x_coord,H=N.y_coord,V=N.rotation,G=n.end_time,W=n.error_message,q=n.interactive_sticker_type,Y=void 0===q?null:q,X=n.is_removed,$=n.is_valid,Q=n.start_time,J=n.sticker_data,ee=n.type,et=null==z?void 0:z.entityId,eo=J||{},ea=eo.board_id,el=eo.question_comment_id,es=null!==(t=n.user)&&void 0!==t?t:{},eu=es.image_small_url,ec=es.full_name,ed=es.username,ep=null,ef=$&&5===Y&&!!ea,em=$&&7===Y&&!!el,ey=(0,s.Z)(ea&&ef?{name:"BoardResource",options:{field_set_key:"tagged_board_preview",board_id:ea}}:null),eh=ey.data||{},eg=eh.is_collaborative,ev=eh.pin_count,eb=eh.url;ee===R.h8.PRODUCT_STICKER?ep=et?"/pin/".concat(et,"/"):"/":ee===R.h8.MENTION_STICKER?ep="/".concat(void 0===ed?"":ed,"/"):ef&&(ep=ey.isLoaded?"".concat(eb):null);var e_=en/d,ex=(h||{}).currentTime,eP=!(0,F.Z)({currentTime:ex,endTime:G,startTime:Q}),eS=function(){g({event_type:123,component:228,element:y,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:p}}),_(!1)},ej=function(e){var t=e.event;g({event_type:120,component:228,element:y,view_type:3,view_parameter:157,aux_data:{error_message:!$&&W?W:null,story_pin_page_id:p}}),_(!0),i&&(t.stopPropagation(),i())};(0,x.useEffect)(function(){return document.addEventListener("scroll",function(){_(!1)}),function(){return document.removeEventListener("scroll",function(){_(!1)})}},[]);var ew=function(){var e=null;switch(ee){case R.h8.PRODUCT_STICKER:var t=z||{},n=t.gridTitle,r=t.imageSpec_236x,i=t.richSummary,a=t.description,l=i||{},s=l.displayName,u=((l.products||[])[0]||{}).offerSummary||{},d=u||{},p=d.price,f=d.maxPrice,m=s||n||a;e=(0,c.jsxs)(x.Fragment,{children:[(0,c.jsx)(o.xu,{flex:"none",children:(0,c.jsx)(o.zd,{wash:!0,height:40,width:40,rounding:3,children:(0,c.jsx)(o.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:(null==r?void 0:r.url)||""})})}),(0,c.jsx)(o.xu,{flex:"grow",paddingX:2,children:u&&(p||f)?(0,c.jsxs)(o.kC,{alignContent:"center",alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"center",children:[(0,c.jsx)(o.xv,{size:"100",lineClamp:1,weight:"bold",color:"shopping",children:p}),(0,c.jsx)(o.xv,{size:"100",lineClamp:1,children:m})]}):(0,c.jsx)(o.xv,{size:"100",lineClamp:1,children:m})}),(0,c.jsx)(o.xu,{flex:"none",children:(0,c.jsx)(o.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case R.h8.MENTION_STICKER:e=(0,c.jsxs)(x.Fragment,{children:[(0,c.jsx)(o.xu,{flex:"none",children:(0,c.jsx)(D.qE,{size:"sm",name:null!=ec?ec:"",src:null!=eu?eu:void 0})}),(0,c.jsx)(o.xu,{flex:"grow",paddingX:2,children:(0,c.jsx)(o.xv,{weight:"bold",size:"200",lineClamp:1,children:ec})}),(0,c.jsx)(o.xu,{flex:"none",children:(0,c.jsx)(o.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case R.h8.GENERIC_STICKER:e=[5].includes(Y)?$?ey.isLoaded?(0,c.jsxs)(x.Fragment,{children:[(0,c.jsxs)(o.xu,{flex:"grow",paddingX:2,children:[(0,c.jsx)(o.xv,{weight:"bold",size:"100",lineClamp:1,children:eg?k._('Explore this group board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when group board tag flyout showing'):k._('Explore this board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when board tag flyout showing')}),(0,c.jsx)(o.xv,{size:"100",children:(!!ev||0===ev)&&(0,I.nk)(k.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', ev, 'closeup.StoryPin.stickerBlock.boardSticker.boardLabel', 'Caption when board tag flyout that showing number of Pins on board'),{pinCount:ev})})]}),(0,c.jsx)(o.xu,{flex:"none",children:(0,c.jsx)(o.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]}):(0,c.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingY:2,children:[(0,c.jsx)(o.xu,{marginEnd:1,paddingX:2,children:(0,c.jsx)(o.xv,{color:"subtle",size:"100",lineClamp:1,children:k._('Loading board...', 'closeup.StoryPin.stickerBlock.boardSticker.loadingText', 'Label explaining board sticker still loading')})}),(0,c.jsx)(o.$j,{accessibilityLabel:k._('Board is loading', 'closeup.StoryPin.stickerBlock.boardSticker.loadingSpinnerText', 'Accessibility label for board loading spinner'),size:"sm",show:!0})]}):(0,c.jsx)(o.xu,{paddingX:2,paddingY:2,children:(0,c.jsx)(o.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:W})}):(0,c.jsx)(o.xu,{paddingX:2,paddingY:2,children:(0,c.jsx)(o.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:k._('Sticker not supported yet', 'closeup.StoryPin.stickerBlock.genericStickerError', 'Label explaining this sticker has not been implemented yet')})});break;case R.h8.VTO_MAKEUP_STICKER:e=(0,c.jsx)(o.xv,{weight:"bold",size:"300",children:k._('Try this sticker on your phone!', 'closeup.storyPin.vtoMakeupSticker', 'Caption when @vitural-try-on-makeup tag is tapped for Web')})}return(0,c.jsx)(o.xu,{alignItems:"center","data-test-id":ee,display:"flex",justifyContent:"center",padding:ee===R.h8.PRODUCT_STICKER?1:3,width:"100%",children:X?(0,c.jsx)(o.xv,{color:"subtle",weight:"bold",size:"200",children:k._('Tag removed!', 'closeup.storyPin.stickerBlock', 'Caption when the tag is removed')}):e})};return(0,c.jsx)(x.Fragment,{children:eP?null:(0,c.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{left:(void 0===K?0:K)*en*m/100,top:(void 0===H?0:H)*e_*m/100,transform:"rotate(".concat(void 0===V?0:V,"deg)")}},"data-test-id":(ee||"")+"_container",display:"flex",height:(void 0===Z?0:Z)*e_*m/100+2*er,margin:-1,padding:1,position:"absolute",ref:O,rounding:2,width:(void 0===U?0:U)*en*m/100+2*er,zIndex:u.B5,children:[(0,c.jsx)(o.iP,{onTap:b?eS:function(e){var t=e.event;!eP&&(g({event_type:101,component:228,element:r,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:p}}),em?B("web_question_sticker_display").anyEnabled&&j(!0):ej({event:t}))},rounding:"pill",disabled:eP}),b&&(0,c.jsx)(o.mh,{zIndex:ei,children:(0,c.jsx)(o.J2,{anchor:O.current,idealDirection:"up",onDismiss:eS,positionRelativeToAnchor:!1,_deprecatedShowCaret:!0,size:X?"flexible":"sm",children:X?ew():(0,c.jsx)(o.iP,{onTap:function(e){e.event.preventDefault(),X||(g({event_type:101,component:228,element:y,object_id_str:et,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:p}}),ep?A.push(ep):eS())},fullWidth:!0,children:ew()})})}),!!el&&S&&(0,c.jsx)(C,{aggregatedCommentId:el,onDismiss:function(){j(!1)}})]})})}var N=n(775151),Z=n(296342),U=n(854907),K=n(829084);function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function G(e){var t=e.block,n=e.fontsLoaded,r=e.pageAspectRatio,i=e.scaleFactor,a=e.thumbnail,l=t.block_style,s=t.style,u=void 0===s?R.Cc:s,d=t.text,p=u.alignment,f=u.font,m=u.font_size,y=u.highlight_color,h=u.vertical_alignment,g=void 0===h?R.Cc.vertical_alignment:h,v=(null!=u?u:{}).hex_color,b=void 0===v?R.Cc.hex_color:v,_=H((0,x.useState)(0),2),P=_[0],S=_[1],j=H((0,x.useState)([]),2),w=j[0],O=j[1],A=f||R.Cc.font,k=A.name,C=A.default_size,D=A.letter_spacing,E=A.line_height,I=(0,K.Z)(A),T=Math.round(100*((null==l?void 0:l.width)||100))/1e4,F=Math.round(100*((null==l?void 0:l.height)||100))/1e4,L=Math.round(100*((null==l?void 0:l.x_coord)||0))/1e4,z=Math.round(100*((null==l?void 0:l.y_coord)||0))/1e4;(0,x.useEffect)(function(){if(n){var e=(0,U.KV)({text:d,boxHeight:Z.U*F,boxWidth:Z.q8*T,font:I,startFontSize:Math.floor(m||C||24)});O(e.lines),S(e.fontSize)}},[n,d]);var M=P*i,B=y?(0,R.pE)(M,E):{x:0,y:0},V=T*Z.q8*i+2*B.x,G=F*Z.U*i+2*B.y,W=L*Z.q8*i-B.x,q=a?"".concat(100*z,"%"):z*(Z.q8/r)*i-B.y;return(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:W,top:q}},display:"flex",height:G,position:"absolute",width:V,children:(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:(0,N.RK)({alignment:p,verticalAlignment:g})},children:(0,c.jsx)(o.xu,{display:"inlineBlock",maxWidth:"100%",children:(0,c.jsx)("p",{style:(0,N.BN)({fontSize:M,hexColor:b,letterSpacing:D,lineHeight:E,name:k}),children:w.map(function(e,t){return(0,c.jsx)("span",{style:(0,N.xm)({fontSize:M,hasText:e.text.length>0,highlightColor:y||null,lineHeight:E}),children:t===w.length-1?e.text:(0,c.jsxs)(x.Fragment,{children:[e.text," ",(0,c.jsx)("br",{})]})},"paragraphLine-".concat(t,"-").concat((null!=d?d:"").substr(0,9)))})})})})})}var W=n(280348),q=n(19121);function Y(e){var t=e.ownerId,n=(0,w.ZP)(),r=(0,q.Z)(),i=r.isAuth&&r.id===t;return(0,c.jsxs)(o.xu,{alignItems:"center",color:"tertiary",direction:"column",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:[(0,c.jsx)(o.xv,{color:"inverse",children:i?n._('Your video is processing!', 'closeup.storyPin.videoPlaceholder', 'Let user know that their video is still processing'):n._('This video is still processing!', 'closeup.storyPin.videoPlaceholder', 'Let user know that this video is still processing')}),(0,c.jsx)(o.xv,{color:"inverse",children:n._('Check back in a few minutes.', 'closeup.storyPin.videoPlaceholder', 'Let user know to come back in a couple of minutes to view the video')})]})}var X=n(276602),$=n(47168),Q=n(387957);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==J(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==J(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===J(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var en=375,er=4,ei=new o.Ry(3);function eo(e){var t,n,r,i,o,a,l,s,u,d,f,m,y=e.block,h=e.isActive,g=e.pwtTrackImageLoad,b=e.thumbnail,x=(0,w.ZP)(),P=(null===(t=y.image)||void 0===t?void 0:null===(n=t.images)||void 0===n?void 0:n["750x"])||(null===(r=y.image)||void 0===r?void 0:null===(i=r.images)||void 0===i?void 0:i["474x"]),S=_({isUseCache:!0,signature:y.image_signature});if(!P&&!S)return null;var j=b?"cover":"none";return S?(0,c.jsx)(v,{alt:x._('Story pin image', 'closeup.storypin.renderer', 'Alt text for story pin image'),fallbackSrc:null!==(o=null===(a=S.media)||void 0===a?void 0:a.src)&&void 0!==o?o:"",isActive:h,naturalHeight:null!==(l=null==P?void 0:P.height)&&void 0!==l?l:1,naturalWidth:null!==(s=null==P?void 0:P.width)&&void 0!==s?s:1,src:null!==(u=null==P?void 0:P.url)&&void 0!==u?u:"",onLoad:g,fit:j}):(0,c.jsx)(p.Z,{alt:x._('Story pin image', 'closeup.storypin.renderer', 'Alt text for story pin image'),isActive:h,naturalHeight:null!==(d=null==P?void 0:P.height)&&void 0!==d?d:1,naturalWidth:null!==(f=null==P?void 0:P.width)&&void 0!==f?f:1,src:null!==(m=null==P?void 0:P.url)&&void 0!==m?m:"",onLoad:g,fit:j})}function ea(e){var t,n,r=e.activePageIndex,i=e.block,a=e.closeupStoryPinViewability,l=e.customEndCard,s=e.isActive,u=e.isSplitLayout,d=e.musicRecordingId,p=e.muted,f=e.onEnded,m=e.onUpdateVideoInfo,y=e.ownerId,h=e.pageAspectRatio,g=e.pageDimensions,v=e.pageIndex,b=e.pinId,x=e.scaleFactor,P=e.stillLoading,S=e.videoThumbnailStartTime,j=e.thumbnail,w=void 0!==j&&j,O=i.block_style,A=(O=void 0===O?{}:O).height,k=void 0===A?100:A,C=O.width,D=void 0===C?100:C,E=O.x_coord,I=void 0===E?0:E,T=O.y_coord,R=void 0===T?0:T,F=i.video,L=en/h,z=g.height,M=g.width,B=D*en*x/100,N=k*L*x/100,Z=(k<100?Math.min(Math.max(100,k)-Math.abs(R),k):Math.min(Math.max(k-Math.abs(R),0),100))*L*x/100,U=(D<100?Math.min(Math.max(100,D)-Math.abs(I),D):Math.min(Math.max(D-Math.abs(I),0),100))*en*x/100,K=Math.max(R,0)*L*x/100,H=Math.max(I,0)*en*x/100,V=_({isUseCache:!F,signature:i.video_signature});if(P)return null;var G=(V||{}).media||{},q=G.duration,X=G.src,$=!!X&&!!q;return F||$?!!((null==F?void 0:null===(t=F.video_list)||void 0===t?void 0:t.V_HLSV3_MOBILE)||(null==F?void 0:null===(n=F.video_list)||void 0===n?void 0:n.V_720P)||$)&&(0,c.jsx)(o.xu,{height:void 0!==u&&u?"50%":"100%",overflow:"hidden",position:"relative",children:(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:H,top:K}},height:w?z:Z,overflow:"hidden",position:"absolute",width:w?M:U,children:(0,c.jsx)(W.Z,{activePageIndex:r,blockHeight:w?z:N,blockWidth:w?M:B,closeupStoryPinViewability:a,customEndCard:l,isPlaying:s,musicRecordingId:d,muted:p,onEnded:f,onUpdateVideoInfo:m,pageIndex:v,pinId:b,roundCorners:N>=z&&B>=M,video:F||{video_list:{V_EXP7:{duration:q?1e3*q:0,url:X}}},videoThumbnailStartTime:S})})}):(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:H,top:K}},height:Z,position:"absolute",width:U,children:(0,c.jsx)(Y,{ownerId:y})})}var el=void 0!==i?i:i=n(360980);function es(e){var t,n=e.activePageIndex,r=e.block,i=e.closeupStoryPinViewability,a=e.customEndCard,l=e.disableProductStickers,s=e.fontsLoaded,u=e.isActive,p=e.isSplitLayout,f=e.musicRecordingId,m=e.muteVideos,y=e.onEnded,h=e.onFlyoutOpen,g=e.onImageLoaded,v=e.onUpdateVideoInfo,b=e.ownerId,_=e.pageAspectRatio,x=e.pageHeight,P=e.pageIndex,S=e.pageWidth,j=e.pinId,w=e.previewOnly,O=e.pinKey,A=e.stillLoading,k=e.thumbnail,C=void 0!==k&&k,D=e.transform,I=e.videoPinProgress,T=e.videoThumbnailStartTime,F=(0,E.u)(el,O).data,L=r.block_style,z=(L=void 0===L?{}:L).height,M=void 0===z?100:z,N=L.width,Z=void 0===N?100:N,U=L.x_coord,K=L.y_coord,H=r.interactive_sticker_type,V=(0,$.g)(),W=(0,X.E)();if(0===M||0===Z)return null;var q=S/en;switch(r.type){case R.h8.PARAGRAPH:case R.h8.HEADING:return(0,c.jsx)(G,{block:r,fontsLoaded:s,scaleFactor:q,pageAspectRatio:_,thumbnail:C});case R.h8.VIDEO:return(0,c.jsx)(ea,{activePageIndex:n,block:r,closeupStoryPinViewability:i,customEndCard:a,isActive:u,isSplitLayout:void 0!==p&&p,musicRecordingId:f,muted:m,onEnded:y,onUpdateVideoInfo:v,ownerId:b,pageAspectRatio:_,pageDimensions:{height:x,width:S},pageIndex:P,pinId:j,scaleFactor:q,stillLoading:void 0!==A&&A,videoThumbnailStartTime:T,thumbnail:C});case R.h8.IMAGE:var Y=D||{},J=Y.scaleX,ee=Y.scaleY;return(0,c.jsx)(o.xu,{overflow:"hidden",position:"absolute",dangerouslySetInlineStyle:{__style:{height:"".concat(M,"%"),left:"".concat((void 0===U?0:U)*(void 0===J?1:J),"%"),top:"".concat((void 0===K?0:K)*(void 0===ee?1:ee),"%"),width:"".concat(Z,"%")}},children:(0,c.jsx)(eo,{block:r,isActive:u,pwtTrackImageLoad:function(){V&&u&&(V.addBinaryAnnotation("pin.id",j,"STRING"),V.addBinaryAnnotation("video",!1,"BOOL"),V.stop()),W&&u&&(W.addBinaryAnnotation("pin.id",j,"STRING"),W.addBinaryAnnotation("video",!1,"BOOL"),W.removeConstraint(Q._z),W.markConstraintComplete(Q.pM)),g&&g()},thumbnail:C})});case R.h8.MENTION_STICKER:return!w&&(0,c.jsx)(B,{block:et({},r),elementType:12120,onFlyoutOpen:h,pageAspectRatio:_,pageIndex:P,scaleFactor:q,tooltipElementType:12121,videoPinProgress:I,pinKey:null});case R.h8.GENERIC_STICKER:return!w&&(t=5===(void 0===H?null:H),(0,c.jsx)(B,{block:et({},r),elementType:t?12827:12858,onFlyoutOpen:h,pageIndex:P,pageAspectRatio:_,scaleFactor:q,tooltipElementType:t?12828:12859,videoPinProgress:I,pinKey:null}));case R.h8.PRODUCT_STICKER:return!w&&!l&&(0,c.jsx)(B,{block:et({},r),elementType:12223,onFlyoutOpen:h,pageAspectRatio:_,pageIndex:P,pinKey:F,scaleFactor:q,tooltipElementType:12224,videoPinProgress:I});case R.h8.VTO_MAKEUP_STICKER:return!w&&(0,c.jsx)(B,{block:et({},r),elementType:12561,onFlyoutOpen:h,pageAspectRatio:_,pageIndex:P,pinKey:null,scaleFactor:q,tooltipElementType:12561,videoPinProgress:I});case R.h8.COMMENT_REPLY_STICKER:return r.type===R.h8.COMMENT_REPLY_STICKER&&!w&&(0,c.jsx)(d,{block:r,scaleFactor:q,pageAspectRatio:_});default:return null}}},233316:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(224496),i=[r.h8.COMMENT_REPLY_STICKER,r.h8.GENERIC_STICKER,r.h8.HEADING,r.h8.IMAGE,r.h8.MENTION_STICKER,r.h8.PARAGRAPH,r.h8.PRODUCT_STICKER,r.h8.VIDEO,r.h8.VTO_MAKEUP_STICKER];function o(e){var t=e.storyPinBlocks,n=e.blocksToRender,o=void 0===n?i:n,a=[],l=[],s=[];return(void 0===t?[]:t).forEach(function(e){o.includes(e.type)?e.type===r.h8.PARAGRAPH||e.type===r.h8.HEADING?l.push(e):s.push(e):a.push(e)}),s.push.apply(s,l),{nonRenderableBlocks:a,textBlocks:l,blocks:s}}},801827:function(e,t,n){"use strict";n.d(t,{A:function(){return m},r:function(){return g}});var r,i=n(76911);n(704217);var o=n(425288),a=n(357998),l=n(623568),s=n(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=void 0!==r?r:r=n(732993),f=function(e){var t,n,r,i,o,a;return{embed:e.embed&&{src:e.embed.src,subtype:e.embed.subtype,type:e.embed.type},imageSpec_236x:(null===(t=e.images)||void 0===t?void 0:t["236x"])&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width},imageSpec_474x:(null===(n=e.images)||void 0===n?void 0:n["474x"])&&{height:e.images["474x"].height,url:e.images["474x"].url,width:e.images["474x"].width},imageSpec_564x:(null===(r=e.images)||void 0===r?void 0:r["564x"])&&{height:e.images["564x"].height,url:e.images["564x"].url,width:e.images["564x"].width},imageSpec_736x:(null===(i=e.images)||void 0===i?void 0:i["736x"])&&{height:e.images["736x"].height,url:e.images["736x"].url,width:e.images["736x"].width},imageSpec_orig:(null===(o=e.images)||void 0===o?void 0:o.orig)&&{height:e.images.orig.height,url:e.images.orig.url,width:e.images.orig.width},videos:e.videos&&{entityId:null!==(a=e.videos.id)&&void 0!==a?a:"",videoList:e.videos.video_list&&{v720P:e.videos.video_list.V_720P&&{duration:e.videos.video_list.V_720P.duration,height:e.videos.video_list.V_720P.height,thumbnail:e.videos.video_list.V_720P.thumbnail,url:e.videos.video_list.V_720P.url,width:e.videos.video_list.V_720P.width,captionsUrls:e.videos.video_list.V_720P.captions_urls},vHLSV3MOBILE:e.videos.video_list.V_HLSV3_MOBILE&&{duration:e.videos.video_list.V_HLSV3_MOBILE.duration,height:e.videos.video_list.V_HLSV3_MOBILE.height,thumbnail:e.videos.video_list.V_HLSV3_MOBILE.thumbnail,url:e.videos.video_list.V_HLSV3_MOBILE.url,width:e.videos.video_list.V_HLSV3_MOBILE.width,captionsUrls:e.videos.video_list.V_HLSV3_MOBILE.captions_urls},vHLSV4:e.videos.video_list.V_HLSV4&&{duration:e.videos.video_list.V_HLSV4.duration,height:e.videos.video_list.V_HLSV4.height,thumbnail:e.videos.video_list.V_HLSV4.thumbnail,url:e.videos.video_list.V_HLSV4.url,width:e.videos.video_list.V_HLSV4.width,captionsUrls:e.videos.video_list.V_HLSV4.captions_urls}}}}},m=function(e){var t,n,r,o,u,c,m,y,g,v,b,_,x,P,S,j,w,O,A,k,C,D,E,I,T,R,F,L,z,M,B,N,Z=e.children,U=e.pinKey,K=e.overrideValue,H=void 0===K?{}:K,V=(0,a.Q)(p,U,{useLegacyAdapter:f}).data,G=null==V?void 0:V.videos,W=null==V?void 0:V.embed,q=(0,i.useMemo)(function(){var e,t;return null!=G&&null!==(e=G.videoList)&&void 0!==e&&null!==(t=e.v720P)&&void 0!==t&&t.url?{duration:G.videoList.v720P.duration||void 0,height:G.videoList.v720P.height||void 0,thumbnail:G.videoList.v720P.thumbnail||void 0,url:G.videoList.v720P.url||void 0,width:G.videoList.v720P.width||void 0,captions_urls:G.videoList.v720P.captionsUrls||void 0}:void 0},[null==G?void 0:null===(t=G.videoList)||void 0===t?void 0:null===(n=t.v720P)||void 0===n?void 0:n.duration,null==G?void 0:null===(r=G.videoList)||void 0===r?void 0:null===(o=r.v720P)||void 0===o?void 0:o.height,null==G?void 0:null===(u=G.videoList)||void 0===u?void 0:null===(c=u.v720P)||void 0===c?void 0:c.thumbnail,null==G?void 0:null===(m=G.videoList)||void 0===m?void 0:null===(y=m.v720P)||void 0===y?void 0:y.url,null==G?void 0:null===(g=G.videoList)||void 0===g?void 0:null===(v=g.v720P)||void 0===v?void 0:v.width,null==G?void 0:null===(b=G.videoList)||void 0===b?void 0:null===(_=b.v720P)||void 0===_?void 0:_.captionsUrls]),Y=(0,i.useMemo)(function(){var e,t;return null!=G&&null!==(e=G.videoList)&&void 0!==e&&null!==(t=e.vHLSV4)&&void 0!==t&&t.url?{duration:G.videoList.vHLSV4.duration||void 0,height:G.videoList.vHLSV4.height||void 0,thumbnail:G.videoList.vHLSV4.thumbnail||void 0,url:G.videoList.vHLSV4.url||void 0,width:G.videoList.vHLSV4.width||void 0}:void 0},[null==G?void 0:null===(x=G.videoList)||void 0===x?void 0:null===(P=x.vHLSV4)||void 0===P?void 0:P.duration,null==G?void 0:null===(S=G.videoList)||void 0===S?void 0:null===(j=S.vHLSV4)||void 0===j?void 0:j.height,null==G?void 0:null===(w=G.videoList)||void 0===w?void 0:null===(O=w.vHLSV4)||void 0===O?void 0:O.thumbnail,null==G?void 0:null===(A=G.videoList)||void 0===A?void 0:null===(k=A.vHLSV4)||void 0===k?void 0:k.url,null==G?void 0:null===(C=G.videoList)||void 0===C?void 0:null===(D=C.vHLSV4)||void 0===D?void 0:D.width]),X=(0,i.useMemo)(function(){var e,t;return null!=G&&null!==(e=G.videoList)&&void 0!==e&&null!==(t=e.vHLSV3MOBILE)&&void 0!==t&&t.url?{duration:G.videoList.vHLSV3MOBILE.duration||void 0,height:G.videoList.vHLSV3MOBILE.height||void 0,thumbnail:G.videoList.vHLSV3MOBILE.thumbnail||void 0,url:G.videoList.vHLSV3MOBILE.url||void 0,width:G.videoList.vHLSV3MOBILE.width||void 0}:void 0},[null==G?void 0:null===(E=G.videoList)||void 0===E?void 0:null===(I=E.vHLSV3MOBILE)||void 0===I?void 0:I.duration,null==G?void 0:null===(T=G.videoList)||void 0===T?void 0:null===(R=T.vHLSV3MOBILE)||void 0===R?void 0:R.height,null==G?void 0:null===(F=G.videoList)||void 0===F?void 0:null===(L=F.vHLSV3MOBILE)||void 0===L?void 0:L.thumbnail,null==G?void 0:null===(z=G.videoList)||void 0===z?void 0:null===(M=z.vHLSV3MOBILE)||void 0===M?void 0:M.url,null==G?void 0:null===(B=G.videoList)||void 0===B?void 0:null===(N=B.vHLSV3MOBILE)||void 0===N?void 0:N.width]),$=(0,i.useMemo)(function(){var e=q||Y||X;return null!=G&&G.entityId&&e?{id:G.entityId,hasVideo:e,mp4:q||void 0,hls:Y||void 0,hlsv3:X||void 0}:null},[Y,X,q,null==G?void 0:G.entityId]),Q=null==W?void 0:W.src,J=(null==W?void 0:W.subtype)==="pinstory",ee=(0,l.sY)(null==W?void 0:W.type),et=(null==V?void 0:V.imageSpec_564x)||(null==V?void 0:V.imageSpec_736x)||(null==V?void 0:V.imageSpec_orig)||(null==V?void 0:V.imageSpec_474x)||(null==V?void 0:V.imageSpec_236x),en=null==V?void 0:V.imageSpec_236x,er=(0,i.useMemo)(function(){var e=d({mainImage:{height:(null==et?void 0:et.height)||"",url:(null==et?void 0:et.url)||1,width:(null==et?void 0:et.width)||1},previewImage:null!=en&&en.url?{height:en.height,url:en.url,width:en.width}:void 0},H);return d({embed:W,isEmbeddedVideo:!!Q&&!ee&&!J,video:$,imgSrc:ee&&null!=W&&W.src?W.src:e.mainImage.url,isGif:ee},e)},[W,Q,ee,J,null==et?void 0:et.height,null==et?void 0:et.url,null==et?void 0:et.width,H,null==en?void 0:en.height,null==en?void 0:en.url,null==en?void 0:en.width,$]);return(0,s.jsx)(h,{value:er,children:Z})},y=(0,o.Z)("PageHeader"),h=y.Provider,g=y.useHook},860507:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(773285);function i(){return["employees","enabled"].includes((0,(0,r.F)().checkExperiment)("web_product_tagging_on_shopping_module",{dangerouslySkipActivation:!0}).group)}},737930:function(e,t,n){"use strict";function r(){return["aggregatedpindata.aggregated_stats","aggregatedpindata.creator_analytics","aggregatedpindata.id","aggregatedpindata.is_shop_the_look","aggregatedpindata.pin_tags","board.collaborated_by_me","board.followed_by_me","board.id","board.image_thumbnail_url","board.is_collaborative","board.layout","board.name","board.owner()","board.privacy","board.type","board.url","buyableproductmetadata.display_active_max_price","buyableproductmetadata.display_active_min_price","buyableproductmetadata.short_description","buyableproductmetadata.title","comment.commenter()","comment.created_at","comment.deletable_by_me","comment.id","comment.text","comment.type","pin.access","pin.ad_destination_url","pin.ad_match_reason","pin.additional_hide_reasons","pin.aggregated_pin_data()","pin.alt_text","pin.attribution","pin.board()","pin.carousel_data()","pin.comment_count","pin.comments(limit:5,resume:true)","pin.created_at","pin.creator_analytics","pin.debug_info_html","pin.description","pin.description_html","pin.domain","pin.dominant_color","pin.embed","pin.grid_description","pin.grid_title","pin.has_required_attribution_provider","pin.id","pin.image_crop","pin.image_signature","pin.images[170x,136x136,236x,474x,736x,orig]","pin.is_downstream_promotion","pin.is_eligible_for_web_closeup","pin.is_native","pin.is_playable","pin.is_promoted","pin.is_quick_promotable","pin.is_repin","pin.is_uploaded","pin.is_video","pin.is_whitelisted_for_tried_it","pin.link","pin.manual_interest_tags","pin.method","pin.native_creator()","pin.pinner()","pin.price_currency","pin.price_value","pin.privacy","pin.promoted_is_removable","pin.promoter()","pin.reaction_counts","pin.repin_count","pin.rich_summary()","pin.shopping_flags","pin.sponsorship","pin.story_pin_data()","pin.story_pin_data_id","pin.title","pin.tracking_params","pin.type","pin.videos()","pin.view_tags","pincarouselslot.details","pincarouselslot.id","pincarouselslot.images[60x60,136x136,170x,236x,474x,564x,736x,600x315,orig]","pincarouselslot.link","pincarouselslot.title","user.blocked_by_me","user.explicitly_followed_by_me","user.full_name","user.id","user.image_large_url","user.image_small_url","user.type","user.username","video.id","video.video_list[V_HLSV4,V_HLSV3_WEB,V_HLSV3_MOBILE,V_EXP3,V_EXP4,V_EXP5,V_EXP6,V_EXP7]","pintag.pins()","pintag.type","pintag.pin_tag_key","pintag.x_percent","pintag.y_percent","pin.rich_summary()","pin.grid_title","pin.image_square_url","pin.images[236x]","pin.id","pin.is_eligible_for_pdp","pin.link_domain()","domain.official_user()","user.is_verified_merchant","user.verified_identity","pin.promoted_lead_form"]}n.d(t,{Z:function(){return r}})},385937:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(826067),i=/^\/pin\/(.*[^\/])\/$/,o={"/":"feed_home","/homefeed":"feed_home","/pin/:id":"pin","/pin/:id/comments":"pin","/pin/:id/activity/tried":"pin","/pin/:id/activity/comments":"pin","/pin/:id/visual-search":"flashlight","/discover/article/:id":"explore_article","/discover/article/:title/:id":"explore_article","/topics/:interest":"feed_interest","/categories/:interest":"feed_category","/news_hub/:id":"notifications","/explore/:interest":"seo_auth","/search/:scope":"search","/following":"feed_following","/:username/pins":"user_pins","/:username/tried":"user_tries","/:username/:slug":"board","/:username/:slug/edit":"board","/:username/:slug/invite":"board","/:username/:slug/:section_slug":"board","/story_feed":"shop_feed"};function a(e,t){for(var n,a,l=["pin"],s=[],u=1,c="unknown",d="unknown",p=!0,f=e.length-1;f>0;f-=1){var m=function(e,t){if(t<=0)return"unknown";var n,i,a=e[t-1],l=(null==a?void 0:null===(n=a.match)||void 0===n?void 0:n.path)||"",s=["stela","stl"].includes((0,r.mB)(null==a?void 0:null===(i=a.location)||void 0===i?void 0:i.search).surfaceType);return l&&"/pin/:id/visual-search"===l&&s?"shop_feed":l?o[l]||"unknown":"feed_home"}(e,f);l.splice(0,0,m),p&&("pin"===(c=m)?u+=1:p=!1)}for(var y=e.length-2;y>=0;y-=1){var h,g,v=((null===(h=e[y])||void 0===h?void 0:null===(g=h.location)||void 0===g?void 0:g.pathname)||"").match(i);if(v&&2===v.length)s.splice(0,0,v[1].split("/")[0]);else break}return 1===l.length?(d="deep_linking",c="deep_linking"):(d=l[l.length-2],"pin"===c&&(c="deep_linking")),"seo_auth"!==d||t||(d="seo_unauth"),"seo_auth"!==c||t||(c="seo_unauth"),("search"===d||"search"===c)&&e.length>=u+1&&"/search/buyable_pins/"===((null===(n=e[e.length-u-1])||void 0===n?void 0:null===(a=n.location)||void 0===a?void 0:a.pathname)||"")&&(c="shop_feed","search"===d&&(d="shop_feed")),{trafficSource:d,topLevelTrafficSource:c,topLevelTrafficSourceDepth:u,contextPinIds:s}}},668627:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.Z=function(e,t,i){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach(function(t){var r,o;r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({id:e,field_set_key:"auth_web_main_pin",add_fields:i?i.join(","):void 0,client_tracking_params:void 0,noCache:!0,fetch_visual_search_objects:!0},t?{orbac_subject_id:t}:Object.freeze({}))}},517082:function(e,t,n){"use strict";var r=n(76911),i=n(186656);function o(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t,n=e.pinId,l=e.shouldRenderShuffle,s=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=s[0],c=s[1];return(0,r.useEffect)(function(){if(l){var e,t;(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)({url:"/v3/pins/".concat(n,"/"),data:{fields:["pin.shuffle()","shuffle.{id,items,effect_data}","shuffleitem.{id,item_type,text,offset,scale,rotation,effect_data,mask,shuffle_asset,images[750x,750x(heic)]}"]}});case 2:c(e.sent.resource_response.data.shuffle);case 4:case"end":return e.stop()}},e)}),t=function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function l(e){o(a,r,i,l,s,"next",e)}function s(e){o(a,r,i,l,s,"throw",e)}l(void 0)})},function(){return t.apply(this,arguments)})()}},[n,l]),u}},664633:function(e,t,n){"use strict";var r=n(773285),i=n(780280),o=n(50286);t.Z=function(){var e=(0,i.B)().isAuthenticated,t=(0,o.HG)(),n=(0,r.F)().checkExperiment,a="unauth_web_shuffle_renderer_closeup";return e&&(a=t?"auth_dweb_shuffle_renderer_closeup":"auth_mweb_shuffle_renderer_closeup"),n(a).anyEnabled}},608440:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(834911),i=n(359969),o=n(559073);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=function(e){var t,n,i,a,l=s(s({},e.pin),e.pinResource.data),u=(0,r.Z)({carouselData:l.carousel_data,images:l.images,product:null===(t=l.rich_metadata||l.rich_summary)||void 0===t?void 0:null===(n=t.products)||void 0===n?void 0:n[0]});return{availableWidthForContentOnRight:!1,backButtonLabelFitInScreen:null,closeupBodyContainerHeight:0,closeupContainerHeight:0,firstLoadComplete:!1,didLongClickThrough:!1,didPinClickThrough:!1,didShortClickThrough:!1,didMountAfterSavePlacement:!1,hideBackButton:!1,isCommentSectionOpen:!0,isCloseupMaximized:!1,isOverRelatedPins:null,isRelatedInterestsBannerDismissed:!1,intervalId:null,landOnCurrentPage:!1,loginModalOptions:null,modalOpen:!1,myTry:e.pin?{isDoneByMe:!!e.pin.done_by_me}:null,newshubCloseupCapBackButtonCount:0,passScrollThreshold:!1,pin:l,pinId:e.pinId,quickPromoteModalTriggered:!1,relatedPinsUpsellShown:!1,showBackButton:!0,showProductDetailPage:!!l.is_eligible_for_pdp,shopping:{catalogId:-1,variantId:void 0},viewportSize:"lg",visualState:{carouselData:u&&s(s({},u),{},{index:(null===(i=e.pin.carousel_data)||void 0===i?void 0:i.index)||0}),mainImage:e.mainImage,previewImage:(0,o.Yf)(null===(a=l.images)||void 0===a?void 0:a["236x"])},v1DeprecationModalDismissed:!1}};function c(e){var t=e.pin,n=e.pinId,r=e.pinResource,o=(0,i.Z)({pinKey:{type:"deprecated",data:t}}).getMainPinImage;return u({pin:t,pinId:n,pinResource:r,mainImage:o()})}},128503:function(e,t,n){"use strict";var r=n(450053),i=n(784450);t.Z=(0,i.Z)(12,function(e,t){var n,i;return{pin_id:e.pinId,email_id:e.emailId,did_long_clickthrough:t.didLongClickThrough||!1,did_pin_clickthrough:t.didPinClickThrough||!1,did_repin:t.didRepin||!1,is_own_or_group_pin:t.is_own_or_group_pin||!1,login_page_type:t.loginPageType||"unknown",scroll_to_threshold:t.scrollToThreshold,pin_image_signature:t.pin_image_signature,is_creator_card_shown:!!(0,r.nU)(e.pin),creator_username:null===(n=e.pin)||void 0===n?void 0:null===(i=n.closeup_attribution)||void 0===i?void 0:i.full_name}})},485710:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(76911),i=n(908390),o=n(237693),a=n(773285),l=n(780280),s=n(50286),u=n(515198);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e){var t,n=e.children,d=e.displayViewState,p=e.forceTappableHeader,f=e.headerPaddingRight,m=e.headerPreview,y=e.heading,h=e.collapseByDefault,g=(0,s.ml)(),v=(0,a.F)().checkExperiment,b=(0,l.B)(),_=b.isAuthenticated,x=b.isBot,P=g&&v(_?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").group||"",S=["no_collapse_by_default","collapse_by_default"].includes(P),j="collapse_by_default"===P,w=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(S&&!x&&j&&(void 0===h||h)||[1,2].includes(d)))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),O=w[0],A=w[1];return(0,u.jsxs)(i.kC,{direction:"column",dataTestId:"collapsible-layout",gap:S?4:0,children:[(0,u.jsx)(o.Z,{collapsed:O,displayViewState:d,forceTappableHeader:p,headerPaddingRight:f,headerPreview:m,heading:y,onClick:function(){A(!O)},showArrow:!0}),!O&&(0,u.jsx)(i.xu,{children:n})]})}},288889:function(e,t,n){"use strict";n.d(t,{n:function(){return r}});var r="300"},319530:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(76911),i=n(908390),o=n(288889),a=n(643010),l=n(898781),s=n(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t,n=e.children,u=e.maxLines,c=(0,r.useRef)(null),f=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)({isFirstLoad:!0,isTruncated:!1}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=f[0],y=f[1],h=(0,l.ZP)(),g=(0,a.vs)()?"#111":"#fff",v=m.isFirstLoad,b=m.isTruncated;return(0,r.useEffect)(function(){var e;v&&c.current&&((e=c.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&y({isFirstLoad:!1,isTruncated:!0})},[v,b]),(0,s.jsxs)(i.xu,{position:"relative","data-test-id":"truncated-text",children:[(0,s.jsx)(i.xv,{ref:c,lineClamp:v||b?void 0===u?10:u:0,inline:!0,children:n}),b&&(0,s.jsx)(i.xu,{position:"absolute",display:"block",width:"100%",bottom:!0,children:(0,s.jsxs)(i.kC,{flex:"grow",children:[(0,s.jsx)(i.xu,{display:"inlineBlock",width:"120px",height:"14px"}),(0,s.jsx)(i.xu,{"data-test-id":"more-button",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{paddingLeft:15,background:"linear-gradient(90deg, transparent 0%, ".concat(g," 15%)")}},children:(0,s.jsx)(i.iP,{fullWidth:!1,onTap:function(){return y(d(d({},m),{},{isTruncated:!1}))},children:(0,s.jsx)(i.xv,{inline:!0,size:o.n,weight:"bold",children:h._(' \u2026 more', 'closeup.TruncatedTextContent.moreLabel', 'Expand content label')})})}),(0,s.jsx)(i.xu,{display:"inlineBlock",flex:"grow",dangerouslySetInlineStyle:{__style:{background:g}}})]})})]})}},509278:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(908390),i=n(515198),o=/#(?:[0-9A-Z_a-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*/g;function a(e){var t=e.isHashtagInDescriptionDisplayEnabled;return e.text.split(new RegExp(/(#\S*)/)).map(function(e,n){var a="".concat(n,"-").concat(e);return(t?e.match(o):e.includes("#"))?(0,i.jsx)(r.xv,{size:"300",color:"link",inline:!0,children:(0,i.jsx)(r.rU,{underline:"none",display:"inline",href:"/search/pins/?q=".concat(encodeURIComponent(e.replace("#",""))),children:e})},a):(0,i.jsx)("span",{children:e},a)})}},516514:function(e,t,n){"use strict";n(704217);var r,i=n(827896),o=n(407043),a=n(357998),l=n(623568),s=n(999018);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=void 0!==r?r:r=n(924080),f=function(e){return{}};t.Z=function(e){var t=e.pinKey,n=e.pinId,r=e.viewParameter,u=e.trafficSource,c=(0,i.Z)(),m=(0,o.v)().logContextEvent,y=(0,a.Q)(p,t,{useLegacyAdapter:f}).childDataKey__DEPRECATED,h=(0,s.Z)(y);return function(){var e=h();m({event_type:12,object_id_str:n,view_type:3,component:85,view_parameter:r,aux_data:d({},e)}),m({event_type:8948,clientTrackingParams:c(n,{shouldTrackForPrevLocation:!0}),view_type:3,view_parameter:r,component:85,object_id_str:n,aux_data:d({click_type:"clickthrough",closeup_navigation_type:u&&(0,l.sV)(u)?"deeplink":"click"},e)})}}},237056:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(773285),i=n(50286),o=n(19121),a=n(717615),l=n(231947),s=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function u(e){var t=(0,i.HG)(),n=(0,r.F)().checkExperiment,u=(0,a.Z)(),c=(0,o.Z)(),d=(0,l.lJ)(c,u),p=s[t?"dweb":"mweb"];return e&&!d&&(n("sce_lightswitch_organic"),n("sce_lightswitch_monetized")),!d&&(n(p.organic).anyEnabled||n(p.monetized).anyEnabled)}},440455:function(e,t,n){"use strict";var r=n(288889),i=n(748373),o=n(515198);t.Z=function(e){var t=e.description,n=e.userMentionTags;return(0,o.jsx)(i.Z,{description:t,mentionLinkColor:"link",shouldAdjustOffset:!0,shouldMakeHashtagLinksFromText:!0,textSize:r.n,userMentionTags:n})}},748373:function(e,t,n){"use strict";var r=n(76911),i=n(908390),o=n(509278),a=n(407043),l=n(773285),s=n(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){return null!=e&&e>-1},m=function(e,t){var n=t.substr(0,e);return(null!=e?e:0)-(n.length-n.replace(/\s+/g," ").length)},y=function(e){var t=e.color,n=e.mention,r=e.tagObjectId,o=e.tagType,l=e.textSize,u=(0,a.v)().logContextEvent;return(0,s.jsx)(i.rU,{underline:"none",href:"/".concat(n.substr(1)),display:"inlineBlock",onClick:function(e){e.event.stopPropagation(),u({event_type:101,element:11915,aux_data:{tag_id:r,tag_type:o}})},children:(0,s.jsx)(i.xv,{size:l,color:t,inline:!0,weight:"bold",overflow:"normal",children:n})},r)};t.Z=function(e){var t=e.description,n=e.mentionLinkColor,a=e.shouldAdjustOffset,u=e.shouldMakeHashtagLinksFromText,c=e.textSize,h=e.userMentionTags,g=(0,(0,l.F)().checkExperiment)("web_hashtags_in_description_display").anyEnabled;if(0===h.length)return(0,s.jsx)(r.Fragment,{children:t});var v=0,b=[];return((function(e){if(Array.isArray(e))return p(e)})(h)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(h)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(h)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){var n;return a?d(d({},e),{},{offset:m(null!==(n=e.offset)&&void 0!==n?n:0,t)}):e}).sort(function(e,t){var n,r;return(null!==(n=e.offset)&&void 0!==n?n:0)-(null!==(r=t.offset)&&void 0!==r?r:0)}).filter(function(e){return f(e.offset)&&f(e.length)}).forEach(function(e){var r,i,o=null!==(r=e.offset)&&void 0!==r?r:0,a=null!==(i=e.length)&&void 0!==i?i:0,l=t.substr(v,o-v),u=t.substr(o,a);b.push(l),b.push((0,s.jsx)(y,{color:n,mention:u,tagObjectId:e.objectId,tagType:e.tagType,textSize:c})),v=o+a}),b.push(t.substr(v)),(u?b.flatMap(function(e){return"string"!=typeof e?e:(0,o.Z)({isHashtagInDescriptionDisplayEnabled:g,text:e})}):b).reduce(function(e,t){return(0,s.jsxs)(i.xv,{size:c,inline:!0,children:[e,t]})},null)}},175892:function(e,t,n){"use strict";n.d(t,{Z:function(){return H}});var r=n(599689),i=n(908390),o=n(407043),a=n(704115),l=n(829407),s=n(76911),u=n(898781),c=n(390598),d=n(214494),p=n(186656),f=n(121151),m=n(499128),y=n(897243),h=n(349700),g=n(784590),v=n(343341),b=n(19121),_=n(487392),x=n(400264),P=n(833991),S=n(977558),j=n(35066),w=n(970023),O=n(515198);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var C=new i.H3([new i.Ry(P.HW),new i.Ry(S.fe)]);function D(e){var t=e.onFileUpload,n=(0,u.ZP)(),r=A((0,s.useState)(!1),2),o=r[0],a=r[1],l=(0,s.useRef)(null),c=n._('Upload from computer', 'ProductGroupDetailsModal.uploadFromComputer', 'Dropdown label to upload image file from your computer');return(0,O.jsxs)(i.kC,{justifyContent:"center",children:[(0,O.jsx)(i.hU,{accessibilityExpanded:o,accessibilityHaspopup:!0,accessibilityLabel:n._('Upload product group cover image menu', 'ProductGroupDetailsModal.productGroupCoverImageA11y', 'Accessibility text for upload menu'),bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:function(){return a(function(e){return!e})},ref:l,size:"lg"}),o&&(0,O.jsx)(i.Lt,{anchor:l.current,id:"product-group-image-dropdown",onDismiss:function(){return a(!1)},disableMobileUI:!0,children:(0,O.jsx)(i.Lt.Item,{onSelect:function(){a(!1),t()},option:{value:c,label:c}})})]})}function E(e){var t=e.image,n=e.onFileUpload,r=e.onError,o=(0,u.ZP)(),a=o._('Product Group Cover Image', 'ProductGroupDetailsModal.productGroupCoverImageAlt', 'Alt text for product group cover image');return(0,O.jsxs)(i.xu,{position:"relative",children:[(0,O.jsx)(i.xu,{height:316,width:316,rounding:5,overflow:"hidden",children:(0,O.jsx)(i.Ee,{alt:a,color:"#EFEFEF",fit:"cover",naturalHeight:1,naturalWidth:1,src:t,onError:r})}),(0,O.jsx)(i.xu,{position:"absolute",top:!0,right:!0,padding:4,children:(0,O.jsx)(D,{onFileUpload:n})})]})}function I(e){var t,n,r,a=e.onDismiss,l=e.onSubmit,c=e.productGroup,P=(0,o.v)().logContextEvent,S=(0,u.ZP)(),k=S._('Edit product group display', 'ProductGroupDetailsModal.heading', 'Modal title'),D=(0,b.Z)().id||"",I="/v3/business/users/".concat(D,"/storefront/product_group_image/"),T=A((0,s.useState)(""),2),R=T[0],F=T[1],L=A((0,s.useState)(""),2),z=L[0],M=L[1],B=A((0,s.useState)(),2),N=B[0],Z=B[1],U=A((0,s.useState)(),2),K=U[0],H=U[1],V=A((0,s.useState)(!1),2),G=V[0],W=V[1],q=A((0,s.useState)(0),2),Y=q[0],X=q[1],$=A((0,s.useState)(new Date().getTime()),1)[0],Q=c.groupType!==w.yh,J=(0,_.Z)(),ee=J.merchantId,et=J.advertiserId,en=(0,v.F9)().showOneToast,er=(0,j.S)().updateStorefrontLastUpdated,ei=(0,x.Ib)({advertiserId:et,merchantId:ee,productGroupsIds:[c.entityId],uniq:$},!1,!0),eo=(0,g.Z)({name:"ApiResource",options:{url:I,data:{product_group_ids:[c.entityId]},uniq:$},noCache:!0}),ea=(0,s.useRef)(),el=Number(c.entityId),es=null===(t=ei.data)||void 0===t?void 0:t.find(function(e){return e.id===el}),eu=ei.isLoaded&&eo.isLoaded,ec=es&&(R!==es.name||z!==(es.description||"")||!!N),ed=es&&R!==es.name,ep=es&&z!==(es.description||""),ef=eu&&(((null===(n=eo.data)||void 0===n?void 0:n[c.entityId])||{})[0]||{}),em=ef?(0,w.cB)((0,y.b)(ef)):null,ey=(null===(r=c.previewPins)||void 0===r?void 0:r[0])||{},eh=ey.imageSignature,eg=ey.images&&(0,w.cB)(ey.images),ev=K||[em,eg].filter(function(e){return!!e})[Y];(0,s.useEffect)(function(){es&&(F(es.name||""),M(es.description||""))},[es]),(0,s.useEffect)(function(){P({event_type:9854,component:13998})},[P]);var eb=function(){a(),P({event_type:9856,component:13998})},e_=S._('Save', 'ProductGroupDetailsModal.SaveBtn', 'Button to save product group details changes'),ex=S._('Cancel', 'ProductGroupDetailsModal.CancelBtn', 'Button to cancel product group details changes');return(0,O.jsx)(i.mh,{zIndex:C,children:(0,O.jsx)(f.ZP,{accessibilityModalLabel:k,align:"center",heading:k,onDismiss:eb,footer:eu?(0,O.jsxs)(i.kC,{alignItems:"start",children:[(0,O.jsx)(i.xu,{width:"50%",children:(0,O.jsx)(i.xv,{size:"300",children:(0,h.nk)(S._('To edit items in this product group, visit {{catalogsLink}}', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form'),{catalogsLink:(0,O.jsx)(i.rU,{href:"/product-catalogs",display:"inlineBlock",target:"blank",underline:"hover",children:(0,O.jsx)(i.xv,{weight:"bold",inline:!0,children:S._('Pinterest Catalogs', 'ProductGroupDetailsModal.catalogsLink', 'link for catalogs')})},"product-catalogs-link")})})}),(0,O.jsx)(i.xu,{width:"50%",children:(0,O.jsxs)(i.kC,{gap:{row:2,column:0},alignItems:"center",justifyContent:"end",children:[(0,O.jsx)(i.zx,{color:"gray",text:ex,onClick:eb}),(0,O.jsx)(i.zx,{color:"red",text:e_,onClick:function(){var e=em?N:N||eh,t=[],n=[];e&&(t.push((0,p.Z)({url:I,method:"PUT",data:{image_signatures:[e],product_group_id:c.entityId}})),n.push("cover_image")),(ed||ep)&&(t.push(d.Z.create("ProductGroupsResource",{name:R,description:z,productGroupId:Number(c.entityId),filters:null==es?void 0:es.filter_v2}).callUpdate()),ed&&n.push("name"),ep&&n.push("description")),P({event_type:9857,component:13998,aux_data:{product_group_modal_changes:n.join(",")}}),a(),Promise.all(t).then(function(){l(),er(new Date().getTime()),en(function(e){var t=e.hideToast;return(0,O.jsx)("div",{className:"ProductGroupSavedToast",children:(0,O.jsx)(m.ZP,{duration:w.QE,onHide:t,text:S._('Product group saved', 'MerchantStorefront.ProductGroupDetailsModal.pgSaved', 'toast text')})})})})},disabled:!ec})]})})]},"product-group-details-footer"):(0,O.jsx)(s.Fragment,{}),size:Q?"md":"sm",children:(0,O.jsx)(i.xu,{paddingX:8,marginBottom:2,children:eu?(0,O.jsxs)(i.kC,{justifyContent:"center",children:[(0,O.jsxs)(i.xu,{width:320,children:[(0,O.jsx)(i.xu,{marginBottom:4,children:(0,O.jsx)(i.xv,{size:"300",weight:"bold",children:S._('Cover image', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form')})}),(0,O.jsx)("input",{accept:"image/*","data-test-id":"cover-image",id:"product-group-image-upload",onChange:function(e){if(e.target instanceof HTMLInputElement){var t=e.target.files[0],n=new FileReader;t&&n.readAsDataURL(t),n.addEventListener("load",function(){W(!0),P({event_type:9855,component:13998}),(0,p.Z)({url:I,method:"POST",data:{image_base64:n.result}}).then(function(e){var t;Z(null===(t=e.resource_response.data)||void 0===t?void 0:t.image_signature),W(!1),"string"==typeof n.result&&H(n.result)})},!1)}},ref:ea,style:{display:"none"},type:"file"}),G&&(0,O.jsx)(i.xu,{height:316,width:316,rounding:5,color:"secondary",justifyContent:"center",direction:"column",display:"flex",children:(0,O.jsx)(i.$j,{accessibilityLabel:S._('Uploading product group cover image', 'ProductGroupDetailsModal.uploadingCoverImage', 'spinner accessibility label'),show:!0})}),!G&&ev&&(0,O.jsx)(E,{image:ev,onFileUpload:function(){var e;null===(e=ea.current)||void 0===e||e.click()},onError:function(){return X(Y+1)}})]}),Q&&(0,O.jsxs)(i.xu,{width:320,marginStart:4,children:[(0,O.jsx)(i.xu,{marginBottom:4,children:(0,O.jsx)(i.xv,{size:"300",weight:"bold",children:S._('Title', 'ProductGroupDetailsModal.name', 'heading for product group name input')})}),(0,O.jsx)(i.nv,{id:"name",onChange:function(e){return F(e.value.slice(0,255))},size:"lg",type:"text",value:R}),(0,O.jsxs)(i.xu,{marginTop:2,marginBottom:4,height:30,children:[R&&(0,O.jsx)(i.xv,{size:"100",color:"subtle",children:S._('Changing your product group\'s name in your shop will also change its name in Catalogs', 'ProductGroupDetailsModal.pgName', 'subheading for name form')}),!R&&(0,O.jsx)(i.xv,{size:"100",color:"error",children:S._('This field can\'t be blank!', 'ProductGroupDetailsModal.nameEmptyError', 'error message for an empty name input')})]}),(0,O.jsx)(i.xu,{marginBottom:4,children:(0,O.jsx)(i.xv,{size:"300",weight:"bold",children:S._('Description', 'ProductGroupDetailsModal.description', 'heading for description form')})}),(0,O.jsx)(i.xu,{height:178,children:(0,O.jsx)(i.Kx,{id:"description",onChange:function(e){return M(e.value.slice(0,155))},placeholder:S._('Tell shoppers on Pinterest more about this product group', 'ProductGroupDetailsModal.descriptionPlaceholder', 'textarea placeholder for product group description'),value:z,rows:7})})]})]}):(0,O.jsx)(i.$j,{accessibilityLabel:S._('Loading product group details', 'ProductGroupDetailsModal.loadingSpinner', 'spinner accessibility label'),show:!0})})})})}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var F=function(){},L=function(e){var t=e.url,n=e.onClick,r=e.i18n;return(0,O.jsx)(i.ZP,{accessibilityLabel:r._('Shop button', 'ProductGroupV2.shopButton.accessibilityLabel', 'Shop button for product group rep v2'),size:"lg",text:r._('Shop', 'ProductGroupV2.shopButton.text', 'Shop button text for product group rep v2'),color:"white",href:t,onClick:n})},z=function(e){var t=e.i18n;return(0,O.jsx)(i.zx,{accessibilityLabel:t._('Shop button', 'ProductGroupV2.shopButton.accessibilityLabel', 'Shop button for product group rep v2'),size:"lg",text:t._('Shop', 'ProductGroupV2.shopButton.text', 'Shop button text for product group rep v2'),color:"white"})};function M(e){var t,n,r=e.onClick,o=e.productGroup,a=e.showControls,l=e.url,d=(0,u.ZP)(),p=d._('Edit product group display', 'ProductGroupV2.editTooltip', 'Tooltip text for edit product group button'),f=(d._('Remove product group from shop', 'ProductGroupV2.removeTooltip', 'Tooltip text for remove product group button'),T((0,s.useState)(!1),2)),m=f[0],y=f[1],h=T((0,s.useState)(!1),2),g=h[0],v=h[1],b=!!(l&&r),_=c.Z.WIDTH,x=c.Z.HEIGHT,P=_-64;return(0,O.jsxs)(i.xu,{position:"relative",onMouseEnter:function(){v(!0)},onMouseLeave:function(){v(!1)},children:[(0,O.jsxs)(i.xu,{position:"relative",children:[(0,O.jsxs)(i.zd,{width:_,height:x,rounding:8,children:[(0,O.jsx)(c.C,{productGroup:{coverImages:o.coverImages,groupType:o.groupType,previewPins:null===(t=o.previewPins)||void 0===t?void 0:t.map(function(e){return{imageSignature:e.imageSignature,images:e.images}})}}),(0,O.jsx)(i.xu,{position:"absolute",width:_,height:x,top:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}}})]}),(0,O.jsx)(i.xu,{position:"absolute",color:"selected",opacity:g?.5:0,width:_,height:x,rounding:8,top:!0})]}),a&&g&&(0,O.jsxs)(i.xu,{position:"absolute",top:!0,right:!0,padding:8,display:"flex",children:[(0,O.jsx)(i.xu,{marginEnd:0,children:(0,O.jsx)(i.u,{text:p,idealDirection:"down",children:(0,O.jsx)(i.hU,{accessibilityLabel:p,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:function(e){var t=e.event;t.stopPropagation(),t.preventDefault(),y(!0)},size:"xl"})})}),!1]}),(0,O.jsxs)(i.xu,{position:"absolute",bottom:!0,left:!0,padding:8,children:[(0,O.jsx)(i.xu,{marginBottom:5,maxWidth:P,children:(0,O.jsx)(i.X6,{size:"600",color:"inverse",lineClamp:2,children:o.name})}),g&&(0,O.jsx)(i.xu,{marginBottom:5,maxWidth:P,children:(0,O.jsx)(i.xv,{size:"300",color:"inverse",children:o.description})}),!b&&(0,O.jsx)(z,{i18n:d}),b&&(0,O.jsx)(L,{url:null!=l?l:"",onClick:null!=r?r:F,i18n:d})]}),a&&m&&(0,O.jsx)(I,{onDismiss:function(){return y(!1)},onSubmit:function(){return y(!1)},productGroup:{entityId:o.entityId,groupType:o.groupType,previewPins:null===(n=o.previewPins)||void 0===n?void 0:n.map(function(e){return{imageSignature:e.imageSignature,images:e.images}})}})]})}var B=n(717615),N=n(231947),Z=n(151645),U=n(436395),K=n(316674);function H(e){var t,n,s,u,c=e.productGroup,d=e.slotIndex,p=(0,o.v)().logContextEvent,f=(0,U.Z)().data,m=(0,r.useLocation)().search,y=(0,a.Z)(m).pin?"pdp":"profile",h=null==f?void 0:f.username,g=(t=(0,U.Z)().data,n=(0,b.Z)(),s=(0,Z.Z)({user:t,viewer:n}),u=(0,B.Z)(),{isORBACProfileManager:(0,N.q6)(n,null==t?void 0:t.id,u),ownProfile:s}).ownProfile;if((0,l.Z)(function(){var e;K.Z.StructuredFeed.ProductGroups.viewProductGroup({productGroupId:c.entityId,source:y,groupType:null!==(e=c.groupType)&&void 0!==e?e:"",componentType:13698},p)}),!h)return null;var v="/".concat(h,"/_shop/").concat(c.entityId,"/");return(0,O.jsx)(i.Tg,{onTap:function(){var e;K.Z.StructuredFeed.ProductGroups.tapProductGroup({productGroupId:c.entityId,source:y,groupType:null!==(e=c.groupType)&&void 0!==e?e:"",componentType:13698,index:d},p)},href:v,children:(0,O.jsx)(M,{productGroup:c,showControls:g})})}},820621:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(214494);function i(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,s,"next",e)}function s(e){i(a,r,o,l,s,"throw",e)}l(void 0)})}}function a(e,t){return l.apply(this,arguments)}function l(){return(l=o(regeneratorRuntime.mark(function e(t,n){var i,a,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(){var e=o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:n._('Quick Saves', 'quickSave.defaultBoardName', 'Name of the auto-created board for quicksave experience saves.'),layout:"quick_saves",privacy:"public",return_existing:!0},e.abrupt("return",r.Z.create("BoardResource",t).callCreate());case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e.next=3,i();case 3:return a=e.sent.resource_response.data,l=function(){var e=o(regeneratorRuntime.mark(function e(n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.Z.create("RepinResource",{board_id:n,description:t.description||"",is_removable:null!==(i=t.promotedIsRemovable)&&void 0!==i?i:void 0,link:t.link,pin_id:t.entityId||"",title:t.title||""}).callCreate({showError:!1}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),e.next=8,l(a.id);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}},799405:function(e,t,n){"use strict";n.d(t,{F:function(){return o},L:function(){return i}});var r=(0,n(425288).Z)("IdeaPinCategoriesContext"),i=r.Provider,o=r.useHook},765050:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}}),n(704217);var r,i=n(916117),o=n(223008),a=n(483205),l=n(599611),s=n(94047);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=void 0!==r?r:r=n(317071);function d(e){var t=e.pinKey,n=e.requestParams,r=e.surfaceType,d=e.topLevelTrafficSource,p=(0,i.u)(c,t).data,f=(p.visualObjects||[]).filter(function(e){return e.isStela}),m=(0,(0,o.Z)({pinKey:p,maxWidth:a.RZ}).getNormalizedPinImage)(),y=m.height,h=m.width,g="";if(f.length>0){var v=(function(e){if(Array.isArray(e))return e}(f)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(f,1)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(f,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],b=v.x,_=v.y,x=v.w,P=v.h,S=v&&(0,l.Z)({cropArea:{x:b,y:_,w:x,h:P},scaledWidth:h,scaledHeight:y});g=S&&(0,s.Z)({cropArea:S,cropSource:4,surfaceType:r,requestParams:n,title:v.label,trafficSource:d})}else g=(0,s.Z)({surfaceType:r});return"/pin/".concat(p.entityId,"/visual-search/").concat(g)}},641950:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(76911),i=n(908390),o=n(979588),a=n(407043),l=n(898781),s=n(276602),u=n(733336),c=n(540923),d=n(882801),p=n(515198);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.onOpen,n=e.structuredDescription,o=e.type,a=(0,l.ZP)(),f=(0,s.E)(),m=(0,r.useCallback)(function(){f&&f.markConstraintComplete("description")},[f]),y=(0,r.useRef)(null),g=h((0,r.useState)(!1),2),v=g[0],b=g[1];(0,r.useEffect)(function(){var e;(y.current&&((e=y.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)||n.length>1)&&b(!0)},[y,n]);var _="expandable"===o&&n[0].type===d.X.PARAGRAPH,x=_?(0,p.jsx)(i.xv,{ref:y,lineClamp:1,size:"200",children:n[0].content}):null,P=a._('Product Details', 'productDetails.accordionHeader.text', 'text in tap area to open product description accordion panel');return!v&&x?(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(i.xu,{paddingY:1,children:(0,p.jsx)(i.xv,{weight:"bold",size:"300",children:P})}),(0,p.jsx)(i.xu,{marginEnd:6,marginBottom:1,children:x})]}):(0,p.jsx)(u.Z,{header:P,content:(0,p.jsx)(i.xu,{paddingY:_?0:1,children:(0,p.jsx)(c.Z,{descriptions:n,onLoad:m})}),onOpen:t,previewContent:x,previewContentHeight:_?20:0,shouldToggleOnBodyTap:!0,arrowDirection:"expandable"===o?"arrow-down":"arrow-forward"})},b=function(e){var t,n=e.isOpen,o=e.onOpen,a=e.structuredDescription,u=h((0,r.useState)(!1),2),d=u[0],f=u[1],m=(0,l.ZP)(),y=(0,r.useRef)(null),g=(0,s.E)(),v=(0,r.useCallback)(function(){g&&y.current&&g.markConstraintComplete("description")},[g]),b=d&&!n,_=n?m._('See less', 'productDescription.productDescriptionPreview.cta', 'CTA label for collapsing the description'):m._('See more', 'productDescription.productDescriptionPreview.cta', 'CTA label for expanding the description');return(0,r.useLayoutEffect)(function(){!(!y.current||Number.isNaN(y.current.offsetHeight)||150>Number(y.current.offsetHeight))&&(d||f(!0))},[d,null===(t=y.current)||void 0===t?void 0:t.offsetHeight]),(0,p.jsxs)(i.xu,{display:y.current?"block":"visuallyHidden",paddingY:1,"data-test-id":"product-description-preview",children:[(0,p.jsx)(i.xv,{size:"300",weight:"bold",children:m._('Product Details', 'productDescription.productDescriptionPreview.header', 'header for the product description')}),(0,p.jsxs)(i.xu,{marginTop:2,marginBottom:b?0:2,position:"relative",children:[(0,p.jsx)(i.xu,{height:b?150:"auto",overflow:b?"hidden":"visible",ref:y,children:(0,p.jsx)(c.Z,{descriptions:a,onLoad:v})}),d&&(0,p.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(to bottom, rgba(255, 255, 255, 0), #ffffff)",transition:"opacity 200ms ease"}},height:150,opacity:b?1:0,position:"absolute",width:"100%"})]}),d&&(0,p.jsx)(i.iP,{onTap:o,children:(0,p.jsx)(i.xv,{size:"200",weight:"bold",children:_})})]})};function _(e){var t=e.commerceData,n=e.structuredDescription,i=e.type,l=void 0===i?"accordion":i,s=e.viewParameter,u=(0,a.v)().logContextEvent,c=h((0,r.useState)(!1),2),f=c[0],m=c[1];(0,r.useEffect)(function(){u({event_type:120,component:13597,view_type:3,view_parameter:s,aux_data:y({},t)})},[]);var g=function(){m(!f),u({event_type:101,component:13597,view_type:3,element:f?13278:13277,view_parameter:s,aux_data:y({},t)}),u({event_type:101,component:13597,view_type:3,element:10492,view_parameter:s,aux_data:y({},t)})};if(0===n.length)return null;var _="expandable"===l&&n[0].type===d.X.PARAGRAPH;return"preview"===l?(0,p.jsx)(b,y(y({},e),{},{isOpen:f,onOpen:g})):(0,p.jsx)(o.Z,{topBorder:!0,paddingY:_?3:0,children:(0,p.jsx)(v,y(y({},e),{},{onOpen:g}))})}},979588:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(908390),i=n(515198);function o(e){var t=e.children,n=e.paddingY,o=e.topBorder,a=e.marginEnd;return(0,i.jsx)(r.xu,{"data-test-id":"product-metadata-border",width:"100%",dangerouslySetInlineStyle:{__style:{borderTop:o?"1px solid #efefef":void 0}},marginEnd:a,paddingY:n,children:t})}},453451:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(908390),i=n(807592),o=n(898781),a=n(515198);function l(e){var t=e.colorOverride,n=e.isSoldOut,l=e.isStale,s=e.productDetails,u=e.showSalesPrice,c=e.type,d=e.weight,p=void 0===d?"bold":d,f=s.maxPrice,m=s.minPrice,y=s.price,h=s.standardPrice,g=!!y&&!!h&&y!==h,v="100";"pdpPlusHeading"===c?v="400":"heading"===c?v="500":"pdpPlusMobileHeading"===c&&(v="300");var b=(0,o.ZP)(),_=b._('See price on site', 'product.price.stale', 'Product is stale'),x=b._('Sold out', 'product.price.soldOut', 'Product is sold out');return l?(0,a.jsx)(r.xv,{size:v,color:"subtle",weight:"bold",children:_}):(0,a.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[n&&(0,a.jsx)(r.xu,{"data-test-id":"product-sold-out-text",marginEnd:2,children:(0,a.jsx)(r.xv,{size:v,color:"subtle",weight:"bold",children:x})}),(!!y||!!m||!!f)&&(0,a.jsx)(r.xv,{color:t||(g?"shopping":"default"),size:v,weight:p,children:(0,a.jsx)("span",{children:(0,i.Z)({maxPrice:f,minPrice:m,price:y})})}),g&&!u&&(0,a.jsx)(r.xu,{marginStart:1,children:(0,a.jsx)(r.xv,{color:"subtle",size:v,weight:["pdpPlusHeading","pdpPlusMobileHeading"].includes(c)?"normal":p,children:(0,a.jsx)("span",{style:{textDecoration:"line-through"},children:h})})})]})}},650702:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(908390),i=n(898781),o=n(349700),a=n(939106),l=n(515198);function s(){var e=(0,i.ZP)();return e._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function u(e){var t=e.freeShippingPrice,n=(0,i.ZP)();return(0,o.nk)(n._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:t}).join("")}function c(e){var t,n=e.customStyles,i=e.showPrevDot,o=e.freeShippingPrice,c=e.freeShippingValue,d=i?[""]:[],p=n||{},f=p.color,m=void 0===f?"subtle":f,y=p.size;return Number.isFinite(c)?(0===c?t=(0,l.jsx)(s,{}):o&&(t=(0,l.jsx)(u,{freeShippingPrice:o})),t&&d.push((0,l.jsx)(r.kC,{direction:"row",children:t})),0===d.length)?null:(0,l.jsx)(r.xv,{color:m,size:void 0===y?"200":y,children:(0,l.jsx)(a.Z,{color:m,items:d})}):null}var d=n(892819),p=n(561195),f=n(780280);function m(e){var t=e.count,n=e.rating;return!!(n&&"None"!==n&&Number.isFinite(t))}var y=function(e){var t=e.rating,n=e.textSize;if("single"===e.type){var i=parseFloat(t);return Number.isNaN(i)?null:(0,l.jsxs)(r.kC,{alignItems:"center",children:[(0,l.jsx)(p.A,{fill:"full",width:12}),(0,l.jsx)(r.xv,{size:n,children:i.toFixed(1)})]})}return(0,l.jsx)(p.Z,{rating:t,width:12})},h=function(e){var t=e.bracket,n=e.count,a=e.countFormat,s=e.countType,u=e.marginStart,c=e.textSize,p=e.underline,m=(0,f.B)().locale,y=(0,i.ZP)(),h=(0,d.Z)();if(null==n)return null;var g=h(m,n,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===a){var v="review"===s?y.ngettext('{{ count }} review', '{{ count }} reviews', n, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):y.ngettext('{{ count }} rating', '{{ count }} ratings', n, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');g=(0,o.nk)(v,{count:n}).join("")}return t&&(g="(".concat(g,")")),(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:p?"1px solid gray":"none"}},marginStart:u,children:(0,l.jsx)(r.xv,{color:p?"subtle":"default",size:c,underline:p,children:(0,l.jsx)(r.xu,{"data-test-id":"ratings-count-text",display:"inlineBlock",children:g})})})};function g(e){var t=e.bracket,n=e.count,i=e.countFormat,o=e.countType,a=e.rating,s=e.textSize,u=e.underline;return m({count:n,rating:a})?(0,l.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(y,{rating:a,textSize:s,type:"multiple"}),(0,l.jsx)(h,{bracket:t,count:n,countFormat:i,countType:o,textSize:s,underline:u})]}):null}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var x=function(e){var t=e.count,n=e.countFormat,i=e.ratingValue,o=e.shippingInfo;return(0,l.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,l.jsx)(g,{count:t,countFormat:n,rating:i,textSize:"200"}),(0,l.jsx)(r.xu,{marginTop:m({count:t,rating:i})?1:0,children:(0,l.jsx)(c,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:null==o?void 0:o.freeShippingPrice,freeShippingValue:null==o?void 0:o.freeShippingValue})})]})},P=function(e){var t=e.count,n=e.countType,i=e.countFormat,o=e.hideSeparationDot,a=e.bracket,s=e.ratingValue,u=e.shippingInfo;return(0,l.jsxs)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,l.jsx)(g,{bracket:a,count:t,countFormat:i,countType:n,rating:s,textSize:"300"}),(0,l.jsx)(r.xu,{marginStart:m({count:t,rating:s})&&o?2:0,children:(0,l.jsx)(c,{customStyles:{color:"default",size:"300"},showPrevDot:m({count:t,rating:s})&&!o,freeShippingPrice:null==u?void 0:u.freeShippingPrice,freeShippingValue:null==u?void 0:u.freeShippingValue})})]})};function S(e){return e.isGridView?(0,l.jsx)(x,_({},e)):(0,l.jsx)(P,_({},e))}},368271:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(76911),i=n(908390),o=n(515198);function a(e){var t=e.buttonText,n=e.icon,r=e.onClick;return(0,o.jsx)(i.iP,{onTap:r,rounding:"pill",accessibilityLabel:t,children:(0,o.jsx)(i.xu,{display:"flex",justifyContent:"center",alignContent:"center",color:"secondary",rounding:"pill",minHeight:48,children:(0,o.jsxs)(i.xu,{display:"flex",justifyContent:"center",alignItems:"center",rounding:"pill",minHeight:48,paddingX:4,children:[(0,o.jsx)(i.xu,{marginEnd:3,children:(0,o.jsx)(i.JO,{accessibilityLabel:"",icon:n,color:"default"})}),(0,o.jsx)(i.xv,{align:"center",color:"default",weight:"bold",children:t})]})})})}var l=n(407043),s=n(898781);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){var t=e.entryPoint,n=e.imageSignature,i=e.onClick,d=e.pinId,p=e.viewParameter,f=(0,l.v)().logContextEvent,m=(0,s.ZP)();return(0,r.useEffect)(function(){f({event_type:120,element:12080,view_type:3,view_parameter:p,aux_data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({image_signature:n,entry_point_source:t},d?{pin_id:d}:{})})},[]),(0,o.jsx)(a,{buttonText:m._('Tag products', 'closeup.shopTheLook.tagProducts', 'button that will lead to pin builder where user can tag products'),icon:"tag",onClick:i})}},186986:function(e,t,n){"use strict";function r(e){return"story"===e.type}n.d(t,{Z:function(){return r}})},206663:function(e,t,n){"use strict";function r(e){if("pin_tag"===e.type){var t=e.x_percent,n=e.y_percent;if(t>0&&t<=100&&n>0&&n<=100)return!0}return!1}n.d(t,{Z:function(){return r}})},372169:function(e,t,n){"use strict";n.d(t,{Je:function(){return r},iO:function(){return i},jh:function(){return o}});var r=350,i=2,o=236},992061:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(908390),i=n(515198);function o(e){var t=e.hovered,n=e.rounding;return(0,i.jsx)(r.xu,{display:t?"block":"none",height:"100%",width:"100%",left:!0,top:!0,position:"fixed",zIndex:new r.Ry(1),color:"transparentDarkGray",rounding:n,opacity:.2})}},167137:function(e,t,n){"use strict";function r(){return["ideapinproductcategorytag.id","ideapinproductcategorytag.type","ideapinproductcategorytag.category_id","ideapinproductcategorytag.label","ideapinproductcategorytag.page_index","ideapinproductcategorytag.pins()","pin.id","pin.type","pin.images[236x,orig]"]}n.d(t,{Z:function(){return r}})},807592:function(e,t,n){"use strict";function r(e){var t=e.maxPrice,n=e.minPrice,r=e.price;return t&&n?"".concat(n,"-").concat(t):r}n.d(t,{Z:function(){return r}})},590670:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r=n(790904),i=n(898781),o=n(334005),a=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e){var t=e.controllerOptions,n=e.iconColor,l=e.iconOnly,s=e.buttonText,c=e.tabIndex,d=void 0===c?0:c,p=(0,i.ZP)();return(0,a.jsx)(o.Z,u(u({},t),{},{children:function(e){var t=e.handleSendShareFlyoutButtonClick;return(0,a.jsx)(r.Z,{accessibilityLabel:p._('Send', 'Accessible label for button to send this pin', 'Accessible label for button to send this pin'),buttonText:s,handleClick:function(){return t()},icon:"share",iconColor:n,iconOnly:l,tabIndex:d,testId:"closeup-share-button"})}}))}},893764:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(76911),i=n(908390),o=n(43898),a=n(515198);function l(e){var t=e.errorMessage,n=e.helperText,l=e.id,s=e.label,u=e.onBlur,c=e.onChange,d=e.onFocus,p=e.placeholder,f=e.size,m=e.type,y=e.value,h=e.warningMessage;return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(i.nv,{helperText:n,id:l,label:s,onBlur:u,onChange:c,onFocus:d,placeholder:p,size:f,type:m,value:y}),(!!t||!!h)&&(0,a.jsx)(o.Z,{errorMessage:t||h,errorMessageColor:t?"error":"warning",htmlFor:l,icon:(0,a.jsx)(i.qb,{type:t?"problem":"warning"})})]})}},545198:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(349700),i=n(299295);function o(e){var t=e.errorType,n=e.i18n,o=e.isIncreasedDescriptionLengthEnabled?i.S:i.JO;return"tooMuchText"===t?(0,r.nk)(n._('Description too long. Only the first {{ descriptionCharacterLimit }} characters will be displayed.', 'storyboard.details.description.editor.errorTooLongDescription', 'Error message when description is greater than maximum character count. descriptionCharacterLimit: Integer representing max length of the title'),{descriptionCharacterLimit:o}).join(""):(0,r.nk)(n._('Too many user mentions. Only the first {{ DESCRIPTION_USER_MENTION_LIMIT }} mentions will be displayed.', 'storyboard.details.description.editor.errorTooManyMentions', 'Error message when description contains too many user mentions. DESCRIPTION_USER_MENTION_LIMIT: Integer representing max length of the title'),{DESCRIPTION_USER_MENTION_LIMIT:i.iR}).join("")}},783331:function(e,t,n){"use strict";function r(e){var t=e||{},n=t.templateType,r=(t.basics||{}).listBlocks;return 1===n?"recipe":2===n?"diy":r&&r.length>0?"blank":"none"}n.d(t,{Z:function(){return r}})},129274:function(e,t,n){"use strict";n.d(t,{N:function(){return p},d:function(){return d}});var r=n(76911),i=n(174798),o=n(425288),a=n(515198);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,o.Z)("Flag"),c=u.Provider,d=u.useHook,p=function(e){var t=e.children,n=l((0,r.useState)(),2),o=n[0],s=n[1],u=l((0,r.useState)(i.Zw.REPORT),2),d=u[0],p=u[1],f=l((0,r.useState)(i.qb.STARTED),2),m=f[0],y=f[1],h=l((0,r.useState)(),2),g=h[0],v=h[1],b=l((0,r.useState)(),2),_=b[0],x=b[1],P=(0,r.useMemo)(function(){return{flagReason:_,flow:d,status:m,selectedReason:g,modalTitle:o,setFlagReason:x,setFlow:p,setModalTitle:s,setStatus:y,setSelectedReason:v}},[o,d,m,g,_]);return(0,a.jsx)(c,{value:P,children:t})}},923764:function(e,t,n){"use strict";n.d(t,{Z:function(){return et}});var r=n(76911),i=n(506979),o=n(908390),a=n(214494);function l(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function s(){var e;return e=regeneratorRuntime.mark(function e(t){var n,r,i,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,r=t.blockSource,i=t.blockContext,o=t.logContextEvent,l=a.Z.create("UserBlockResource",{blocked_user_id:n,block_source:r,block_context:i}),e.next=4,l.callCreate();case 4:o({event_type:54,object_id_str:n});case 5:case"end":return e.stop()}},e)}),(s=function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)})}).apply(this,arguments)}var u=n(129274),c=n(174798),d=n(512465),p=n(898781),f=n(349700),m=n(966113),y=n(515198),h=m.K_Y+"?source=block_dialogue";function g(e){return e.map(function(e){return e.full_name})}var v=function(e){var t=e.users,n=e.onClose,r=e.onSubmit,i=(0,p.ZP)(),a=(0,y.jsx)("strong",{children:(0,d.Z)(g(t),i)},"userlist");return(0,y.jsxs)("form",{method:"post",children:[(0,y.jsxs)(o.xu,{padding:8,children:[(0,y.jsx)(o.xv,{children:(0,f.nk)(i._('If you block {{ users }}, you won\u2019t be able to follow  each other or interact with each other\u2019s Pins.', 'description of blocking users', 'description of blocking users'),{users:a})}),(0,y.jsx)("br",{}),(0,y.jsx)("br",{}),(0,y.jsx)(o.xv,{children:(0,y.jsx)(o.rU,{display:"inlineBlock",href:h,underline:"hover",children:i._('Learn more', 'link to learn more about blocking', 'link to learn more about blocking')})})]}),(0,y.jsx)(o.xu,{padding:2,children:(0,y.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"end",gap:{row:1,column:0},children:[(0,y.jsx)(o.zx,{fullWidth:!0,onClick:n,text:i._('Cancel', 'UserBlock.Cancel', 'cancel form')}),(0,y.jsx)(o.zx,{fullWidth:!0,color:"red",onClick:function(){r()},text:i._('Block', 'UserBlock.Submit', 'submit form to block users'),type:"submit"})]})})]})},b=n(112690),_=n(19121);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){j(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e,t,n){var r;return(r=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===x(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){var t,n,i,a=e.deleteAndCloseConversation,l=e.flagReason,h=e.flagType,x=e.onClose,P=e.selectedReason,O=e.status,A=e.users,k=e.blockContext,C=(0,p.ZP)(),D=(0,b.Z)(),E=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)({}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),I=E[0],T=E[1],R=(0,u.d)(),F=R.setModalTitle,L=R.setStatus,z=(0,_.Z)(),M=(z.isAuth?z:{}).id,B=A.filter(function(e){return I[e.id]}),N=B.length>0,Z=function(){var e;[c.qb.SUBMITTED,c.qb.PROCESSING].includes(O)?e=C.ngettext('Block this person?', 'Block these people?', B.length, 'BlockAndUnfollow', 'Confirmation text when blocking users (plural)'):h===c.Vm.CONVERSATION&&(e=O===c.qb.COMPLETED?(0,f.nk)(C._('You\u2019ve blocked {{usernames}}', 'BlockAndUnfollow', 'title of modal after user has been blocked'),{usernames:(0,d.Z)(g(B),C).join("")}).join(""):C._('Thanks for your report', 'BlockAndUnfollow', 'title at end of report flow')),F(e)};(0,r.useEffect)(function(){Z()},[O]),(0,r.useEffect)(function(){L(N?c.qb.SELECTED:c.qb.STARTED)},[I]);var U=A.filter(function(e){return e.id!==M}),K=[c.qb.STARTED,c.qb.COMPLETED].includes(O);return(0,y.jsx)("form",{method:"post",children:[c.qb.SUBMITTED,c.qb.PROCESSING].includes(O)?(0,y.jsx)(v,{onClose:function(){L(c.qb.SELECTED)},onSubmit:function(){return L(c.qb.PROCESSING),Promise.all(Object.keys(I).filter(function(e){return I[e]}).map(function(e){return function(e){return s.apply(this,arguments)}({userId:e,blockSource:"message_report",blockContext:k,logContextEvent:D})})).finally(function(){L(c.qb.COMPLETED)})},users:B}):(0,y.jsxs)(o.xu,{padding:8,children:[(0,y.jsx)(o.xu,{children:O!==c.qb.COMPLETED?("harassingOther"===P?n=(0,f.nk)(C._('We remove content that identifies and attacks private people because we consider it to be bullying. We also don\u2019t allow content that reveal someone\u2019s personally identifiable information.  Learn more about our  {{ communityGuidelines }}.', 'confirmation message after reporting harassment', 'confirmation message after reporting harassment'),{communityGuidelines:(0,y.jsx)(o.rU,{display:"inlineBlock",href:m.MsG,underline:"hover",children:C._('Community Guidelines', 'link to community guidelines for harassment', 'link to community guidelines for harassment')},"policyLink")}):"harassingPublicFigure"===P?n=C._('Please note that we won\u2019t necessarily take down stuff that attacks public figures.', 'message shown after reporting harrassment', 'message shown after reporting harrassment'):"harassingFriend"===P?n=C._('Before we can review this Pin, we need to hear from the person who\u2019s being harassed. Please have your friend report this Pin to us.', 'message shown after reporting harrassment', 'message shown after reporting harrassment'):["spam","policies","hurtfulContent"].includes(l)&&(n=C._('We\u2019ll take a look at this Pin and delete it if it goes against our policies.', 'confirmation message after reporting a pin', 'confirmation message after reporting a pin')),i=C.ngettext('You can also block this person.', 'You can also block these people.', U.length, 'description to block people', 'description to block people'),(0,y.jsxs)(r.Fragment,{children:[n&&(0,y.jsx)(o.xu,{marginBottom:8,children:(0,y.jsx)(o.xv,{children:n})}),(0,y.jsx)(o.xu,{marginBottom:8,children:(0,y.jsx)(o.xv,{children:i})}),(0,y.jsx)(o.xu,{marginBottom:8,children:U.map(function(e){var t=e.id,n=e.full_name;return(0,y.jsx)(o.XZ,{id:"blockPinner"+t,checked:!!I[t],label:(0,f.nk)(C._('Block {{ pinnerName }}', 'BlockAndUnfollow', 'form option to block a pinner'),{pinnerName:n}).join(""),onChange:function(e){var n=e.checked;T(S(S({},I),{},j({},t,n)))},helperText:C._('You won\u2019t be able to send each other messages or interact with each other\u2019s Pins.', 'BlockAndUnfollow', 'explanation of blocking a user')},t)})})]})):N&&(0,y.jsx)(o.xu,{marginBottom:8,children:(0,y.jsx)(o.xv,{children:C._('You won\u2019t be able to follow each other or interact with each other\u2019s pins.', 'BlockAndUnfollow', 'message describing what blocking means')},"blockingConfirmation")})}),(0,y.jsxs)(o.xu,{children:[O!==c.qb.COMPLETED&&(0,y.jsx)(o.xu,{marginBottom:8,children:(0,y.jsx)(o.xv,{size:"100",children:(0,f.nk)(C._('Learn more about {{ linkToTopic }}', 'BlockAndUnfollow', 'footer link to learn more about a topic'),{linkToTopic:(0,y.jsx)(o.rU,{display:"inlineBlock",href:m.K_Y,underline:"hover",children:C._('blocking', 'BlockAndUnfollow', 'footer link to learn more about blocking')},"policyLink")})})}),(0,y.jsx)(o.xu,{children:(0,y.jsx)(o.zx,{fullWidth:!0,color:"red",onClick:K?function(){x(),O===c.qb.COMPLETED&&(null==a||a())}:function(){T(I),L(c.qb.SUBMITTED)},text:K?C._('Done', 'Block.Complete', 'confirm reporting flow is done & close modal'):C._('Block', 'BlockAndUnfollow', 'submit users to block')})})]})]})})};function A(e){var t,n=e.flagOptions,r=e.flow,i=e.handleClose,a=e.handleNext,l=e.selectedReason,s=e.showPrimaryAction,u=e.submitButton,d=(0,p.ZP)();if(r===c.Zw.REPORT){if(c.qb.PROCESSING===status||null!==(t=n.getFlagOption(l))&&void 0!==t&&t.isTerminalReason)return u;if(s)return(0,y.jsx)(o.zx,{fullWidth:!0,color:"red",disabled:void 0===l,onClick:a,text:d._('Next', 'go to the next view in the report flow', 'go to the next view in the report flow')})}else if(r===c.Zw.END)return(0,y.jsx)(o.zx,{fullWidth:!0,color:"red",onClick:i,text:d._('Got it', 'confirm reporting flow is done & close modal', 'confirm reporting flow is done & close modal')});return null}function k(e){var t=e.flow,n=e.flagReason,r=(0,p.ZP)();if(t===c.Zw.REPORT){if("attacks"===n)return(0,y.jsx)(o.xv,{size:"100",children:(0,f.nk)(r._('Learn more about our {{ linkToTopic }}', 'footer link to learn more about community guidelines', 'footer link to learn more about community guidelines'),{linkToTopic:(0,y.jsx)(o.rU,{target:"blank",href:m.MsG,children:(0,y.jsx)(o.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:r._('Community Guidelines', 'name of footer link to community guidelines', 'name of footer link to community guidelines')})},"policyLink")})});if("policies"===n)return(0,y.jsxs)("p",{children:[(0,y.jsx)(o.xv,{size:"100",children:(0,f.nk)(r._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,y.jsx)(o.rU,{target:"blank",href:m.MsG+"#sub-section-adult-content",children:(0,y.jsx)(o.xv,{inline:!0,color:"error",size:"100",children:r._('our nudity policies', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})}),(0,y.jsx)(o.xv,{size:"100",children:(0,f.nk)(r._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,y.jsx)(o.rU,{target:"blank",href:m.MsG+"#sub-section-dangerous-goods-and-activities",children:(0,y.jsx)(o.xv,{inline:!0,color:"error",size:"100",children:r._('our policies on hurtful content', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})}),(0,y.jsx)(o.xv,{size:"100",children:(0,f.nk)(r._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,y.jsx)(o.rU,{target:"blank",href:m.MsG+"#sub-section-violence",children:(0,y.jsx)(o.xv,{inline:!0,color:"error",size:"100",children:r._('our policies on gore', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})})]});if("spam"===n||void 0===n)return(0,y.jsx)(o.xv,{size:"100",children:(0,f.nk)(r._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,y.jsx)(o.rU,{target:"blank",href:m.MsG,children:(0,y.jsx)(o.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:"spam"===n?r._('our spam policies', 'name of footer link to policy', 'name of footer link to policy'):r._('our policies', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})})}return null}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=T(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==C(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}function R(e){var t=e.arrayOfData,n=e.handleSelectReason,r=e.selectedReason,i=(0,p.ZP)();return(0,y.jsx)(o.xu,{padding:2,children:(0,y.jsx)(o.FX,{id:"flag-option-radio-group",legend:i._('Flag legends', 'flag_legend', 'Flag legends'),legendDisplay:"hidden",children:t.map(function(e,t){var i,a,l,s=e.condition;return void 0===s||s?(i=e.text,a=e.value,l=e.category,(0,y.jsx)(o.xu,{paddingY:2,children:(0,y.jsx)(o.FX.RadioButton,{checked:r===a,id:a,onChange:function(e){return n(e.checked,a,l)},name:"flagReason",value:a,label:i})},t)):null})})})}var F=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.config=e,this.configMap=function(e){var t={},n=function(n){e[n].forEach(function(e){var r=e.value;if(Object.prototype.hasOwnProperty.call(t,r))throw Error("Duplicate key in FlagOptions config: "+r);t[r]=I(I({},e),{},{parentOption:n})})};for(var r in e)n(r);return t}(e)}return e=[{key:"getFlagOption",value:function(e){return e?this.configMap[e]:null}},{key:"renderFlagLabels",value:function(e){var t=e.flagReason,n=e.onSelectReason,r=e.selectedReason;return(0,y.jsx)(R,{arrayOfData:this.config[t],handleSelectReason:n,selectedReason:r})}}],D(n.prototype,e),t&&D(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(),L=n(121151);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach(function(t){H(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,V(r.key),r)}}function Z(e,t){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function U(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,n){return(t=V(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){var t=function(e,t){if("object"!==z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==z(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===z(t)?t:String(t)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(a,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=K(a);if(t){var r=K(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return U(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return H(U(e=i.call.apply(i,[this].concat(n))),"flagOptions",new F(e.props.flagOptionsConfig)),H(U(e),"renderContent",function(){var t=e.props,n=t.content,r=t.flow,i=t.onSelectReason,a=t.selectedReason;return n||(r===c.Zw.REPORT?e.flagOptions.renderFlagLabels({flagReason:e.props.flagReason||"__default",onSelectReason:i,selectedReason:a}):r===c.Zw.END?(0,y.jsx)(o.xv,{children:e.props.i18n._('We\u2019ll use your feedback to make your Pinterest experience better.', 'final message in reporting flow', 'final message in reporting flow')}):void 0)}),e}return n=[{key:"componentDidUpdate",value:function(e){var t=e.flow,n=e.onCompletedReport,r=e.onCompletedBlock;if(this.props.flow!==t)switch(t){case c.Zw.REPORT:n&&n();break;case c.Zw.BLOCK:r&&r()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.accessibilityModalLabel,r=t.deleteAndCloseConversation,i=t.flagType,a=t.flow,l=t.status,s=t.modalTitle,u=t.onClose,d=t.selectedReason,p=t.submitButton,f=t.flagReason,m=t.showPrimaryAction,h=t.users,g=t.blockContext;return(0,y.jsx)(L.ZP,{accessibilityModalLabel:n,heading:s,onDismiss:u,size:"md",footer:a!==c.Zw.BLOCK?(0,y.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,y.jsx)(o.xu,{flex:"grow",children:(0,y.jsx)(k,{flagReason:f,flow:a})}),(0,y.jsx)(o.xu,{padding:1,children:a===c.Zw.REPORT?(0,y.jsx)(o.zx,{fullWidth:!0,onClick:void 0===f?this.props.onClose:function(){var t,n;null===(t=(n=e.props).onRevert)||void 0===t||t.call(n)},text:void 0===f?this.props.i18n._('Cancel', 'cancel form', 'cancel form'):this.props.i18n._('Back', 'previous step in a form', 'previous step in a form')}):null}),(0,y.jsx)(o.xu,{padding:1,children:(0,y.jsx)(A,{flagOptions:this.flagOptions,flow:a,handleClose:this.props.onClose,handleNext:function(){var t,n;null===(t=(n=e.props).onNext)||void 0===t||t.call(n)},selectedReason:d,showPrimaryAction:!!m,submitButton:p})})]}):void 0,children:(0,y.jsx)(o.xu,{children:a===c.Zw.BLOCK?(0,y.jsx)(O,{deleteAndCloseConversation:r,flagReason:f,flagType:i,onClose:u,selectedReason:d,status:l,users:h,blockContext:g}):this.renderContent()})})}}],N(a.prototype,n),r&&N(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);function W(e){var t=(0,p.ZP)();return(0,y.jsx)(G,B(B({},e),{},{i18n:t}))}var q=n(794230),Y=n(600147);function X(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Q(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||Q(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ee="policies";function et(e){var t=e.aggregatedPinDataId,n=e.didItDataId,a=e.onClose,l=e.pinId,s=e.username,d=e.users,f=(0,p.ZP)(),h=$((0,r.useState)([]),2),g=h[0],v=h[1],b=$((0,r.useState)(),2),_=b[0],x=b[1],P=$((0,r.useState)(),2),S=P[0],j=P[1],w=(0,i.useDispatch)(),O=(0,u.d)(),A=O.flow,k=O.modalTitle,C=O.selectedReason,D=O.setFlow,E=O.setModalTitle,I=O.setSelectedReason,T=O.setStatus,R=O.status,F=function(){if(A===c.Zw.REPORT)switch(S){case"attacks":return f._('What\'s going on?', 'title for report content flow', 'title for report content flow');case ee:return f._('What\'s wrong with this Try?', 'title for report content flow', 'title for report content flow');case"IP":return f._('Intellectual Property', 'title for report content flow for IP complaints', 'title for report content flow for IP complaints');default:return f._('What\'s wrong with this Try?', 'title for the report content flow', 'title for the report content flow')}else if(A===c.Zw.END&&g.includes("notUseful"))return f._('Thanks for letting us know!', 'title at end of report flow when content is not useful', 'title at end of report flow when content is not useful');return""};(0,r.useEffect)(function(){E(F())},[g,A,S]);var L=(0,y.jsx)(o.zx,{fullWidth:!0,color:"red",onClick:function(){if(T(c.qb.PROCESSING),"ignoreThisPin"===C)D(c.Zw.BLOCK),T(c.qb.STARTED);else{var e=[].concat(X(g),[C]);v(e),w((0,Y.Th)(t,e,n,_,s)),g.includes("notUseful")?D(c.Zw.END):D(c.Zw.BLOCK),T(c.qb.STARTED)}},text:f._('Report content', 'button to report content', 'button to report content')});return(0,y.jsx)(W,{accessibilityModalLabel:f._('Report conversation', 'Pin.DidIt.Report', 'Accessibility label for report pin did it'),content:"IP"===S?(0,y.jsx)(o.xu,{mdDisplay:"flex",justifyContent:"center",children:(0,y.jsxs)(o.xu,{mdColumn:9,children:[(0,y.jsx)(o.xu,{padding:2,marginStart:2,children:(0,y.jsx)(o.xv,{align:"center",color:"default",weight:"bold",children:f._('If you\u2019ve found content that you believe violates your intellectual property, you can fill out our copyright complaint form.', 'explanation of IP complaint process', 'explanation of IP complaint process')})}),(0,y.jsx)(o.xu,{padding:2,children:(0,y.jsx)(o.ZP,{href:(0,q.Z)(m.GEi,{pin_id:l,user_did_it_id:n}),color:"red",text:f._('File a report', 'link to DMCA form', 'link to DMCA form'),target:"blank"})})]})}):null,flagType:c.Vm.DID_IT,flow:A,modalTitle:k,onClose:a(!0),onNext:function(){j(C),v([].concat(X(g),[C])),I()},onRevert:function(){var e=g[g.length-1],t=g.slice(0,-1);I(e),j(t[t.length-1]),v(t),x(),T(void 0===e?c.qb.STARTED:c.qb.SELECTED)},onSelectReason:function(e,t,n){e&&(I(t),T(c.qb.SELECTED),x(n))},showPrimaryAction:"IP"!==S,submitButton:L,status:R,selectedReason:C,flagReason:S,users:d,blockContext:null!=t?t:"",flagOptionsConfig:{__default:[{text:f._('It isn\'t useful or relevant', 'tried-it reporting flow', 'tried-it reporting flow'),value:"ignoreThisPin",isTerminalReason:!0,category:"ignoreThisPin"},{text:f._('It shouldn\'t be on Pinterest', 'tried-it reporting flow', 'tried-it reporting flow'),value:ee,isTerminalReason:!1},{text:f._('It\'s spam', 'tried-it reporting flow', 'tried-it reporting flow'),value:"spam",isTerminalReason:!0,category:"spam"},{text:f._('It\'s my intellectual property', 'tried-it reporting flow', 'tried-it reporting flow'),isTerminalReason:!1,value:"IP"}],ignoreThisPin:[],policies:[{text:f._('It\'s sexually explicit', 'tried-it reporting flow', 'tried-it reporting flow'),value:"nudity",isTerminalReason:!0,category:"nudity"},{text:f._('It\'s self-harm', 'an option on tried-it reporting flow', 'an option on tried-it reporting flow'),value:"self-harm",isTerminalReason:!0,category:"self-harm"},{text:f._('It\'s hate speech', 'tried-it reporting flow', 'tried-it reporting flow'),value:"hate-speech",isTerminalReason:!0,category:"hate-speech"},{text:f._('It\'s harassment or bullying', 'tried-it reporting flow', 'tried-it reporting flow'),value:"attacks",isTerminalReason:!1,category:"attacks"},{text:f._('It\'s graphic violence', 'tried-it reporting flow', 'tried-it reporting flow'),value:"gore",isTerminalReason:!0,category:"graphic-violence"}],attacks:[{text:f._('It\'s a photo of me or my child', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingMeOrMyChild",isTerminalReason:!0,category:"attacks"},{text:f._('It identifies and attacks me or someone I know', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingMeOrAFriend",isTerminalReason:!0,category:"attacks"},{text:f._('Something else', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingOther",isTerminalReason:!0,category:"attacks"}],IP:[],spam:[]}})}},174798:function(e,t,n){"use strict";n.d(t,{Vm:function(){return o},Zw:function(){return r},qb:function(){return i}});var r={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},i={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},o={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},238464:function(e,t,n){"use strict";n.d(t,{Z:function(){return en}});var r=n(76911),i=n(908390),o=n(590670),a=n(407043),l=n(946984),s=n(898781),u=n(67347),c=n(515198);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}var _={overlay:{__style:{backgroundColor:"#000"}}},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=g(a);if(t){var r=g(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),l=0;l<t;l++)n[l]=arguments[l];return v(h(e=r.call.apply(r,[this].concat(n))),"handleRestartVideo",function(t){var n,r,i=t.event;i.stopPropagation(),null===(n=(r=e.props).onRestartVideo)||void 0===n||n.call(r,{event:i}),(0,u.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"restart",variant:"enabled_send_first"}})}),v(h(e),"handleShareVideo",function(){var t=e.props,n=t.onToggleFlyout,r=t.isFlyoutOpen,i=t.pinId,o=t.requireAuth,a=t.logContextEvent;if(r&&(0,u.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"shareSheetOpen",variant:"enabled_send_first"}}),a({event_type:101,component:179,object_id_str:i,view_type:3,view_parameter:156,element:11731}),o){o();return}n&&n()}),v(h(e),"handleExternalSend",function(){(0,u.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"shareSheetOpen",variant:"enabled_send_first"}})}),v(h(e),"renderReplayButton",function(){return(0,c.jsx)(i.iP,{accessibilityLabel:e.props.i18n._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),onTap:e.handleRestartVideo,rounding:2,children:(0,c.jsxs)(i.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,c.jsx)(i.xu,{marginEnd:3,children:(0,c.jsx)(i.JO,{accessibilityLabel:e.props.i18n._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),icon:"refresh",color:"inverse",size:18})}),(0,c.jsx)(i.X6,{color:"light",overflow:"normal",size:"400",children:e.props.i18n._('Watch again', 'Clickable label when pressed restarts the video', 'Clickable label when pressed restarts the video')})]})})}),v(h(e),"renderShareButton",function(){var t=e.props,n=t.gridDescription,r=t.imageSrc,a=t.isFlyoutOpen,l=t.onFlyoutDismiss,s=t.pinId;return(0,c.jsx)(i.iP,{accessibilityLabel:e.props.i18n._('Send', 'end.video.send.icon.label', 'Clickable label when pressed opens share sheet after video is finished'),onTap:e.handleShareVideo,rounding:2,children:(0,c.jsxs)(i.xu,{alignItems:"center",display:"flex",padding:2,justifyContent:"center",children:[(0,c.jsx)(o.default,{controllerOptions:{flyoutDisplayOptions:{shownWithinMasonry:!0},loggingOptions:{component:179,element:72,onExternalSend:e.handleExternalSend,viewType:3},isFlyoutOpen:a,onFlyoutDismiss:l,onToggleFlyout:function(){},sendObject:{type:"pin",description:n,id:s,imageUrl:r,url:"/pin/".concat(s,"/")}},iconOnly:!0,iconColor:"white",tabIndex:-1}),(0,c.jsx)(i.xu,{children:(0,c.jsx)(i.X6,{color:"light",overflow:"normal",size:"400",children:e.props.i18n._('Send', 'end.video.send.icon.label', 'Clickable label when pressed opens share sheet after video is finished')})})]})})}),e}return m(a.prototype,[{key:"componentDidMount",value:function(){var e=this.props,t=e.pinId,n=e.logContextEvent;(0,u.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"land",variant:"enabled_send_first"}}),n({event_type:13,component:179,object_id_str:t,view_type:3,view_parameter:156,element:11731})}},{key:"render",value:function(){var e=this.props,t=e.backgroundImage,n=e.naturalHeight,r=e.naturalWidth,o=e.pinTitle;return(0,c.jsx)(i.xu,{children:(0,c.jsxs)(i.Ee,{alt:o||"",naturalHeight:n,naturalWidth:r,src:t,children:[(0,c.jsx)(i.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:_.overlay}),(0,c.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",direction:"column",children:(0,c.jsxs)(i.xu,{position:"absolute",children:[(0,c.jsx)(i.xu,{children:this.renderShareButton()}),(0,c.jsx)(i.xu,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}]),n&&m(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.PureComponent);function P(e){var t=(0,a.v)().logContextEvent,n=(0,s.ZP)(),r=(0,l.Z)();return(0,c.jsx)(x,f(f({},e),{},{i18n:n,requireAuth:r,logContextEvent:t}))}var S=function(e){var t=e.backgroundImage,n=e.naturalHeight,r=e.naturalWidth,o=e.onRestartVideo,a=e.pinTitle,l=(0,s.ZP)();return(0,c.jsx)(i.xu,{children:(0,c.jsxs)(i.Ee,{alt:a||"",naturalHeight:n,naturalWidth:r,src:t,children:[(0,c.jsx)(i.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:_.overlay}),(0,c.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",children:(0,c.jsx)(i.xu,{children:(0,c.jsx)(i.iP,{onTap:o,rounding:2,children:(0,c.jsxs)(i.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,c.jsx)(i.hU,{accessibilityLabel:l._('Replay', 'closeupVideo.endCard.ReplayButton', 'Button when pressed restarts the video'),icon:"refresh",iconColor:"white",size:"md"}),(0,c.jsx)(i.X6,{color:"light",overflow:"normal",size:"400",children:l._('Replay', 'closeupVideo.endCard.ReplayButton', 'Button when pressed restarts the video')})]})})})})]})})},j=n(366284),w=n(773285),O=n(466225),A=n(276602),k=n(47168),C=n(985271),D=n(780280),E=n(764537),I=n(646422),T=n(534611),R=n(224496),F=n(858416),L=n(704115),z=n(50286),M=n(179888),B=n(965900),N=n(387957),Z=n(944546),U=n(926749);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach(function(t){Q(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J(r.key),r)}}function Y(e,t){return(Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function X(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t,n){return(t=J(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){var t=function(e,t){if("object"!==K(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==K(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===K(t)?t:String(t)}var ee=function(e,t){var n,r;t({currentTime:null!==(n=null==e?void 0:e.currentTime)&&void 0!==n?n:0,duration:null!==(r=null==e?void 0:e.duration)&&void 0!==r?r:1})},et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}(a,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=$(a);if(t){var r=$(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===K(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return X(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return Q(X(e=o.call.apply(o,[this].concat(n))),"state",{controls:"always"===e.props.showControls&&!e.props.disabled,fullscreen:!1,playing:!(0,j.G6)(e.props.requestContext.userAgent.browserName)&&!!e.props.autoplay&&!e.props.disabled,ready:!1,seeking:!1,showEndCard:!1,volume:e.props.muted||e.props.shouldMute?0:1,videoStartTime:e.props.videoStartTime||0}),Q(X(e),"setVideoPwtLoadingStop",function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(C.Z){var n=e.props,r=n.storyPinStepStopwatch,i=n.pinId,o=n.pwtSurfaceContext;r&&(t||r.addAnnotation("video.startup.end"),r.addBinaryAnnotation("pin.id",i,"STRING"),r.addBinaryAnnotation("video",!0,"BOOL"),r.addBinaryAnnotation("preload",t,"BOOL"),r.addSubspan({name:"perceived_video_load",endTime:C.Z.now()}),r.stop()),o&&(t||o.addAnnotation("video.startup.end"),o.addBinaryAnnotation("pin.id",i,"STRING"),o.addBinaryAnnotation("video",!0,"BOOL"),o.markConstraintComplete(N._z),o.addSubspan("perceived_video_load",null,C.Z.now()),"story_pin"===o.getMetricId().segment&&o.removeConstraint(N.pM))}}),Q(X(e),"componentDidMount",function(){var t,n=e.props,r=n.customThumbnail,i=n.video,o=n.preferMp4,a=i.mp4,l=i.hlsv3||i.hls||null,s=(o&&a||l||{}).thumbnail,u=(t=r||s)&&document.querySelector('video[poster="'.concat(t,'"]'))||null;(null==u?void 0:u.ready)===4&&(e.setState({ready:!0}),e.props.autoplay&&e.setVideoPwtLoadingStop(!0))}),Q(X(e),"componentDidUpdate",function(t,n){e.props.videoStartTime&&e.props.videoStartTime!==t.videoStartTime&&e.setState({videoStartTime:e.props.videoStartTime}),!1===t.isPlaying&&e.props.isPlaying&&e.setState({playing:!0,controls:"never"!==e.props.showControls}),t.isPlaying&&!1===e.props.isPlaying&&e.setState({playing:!1}),t.autoplay!==e.props.autoplay&&(e.setState({playing:!!e.props.autoplay}),e.props.autoplay&&e.state.ready&&e.setVideoPwtLoadingStop(!0)),t.muted!==e.props.muted&&e.setState({volume:e.props.muted?0:1}),"never"===e.props.showControls&&n.controls&&e.setState({controls:!1}),(n.controls||n.playing)&&e.props.disabled&&e.setState({playing:!1,controls:!1}),!n.playing&&e.state.playing&&e.props.onPlay&&e.props.onPlay()}),Q(X(e),"handleTouch",function(){var t=e.state.seeking,n=e.props.disabled;t||n||e.setState(function(e){return{playing:!e.playing}})}),Q(X(e),"handleShowControls",function(){return e.setState({controls:!0})}),Q(X(e),"handleHideControls",function(){return e.setState({controls:!1})}),Q(X(e),"handleReady",function(){var t=e.state,n=t.ready,r=t.playing,i=e.props,o=i.autoplay,a=i.disabled;o&&!n&&e.setVideoPwtLoadingStop(),e.setState({ready:!0}),(0,j.G6)(e.props.requestContext.userAgent.browserName)&&!r&&o&&!a&&e.setState({playing:!0})}),Q(X(e),"handleEnded",function(t){var n=t.event,r=e.props,i=r.customThumbnail,o=r.customEndCard,a=r.pinId,l=r.setCurrentVideo,s=r.loop,u=r.onEnded;n.stopPropagation(),!s&&(e.setState({playing:!1}),i&&i.endsWith(".gif")||o||(e.setState({showEndCard:!0,videoStartTime:0}),l({pinId:a,isPromoted:!1,currentTime:0})),e.state.fullscreen&&e.exitFullscreen()),u&&u()}),Q(X(e),"handlePause",function(t){t.event.stopPropagation(),e.setState({playing:!1})}),Q(X(e),"handlePlay",function(t){t.event.stopPropagation(),e.setState({playing:!0})}),Q(X(e),"handleFullscreenChange",function(t){var n=t.event,r=t.fullscreen;n.stopPropagation(),e.setState({fullscreen:r})}),Q(X(e),"handlePlayheadDown",function(){e.setState({seeking:!0})}),Q(X(e),"handlePlayheadUp",function(){setTimeout(function(){e.setState({seeking:!1})},500)}),Q(X(e),"handleRestartVideo",function(t){t.event.stopPropagation(),e.setState({playing:!0,showEndCard:!1})}),Q(X(e),"handleShareRestartVideo",function(t){t.event.stopPropagation(),e.setState({playing:!0,showEndCard:!1})}),Q(X(e),"handleVolumeChange",function(t){var n=t.event,r=t.volume,i=e.props.shouldMute;n.stopPropagation(),i||e.setState({volume:r})}),Q(X(e),"exitFullscreen",function(){var e=window.document;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())}),Q(X(e),"renderCloseupVideoEndCard",function(t,n,r,i){var o={backgroundImage:t,naturalHeight:n,naturalWidth:r,onRestartVideo:e.handleShareRestartVideo},a={backgroundImage:t,naturalHeight:n,naturalWidth:r,onRestartVideo:e.handleRestartVideo},l=e.props.flyoutShareProps,s={gridDescription:l?l.gridDescription:"",imageSrc:l?l.imageSrc:"",isFlyoutOpen:!!l&&l.isFlyoutOpen,onFlyoutDismiss:l?l.onFlyoutDismiss:function(){},onToggleFlyout:l?l.onToggleFlyout:function(){},pinId:l?l.pinId:""};return i?(0,c.jsx)(S,W({},a)):(0,c.jsx)(P,W(W({},s),o))}),e}return n=[{key:"render",value:function(){var e,t=this,n=this.props,r=n.autoplay,o=n.closeupStoryPinViewability,a=n.contextLogData,l=void 0===a?{component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156}:a,s=n.customThumbnail,u=n.isPromoted,d=n.loop,p=n.objectFit,f=n.preferMp4,m=n.preload,y=n.requestContext,h=n.roundingOverride,g=n.showControls,v=n.variant,b=n.video,_=n.captions,x=n.videoThumbnailStartTime,P=n.pinId,S=n.setProgressInfo,w=n.progressInfo,A=n.setPanelOpen,k=n.panelOpen,C=n.setMute,D=n.isMuted,F=n.captionsExpGroup,L=n.onTimeChange;l.is_closeup_video=!0;var z=this.state,B=z.controls,N=z.fullscreen,K=z.playing,H=z.showEndCard,V=z.volume,G=z.videoStartTime,q=b.hlsv3||b.hls||null;if(!q&&!b.mp4)return null;var Y=b.mp4,X=f&&Y&&Y.url||q&&[{type:"video/m3u8",src:q.url}]||void 0,$=f&&Y||q||{},Q=$.height,J=$.thumbnail,et=$.width,en=s||J;return e=null!=h?h:"default"===v?0:"storyPin"===v?R.yR:2,(0,c.jsxs)(i.zd,{willChangeTransform:!((0,j.G6)(y.userAgent.browserName)&&N),rounding:e,wash:!0,children:[H?this.renderCloseupVideoEndCard(null!=en?en:"",null!=Q?Q:1,null!=et?et:1,u):(0,c.jsxs)(i.iP,{accessibilityLabel:this.props.i18n._('Pause or play video', 'pin.closeup.video.tap', 'tap area to pause or play video'),onMouseEnter:"hover"===g?this.handleShowControls:void 0,onMouseLeave:"hover"===g?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:[F&&(0,O.Z)(F)&&(0,c.jsx)(I.Z,{playing:K,zIndexValue:99}),(0,c.jsx)(U.ZP,{contextLogData:W(W({},l),{},{video_id:this.props.video.id}),aspectRatio:(null!=et?et:1)/(null!=Q?Q:1),closeupStoryPinViewability:o,captions:F&&(0,O.Z)(F)?_:"",controls:!(F&&(0,O.Z)(F))&&B,hlsConfig:{startLevel:Z.V},isAutoPlay:!!r,objectFit:p,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onControlsPause:this.handlePause,onControlsPlay:this.handlePlay,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:"storyPin"===v?L:function(e){var t=e.time;ee&&"number"==typeof(null==Y?void 0:Y.duration)&&Y.duration>0&&S&&ee({currentTime:t,duration:Y.duration/M.gJ},S)},onVolumeChange:this.handleVolumeChange,preferMp4:f,playing:K,onPlay:function(){},onPlayError:function(){},preload:m,poster:en,src:X,videoStartTime:G||x,volume:V,loop:d})]}),(0,c.jsx)(i.xu,{paddingX:1,children:"storyPin"!==v&&F&&(0,O.Z)(F)&&(0,c.jsx)(i.xu,{display:"flex",position:"absolute",bottom:!0,width:"calc(100% - ".concat(4,"px)"),zIndex:R.Gf,paddingX:6,dangerouslySetInlineStyle:{__style:W(W({},E.l3),{},{flexDirection:"column-reverse"})},height:E.hy,children:(0,c.jsx)(T.Z,{activePageIndex:0,handleMute:function(){t.setState({volume:D?0:1}),C(!D)},handlePanelChange:function(){A&&A(!k)},handlePausePlay:function(){t.setState({playing:!K})},handlePause:function(){t.setState({playing:!0})},handlePlay:function(){t.setState({playing:!0})},handleWatchAgain:this.handleRestartVideo,isMuted:D,isPanelOpen:k,pageCount:1,pages:[],pinId:P,isPlaying:K,progressInfo:w,showEndCard:H,showVideoControls:"hover"===g,viewParameter:156,isStoryPin:!1,captionsUrl:_,captionsExpGroup:F})})})]})}}],q(a.prototype,n),r&&q(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);function en(e){var t,n,i=(0,s.ZP)(),o=(0,D.B)(),a=o.isAuthenticated,l=(0,k.g)(),u=(0,A.E)(),d=(0,F.Hx)().seekTime,p=e.pinId,f=e.isPromoted,m=e.video,y=e.muted,h=e.variant,g=(0,B.I)(),v=g.appUI,b=g.setCurrentVideo,_=v.videosAutoplaying,x=_.organicVideosAutoplaying,P=_.promotedVideosAutoplaying,S=o.locale.toLowerCase(),j=null!==(t=null===(n=m.mp4)||void 0===n?void 0:n.captions_urls)&&void 0!==t?t:{},O=S&&j[S]||Object.values(j)[0]||"",C=(0,w.F)().checkExperiment,E=(0,z.HG)(),I="storyPin"!==h&&O&&E&&a?C("auth_desktop_video_pin_captions").group:"",T=f?P[p]:x[p],R=parseInt((0,L.Z)().t||0,10),M=H((0,r.useState)((null==T?void 0:T.currentTime)||0),2),N=M[0],Z=M[1],U=H((0,r.useState)(null),2),K=U[0],V=U[1],G=H((0,r.useState)(!0),2),q=G[0],Y=G[1],X=H((0,r.useState)(!y),2),$=X[0],Q=X[1];return(0,r.useEffect)(function(){var e=N;R>0&&(e=R),d&&(e=d),Z(e)},[d,R,N]),(0,c.jsx)(et,W(W({},e),{},{i18n:i,isPlaying:!T||!T.paused,captions:String(O)||"",pwtSurfaceContext:u,requestContext:o,setCurrentVideo:b,storyPinStepStopwatch:l,videoStartTime:N,progressInfo:K,setProgressInfo:V,panelOpen:q,setPanelOpen:Y,setMute:Q,isMuted:$,captionsExpGroup:I}))}Q(et,"defaultProps",{loop:!1,showControls:"hover"})},27255:function(e,t){"use strict";t.Z={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},413614:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r,i=n(76911);n(704217);var o=n(599689),a=n(768559),l=n(558068);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=n(407043),p=n(186656),f=n(357998),m=n(623568),y=n(692627),h=n(999018),g=n(515198);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var S=void 0!==r?r:r=n(348853),j=function(e){var t;return{board:e.board&&{url:e.board.url},entityId:e.id,link:e.link,pinner:e.pinner&&{username:e.pinner.username},richMetadata:e.rich_metadata&&{article:e.rich_metadata.article&&{__typename:"ArticleMetadata"},products:e.rich_metadata.products&&e.rich_metadata.products.map(function(){return{__typename:"RichPinProductMetadata"}}),recipe:(null===(t=e.rich_metadata)||void 0===t?void 0:t.recipe)&&{__typename:"RecipeMetadata"}},storyPinData:e.story_pin_data&&{__typename:"StoryPinData"},storyPinDataId:e.story_pin_data_id,trackedLink:e.tracked_link,trackingParams:e.tracking_params}};function w(e){var t,n,r,s,u,v,b,P,w=e.children,O=e.hovered,A=e.pinKey,k=e.slotIndex,C=e.trafficSource,D=e.trackingParamsMap,E=e.viewType,I=(0,d.v)().logContextEvent,T=x((0,i.useState)(),2),R=T[0],F=T[1],L=x((0,i.useState)(),2),z=L[0],M=L[1],B=(0,f.Q)(S,A,{useLegacyAdapter:j}),N=B.data,Z=B.childDataKey__DEPRECATED,U=N.entityId,K=N.trackedLink,H=N.link,V=K||H||"",G=function(){F(!0)},W=(t={boardUrl:null===(s=N.board)||void 0===s?void 0:s.url,pinId:U,pinnerUserName:null===(u=N.pinner)||void 0===u?void 0:u.username,storyPinDataId:N.storyPinDataId,trackingParams:N.trackingParams,trackingParamsMap:D},n=(0,o.useLocation)(),r=(0,l.Hv)().previous,(0,a.Z)(c(c({},t),{},{location:n,previousHistory:r}))),q=(0,y.Z)({hasPin:!!N,hasPinRichMetadata:!!N.richMetadata,hasPinRichMetadataProducts:!!(null!==(v=N.richMetadata)&&void 0!==v&&v.products),hasPinRichMetadataArticle:!!(null!==(b=N.richMetadata)&&void 0!==b&&b.article),hasPinRichMetadataRecipe:!!(null!==(P=N.richMetadata)&&void 0!==P&&P.recipe),hasPinStoryPinData:!!N.storyPinData}),Y=(0,h.Z)(Z),X=(0,i.useCallback)(function(){var e=Y();(0,p.Z)({url:"/v3/offsite/",data:{check_only:!1,pin_id:U,url:V,client_tracking_params:W,aux_data:JSON.stringify(_(_({clickthrough_type:"rightClick",objectId:U},k||{}),e))}}).then(function(t){t&&(I({event_type:12,object_id_str:U,view_type:E,view_parameter:q,aux_data:_(_({clickthrough_type:"rightClick"},k||{}),e)}),I({event_type:8948,view_type:E,object_id_str:U,view_parameter:q,aux_data:_(_({click_type:"clickthrough",closeup_navigation_type:C&&(0,m.sV)(C)?"deeplink":"click",clickthrough_type:"rightClick"},k||{}),e)}))})}),$=function e(t){if(R){var n;/^\/pin/.test(null===(n=t.target.activeElement.attributes.href)||void 0===n?void 0:n.value)||(X(),F(!1)),window.removeEventListener(z,e,!1)}};return(0,i.useEffect)(function(){var e,t,n,r,i,o;void 0!==(null===(e=window)||void 0===e?void 0:null===(t=e.document)||void 0===t?void 0:t.hidden)?M("visibilitychange"):void 0!==(null===(n=window)||void 0===n?void 0:null===(r=n.document)||void 0===r?void 0:r.msHidden)?M("msvisibilitychange"):void 0!==(null===(i=window)||void 0===i?void 0:null===(o=i.document)||void 0===o?void 0:o.webkitHidden)&&M("webkitvisibilitychange")},[]),(0,i.useEffect)(function(){return R&&window&&window.addEventListener(z,$,!1),function(){return window.removeEventListener(z,$)}},[R,z]),(0,i.useEffect)(function(){return O&&window.addEventListener("contextmenu",G),function(){window.removeEventListener("contextmenu",G)}},[O]),(0,g.jsx)(i.Fragment,{children:w})}},558068:function(e,t,n){"use strict";n.d(t,{Hv:function(){return y},aX:function(){return v},nK:function(){return b}});var r=n(76911),i=n(599689),o=n(425288),a=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=(0,o.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),m=f.Provider,y=f.useHook,h=function(e){return e&&e.pathname?e.pathname+(e.search||""):""};function g(e,t){var n,r={action:t.type,location:t.location,match:t.match};if(t.location===(null===(n=e.current)||void 0===n?void 0:n.location))return e;switch(t.type){case"POP":if(e.forward.length>0&&h(e.forward[0].location)===h(r.location))return p(p({},e),{},{forward:e.forward.slice(1),current:p(p({},e.forward[0]),{},{action:t.type}),previous:e.current?[].concat(s(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});return p(p({},e),{},{forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match}].concat(s(e.forward)):e.forward,current:p(p({},e.previous.slice(-1)[0]),{},{action:t.type}),previous:e.previous.slice(0,-1)});case"PUSH":return p(p({},e),{},{forward:e.forward.length>0?[]:e.forward,current:r,previous:e.current?[].concat(s(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});case"REPLACE":return p(p({},e),{},{current:r});default:return e}}function v(){var e=y(),t=e.current,n=e.previous;return(0,r.useMemo)(function(){return t?n.concat(t):n},[t,n])}function b(e){var t,n=e.children,o=(0,i.useHistory)(),l=(0,i.useLocation)(),s=(0,i.useRouteMatch)(),c={forward:[],current:{action:o.action,location:l,match:s},previous:[]},d=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(g,c))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||u(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=d[0],f=d[1];return(0,r.useEffect)(function(){f({type:o.action,location:l,match:s})},[l]),(0,a.jsx)(m,{value:p,children:n})}},391254:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}}),n(674631);var r=n(515198),i=["css","unsafeCSS"];function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=u(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function u(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var c=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}return e=[{key:"toString",value:function(){return this._private_safe_value}}],t=[{key:"factory",value:function(e){return e instanceof n?e:new n(String(e))}}],e&&s(n.prototype,e),t&&s(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}();function d(e){var t=e.css,n=e.unsafeCSS,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,i),l=String(t||"")||n||"";return l?(0,r.jsx)("style",a(a({},o),{},{dangerouslySetInnerHTML:{__html:String(c.factory(l))}})):null}},241244:function(e,t,n){"use strict";n.d(t,{N:function(){return a},Z:function(){return o}});var r=n(908390),i=n(515198);function o(e){var t=e.children,n=e.fullWidth;return(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:n?"100%":void 0}},"data-test-id":"pointer-events-wrapper",children:t})}function a(e){var t=e.children;return e.enabled?(0,i.jsx)(o,{children:t}):t}},310227:function(e,t,n){"use strict";n.d(t,{Dv:function(){return o},Ml:function(){return a},Oc:function(){return r},mv:function(){return i}});var r=16,i=4,o={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},a=120},483205:function(e,t,n){"use strict";n.d(t,{I6:function(){return i},Nv:function(){return r},RZ:function(){return o},ZG:function(){return s},b9:function(){return l},s0:function(){return a}});var r=44,i=24,o=446,a=.05,l=36,s=20},754320:function(e,t,n){"use strict";var r=n(76911),i=n(908390),o=n(407043),a=n(643010),l=n(444445),s=n(898781),u=n(905031),c=n(50286),d=n(515198);t.Z=function(e){var t=e.contentIds,n=e.previewImageSrc,p=e.url,f=e.buttonText,m=e.imageWidth,y=e.isInMobileCarousel,h=e.slideWidth,g=e.shape,v=e.storyId,b=e.storyType,_=e.view,x=e.viewParameter,P=e.component,S=e.element,j="square"===(void 0===g?"square":g)?4:"circle",w=null!=m?m:l.yF,O=(0,u.Z)()?l.tG:w,A=(0,c.HG)(),k=(0,a.vs)(),C=(0,o.v)().logContextEvent,D=(0,s.ZP)(),E=(0,r.useMemo)(function(){return!Number.isNaN(_)&&!Number.isNaN(x)&&!Number.isNaN(P)&&!Number.isNaN(S)},[_,x,P,S]),I="lg";return y&&h&&(I=h>150?"lg":h>135&&h<=150?"md":"sm"),(0,r.useEffect)(function(){E&&C({event_type:120,view_type:_,view_parameter:x,component:P,element:S,aux_data:{content_ids:t,story_id:v,story_type:b}})},[t,C,_,x,P,S,E,v,b]),(0,d.jsx)(i.xu,{"data-test-id":"sf-action-item-rep",children:(0,d.jsx)(i.xu,{color:"secondary",height:y?h:O,overflow:"hidden",rounding:j,width:y?h:O,children:(0,d.jsx)(i.zd,{height:"100%",rounding:j,wash:!0,width:"100%",children:(0,d.jsx)(i.Ee,{alt:D._('Action Item Rep Preview Image', 'actionItemRep.image', 'alt text for a preview image image in action item'),color:"#fff",fit:"cover",naturalHeight:50,naturalWidth:50,src:n,children:(0,d.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.3)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,top:!0,width:"100%",children:(0,d.jsx)(i.ZP,{color:k?"gray":"white",href:p,onClick:function(){E&&C({event_type:A?101:102,view_type:_,view_parameter:x,component:P,element:S,aux_data:{content_ids:t,story_id:v,story_type:b}})},size:I,text:f})})})})})})}},701865:function(e,t,n){"use strict";n.d(t,{Z:function(){return F}});var r,i=n(76911),o=n(599689),a=n(908390),l=n(407043),s=n(366428),u=n(992061),c=n(444445),d=n(898781),p=n(608760),f=n(215292),m=n(515198);function y(e){var t,n,r=e.item,o=void 0===r?{}:r,l=e.imagePlaceholderColor,s=void 0===l?p.hK:l,y=e.onTap,h=(0,d.ZP)(),g=null==o?void 0:null===(t=o.cover_images)||void 0===t?void 0:t[0],v=null==g?void 0:g["236x"];return(0,m.jsx)(a.iP,{onTap:y,children:(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(f.q,{children:function(e){var t=e.hovered,n=e.onMouseEnter,r=e.onMouseLeave;return(0,m.jsx)(a.xu,{"data-test-id":"category-bubble",marginBottom:2,onMouseEnter:n,onMouseLeave:r,children:(0,m.jsxs)(a.zd,{height:c.yF,rounding:"circle",wash:!0,width:c.yF,children:[(0,m.jsx)(u.Z,{hovered:t,rounding:"circle"}),(0,m.jsx)(a.Ee,{alt:h._('Image previewing contents of an item', 'itemRep.userRep.previewImage', 'alt text for an image previewing the contents of an item'),color:s,fit:"cover",naturalHeight:c.yF,naturalWidth:c.yF,src:(null==v?void 0:v.url)||""})]})})}}),(null==o?void 0:null===(n=o.title)||void 0===n?void 0:n.format)&&(0,m.jsx)(a.xu,{width:c.yF,children:(0,m.jsx)(a.xv,{align:"center",weight:"bold",children:o.title.format})})]})})}var h=n(752802),g=n(57427),v=n(327651),b=n(641968),_=n(50286);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P=["170x","192x","200x","236x"],S=n(668916),j="pill",w=n(642345),O=n(48125),A=n(429091),k=n(180910);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){I(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function I(e,t,n){var r;return(r=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==C(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===C(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(){},R=(I(r={},2,y),I(r,3,function(e){var t=e.item,n=void 0===t?{}:t,r=e.onTap,i=(0,d.ZP)(),o=function(e,t){switch(e){case 2:return{icon:"workflow-status-all",text:t._('Categories', 'NavigationBubble.NavigationIcon.utils', 'Categories navigation button text')};case 3:return{icon:"shopping-bag",text:t._('Stores', 'ExploreArticleRep.NavigationBubble.utils', 'Stores navigation button text')};case 4:return{icon:"terms",text:t._('Your items', 'ExploreArticleRep.NavigationBubble.utils', 'Your items navigation button text')};default:return{icon:null}}}(null==n?void 0:n.identifier_icon_type,i),l=o.icon,s=o.text;return(0,m.jsx)(a.iP,{onTap:r,rounding:l?5:j,tapStyle:"compress",children:(0,m.jsx)(f.q,{children:function(e){var t,r,i,o=e.active,d=e.hovered,p=e.onMouseEnter,f=e.onMouseLeave,y=e.onFocus,h=e.onBlur;return(0,m.jsxs)(a.xu,{"data-test-id":"navigation-bubble",onBlur:h,onFocus:y,onMouseEnter:p,onMouseLeave:f,rounding:5,children:[l&&(0,m.jsxs)(a.zd,{height:85,rounding:5,wash:!0,width:85,children:[(0,m.jsx)(u.Z,{hovered:d}),(0,m.jsx)(a.xu,{alignItems:"center",color:"secondary",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%",children:(0,m.jsx)(a.JO,{accessibilityLabel:s||"",color:"default",icon:l,size:32})})]}),s&&(0,m.jsx)(a.xu,{marginTop:2,width:85,children:(0,m.jsx)(a.xv,{align:"center",weight:"bold",children:s})}),!l&&!s&&(null==n?void 0:null===(t=n.title)||void 0===t?void 0:t.format)&&(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null===(r=n.aux_fields)||void 0===r?void 0:r.button_background_color}},rounding:j,children:(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:o&&"rgba(0, 0, 0, 0.15)"||d&&"rgba(0, 0, 0, 0.06)"||void 0}},padding:4,rounding:j,children:(0,m.jsx)(a.xv,{align:"center",color:(null===(i=n.aux_fields)||void 0===i?void 0:i.button_text_color)==="#ffffff"?"inverse":"default",weight:"normal",children:(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},maxWidth:c.yF-16,overflow:"hidden",children:n.title.format})})})})]})}})})}),I(r,1,function(e){var t,n=e.item,r=void 0===n?{}:n,i=e.onTap,o=(0,d.ZP)(),l=null==r?void 0:null===(t=r.cover_images)||void 0===t?void 0:t[0],s=null==l?void 0:l["236x"];return(0,m.jsx)(a.iP,{onTap:i,rounding:3,tapStyle:"compress",children:(0,m.jsx)(f.q,{children:function(e){var t,n=e.hovered,i=e.onMouseEnter,l=e.onMouseLeave;return(0,m.jsx)(a.xu,{"data-test-id":"search-bubble",onMouseEnter:i,onMouseLeave:l,rounding:3,children:(0,m.jsxs)(a.zd,{height:150,rounding:3,wash:!0,width:300,children:[(0,m.jsx)(u.Z,{hovered:n}),(0,m.jsx)(a.Ee,{alt:o._('Image previewing contents of an item', 'itemRep.userRep.previewImage', 'alt text for an image previewing the contents of an item'),fit:"cover",naturalHeight:150,naturalWidth:300,role:"presentation",src:(null==s?void 0:s.url)||"",children:(0,m.jsx)(a.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:150,justifyContent:"center",padding:3,position:"absolute",top:!0,width:300,children:(null==r?void 0:null===(t=r.title)||void 0===t?void 0:t.format)&&(0,m.jsx)(a.X6,{color:"inverse",size:"400",children:r.title.format})})})]})})}})})}),I(r,4,function(e){var t=e.item,n=e.onTap,r=e.slotIndex,i=t.action,o=t.aux_fields,l=t.cover_images,s=t.dominant_colors,u=t.title;if(!u||!l||!i)return null;var c=l.length<=0?[{}]:l.slice(0,2);return(0,m.jsx)(a.iP,{onTap:n,rounding:4,tapStyle:"compress",children:(0,m.jsxs)(a.xu,{alignItems:"center","data-test-id":"style-bubble",display:"flex",height:258,justifyContent:"center",overflow:"hidden",position:"relative",rounding:4,width:A.u,children:[(0,m.jsx)(a.kC,{children:c.map(function(e,t){var n,i,o;return(0,m.jsx)(a.zd,{height:258,wash:!0,width:A.u/c.length,children:(0,m.jsx)(a.Ee,{alt:"",color:(s||[])[t],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:(null===(n=e["474x"])||void 0===n?void 0:n.url)||(null===(i=e["736x"])||void 0===i?void 0:i.url)||(null===(o=e["236x"])||void 0===o?void 0:o.url)||""})},"styleCarousel_bubble".concat(r,"_pin").concat(t))})}),(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null==o?void 0:o.button_background_color}},paddingX:4,paddingY:3,position:"absolute",rounding:"pill",children:(0,m.jsx)(a.xv,{align:"center",weight:"bold",children:(0,m.jsx)("span",{style:{color:null==o?void 0:o.button_text_color,margin:"0"},children:u.format})})})]})})}),I(r,13,function(e){var t,n,r,i,o,l=e.item,s=void 0===l?{}:l,u=e.onTap,p=(0,d.ZP)(),f=(0,_.HG)(),y=null===(n=s.action)||void 0===n?void 0:n.url;if(!y)return null;var S=s.curator||{},j=S.full_name||"",w=S.username||"",O=S.image_medium_url||"",A=(null===(r=S.verified_identity)||void 0===r?void 0:r.verified)||!1,k=S.is_verified_merchant||!1,C=function(e){if(Array.isArray(e))return e}(t=s.cover_images||[])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),D=C[0],E=C[1],I=(null===(i=(0,h.Z)({images:void 0===D?{}:D,resolutionPreferences:P}))||void 0===i?void 0:i.url)||"",T=(null===(o=(0,h.Z)({images:void 0===E?{}:E,resolutionPreferences:P}))||void 0===o?void 0:o.url)||"",R=f?c.yF:c.tG;return(0,m.jsxs)(a.xu,{"data-test-id":"default-brand-article",width:R,children:[(0,m.jsx)(a.Tg,{accessibilityLabel:"",href:y,onTap:u,rounding:3,children:(0,m.jsxs)(a.xu,{height:157,children:[(0,m.jsx)(a.zd,{height:157,rounding:4,wash:!0,width:R,children:I&&T&&(0,m.jsxs)(a.kC,{children:[(0,m.jsx)(g.Z,{height:157,src:I,width:R/2}),(0,m.jsx)(a.xu,{color:"default",width:1}),(0,m.jsx)(g.Z,{height:157,src:T,width:R/2})]})}),(0,m.jsx)(a.xu,{display:"flex",justifyContent:"center",marginTop:-8,children:(0,m.jsx)(v.Z,{color:"gray",fullName:j||w,size:64,src:O||""})})]})}),(0,m.jsx)(a.xu,{height:40}),j&&(0,m.jsx)(b.Z,{isDomainVerified:A,isVerifiedMerchant:k,name:j}),(0,m.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:2,width:"100%",children:(0,m.jsx)(a.ZP,{accessibilityLabel:p._('Navigate to a feed of products from this brand', 'StructuredFeed.ItemReps.ExploreArticleRep.DefaultBrandArticle.linkAccessibilityLabel', 'Accessibility label on a brand article that leads to a feed of products from that brand'),href:y,size:"lg",text:p._('Shop', 'StructuredFeed.ItemReps.ExploreArticleRep.DefaultBrandArticle.ButtonText', 'Text on a button under a brand article that leads to a feed of products from that brand')})})]})}),I(r,19,function(e){var t=e.item,n=e.onTap,r=(0,_.HG)(),i=t.action,o=t.cover_images,l=t.dominant_colors,s=t.title,u=t.subtitle,c=null==s?void 0:s.format;if(!c||!o||!i)return null;var d=r?200:150,p=r?k.KW:k.hk,f=r?k.d:k.Gd,y=(null==u?void 0:u.format)||"",g=o.slice(0,3);return(0,m.jsx)(a.iP,{onTap:n,rounding:4,tapStyle:"compress",children:(0,m.jsxs)(a.xu,{"data-test-id":"triple-preview-display-card",rounding:4,width:f,children:[(0,m.jsx)(a.zd,{height:d,rounding:4,wash:!0,width:f,children:(0,m.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:g.map(function(e,t){var n,r=(null===(n=(0,h.Z)({images:e,resolutionPreferences:["200x","236x","400x"]}))||void 0===n?void 0:n.url)||"";return(0,m.jsx)(a.xu,{height:d,width:p,children:(0,m.jsx)(a.Ee,{alt:"",color:(l||[])[t],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:r})},r)})})}),(0,m.jsxs)(a.xu,{marginTop:4,children:[(0,m.jsx)(a.kC,{justifyContent:"center",children:(0,m.jsx)(a.xv,{align:"center",size:"400",weight:"bold",children:c})}),y&&(0,m.jsx)(a.xu,{display:"flex",justifyContent:"center",marginTop:1,children:(0,m.jsx)(a.xv,{align:"center",color:"subtle",size:r?"200":"100",children:y})})]})]})})}),I(r,20,function(e){var t=e.item,n=e.onTap,r=(0,_.HG)(),i=t.action,o=t.cover_images,l=t.aux_fields,s=t.title,u=t.subtitle,c=t.dominant_colors,d=void 0===c?[]:c,p=(null==s?void 0:s.format)||"",f=(l||{}).background_color;if(!p||!o||!i||!f)return null;var y=r?O.m:O.d,g=r?186:160,v=r?126:108,b=r?137:118,x=r?92:80,P=(null==u?void 0:u.format)||"",S=o.slice(0,3).map(function(e){var t;return(null===(t=(0,h.Z)({images:e,resolutionPreferences:["200x","236x","400x"]}))||void 0===t?void 0:t.url)||""}),j=(0,w.zI)(f)?"light":"dark";return(0,m.jsx)(a.iP,{onTap:n,rounding:4,tapStyle:"compress",children:(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:f}},"data-test-id":"stacked-collage-display-card",height:y,overflow:"hidden",rounding:4,width:y,children:(0,m.jsxs)(a.xu,{height:y,padding:2,position:"relative",children:[(0,m.jsxs)(a.xu,{marginBottom:3,marginTop:4,children:[(0,m.jsx)(a.kC,{justifyContent:"center",children:(0,m.jsx)(a.xv,{align:"center",color:j,lineClamp:1,size:"400",weight:"bold",children:p})}),P&&(0,m.jsx)(a.xu,{display:"flex",justifyContent:"center",marginTop:1,children:(0,m.jsx)(a.xv,{align:"center",color:j,lineClamp:1,size:"100",children:null==u?void 0:u.format})})]}),(0,m.jsx)(a.xu,{bottom:!0,left:!0,position:"absolute",children:(0,m.jsx)(a.zd,{height:b,rounding:4,wash:!0,width:x,children:(0,m.jsx)(a.xu,{height:b,width:x,children:(0,m.jsx)(a.Ee,{alt:"",color:d[1],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:S[1]})})})}),(0,m.jsx)(a.xu,{bottom:!0,position:"absolute",right:!0,children:(0,m.jsx)(a.zd,{height:b,rounding:4,wash:!0,width:x,children:(0,m.jsx)(a.xu,{height:b,width:x,children:(0,m.jsx)(a.Ee,{alt:"",color:d[2],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:S[2]})})})}),(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{bottom:"-22px"}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,children:(0,m.jsx)(a.zd,{height:g,rounding:4,wash:!0,width:v,children:(0,m.jsx)(a.xu,{height:g,width:v,children:(0,m.jsx)(a.Ee,{alt:"",color:d[0],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:S[0]})})})})]})})})}),I(r,21,function(e){var t,n,r,i=e.item,o=e.onTap,l=i.cover_images,s=i.dominant_colors,u=i.title;if(!u||!l)return null;var c=l[0];return(0,m.jsx)(a.iP,{onTap:o,rounding:4,tapStyle:"compress",children:(0,m.jsx)(a.xu,{borderStyle:"shadow",color:"default",height:189,overflow:"hidden",position:"relative",rounding:4,width:S.H,children:(0,m.jsx)(a.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,m.jsx)(a.Ee,{alt:"",color:(s||[])[0],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:(null===(t=c["474x"])||void 0===t?void 0:t.url)||(null===(n=c["736x"])||void 0===n?void 0:n.url)||(null===(r=c["236x"])||void 0===r?void 0:r.url)||"",children:(0,m.jsx)(a.xu,{alignItems:"end",dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}},display:"flex",height:"100%",paddingX:3,paddingY:3,width:"100%",children:(0,m.jsx)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:"100%",children:(0,m.jsx)(a.xv,{align:"start",color:"light",size:"300",weight:"bold",children:u.format})})})})})})})}),r);function F(e){var t,n,r=e.component,u=e.slotIndex,c=e.item,d=e.showExpandedHeader,p=e.story,f=e.view,h=e.viewParameter,g=p||{},v=g.display_options,b=g.story_type,_=g.id,x=g.content_ids,P=(0,l.v)().logContextEvent,S=(0,o.useHistory)(),j=null==c?void 0:c.id,w=(0,i.useMemo)(function(){return{story_type:b,story_id:_,content_ids:x,article_id:j}},[j,x,_,b]),O=(0,s.Z)({componentType:r,contextLogData:w,impressionType:"Article",loggingId:j,objectIdStr:j,slotIndex:u,viewParameter:h,viewType:f}),A=d?null==v?void 0:null===(t=v.item_view_rep_style)||void 0===t?void 0:t.expanded_explore_article_rep_style:null==v?void 0:null===(n=v.item_view_rep_style)||void 0===n?void 0:n.explore_article_rep_style,k=((c||{}).action||{}).url,C=void 0===k?"":k,D=Object.hasOwnProperty.call(R,A)?R[A]:y,I=d?T:function(){S.push(C),P({event_type:101,component:r,view_type:f,view_parameter:h,aux_data:w})};return(0,m.jsx)(a.xu,{ref:O,children:(0,m.jsx)(D,E(E({},e),{},{onTap:I}))})}},668916:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});var r=252},48125:function(e,t,n){"use strict";n.d(t,{d:function(){return r},m:function(){return i}});var r=216,i=258},429091:function(e,t,n){"use strict";n.d(t,{u:function(){return r}});var r=369},180910:function(e,t,n){"use strict";n.d(t,{Gd:function(){return o},KW:function(){return i},d:function(){return a},hk:function(){return r}});var r=108,i=124,o=324,a=372},232921:function(e,t,n){"use strict";n.d(t,{lf:function(){return i},wg:function(){return o},xR:function(){return r}});var r=299,i=270,o=232},981228:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r,i=n(76911),o=n(908390),a=n(407043),l=n(34518);function s(e,t,n){return{backgroundColor:"rgba(".concat(e.join(", "),", ").concat(n||t?l.a$:l.Ql,")"),marginRight:t?"2px":"0px",marginLeft:t?"2px":"0px"}}var u=n(232921),c=n(515198),d={MOBILE:{HEIGHT_PX:64,WIDTH_PX:48},SMALL:{HEIGHT_PX:72,WIDTH_PX:54},DEFAULT:{HEIGHT_PX:96,WIDTH_PX:72},LARGE:{HEIGHT_PX:130,WIDTH_PX:98}},p=function(e,t,n){switch(n){case"MOBILE":r={0:{transform:"rotate(-15deg)",top:"6px",left:"16px"},1:{transform:"rotate(0deg)",top:"3px",left:"30px"},2:{transform:"rotate(15deg)",top:"6px",left:"44px"}};break;case"SMALL":r={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"12px",left:"12px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"6px":"10px",left:"26px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"12px",left:"40px"}};break;case"LARGE":r={0:{transform:t?"rotate(-26deg)":"rotate(-15deg)",top:"50px",left:"44px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"36px":"40px",left:"68px"},2:{transform:t?"rotate(26deg)":"rotate(15deg)",top:"56px",left:"98px"}};break;default:r={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"20px",left:"64px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"10px":"14px",left:"82px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"20px",left:"100px"}}}var r,i=r[e];return i.border="1px solid #FFFFFF",i.transition="all 150ms ease-out",i};function f(e){var t,n=e.fanOut,r=e.card,i=e.index,a=e.size,l=d[a],s=r.height,u=void 0===s?l.HEIGHT_PX:s,f=r.url,m=r.width,y=void 0===m?l.WIDTH_PX:m,h=r.colorRGB,g=r.opacity;return f?t=(0,c.jsx)(o.Ee,{alt:f,fit:"cover",naturalHeight:u,naturalWidth:y,src:f}):h&&g&&(t=(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(".concat(h.join(", "),", ").concat(g,")")}},height:l.HEIGHT_PX,width:l.WIDTH_PX})),(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:p(i,n,a)},position:"absolute",rounding:5,children:(0,c.jsx)(o.zd,{height:l.HEIGHT_PX,rounding:5,wash:!0,width:l.WIDTH_PX,children:t})})}function m(){return(0,c.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.03)"}},left:!0,position:"absolute",right:!0,rounding:l.N3,top:!0})}var y=n(605706),h=n(50286);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||_(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n){var r;return(r=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===g(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=(P(r={},1,function(e){var t,n=e.pinCards,r=e.isClicked,i=e.isHovered,a=e.item,d=void 0===a?{}:a,p=e.story,g=(0,h.HG)(),v=(0,y.Z)(),b=p&&(null===(t=p.objects)||void 0===t?void 0:t.length),_=d.board_name,x=d.header_text,P=d.top_image_dominant_color_rgb,S=r?106:110,j=r?u.xR-4:u.xR;g||(S=90,j=1===b?"100%":v?u.wg:u.lf);var w=155;return g||(w=v?108:148),(0,c.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:s(P,r,i)},display:"flex",height:S,paddingY:2,position:"relative",rounding:l.N3,width:j,children:[(0,c.jsx)(m,{}),(0,c.jsx)(o.xu,{position:"relative",width:g?112:100,children:n.map(function(e,t){return(0,c.jsx)(f,{card:e,fanOut:i||r,index:t,size:g?"SMALL":"MOBILE"},t)})}),(0,c.jsxs)(o.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:g?2:3,width:w,children:[(0,c.jsx)(o.xv,{size:g?"200":"100",children:x}),(0,c.jsx)(o.xv,{lineClamp:2,size:"400",weight:"bold",children:_})]})]})}),P(r,3,function(e){var t=e.pinCards,n=e.isClicked,r=e.isHovered,i=e.item,a=i.board_name,u=i.top_image_dominant_color_rgb;return(0,c.jsxs)(o.xu,{alignItems:"end",dangerouslySetInlineStyle:{__style:s(u,n,r)},display:"flex",height:n?165:169,justifyContent:"center",paddingX:4,paddingY:3,position:"relative",rounding:l.N3,width:n?232:236,children:[(0,c.jsx)(m,{}),t.map(function(e,t){return(0,c.jsx)(f,{card:e,fanOut:r||n,index:t,size:"DEFAULT"},t)}),(0,c.jsx)(o.xv,{align:"center",lineClamp:1,size:"200",weight:"bold",children:a})]})}),P(r,4,function(e){var t,n=(0,a.v)().logContextEvent,r=e.pinCards,i=e.isHovered,u=e.item,d=e.view,p=e.viewParameter,y=u.action,h=u.board_name,g=u.header_text,v=u.ideas_deep_link_url,b=u.top_image_dominant_color_rgb,_=null!==(t=null==y?void 0:y.url)&&void 0!==t?t:v.concat("?ideas_referrer=".concat(25));return(0,c.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:s(b,!1,i)},direction:"column",display:"flex",justifyContent:"end",marginBottom:6,minHeight:377,paddingX:4,paddingY:8,position:"relative",rounding:l.N3,width:236,children:[r.map(function(e,t){return(0,c.jsx)(f,{card:e,fanOut:i,index:t,size:"LARGE"},t)}),(0,c.jsx)(o.xu,{height:168,width:"100%"}),(0,c.jsx)(m,{}),(0,c.jsxs)(o.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"end",children:[(0,c.jsxs)(o.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:5,marginTop:5,children:[(0,c.jsx)(o.xu,{marginBottom:1,children:(0,c.jsx)(o.xv,{size:"200",weight:"bold",children:g})}),(0,c.jsx)(o.xv,{align:"center",size:"500",weight:"bold",children:h})]}),(0,c.jsx)(o.xu,{display:"flex",justifyContent:"center",marginTop:1,position:"relative",width:"100%",children:(0,c.jsx)(o.ZP,{color:"white",href:_,onClick:function(e){e.event.stopPropagation(),n({event_type:101,view_type:d,view_parameter:p,component:14268,element:13002,object_id_str:u.board_id})},size:"lg",text:"Explore"})})]})]})}),r),j=["100%","60%"];function w(e){var t,n,r,s=e.component,u=e.isInViewOrNext,d=e.item,p=d.action,f=d.board_id,m=d.ideas_deep_link_url,y=d.images,g=d.image_dominant_color_rgb,w=e.slotIndex,O=e.story,A=void 0===O?{}:O,k=e.view,C=e.viewParameter,D=(0,a.v)().logContextEvent,E=(0,h.ZP)(),I=A.display_options,T=A.objects,R=null==T?void 0:T.length,F=b((0,i.useState)(!1),2),L=F[0],z=F[1],M=b((0,i.useState)(!1),2),B=M[0],N=M[1],Z=b((0,i.useState)(!1),2),U=Z[0],K=Z[1];(0,i.useEffect)(function(){if("desktop"===E){var e=setTimeout(function(){return K(!0)},700);return function(){clearTimeout(e)}}},[E]);var H=[],V="desktop"!==E?l.mS:l.S$;(u||"desktop"!==E)&&(H=U?function(e){if(Array.isArray(e))return x(e)}(t=y[V])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||_(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():[y[V][0]]);for(var G=3-H.length,W=0;W<G;W+=1)H.push({colorRGB:g,opacity:j[W]});H.reverse();var q=null==I?void 0:null===(n=I.item_view_rep_style)||void 0===n?void 0:n.more_ideas_rep_style,Y=S[q],X=s||l.kx[q],$=null!==(r=null==p?void 0:p.url)&&void 0!==r?r:m.concat("?ideas_referrer=".concat(25));return Y&&(0,c.jsx)(o.Tg,{href:$,onMouseDown:function(){return N(!0)},onMouseEnter:function(){return z(!0)},onMouseLeave:function(){return z(!1)},onTap:function(){return D({event_type:101,view_type:k,view_parameter:C,component:X,element:13002,object_id_str:f,aux_data:{index:w,total_object_count:R}})},children:(0,c.jsx)(Y,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){P(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({isClicked:B,isHovered:L,pinCards:H},e))})}},34518:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){var i;return(i=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===r(i)?i:String(i))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{N3:function(){return a},Ql:function(){return l},S$:function(){return u},a$:function(){return s},kx:function(){return d},mS:function(){return c}});var o,a=4,l=.35,s=.5,u="170x",c="136x136",d=(i(o={},1,14114),i(o,3,14074),i(o,4,14268),o)},988874:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(599689),i=n(908390),o=n(444445),a=n(91885),l=n(477802),s=n(826067),u=n(50286),c=n(8742),d=n(515198);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=new Set(["shopping_module_closeup","product_pins","shopping_list","shop_tab_upsell"]),h=new Set(["product_tagged_shopping_module_upsell"]);function g(e){var t,n,p,f=(0,s.mB)((0,r.useLocation)().search).pins_display,g=e.component,v=e.isInMobileCarousel,b=e.imageWidth,_=e.item,x=e.saveButtonOptions,P=e.slideWidth,S=e.slotIndex,j=e.story,w=e.surface,O=e.view,A=e.viewParameter,k=null!=b?b:o.yF,C="desktop"===(0,u.ZP)(),D=C?k:o.tG;if(!_)return null;var E=j||{},I=E.story_type,T=E.id,R=E.content_ids,F=E.display_options,L=E.user,z=((null==F?void 0:F.content_display)||{}).pins_display,M=_.id,B=_.debug,N=![3,1].includes(null!=z?z:Number(f)),Z={story_type:I,story_id:T,content_ids:R},U=w||(null!=j&&j.shop_source||y.has(null==j?void 0:j.story_type)?"ShoppingDynamicHeightGrid":"StoryFeedNonProduct"),K={auxData:Z,componentType:null!==(t=null==j?void 0:null===(n=j.display_options)||void 0===n?void 0:null===(p=n.content_display)||void 0===p?void 0:p.component_type)&&void 0!==t?t:g,impressionData:Z,pinId:M,slotIndex:S,viewData:{pin_id:M},viewParameter:A,viewType:O},H={authDesktopSurface:U,disableHover:!C,pin:_,pinImageCrop:N?{height:D,width:D}:null,saveButtonOptions:x,pinOwner:h.has(I)&&L?L:null},V=(0,d.jsxs)(i.xu,{"data-test-id":a.Kb,children:[(0,d.jsx)(c.ZP,m(m(m({},K),H),{duploDisablePinCardPadding:v,duploIsSquarePin:N,duploQueryRef:null,trafficSource:"ShoppingDynamicHeightGrid"===U?"shop_feed":void 0})),B&&(0,d.jsx)(l.Wu,{data:B})]});return N?(0,d.jsx)(i.xu,{flex:"none",width:v?P:D,children:V},M):V}},57427:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(908390),i=n(515198);function o(e){var t=e.height,n=e.width,o=e.src;return(0,i.jsx)(r.xu,{height:t,width:n,children:(0,i.jsx)(r.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:t,naturalWidth:n,role:"presentation",src:o})})}},456183:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var r,i=n(76911),o=n(599689),a=n(908390),l=n(407043),s=n(366428),u=n(444445),c=n(327651),d=n(641968),p=n(608760),f=n(515198),m=.4*u.yF,y=.75*u.yF,h=n(57427);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e,t,n){var r;return(r=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===v(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=(_(r={},5,function(e){var t=e.item,n=e.imagePlaceholderColor,r=void 0===n?p.hK:n,i=t.username,o=t.image_large_url,l=t.full_name,s=t.domain_verified,m=t.is_verified_merchant;return(0,f.jsxs)(a.xu,{width:u.yF,children:[(0,f.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:2,children:(0,f.jsx)(c.Z,{color:r,fullName:l||i,size:120,src:o||""})}),l&&(0,f.jsx)(d.Z,{isDomainVerified:void 0!==s&&s,isVerifiedMerchant:void 0!==m&&m,name:l})]})}),_(r,1,function(e){var t,n,r,i=e.item,o=void 0===i?{}:i,l=e.story,s=e.imagePlaceholderColor,g=void 0===s?p.hK:s,v=o.username,b=o.image_large_url,_=o.full_name,x=o.id,P=o.domain_verified,S=o.is_verified_merchant,j=(null==l?void 0:null===(t=l.custom_properties)||void 0===t?void 0:null===(n=t.preview_image_map)||void 0===n?void 0:null===(r=n[x])||void 0===r?void 0:r[0])||"";return(0,f.jsxs)(a.xu,{height:u.yF,width:u.yF,children:[(0,f.jsx)(a.zd,{height:y,rounding:4,wash:!0,width:u.yF,children:(0,f.jsx)(h.Z,{height:u.yF,src:j,width:u.yF})}),(0,f.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:-12,children:(0,f.jsx)(c.Z,{color:g,fullName:_||v,size:m,src:b||""})}),_&&(0,f.jsx)(d.Z,{isDomainVerified:void 0!==P&&P,isVerifiedMerchant:void 0!==S&&S,name:_})]})}),_(r,2,function(e){var t,n,r,i=e.item,o=void 0===i?{}:i,l=e.story,s=o.username,p=o.image_large_url,v=o.full_name,b=o.id,_=o.domain_verified,x=o.is_verified_merchant,P=function(e){if(Array.isArray(e))return e}(t=(null==l?void 0:null===(n=l.custom_properties)||void 0===n?void 0:null===(r=n.preview_image_map)||void 0===r?void 0:r[b])||[])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),S=P[0],j=P[1];return(0,f.jsxs)(a.xu,{width:u.yF,children:[(0,f.jsxs)(a.xu,{height:u.yF,children:[(0,f.jsx)(a.zd,{height:y,rounding:4,wash:!0,width:u.yF,children:(0,f.jsxs)(a.kC,{children:[(0,f.jsx)(h.Z,{height:u.yF,src:void 0===S?"":S,width:u.yF/2}),(0,f.jsx)(a.xu,{color:"default",width:2}),(0,f.jsx)(h.Z,{height:u.yF,src:void 0===j?"":j,width:u.yF/2})]})}),(0,f.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:-12,children:(0,f.jsx)(c.Z,{color:"gray",fullName:v||s,size:m,src:p||""})})]}),v&&(0,f.jsx)(d.Z,{isDomainVerified:void 0!==_&&_,isVerifiedMerchant:void 0!==x&&x,name:v})]})}),r);function P(e){var t,n,r=(0,l.v)().logContextEvent,u=(0,o.useHistory)(),c=e.story,d=void 0===c?{}:c,p=e.slotIndex,m=e.component,y=e.view,h=e.viewParameter,g=e.item,v=x[(null===(t=d.display_options)||void 0===t?void 0:null===(n=t.item_view_rep_style)||void 0===n?void 0:n.user_rep_style)||5],P=(0,i.useMemo)(function(){return{story_type:d.story_type,story_id:d.id,content_ids:d.content_ids,user_id:g.id}},[g,d]),S=(0,s.Z)({contextLogData:P,impressionType:"User",loggingId:g.id,objectIdStr:g.id,slotIndex:p,viewParameter:h,viewType:y});return v?(0,f.jsx)(a.iP,{ref:S,onTap:function(){r({event_type:101,view_type:y,view_parameter:h,component:m,aux_data:P}),u.push("/".concat(g.username))},children:(0,f.jsx)(v,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e))}):null}},327651:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(908390),i=n(992061),o=n(898781),a=n(349700),l=n(215292),s=n(515198);function u(e){var t=e.color,n=e.fullName,u=e.size,c=e.src,d=(0,o.ZP)();return(0,s.jsx)(l.q,{children:function(e){var o=e.hovered,l=e.onMouseEnter,p=e.onMouseLeave;return(0,s.jsx)(r.xu,{"data-test-id":"category-bubble",marginBottom:2,onMouseEnter:l,onMouseLeave:p,children:(0,s.jsxs)(r.zd,{height:u,rounding:"circle",wash:!0,width:u,children:[(0,s.jsx)(i.Z,{hovered:o,rounding:"circle"}),(0,s.jsx)(r.Ee,{alt:(0,a.nk)(d._('Logo of {{ fullName }}', 'itemRep.userRep.brandLogo', 'Alt text for the brand logo'),{fullName:n}).join(""),color:t,naturalHeight:u,naturalWidth:u,src:c})]})})}})}},641968:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(908390),i=n(865607),o=n(515198);function a(e){var t=e.name,n=e.isDomainVerified,a=e.isVerifiedMerchant;return(0,o.jsxs)(r.kC,{alignContent:"center",alignItems:"stretch",gap:1,justifyContent:"center",children:[t&&(0,o.jsx)(r.xv,{inline:!0,weight:"bold",children:t}),(0,o.jsx)(i.Z,{hasVerifiedIdentity:n,isVerifiedMerchant:a,size:"sm"})]})}},87165:function(e,t,n){"use strict";n.d(t,{i:function(){return l}});var r=n(908390),i=n(444445),o=n(515198);function a(){return(0,o.jsx)(r.xu,{width:i.yF})}function l(e){return Array(e).fill().map(function(e,t){return(0,o.jsx)(a,{},t)})}},63404:function(e,t,n){"use strict";n.d(t,{Z:function(){return w},v:function(){return x}});var r,i=n(704217),o=n(167678),a=n(175892),l=n(897243),s=n(934494),u=n(701865),c=n(981228),d=n(988874),p=n(456183),f=n(515198);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=["itemData"],h=["pinGraphQLRef"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var _=(0,o.ZP)({resolved:{},chunkName:function(){return"DefaultPinRep"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.all([n.e(97270),n.e(63582),n.e(45509),n.e(10966),n.e(39921)]).then(n.bind(n,369083))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 369083}});function x(e){var t;return(null==e?void 0:e.type)==="pin"&&((null===(t=e.images)||void 0===t?void 0:t["236x"])||{}).url||null}var P=void 0!==r?r:r=n(883597);function S(e){var t,n,r,i=e.itemData,o=b(e,y),s=e.slotIndex,m=e.view,h=e.item,g=i.pinId,x=i.pinGraphQLRef;if(x)return g&&m?(0,f.jsx)(_,{duploQueryRef:x,pinId:g,slotIndex:s,viewType:m}):null;switch(null==h?void 0:h.type){case"pin":return(0,f.jsx)(d.Z,v({},o));case"user":return(0,f.jsx)(p.Z,v({},o));case"board_more_ideas_feed_upsell":return(0,f.jsx)(c.Z,v({},o));case"explorearticle":return(0,f.jsx)(u.Z,v({},o));case"productgroup":return(0,f.jsx)(a.Z,{productGroup:{coverImages:null===(t=h.cover_images)||void 0===t?void 0:t.map(function(e){return(0,l.b)(e)}),description:h.description,entityId:null!==(n=h.id)&&void 0!==n?n:"",groupType:h.group_type,name:h.name,previewPins:null===(r=h.preview_pins)||void 0===r?void 0:r.map(function(e){return{imageSignature:e.image_signature,images:e.images&&(0,l.b)(e.images)}})},slotIndex:s});default:return null}}var j=(0,s.Z)({useGraphQLAdapter:function(e){var t=(0,i.useFragment)(P,e);return{pinId:t.pinId,pinGraphQLRef:t}},useLegacyAdapter:function(e){return e?{item:e,pinGraphQLRef:null}:null}});function w(e){var t=e.pinGraphQLRef,n=b(e,h);return(0,f.jsx)(j,{input:t?{enabled:!0,data:t}:{enabled:!1,data:n.item},children:function(e){var t=e.data;return t&&(0,f.jsx)(S,v(v({},n),{},{itemData:t}))}})}},643897:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(908390),i=n(608760),o=n(515198),a=new Map([["pin",4]]);function l(e){var t=e.children,n=e.itemType;return(0,o.jsx)(r.xu,{marginBottom:a.get(n)||i.mT,children:t})}},608760:function(e,t,n){"use strict";n.d(t,{g5:function(){return a},hK:function(){return i},mT:function(){return o}});var r=n(988874),i="lightGray",o=8,a={itemRep:r.Z,shape:"square",getImage:function(){return""}}},563886:function(e,t,n){"use strict";n.d(t,{Z:function(){return K}});var r,i=n(76911),o=n(704217),a=n(908390),l=n(792182),s=n(934494),u=n(444445),c=n(898781),d=n(754320),p=n(668916),f=n(48125),m=n(429091),y=n(180910),h=n(34518),g=n(232921),v=n(63404),b=n(580326),_=n(848385),x=n(605706),P=n(782975),S=n(905031),j=n(50286),w=n(435497),O=n(239062),A=n(751191),k=n(455024),C=n(390598),D=n(515198);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var I=["storyGraphqlRef"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==E(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var L=new Set([3,4]),z=new Set([1]),M=function(e){var t=e.text,n=e.url;return!!t&&!!n},B=void 0!==r?r:r=n(992872),N=function(e){var t,n=e.contentVisibleItemCount,r=e.customWidth,i=e.gutterWidth,o=e.isMoreIdeasListCard,a=e.isStyleBubble,l=e.isImageAndTitleRep,s=e.isStorefrontSpotlightCarousel,c=e.isSfModuleOnMobile,d=e.isSmallMobileScreen,h=e.isStackedCollageDisplayCard,v=e.isTriplePreviewDisplayCard,b=e.totalObjectCount,_=e.containerRef,x=e.deviceType,P=e.windowWidth,S=c?u.tG:u.yF,j="desktop"===x;if(v)return j?y.d:y.Gd;if(h)return j?f.m:f.d;if(o)return j?g.xR:1===b?(null===(t=_.current)||void 0===t?void 0:t.clientWidth)||0:d?g.wg:g.lf;if(a)return m.u;if(l)return p.H;if(s)return C.Z.WIDTH;if(n){var w=j?u.oX:u.yt,O=null!=i?i:w,A=void 0!==r?(0,u.Wv)({contentVisibleItemCount:n,gap:O,width:parseInt(r,10)}):u.yF;return Math.min(Math.floor((P-Math.floor(n)*O)/n),parseInt(j?A:u.tG,10))}return S};function Z(e){var t,n,r,o,s,p,f,m,y,g,C,E,I,T,B,Z,U,K,H,V,G,W,q=e.addContentRight,Y=e.componentFallback,X=e.dangerouslySetActionUrl,$=e.disableHeader,Q=e.gutterWidth,J=e.initialSlotIndex,ee=void 0===J?0:J,et=e.styleOverrides,en=e.saveButtonOptions,er=e.storyData,ei=e.surface,eo=e.view,ea=e.viewParameter,el=e.width,es=er.data,eu=es.contentIds,ec=es.displayOptions,ed=es.objects,ep=es.action,ef=es.storyId,em=es.storyTitle,ey=es.storyType,eh=er.rawStoryData,eg=er.storyGraphqlRef,ev=er.__dataKeys,eb=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),e_=eb[0],ex=eb[1],eP=(0,i.useRef)(null),eS=(0,S.Z)(),ej=(0,x.Z)(),ew=(0,j.ZP)(),eO="desktop"===ew,eA=((0,l.Z)()||{}).width,ek=(0,c.ZP)();if(!ed)return null;var eC=null!==(r=null==ec?void 0:null===(o=ec.contentDisplay)||void 0===o?void 0:o.componentType)&&void 0!==r?r:Y,eD=(null==ec?void 0:ec.carouselFadeEnds)===1,eE=ed.length,eI={carouselSlots:ed.map(function(e){return"graphql"===e.type?{title:void 0,id:void 0}:{title:e.data.title,id:e.data.id}}),entityId:"",index:e_},eT=null!=ep?ep:{},eR=eT.text,eF=eT.url,eL=eT.location,ez=null!=X?X:eF,eM={backgroundColor:"default",hoverColor:"default",iconColor:"default",size:null!==(s=null==et?void 0:et.navigationFabSize)&&void 0!==s?s:void 0},eB={backgroundColor:"secondary",hoverColor:"secondary",iconColor:"subtle",size:32},eN=null==ec?void 0:null===(p=ec.itemViewRepStyle)||void 0===p?void 0:p.moreIdeasRepStyle,eZ=h.kx[eN],eU=(null==ec?void 0:null===(f=ec.itemViewRepStyle)||void 0===f?void 0:f.exploreArticleRepStyle)===4,eK=(null==ec?void 0:null===(m=ec.itemViewRepStyle)||void 0===m?void 0:m.exploreArticleRepStyle)===21,eH=(null==ec?void 0:null===(y=ec.contentDisplay)||void 0===y?void 0:y.componentType)===13698,eV=(null==ec?void 0:null===(g=ec.itemViewRepStyle)||void 0===g?void 0:g.exploreArticleRepStyle)===19,eG=(null==ec?void 0:null===(C=ec.itemViewRepStyle)||void 0===C?void 0:C.exploreArticleRepStyle)===20,eW=(null==ec?void 0:null===(E=ec.headerDisplay)||void 0===E?void 0:E.expandedTextAlignment)!==null,eq=N({containerRef:eP,contentVisibleItemCount:eO?null==ec?void 0:null===(I=ec.contentDisplay)||void 0===I?void 0:null===(T=I.contentVisibleItemCount)||void 0===T?void 0:T.web:null==ec?void 0:null===(B=ec.contentDisplay)||void 0===B?void 0:null===(Z=B.contentVisibleItemCount)||void 0===Z?void 0:Z.mobile,customWidth:el,gutterWidth:Q,isMoreIdeasListCard:1===eN,isStyleBubble:eU,isImageAndTitleRep:eK,isStorefrontSpotlightCarousel:eH,isSfModuleOnMobile:eS,isSmallMobileScreen:ej,totalObjectCount:eE,isStackedCollageDisplayCard:eG,isTriplePreviewDisplayCard:eV,deviceType:ew,windowWidth:void 0===eA?0:eA}),eY=null==ec?void 0:null===(U=ec.contentDisplay)||void 0===U?void 0:null===(K=U.carouselDisplayOptions)||void 0===K?void 0:K.navigationType,eX=eO&&0===eY,e$=null!=Q?Q:u.oX,eQ=eO?e$:u.yt,eJ=ed.filter(function(e){return!!e.data}),e0=null==ec?void 0:null===(H=ec.contentDisplay)||void 0===H?void 0:null===(V=H.gridLayout)||void 0===V?void 0:V.cols,e1="number"==typeof e0?e0:-1,e2=e1*(eO?u.yF:u.tG)+(e1-1)*eQ,e8=-1===e1||((null===(G=eP.current)||void 0===G?void 0:G.clientWidth)||0)<e2,e3=(0,k.tD)({slotWidth:eq,containerWidth:(null===(W=eP.current)||void 0===W?void 0:W.clientWidth)||0,gap:eQ,numberOfSlides:eJ.length,index:e_}),e9=el?eq:void 0;return(0,D.jsxs)(a.kC,{direction:"column",width:e8?void 0:e2,children:[em&&!$&&(0,D.jsx)(_.Z,{showExpanded:eW,storyKey:ev.HeaderModule_story}),(0,D.jsxs)(a.xu,{ref:eP,marginBottom:eX?8:0,position:"relative",children:[eX&&(0,D.jsx)(O.default,{backNode:(0,D.jsx)(A.Z,R(R({},eM),{},{iconType:"back",showFab:!0})),carouselData:eI,carouselIndex:e_,componentType:eC,contextLogData:eN?{index:e_}:{},forwardNode:(0,D.jsx)(A.Z,R(R({},eM),{},{iconType:"forward",showFab:!0})),handleCarouselSwipe:function(e){ex(e)},isShowingLastSlide:e3,pinKey:null,viewParameter:ea,viewType:eo}),(0,D.jsxs)(w.Z,{componentType:eZ,containerRef:eP,gap:eQ,id:"structured-feed-carousel-module",impressionType:eN?"BoardMoreIdeasRep":"Pin",index:e_,shouldBeDragCarousel:!eO,slideWidth:eq,styleOverrides:et,view:eo,viewParameter:ea,children:[eJ.map(function(e,t){if(t===eJ.length-1&&ep&&eR&&ez&&M(i=ep)&&L.has(i.location)){var n,r,i,o="legacy"===e.type&&(0,v.v)(e.data)||"";return o&&(0,D.jsx)(d.Z,{buttonText:eR,component:eC,contentIds:null!=eu?eu:void 0,element:179,imageWidth:e9,isInMobileCarousel:!eO,previewImageSrc:o,slideWidth:eq,storyId:null!=ef?ef:"",storyType:ey,url:ez,view:eo,viewParameter:ea},"graphql"===e.type?"".concat(t):(0,P.Z)(e.data,t))}return(0,D.jsx)(v.Z,{imageWidth:e9,isInMobileCarousel:!eO,isInViewOrNext:(0,k.Iw)({slotWidth:eq,containerWidth:(null===(n=eP.current)||void 0===n?void 0:n.clientWidth)||0,gap:eQ,numberOfSlides:eJ.length,index:t,currentIndex:e_}),item:"legacy"===e.type?R(R({},e.data),"board_more_ideas_feed_upsell"===e.data.type?{header_text:ek._('More ideas for', 'moreIdeasBoardRepCarousel.carousel.headText', 'Header text for JBI Carousel on Homefeed')}:{}):null,pinGraphQLRef:eg&&"graphql"===e.type&&(null===(r=e.data)||void 0===r?void 0:r.__typename)==="Pin"?e.data:null,saveButtonOptions:en,slideWidth:eq,slotIndex:ee+t,story:null!=eh?eh:void 0,surface:ei,view:eo,viewParameter:ea},"graphql"===e.type?"".concat(t):(0,P.Z)(e.data,t))}),q]}),eD&&e_>0&&(0,D.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(90deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}},height:"100%",left:!0,position:"absolute",top:!0,width:80}),eD&&!e3&&(0,D.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(270deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}},height:"100%",position:"absolute",right:!0,top:!0,width:80})]}),eO&&1===eY&&(0,D.jsx)(a.xu,{marginBottom:8,marginTop:3,position:"relative",width:"100%",children:(0,D.jsx)(O.default,{addEllipsis:!0,alwaysShowNavigationArrows:!0,backNode:(0,D.jsx)(A.Z,R(R({},eB),{},{iconType:"back",showFab:!0})),carouselData:eI,carouselIndex:e_,componentType:eC,contextLogData:eN?{index:e_}:{},ellipsisVariant:"dark",forwardNode:(0,D.jsx)(A.Z,R(R({},eB),{},{iconType:"forward",showFab:!0})),handleCarouselSwipe:function(e){ex(e)},isShowingLastSlide:e3,pinKey:null,sliderStyleOverride:{padding:"0px"},viewParameter:ea,viewType:eo})}),ep&&M(n=ep)&&z.has(n.location)&&(0,D.jsx)(a.xu,{marginTop:4,children:(0,D.jsx)(b.Z,{location:eL,text:eR,url:ez})})]})}var U=(0,s.Z)({useGraphQLAdapter:function(e){var t,n=(0,o.useFragment)(B,e);return{data:R(R({},n),{},{objects:null===(t=n.objects)||void 0===t?void 0:t.map(function(e){return{type:"graphql",data:e}})}),rawStoryData:null,storyGraphqlRef:n,__dataKeys:{HeaderModule_story:{type:"graphqlRef",data:n}}}},useLegacyAdapter:function(e){var t,n,r;return e&&{data:{action:e.action&&{location:e.action.location,text:e.action.text,url:e.action.url},contentIds:e.content_ids,displayOptions:e.display_options&&{contentDisplay:e.display_options.content_display&&{gridLayout:e.display_options.content_display.grid_layout&&{cols:e.display_options.content_display.grid_layout.cols},componentType:e.display_options.content_display.component_type,contentVisibleItemCount:{mobile:null===(t=e.display_options.content_display.content_visible_item_count)||void 0===t?void 0:t.mobile,web:null===(n=e.display_options.content_display.content_visible_item_count)||void 0===n?void 0:n.web},carouselDisplayOptions:e.display_options.content_display.carousel_display_options&&{navigationType:e.display_options.content_display.carousel_display_options.navigation_type}},carouselFadeEnds:e.display_options.carousel_fade_ends,itemViewRepStyle:e.display_options.item_view_rep_style&&{exploreArticleRepStyle:e.display_options.item_view_rep_style.explore_article_rep_style,moreIdeasRepStyle:e.display_options.item_view_rep_style.more_ideas_rep_style},headerDisplay:e.display_options.header_display&&{expandedTextAlignment:e.display_options.header_display.expanded_text_alignment}},objects:null===(r=e.objects)||void 0===r?void 0:r.map(function(e){return{type:"legacy",data:e}}),storyId:e.id,storyTitle:e.title?{__typename:"StoryText"}:null,storyType:e.story_type},rawStoryData:e,storyGraphqlRef:null,__dataKeys:{HeaderModule_story:{type:"deprecated",data:e}}}}});function K(e){var t=e.storyGraphqlRef,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,I);return(0,D.jsx)(U,{input:t?{enabled:!0,data:t}:{enabled:!1,data:n.story},children:function(e){var t=e.data;return t&&(0,D.jsx)(Z,R(R({},n),{},{storyData:t}))}})}},580326:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(908390),i=n(515198);function o(e){var t=e.url,n=e.text;return 1===e.location&&t&&n?(0,i.jsx)(r.kC,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(r.ZP,{href:t,text:n})}):null}},848385:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}}),n(704217);var r,i,o,a,l=n(599689),s=n(908390),u=n(407043),c=n(356997),d=n(916117),p=n(898781),f=n(50286),m=n(865607),y=n(515198),h=["storyKey"];function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e,t,n){var r;return(r=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===g(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=(_(i={},1,"start"),_(i,2,"center"),i),P=(_(o={},1,"100"),_(o,2,"300"),o),S=(_(a={},1,"400"),_(a,4,"200"),_(a,3,"500"),_(a,2,"600"),a),j=new Set([2,4]),w=void 0!==r?r:r=n(612587);function O(e){var t,n,r,i,o=e.showExpanded,a=void 0!==o&&o,d=e.view,p=e.viewParameter,h=e.storyData,g=(0,l.useHistory)(),v=(0,u.v)().logContextEvent,b=(0,f.HG)(),_=h.user||Object.freeze({}),w=_.fullName,O=_.isVerifiedMerchant,k=_.verifiedIdentity,C=_.username,D=_.imageMediumUrl,E=w||(null===(n=h.storyTitle)||void 0===n?void 0:n.format),I=h.action||Object.freeze({}),T=I.url,R=I.text,F=I.location,L=I.style,z=T||C||"",M=h.displayOptions||Object.freeze({}),B=M.headerDisplay||Object.freeze({}),N=x[(a?B.expandedTextAlignment:B.textAlignment)||1],Z=x[B.subtitleAlignment||1],U=P[B.headerSize||1],K=B.headerSize&&S[B.headerSize]?S[B.headerSize]:S[1],H=1===B.subtitleStyle?K:"200",V=function(e,t){return null!=e?e:t},G=V(M.titleTextColor,"default"),W=null!=(t=M.titleTextColor)?t:"default",q=V(M.subtitleTextColor,"subtle"),Y=1===B.titlePosition,X=!!(null!==(r=h.subtitle)&&void 0!==r&&r.format)&&(0,y.jsx)(s.X6,{align:Z,color:q,size:H,children:h.subtitle.format}),$=(0,y.jsx)(s.X6,{accessibilityLevel:2,align:N,color:G,size:K,children:E}),Q=function(){var e;return v({component:null===(e=M.contentDisplay)||void 0===e?void 0:e.componentType,element:179,event_type:b?101:102,view_parameter:p,view_type:d})},J=function(e){Q();var t=e.replace(/^\/+/,"");g.push("/".concat(t))};return(0,y.jsx)(s.xu,{marginBottom:b?4:2,children:(0,y.jsxs)(s.kC,{direction:"column",gap:{row:0,column:2},children:[Y&&X,(0,y.jsxs)(s.kC,{alignItems:"center",justifyContent:N,children:[C&&D&&(0,y.jsx)(c.qE,{name:C,size:"sm",src:D}),(0,y.jsxs)(s.xu,{alignItems:"baseline",display:"flex",flex:a?"grow":"shrink",justifyContent:N,marginStart:N===x[1]?2:0,children:[z?(0,y.jsx)(s.xu,{"data-test-id":"sf-header-heading",children:(0,y.jsx)(s.Tg,{href:z,onTap:function(e){e.event.stopPropagation(),J(z)},tapStyle:"compress",children:$})}):$,O&&(0,y.jsx)(s.xu,{marginStart:2,children:(0,y.jsx)(m.Z,{hasVerifiedIdentity:!!(null==k?void 0:k.verified),isVerifiedMerchant:O,size:"xs"})})]}),j.has(F)&&T&&(0,y.jsx)(s.xu,{"data-test-id":"sf-header-action-button",children:(0,y.jsx)(A,{headerTitle:E,onClick:Q,style:L,text:R,url:T})})]}),!Y&&X,null!==(i=h.storyDescription)&&void 0!==i&&i.format?(0,y.jsx)(s.xv,{align:N,color:W,size:U,weight:"bold",children:h.storyDescription.format}):null]})})}function A(e){var t=e.headerTitle,n=e.onClick,r=e.style,i=e.text,o=e.url,a=(0,p.ZP)();return 3!==r&&i?(0,y.jsx)(s.xu,{marginStart:6,children:(0,y.jsx)(s.ZP,{href:o,onClick:n,text:i})}):(0,y.jsx)(s.I_,{accessibilityLabel:t||a._('See more', 'headerModule.headerModuleActionButton.iconButton', 'An right arrow icon button to show more similar pins to the user in a new page'),bgColor:"transparent",href:o,icon:"arrow-forward",iconColor:"darkGray",onClick:n,size:"sm"})}function k(e){var t=e.storyKey,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,h),r=(0,d.u)(w,t).data;return(0,y.jsx)(O,b(b({},n),{},{storyData:r}))}},217149:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return em}});var r,i,o,a=n(704217),l=n(908390),s=n(934494),u=n(366428),c=n(563886),d=n(580326),p=n(444445),f=n(701865),m=n(988874),y=n(456183),h=n(608760),g=n(848385),v=n(515198);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t,n){var r;return(r=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===b(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(){return(0,v.jsx)(l.xu,{color:"secondary",height:p.yF,width:p.yF})},P=(_(r={},1,{itemRep:m.Z,deprecatedActionShape:"square",deprecatedGetActionImage:function(e){var t,n;return(null===(t=e.images)||void 0===t?void 0:null===(n=t.orig)||void 0===n?void 0:n.url)||""}}),_(r,4,{itemRep:f.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:function(e){var t,n;return(null===(t=e.images)||void 0===t?void 0:null===(n=t.orig)||void 0===n?void 0:n.url)||""}}),_(r,2,{itemRep:y.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:function(e){return e.image_large_url}}),r);function S(e){var t,n,r,i,o,a=e.componentFallback,s=e.showExpanded,u=e.story,c=e.view,d=e.viewParameter,p=(P[((null===(t=u.display_options)||void 0===t?void 0:t.content_display)||{}).model_type]||h.g5).itemRep||x,f=null!==(n=null===(r=u.display_options)||void 0===r?void 0:null===(i=r.content_display)||void 0===i?void 0:i.component_type)&&void 0!==n?n:a;return(0,v.jsx)(l.xu,{marginBottom:2,children:(0,v.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[u.title&&(0,v.jsx)(g.Z,{showExpanded:void 0===s||s,storyKey:{type:"deprecated",data:u}}),(0,v.jsx)(l.kC,{gap:2,justifyContent:"center",wrap:!0,children:null===(o=u.objects)||void 0===o?void 0:o.map(function(e,t){return(0,v.jsx)(p,{component:f,imagePlaceholderColor:"rgba(0, 0, 0, 0)",index:t,item:e,story:u,view:c,viewParameter:d},t)})})]})})}var j=n(76911),w=n(754320),O=n(87165),A=n(643897),k=n(905031),C=n(745312),D=n(50286);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){R(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function R(e,t,n){var r;return(r=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==E(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===E(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F="rgba(0, 0, 0, 0)",L=function(){return(0,v.jsx)(l.xu,{color:"secondary",height:p.yF,width:p.yF})},z=(R(i={},1,{itemRep:m.Z,deprecatedActionShape:"square",deprecatedGetActionImage:function(e){var t,n;return(null===(t=e.images)||void 0===t?void 0:null===(n=t.orig)||void 0===n?void 0:n.url)||""}}),R(i,4,{itemRep:f.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:function(e){var t,n;return(null===(t=e.images)||void 0===t?void 0:null===(n=t.orig)||void 0===n?void 0:n.url)||""}}),R(i,2,{itemRep:y.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:function(e){return e.image_large_url}}),i);function M(e){var t,n,r,i,o,a,s,u,c=e.componentFallback,d=e.dangerouslySetActionUrl,f=e.dangerouslySetContentVisibleItemCount,m=e.disableHeader,y=e.dynamicItemWidth,b=e.gutterWidth,_=e.initialSlotIndex,x=void 0===_?0:_,P=e.showExpanded,S=e.story,E=e.surface,I=e.view,T=e.viewParameter,R=e.width,M=(0,D.HG)(),B=(null===(t=S.display_options)||void 0===t?void 0:t.content_display)||{},N=z[B.model_type]||h.g5,Z=N.itemRep||L,U=S.action,K=d||(null===(n=S.action)||void 0===n?void 0:n.url)||"",H=null!==(r=null===(i=S.display_options)||void 0===i?void 0:null===(o=i.content_display)||void 0===o?void 0:o.component_type)&&void 0!==r?r:c,V=null===(a=B.grid_layout)||void 0===a?void 0:a.rows,G="number"==typeof V?V:1,W=null===(s=B.grid_layout)||void 0===s?void 0:s.cols,q="number"==typeof W?W:-1,Y=-1===q,X=null!=f?f:null===(u=B.content_visible_item_count)||void 0===u?void 0:u.web,$=X&&R&&y?(0,p.Wv)({contentVisibleItemCount:X,gap:null!=b?b:p.oX,width:parseInt(R,10)}):p.yF,Q=(0,C.n)({items:S.objects||[],itemWidth:(0,k.Z)()?p.tG:$,itemGap:null!=b?b:p.oX,actionItemType:U?"one":void 0,numRows:G}),J=Q.containerRef,ee=Q.itemsToRender,et=Q.actionItem,en=et&&N.deprecatedGetActionImage?N.deprecatedGetActionImage(et):void 0,er=Y?ee:S.objects||[],ei=er.map(function(e,t){return(0,v.jsx)(A.Z,{itemType:"string"==typeof e.type?e.type:null,children:(0,v.jsx)(Z,{component:H,imagePlaceholderColor:F,imageWidth:$,index:t,item:e,slotIndex:x+t,story:S,surface:E,view:I,viewParameter:T})},t)}),eo=!!K&&!!(null!=U&&U.text)&&en&&(0,v.jsx)(w.Z,{buttonText:U.text,component:H,contentIds:S.content_ids,element:179,imageWidth:$,previewImageSrc:en,shape:N.deprecatedActionShape,storyId:S.id,storyType:S.story_type,url:K,view:I,viewParameter:T});return(0,v.jsxs)(l.xu,{alignItems:"stretch",color:"default",direction:"column",display:"flex",justifyContent:"start",children:[S.title&&!m&&(0,v.jsx)(g.Z,{showExpanded:P,storyKey:{type:"deprecated",data:S}}),Y?(0,v.jsxs)(C.Z,{containerRef:J,itemGap:null!=b?b:p.oX,numRows:G,rowAlignment:"center",children:[ei,eo,G>1&&(0,O.i)(12)]}):(0,v.jsxs)(j.Fragment,{children:[Array(G).fill(null).map(function(e,t){return(0,v.jsx)(l.kC,{alignItems:"stretch",gap:M?p.jC:p.D6,justifyContent:"start",wrap:q<=1,children:q>0&&Array(q).fill(null).map(function(e,n){return ei[t*q+n]})},er[t].id)}),eo]})]})}function B(e){var t,n,r,i,o=e.componentFallback,a=e.showExpanded,s=e.story,u=e.view,c=e.viewParameter,d=(z[((null===(t=s.display_options)||void 0===t?void 0:t.content_display)||{}).model_type]||h.g5).itemRep||L,f=null!==(n=null===(r=s.display_options)||void 0===r?void 0:null===(i=r.content_display)||void 0===i?void 0:i.component_type)&&void 0!==n?n:o,m=(0,k.Z)()?p.tG:p.yF;return(0,v.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[s.title&&(0,v.jsx)(g.Z,{showExpanded:void 0===a||a,storyKey:{type:"deprecated",data:s}}),(0,v.jsx)(l.Rk,{columnWidth:m,gutterWidth:p.oX,items:s.objects||[],layout:"flexible",renderItem:function(e){var t=e.data,n=e.itemIdx;return(0,v.jsx)(d,{component:f,imagePlaceholderColor:F,index:n,item:t,story:s,view:u,viewParameter:c},n)}})]})}function N(e){var t,n;switch(null===(t=e.story.display_options)||void 0===t?void 0:null===(n=t.content_display)||void 0===n?void 0:n.pins_display){case 3:case 1:return(0,v.jsx)(B,T({},e));default:return(0,v.jsx)(M,T({},e))}}var Z=n(792182),U=n(599689),K=n(407043),H=n(356997),V=n(898781),G=n(477802);function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var q=function(e){var t,n=e.actionText,r=e.actionUrl,i=e.articleId,o=e.author,a=e.authorAvatar,s=e.component,c=e.contentIds,d=e.coverImage,p=e.debug,f=e.index,m=e.isFullWidth,y=void 0!==m&&m,h=e.onImageLoad,g=e.storyId,b=e.storyType,_=e.subtitle,x=e.title,P=e.view,S=e.viewParameter,w=e.width,O=e.windowWidth,A=(0,V.ZP)(),k=(0,U.useHistory)(),C=(0,K.v)().logContextEvent,D=function(e){if(Array.isArray(e))return e}(t=(0,j.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),E=D[0],I=D[1],T=(0,u.Z)({loggingId:i,objectIdStr:i,impressionType:"Article",contextLogData:{content_ids:c,story_id:g,story_type:b,article_id:i},slotIndex:f,viewParameter:S,viewType:P,componentType:s});return(0,v.jsx)(l.xu,{"data-test-id":"sf-hero",children:(0,v.jsxs)(l.xu,{ref:T,height:"auto",onMouseEnter:function(){return I(!0)},onMouseLeave:function(){return I(!1)},width:w,children:[(0,v.jsx)(l.iP,{onTap:function(){C({event_type:101,view_type:P,view_parameter:S,component:s,aux_data:{article_id:i,content_ids:c,story_id:g,story_type:b}}),k.push(r)},children:(0,v.jsxs)(l.xu,{height:y?400:"35vw",maxHeight:500,overflow:"hidden",position:"relative",children:[(0,v.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:E?"scale(1.5)":"scale(1)"}},height:"100%",width:"100%",children:(0,v.jsx)(l.Ee,{alt:A._('Cover image of this shopping spotlight', 'hero.heroCoverImage', 'alt text for an image previewing the contents of a spotlight article'),color:"#fff",fit:"cover",naturalHeight:400,naturalWidth:400,onLoad:h,src:d,children:(0,v.jsx)(l.xu,{color:"transparentDarkGray",display:"block",height:"100%",opacity:.3,width:"100%"})})}),(0,v.jsx)(l.xu,{bottom:!0,marginBottom:y?12:0,padding:6,position:"absolute",width:"100%",children:(0,v.jsxs)(l.kC,{direction:"column",height:"100%",justifyContent:"end",children:[(0,v.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:E?"translateY(-20px)":"translateY(20px)"}},children:(0,v.jsx)(l.X6,{color:"light",size:O<=822?"600":O<1e3?"400":O<1100?"500":"600",children:x})}),(0,v.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{opacity:E?1:0,transition:E?"opacity 0.4s ease-in":"opacity 0.4s ease-out"}},display:"block",height:E?"auto":20,overflow:"hidden",children:[(0,v.jsx)(l.xv,{color:"inverse",children:_}),o&&(0,v.jsx)(l.xu,{marginTop:4,children:(0,v.jsxs)(l.kC,{alignItems:"center",direction:"row",children:[(0,v.jsx)(H.qE,{name:o,size:"md",src:a}),"\xa0",(0,v.jsx)(l.xv,{color:"inverse",children:o})]})})]}),(0,v.jsx)(l.xu,{marginTop:4,width:"74px",children:(0,v.jsx)(l.zx,{color:"white",onClick:function(){k.push(r)},size:"lg",text:n})})]})})]})}),void 0!==p&&(0,v.jsx)(G.ZP,{data:p})]})})},Y=n(435497),X=n(239062),$=n(751191);function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function J(e){var t,n,r=e.onImageLoad,i=e.story,o=e.view,a=e.viewParameter,s=e.component,u=e.width,c=function(e){if(Array.isArray(e))return e}(t=(0,j.useState)(0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=c[0],p=c[1],f=(0,j.useRef)(null),m=(null===(n=i.objects)||void 0===n?void 0:n.slice(0,3))||[];return(0,v.jsxs)(l.xu,{ref:f,alignItems:"end",display:"flex",height:400,justifyContent:"center",position:"relative",width:u,children:[(0,v.jsx)(Y.Z,{containerRef:f,id:i.id,index:d,slideWidth:u,children:m.map(function(e,t){var n,l,c,d,p;return(0,v.jsx)(q,{actionText:(null===(n=e.action)||void 0===n?void 0:n.text)||"",actionUrl:(null===(l=e.action)||void 0===l?void 0:l.url)||"",articleId:e.id,component:s,coverImage:e.cover_images&&(null===(c=e.cover_images[0].originals)||void 0===c?void 0:c.url)||"",debug:e.debug,index:t,isFullWidth:!0,onImageLoad:r,storyId:i.id,storyType:i.story_type,subtitle:(null===(d=e.subtitle)||void 0===d?void 0:d.format)||"",title:(null===(p=e.title)||void 0===p?void 0:p.format)||"",view:o,viewParameter:a,width:u,windowWidth:u},e.id)})}),(0,v.jsx)(l.xu,{display:"inlineBlock",height:"auto",paddingY:5,position:"absolute",width:"60%",children:(0,v.jsx)(X.default,{addEllipsis:!0,backNode:(0,v.jsx)($.Z,{iconColor:"inverse",iconType:"back",showFab:!0}),carouselData:{index:d,entityId:"",carouselSlots:m.map(function(e){return{id:e.id,title:null}})},carouselIndex:d,forwardNode:(0,v.jsx)($.Z,{iconColor:"inverse",iconType:"forward",showFab:!0}),handleCarouselSwipe:function(e){p(e)},pinKey:null})})]})}function ee(e){var t,n=e.component,r=e.onImageLoad,i=e.story,o=e.view,a=e.viewParameter,s=e.windowWidth,u=(null===(t=i.objects)||void 0===t?void 0:t.slice(0,3))||[];return(0,v.jsxs)(j.Fragment,{children:[(0,v.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:u[0].dominant_colors[0]}},flex:"grow"}),u.map(function(e,t){var l,u,c,d,p;return(0,v.jsx)(q,{actionText:(null===(l=e.action)||void 0===l?void 0:l.text)||"",actionUrl:(null===(u=e.action)||void 0===u?void 0:u.url)||"",articleId:e.id,component:n,coverImage:e.cover_images&&(null===(c=e.cover_images[0].originals)||void 0===c?void 0:c.url)||"",debug:e.debug,index:t,onImageLoad:r,storyId:i.id,storyType:i.story_type,subtitle:(null===(d=e.subtitle)||void 0===d?void 0:d.format)||"",title:(null===(p=e.title)||void 0===p?void 0:p.format)||"",view:o,viewParameter:a,width:500,windowWidth:s},e.id)}),(0,v.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:u[2].dominant_colors[0]}},flex:"grow"})]})}function et(e){var t=e.component,n=e.pwtSurfaceContext,r=e.story,i=e.view,o=e.viewParameter,a=((0,Z.Z)()||{}).width,s=function(){n&&n.markConstraintComplete("RenderHeroImages")};return(0,v.jsx)(j.Fragment,{children:(0,v.jsx)(l.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",width:a,children:3==(!a||a>822?3:1)?(0,v.jsx)(ee,{component:t,onImageLoad:s,story:r,view:i,viewParameter:o,windowWidth:a}):(0,v.jsx)(J,{component:t,onImageLoad:s,story:r,view:i,viewParameter:o,width:a})})})}function en(e){var t,n=e.story,r=(0,U.useHistory)(),i=n||{},o=i.user,a=i.custom_properties,s=i.action,u=o||{},c=u.full_name,d=u.username,f=u.image_medium_url,m=c||(null===(t=n.title)||void 0===t?void 0:t.format)||"",y=s||{},h=y.url,g=y.text,b=(a||{}).image;if(!h||!g)return null;var _=(0,v.jsxs)(l.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:"100%",justifyContent:"center",padding:2,position:"relative",children:[d&&f&&(0,v.jsx)(l.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,v.jsx)(H.qE,{name:d,size:"sm",src:f})}),m&&(0,v.jsx)(l.xv,{color:"inverse",weight:"bold",children:m})]});return(0,v.jsxs)(l.xu,{marginBottom:4,width:p.yF,children:[(0,v.jsx)(l.iP,{onTap:function(){return r.push(h)},children:(0,v.jsx)(l.zd,{height:p.yF,rounding:2,wash:!0,children:"string"==typeof b&&b?(0,v.jsx)(l.Ee,{alt:m,fit:"contain",naturalHeight:p.yF,naturalWidth:p.yF,src:b,children:_}):(0,v.jsx)(l.xu,{height:p.yF,width:p.yF,children:_})})}),(0,v.jsx)(l.xu,{marginTop:3,children:(0,v.jsx)(l.ZP,{fullWidth:!0,href:h,text:g})})]})}var er=new Set([101]),ei=["story"],eo=["storyGraphqlRef"];function ea(e){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function el(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?es(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==ea(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ea(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ea(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):es(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ec="UNKNOWN_CONTAINER_TYPE",ed=void 0!==o?o:o=n(282167);function ep(e){var t,n,r=e.componentFallback,i=e.initialSlotIndex,o=e.view,a=e.viewParameter,s=e.width,p=e.story,f=p.data,m=f.action,y=f.containerType,h=f.contentIds,b=f.displayOptions,_=f.storyId,x=f.storyType,P=f.trackingParams,j=p.forward,w=j.dataKeys,O=j.rawStoryData,A=j.storyGraphqlRef,k=null!==(t=null==b?void 0:null===(n=b.contentDisplay)||void 0===n?void 0:n.componentType)&&void 0!==t?t:r,C=(0,u.Z)({clientTrackingParams:P,componentType:k,contextLogData:{story_id:_,story_type:x,content_ids:h},impressionType:"Story",loggingId:_,slotIndex:i||0,viewParameter:a,viewType:o}),D=eu(eu({},e),{},{component:k}),E=function(){switch(y){case 90:return(0,v.jsx)(c.Z,eu(eu({},D),{},{story:O,storyGraphqlRef:A}));case 88:D.story;var e=eu(eu({},el(D,ei)),{},{storyKey:w.HeaderModule_story});return(0,v.jsx)(g.Z,eu({},e));case 89:var t=m||{},n=t.location,r=t.text,i=t.url;return(0,v.jsx)(d.Z,{location:n,text:r,url:i});case 91:return!!O&&(0,v.jsx)(N,eu(eu({},D),{},{story:O}));case 101:return!!O&&(0,v.jsx)(et,eu(eu({},D),{},{story:O}));case 92:return!!O&&(0,v.jsx)(en,eu(eu({},D),{},{story:O}));case 131:return!!O&&(0,v.jsx)(S,eu(eu({},D),{},{story:O}));default:return ec}}();return E===ec?null:(0,v.jsxs)(l.xu,{ref:C,width:er.has(y)?void 0:s,children:[E,(0,v.jsx)(l.xu,{})]})}var ef=(0,s.Z)({useGraphQLAdapter:function(e){var t=(0,a.useFragment)(ed,e);return{data:t,forward:{rawStoryData:null,storyGraphqlRef:t,dataKeys:{HeaderModule_story:{type:"graphqlRef",data:t}}}}},useLegacyAdapter:function(e){var t;return e&&{data:{action:e.action&&{location:e.action.location,text:e.action.text,url:e.action.url},containerType:"number"==typeof e.container_type?e.container_type:void 0,contentIds:e.content_ids,displayOptions:e.display_options&&{contentDisplay:e.display_options.content_display&&{componentType:e.display_options.content_display.component_type}},storyId:null!==(t=e.id)&&void 0!==t?t:"",storyType:e.story_type,trackingParams:e.tracking_params},forward:{rawStoryData:e,storyGraphqlRef:null,dataKeys:{HeaderModule_story:{type:"deprecated",data:e}}}}}});function em(e){var t=e.storyGraphqlRef,n=el(e,eo);return(0,v.jsx)(ef,{input:t?{enabled:!0,data:t}:{enabled:!1,data:n.story},children:function(e){var t=e.data;return t&&(0,v.jsx)(ep,eu(eu({},n),{},{story:t}))}})}},700398:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=new Set([90,88,89,91,101,92,131]);function i(e){return r.has(e)}},605706:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(76911),i=n(50286);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],a=t[1],l=(0,i.HG)();return(0,r.useEffect)(function(){!l&&window.innerWidth<320&&a(!0)},[l,a]),n}},782975:function(e,t,n){"use strict";function r(e,t){var n,r="".concat(e.type||""," ").concat(t.toString());switch(e.type){case"pin":return e.title||r;case"user":return e.username||r;case"explorearticle":return(null===(n=e.title)||void 0===n?void 0:n.format)||r;case"story":return e.id||r;default:return r}}n.d(t,{Z:function(){return r}})},673108:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=new Set([92]),i=new Set(["BUBBLE_ONE_COL"]);function o(e){var t=[];return e.forEach(function(e){if("story"===e.type?r.has(e.container_type)||i.has(e.story_type):1){var n=t[t.length-1];Array.isArray(n)?n.push(e):t.push([e])}else t.push(e)}),t}},905031:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(792182),i=n(444445);function o(){return((0,r.Z)()||{width:0}).width<2*i.yF+i.$H}},792606:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}}),n(704217);var r,i=n(908390),o=n(681669),a=n(898781),l=n(349700),s=n(867820),u=n(52022),c=n(829407),d=n(515198);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=["pinKey"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=void 0!==r?r:r=n(353070);function g(e){var t,n,r,o,p=e.pin,f=e.onClose,m=e.zIndex,y=null==p?void 0:null===(t=p.board)||void 0===t?void 0:t.name,h=(null==p?void 0:null===(n=p.board)||void 0===n?void 0:n.privacy)==="protected"?null:null==p?void 0:null===(r=p.board)||void 0===r?void 0:r.url,g=(0,a.ZP)(),v=(0,u.Z)(),b=h&&y?{boardName:y,boardUrl:h,username:h.split("/")[1]}:null;return(0,c.Z)(function(){var e;null!=p&&null!==(e=p.description)&&void 0!==e&&e.trim()||b||(0,s.My)("lop.dweb.plp.more_info.empty")}),(0,d.jsx)("div",{"data-test-id":"more-information-modal",onClick:function(){v({action:"click",item:"close-more-information-modal"}),f()},style:{backgroundColor:"rgba(85, 85, 85, 0.9)",color:"#333",height:"100vh",left:0,position:"fixed",top:0,WebkitFontSmoothing:"antialiased",width:"100vw",zIndex:m||2},children:(0,d.jsxs)(i.xu,{as:"section",color:"default",dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, calc(-50% - 32px))",paddingBottom:"10px"}},onClick:function(e){return e.stopPropagation()},position:"absolute",rounding:2,width:414,children:[(0,d.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:"solid 1px #efefef",padding:"0 24px"}},display:"flex",height:60,justifyContent:"end",children:[(0,d.jsx)("div",{onClick:function(){return f()},onKeyUp:function(){return f()},role:"button",style:{cursor:"pointer",fill:"#767676",marginTop:"20px"},tabIndex:"0",children:(0,d.jsx)(i.xu,{"data-test-id":"close-more-information-modal",children:(0,d.jsx)(i.JO,{accessibilityLabel:g._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",inline:!0,size:18})})}),(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{fontSize:"21px",fontWeight:"bold",left:"50%",transform:"translateX(-50%)"}},marginTop:5,position:"absolute",children:g._('More information', 'more information label', 'more information label')})]}),(0,d.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{maxHeight:"calc(60vh - 60px)",overflowY:"auto",padding:"0 24px 24px 24px"}},children:[!!(null!=p&&p.description)&&(0,d.jsx)("h2",{style:{fontSize:"16px",marginTop:"15px"},children:p.description}),!!b&&(0,d.jsx)(i.xu,{marginTop:3,children:(0,d.jsx)(i.xv,{children:(0,l.nk)(g._('Find this Pin and more on {{ board_link }} by {{ profile_link }}.', 'Link to pin\'s board and board\'s owner', 'Link to pin\'s board and board\'s owner'),{board_link:(0,d.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(i.rU,{display:"inlineBlock",href:b.boardUrl,onClick:function(){return(0,s.NC)("click_vase_modal_board",!0)},underline:"hover",children:b.boardName},"board-link")}),profile_link:(0,d.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(i.rU,{display:"inlineBlock",href:"/".concat(b.username,"/"),onClick:function(){return(0,s.NC)("click_vase_modal_profile",!0)},underline:"hover",children:(null==p?void 0:null===(o=p.pinner)||void 0===o?void 0:o.fullName)||b.username},"profile-link")})})})})]})]})})}function v(e){var t=e.pinKey,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,f),r=(0,o.sr)(h,t,{type:"pin",useLegacyAdapter:function(e){return{board:e.board&&{name:e.board.name,privacy:e.board.privacy,url:e.board.url},description:e.description,pinner:e.pinner&&{fullName:e.pinner.full_name}}}}).data;return r&&(0,d.jsx)(g,y(y({},n),{},{pin:r}))}},512176:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(76911),i=n(908390),o=n(112690),a=n(898781),l=n(967181),s=n(515198);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c={sm:12,md:16,lg:20,xl:24};function d(e){var t,n=e.isVerifiedMerchant,d=e.size,p=e.showText,f=e.showVerifiedIdentity,m=e.inspirationalBadges,y=e.inspirationalBadgesColor,h=(0,a.ZP)(),g=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=g[0],b=g[1],_=(0,l.W)(!!n),x=_.dangerousInlineStyle,P=_.iconColor,S=(0,o.Z)();return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(i.iP,{onTap:function(){S({component:13534,element:11717,event_type:102}),b(!0)},rounding:"circle",children:(0,s.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:x,"data-test-id":"verified-badge-icon",display:"flex",children:[(0,s.jsx)(i.JO,{accessibilityLabel:n?h._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):h._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:P,icon:"workflow-status-ok",inline:!0,size:c[d]}),p&&!f&&(0,s.jsx)(i.xu,{marginStart:2,children:(0,s.jsx)(i.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:x,children:h._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(n||p&&!f)&&(0,s.jsx)(l.Z,{inspirationalBadges:m,inspirationalBadgesColor:y,setShowModal:b,showModal:v})]})}},967181:function(e,t,n){"use strict";n.d(t,{W:function(){return p},Z:function(){return f}});var r=n(76911),i=n(908390),o=n(752403),a=n(112690),l=n(121151),s=n(898781),u=n(966113),c=n(515198);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}};function f(e){var t,n=e.inspirationalBadges,f=e.inspirationalBadgesColor,m=e.showModal,y=e.setShowModal,h=(0,s.ZP)(),g=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=g[0],b=g[1],_=p(!0),x=_.dangerousInlineStyle,P=_.iconColor,S=(0,a.Z)();return(0,r.useEffect)(function(){m&&v&&(b(!1),S({event_type:13,component:13534}))},[m]),(0,c.jsx)(l.ZP,{accessibilityModalLabel:h._('Verified merchant information', 'creator.verifiedMerchant.accessibilityModalLabel', 'Accessibility label for modal informing about a verified merchant'),isOpen:m,mobileAccessibilityCloseIconLabel:h._('Close', 'Close modal window', 'Close modal'),onDismiss:function(){S({component:13534,element:11716,event_type:102}),y(!1)},type:"verified_merchant_modal",children:(0,c.jsx)(i.xu,{padding:3,children:(0,c.jsxs)(i.xu,{"data-test-id":"verified-badge-modal",direction:"column",display:"flex",padding:2,children:[(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:x,display:"flex",justifyContent:"center",children:(0,c.jsx)(i.JO,{accessibilityLabel:h._('Merchant verification badge icon', 'creator.verifiedMerchant.modalIcon', 'Badge indicating that a merchant or user is verified'),color:P,icon:"workflow-status-ok",size:24})}),(0,c.jsx)(i.xu,{marginTop:4,children:(0,c.jsx)(i.xv,{align:"center",color:"shopping",weight:"bold",children:(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:x,children:h._('Verified merchant', 'creator.verifiedMerchant.modalHeader', 'this merchant is a verified merchant')})})}),(0,c.jsx)(i.xu,{marginBottom:4,marginTop:4,children:(0,c.jsx)(i.xv,{align:"center",overflow:"normal",children:h._('This retailer meets Pinterest\'s Merchant Guidelines', 'creator.verifiedMerchant.modalText.', 'this merchant is a verified merchant')})}),(void 0===n?[]:n).map(function(e){return(0,c.jsxs)(i.xu,{direction:"column",display:"flex",marginTop:4,children:[(0,c.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsx)(i.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:(0,o.ym)(f)},"data-test-id":"verified-badge-modal-inspirational-badge",display:"inlineBlock",paddingX:2,paddingY:2,rounding:1,children:e.label})})}),(0,c.jsx)(i.xu,{marginTop:2,children:(0,c.jsx)(i.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id)}),(0,c.jsx)(i.xu,{"data-test-id":"verified-badge-modal-learn-more",display:"flex",justifyContent:"center",marginTop:8,width:"100%",children:(0,c.jsx)(i.ZP,{accessibilityLabel:h._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com'),href:u.vBy,size:"lg",target:"blank",text:h._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com')})})]})})})}},55259:function(e,t,n){"use strict";var r=n(619937),i=n(794230);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s={campaignFilter:"all",adGroupFilter:"all",adFilter:"all"},u=function(e){var t={};return e&&(t={objectiveTypes:[e]}),t},c={overview:function(){return"/"},reporting:function(e){var t=e.objectiveType||null;delete e.objectiveType;var n=l(l({},e),u(t));return(0,i.Z)("/reporting/campaigns/",n)},reportingAdGroup:function(e){var t=e.campaignId,n=e.objectiveType,r=e.showAllEntities,o=e.adGroupId,a=e.message,c=l(l(l(l({campaignIds:[t]},r?s:{}),u(n)),o?{adGroupIds:[o]}:{}),{},{message:a});return(0,i.Z)("/reporting/adgroups/",c)},campaign:function(e){var t=e.id,n=e.objectiveType;return(0,i.Z)("/reporting/adgroups/",l({campaignIds:[t]},u(n)))},editCampaign:function(e){return e.isAutomatedCampaign?c.editAutomated({campaignId:e.id,view:"campaign"}):c.editV2({campaignId:e.id,view:"campaign"})},adgroup:function(e){var t=e.id,n=e.objectiveType,r=e.showAllEntities,o=e.pinPromotionId,a=e.campaignId;if("TEMPORARY_SHOPPING"===n||"CATALOG_SALES"===n)return(0,i.Z)("/reporting/productgroups/",l({adGroupIds:[t]},u(n)));var c=r?s:{},d=a?{campaignIds:[a]}:{},p=o?{pinPromotionIds:[o]}:{};return(0,i.Z)("/reporting/ads/",l(l(l(l({adGroupIds:[t]},u(n)),c),p),d))},editAdGroup:function(e){return e.isAutomatedCampaign?c.editAutomated({campaignId:e.id,view:"campaign"}):c.editV2({adGroupId:e.id,view:"adgroup"})},pinPromotion:function(e){var t=e.id,n=e.adFilter,r=n?{adFilter:n}:{};return(0,i.Z)("/reporting/ads/",l({pinPromotionIds:[t]},r))},editPinPromotion:function(e){var t=e.isCreatingPins?{isCreatingPins:!0}:{},n=e.pinPromotionId?{pinPromotionId:e.pinPromotionId}:{};return c.editV2(l(l({adGroupId:e.adGroupId,view:"ad"},n),t))},productGroup:function(e){var t=e.id,n=e.name;return(0,i.Z)("/reporting/productgroups/",{productGroupIds:[t],name:n})},campaigns:function(){return"/reporting/campaigns/"},adgroups:function(){return"/reporting/adgroups/"},ads:function(){return"/reporting/ads/"},bulkEdit:function(e){var t=e.entity_level,n=e.ids;return(0,i.Z)("/ads/bulk_edit/",{entity_level:t,ids:n})},productgroups:function(){return"/reporting/productgroups/"},productitems:function(){return"/reporting/productitems/"},campaignNegativeKeywords:function(){return"/reporting/campaignNegativeKeywords/"},campaignSearchQueries:function(){return"/reporting/campaignSearchQueries/"},adGroupNegativeKeywords:function(){return"/reporting/adGroupNegativeKeywords/"},adGroupPositiveKeywords:function(){return"/reporting/adGroupPositiveKeywords/"},adGroupSearchQueries:function(){return"/reporting/adGroupSearchQueries/"},ad:function(e){return c.pinPromotion(e)},campaignMode:function(e){return(0,i.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0)},create:function(e){var t=e.campaignId,n=e.objectiveType,r=e.partialCreate,o=e.catalogsFeedId,a=e.managedClientId,l=e.productGroupId,s=e.resumeLastDraft,u={};return t&&r&&(u.campaignId=t),n&&(u.objectiveType=n),"CATALOG_SALES"===n&&o&&(u.catalogsFeedId=o),l&&(u.productGroupId=l),a&&(u.managedClientId=a),s&&(u.resumeLastDraft=!0),(0,i.Z)("/ads/create/",u)},createAutomated:function(e){return(0,i.Z)("/automated/ads/create/",e)},editV2:function(e){return(0,i.Z)("/ads/edit/",e)},editAutomated:function(e){return(0,i.Z)("/automated/ads/edit/",e)},editDraftCampaign:function(e){return(0,i.Z)("/ads/edit_draft/",{campaignId:e.campaignId,view:"campaign"})},duplicateCampaign:function(e){return(0,i.Z)("/ads/duplicate/",e)},audiences:function(e){return(0,i.Z)("/audiences/",e.managedClientId?{managedClientId:e.managedClientId}:void 0)},audience_debug:function(){return"/audience_debug/"},prepaid_spend_campaign_breakdown:function(){return"/billing/prepaid_spend_campaign_breakdown/"},billing:function(e){var t=e.page,n=e.subSection,o=e.nextStepUrl;switch(t){case r.kM.BILLING_HISTORY:return"/billing/history/";case r.kM.ORDER_LINES:return"/billing/order_lines/";case r.kM.PROMOTIONS:return"/billing/promotions/";case r.kM.DOCUMENTS:return"/billing/documents/";case r.kM.TAX_DOCUMENTS:return"/billing/tax_documents/";case r.kM.PREPAID_CAMPAIGN_SPEND:return"/billing/prepaid_campaign_spend_summary/";default:var a={};return n&&(a.section=n),o&&(a.next_step_link_url=o),(0,i.Z)("/billing/",a)}},bulk:function(e){var t=e||{},n=t.subSection,o=t.page,a=t.jobStarted;switch(o){case r.fm.UPLOAD_TEMPLATE:return(0,i.Z)("/bulk_editor/upload_template/",{section:n});case r.fm.DOWNLOAD_TEMPLATE:return(0,i.Z)("/bulk_editor/download_template/",{section:n});case r.fm.HISTORY:return(0,i.Z)("/bulk_editor/history/",{section:n,job_started:a});case r.fm.RESOURCES:return(0,i.Z)("/bulk_editor/resources/",{section:n});default:return"/bulk_editor/"}},history:function(e){return(0,i.Z)("/history/",e)},shopping:function(e){return c.reporting(u("TEMPORARY_SHOPPING"))},pinterest_tag:function(e){var t=e.page,n=e.subSection,o=e.platform,a=e.source,s=e.origin;switch(t){case r.qp.PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:return"/conversions/events-overview/";case r.qp.PINTEREST_EVENT_HISTORY:if(a)return(0,i.Z)("/conversions/event-history/",{source:a});return"/conversions/event-history/";case r.qp.CONVERSION_HEALTH:return"/conversions/health/";case r.qp.PINTEREST_TEST_EVENTS:return(0,i.Z)("/conversions/test-events/",{subPage:n,platform:o});case r.qp.PINTEREST_TAG:return(0,i.Z)("/conversions/tag/",{subPage:n,platform:o});case r.qp.PINTEREST_TAG_MANUAL_SETUP_FLOW:if(o)return(0,i.Z)("/conversions/tag_manual_setup/",l(l({},{platform:o}),{source:a}));return"/conversions/tag_manual_setup/";case r.qp.PINTEREST_TAG_EVENTS:return"/conversions/tag-events/";case r.qp.PINTEREST_TAG_HEALTH:return"/conversions/tag-health/";case r.qp.CONVERSION_UPLOAD:return(0,i.Z)("/conversions/upload/",{subPage:n});case r.qp.UPLOAD_HISTORY:return(0,i.Z)("/conversions/history/",{subPage:n});case r.qp.PCA_UPLOAD_HISTORY:return(0,i.Z)("/conversions/pca_history/",{subPage:n});case r.qp.PCA_UPLOAD:return(0,i.Z)("/conversions/pca_upload/",{subPage:n});case r.qp.CONVERSIONS_API_MANUAL_SETUP_FLOW:if(a||s)return(0,i.Z)("/conversions/api_manual_setup/",l(l({},{source:a}),{origin:s}));return"/conversions/api_manual_setup/";case r.qp.CONVERSIONS_API_PARTNER_SETUP_FLOW:if(a||s)return(0,i.Z)("/conversions/api_partner_setup/",l(l({},{source:a}),{origin:s}));return"/conversions/api_partner_setup/";case r.qp.CONVERSIONS_API_ACCESS_TOKEN:return"/conversions/access_token/";case r.qp.PINTEREST_SETUP_API:return"/conversions/setup-api/";case r.qp.CONVERSIONS_API_DEDUPLICATION:return"/conversions/deduplication/";case r.qp.PAYLOAD_HELPER:return"/conversions/payload-helper/";case r.qp.CONVERSIONS:return"/conversions/";default:return"/conversions/tag/"}},"pin-builder":function(e){return(0,i.Z)("/pin-builder/",e)},purchases:function(){return c.reporting(u("PURCHASE"))},awareness_reserved:function(){return c.reporting(u("IMPRESSION"))},engagement:function(){return c.reporting(u("BILLABLE_ENGAGEMENT"))},videos:function(){return c.reporting(u("TEMPORARY_BIDDED_CPM_VIDEO"))},videos_reserved:function(){return c.reporting(u("TEMPORARY_IMPRESSION_VIDEO"))},videos_cpv:function(){return c.reporting(u("TEMPORARY_MRC_CPV_VIDEO"))},conversions:function(){return c.reporting(u("WEB_CONVERSION"))},accounts_manager:function(){return"/accounts_manager/"},reporting_preferences:function(e){return(0,i.Z)("/reporting/preferences/",e)},report_builder:function(e){return(0,i.Z)("/report-center/builder/",e)},report_history:function(e){return(0,i.Z)("/report-center/history/",e)},report_unsubscribe:function(e){return(0,i.Z)("/report-center/unsubscribe/",e)},report_download:function(e){return(0,i.Z)("/report-center/download/",e)},media_planner:function(){return"/media_planner/"},awareness:function(){return c.reporting(u("AWARENESS"))},traffic:function(){return c.reporting(u("TRAFFIC"))},app_installs:function(){return c.reporting(u("APP_INSTALL"))},catalog_sales:function(){return c.reporting(u("CATALOG_SALES"))},web_conversion:function(){return c.reporting(u("WEB_CONVERSION"))},video_view:function(){return c.reporting(u("VIDEO_VIEW"))},quick_promote:function(e){return(0,i.Z)("/quick-promote/",e)},quick_promote_on_www:function(){return"/advertiser/quick-promote/"},recommendations:function(e){return(0,i.Z)("/recommendations/",e)},catalog_view:function(){return"/product-catalogs/data-source"},campaign_insights:function(e){return"/campaign-insights/".concat(e.campaignId,"/")},product_group_reporting:function(e){return"/campaign-insights/".concat(e.campaignId,"/product-group/").concat(e.productGroupId)}};t.Z=c},619937:function(e,t,n){"use strict";n.d(t,{$N:function(){return m},Cu:function(){return h},GY:function(){return u},MZ:function(){return a},NR:function(){return d},Vn:function(){return c},bC:function(){return y},fm:function(){return r},kM:function(){return o},q6:function(){return i},qp:function(){return s},uV:function(){return p},ug:function(){return f},xL:function(){return l}});var r={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},i={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},o={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},a={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud"},l={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},s={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY",PAYLOAD_HELPER:"PAYLOAD_HELPER",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API"},u={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},c={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},d={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},p="604800",f="86400",m={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},y="click",h="view"},28543:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(55259),i=n(966113),o=n(567831);function a(e,t,n){if(!r.Z[e])throw Error("unknown url key: ".concat(e));n||(n={});var a,l,s=r.Z[e](n),u=(l=null,(a=n)&&(l=a.advertiserId||null),!l&&t&&(l=t.id),l),c=!!n.absolutify;return"string"==typeof u&&(s="/advertiser/"+u+s),c&&(s=(0,o.Z)(s,void 0,i.KUo)),s}},337815:function(e,t,n){"use strict";n.d(t,{YS:function(){return l},eF:function(){return u},m_:function(){return a}});var r=n(619937),i=n(67347);function o(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function a(e,t,n,i,o){var a=new URLSearchParams,l=null!=e?e:"0";return a.append(r.NR.SOURCE_EVENT_ID,l),a.append(r.NR.DESTINATION,function(e){var t;try{t=decodeURIComponent(e)}catch(n){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(r){var n=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(n&&n.length>1)return n[1];return e}}(t)||""),a.append(r.NR.EXPIRY,n?r.uV:r.ug),a.append(r.NR.PRIORITY,n?r.NR.CLICK_PRIORITY:r.NR.VIEW_PRIORITY),o&&a.append(r.NR.ADVERTISER_ID,o),i&&a.append(r.NR.CAMPAIGN_ID,i),a.append(r.NR.SOURCE_EVENT_TYPE,n?r.bC:r.Cu),"/attribution_source/?"+a.toString()}function l(e,t,n,r,i,o,a){return s.apply(this,arguments)}function s(){var e;return e=regeneratorRuntime.mark(function e(t,n,r,o,l,s,u){var c,d,p,f,m,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d=(c=s||{}).appType,p=c.osType,!(["Pin","pinImpressions"].includes(t)&&n&&o)){e.next=22;break}if((0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:d,osType:p}}),e.prev=3,null!==(f=window.document.featurePolicy)&&void 0!==f&&f.allowsFeature("attribution-reporting")){e.next=7;break}return(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:d,osType:p}}),e.abrupt("return");case 7:return m={eventSourceEligible:!0,triggerEligible:!1},y=a(r,o||"",!1,l,u),e.next=11,window.fetch(y,{keepalive:!0,attributionReporting:m});case 11:if(e.sent.ok){e.next=14;break}throw Error("server request failed.");case 14:(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:d,osType:p}}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:e.t0.name,appType:d,osType:p}});case 20:e.next=23;break;case 22:(0,i.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:d,osType:p}});case 23:case"end":return e.stop()}},e,null,[[3,17]])}),(s=function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function l(e){o(a,r,i,l,s,"next",e)}function s(e){o(a,r,i,l,s,"throw",e)}l(void 0)})}).apply(this,arguments)}function u(e){if(e){var t=e.toLowerCase();if(t.includes("windows"))return"windows xp"===t?1:"windows vista"===t?2:"windows 7"===t?3:"windows 8"===t?4:12;if(t.includes("mac os"))return 5;if(t.includes("android"))return 7;if(t.includes("ios"))return 6;if(t.includes("ubuntu"))return 8;if(t.includes("chromium os"))return 13}return 0}},21353:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(506979),i=n(28543);function o(){var e=(0,r.useSelector)(function(e){return e.advertiser});return function(t,n){return(0,i.default)(t,e,n)}}},77601:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r="undefined"!=typeof window&&window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};function i(e){var t=e.window,n=e.duration,i=e.run,o=r(),a=0,l=null,s=function e(){var s=r()-o,u=s-a;if(n===1/0)i(0,s,u);else{var c=s/n;if(c>=1){i(1,s,u);return}i(c,s,u)}a=s,l=t.requestAnimationFrame(e)};return{start:function(){l=t.requestAnimationFrame(s)},cancel:function(){l&&(t.cancelAnimationFrame(l),l=null)}}}},283698:function(e,t,n){"use strict";function r(e){return("undefined"==typeof window||!Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame"))&&e&&e(),window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){e&&e()})})}n.d(t,{Z:function(){return r}})},100183:function(e,t,n){"use strict";n.d(t,{CC:function(){return r},Ll:function(){return o},XF:function(){return i}});var r=function(e,t){var n=2*Math.random()*Math.PI;return{x:Math.floor(t/2*Math.cos(n)),y:Math.floor(e/2*Math.sin(n))}},i=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},o=function(e){return["@-webkit-keyframes","@keyframes"].map(function(t){return e.map(function(e){return t+" "+e}).join("\n")}).join("\n")}},561067:function(e,t,n){"use strict";n(704217);var r,i=n(908390),o=n(681669),a=n(898781),l=n(867820),s=n(52022),u=n(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=["pinKey"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=void 0!==r?r:r=n(30755),y=function(){var e=(0,a.ZP)();return(0,u.jsx)(i.xv,{size:"300",children:e._('Featured in Pinterest\'s article', 'Title of suggesting articles module in the pin.', 'unauth.main_pin.featured_in_articles')})};function h(e){var t=e.isDesktop,n=e.pin,r=(0,a.ZP)(),o=(0,s.Z)(),c=(null==n?void 0:n.relatedArticle)||{},d=c._id,p=c.mainImageUrl,f=c.title,m=c.urlPath;if(!d&&!p&&!f&&!m)return null;var h=function(){(0,l.tj)("mweb.unauth.featured_in_article_text.plp.touch",{article_id:d}),o({action:"click",item:"pin-featured-in-article"})};return(0,u.jsxs)(i.xu,{marginTop:10,children:[(0,u.jsx)(i.iz,{}),!t&&(0,u.jsx)(i.xu,{marginBottom:-2,marginTop:4,children:(0,u.jsx)(y,{})}),(0,u.jsxs)(i.xu,{direction:"row",display:"flex",marginBottom:4,marginTop:4,children:[(0,u.jsx)(i.xu,{alignSelf:"center",children:(0,u.jsx)(i.zd,{height:48,rounding:3,width:48,children:p&&(0,u.jsx)(i.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:p})})}),(0,u.jsxs)(i.xu,{alignSelf:"center",marginEnd:2,marginStart:2,children:[t&&(0,u.jsx)(y,{}),(0,u.jsx)(i.rU,{href:m||"",onClick:function(){return h()},tapStyle:"compress",underline:"none",children:(0,u.jsx)(i.xv,{overflow:"normal",size:"300",weight:"bold",children:f})})]}),(0,u.jsx)(i.xu,{"data-test-id":"view-button",marginStart:"auto",children:(0,u.jsx)(i.ZP,{fullWidth:!0,href:m||"",onClick:function(){return h()},size:"lg",text:r._('View', 'Button that takes the user from a pin to the article the pin is featured on', 'unauth.main_pin.view_featured_in_articles')})})]})]})}t.Z=function(e){var t=e.pinKey,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,d),r=(0,o.sr)(m,t,{type:"pin",useLegacyAdapter:function(e){return{relatedArticle:e.related_article&&{_id:e.related_article.id,mainImageUrl:e.related_article.main_image_url,title:e.related_article.title,urlPath:e.related_article.url_path}}}}).data;return r&&(0,u.jsx)(h,f(f({},n),{},{pin:r}))}},613316:function(e,t,n){"use strict";function r(e){return[0,24,21,26].includes(e)}function i(e){var t=e.articleType,n=e.id,r=e.title.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===t?"/today/shop/".concat(r,"/").concat(n,"/"):"/discover/article/".concat(r,"/").concat(n,"/")}n.d(t,{x:function(){return i},y:function(){return r}})},987765:function(e,t,n){"use strict";n.d(t,{t:function(){return y},Z:function(){return g}});var r=n(908390),i=n(76911),o=n(391254),a=n(515198),l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s=function(e){for(var t=[],n=Math.floor(3*Math.random()+1),r=0;r<n-1;r+=1){var i=Math.floor(Math.random()*(e.length-1)+1);t.push(i)}t.sort(function(e,t){return e-t});for(var o=[],a=0,l=0;l<t.length;l+=1)o.push(e.slice(a,t[l])),a=t[l];return o.push(e.slice(a)),[].concat(o)};function u(e){var t=e.children,n=(0,i.useMemo)(function(){return s(t.replace("  "," ")).map(function(e){return{className:[,,,,,].fill().map(function(){return l[Math.floor(Math.random()*l.length)]}).join(""),content:e}})},[t]);return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(o.Z,{unsafeCSS:n.map(function(e){var t=e.className,n=e.content;return".".concat(t," { display: inline; overflow-wrap: unset; } .").concat(t,':before { content: "').concat(n,'"; font-weight: 600;  }')}).join(" ")}),n.map(function(e){var t=e.className;return(0,a.jsx)("div",{className:t},t)})]})}var c=n(773285),d=n(780280),p=n(19121),f=function(){var e,t=(0,p.Z)(),n=null!==(e=(0,(0,c.F)().checkExperiment)("web_obfuscate_ads_with_global_css").group.split("_")[3])&&void 0!==e?e:"op";return"".concat(n).concat(t.isAuth?t.id:"unauth")},m=function(){return(0,a.jsx)("div",{className:f()})},y=function(){var e=(0,c.F)().checkExperiment,t=f();return e("web_obfuscate_ads_with_global_css").anyEnabled?(0,a.jsx)(o.Z,{unsafeCSS:".".concat(t,':before { content: "Promoted by"; font-weight: 600;  }')}):null};function h(e){var t=e.children;return(0,(0,c.F)().checkExperiment)("web_obfuscate_ads_with_global_css").anyEnabled?(0,a.jsx)(m,{}):(0,a.jsx)(u,{children:t})}function g(e){var t=e.children,n=e.lineClamp,i=e.size,o=e.underline,l=e.weight,s=(0,d.B)().isAuthenticated&&"Promoted by"===t;return(0,a.jsx)(r.xv,{lineClamp:n,size:i,title:s?void 0:t,underline:o,weight:l,children:s?(0,a.jsx)(h,{children:t}):t})}},221263:function(e,t,n){"use strict";function r(e,t){return e.isAuth&&t===e.id}n.d(t,{Z:function(){return r}})},937330:function(e,t,n){"use strict";function r(e,t){return!!(t.isAuth&&e)}n.d(t,{Z:function(){return r}})},4294:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(221263),i=n(937330);function o(e,t,n){return(0,r.Z)(n,t)||(0,i.Z)(e,n)}},400669:function(e,t,n){"use strict";n.d(t,{P:function(){return a},Z:function(){return l}});var r=n(76911),i=n(221263),o=n(937330),a=function(e){var t,n,r=e.action,a=e.viewer,l=e.board;return!!l&&((0,i.Z)(a,null===(t=l.owner)||void 0===t?void 0:t.entityId)||(0,o.Z)(l.collaboratedByMe,a)&&!!(null!==(n=l.collaboratorPermissions)&&void 0!==n&&n.includes(r)))};function l(e){var t,n,i=e.board,o=null!==(t=null==i?void 0:null===(n=i.owner)||void 0===n?void 0:n.id)&&void 0!==t?t:"",l=(0,r.useMemo)(function(){return null==i?void 0:i.collaborator_permissions},[null==i?void 0:i.id]);return{canPerformAction:(0,r.useCallback)(function(e){return a({action:e.action,viewer:e.viewer,board:{collaboratedByMe:null==i?void 0:i.collaborated_by_me,collaboratorPermissions:l,owner:o?{entityId:o}:null}})},[null==i?void 0:i.collaborated_by_me,l,o])}}},792182:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(76911);function i(e){return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}function o(){return window.innerWidth}function a(){return window.innerHeight}function l(){return null}function s(){var e=(0,r.useSyncExternalStore)(i,a,l),t=(0,r.useSyncExternalStore)(i,o,l);return null!==e&&null!==t?{height:e,width:t}:null}},326884:function(e,t,n){"use strict";n.d(t,{EF:function(){return d},Hg:function(){return P},Hl:function(){return v},IR:function(){return h},Je:function(){return u},K3:function(){return A},O1:function(){return E},Q6:function(){return f},QE:function(){return r},V3:function(){return x},Z4:function(){return y},c7:function(){return g},cU:function(){return a},cg:function(){return i},dZ:function(){return o},gO:function(){return b},j$:function(){return _},j9:function(){return k},pg:function(){return I},pt:function(){return O},qq:function(){return D},sy:function(){return c},tP:function(){return S},uE:function(){return m},vk:function(){return C},w2:function(){return s},we:function(){return w},ww:function(){return j},xX:function(){return l},yR:function(){return p}});var r=3e3,i=280,o=500,a=1e4,l=250,s=251,u=50,c=50,d=20,p=20,f={DASHBOARD:"DASHBOARD",PEOPLE:"PEOPLE",PARTNERS:"PARTNERS",AD_ACCOUNTS:"AD_ACCOUNTS",AD_ACCOUNTS_PENDING_TAB:"AD_ACCOUNTS_PENDING_TAB",HISTORY:"HISTORY",PEOPLE_DETAIL:"PEOPLE_DETAIL",PARTNERS_DETAIL:"PARTNERS_DETAIL",SHARED_PARTNERS_DETAIL:"SHARED_PARTNERS_DETAIL",AD_ACCOUNTS_DETAIL:"AD_ACCOUNTS_DETAIL",PENDING_AD_ACCOUNTS_DETAIL:"PENDING_AD_ACCOUNTS_DETAIL",PEOPLE_INVITES:"PEOPLE_INVITES",PARTNERS_INVITES:"PARTNERS_INVITES",CHOOSER:"CHOOSER",PARTNERS_REQUEST_PAGE:"PARTNERS_REQUEST_PAGE",PARTNERS_INVITE_PAGE:"PARTNERS_INVITE_PAGE",PROFILES:"PROFILES",PROFILES_DETAIL:"PROFILES_DETAIL",PARTNERS_PENDING_TAB:"PARTNERS_PENDING_TAB",PEOPLE_PENDING_TAB:"PEOPLE_PENDING_TAB",USERS:"USERS",ACOUNTS:"ACCOUNTS",BUSINESS_SECURITY:"BUSINESS_SECURITY",SUPPORT_TOOL:"SUPPORT_TOOL",ASSETS:"ASSETS",ASSET_GROUPS:"ASSET_GROUPS",INVOICE_MANAGEMENT:"INVOICE_MANAGEMENT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",BUSINESS_HIERARCHY_BUSINESS_SECURITY:"BUSINESS_HIERARCHY_BUSINESS_SECURITY",MANAGERS:"MANAGERS",AUDIENCES:"AUDIENCES",SHARED_TAGS:"SHARED_TAGS",CATALOGS:"CATALOGS"},m={PARTNER:"PARTNER",PARTNER_ADMIN:"PARTNER_ADMIN"},y={ADVERTISER_OWNED_AD_ACCOUNT:"ADVERTISER_OWNED_AD_ACCOUNT",AGENCY_OWNED_AD_ACCOUNT:"AGENCY_OWNED_AD_ACCOUNT"},h={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},g={AD_ACCOUNT:"AD_ACCOUNT",PERSON:"PERSON",PARTNER:"PARTNER"},v={PERSON:"PERSON",PARTNER:"PARTNER",PROFILE:"PROFILE"},b={ADMIN:"ADMIN",ANALYST:"ANALYST",FINANCE_MANAGER:"FINANCE_MANAGER",AUDIENCE_MANAGER:"AUDIENCE_MANAGER",CAMPAIGN_MANAGER:"CAMPAIGN_MANAGER",CATALOGS_MANAGER:"CATALOGS_MANAGER"},_=["ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER"],x={EMPLOYEE:"EMPLOYEE",BIZ_ADMIN:"BIZ_ADMIN",OWNER:"OWNER"},P=["PROFILE_PUBLISHER"],S={AD_ACCOUNT:0,PROFILE:2,ASSET_GROUP:3},j={0:"AD_ACCOUNT",2:"PROFILE",3:"ASSET_GROUP"},w={id:"0",is_pin_support_user:!0,biz_roles:[x.BIZ_ADMIN],business_roles:[x.BIZ_ADMIN],user:{username:"psupport",full_name:"Pinterest support",image_small_url:"https://i.pinimg.com/60x60_RS/f6/e9/3a/f6e93a06b500b2d87ffd32e1f56f7c6f.jpg",image_medium_url:"https://i.pinimg.com/150x150_RS/f6/e9/3a/f6e93a06b500b2d87ffd32e1f56f7c6f.jpg"}},O={ACTIVE:0,PENDING:1},A={ACTIVE:"active",PENDING:"pending"},k="filter_type",C={page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:""},D={WARNING:"WARNING",DEFAULT:"DEFAULT"},E={BUSINESS_INVITE_INVALID:2932,BUSINESS_ACCESS_PERSONAL_ACCOUNT:2936,INVALID_USERNAME:90,ACCESS_DENIED:280,BUSINESS_RELATIONSHIP_ALREADY_EXISTS:2751,ODO_BUSINESS_RELATIONSHIP_ALREADY_EXISTS:53,BUSINESS_RELATIONSHIP_COUNT_EXCEEDED:2769,BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:2938,ODO_BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:66,ODO_BIZ_INVITE_EXISTS:71,INVALID_ODO_REQUEST:2755,BUSINESS_INVITE_STACKED_ERROR:2773,ACL_POLICY_NOT_FOUND:1110,BUSINESS_INVITE_NOT_EXIST:2770},I={ALL_TAGS:"ALL",OWNED:"OWNED",SHARED:"SHARED"}},752403:function(e,t,n){"use strict";n.d(t,{Bu:function(){return g},Dm:function(){return c},I:function(){return _},NG:function(){return y},QP:function(){return f},S4:function(){return p},Xe:function(){return m},_f:function(){return h},eT:function(){return v},hm:function(){return b},yQ:function(){return d},ym:function(){return x}});var r=n(642345);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),s=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),u=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),c=[].concat(i(Object.keys(l).map(function(e){return l[e]})),i(Object.keys(s).map(function(e){return s[e]}))),d=i(Object.keys(u).map(function(e){return u[e]})),p=3,f=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],m={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:f[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},y="https://help.pinterest.com/article/merchant-details",h="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function g(e){var t,n,r=e.verifiedMerchant,i=null==r?void 0:r.isVerifiedMerchant,o=null==r?void 0:null===(t=r.inspirational_signal)||void 0===t?void 0:t.is_inspirational,a=null==r?void 0:null===(n=r.inspirational_signal)||void 0===n?void 0:n.is_eligible_for_storefront_badges;return!!(i&&o&&a)}function v(e){return e.badge_details?e.badge_details.map(function(e){return e.id}):[]}function b(e){return(null==e?void 0:e.profile_badges)||[]}function _(e,t,n){return t&&n?t.map(function(e){return n.find(function(t){return t.id===e.trim()})}).filter(Boolean):[]}function x(e){var t=e||f[0];return{backgroundColor:t,color:function(e){var t=(0,r.oo)(e);if(!t)return"white";var n=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,3)||o(t,3)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=n[0],a=n[1],l=n[2];return(0,r.DW)(i,a,l)<=r.I?"white":"black"}(t)}}},834911:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(341732);function i(e){var t,n=e.carouselData,i=e.images,o=e.product,a=e.shouldUnifyImageSizes;return null!=o&&null!==(t=o.additional_images)&&void 0!==t&&t.length?(0,r.Z)(i,o.additional_images,null==n?void 0:n.index,a,o.id):n||void 0}},737022:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&null!==(n=[].concat(function(e){if(Array.isArray(e))return r(e)}(t=i?[e["736x"],e["564x"]]:[e["564x"],e["736x"]])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e["474x"],e["236x"]]).find(function(e){return null==e?void 0:e.url}))&&void 0!==n?n:null}n.d(t,{Z:function(){return i}})},341732:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){var i;return(i=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===r(i)?i:String(i))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return c}});var u=["236x","474x","564x","736x"];function c(e,t,n,r,i){var s=[].concat(l(e?[{images:e}]:[]),l((null!=t?t:[]).map(function(e){return{images:e.canonical_images||void 0,image_signature:e.image_signature||void 0}})));return{carousel_slots:r?function(e){function t(e,t){var n=t.imageKey,r=t.height,i=t.width;return e.images&&e.images[n]&&(e=o(o({},e),{},{images:o(o({},e.images),{},a({},n,o(o({},e.images[n]),{},{height:r,width:i})))})),e}var n=u.map(function(t){var n=Math.min.apply(Math,l(e.map(function(e){return e.images&&e.images[t]&&e.images[t].height||1/0}))),r=Math.min.apply(Math,l(e.map(function(e){return e.images&&e.images[t]&&e.images[t].width||1/0})));return{imageKey:t,height:n,width:r}});return e.map(function(e){return n.reduce(t,e)})}(s):s,index:n||0,id:i}}},827896:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(599689),i=n(768559),o=n(350118);function a(){var e=(0,o.S6)(),t=(0,r.useLocation)();return function(n,r){var o,a,l,s=e(n);if(null!=r&&r.shouldTrackForPrevLocation){var u=(null==s?void 0:s.tracking_params_map)||{},c=Object.keys(u).find(function(e){return"PinResource"!==e});s&&(o=c?u[c]:u.PinResource)}else s&&(o=(0,i.Z)({boardUrl:null===(a=s.board)||void 0===a?void 0:a.url,location:t,pinId:s.id,pinnerUserName:null===(l=s.pinner)||void 0===l?void 0:l.username,storyPinDataId:s.story_pin_data_id,trackingParams:s.tracking_params,trackingParamsMap:s.tracking_params_map}));return o}}},41861:function(e,t,n){"use strict";function r(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function e(t,n){if(null==t||"object"!==o(t)&&"function"!=typeof t)return t;var a,l=n.find(function(e){return e.value===t});if(l)return l.result;var s=Object.prototype.toString.call(t);switch(s){case"[object Array]":a=Array(t.length);break;case"[object Set]":a=new Set;break;case"[object Object]":case"[object Arguments]":a={};break;case"[object Map]":a=new Map;break;default:return t}var u=[].concat(function(e){if(Array.isArray(e))return i(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||r(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{value:t,result:a}]);switch(s){case"[object Array]":t.forEach(function(t,n){a[n]=e(t,u)});break;case"[object Set]":t.forEach(function(t){a.add(e(t,u))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(function(t){var n=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||r(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=n[0],o=n[1];a[i]=e(o,u)});break;case"[object Map]":t.forEach(function(t,n){a.set(n,e(t,u))})}return a}(e,[])}n.d(t,{Z:function(){return a}})},409667:function(e,t,n){"use strict";function r(e){var t=e.isHiddenPin,n=e.isUnsafePin;return!t&&!n}n.d(t,{Z:function(){return r}})},642345:function(e,t,n){"use strict";n.d(t,{DW:function(){return o},I:function(){return i},oo:function(){return r},zI:function(){return a}});var r=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},i=.18,o=function(e,t,n){return .2126*Math.pow(e/255,2.2)+.7151*Math.pow(t/255,2.2)+.0721*Math.pow(n/255,2.2)},a=function(e){var t=e.replace("#","");return(299*parseInt(t.substr(0,2),16)+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155}},997138:function(e,t,n){"use strict";var r=n(908390),i=n(356997),o=n(898781),a=n(515198);t.Z=function(e){var t=e.isQuestion,n=e.name,l=e.size,s=e.src,u=(0,o.ZP)();return(0,a.jsxs)(r.xu,{"data-test-id":"comment-avatar-container",position:"relative",children:[(0,a.jsx)(i.qE,{name:n,size:l,src:s}),t&&(0,a.jsxs)(r.xu,{alignItems:"center",bottom:!0,display:"flex",height:16,justifyContent:"center",marginBottom:-1,marginEnd:-1,position:"absolute",right:!0,width:16,children:[(0,a.jsx)(r.xu,{position:"absolute",children:(0,a.jsx)(r.JO,{accessibilityLabel:u._('Q and A comment', 'comment.userAvatar.creator.q&aIndicator', 'question mark icon indicator background that comment is Q&A'),color:"dark",icon:"speech"})}),(0,a.jsx)(r.xu,{position:"absolute",children:(0,a.jsx)(r.JO,{accessibilityLabel:u._('Q and A comment', 'comment.userAvatar.creator.q&aIndicator', 'question mark icon indicator background that comment is Q&A'),color:"light",icon:"question-mark",size:8})})]})]})}},44715:function(e,t,n){"use strict";n.d(t,{Z:function(){return ex}});var r=n(908390),i=n(76911),o=n(506979),a=n(550398),l=n(964569),s=n(129274),u=n(923764),c=n(997138),d=n(898781),p=n(515198),f=function(e){var t=e.color,n=e.isMarkedHelpful,i=(0,d.ZP)();return(0,p.jsx)(r.JO,{accessibilityLabel:i._('Helpful', 'comment.button.helpful', 'mark or unmark comment as helpful'),color:n?"brandPrimary":t,icon:"thumbs-up",inline:!0,size:12})},m=n(28754),y=n(541776),h=n(407043),g=n(499128),v=n(773285),b=n(343341),_=n(19121),x=n(717615),P=n(845772),S=n(231947),j=n(139405),w=n(600147),O=n(550393),A=n(492583),k=n(116674);function C(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t,n,a,l=e.aggregatedPinDataId,s=e.anchor,u=e.closeupAttributionId,c=e.comment,f=e.dismiss,E=e.isOpen,I=e.isReply,T=e.onEdit,R=e.onShowBlockUserModal,F=e.parentId,L=e.pinnerId,z=e.pinId,M=(0,d.ZP)(),B=(0,o.useDispatch)(),N=(0,h.v)().logContextEvent,Z=(0,b.F9)().showToast,U=(0,(0,v.F)().checkExperiment)("web_m10n_business_access_orbac_ga").anyEnabled,K=(0,j.nf)().toggleAggregatedCommentHighlight,H=(0,m.Z)(),V=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),G=V[0],W=V[1];(0,i.useEffect)(function(){W(E)},[E,W]);var q=(0,_.Z)(),Y=(0,x.Z)(),X=(0,P.Z)(),$=(0,k.f)().reportComment,Q=null!=u?u:"",J=c.user.id,ee=q.isAuth&&Q===q.id,et="userdiditdata"===c.type,en=(0,S.q6)(q,null!=L?L:"",U?Y:{}),er=(0,S.D3)(q,J,U?Y:{}),ei=(0,S.D3)(q,Q,U?Y:{}),eo=q.isAuth&&(c.tagged_users||[]).filter(function(e){return e.id===q.id}).length>0,ea=(n=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K({aggregatedCommentId:c.id,pinId:z,isHighlighted:t});case 3:N({event_type:101,component:13712,element:t?12475:12474,view_type:220,aux_data:{creator_id:J}}),Z(function(e){var n=e.hideToast;return(0,p.jsx)(g.ZP,{onHide:n,primaryAction:{accessibilityLabel:M._('Undo comment highlight or comment highlight removal', 'unifiedComment.unifiedCommentContainer.commentHighlightToast.a11yUndoButton', 'Undo comment highlight or comment highlight removal'),label:M._('Undo', 'unifiedComment.unifiedCommentContainer.commentHighlightToast.undoButton', 'Undo comment highlight or comment highlight removal'),size:"lg",onClick:function(){K({aggregatedCommentId:c.id,pinId:z,isHighlighted:!t})}},text:t?M._('Highlight removed', 'unifiedComment.unifiedCommentContainer.popover.commentHighlightRemovalToast', 'Toast that tells user that they have successfully removed a comment highlight.'):M._('Comment highlighted', 'unifiedComment.unifiedCommentContainer.popover.commentHighlightToast', 'Toast that tells user that they have successfully highlighted a comment.')})}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.message&&Z(function(t){var n=t.hideToast;return(0,p.jsx)(g.ZP,{onHide:n,text:e.t0.message,type:"error"})});case 10:case"end":return e.stop()}},e,null,[[0,7]])}),a=function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function a(e){C(o,r,i,a,l,"next",e)}function l(e){C(o,r,i,a,l,"throw",e)}a(void 0)})},function(e){return a.apply(this,arguments)}),el=function(e){return function(){ea(e)}},es=function(e){return function(){e(),f(!0)}};if(!E)return null;var eu={highlight:M._('Highlight', 'Highlight a community post or comment', 'Highlight a community post or comment'),removeHighlight:M._('Remove highlight', 'Remove highlight for a community post or comment', 'Remove highlight for a community post or comment'),edit:M._('Edit', 'Edit a community post or comment', 'Edit a community post or comment'),delete:M._('Delete', 'Delete a community post or comment', 'Delete a community post or comment'),reportContent:M._('Report this content', 'Report a community post or comment', 'Report a community post or comment'),removeMention:M._('Remove @mention', 'closeup.activityItem.removeMention', 'Button that allows user to remove their @mention in a comment on a pin'),reportForNetzDG:M._('Report comment for NetzDG', 'commentOverflowMenu.option.reportForNetzDG', 'Report comment - NetzDG'),blockUser:M._('Block user', 'closeup.activityItem.blockUser', 'Block comment author')},ec=new r.Ry(1);return G&&(0,p.jsx)(r.xu,{onFocus:function(e){return e.stopPropagation()},children:(0,p.jsx)(r.Lt,{anchor:s,disableMobileUI:!0,id:"comment-overflow-popover",idealDirection:"down",isWithinFixedContainer:!1,onDismiss:function(){return f(!1)},zIndex:ec,children:q.isAuth?(0,p.jsxs)(i.Fragment,{children:[!I&&ee&&!c.highlighted_by_pin_owner&&!et&&(0,p.jsx)(r.Lt.Item,{dataTestId:"dropdown-item-highlight",onSelect:es(el(!1)),option:{label:eu.highlight,value:eu.highlight}}),!I&&ee&&c.highlighted_by_pin_owner&&!et&&(0,p.jsx)(r.Lt.Item,{dataTestId:"dropdown-item-remove-highlight",onSelect:es(el(!0)),option:{label:eu.removeHighlight,value:eu.removeHighlight}}),er&&(0,p.jsx)(r.Lt.Item,{dataTestId:"dropdown-item-edit",onSelect:es(T),option:{label:eu.edit,value:eu.edit}}),(er||ei)&&(0,p.jsx)(r.Lt.Item,{dataTestId:"dropdown-item-delete",onSelect:es(function(){"aggregatedcomment"===c.type?H({aggregatedCommentId:c.id,aggregatedPinId:null!=l?l:"",feedType:I?"aggregatedComments":A.Z.UNIFIED_COMMENTS,orbacSubjectId:X,parentId:F,type:I?y.Rv.REPLY_TO_AGGREGATED:y.Rv.TOP,updateParentCommentCount:!0,pinId:z}):B((0,w.lg)({aggregatedPinDataId:null!=l?l:"",feedType:A.Z.UNIFIED_COMMENTS,id:c.id,isOwnedByMe:!0,pinId:null!=z?z:"",username:c.user.username,updateParentDidItCount:!0}))}),option:{label:eu.delete,value:eu.delete}}),!er&&!en&&(0,p.jsx)(r.Lt.Item,{dataTestId:"dropdown-item-report",onSelect:es(function(){$(c.id,F,c.type)}),option:{label:eu.reportContent,value:eu.reportContent}}),eo&&(0,p.jsx)(r.Lt.Item,{dataTestId:"dropdown-item-remove-mention",onSelect:es(function(){B((0,O.Q)(c.id)),Z(function(e){var t=e.hideToast;return(0,p.jsx)(g.ZP,{onHide:t,text:M._('@mention removed!', 'unifiedComment.unifiedCommentContainer.mentionRemovalToast', 'Toast that tells user that they have successfully removed the @mention of them in the comment')})})}),option:{label:eu.removeMention,value:eu.removeMention}}),!er&&(0,p.jsx)(r.Lt.Item,{dataTestId:"dropdown-item-block-user",onSelect:es(function(){W(!1),R(),N({component:14349,event_type:9406})}),option:{label:eu.blockUser,value:eu.blockUser}})]}):(0,p.jsx)(r.Lt.Link,{dataTestId:"dropdown-item-report-for-netzdg",href:"https://policy.pinterest.com/de/netzdg/",option:{label:eu.reportForNetzDG,value:eu.reportForNetzDG}})})})},I=n(600636),T=n(133758);function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var L={containerStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)"},helpfulLabelStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)",right:"50%",transform:"translateX(50%)"},helpfulStyle:{backgroundImage:"url(".concat(I,")")},lovedLabelStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translateX(-50%)"},lovedStyle:{backgroundImage:"url(".concat(T,")")}},z=function(e){var t=e.setHelpful,n=e.setLoved,o=(0,d.ZP)(),a=R((0,i.useState)(!1),2),l=a[0],s=a[1],u=R((0,i.useState)(!1),2),c=u[0],f=u[1],m=function(e){return function(){s(e)}},y=function(e){return function(){f(e)}};return(0,p.jsxs)(r.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:L.containerStyle},"data-test-id":"comment-reaction-tray-background",display:"flex",height:25,justifyContent:"center",padding:1,position:"relative",rounding:"pill",width:43,children:[(0,p.jsx)(r.iP,{fullHeight:!0,onMouseDown:n,onMouseEnter:y(!0),onMouseLeave:y(!1),children:(0,p.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:L.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:18,marginBottom:c?3:1,position:"absolute",width:18,children:c&&(0,p.jsx)(r.xu,{color:"selected",dangerouslySetInlineStyle:{__style:L.lovedLabelStyle},marginTop:-7,paddingX:1,paddingY:1,position:"absolute",rounding:"pill",top:!0,children:(0,p.jsx)(r.xv,{color:"inverse",overflow:"noWrap",size:"100",weight:"bold",children:o._('Love', 'comment.button.loved', 'loved reaction')})})})}),(0,p.jsx)(r.iP,{fullHeight:!0,onMouseDown:t,onMouseEnter:m(!0),onMouseLeave:m(!1),children:(0,p.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:L.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:18,marginBottom:l?3:1,position:"absolute",width:18,children:l&&(0,p.jsx)(r.xu,{color:"selected",dangerouslySetInlineStyle:{__style:L.helpfulLabelStyle},marginTop:-7,paddingX:1,paddingY:1,position:"absolute",rounding:"pill",top:!0,children:(0,p.jsx)(r.xv,{color:"inverse",overflow:"noWrap",size:"100",weight:"bold",children:o._('Helpful', 'comment.button.helpful', 'helpful reaction')})})})})]})},M=n(311716),B=n(559113),N=n(356997),Z={helpfulStyle:{backgroundImage:"url(".concat(M,")")},lovedStyle:{backgroundImage:"url(".concat(B,")")}},U=function(e){var t=e.response,n=14===t.reaction_type,i=1===t.reaction_type,o=t.user.is_private_profile?t.user.first_name:t.user.full_name;return(0,p.jsxs)(r.kC,{alignItems:"center",children:[(0,p.jsx)(r.Tg,{href:"/".concat(t.user.username,"/"),children:(0,p.jsxs)(r.kC,{alignItems:"center",children:[(0,p.jsx)(r.xu,{maxWidth:40,children:(0,p.jsx)(N.qE,{accessibilityLabel:"",name:o,outline:!0,size:"sm",src:t.user.image_medium_url})}),(0,p.jsx)(r.xu,{marginStart:2,maxWidth:80,children:(0,p.jsx)(r.xv,{color:"inverse",size:"100",weight:"bold",children:o})})]})}),(0,p.jsxs)(r.xu,{alignContent:"end",display:"flex",padding:2,children:[i&&(0,p.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:Z.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:16,width:16}),n&&(0,p.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:Z.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:16,width:16})]})]})},K=n(784590);function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var V=["userreaction.id","userreaction.reaction_type","userreaction.user()","user.first_name","user.full_name","user.id","user.image_medium_url","user.is_private_profile","user.username"],G=function(e){var t,n,o,a=e.commentId,l=e.isMarkedHelpfulByMe,s=e.isLovedByMe,u=e.isTry,c=(0,_.Z)(),d=(0,K.Z)({name:"ApiResource",options:{url:u?"/v3/did_it/".concat(a,"/reacted_by/"):"/v3/aggregated_comments/".concat(a,"/reacted_by/"),field_sets:V}}),f=null===(n=d.data)||void 0===n?void 0:n.filter(function(e){return e.user.id!==c.id});(s||l)&&f&&(f=[{id:a,reaction_type:s?1:14,user:{first_name:c.isAuth?c.firstName:"",full_name:c.isAuth?c.fullName:"",id:c.isAuth?c.id:"",image_medium_url:c.isAuth?c.imageMediumUrl:"",is_private_profile:!!c.isAuth&&!!c.isPrivateProfile,username:c.isAuth?c.username:""}}].concat(function(e){if(Array.isArray(e))return H(e)}(t=f)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()));var m=(0,i.useRef)(null);return(0,i.useEffect)(function(){var e=m.current,t=function t(){d.isFetching||(d.isAtEnd?null==e||e.removeEventListener("scroll",t):d.fetchMore())};return null==e||e.addEventListener("scroll",t),function(){null==e||e.removeEventListener("scroll",t)}},[d]),(0,p.jsx)(r.xu,{ref:m,color:"selected",maxHeight:140,overflow:"scroll",rounding:2,width:180,children:null===(o=f)||void 0===o?void 0:o.map(function(e){return(0,p.jsx)(r.xu,{"data-test-id":"reaction-list-single-user",margin:3,children:(0,p.jsx)(U,{response:e})},e.id)})})},W=n(814197);function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Y=function(e){var t,n=e.commentId,o=e.dismissReactionList,a=e.helpfulCount,l=e.isMarkedHelpfulByMe,s=e.isLovedByMe,u=e.isReactionListOpen,c=e.isTry,f=e.lovedCount,m=e.onReactionCountHover,y=e.onToggleHelpful,h=e.onToggleLove,g=(0,d.ZP)(),v=(0,i.useRef)(),b=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=b[0],x=b[1],P=!1,S=(f||0)+(a||0);l&&s&&(S-=1);var j=function(e){return function(){x(e)}},w=function(){P=!0,m()},O=function(){P=!1,setTimeout(function(){P||o()},1e3)},A=(0,p.jsx)(r.xu,{"data-test-id":"comment-reaction-container-entry-point",children:_?(0,p.jsx)(r.iP,{onMouseDown:j(!1),onMouseLeave:j(!1),children:(0,p.jsx)(z,{setHelpful:y(!0),setLoved:h(!0)})}):(0,p.jsx)(r.iP,{onMouseEnter:j(!0),children:(0,p.jsx)(r.JO,{accessibilityLabel:g._('React', 'comment.actionbar.react', 'accessibility label entry point to react to a comment'),color:"subtle",icon:"heart-outline",size:16})})});return(0,p.jsxs)(r.kC,{alignItems:"center",gap:{row:1,column:0},children:[l||s?(0,p.jsx)(r.iP,{onMouseDown:function(){y(!1)(),h(!1)()},children:(0,p.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:"url(".concat(s?B:M,")")}},"data-test-id":s?"comment-reaction-container-loved-emoji":"comment-reaction-container-helpful-emoji",height:16,width:16})}):A,S>0&&(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(r.iP,{onMouseEnter:w,onMouseLeave:O,children:(0,p.jsx)(r.xu,{ref:v,"data-test-id":"comment-reaction-container-reaction-count",children:(0,p.jsx)(r.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:S})})}),u&&(0,p.jsx)(r.mh,{zIndex:W.lI,children:(0,p.jsx)(r.J2,{anchor:v.current,idealDirection:"down",onDismiss:o,positionRelativeToAnchor:!1,children:(0,p.jsx)(r.iP,{onMouseEnter:w,onMouseLeave:O,children:(0,p.jsx)(G,{commentId:n,isLovedByMe:s,isMarkedHelpfulByMe:l,isTry:c})})})})]})]})},X=n(513578),$=n(349700);function Q(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ee(e){var t,n=e.featuredCommentId,a=e.parentId,l=e.parentType,s=e.isDesktop,u=e.isLoading,c=e.isReadOnly,f=e.openOverflowMenu,m=e.replyingToCommentId,y=e.toggleHelpful,h=e.toggleLike,g=e.toggleReplyComposer,v=e.isORBACProfileManager,b=e.isVideo,_=e.storyPinDataId,x=e.pinId,P=e.closeupAttributionId,S=e.aggregatedPinDataId,w=e.closeupAttributionUsername,O=e.pinnerId,k=e.reactionListCommentId,C=e.showReactionListForComment,D=e.viewParameter,E=(0,d.ZP)(),I=(0,j.lV)(),T=(0,o.useSelector)(function(e){var t=e.feeds,n=t["".concat(A.Z.AGGREGATED_COMMENT_REPLIES,":").concat(a)]||[],r=t["".concat(A.Z.AGGREGATED_COMMENTS,":").concat(a)]||[];return n.concat(r).reduceRight(function(e,t){var n=I[t.id];return n?[].concat(function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Q(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n]):e},[])}),R=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||Q(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),F=R[0],L=R[1],z=F===T.length;return(0,p.jsxs)(i.Fragment,{children:[T.length>1&&(0,p.jsx)(r.iP,{onTap:function(){L(z?0:T.length)},children:(0,p.jsxs)(r.xu,{marginBottom:4,children:[(0,p.jsx)(r.xu,{display:"inlineBlock",marginEnd:2,children:(0,p.jsx)(r.xv,{color:"subtle",size:"200",weight:"bold",children:"⎯⎯"})}),(0,p.jsx)(r.xv,{color:"subtle",inline:!0,size:"100",weight:"bold",children:z?E._('Hide replies', 'comment.button.hideReplies', 'hide comment replies'):(0,$.nk)(E.ngettext('View {{ commentCount }} reply', 'View {{ commentCount }} replies', T.length, 'comment.button.showReplies', 'show comment replies'),{commentCount:T.length})})]})}),(0,p.jsx)(ex,{aggregatedPinDataId:S,closeupAttributionId:P,closeupAttributionUsername:w,comments:T.slice(0,F),commentsDisabled:!1,featuredCommentId:n,gapSize:2,isDesktop:s,isLoading:u,isORBACProfileManager:v,isReadOnly:c,isVideo:b,openOverflowMenu:f,parentId:a,parentType:l,pinId:x,pinnerId:O,reactionListCommentId:k,replyingToCommentId:m,showReactionListForComment:C,storyPinDataId:_,toggleHelpful:y,toggleLike:h,toggleReplyComposer:g,userAvatarSize:"sm",viewParameter:D})]})}var et=n(264322),en=n(298361),er=n(584595),ei=n(780280),eo=n(248327),ea=n(664569),el=n(94089),es=n(737849),eu=n(90326);function ec(e){return(ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ed(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function ep(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){ed(o,r,i,a,l,"next",e)}function l(e){ed(o,r,i,a,l,"throw",e)}a(void 0)})}}function ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function em(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==ec(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ec(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ec(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ef(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ey(e){return function(e){if(Array.isArray(e))return ev(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eg(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||eg(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eg(e,t){if(e){if("string"==typeof e)return ev(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ev(e,t)}}function ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eb(e){var t,n,m,P,O,A,k,C=e.aggregatedPinDataId,D=e.closeupAttributionId,I=e.closeupAttributionUsername,T=e.comment,R=e.featuredCommentId,F=e.isDesktop,L=e.isReadOnly,z=e.isVideo,M=e.openOverflowMenu,B=e.toggleReplyComposer,N=e.parentId,Z=e.parentType,U=void 0===Z?ea.o.pin:Z,K=e.pinId,H=e.storyPinDataId,V=e.replyingToCommentId,G=e.showReactionListForComment,W=e.toggleHelpful,q=e.toggleLike,Q=e.userAvatarSize,J=e.isORBACProfileManager,ec=e.pinnerId,ed=e.reactionListCommentId,ef=e.viewParameter,eg=T.user,ev=eg.id,eb=eg.first_name,e_=eg.id,ex=eg.image_medium_url,eP=eg.username,eS=T.id,ej=T.image_signatures,ew=T.is_translatable,eO=T.comment_count,eA=T.helpful_count,ek=T.tags,eC=eh((0,i.useState)(!1),2),eD=eC[0],eE=eC[1],eI=eD&&T.translatedText||T.text,eT=!ew||""===T.translatedText,eR=!1,eF=0,eL=!1,ez=!!T.marked_helpful_by_me,eM=[T.user],eB="",eN=new Date;"aggregatedcomment"===T.type?(eR=T.highlighted_by_pin_owner,eF=T.reaction_counts[1],eL=T.reaction_by_me>0,eM.push.apply(eM,ey(T.tagged_users)),eB="".concat(eP," ").concat(eI),eN=new Date(T.created_at)):(eF=T.like_count,eL=T.liked_by_me,k=(T.images[0]||{})["150x150"],eB="".concat(eP," ").concat(T.details),eN=new Date(T.done_at));var eZ=(0,d.ZP)(),eU=(0,_.Z)(),eK=(0,h.v)().logContextEvent,eH=(0,ei.B)(),eV=eH.country,eG=eH.isBot,eW=(0,v.F)().checkExperiment,eq=(0,b.F9)().showToast,eY=(0,o.useDispatch)(),eX=(0,i.useRef)(),e$=eW("web_m10n_business_access_orbac_ga").anyEnabled,eQ=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"].includes(eV),eJ=1===T.comment_tag,e0=(0,x.Z)(),e1=e$?(0,S.lJ)(eU,e0):"",e2=(0,el.G)().nativeEngagementsHiddenForUser,e8=(0,j.nf)(),e3=e8.aggregatedCommentsHiddenForUser,e9=e8.translateAggregatedComment,e6=e8.updateAggregatedComment,e5=(0,l.Z)(),e7="userdiditdata"===T.type,e4=(0,en.Z)(),te=ew&&eW("dweb_comment_translations").anyEnabled,tt=e7&&eW("dweb_photo_commenting").anyEnabled,tn=e7&&F&&eW("dweb_photo_comment_replies").anyEnabled,tr=e7&&!F&&eW("mweb_photo_comment_replies").anyEnabled,ti=e7&&eW("mweb_photo_commenting").anyEnabled,to=!L&&!J&&e7,ta=to&&F&&eW("dweb_photo_comment_reactions").anyEnabled,tl=to&&!F&&eW("mweb_photo_comment_reactions").anyEnabled,ts=[{offset:0,length:eP.length,color:"darkGray"}].concat(ey((void 0===ek?[]:ek).map(function(e){return em(em({},e),{},{offset:(e.offset||0)+eP.length+1,color:"shopping"})}))),tu={SHOW_TRANSLATION:eZ._('Show translation', 'comment.translateButton.showTranslation', 'text for translation button when translation is available'),TRANSLATING:eZ._('Translating...', 'comment.translateButton.translating', 'text for translation button while translating'),SHOW_ORIGINAL:eZ._('Show original', 'comment.translateButton.showOriginal', 'text for translation button after translating')},tc=(0,i.useRef)(tu.SHOW_TRANSLATION),td=eh((0,i.useState)(!1),2),tp=td[0],tf=td[1],tm=eh((0,i.useState)(!1),2),ty=tm[0],th=tm[1],tg=eh((0,i.useState)(!1),2),tv=tg[0],tb=tg[1],t_=eh((0,i.useState)(!1),2),tx=t_[0],tP=t_[1],tS=eh((0,i.useState)(!1),2),tj=tS[0],tw=tS[1],tO=eh((0,i.useState)(!1),2),tA=tO[0],tk=tO[1],tC=eh((0,i.useState)(y.A9.NONE),2),tD=tC[0],tE=tC[1],tI=function(e){return function(){th(e)}};(0,i.useEffect)(function(){te&&eK({event_type:10416,view_type:3,view_parameter:ef,component:"pin"===U?13696:13697})},[eK,U,te,ef]),(0,i.useEffect)(function(){eO>0&&!eG&&eY((0,eo.U)("aggregatedcomment"===T.type?"AggregatedCommentReplyFeedResource":"DidItCommentsResource",{options:{isUnifiedComment:!0,objectId:eS,redux_normalize_feed:!0}}))},[T.type,eS]);var tT=U.toLowerCase()===ea.o.aggregatedComment.toLowerCase()||U.toLowerCase()===ea.n.didIt.toLowerCase(),tR=Object.values(ea.n).includes(U.toLowerCase()),tF=T.user.first_name||"",tL=(t=ep(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.contentMarkdown,r=t.force,i=t.tags,tP(!0),l=T.id,tT&&(o=U.toLowerCase()===ea.n.didIt,l=N,a=T.id),!l){e.next=16;break}return e.prev=5,e.next=8,e5({force:r,fromUnifiedComment:!0,objectType:e7||o?ea.o.didIt:ea.o.aggregatedComment,objectId:l,orbacSubjectId:e1,tags:i,text:n,replyToCommentId:a});case 8:e.next=16;break;case 10:if(e.prev=10,e.t0=e.catch(5),!([er.ky,er.LJ].includes(e.t0.code)&&F)){e.next=16;break}return tE(e.t0.code===er.ky?y.A9.WARNING:y.A9.BLOCK),tP(!1),e.abrupt("return",!1);case 16:return B&&B(void 0),tP(!1),e.abrupt("return",!0);case 19:case"end":return e.stop()}},e,null,[[5,10]])})),function(e){return t.apply(this,arguments)}),tz=(n=ep(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.contentMarkdown,r=t.force,i=t.tags,tb(!0),e.prev=2,!tt){e.next=8;break}return e.next=6,eY((0,w.IU)({id:T.id,details:n,pinId:null!=K?K:"",image_signatures:null!=ej?ej:[]}));case 6:e.next=10;break;case 8:return e.next=10,e6({commentId:T.id,force:r,orbacSubjectId:e1,tags:i,text:n});case 10:e.next=18;break;case 12:if(e.prev=12,e.t0=e.catch(2),!([er.ky,er.LJ].includes(e.t0.code)&&F)){e.next=18;break}return tE(e.t0.code===er.ky?y.A9.WARNING:y.A9.BLOCK),tb(!1),e.abrupt("return",!1);case 18:return th(!1),tb(!1),e.abrupt("return",!0);case 21:case"end":return e.stop()}},e,null,[[2,12]])})),function(e){return n.apply(this,arguments)}),tM=function(e){return function(){tf(e),tk(e),e||eK({component:14349,event_type:9408})}},tB=function(){tE(y.A9.NONE)},tN=function(){eD||T.translatedText||e9(T.id),eD||tc.current!==tu.SHOW_TRANSLATION?eD&&tc.current===tu.SHOW_ORIGINAL&&eK({event_type:10418,view_type:3,view_parameter:ef,component:"pin"===U?13696:13697}):eK({event_type:10417,view_type:3,view_parameter:ef,component:"pin"===U?13696:13697}),eE(!eD)};(0,i.useEffect)(function(){eD&&eT&&(eE(!eD),eq(function(e){var t=e.hideToast;return(0,p.jsx)(g.ZP,{onHide:t,text:eZ._('Error - couldn\'t translate', 'comment.couldNotTranslate.toast', 'error toast that shows after unsuccessful translation'),type:"error"})}))},[eD,eT]),eD?tc.current=T.translatedText?tu.SHOW_ORIGINAL:tu.TRANSLATING:tc.current=tu.SHOW_TRANSLATION;var tZ=k&&(0,p.jsx)(r.xu,{marginBottom:!F&&ti?2:4,marginTop:1,children:(0,p.jsx)(r.zd,{height:150,rounding:2,wash:!0,width:150,children:(0,p.jsx)(r.Ee,{alt:null!==(m=k.url)&&void 0!==m?m:"",color:"#efefef",naturalHeight:null!==(P=k.height)&&void 0!==P?P:1,naturalWidth:null!==(O=k.width)&&void 0!==O?O:1,src:null!==(A=k.url)&&void 0!==A?A:""},k.url)})});return(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(r.$j,{accessibilityLabel:"Loading comment",show:tv}),!ty&&!tv&&(0,p.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,p.jsx)(r.xu,{marginEnd:2,children:(0,p.jsx)(a.rU,{to:"/".concat(eP,"/"),children:(0,p.jsx)(c.Z,{isQuestion:eJ,name:eb||eP||"",size:Q,src:null!=ex?ex:""})})}),(0,p.jsxs)(r.kC,{direction:"column",flex:"grow",justifyContent:"start",children:[(0,p.jsxs)(r.kC,{justifyContent:"between",children:[(0,p.jsx)(r.kC.Item,{minWidth:0,children:(0,p.jsxs)(r.kC,{dataTestId:"author-and-comment-container",direction:"column",children:[!F&&ti&&tZ,(0,p.jsx)(et.Z,{isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:eM,tags:ts,text:eB}),(F||!F&&!ti)&&tZ,te&&(0,p.jsx)(r.xu,{marginBottom:2,marginTop:2,children:(0,p.jsx)(r.iP,{onTap:function(){return tN()},children:(0,p.jsx)(r.xv,{color:"subtle",size:"300",weight:"bold",children:tc.current})})})]})}),R===eS&&(0,p.jsx)(r.xu,{alignSelf:"center",color:"primary",height:8,minWidth:8,rounding:"pill"})]}),eR&&(0,p.jsx)(r.xu,{marginBottom:3,marginTop:4,children:(0,p.jsx)(r.xv,{size:"100",children:(0,$.nk)(eZ._('Highlighted by @{{ closeupAttributionUsername }}', 'comment.highlighted.label', 'label on comment that has been highlighted by the Pin creator'),{closeupAttributionUsername:I})})}),(!L||eQ)&&(0,p.jsxs)(r.xu,{alignItems:"center",display:"flex",height:25,justifyContent:"between",position:"relative",children:[(0,p.jsxs)(r.kC,{alignItems:"center",gap:{row:5,column:0},children:[!L&&(0,p.jsx)(r.xu,{"data-test-id":"comments-time-passed",children:(0,p.jsx)(r.xv,{color:"subtle",size:"200",children:e4(eN,!0)})}),!L&&(!J||e$)&&(!e7||tn||tr)&&(0,p.jsx)(r.xu,{"data-test-id":"comment-reply-button-container",children:(0,p.jsx)(r.iP,{onTap:function(){B&&B(T,N,U)},children:(0,p.jsx)(r.xv,{color:"subtle",size:"200",weight:"bold",children:eZ._('Reply', 'comment.button.reply', 'entry point to reply to comment')})})}),!L&&!J&&(!e7||ta||tl)&&(F?(0,p.jsx)(Y,{commentId:eS,dismissReactionList:function(){G(void 0)},helpfulCount:eA,isLovedByMe:eL,isMarkedHelpfulByMe:ez,isReactionListOpen:ed===eS,isTry:e7,lovedCount:eF,onReactionCountHover:function(){G(eS),eK({event_type:9906,component:"pin"===U?13696:13697,view_type:3,view_parameter:ef})},onToggleHelpful:function(e){return function(){ez!==e&&W(eS,!e,e7)()}},onToggleLove:function(e){return function(){eL!==e&&q(eS,!e,e7)()}}}):(0,p.jsxs)(r.xu,{alignItems:"center","data-test-id":"reactions-likeWithCountButton",display:"flex",children:[(0,p.jsx)(r.hU,{accessibilityLabel:eZ._('Like', 'comment.button.like', 'like or unlike comment'),icon:"heart",iconColor:eL?"red":"gray",onClick:q(eS,eL,e7),size:"xs"}),eF>0&&(0,p.jsx)(r.xu,{"data-test-id":"love-count-container",children:(0,p.jsx)(r.xv,{color:"subtle",size:"100",weight:"bold",children:eF})})]})),!(eU.id===e_&&eJ)&&(!J||e$)&&(0,p.jsx)(r.xu,{ref:eX,"data-test-id":"comment-more-options",children:(0,p.jsx)(r.hU,{accessibilityLabel:eZ._('More', 'comment.button.more', 'see more options for comment'),icon:"ellipsis",iconColor:"gray",onClick:function(){F?tf(!tp):M&&M(T)},size:"xs"})})]}),!L&&!J&&!F&&(!e7||tl)&&(0,p.jsx)(r.xu,{marginStart:6,children:(0,p.jsx)(r.iP,{fullWidth:!1,onTap:W(eS,ez,e7),children:(0,p.jsxs)(r.kC,{alignItems:"center",dataTestId:"helpful-reaction",gap:{row:1,column:0},height:"100%",children:[(0,p.jsx)(f,{color:"subtle",isMarkedHelpful:ez}),(0,p.jsx)(r.xv,{color:"subtle",size:"200",weight:"bold",children:eZ._('Helpful', 'comment.button.helpful', 'mark or unmark comment as helpful')}),eA>0&&(0,p.jsx)(r.xu,{"data-test-id":"helpful-count-container",children:(0,p.jsx)(r.xv,{color:"subtle",size:"100",weight:"bold",children:eA})})]})})})]})]})]}),F&&(0,p.jsxs)(i.Fragment,{children:[ty&&(0,p.jsx)(r.xu,{marginTop:3,children:(0,p.jsx)(X.Z,{commentWarningModalState:tD,dismissCommentWarningModal:tB,initialTags:T.tags,initialText:"aggregatedcomment"===T.type?T.text:T.details,isReplyEditor:tR,objectType:ea.o.aggregatedComment,onAddItem:tz,onCancelItem:tI(!1),postedPhoto:k,showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:ef})}),V===eS&&(0,p.jsx)(r.xu,{marginStart:tT?0:12,marginTop:3,children:(0,p.jsx)(X.Z,{commentWarningModalState:tD,dismissCommentWarningModal:tB,initialTags:tT?[{offset:0,object_id:ev,length:tF.length,tag_type:1}]:[],initialText:tT?"".concat(tF," "):"",isReplyEditor:tR,objectType:ea.o.aggregatedComment,onAddItem:tL,onCancelItem:function(){B&&B()},showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:ef})})]}),(eO>0||tx)&&(0,p.jsx)(r.xu,{marginStart:12,marginTop:4,children:(0,p.jsx)(ee,{aggregatedPinDataId:C,closeupAttributionId:D,closeupAttributionUsername:I,featuredCommentId:R,isDesktop:F,isLoading:tx,isORBACProfileManager:J,isReadOnly:L,isVideo:z,openOverflowMenu:M,parentId:eS,parentType:T.type,pinId:K,pinnerId:ec,reactionListCommentId:ed,replyingToCommentId:V,showReactionListForComment:G,storyPinDataId:H,toggleHelpful:W,toggleLike:q,toggleReplyComposer:B,viewParameter:ef})}),F&&(!L||eQ)&&(0,p.jsx)(E,{aggregatedPinDataId:C,anchor:eX.current,closeupAttributionId:D,comment:T,dismiss:function(e){tf(!1),e||eK({component:14349,event_type:10128})},isOpen:tp,isReply:tT,onEdit:tI(!0),onShowBlockUserModal:tM(!0),parentId:N,pinId:K,pinnerId:ec}),tj&&(0,p.jsx)(s.N,{children:(0,p.jsx)(u.Z,{aggregatedPinDataId:C,didItDataId:eS,onClose:function(e){return function(){tw(!e)}},pinId:null!=K?K:"",username:eP,users:[T.user]})}),tA&&(0,p.jsx)(es.Z,{firstName:null!=eb?eb:"",onBlockUser:function(){eY((0,eu.Ge)({id:ev,orbacSubjectId:e1,blockSource:"comment",blockContext:eS,logContextEvent:eK})),e3(ev),e2(ev),eK({event_type:101,component:13712,element:87,view_type:220,aux_data:{creator_id:eU.isAuth?eU.id:null}}),eK({component:14349,event_type:9407}),tk(!1),eq(function(e){var t=e.hideToast;return(0,p.jsx)(g.ZP,{onHide:t,text:(0,$.nk)(eZ._('You\'ve blocked {{ username }}', 'comment.blockAuthor.toast', 'confirmation toast that shows after user blocks comment author'),{username:eP}).join("")})})},onClearModal:tM(!1)})]})}var e_=n(366428);function ex(e){var t,n=e.aggregatedPinDataId,i=e.comments,o=e.commentsDisabled,a=e.featuredCommentId,l=e.gapSize,s=e.isDesktop,u=e.isLoaded,c=e.isLoading,f=void 0!==c&&c,m=e.isReadOnly,y=e.openOverflowMenu,h=e.toggleReplyComposer,g=e.parentId,v=e.parentType,b=e.replyingToCommentId,_=e.toggleHelpful,x=e.toggleLike,P=e.userAvatarSize,S=e.isORBACProfileManager,j=e.isVideo,w=e.storyPinDataId,O=e.pinId,A=e.closeupAttributionId,k=e.closeupAttributionUsername,C=e.pinnerId,D=e.showReactionListForComment,E=e.reactionListCommentId,I=e.viewParameter,T=(0,d.ZP)();return(t=w?"story":j?"video":"pin",o)?(0,p.jsx)(r.xu,{alignSelf:"center","data-test-id":"comments-disabled-label",width:"100%",children:(0,p.jsx)(r.xv,{align:s?"start":"center",color:"subtle",children:T._('Comments are turned off for this Pin', 'commentThread.disabledState.message', 'Comments are turned off or disabled for this pin')})}):i.length>0?(0,p.jsxs)(r.kC,{dataTestId:"aggregated-comment-list",direction:"column",gap:{row:0,column:void 0===l?6:l},maxHeight:"100%",width:"100%",children:[i.map(function(e,i){return(0,p.jsx)(e_.F,{componentType:"pin"===v?13696:13697,impressionAuxFields:{commentId:e.id,pinId:O,pinOwnerUserId:A,pinType:t,parentId:g,parentType:v,commentType:"aggregatedComment"},impressionType:"Comment",loggingId:e.id,slotIndex:i,viewType:s?3:98,children:function(t){var i=t.impressionTrackerRef;return(0,p.jsx)(r.xu,{ref:i,"data-test-id":"commentThread-comment",children:(0,p.jsx)(eb,{aggregatedPinDataId:n,closeupAttributionId:A,closeupAttributionUsername:k,comment:e,featuredCommentId:a,isDesktop:s,isORBACProfileManager:S,isReadOnly:m,isVideo:j,openOverflowMenu:y,parentId:g,parentType:v,pinId:O,pinnerId:C,reactionListCommentId:E,replyingToCommentId:b,showReactionListForComment:D,storyPinDataId:w,toggleHelpful:_,toggleLike:x,toggleReplyComposer:h,userAvatarSize:P,viewParameter:I})})}},e.id)}),(0,p.jsx)(r.$j,{accessibilityLabel:T._('Comments loading', ' - ', ' -- '),show:f})]}):(0,p.jsxs)(r.xu,{alignSelf:"center",width:"100%",children:[(0,p.jsx)(r.$j,{accessibilityLabel:T._('Comments loading', ' - ', ' -- '),show:f}),void 0!==u&&u&&(0,p.jsx)(r.xv,{align:s?"start":"center",color:"subtle",children:T._('No comments yet! Add one to start the conversation.', 'commentThread.emptyState.message', 'comment thread empty state message')})]})}},513578:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(76911),i=n(995228),o=n(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var s=(0,r.lazy)(function(){return Promise.all([n.e(11177),n.e(21662)]).then(n.bind(n,778072))});function u(e){return(0,o.jsx)(i.Z,{fallback:null,children:(0,o.jsx)(s,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e))})}},264322:function(e,t,n){"use strict";var r=n(76911),i=n(908390),o=n(643010),a=n(898781),l=n(515198);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t,n=e.hasManyComments,u=e.isFirstTaggedUserAuthor,c=e.isInCommentModule,d=e.shouldShowFirstNameOnly,p=e.tags,f=e.taggedUsers,m=e.text,y=(0,a.ZP)(),h=(0,r.useRef)(null),g=(0,o.Yc)()?"#111111":"#FFFFFF",v=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=v[0],_=v[1],x=y._('...view', 'comment.module.toggle.view', 'label on comment module to open coment thread'),P=y._('...view all', 'comment.module.toggle.viewAll', 'label on comment module to open coment thread');(0,r.useEffect)(function(){h.current&&_(h.current.scrollHeight>h.current.offsetHeight)},[h,_,m]);var S=function(e,t){return(0,l.jsx)(i.xv,{inline:!0,overflow:"normal",children:(0,l.jsx)("span",{className:"text-container",children:e})},t)},j=function(e,t,n,r){var o=d||0===n&&u?f[n].first_name||f[n].username[0]:t;return(0,l.jsx)(i.xv,{color:e,inline:!0,overflow:"normal",weight:"bold",children:c?o:(0,l.jsx)(i.rU,{display:"inlineBlock",href:"/".concat(f[n].username),underline:"hover",children:o})},r)};return(0,l.jsx)("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:function(){if(!p.length||!f||p.length!==f.length)return S(m,"1");var e=0,t=[];return p.forEach(function(n,r){var i=m.substring(e,n.offset);e=n.offset+n.length;var o=m.substring(n.offset,e);t=t.concat(S(i,"".concat(r,"a"))).concat(j(n.color,o,r,"".concat(r,"b")))}),t=t.concat(S(m.substring(e),"2")),(0,l.jsx)(i.xu,{marginEnd:3,position:"relative",children:(0,l.jsxs)(i.xv,{ref:h,inline:!0,lineClamp:c?2:void 0,children:[t,c&&(0,l.jsx)(i.xu,{bottom:!!b||void 0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(270deg, ".concat(g," 50%, ").concat(g,"00 100%)")}},display:"inlineBlock",position:b?"absolute":void 0,right:!!b||void 0,width:b?140:void 0,children:(0,l.jsxs)(i.xv,{align:"end",weight:"bold",children:["\xa0",n?P:x]})})]})})}()})}},541776:function(e,t,n){"use strict";n.d(t,{A9:function(){return s},LH:function(){return i},Rv:function(){return o},TJ:function(){return a},iB:function(){return r},pW:function(){return l}});var r=48,i=56,o=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),a="comment_featured_ids",l="did_it_featured_ids",s={NONE:"none",WARNING:"warning",BLOCK:"block"}},512465:function(e,t,n){"use strict";n.d(t,{Z:function(){return c},w:function(){return d}});var r=n(349700),i=function(e){return e._('{{ first }}', 'Generic message that lists 1 item', 'Generic message that lists 1 item (ex: Stevie)')},o=function(e){return e._('{{ first }} and {{ second }}', 'Generic message that lists 2 items', 'Generic message that lists 2 items (ex: Stevie and Michael)')},a=function(e){return e._('{{ first }}, {{ second }} and {{ third }}', 'Generic message that lists 3 items', 'Generic message that lists 3 items (ex: Stevie, Michael and Cyndi)')},l=function(e){return e._('{{ first }}, {{ second }}, {{ third }} and {{ fourth }}', 'Generic message that lists 4 items', 'Generic message that lists 4 items (ex: Stevie, Michael, Cyndi and Bob)')},s=function(e){return e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}', 'Generic message that lists 5 items', 'Generic message that lists 5 items (ex: Stevie, Michael, Cyndi, Bob and Bruce)')},u=function(e){return e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}', 'Generic message that lists 6 items', 'Generic message that lists 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and Lionel)')};function c(e,t){var n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,r.nk)(i(t),n);case 2:return(0,r.nk)(o(t),n);case 3:return(0,r.nk)(a(t),n);case 4:return(0,r.nk)(l(t),n);case 5:return(0,r.nk)(s(t),n);case 6:return(0,r.nk)(u(t),n);default:return(0,r.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others', 'Generic message that lists more than 6 items', 'Generic message that lists more than 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and 2 others)'),n)}}function d(e,t){var n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,r.nk)(i(t),n);case 2:return(0,r.nk)(o(t),n);case 3:return(0,r.nk)(a(t),n);case 4:return(0,r.nk)(l(t),n);case 5:return(0,r.nk)(s(t),n);case 6:return(0,r.nk)(u(t),n);case 7:return(0,r.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}', 'Generic message that lists 7 items', 'Generic message that lists 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and Tina)'),n);default:return(0,r.nk)(t._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others', 'Generic message that lists more than 7 items', 'Generic message that lists more than 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and 2 others)'),n)}}},81636:function(e,t,n){"use strict";n.d(t,{Q:function(){return d},Z:function(){return p}});var r=n(76911),i=n(112690),o=n(385740),a=n(767546),l=n(780280);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){var n=(0,o.sV)().setViewContextData,s=(0,l.B)().requestIdentifier,u=(0,i.Z)(),d=(0,o.SU)().viewData;(0,r.useEffect)(function(){if(e){var t;n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),u(c(c({},e),{},{event_type:13,request_identifier:s}))}},[t])}function p(e){var t=e.children;return d(e.log),t||null}},407043:function(e,t,n){"use strict";n.d(t,{B:function(){return u},v:function(){return s}});var r=n(385740),i=n(425288),o=n(515198),a=(0,i.Z)("ContextLogger"),l=a.Provider,s=a.useHook;function u(e){var t=e.children,n=e.value,i=(0,r.sV)().setViewContextData;return n.injectSetViewContextDataFromHook=i,(0,o.jsx)(l,{value:n,children:t})}},112690:function(e,t,n){"use strict";var r=n(407043);t.Z=function(){return(0,r.v)().logContextEvent}},385740:function(e,t,n){"use strict";n.d(t,{BE:function(){return m},Ih:function(){return y},SU:function(){return h},sV:function(){return f}});var r,i=n(76911),o=n(425288),a=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=(0,o.Z)("View"),p=d.Provider,f=d.useHook;function m(){return r}function y(e){var t,n=e.children,o=e.initialState,l=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(void 0===o?{}:o))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=l[0],d=l[1],f=(0,i.useCallback)(function(){r={},d({})},[]),m=(0,i.useCallback)(function(e){r=u(u({},r),e),d(function(t){return u(u({},t),e)})},[]),y=(0,i.useMemo)(function(){return{viewContextData:s,clearViewContextData:f,setViewContextData:m}},[s,m,f]);return(0,a.jsx)(i.Fragment,{children:(0,a.jsx)(p,{value:y,children:n})})}function h(){return f().viewContextData}},425288:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(76911);function i(e,t){var n="consumer"===t?"".concat(e,"Consumer"):"use".concat(e);return"\n  ".concat(n," must be used within a ").concat(e,"Provider.\n  Please see https://pdocs.pinadmin.com/docs/webapp/docs/testing-jest#createhydra-errors for more information.\n  ")}function o(e,t){var n,o,a=(0,r.createContext)(t),l=((o=(o=e.slice(1)).endsWith("Context")?o:"".concat(o,"Context"),n)?{hocDisplayName:"with".concat(e[0].toUpperCase()).concat(o,"(").concat(n,")")}:{propsDisplayName:"".concat(e[0].toLowerCase()).concat(o),messageDisplayName:"".concat(e[0].toUpperCase()).concat(o)}).messageDisplayName;a.displayName=l;var s=a.Provider,u=function(e){var t=e.children,n=(0,r.useContext)(a);if(void 0===n)throw Error(i(l,"consumer"));return t(n)},c=function(){return(0,r.useContext)(a)};return s.displayName="".concat(l,"Provider"),u.displayName="".concat(l,"Consumer"),{Provider:s,Consumer:u,MaybeConsumer:function(e){return(0,e.children)((0,r.useContext)(a))},useMaybeHook:c,useHook:function(){var e=c();if(void 0===e)throw Error(i(l,"hook"));return e}}}},782534:function(e,t,n){"use strict";n.d(t,{k:function(){return r.k}});var r=n(451820),i=n(780280),o=n(515198);t.Z=function(e){var t=e.dateFormatType,n=e.useUTC,a=void 0===n||n,l=e.value;return(0,o.jsx)(i.LC,{children:function(e){return(0,r.Z)(e.locale,l,t,a)}})}},451820:function(e,t,n){"use strict";n.d(t,{Z:function(){return o},k:function(){return r}});var r={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year"},i=function(e){switch(e){case r.YEAR:return{year:"numeric"};case r.LONG:return{year:"numeric",month:"long",day:"numeric"};case r.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case r.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case r.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case r.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case r.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case r.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.MONTH_DAY:return{month:"long",day:"numeric"};case r.SHORT_MONTH:return{month:"short"};case r.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case r.DAY:return{day:"numeric"};case r.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case r.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case r.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case r.TIME:return{hour:"numeric",minute:"2-digit"};case r.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.HOUR:return{hour:"numeric"};default:throw Error('invalid dateFormatType "'+e+'"')}};function o(e,t,n){var r=!(arguments.length>3)||void 0===arguments[3]||arguments[3],o=i(n);return r&&(o.timeZone="UTC"),new Intl.DateTimeFormat(e,o).format(t)}},81226:function(e,t,n){"use strict";function r(e){var t=Math.round(e/1e3),n=Math.floor(t/60),r=t%60;return n+":"+(r<10?"0":"")+r}n.d(t,{Z:function(){return r}})},594736:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(!a(e[r],t[r],n+1))return!1;return!0}function o(e,t,n){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!(r in t)||!a(e[r],t[r],n+1))return!1;return!0}function a(e,t,n){if(n>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!==r(e)&&"object"!==r(t))return e!=e&&t!=t;var a=Object.prototype.toString.call(e);if(a!==Object.prototype.toString.call(t))return!1;switch(a){case"[object Array]":return i(e,t,n);case"[object Set]":return i(Array.from(e).sort(),Array.from(t).sort(),n);case"[object Object]":case"[object Arguments]":return o(e,t,n);case"[object Map]":return o(Object.fromEntries(e),Object.fromEntries(t),n);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function l(e,t){return a(e,t,0)}n.d(t,{ZP:function(){return l}})},722767:function(e,t,n){"use strict";var r=n(76911),i=n(945790);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(f,e);var t,n,d,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=u(f);if(t){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function f(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return c(s(e=p.call.apply(p,[this].concat(n))),"observer",null),c(s(e),"handleVisibilityChanged",function(t,n){e.props.onVisibilityChange(t,n)}),e}return n=[{key:"componentDidMount",value:function(){var e=i.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}},{key:"componentWillUnmount",value:function(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}},{key:"render",value:function(){return r.Children.only(this.props.children)}}],a(f.prototype,n),d&&a(f,d),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component);t.Z=p},11363:function(e,t,n){"use strict";n.d(t,{Bx:function(){return i},N4:function(){return a},is:function(){return l},lt:function(){return r},oM:function(){return o}});var r=function(e){return e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in')},i=function(e){return e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.')},o=function(e){return e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.')},a=function(e){var t=e.i18n;return e.toFollow?t._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):t._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},l=function(e){return e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')}},780679:function(e,t,n){"use strict";n.d(t,{g:function(){return a},t:function(){return o}});var r=n(76911),i=(0,r.createContext)(null),o=i.Provider,a=function(){return(0,r.useContext)(i)}},946984:function(e,t,n){"use strict";var r=n(11363),i=n(898781),o=n(987318);t.Z=function(){var e=(0,o.H)(),t=e.loginForMore,n=e.viewer,a=e.limitedLoginModalSubheader,l=(0,i.ZP)();return"AUTH"===n.type?null:function(e){null==t||t.setVisible(!0),null==a||a.setText((null==e?void 0:e.loginModalHeader)||(0,r.lt)(l))}}},375571:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(76911),i=n(395164),o=n(67347);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var t,n,r,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=c(f);if(t){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function f(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(u(e=p.call.apply(p,[this].concat(n))),"state",{error:null,info:null}),d(u(e),"resetError",function(){e.setState({error:null,info:null})}),e}return n=[{key:"componentDidCatch",value:function(e,t){try{var n,r=this.props.name,a=this.props.type||"secondary";(0,i.T)({extraData:null!==(n=e.extraData)&&void 0!==n?n:{},errorBoundary:r,errorBoundaryType:a,message:e.message,name:e.name,stack:e.stack}),(0,o.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,o.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props.renderErrorState,t=this.state,n=t.error,r=t.info;return n&&r?e?e({error:n,info:r,resetError:this.resetError}):null:this.props.children}}],l(f.prototype,n),r&&l(f,r),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component)},319915:function(e,t,n){"use strict";var r=n(375571);t.Z=r.Z},121093:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(76911),i=n(506979),o=n(112690),a=n(332611),l=n(242923),s=n(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,n,i,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=g(a);if(t){var r=g(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(h(e=o.call.apply(o,[this].concat(n))),"state",{hasCompleted:[],hasDismissed:[]}),v(h(e),"view",function(){var t=e.props,n=t.experience,r=t.isBackendExperience,i=t.targeting,o=t.viewExperience,a=t.viewExperienceObject;n&&"viewed"!==n.status&&(r?(n.status="viewed",a(n)):i?o(n.placement_id,n.experience_id,i):o(n.placement_id,n.experience_id))}),v(h(e),"complete",function(t){var n=e.props,r=n.completeExperience,i=n.completeExperienceObject,o=n.experience,a=n.isBackendExperience,l=n.preventRemoval,s=n.targeting,u=t||1;if(o&&!e.state.hasCompleted.includes(o.experience_id)){var c=o||{},d=c.placement_id,f=c.experience_id,m=l||2===u;(1===u||m)&&d&&f&&(a?i(o,m):s?r(d,f,m,s):r(d,f,m),e.setState(function(e){return{hasCompleted:[].concat(p(e.hasCompleted),[f])}}))}}),v(h(e),"dismiss",function(){var t=e.props,n=t.dismissExperience,r=t.dismissExperienceObject,i=t.experience,o=t.isBackendExperience,a=t.preventRemoval,l=t.targeting,s=i||{},u=s.placement_id,c=s.experience_id;i&&!e.state.hasDismissed.includes(c)&&(o?r(i):l?n(u,c,!!a,l):n(u,c,!!a),e.setState(function(e){return{hasDismissed:[].concat(p(e.hasDismissed),[c])}}))}),v(h(e),"isEligibleExperience",function(){var t=e.props.experience;if(!t)return!1;var n=e.props,r=n.eligibleIds,i=n.eligibleTypes,o=n.predicate,a=n.transitionType,l=t.experience_id,s=t.type;return r&&r.length?r.includes(l):i&&i.length?i.includes(s):o?o(t):!a||a===s}),e}return n=[{key:"componentDidMount",value:function(){!this.props.disableAutoView&&this.props.experience&&this.isEligibleExperience()&&this.view()}},{key:"componentDidUpdate",value:function(e){if(!this.props.disableAutoView){var t=e.experience,n=this.props.experience;n&&this.isEligibleExperience()&&(t&&t.experience_id===n.experience_id||this.view())}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.experience,i=e.disableAutoView;return n&&this.isEligibleExperience()?"function"==typeof t?t(d({experience:n,complete:this.complete,dismiss:this.dismiss},i?{view:this.view}:Object.freeze({}))):r.Children.only(t):null}}],m(a.prototype,n),i&&m(a,i),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);function x(e){var t=(0,i.useSelector)(function(t){var n=t.experiences;return e.experience||(e.placementId?n[e.placementId]:void 0)}),n=(0,i.useDispatch)(),r=(0,a.be)(),u=(0,a.Am)(),c=(0,a.Ig)(),p=(0,o.Z)();return(0,s.jsx)(_,d(d({},e),{},{completeExperience:function(e,t,i,o){return n(r(e,t,i,!1,{},o))},completeExperienceObject:function(e,t){return n((0,l.Tl)(p)(e,t))},dismissExperience:function(e,t,r,i){return n(u(e,t,r,void 0,i))},dismissExperienceObject:function(e){return n((0,l.CF)(e))},experience:t,viewExperience:function(e,t,r){return n(c(e,t,!1,!1,void 0,r))},viewExperienceObject:function(e){return n((0,l.dy)(p)(e))}}))}v(_,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},701500:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var r=n(76911),i=n(908390),o=n(570470),a=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r.key),r)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(p,e);var t,n,r,d=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=c(p);if(t){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,p),d.apply(this,arguments)}return n=[{key:"renderPulsar",value:function(){var e=this.props,t=e.anchor,n=e.handleComplete,r=e.handlePulsarCompleteOnHover,i=e.zIndex;return(0,a.jsx)(o.Z,{anchor:t,onMouseEnter:r,onTouch:n,zIndex:i})}},{key:"renderFlyout",value:function(){var e=this.props,t=e.anchor,n=e.tooltip,r=e.handleDismiss,o=e.handleComplete;if(!n)return null;var l=n.cancelButtonText,s=n.confirmButtonText,u=n.mainText,c=n.idealDirection,d=l&&!!r&&s&&o;return(0,a.jsx)(i.Li,{anchor:t,idealDirection:void 0===c?"down":c,message:u,onDismiss:r,primaryAction:{onClick:d?r:o,text:d?String(l):String(s),role:"button"},size:"flexible"})}},{key:"render",value:function(){var e=this.props,t=e.anchor,n=e.pulserOnly;return t?n?this.renderPulsar():this.renderFlyout():null}}],s(p.prototype,n),r&&s(p,r),Object.defineProperty(p,"prototype",{writable:!1}),p}(r.Component),p=n(123159),f=n(764990),m=n(249647),y=n(70061);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=function(e){var t=e.anchor,n=e.anchorExperiences;return e.passedExperience||(n?n[t]:null)},x=function(e){var t=e.display_data;return t.tooltip&&(t.tooltip=b(b({},t.tooltip.options),t.tooltip),delete t.tooltip.options),(0,m.Z)(y.Z,!0)(t)};function P(e){var t,n,o=e.anchor,l=e.anchorElementRef,s=e.children,u=e.containerBoxConfig,c=e.experience,m=e.isHidden,y=e.onCompleteClick,h=e.zIndex,v=(0,p.M)(),b=v.completeExperience,P=v.dismissExperience,S=v.experiences,j=v.viewExperience,w=_({anchor:o,anchorExperiences:Object.values(S).reduce(function(e,t){return 8===t.type&&(e[(0,f.A0)(t)]=t),e},{}),passedExperience:c}),O=(null==w?void 0:null===(n=w.display_data)||void 0===n?void 0:n.delay)||0,A=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!!O))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),k=A[0],C=A[1];if((0,r.useEffect)(function(){if(O>0&&k){var e=setTimeout(function(){C(!1)});return function(){return clearTimeout(e)}}return function(){}},[O,k]),(0,r.useEffect)(function(){!k&&w&&j(w.placement_id,w.experience_id)},[k,w]),!w||k||m)return r.Children.only(s);var D=x(w),E=function(){var e;null!==(e=w.display_data)&&void 0!==e&&e.complete_on_hover&&b(w.placement_id,w.experience_id)};return(0,a.jsxs)(i.xu,{display:null==u?void 0:u.display,height:null==u?void 0:u.height,position:"relative",children:[(0,a.jsx)(i.iP,{onMouseEnter:E,onTap:function(){y&&y(),D.skipComplete||b(w.placement_id,w.experience_id)},children:r.Children.only(s)}),(0,a.jsx)(d,{anchor:l||null,handleComplete:function(){l instanceof HTMLElement&&l.click()},handleDismiss:function(e){null!=e&&e.event&&e.event.stopPropagation(),P(w.placement_id,w.experience_id)},handlePulsarCompleteOnHover:E,pulserOnly:!!D.pulserOnly,tooltip:D.tooltip,zIndex:h})]})}},673270:function(e,t,n){"use strict";var r=n(121093),i=n(911687),o=n(249647),a=n(70061),l=n(515198);t.Z=function(e){var t=e.placementId;return(0,l.jsx)(r.Z,{placementId:t,predicate:function(e){var t;return(null===(t=e.display_data)||void 0===t?void 0:t.component_type)===1},children:function(e){var t=e.complete,n=e.dismiss,r=e.experience.display_data,s=(0,o.Z)(a.Z)(r);return(0,l.jsx)(i.Z,{displayData:s,onComplete:function(){return t()},onDismiss:n})}})}},147128:function(e,t,n){"use strict";var r=n(121093),i=n(515198);t.Z=function(e){var t=e.placementId;return(0,i.jsx)(r.Z,{eligibleIds:[502312,502320],placementId:t,preventRemoval:!0,children:function(e){return(0,e.complete)(),null}})}},123159:function(e,t,n){"use strict";n.d(t,{F:function(){return v},M:function(){return g}});var r=n(76911),i=n(506979),o=n(821463),a=n(425288),l=n(332611),s=n(957191),u=n(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n){var r;return(r=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===c(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y=(0,a.Z)("ExperienceContext"),h=y.Provider,g=y.useHook;function v(e){var t,n=e.children,a=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(function(e,t){if("MOUNT_PLACEMENT"===t.type)return p(p({},e),{},{mountedPlacements:p(p({},e.mountedPlacements),{},f({},t.payload,!0))});if("UNMOUNT_PLACEMENT"===t.type){var n=p({},e);return delete n.mountedPlacements[t.payload],delete n.registerdAfterActionPlacements[t.payload],n}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?p(p({},e),{},{registerdAfterActionPlacements:p(p({},e.registerdAfterActionPlacements),{},f({},t.payload,!0))}):e},{mountedPlacements:{},registerdAfterActionPlacements:{}}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=a[0],d=a[1],y=c.mountedPlacements,g=c.registerdAfterActionPlacements,v=(0,i.useDispatch)(),b=(0,i.useSelector)(function(e){return e.experiences}),_=(0,l.be)(),x=(0,l.Am)(),P=(0,l.Ig)(),S=(0,r.useMemo)(function(){var e=(0,o.bindActionCreators)({completeExperience:_,dismissExperience:x,fetchAllExperiences:l.fO,fetchAllExperiencesMulti:s.NW,fetchExperienceForPlacements:l.pz,mountPlacement:l.N,triggerExperimentsForPlacement:l.kd,viewExperience:P},v);return p(p({},e),{},{mountPlacement:function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.mountPlacement.apply(e,[t].concat(r)),d({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:function(e){d({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:function(e){d({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}})},[_,x,v,d,P]),j=(0,r.useMemo)(function(){return p({experiences:b,mountedPlacements:y,registerdAfterActionPlacements:g},S)},[b,y,g,S]);return(0,u.jsx)(h,{value:j,children:n})}},322617:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(76911),i=n(506979),o=n(908390),a=n(121093),l=n(121151),s=n(249647),u=n(70061),c=n(50286),d=n(283698),p=n(968121),f=n(898781),m=n(124580),y=n(223815),h=n(965900),g=n(515198),v=function(){if(document.body){var e=document.body.style;e.overflow="hidden",e.touchAction="none"}},b=function(){if(document.body){var e=document.body.style;e.overflow="visible",e.touchAction="auto"}};function _(e){var t=e.accessibilityModalLabel,n=e.allowScroll,i=void 0!==n&&n,a=e.children,l=e.closeOnOutsideClick,s=void 0===l||l,u=e.footer,c=e.isOpen,_=e.modalWidth,x=e.onDismiss,P=e.zIndex,S=(0,f.ZP)(),j=(0,r.useRef)(!1),w=(0,h.I)().setAppFocusState;return((0,r.useEffect)(function(){return j.current=(0,d.Z)(function(){}),function(){"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&j.current&&(window.cancelAnimationFrame(j.current),j.current=null)}},[]),(0,r.useEffect)(function(){return c?(m.Z.pause(),w(!1)):(m.Z.resume(),w(!0)),function(){c&&(m.Z.resume(),w(!0))}},[w,c]),(0,r.useEffect)(function(){var e=c&&!i;return e&&v(),function(){e&&b()}},[c,i]),c)?(0,g.jsx)(y.Z,{children:(0,g.jsx)(o.mh,{children:(0,g.jsxs)(o.xu,{"aria-label":t,zIndex:P||p.b7,position:"relative",role:"dialog",children:[(0,g.jsx)(o.iP,{accessibilityLabel:S._('Mobile Popup Modal Mask', 'mweb.experience_popup_modal.mask', 'The acessibility label for the mask of popup modal'),onTap:function(){s&&x()},tapStyle:"none",children:(0,g.jsx)(o.xu,{height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new o.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}}})}),(0,g.jsxs)(o.xu,{position:"fixed",color:"default",top:!0,width:_,zIndex:new o.Ry(1),rounding:4,overflow:"hidden",dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out"}},children:[a,u]})]})})}):null}var x=n(215727),P=n(977558);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var j=new o.Ry(P.fe),w=new o.H3([j]);function O(e){var t,n,d=(0,i.useSelector)(function(t){var n=t.experiences;return e.experience||(e.placementId?n[e.placementId]:void 0)}),p=null==d?void 0:null===(n=d.display_data)||void 0===n?void 0:n.delay_in_millis,f=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(d&&!p))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=f[0],y=f[1],h=(0,c.HG)();return(0,r.useEffect)(function(){var e;y(d&&!(null!==(e=d.display_data)&&void 0!==e&&e.delay_in_millis))},[d]),(0,r.useEffect)(function(){var e;return p&&(e=setTimeout(function(){y(!0)},p)),function(){return clearTimeout(e)}},[p]),(0,g.jsx)(r.Fragment,{children:m&&(0,g.jsx)(a.Z,{eligibleTypes:[26],experience:d,placementId:e.placementId,children:function(e){var t=e.complete,n=e.dismiss,r=e.experience.display_data,i=(0,s.Z)(u.Z)(r),a=i.title,c=i.body,d=i.completeButton;return a&&c&&d.text?h?(0,g.jsx)(o.mh,{zIndex:w,children:(0,g.jsx)(l.ZP,{accessibilityModalLabel:"",onDismiss:n,size:"sm",children:(0,g.jsx)(x.Z,{displayData:i,handleComplete:t,handleDismiss:n,isMobile:!1})})}):(0,g.jsx)(_,{accessibilityModalLabel:null==i?void 0:i.title,isOpen:!0,modalWidth:320,onDismiss:n,children:(0,g.jsx)(x.Z,{displayData:i,handleComplete:t,handleDismiss:n,isMobile:!0})}):null}})})}},502517:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return U}});var r=n(76911),i=n(121093),o=n(908390),a=n(121151),l=n(898781),s=n(149230),u=n(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(l,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=h(l);if(t){var r=h(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(y(e=i.call.apply(i,[this].concat(n))),"state",{surveyLoaded:!1}),g(y(e),"loadSurvey",function(){var t,n;e.setState({surveyLoaded:!0}),null===(t=(n=e.props).view)||void 0===t||t.call(n)}),g(y(e),"handleDismiss",function(){e.props.dismiss(),e.setState({surveyLoaded:!1})}),g(y(e),"handleComplete",function(){e.props.complete(),e.setState({surveyLoaded:!1})}),e}return n=[{key:"componentDidMount",value:function(){var e=this.props.displayData.delay;this.surveyTimer=window.setTimeout(this.loadSurvey,e)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.surveyTimer)}},{key:"render",value:function(){var e=this;if(!this.state.surveyLoaded)return null;var t=this.props.displayData,n=t.buttons,r=t.detailed_text,i=t.title_text;return(0,u.jsx)(a.ZP,{accessibilityModalLabel:this.props.i18n._('Would you mind taking a survey?', 'User eval survey', 'User eval survey'),footer:(0,u.jsx)(o.kC,{alignItems:"stretch",justifyContent:"end",children:n.map(function(t){if(!t.uri)return(0,u.jsx)(o.xu,{marginStart:1,children:(0,u.jsx)(o.zx,{fullWidth:!0,onClick:e.handleDismiss,text:t.text})},t.text);var n=t.uri,r=(0,s.Z)({url:n});return(0,u.jsx)(o.xu,{marginStart:1,children:(0,u.jsx)(o.ZP,{color:"red",fullWidth:!0,href:n,onClick:e.handleComplete,rel:r?"nofollow":"none",target:"blank",text:t.text})},t.text)})}),heading:i,onDismiss:this.handleDismiss,size:"sm",children:(0,u.jsx)(o.xu,{padding:3,children:(0,u.jsx)(o.xv,{children:r})})})}}],f(l.prototype,n),r&&f(l,r),Object.defineProperty(l,"prototype",{writable:!1}),l}(r.Component);function _(e){var t=(0,l.ZP)();return(0,u.jsx)(b,p(p({},e),{},{i18n:t}))}var x=n(599689),P=n(773285);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I(r.key),r)}}function k(e,t){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return(t=I(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==S(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===S(t)?t:String(t)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(a,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=D(a);if(t){var r=D(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return C(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(C(e=i.call.apply(i,[this].concat(n))),"isOnClose",e.props.onCloseEnabled&&2===e.props.actionTrigger),E(C(e),"state",{surveyAccepted:!1,surveyLoaded:!1,surveyLoadFailed:!1,showSurveyOnClose:e.isOnClose}),E(C(e),"loadSurvey",function(){var t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=e.props.onView;t&&n(),e.setState({surveyLoaded:!0})}),E(C(e),"processIFrameMessage",function(t){var n=e.props,r=n.presentationDelay,i=n.onComplete,o=n.surveyLink,a=n.onCloseEnabled,l=t.origin||t.originalEvent.origin;o.startsWith(l)&&("surveyFinished"===t.data?i():"surveyLoaded"===t.data&&(window.clearTimeout(e.loadSurveyFailureTimeout),e.isOnClose&&e.showSurveyOnLeavingPage(),a?e.actionTriggerHandler():e.loadSurveyTimeout=window.setTimeout(e.loadSurvey,void 0===r?5e3:r)))}),E(C(e),"handleShowSurvey",function(){e.setState({surveyAccepted:!0})}),e}return n=[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("message",this.processIFrameMessage),this.loadSurveyFailureTimeout=window.setTimeout(function(){e.state.surveyLoaded||(window.clearTimeout(e.loadSurveyTimeout),e.setState({surveyLoadFailed:!0}))},15e3)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.processIFrameMessage),window.clearTimeout(this.loadSurveyTimeout),window.clearTimeout(this.loadSurveyFailureTimeout),this.isOnClose&&this.props.unblock()}},{key:"actionTriggerHandler",value:function(){var e=this.props,t=e.actionTrigger,n=e.presentationDelay,r=void 0===n?5e3:n;switch(t){case 1:this.loadSurvey();break;case 2:this.loadSurvey(!1);break;default:this.loadSurveyTimeout=window.setTimeout(this.loadSurvey,r)}}},{key:"showSurveyOnLeavingPage",value:function(){var e=this,t=this.props,n=t.onView;(0,t.block)(function(){n(),e.setState({showSurveyOnClose:!1})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.surveyAccepted,r=t.surveyLoadFailed,i=t.surveyLoaded,a=t.showSurveyOnClose;if(r)return null;var l=this.props,s=l.acceptButtonText,c=l.bodyText,d=l.declineButtonText,p=l.onDismiss,f=l.subtitleText,m=l.surveyLink,y=l.titleText,h=(0,u.jsx)("iframe",{style:n?{border:0,minHeight:810,paddingBottom:4,width:"100%"}:{display:"none"},src:m,title:this.props.i18n._('Pinterest Survey', 'Accessible label for survey frame', 'Accessible label for survey frame'),"data-test-id":"anket-iframe"});return i&&!a?(0,u.jsx)(o.xu,{position:"absolute",zIndex:new o.Ry(1e3),children:(0,u.jsxs)(o.u_,{accessibilityModalLabel:this.props.i18n._('Have a few minutes to take a survey?', 'User evaluation survey', 'User evaluation survey'),footer:!n&&(0,u.jsxs)(o.xu,{display:"flex",justifyContent:"end",paddingX:1,children:[(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{padding:"6px 8px"}},children:(0,u.jsx)(o.zx,{fullWidth:!0,text:d,onClick:function(){e.setState({surveyAccepted:!1}),p()}})}),(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{padding:"6px 8px"}},children:(0,u.jsx)(o.zx,{fullWidth:!0,color:"red",text:s,onClick:this.handleShowSurvey})})]}),heading:n?"":y,onDismiss:p,role:"alertdialog",size:n?"lg":"md",padding:"none",children:[(0,u.jsx)(o.xu,{children:h}),!n&&(0,u.jsxs)(o.xu,{padding:3,children:[(0,u.jsx)(o.xv,{children:f}),(0,u.jsx)(o.xv,{children:c})]})]})}):h}}],A(a.prototype,n),r&&A(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component),R=function(e){var t,n=(0,l.ZP)(),i=(0,P.F)().checkExperiment,o=(0,x.useHistory)(),a=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=a[0],c=a[1],d=(0,r.useRef)(null);return(0,u.jsx)(T,w(w({},e),{},{i18n:n,onCloseEnabled:i("discovery_measurements_on_close_survey").anyEnabled,unblock:function(){if(d){var e;null===(e=d.current)||void 0===e||e.call(d)}if(s){var t=s.location,n=s.action;"PUSH"===n?o.push("".concat(t.pathname).concat(t.search)):"POP"===n&&o.goBack()}},block:function(e){d.current=o.block(function(t,n){return c({location:t,action:n}),e(),!1})}}))};function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==F(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==F(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===F(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var N=function(e){var t=e.complete,n=e.dismiss,r=e.view,i=e.displayData,o=i.anket,a=i.buttons,l=i.delay,s=i.detailed_text,c=i.subtitle_text,d=i.title_text,p=i.action_trigger,f=M(a,2),m=f[0],y=f[1];return o?(0,u.jsx)(R,{acceptButtonText:y.text,actionTrigger:void 0===p?3:p,bodyText:s,declineButtonText:m.text,onComplete:t,onDismiss:n,onView:r,presentationDelay:l,subtitleText:c,surveyLink:y.uri,titleText:d}):(0,u.jsx)(_,{complete:t,dismiss:n,displayData:i,view:r})},Z=function(e){var t=e.experienceId,n=e.displayData,i=n.delay,o=void 0===i?0:i,a=z(z({},n),{},{delay:0}),l=z(z({},e),{},{displayData:z({},a)}),s=(0,r.useRef)(),c=M((0,r.useState)(!1),2),d=c[0],p=c[1];return(0,r.useEffect)(function(){var e=["/pin-builder","/idea-pin-builder"],t=function(e){return window.location.pathname.includes(e)},n=function n(){e.some(t)?s.current=setTimeout(function(){return n()},3e3):p(!0)};return s.current=setTimeout(function(){return n()},o),function(){clearTimeout(s.current)}},[t,o]),d?(0,u.jsx)(N,z({},l)):null};function U(e){var t=e.placementId,n=e.targeting,r=e.eligibleIds;return(0,u.jsx)(i.Z,{disableAutoView:!0,eligibleIds:r||[],eligibleTypes:[5],placementId:t,targeting:n,children:function(e){var n=e.complete,r=e.dismiss,i=e.view,o=e.experience,a=o.display_data,l=o.experience_id;return 1000421===t?(0,u.jsx)(Z,{complete:n,dismiss:r,displayData:a,experienceId:l,view:i}):(0,u.jsx)(N,{complete:n,dismiss:r,displayData:a,view:i})}})}},333312:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(76911),i=n(908390),o=n(121093),a=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(f,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=d(f);if(t){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function f(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(c(e=o.call.apply(o,[this].concat(n))),"onScroll",function(){var t=e.props.dismiss;e.dismissed||e.timer||(e.timer=setTimeout(function(){t(),e.dismissed=!0,e.timer=void 0},3e3))}),p(c(e),"dismissed",!1),e}return n=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.anchor,n=e.text,r=e.thumbnails,o=e.idealDirection,l=r.slice(-3);return(0,a.jsx)(i.J2,{anchor:t,color:"white",idealDirection:o,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,a.jsxs)(i.xu,{alignContent:"center",display:"flex",justifyContent:"between",padding:3,width:"100%",children:[(0,a.jsx)(i.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,a.jsx)(i.xv,{color:"default",weight:"bold",children:n})}),(0,a.jsx)(i.xu,{display:"flex",marginEnd:-2,paddingX:2,children:l.map(function(e){return(0,a.jsx)(i.xu,{height:60,paddingX:1,width:50,children:(0,a.jsx)(i.zd,{height:60,rounding:2,children:(0,a.jsx)(i.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)})})]})})}}],s(f.prototype,n),r&&s(f,r),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.PureComponent),y=n(570470),h=["scroll_to_dismiss","scroll_to_dismiss_delay_in_seconds"];function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(u,e);var t,n,l,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=x(u);if(t){var r=x(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return _(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return P(_(e=s.call.apply(s,[this].concat(n))),"dismissRef",(0,r.createRef)()),P(_(e),"state",{paused:!1}),P(_(e),"dismissCb",function(){var t,n;null===(t=(n=e.dismissRef).current)||void 0===t||t.call(n)}),P(_(e),"handlePulsarClick",function(t,n){t?e.setState({paused:!0}):n()}),e}return n=[{key:"componentWillUnmount",value:function(){var e=this.props.anchor;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}},{key:"setDefaultPulsarTooltip",value:function(e){var t=function(e){return null!=e};e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}},{key:"getText",value:function(e,t,n){return(t&&e.text.replace("{boardName}",t),n)?n(e):e.text}},{key:"render",value:function(){var e=this,t=this.props,n=t.anchor,l=t.customWrapper,s=t.experienceIds,u=t.boardTextOverride,c=t.flyoutSize,d=t.fontSize,p=t.hasFullWidthButton,f=void 0===p||p,g=t.idealDirection,v=t.useMasonryFlyout,b=t.noClickToDismiss,_=t.onClickComplete,x=t.onClickDismiss,P=t.placementId,S=t.positionRelativeToAnchor,j=t.shouldTimeoutDismiss,w=t.showCaret,O=t.textAlign,A=t.textOverflow,k=t.textOverrideFn,C=t.textWeight,D=t.customizedComplete,E=t.pulsarZIndex,I=t.advertiserId,T=t.dismissButtonLocation,R=t.dismissButtonColor,F=t.dismissButtonMarginTop,L=l||function(e){var t=e.children;return v?(0,a.jsx)(i.mh,{children:t}):t};return(0,a.jsx)(o.Z,{eligibleIds:s,eligibleTypes:[8],placementId:P,targeting:I?{advertiserId:parseInt(I,10)}:null,children:function(t){var o=t.complete,l=t.dismiss,s=t.experience,p=s.display_data,P=p.scroll_to_dismiss,I=p.scroll_to_dismiss_delay_in_seconds,z=void 0===I?0:I,M=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(p,h),B=P&&n,N=function(){Z(),setTimeout(l,1e3*z)},Z=function(){B&&(window.removeEventListener("scroll",N),window.removeEventListener("touchmove",N))},U=function(){Z(),o()};if(B&&(window.addEventListener("scroll",N),window.addEventListener("touchmove",N)),e.setDefaultPulsarTooltip(M),!M.has_pulsar&&!M.has_tooltip)return U(),null;j&&M.disappearTime&&M.disappearTime>0&&(e.timer=setTimeout(function(){return N(),null},M.disappearTime));var K=501041===s.experience_id||505086===s.experience_id;return M.has_tooltip&&!M.has_pulsar&&(e.dismissRef.current=N,null==n||n.addEventListener("click",e.dismissCb)),(0,a.jsxs)(r.Fragment,{children:[M.has_pulsar&&(0,a.jsx)(y.Z,{anchor:n,leftOverride:K?342:void 0,onTouch:function(){return e.handlePulsarClick(M.has_tooltip,U)},paused:e.state.paused,topOverride:K?-5:void 0,zIndex:E&&E.index()}),M.has_tooltip&&(!M.has_pulsar||e.state.paused)&&(M.thumbnail_urls?(0,a.jsx)(m,{anchor:n,dismiss:N,idealDirection:g||"down",text:M.text,thumbnails:M.thumbnail_urls}):(0,a.jsx)(L,{children:(0,a.jsx)(i.J2,{_deprecatedShowCaret:w,anchor:n,color:"deprecatedBlue",idealDirection:g||"down",onDismiss:b?function(){}:N,positionRelativeToAnchor:!v&&S,shouldFocus:!1,size:c,children:(0,a.jsxs)(i.xu,{column:12,padding:3,children:[(0,a.jsxs)(i.xv,{align:"right"===O?"end":O,color:"inverse",overflow:A,size:d,weight:C||"bold",children:[e.getText(M,u,k),M.secondary_cta_link&&(0,a.jsx)(i.xu,{display:"inlineBlock",marginStart:1,children:(0,a.jsx)(i.xv,{color:"inverse",size:d,weight:"bold",children:(0,a.jsx)(i.rU,{display:"inlineBlock",href:M.secondary_cta_link.url,target:"blank",underline:"hover",children:M.secondary_cta_link.text})})})]}),M.sub_text&&(0,a.jsx)(i.xu,{paddingY:2,children:(0,a.jsx)(i.xv,{color:"inverse",size:d,children:M.sub_text})}),(M.dismiss_button_text||M.complete_button_text)&&(0,a.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:T||"start",marginTop:F||2,children:[M.dismiss_button_text&&(0,a.jsx)(i.xu,{column:6,marginEnd:1,children:(0,a.jsx)(i.zx,{color:R||"blue",fullWidth:f,onClick:function(){x&&x(),N()},size:"md",text:M.dismiss_button_text})}),M.complete_button_text&&(0,a.jsx)(i.xu,{column:M.dismiss_button_text?6:12,children:D?(0,a.jsx)(i.iP,{fullHeight:!0,onTap:function(){U(),_&&_()},rounding:2,children:(0,a.jsx)(i.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"10px"}},display:"flex",justifyContent:"center",padding:2,rounding:2,children:(0,a.jsx)(i.xv,{color:"shopping",weight:"bold",children:M.complete_button_text})})}):(0,a.jsxs)(i.kC,{justifyContent:"center",children:[M.complete_button_cta_url&&(0,a.jsx)(i.ZP,{color:"white",fullWidth:f,href:M.complete_button_cta_url,onClick:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),U(),_&&_()},size:"md",target:M.complete_button_cta_url?"blank":null,text:M.complete_button_text}),!M.complete_button_cta_url&&(0,a.jsx)(i.zx,{color:"white",fullWidth:f,onClick:function(){U(),_&&_()},size:"md",text:M.complete_button_text})]})})]})]})})}))]})}})}}],v(u.prototype,n),l&&v(u,l),Object.defineProperty(u,"prototype",{writable:!1}),u}(r.Component);P(j,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},756306:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(76911),i=n(908390),o=n(121093),a=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(m,e);var t,n,r,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=d(m);if(t){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function m(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,m);for(var e,t,n,r,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=c(e=f.call.apply(f,[this].concat(o))),r={paused:!1,showPulsar:!1},(n=p(n="state"))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e}return n=[{key:"componentDidMount",value:function(){this.mountPulsar(),this.props.onExperienceMount&&this.experience&&this.props.onExperienceMount(this.experience)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"mountPulsar",value:function(){this.experience&&this.experience.display_data.has_pulsar&&this.setState({showPulsar:!0})}},{key:"renderPulsar",value:function(){var e=this.props.anchor,t=this.state.paused;if(!e)return null;var n=e.getBoundingClientRect(),r=n.height,o=n.width;return(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-(68+r/2),marginLeft:-(68-o/2),cursor:"pointer",pointerEvents:"none"}},position:"absolute",zIndex:new i.Ry(1),children:(0,a.jsx)(i.o3,{paused:t})})}},{key:"renderFlyout",value:function(e){var t=this.props,n=t.anchor,r=t.flyoutSize,o=t.idealDirection;return(0,a.jsx)(i.Li,{anchor:n,idealDirection:o||"down",message:e,onDismiss:function(){},size:r})}},{key:"render",value:function(){var e=this,t=this.props,n=t.experienceIds,r=t.placementId,l=t.shouldTimeoutDismiss,s=this.state.showPulsar;return(0,a.jsx)(o.Z,{eligibleIds:n,eligibleTypes:[8],placementId:r,children:function(t){var n=t.complete,r=t.dismiss,o=t.experience;e.experience=o;var u=o.display_data;return u.has_pulsar||u.has_tooltip?(l&&u.disappearTime&&u.disappearTime>0&&(e.timer=setTimeout(function(){return r(),null},u.disappearTime)),(0,a.jsxs)(i.xu,{zIndex:new i.Ry(10),children:[s&&e.renderPulsar(),u.has_tooltip&&(!u.has_pulsar||e.state.paused)&&e.renderFlyout(u.text)]})):(n(),null)}})}}],s(m.prototype,n),r&&s(m,r),Object.defineProperty(m,"prototype",{writable:!1}),m}(r.Component)},327788:function(e,t,n){"use strict";var r=n(76911),i=n(123159),o=n(322617),a=n(497529),l=n(515198);t.Z=function(e){var t=e.placementId,n=(0,a.Z)(t).experienceForPlacement,s=(0,i.M)(),u=s.unmountPlacement,c=s.registerAfterActionPlacement;return(0,r.useEffect)(function(){return c(t),function(){u(t)}},[t,u,c]),(0,l.jsx)(r.Fragment,{children:(0,l.jsx)(o.Z,{experience:n})})}},911687:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(908390),i=n(444445),o=n(898781),a=n(391254),l=n(164985),s=n(149230),u=n(515198),c=(i.yF+i.lX)*i.yc-i.lX,d=Array.from(Array(i.g5-i.yc).keys()).reduce(function(e,t){var n=t+i.yc,r=(i.yF+i.lX)*n-i.lX;return e+(0,i.KN)(i.yF,n,n,".banner-content {\n          width: ".concat(r,"px;\n          min-width: ").concat(r,"px;\n        }"),i.lX)},".banner-content {\n      width: ".concat(c,"px;\n      min-width: ").concat(c,"px;\n  }"));function p(e){var t=(0,o.ZP)(),n=e.displayData,i=n.backgroundColorNarrow,c=n.backgroundColorWide,p=n.backgroundImageNarrow,f=n.backgroundImageWide,m=n.canClose,y=n.completeButtonText,h=n.coverImage,g=n.dismissButtonText,v=n.iconImage,b=n.layoutNarrow,_=n.layoutWide,x=n.links,P=n.linkTitles,S=void 0===P?[]:P,j=n.message,w=n.onCompleteRedirectUrl,O=n.onDismissRedirectUrl,A=n.textColorNarrow,k=n.textColorWide,C=n.titleText,D=n.external,E=e.onComplete,I=e.onDismiss,T=(0,l.Z)().windowWidth<=480,R=T?b:_,F=!T&&3!==R,L=T?A:k,z=(T?p:f)||{},M=z.altText,B=z.uri,N=h||{},Z=N.altText,U=N.uri,K=v||{},H=K.altText,V=K.uri,G=T&&2===R||!T&&2===R,W=T?"96px":"48px",q=T&&3===R,Y=y&&!w&&(0,u.jsx)(r.zx,{color:"white",onClick:function(e){var t=e.event;null==E||E(t)},text:y}),X=(0,s.Z)({url:w}),$=y&&w&&(0,u.jsx)(r.ZP,{color:"white",href:w,onClick:function(e){var t=e.event;null==E||E(t)},rel:X?"nofollow":"none",size:"lg",target:D?"blank":void 0,text:y},"naglink"),Q=(0,s.Z)({url:O}),J=g&&O&&(0,u.jsx)(r.ZP,{color:"white",href:O,onClick:function(e){var t=e.event;null==I||I(t)},rel:Q?"nofollow":"none",size:"lg",target:D?"blank":void 0,text:g},"naglink"),ee=g&&!O&&(0,u.jsx)(r.zx,{color:"white",onClick:function(e){var t=e.event;null==I||I(t)},size:"lg",text:g}),et=m&&(0,u.jsx)(r.hU,{accessibilityLabel:t._('Close', 'accessibility close label', 'accessibility close label'),bgColor:"lightGray",icon:"cancel",iconColor:"gray",onClick:function(e){var t=e.event;null==I||I(t)},size:"md"}),en=(void 0===x?[]:x).reduce(function(e,t,n){var r=t.startsWith("https://")||t.startsWith("http://")?'rel="noreferrer noopener" target="_blank"':"",i='<a href="'.concat(t,'" ').concat(r,">").concat(S[n],"</a>");return e.replace("{".concat(n,"}"),i)},j);return(0,u.jsxs)(r.xu,{direction:F?"row":"column",display:"flex",marginBottom:5,marginEnd:2,marginStart:2,marginTop:2,children:[(0,u.jsx)(a.Z,{unsafeCSS:d}),(0,u.jsx)("div",{className:"banner-content",style:{borderRadius:"16px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",margin:"0 auto"},children:(0,u.jsxs)(r.zd,{rounding:4,width:"100%",children:[q&&U&&(0,u.jsx)(r.kC,{alignItems:"start",height:128,justifyContent:"center",width:"100%",children:(0,u.jsx)(r.Ee,{alt:Z||"cover image",fit:"cover",naturalHeight:1,naturalWidth:3,src:U})}),(0,u.jsxs)(r.xu,{alignItems:"center","aria-label":M,dangerouslySetInlineStyle:{__style:{backgroundColor:T?i:c,backgroundImage:!B||G||q?void 0:"url(".concat(B,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},direction:F?"row":"column",display:"flex",justifyContent:"between",marginTop:q?-2:0,padding:6,children:[(0,u.jsxs)(r.kC,{alignItems:"center",direction:F?"row":"column",justifyContent:"between",maxWidth:F?void 0:"560px",children:[G&&V&&(0,u.jsx)(r.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:F?0:6,marginEnd:F?4:0,children:(0,u.jsx)(r.xu,{height:W,width:W,children:(0,u.jsx)(r.zd,{rounding:F?4:6,children:(0,u.jsx)(r.Ee,{alt:H||"icon",naturalHeight:1,naturalWidth:1,src:V})})})}),!F&&C&&(0,u.jsx)(r.xv,{align:"center",weight:"bold",children:(0,u.jsx)("div",{className:"banner-title",style:{color:L,fontSize:"28px",marginBottom:"8px"},children:C})}),en&&(0,u.jsxs)(r.xv,{align:F?"start":"center",overflow:"normal",children:[(0,u.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n                        .banner-text a {\n                          color: ".concat(L||"",";\n                          font-weight: bold;\n                        }")}}),(0,u.jsx)("div",{className:"banner-text",dangerouslySetInnerHTML:{__html:en},style:{color:L}})]})]}),(0,u.jsx)(r.xu,{marginBottom:F?0:-1,marginStart:F?4:0,marginTop:F?0:4,children:(0,u.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",wrap:!F,children:[ee||J,Y||$,et]})})]})]})})]})}},332611:function(e,t,n){"use strict";n.d(t,{Am:function(){return x},Ig:function(){return b},N:function(){return w},Sd:function(){return P},YX:function(){return j},be:function(){return _},fO:function(){return h},kd:function(){return S},pz:function(){return g}});var r,i=n(76911),o=n(214494),a=n(112690),l=n(764990),s=n(957191),u=n(186656),c=n(67347);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,c.nP)("".concat(e,".").concat(t),{sampleRate:1,tags:n})},h=function(e,t){return function(n){var r=t?{extra_context:e,targeting:t}:{extra_context:e};return o.Z.create("UserExperiencePlatformResource",r).callGet().then(function(e){return e.resource_response?n((0,s.OD)(e.resource_response.data)):void 0})}},g=function(e,t,n,i){return function(a,u){if(t)return Promise.resolve();if(i&&(r=i),1===e.length){var c=e[0],d=u().experiences[c];if(JSON.stringify((null==d?void 0:d.extraContext)||null)===JSON.stringify(n)||(0,l.E3)(d)&&!(n&&Object.keys(n).length>0))return Promise.resolve()}return o.Z.create("UserExperienceResource",{placement_ids:e,extra_context:n||null,targeting:i}).callGet().then(function(e){return e.resource_response?a((0,s.cL)(e.resource_response.data)):void 0})}},v=function(e,t,n,i){return function(a,l,u){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],d=arguments.length>4?arguments[4]:void 0,p=arguments.length>5?arguments[5]:void 0;return function(f,m){var y,g=m(),v=g.experiences,b=g.experiencesMulti,_=null,x=!0;if(c||(_=(x=v[a]&&v[a].experience_id===l)?v[a]:Array.isArray(b[a])&&(null===(y=b[a])||void 0===y?void 0:y.find(function(e){return e.experience_id===l}))),_&&_.experience_id===l||c&&a&&l){var P=o.Z.create(e,{placed_experience_id:"".concat(a,"%3A").concat(l),extra_context:null!=d?d:{},targeting:p}),S=x?s.Yb:s.xW;switch(t){case"dismissed":return P.callDelete().then(function(){f(S(a,l,t)),f(h(void 0,r)),n&&i&&n({event_type:i,object_id_str:l.toString()})});case"completed":return P.callUpdate().then(function(){!u&&(f(S(a,l,t)),f(h(void 0,r)),n&&i&&n({event_type:i,object_id_str:l.toString()}))});case"viewed":return f(S(a,l,t)),P.callUpdate().then(function(){1000162===a&&f(h()),n&&i&&n({event_type:i,object_id_str:l.toString()})});case"completedWithoutHomefeed":return P.callUpdate().then(function(){u||f(S(a,l,t)),n&&i&&n({event_type:i,object_id_str:l.toString()})})}}return Promise.resolve()}}},b=function(){var e=(0,a.Z)();return(0,i.useCallback)(v("UserExperienceViewedResource","viewed",e,4503),[e])},_=function(){var e=(0,a.Z)();return(0,i.useCallback)(v("UserExperienceCompletedResource","completed",e,6567),[e])},x=function(){var e=(0,a.Z)();return(0,i.useCallback)(v("UserExperienceResource","dismissed",e,6568),[e])},P=function(){var e=(0,a.Z)();return(0,i.useCallback)(v("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e])},S=function(e,t){return function(n,r){var i=r().experiences[e];i&&i.triggerable_placed_exps&&i.triggerable_placed_exps.length&&i.triggerable_placed_exps.forEach(function(n){var r,o=(function(e){if(Array.isArray(e))return e}(r=n.split(":"))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(r,2)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],a=t;i.metadata&&i.metadata[o]&&(a=f(f({},t),i.metadata[o])),(0,u.Z)({url:"/v3/experiences/".concat(n.replace(":","%3A"),"/trigger/"),method:"PUT",data:a?{extra_context:JSON.stringify(a,null,1)}:{}}).then(function(){y("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:o})})})}},j=function(e){return function(t,n){return t(S(e)),n().experiences[e]}},w=function(e,t,n){return function(i){n&&(r=n),i(S(e,t)),t&&Object.keys(t).length>0&&i(g([e],!1,t,n))}}},242923:function(e,t,n){"use strict";n.d(t,{CF:function(){return l},Tl:function(){return a},dy:function(){return s}});var r=n(214494),i=n(332611),o=function(e,t,n,o){return function(a,l){return function(s){if(a&&a.id){var u=r.Z.create(e,{placed_experience_id:a.id,extra_context:{}});switch(t){case"dismissed":u.callDelete().then(function(){s((0,i.fO)()),n&&o&&n({event_type:o,object_id_str:a.id.toString()})});break;case"completed":u.callUpdate().then(function(){l||s((0,i.fO)()),n&&o&&n({event_type:o,object_id_str:a.id.toString()})});break;case"viewed":u.callUpdate().then(function(){n&&o&&n({event_type:o,object_id_str:a.id.toString()})})}}}}},a=function(e){return o("UserExperienceCompletedResource","completed",e,6567)},l=o("UserExperienceResource","dismissed"),s=function(e){return o("UserExperienceViewedResource","viewed",e,4503)}},764990:function(e,t,n){"use strict";n.d(t,{A0:function(){return u},E3:function(){return l},MQ:function(){return s},fL:function(){return c}});var r=n(908390),i=n(149230),o=n(515198);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return!!e&&0!==e.type}var s=function(e,t,n){var r=e[n];return t[n]&&l(r)?r:null};function u(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}var c=function(e){var t,n,l=((function(e){if(Array.isArray(e))return a(e)})(n=(null===(t=new DOMParser().parseFromString(e,"text/html").body)||void 0===t?void 0:t.childNodes)||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){if("A"!==e.nodeName)return(0,o.jsx)(r.xv,{inline:!0,children:e.textContent});var t=e.href||"",n=(0,i.Z)({url:t});return(0,o.jsx)(r.rU,{display:"inline",externalLinkIcon:n?"default":"none",href:t,rel:n?"nofollow":"none",target:"blank",children:e.textContent})});return(0,o.jsx)(r.xv,{inline:!0,children:l})}},207737:function(e,t,n){"use strict";n.d(t,{$S:function(){return r},V$:function(){return i},_4:function(){return a},iY:function(){return l},mR:function(){return o}});var r="REFRESH_ALL_EXPERIENCES_MULTI",i="UPDATE_EXPERIENCE_MULTI",o="FETCH_EXPERIENCES",a="REFRESH_ALL_EXPERIENCES",l="UPDATE_EXPERIENCE"},957191:function(e,t,n){"use strict";n.d(t,{NW:function(){return a},OD:function(){return s},Yb:function(){return l},cL:function(){return u},xW:function(){return o}});var r=n(214494),i=n(207737),o=function(e,t,n){return{type:i.V$,payload:{placementId:e,experienceId:t,status:n}}},a=function(e){return function(t){return r.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(function(e){var n;return e.resource_response?t((n=e.resource_response.data,{type:i.$S,payload:{experiencesMulti:n}})):void 0})}},l=function(e,t,n){return{type:i.iY,payload:{placementId:e,experienceId:t,status:n}}},s=function(e){return{type:i._4,payload:{experiences:e}}},u=function(e){return{type:i.mR,payload:{experiences:e}}}},570470:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(908390),i=n(76911),o=n(515198);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t=e.anchor,n=e.children,l=e.zIndex,s=e.leftOverride,u=e.topOverride,c=(0,i.useRef)(null),d=a((0,i.useState)(0),2),p=d[0],f=d[1],m=a((0,i.useState)(0),2),y=m[0],h=m[1],g=t.getBoundingClientRect(),v=g.height,b=g.width;return(0,i.useEffect)(function(){var e=c.current;if(t&&e){var n=e.getBoundingClientRect(),r=n.height,i={horizontalOffset:-(n.width/2-b/2),verticalOffset:-(r/2-v/2)},o=i.horizontalOffset,a=i.verticalOffset;f(o),h(a)}}),(0,o.jsx)(r.xu,{ref:c,dangerouslySetInlineStyle:{__style:{left:s||p,top:u||y}},"data-test-id":"center-box",position:"absolute",zIndex:l?new r.Ry(l):void 0,children:n})}var u=function(e){var t=e.anchor,n=e.leftOverride,i=e.onTouch,a=e.onMouseEnter,l=e.paused,u=e.size,c=e.topOverride,d=e.zIndex;return t?(0,o.jsx)(s,{anchor:t,leftOverride:n,topOverride:c,zIndex:d,children:(0,o.jsx)(r.iP,{fullWidth:!1,onMouseEnter:a,onTap:function(e){return i(e.event)},rounding:"circle",children:(0,o.jsx)(r.o3,{paused:l,size:u})})}):null}},497529:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(76911);n(332611);var i=n(123159),o=n(764990);n(957191);var a=n(780280);function l(e){var t=(0,i.M)(),n=t.mountedPlacements,l=t.completeExperience,s=t.dismissExperience,u=t.experiences,c=t.fetchAllExperiences,d=t.fetchAllExperiencesMulti,p=t.fetchExperienceForPlacements,f=t.triggerExperimentsForPlacement,m=t.viewExperience,y=(0,a.B)().isBot,h=e&&!y?(0,o.MQ)(u,n,e):null;return(0,r.useMemo)(function(){return{completeExperience:l,dismissExperience:s,experienceForPlacement:h,fetchAllExperiences:c,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:p,triggerExperimentsForPlacement:f,viewExperience:m}},[l,s,h,c,d,p,f,m])}},869636:function(e,t,n){"use strict";var r=n(76911),i=n(506979),o=n(904202),a=n(123159),l=n(780280),s=n(67347);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=(0,o.P1)(function(e){return e.experiences},function(e,t){return t},function(e,t){return e[t]}),m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,s.nP)("".concat(e,".").concat(t),{sampleRate:1,tags:n})},y=function(e,t){return"function"==typeof t?t(e):t};t.Z=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(y,n))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=s[0],c=s[1],h=(0,l.B)().isBot,g=(0,a.M)(),v=g.fetchExperienceForPlacements,b=g.mountPlacement,_=g.triggerExperimentsForPlacement,x=g.unmountPlacement;(0,r.useDebugValue)("Placement Hook ID - ".concat(e)),(0,r.useEffect)(function(){var t=d({},u),n=o&&null!=t&&t.advertiser_id?{advertiserId:t.advertiser_id}:void 0;return b(e,t,n),function(){x(e)}},[]),(0,r.useEffect)(function(){Object.keys(u).length>0&&v([e],h,u)},[u]);var P=(0,i.useSelector)(function(t){return f(t,e)}),S=(0,i.useSelector)(function(t){return t.experiencesMulti[e]}),j=P?P.triggerable_placed_exps:[];return(0,r.useEffect)(function(){m("experienceservice","placementHookExperimentTrigger.1",d({platform:"web",placement_id:e},j)),_(e,u)},[JSON.stringify(j)]),{experience:P,experiencesMulti:S,setExtraContext:c}}},784450:function(e,t,n){"use strict";var r=n(76911),i=n(506979),o=n(594736),a=n(332611),l=n(123159),s=n(764990),u=n(780280),c=n(515198);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}var _={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1};t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return function(p){var b=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],p=arguments.length>5?arguments[5]:void 0,b=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(_,r);var i,l,u,b=(i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=g(_);if(i){var n=g(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function _(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,_),v(h(t=b.call(this,e)),"state",{extraContext:void 0}),v(h(t),"setExtraContextState",function(e){(0,o.ZP)(t.state.extraContext,e)||t.setState({extraContext:e})}),t}return l=[{key:"componentDidMount",value:function(){this.dispatchPlacementMount()}},{key:"componentDidUpdate",value:function(n,r){var i=this.props,l=i.dispatch,s=i.experience,u=i.requestContext,c=r.extraContext,d=this.state.extraContext||t||{};"function"==typeof t&&(c=t(n,r.extraContext||{}),d=t(this.props,this.state.extraContext||{})),d&&Object.keys(d).length>0&&!(0,o.ZP)(c,d)&&l((0,a.pz)([e],u.isBot,d)),s&&(!n.experience||s.id!==n.experience.id)&&l((0,a.kd)(e,d))}},{key:"componentWillUnmount",value:function(){this.props.unmountPlacement(e)}},{key:"dispatchPlacementMount",value:function(){var r="function"==typeof t?t(this.props,this.state.extraContext||{}):f({},t),i=n&&null!=r&&r.advertiser_id?{advertiserId:r.advertiser_id}:void 0;this.props.mountPlacement(e,r,i)}},{key:"render",value:function(){var e=this.props,t=e.experience,r=e.experiencesMulti,i=v({},n?"advertiserExperience":"experience",(0,s.E3)(t)?t:null);return(0,c.jsx)(p,f(f(f({},this.props),{},{setPlacementExtraContext:this.setExtraContextState},i),{},{experiencesMulti:r}))}}],m(_.prototype,l),u&&m(_,u),Object.defineProperty(_,"prototype",{writable:!1}),_}(r.Component);function _(e){var t=(0,u.B)(),n=(0,i.useDispatch)(),r=(0,l.M)(),o=r.mountPlacement,a=r.unmountPlacement;return(0,c.jsx)(b,f(f({},e),{},{dispatch:n,mountPlacement:o,requestContext:t,unmountPlacement:a}))}return _.displayName="withPlacement(".concat(p.displayName||p.name||"Component",")"),_}(e,t,(n=f(f({},_),n)).shouldUsePlacedExperience,n.dispatchMountActionDuringSSR,n.isAdvertiserPlacement,p),x=function(t){var n=(0,i.useSelector)(function(t){return t.experiences[e]}),r=(0,i.useSelector)(function(t){return t.experiencesMulti?t.experiencesMulti[e]:void 0});return(0,c.jsx)(b,f(f({},t),{},{experience:n,experiencesMulti:r}))};return x.displayName=b.displayName,x}}},441253:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(948337),i=n.n(r),o=n(67347);function a(e){if("undefined"==typeof window||!document.head)return(0,o.nP)("load_fonts.failure",{sampleRate:1,tags:{failure_reason:"window undefined"}}),Promise.reject(Error("Window is undefined or no head on the document. Unable to load fonts"));var t=document.head,n=[];return e.forEach(function(e){e.styles.forEach(function(r){var o,a,l,s=document.querySelector("#".concat(null!==(o=e.fontFamily)&&void 0!==o?o:"","-").concat(r.name));s||((s=document.createElement("style")).setAttribute("id","".concat(null!==(a=e.fontFamily)&&void 0!==a?a:"","-").concat(r.name)),t.appendChild(s),e.format&&r.fontUrl&&s&&s.sheet&&s.sheet.insertRule('\n            @font-face {\n              font-family: "'.concat(null!==(l=e.fontFamily)&&void 0!==l?l:"",'";\n              font-style: "').concat(r.fontStyle,'";\n              font-weight: "').concat(r.fontWeight,'";\n              src: url("').concat(r.fontUrl,'") format("').concat(e.format,'");\n            }\n          '),0),n.push(new(i())(e.fontFamily,{style:r.fontStyle,weight:r.fontWeight}).load()))})}),Promise.all(n).then(function(){Promise.resolve()}).catch(function(e){(0,o.nP)("load_fonts.failure",{sampleRate:1,tags:{failure_reason:"unsuccessful load"}}),Promise.reject(e)})}},579014:function(e,t,n){"use strict";n.d(t,{B1:function(){return i},Md:function(){return c},iX:function(){return u},lI:function(){return o},op:function(){return s},uZ:function(){return a},wN:function(){return r},z_:function(){return l}});var r="var(--color-background-default)",i="var(--color-background-inverse-base)",o="var(--color-background-secondary-base)",a="var(--color-background-error-base)",l="var(--color-background-info-weak)",s="var(--color-border-error)",u="var(--color-border-container)",c="var(--color-text-subtle)"},858472:function(e,t,n){"use strict";n.d(t,{$$:function(){return g},C5:function(){return A},CZ:function(){return h},EX:function(){return o},FZ:function(){return r},HH:function(){return l},KK:function(){return S},Kp:function(){return m},Ln:function(){return y},Mv:function(){return w},OX:function(){return a},P6:function(){return k},Rb:function(){return x},Xn:function(){return _},YX:function(){return d},bu:function(){return u},cO:function(){return v},ci:function(){return s},fM:function(){return b},k6:function(){return j},oY:function(){return i},sX:function(){return O},vZ:function(){return p},wA:function(){return P},x7:function(){return c},xE:function(){return f}});var r="var(--color-transparent)",i="var(--color-black-cosmicore-900)",o="var(--color-blue-skycicle-900)",a="var(--color-red-pushpin-50)",l="var(--color-red-pushpin-100)",s="var(--color-red-pushpin-200)",u="var(--color-red-pushpin-300)",c="var(--color-red-pushpin-450)",d="var(--color-red-pushpin-500)",p="var(--color-red-pushpin-600)",f="var(--color-red-pushpin-700)",m="var(--color-red-pushpin-800)",y="var(--color-pink-flaminglow-0)",h="var(--color-white-mochimalist-0)",g="var(--color-gray-roboflow-50)",v="var(--color-gray-roboflow-200)",b="var(--color-gray-roboflow-300)",_="var(--color-gray-roboflow-400)",x="var(--color-gray-roboflow-500)",P="var(--color-gray-roboflow-600)",S="var(--color-gray-roboflow-700)",j="var(--color-purple-mysticool-200)",w="var(--color-purple-mysticool-300)",O="var(--color-purple-mysticool-500)",A="var(--color-teal-spabattical-100)",k="var(--color-yellow-caramellow-300)"},301723:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(76911),i=n(908390),o=(0,r.createContext)(),a=n(515198);function l(e){(0,r.useContext)(o);var t=e.alt,n=e.color,l=e.children,s=e.crossOrigin,u=e.decoding,c=e.elementTiming,d=e.fetchPriority,p=e.fit,f=e.loading,m=e.naturalHeight,y=e.naturalWidth,h=e.onError,g=e.onLoad,v=e.role,b=e.sizes,_=e.src,x=e.srcSet;return(0,a.jsx)(i.Ee,{alt:t,color:n,crossOrigin:s,decoding:u,elementTiming:c,fetchPriority:d,fit:p,loading:f,naturalHeight:m,naturalWidth:y,onError:h,onLoad:g,role:v,sizes:b,src:_,srcSet:x,children:l})}},18514:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(76911),i=n(908390),o=n(407043),a=n(319915),l=n(463076),s=n(551983),u=n(444445),c=n(391254),d=n(773285),p=n(780280),f=n(67347),m=n(515198);function y(e){var t,n,y,h=e.cacheKey,g=e.columnWidth,v=e.experimentalTwoColItems,b=e.flexible,_=e.gutterWidth,x=void 0===_?u.ZZ:_,P=e.isFetching,S=e.isGridCentered,j=e.renderItem,w=e.items,O=e.layout,A=e.loadItems,k=e.masonryRef,C=e.minCols,D=void 0===C?u.yc:C,E=e.paddingStyle,I=e.scrollContainerRef,T=e.serverRender,R=void 0===T||T,F=e.virtualize,L=(0,p.B)().isRTL,z=(0,o.v)().logContextEvent,M=null!==(t=({enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"})[(0,(0,d.F)().checkExperiment)("web_masonry_virtual_buffer_factor").group])&&void 0!==t?t:.7,B="simplified"===(void 0===E?"simplified":E),N=null!==(n=B?u.oX:x)&&void 0!==n?n:u.ZZ,Z=B?16:6,U=(0,r.useRef)(!0);return(0,r.useEffect)(function(){U.current&&(U.current=!1)},[]),(void 0===S||S)&&U&&(y="gridCentered"),(0,m.jsxs)("div",{className:y,children:[R&&U&&(0,m.jsx)(c.Z,{unsafeCSS:b?function(e){for(var t=e.isRTL,n=e.maxItemWidth,r=void 0===n?300:n,i=e.maxColumns,o=void 0===i?16:i,a=e.minColumns,l=void 0===a?2:a,s="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ".concat(o*r,"\n}\n\n.gridCentered .static {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n\n@media (min-width: ").concat(o*r,"px) {\n  .gridCentered .static:nth-child(-n+").concat(o,") {\n    position: static !important;\n    visibility: visible !important;\n    float: ").concat(t?"right":"left",";\n    display: block;\n  }\n\n  .gridCentered .static:nth-child(-n+").concat(o,") {\n    position: static !important;\n    visibility: visible !important;\n    float: ").concat(t?"right":"left",";\n    display: block;\n  }\n\n  .gridCentered .static {\n    width: ").concat(r,"px !important;\n  }\n}\n"),u=l;u<o+1;u+=1){var c=u===l?0:(u-1)*r+1;s+="\n@media (min-width: ".concat(c,"px) and (max-width: ").concat(u*r,"px) {\n  .gridCentered .static:nth-child(-n+").concat(u,") {\n    position: static !important;\n    visibility: visible !important;\n    float: ").concat(t?"right":"left",";\n    display: block;\n  }\n\n  .gridCentered .static {\n    width: calc(100% / ").concat(u,") !important;\n  }\n}\n")}return s}({isRTL:L,maxItemWidth:(g||u.yF)+N,maxColumns:w.length||u.g5,minColumns:D||u.yc}):(0,l.Z)({isRTL:L,itemWidth:(g||u.yF)+N,maxColumns:w.length||u.g5,minColumns:D||u.yc})}),(0,m.jsx)(s.Z,{_logTwoColWhitespace:function(e){(0,f.S0)("webapp.masonry.twoColWhitespace",e,{sampleRate:1,tags:{columnWidth:g,minCols:D}}),z({event_type:14705,component:14468,aux_data:{whitespace_px:e}})},_twoColItems:void 0!==v&&v,cacheKey:h,columnWidth:(null!=g?g:u.yF)+N,gutterWidth:0,items:w,layout:b?R?"serverRenderedFlexible":"flexible":null!=O?O:"basic",loadItems:function(){!P&&A&&A()},masonryRef:k,minCols:D,renderItem:function(e){return(0,m.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:Z,paddingLeft:N/2,paddingRight:N/2}},children:(0,m.jsx)(a.Z,{name:"MasonryItem",children:j(e)})})},scrollContainerRef:I,virtualBufferFactor:M,virtualize:void 0===F||F})]})}},551983:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(76911),i=n(908390);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function l(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}var u={};function c(e){var t=u[e];return t&&t.screenWidth===window.innerWidth||(u[e]={screenWidth:window.innerWidth}),u[e]}var d=function(e){var t=e.__id||e.id;return"string"==typeof t&&t||null},p=function(){var e,t;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),l(this,"idMap",new Map),l(this,"objMap",new Map)}return e=[{key:"get",value:function(e){var t=d(e);return t?this.idMap.get(t):this.objMap.get(e)}},{key:"has",value:function(e){var t=d(e);return t?this.idMap.has(t):this.objMap.has(e)}},{key:"set",value:function(e,t){var n=d(e);n?this.idMap.set(n,t):this.objMap.set(e,t)}},{key:"reset",value:function(){this.idMap=new Map,this.objMap=new Map}}],a(n.prototype,e),t&&a(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(),f=n(515198);function m(e){var t=e.cacheKey,n=e.columnWidth,o=e.gutterWidth,a=e.items,l=e.layout,s=e.loadItems,u=e._logTwoColWhitespace,d=e.masonryRef,m=e.minCols,y=e.renderItem,h=e.scrollContainerRef,g=e._twoColItems,v=e.virtualize,b=e.virtualBufferFactor,_=function(e){if(null!=e){var t=c(e);return t.positionCache||(t.positionCache=new p),t.positionCache}}(t),x=function(e){if(null!=e){var t=c(e);return t.measurementCache||(t.measurementCache=new p),t.measurementCache}}(t),P=(0,r.useCallback)(function(){return(null==h?void 0:h.current)||window},[h]);return(0,f.jsx)(i.Rk,{ref:function(e){d&&(d.current=e)},_logTwoColWhitespace:u,_twoColItems:g,columnWidth:n,gutterWidth:o,items:a,layout:l,loadItems:s,measurementStore:x,minCols:m,positionStore:_,renderItem:y,scrollContainer:P,virtualBufferFactor:b,virtualize:v})}},463076:function(e,t,n){"use strict";function r(e){for(var t=e.isRTL,n=e.itemWidth,r=void 0===n?236:n,i=e.maxColumns,o=void 0===i?16:i,a=e.minColumns,l=void 0===a?2:a,s="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static {\n  position: absolute;\n  visibility: hidden;\n}\n",u=l;u<o+1;u+=1){var c=u===l?0:u*r;s+="\n@media (min-width: ".concat(c,"px) and (max-width: ").concat((u+1)*r-1,"px) {\n  .gridCentered {\n    width: ").concat(u*r,"px;\n  }\n  .gridCentered .static:nth-child(-n+").concat(u,") {\n    position: static !important;\n    visibility: visible !important;\n    float: ").concat(t?"right":"left",";\n    display: block;\n  }\n}\n")}return s}n.d(t,{Z:function(){return r}})},373420:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(76911),i=n(908390),o=n(968121),a=n(124580),l=n(223815),s=n(515198);function u(e){var t=e._dangerouslyDisableScrollBoundaryContainer,n=e.accessibilityModalLabel,u=e.align,c=e.allowClickAndDrag,d=e.allowMediaPlay,p=e.allowScroll,f=e.children,m=e.closeOnOutsideClick,y=e.footer,h=e.heading,g=e.onDismiss,v=e.role,b=e.size,_=e.subHeading;return(0,r.useEffect)(function(){return a.Z.pause(),function(){a.Z.resume()}},[]),(0,s.jsx)(i.mh,{zIndex:o.b7,children:(0,s.jsx)(l.Z,{allowClickAndDrag:c,allowEsc:!0,allowMediaPlay:d,allowScroll:p,children:(0,s.jsx)(i.u_,{_dangerouslyDisableScrollBoundaryContainer:t,accessibilityModalLabel:n,align:u,closeOnOutsideClick:m,footer:y,heading:h,onDismiss:function(){a.Z.resume(),g()},padding:"none",role:v,size:b,subHeading:_,children:f})})})}},430322:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(76911),i=n(908390),o=n(283698),a=n(968121),l=n(898781),s=n(124580),u=n(780280),c=n(223815),d=n(867820),p=n(50286),f=n(965900),m=n(515198);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=function(){if(document.body){var e=document.body.style;e.overflow="hidden",e.touchAction="none"}},g=function(){if(document.body){var e=document.body.style;e.overflow="visible",e.touchAction="auto"}};function v(e){var t,n=e.accessibilityModalLabel,v=e.align,b=void 0===v?"center":v,_=e.allowClickAndDrag,x=e.allowScroll,P=void 0!==x&&x,S=e.children,j=e.closeOnOutsideClick,w=void 0===j||j,O=e.footer,A=e.heading,k=e.isOpen,C=e.mobileAccessibilityCloseIconLabel,D=e.mobileHideCloseIcon,E=e.mobileIsFooter,I=e.mobileIsFullscreen,T=e.mobileIsSlideUp,R=e.onDismiss,F=e.subHeading,L=e.type,z=e.zIndex,M=(0,l.ZP)(),B=(0,u.B)().isRTL,N=(0,r.useRef)(!1),Z=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),U=Z[0],K=Z[1],H=(0,f.I)().setAppFocusState,V=(0,p.ZP)();return((0,r.useEffect)(function(){(0,d.My)("mweb_unauth.mobile_modal.".concat(L||"unknown_type",".did_mount.is_open.").concat(String(!!k)))},[k,L]),(0,r.useEffect)(function(){return N.current=(0,o.Z)(function(){N.current&&K(!0)}),function(){"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&N.current&&(window.cancelAnimationFrame(N.current),N.current=null)}},[]),(0,r.useEffect)(function(){return k?(s.Z.pause(),H(!1)):(s.Z.resume(),H(!0)),function(){k&&(s.Z.resume(),H(!0))}},[H,k]),(0,r.useEffect)(function(){var e=k&&!P;return e&&h(),function(){e&&g()}},[k,P]),k)?(0,m.jsx)(c.Z,{allowClickAndDrag:_,children:(0,m.jsx)(i.mh,{children:(0,m.jsxs)(i.xu,{"aria-label":n,display:"inlineBlock",position:"relative",role:"dialog",zIndex:z||a.ZM,children:[(0,m.jsx)(i.iP,{accessibilityLabel:M._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The accessibility label for the mask of mobile signup modal'),onTap:function(e){var t=e.event;t.clientX&&t.clientY&&(0,d.tj)("mweb_unauth.mobile_modal.wash_tap.".concat(L||"unknown_type",".with_dismissal"),{x:t.clientX,y:t.clientY}),w&&R()},tapStyle:"none",children:(0,m.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new i.Ry(1)})}),(0,m.jsxs)(i.xu,{color:"default",dangerouslySetInlineStyle:T?(0,a.Vf)({isFullscreen:I,isTablet:"tablet"===V,isShowing:U,isRelatedInterestsModal:"related_interests_modal"===L}):(0,a.JN)({variant:I?"fullscreen":"tablet"===V?"tablet":E?"footer":"signup"===L?"signup":void 0}),"data-test-id":"mobile-signup-mask",position:"fixed",children:[(0,m.jsxs)(i.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",width:"100%",children:[C&&!D?(0,m.jsx)(i.xu,{"data-test-id":"mobile-modal-cancel-button",padding:2,children:(0,m.jsx)(i.hU,{accessibilityLabel:C,icon:"cancel",iconColor:"darkGray",onClick:R,padding:4,size:"sm"})}):null,A?(0,m.jsx)(i.kC.Item,{flex:"grow",children:(0,m.jsx)(i.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,m.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:C&&!D?{marginRight:B?-10:50,marginLeft:B?50:-10}:{}},"data-test-id":"mobile-modal-heading",children:[I?A:(0,m.jsx)(i.xv,{align:b,size:"400",weight:"bold",children:A}),F?(0,m.jsx)(i.xv,{align:b,children:F}):null]})})}):null]}),(0,m.jsxs)(i.xu,{overflow:"auto",children:[S,O]})]})]})})}):null}},356997:function(e,t,n){"use strict";n.d(t,{qE:function(){return a},u_:function(){return l.ZP}});var r=n(908390),i=n(515198);function o(e){var t=e.accessibilityLabel,n=e.name,o=e.outline,a=e.size,l=e.src,s=e.verified;return(0,i.jsx)(r.qE,{accessibilityLabel:t,name:n,outline:o,size:a,src:(null==l?void 0:l.includes("images/user/default"))&&n?void 0:l,verified:s})}o.displayName="Avatar";var a=o,l=n(121151);n(499128)},934494:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(76911),i=n(995228),o=n(515198);function a(e){var t=e.useGraphQLAdapter,n=e.useLegacyAdapter,a=function(e){return(0,e.children)({enabled:!0,data:t(e.data)})},l=function(e){return(0,e.children)({enabled:!1,data:n(e.data)})};return function(e){var t,n=e.children,s=e.input,u=s.enabled?(0,o.jsx)(a,{data:s.data,children:n}):(0,o.jsx)(l,{data:s.data,children:n}),c=null!==(t=s.suspense)&&void 0!==t&&t.dangerouslyServerRender?r.Suspense:i.Z;return s.suspense?(0,o.jsx)(c,{fallback:s.suspense.fallback,children:u}):u}}},357998:function(e,t,n){"use strict";n.d(t,{Q:function(){return a}});var r=n(782296),i=n(273213),o=n(681669);function a(e,t,n){var a=n.useLegacyAdapter;if(null==t)return{data:null,childDataKey__DEPRECATED:null};var l=(0,i.B)(t);if("deprecated"===l.type){var s=l.data;return null==s?{data:null,childDataKey__DEPRECATED:l}:{data:(0,o.V4)(e,a)(s),childDataKey__DEPRECATED:l}}var u=(0,r.useFragment)(e,l.data);return{data:u,childDataKey__DEPRECATED:{type:"graphqlRef",data:u}}}},444445:function(e,t,n){"use strict";n.d(t,{$H:function(){return a},$q:function(){return b},D6:function(){return u},KN:function(){return x},Lo:function(){return i},OS:function(){return f},P2:function(){return h},Wv:function(){return _},ZZ:function(){return d},g5:function(){return p},jC:function(){return l},lX:function(){return y},nW:function(){return m},oX:function(){return g},qG:function(){return v},tG:function(){return o},yF:function(){return r},yc:function(){return c},yt:function(){return s}});var r=236,i=157.33333333333334,o=175,a=24,l=4,s=8,u=2,c=2,d=14,p=16,f=5,m=12,y=16,h=24,g=16,v=-1,b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?t?y:m:h},_=function(e){var t=e.contentVisibleItemCount,n=e.gap,i=e.width;return t||i?(i-(t-1)*n)/t:r},x=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d,o=e+i;return"\n@media (min-width: ".concat(t*o,"px) and (max-width: ").concat((n+1)*o-1,"px) {\n  ").concat(r,"\n}\n")}},694379:function(e,t,n){"use strict";var r=n(892819),i=n(780280),o=n(515198);t.Z=function(e){var t=e.currency,n=e.maximumFractionDigits,a=e.minimumFractionDigits,l=e.shortform,s=e.shortformMaximumFractionDigits,u=e.formatStyle,c=e.uplimit,d=e.value,p=(0,r.Z)();return(0,o.jsx)(i.LC,{children:function(e){return p(e.locale||"en-US",d,{currency:t,maximum_fraction_digits:n,minimum_fraction_digits:a,shortform:l,shortform_maximum_fraction_digits:s,style:u,uplimit:c})}})}},298361:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(202139),i=n(898781),o=n(349700);function a(){var e=(0,i.ZP)();return function(t,n){var i=new Date(t),a=new Date-i,l=Math.floor(a/r.FS),s=Math.floor(a/r.UK),u=Math.floor(a/r.F4),c=Math.floor(a/r.VL),d=Math.floor(a/r.N1),p=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', l, ' - ', ' -- '),f=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', s, ' - ', ' -- '),m=e.ngettext('{{ days }} day ago', '{{ days }} days ago', u, ' - ', ' -- '),y=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', c, ' - ', ' -- '),h=e.ngettext('{{ years }} year ago', '{{ years }} years ago', d, ' - ', ' -- '),g=e.ngettext('{{ minutes }}m', '{{ minutes }}m', l, 'minutes ago abbreviated', 'minutes ago abbreviated'),v=e.ngettext('{{ hours }}h', '{{ hours }}h', s, 'hours ago abbreviated', 'hours ago abbreviated'),b=e.ngettext('{{ days }}d', '{{ days }}d', u, 'days ago abbreviated', 'days ago abbreviated'),_=e.ngettext('{{ weeks }}w', '{{ weeks }}w', c, 'weeks ago abbreviated', 'weeks ago abbreviated'),x=e.ngettext('{{ years }}y', '{{ years }}y', d, 'years ago abbreviated', 'years ago abbreviated');return d>0?(0,o.nk)(n?x:h,{years:d}).join(""):c>0?(0,o.nk)(n?_:y,{weeks:c}).join(""):u>0?(0,o.nk)(n?b:m,{days:u}).join(""):s>0?(0,o.nk)(n?v:f,{hours:s}).join(""):l>0?(0,o.nk)(n?g:p,{minutes:l}).join(""):e._('Just now', ' - ', ' -- ')}}},898781:function(e,t,n){"use strict";n.d(t,{oz:function(){return o},q6:function(){return i}});var r=(0,n(425288).Z)("i18n"),i=r.Provider,o=r.Consumer,a=r.useHook;t.ZP=a},892819:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(898781),i=n(66699);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=function(e,t){var n=t||0,r=Math.pow(10,n),i=+(n?e*r:e).toFixed(8),o=Math.floor(i),a=i-o,l=a>.49999999&&a<.50000001?o%2==0?o:o+1:Math.round(i);return n?l/r:l},u=function(e){var t=e.maximumFractionDigits,n=e.minimumFractionDigits,r=e.style,i=e.currency,o={maximumFractionDigits:t,minimumFractionDigits:n};return r?l(l({},o),{},{style:r},"currency"===r?{currency:i,currencyDisplay:"symbol"}:{}):o},c=function(e){try{0..toLocaleString([e])}catch(e){return!1}return!0},d=function(e,t){if(t){var n=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions(),r=n.minimumFractionDigits,i=n.maximumFractionDigits;if(void 0!==r&&void 0!==i)return{minimumFractionDigits:r,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function p(){var e=(0,r.ZP)();return function(t,n,r){var o=0,a=0,l=r&&r.style||void 0,p=r&&r.shortform||!1,f=r&&r.uplimit||void 0,m=r&&r.currency||void 0,y=!!f&&n>=f,h=f&&y?f:n;if("currency"===l){var g=d(t,m),v=g.minimumFractionDigits,b=g.maximumFractionDigits;o=void 0===r||void 0===r.maximum_fraction_digits?b:r.maximum_fraction_digits,a=void 0===r||void 0===r.minimum_fraction_digits?v:r.minimum_fraction_digits}else o=void 0===r||void 0===r.maximum_fraction_digits?0:r.maximum_fraction_digits,a=void 0===r||void 0===r.minimum_fraction_digits?0:r.minimum_fraction_digits;if(p&&h>999&&(o=void 0===r||void 0===r.shortform_maximum_fraction_digits?2:r.shortform_maximum_fraction_digits,a=0),o<a)return String(h);var _=h,x="",P=[{"100M":{value:1e8,localeKey:e._('億', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('万', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],S=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],j=/^zh|ja|ko/.test(t);if(p&&h>999)for(var w=j?P:S,O=0;O<w.length;O+=1){var A=Object.keys(w[O])[0],k=w[O][A].value;if(h>=k){_=s(h/k*Math.pow(10,o))/Math.pow(10,o),x=w[O][A].localeKey;break}}if(null==_)return"";var C=_.toLocaleString([c(t)&&"ar-SA"!==t?t:"en-US"],u({maximumFractionDigits:o,minimumFractionDigits:a,currency:m,style:l}));return x&&x.length>0?(0,i.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:C,numberSuffix:x})+(y?"+":""):C+(y?"+":"")}}},366428:function(e,t,n){"use strict";n.d(t,{F:function(){return f},Z:function(){return p}});var r=n(76911),i=n(407043),o=n(124580),a=["children"];function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){var r;return(r=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===l(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600}};function p(e){var t=e.carouselData,n=e.closeupImpressionType,a=e.closeupNavigationType,l=e.componentType,s=e.contextLogData,p=e.clientTrackingParams,f=e.elementType,m=e.impressionAuxFields,y=e.inImpressionExp,h=e.impressionType,g=e.impressionsFramework,v=e.isPaused,b=e.loggingId,_=e.objectIdStr,x=e.slotIndex,P=e.trackCarousel,S=e.viewData,j=e.viewParameter,w=e.viewType,O=(0,i.v)().logContextEvent,A=g||o.Z,k=(0,r.useRef)(null),C=function(e){var r,i,o,y,g,v,A,C,D=d[h],E=D.idType,I=u(u((c(r={clientTrackingParams:p,endTime:e.endTime},E,b),c(r,"slotIndex",x),c(r,"time",e.startTime),c(r,"renderDuration",e.endTime-e.startTime),c(r,"type",n),r),m),{},{forcedExit:"removed"===e.forcedExit?0:void 0});"Pin"===h&&(I=u(u({},I),{},{pinCellWidth:(null===(i=k.current)||void 0===i?void 0:i.getBoundingClientRect().width)||0,pinCellHeight:(null===(o=k.current)||void 0===o?void 0:o.getBoundingClientRect().height)||0,windowWidth:null===(y=window)||void 0===y?void 0:y.innerWidth,windowHeight:null===(g=window)||void 0===g?void 0:g.innerHeight}));var T={component:l,object_id_str:_,view_type:w,view_data:S||{},view_parameter:j};P?t&&O(u(u({event_type:7352,event_data:{pinCarouselSlotImpressions:[u(u({},I),{},{carouselDataId:Number(t.id),carouselSlotId:(null===(v=t.carousel_slots)||void 0===v?void 0:v[null!==(A=t.index)&&void 0!==A?A:0])&&Number(t.carousel_slots[null!==(C=t.index)&&void 0!==C?C:0].id),slotIndex:t.index})]}},T),{},{aux_data:u({},s)})):O(u(u({clientTrackingParams:p,event_type:D.eventType},T),{},{element:f,event_data:c({},D.impressionType,"Story"===h?I:[I]),aux_data:u({closeup_navigation_type:a},s)}))},D=(0,r.useCallback)(function(){try{k.current instanceof HTMLElement&&A.start(k.current).onExitViewport(C).setDebugId(b||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[k.current]);(0,r.useEffect)(function(){return y&&!A.inExperiment&&A.setExperimentStatus(!0),v||D(),function(){k.current instanceof HTMLElement&&A.stop(k.current)}},[D]);var E=(0,r.useRef)(v);return(0,r.useEffect)(function(){E.current&&!v&&D(),E.current=v},[v,D]),k}var f=function(e){return(0,e.children)({impressionTrackerRef:p(function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,a))})}},12610:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}n.d(t,{Z3:function(){return v},LU:function(){return b},ZP:function(){return _}});var l,s=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,u={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},c={},d={background:"#FF8A8A",transform:"scale(.98)"},p=(o(l={init:function(e){return{transform:"scale(".concat(c[e]?.8:.99,")"),transition:"transform .2s ease-in-out",background:"#8E8E8E"}}},u.enter,{background:"#A0DCC8",transform:"scale(.99)"}),o(l,u.exit,d),o(l,u.stopped,d),o(l,u.paused,d),o(l,u.resumed,{background:"#0FA573",transform:"scale(.99)"}),l),f=function(){var e,t;function n(e){var t=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),o(this,"setMutationObserver",function(e){return t.mutationObserver=e,t}),o(this,"startMutationObserver",function(e){t.mutationObserver&&t.mutationObserver.observe(t.node,e)}),o(this,"stopMutationObserver",function(){t.mutationObserver&&t.mutationObserver.disconnect()}),o(this,"handleIntersectionChange",function(e){var n=e.intersectionRatio>0||e.isIntersecting;if(n&&!t.inViewport){var r=Date.now();t.startTime=r,t._debug(u.enter,{startTime:r,node:t.node}),t.enterCallbacks.forEach(function(e){return e()})}else!n&&t.inViewport&&(t._debug(u.exit,!0),t.exitCallbacks.forEach(function(e){return e(t.toJSON())}));t.inViewport=n}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}return e=[{key:"onEnterViewport",value:function(e){return this.enterCallbacks.push(e),this}},{key:"onExitViewport",value:function(e){return this.exitCallbacks.push(e),this}},{key:"setDebugId",value:function(e){return this.debugId=e,s&&Object.assign(this.node.style,p.init(e)),this}},{key:"pause",value:function(){var e=this;return this.inViewport&&(this._debug(u.paused,!0),this.exitCallbacks.forEach(function(t){return t(e.toJSON())})),this}},{key:"resume",value:function(){if(this.inViewport){var e=Date.now();this._debug(u.resumed,{startTime:e}),this.startTime=e}return this}},{key:"stop",value:function(e){var t=this;return this.inViewport&&(this._debug(u.stopped,!0),this.exitCallbacks.forEach(function(n){return n(t.toJSON(e))})),this}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e}}},{key:"toDebugJSON",value:function(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:"".concat((Date.now()-this.startTime)/1e3," seconds")}}},{key:"_debug",value:function(e,t){if(s)switch(window.console.log("\uD83D\uDCCC ".concat(e," -- ").concat(this.debugId)),!0===t&&window.console.log(this.toDebugJSON()),"object"===r(t)&&window.console.log(t),p[e]&&Object.assign(this.node.style,p[e]),e){case u.flushed:case u.paused:case u.exit:c[this.debugId]=!0}}}],i(n.prototype,e),t&&i(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}();function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function h(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}var v=!0,b=!1,_=function(){var e,t;function n(){var e=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),h(this,"_delegateChange",function(t){t.forEach(function(t){var n=e.activeImpressions.get(t.target);n&&n.handleIntersectionChange(t)})}),h(this,"_handleMutations",function(t,n){var r=e.mutationObservers.get(n);r&&r.offsetHeight<1&&r&&e.stop(r,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=b,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}return e=[{key:"setExperimentStatus",value:function(e){this.inExperiment!==e&&(this.inExperiment=e)}},{key:"stop",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.activeImpressions.get(e);r&&(r.stop(n),this.mutationObservers.delete(r.mutationObserver),r.stopMutationObserver(),this.activeImpressions.delete(e),null===(t=window.activeImpressions)||void 0===t||t.delete(e),this.observer.unobserve(e))}},{key:"start",value:function(e){var t,n=this,r=this.activeImpressions.get(e);return r||(r=new f(e),this.activeImpressions.set(e,r),null===(t=window.activeImpressions)||void 0===t||t.set(e,r),this.observer.observe(e),r.setMutationObserver(new window.MutationObserver(function(e,t){return n._handleMutations(e,t)})),this.mutationObservers.set(r.mutationObserver,e),r.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),r}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;this.paused||(Array.from(this.activeImpressions.values()).forEach(function(e){return e.pause()}),this.paused=!0,this.pausePriority!==b||(this.pausePriority=e))}},{key:"resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;(e!==b||this.pausePriority!==v)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(function(e){return e.resume()}),this.paused=!1,this.pausePriority=b)}},{key:"addObstruction",value:function(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}},{key:"removeObstruction",value:function(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}},{key:"updateObstructions",value:function(){this._calculateRootMargins()}},{key:"_calculateRootMargins",value:function(){var e=this,t=Array.from(this.topObstructions).reduce(function(e,t){var n=t.getBoundingClientRect().bottom;return n>e?n:e},0),n=window.innerHeight-Array.from(this.bottomObstructions).reduce(function(e,t){var n=t.getBoundingClientRect().top;return n<e?n:e},window.innerHeight);if(t!==this.topHeight||n!==this.bottomHeight){var r={rootMargin:"".concat(-t,"px 0px ").concat(-n,"px")};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,r),Array.from(this.activeImpressions.values()).forEach(function(t){return e.observer.observe(t.node)}),this.topHeight=t,this.bottomHeight=n}}}],y(n.prototype,e),t&&y(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}()},124580:function(e,t,n){"use strict";var r=n(12610);t.Z=new r.ZP},615568:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(76911),i=n(407043),o=n(704115),a=n(19121),l=n(357787),s=n(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var v=(0,o.Z)()&&(0,o.Z)().debug_impression_log,b={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061}};function _(e){var t=(0,l.Z)(e),n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(a,e);var n,r,i,o=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=y(a);if(n){var r=y(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return m(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(m(e=o.call.apply(o,[this].concat(n))),"currentNs",function(){return 1e6*Date.now()}),h(m(e),"startTime",0),h(m(e),"debugPinImpressions",v&&"Pin"===e.props.impressionType&&e.props.viewer.isAuth&&e.props.viewer.isEmployee),h(m(e),"handleVisibilityChanged",function(t){var n=e.props,r=n.componentType,i=n.contextLogData,o=n.impressionAuxFields,a=n.impressionType,l=n.loggingId,s=n.slotIndex,u=n.viewParameter,c=n.viewType,p=n.viewData,f=n.logContextEvent;if(t)e.startTime=e.currentNs(),e.debugPinImpressions&&console.log(s+" started timer");else{var m,y=b[a],g=y.idType,v=e.currentNs(),_=d((h(m={endTime:v},g,l),h(m,"slotIndex",s),h(m,"time",e.startTime),h(m,"renderDuration",v-e.startTime),m),o);f({event_type:y.eventType,component:r,event_data:h({},y.impressionType,[_]),view_type:c,view_parameter:u,view_data:p,aux_data:d({},i)}),e.debugPinImpressions&&console.log(s+" logged for "+(v-e.startTime)/1e9+"s")}}),e}return r=[{key:"render",value:function(){return(0,s.jsx)(t,d({onVisibilityChanged:this.handleVisibilityChanged},this.props))}}],p(a.prototype,r),i&&p(a,i),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);return function(e){var t=(0,i.v)().logContextEvent,r=(0,a.Z)();return(0,s.jsx)(n,d(d({},e),{},{logContextEvent:t,viewer:r}))}}},543972:function(e,t,n){"use strict";var r=n(76911);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(p,e);var t,n,c,d=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=s(p);if(t){var r=s(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return u(l(e=d.call.apply(d,[this].concat(n))),"ref",(0,r.createRef)()),u(l(e),"observer",null),u(l(e),"handleVisibilityChanged",function(t,n){e.props.onVisibilityChange(t,n)}),e}return n=[{key:"componentDidMount",value:function(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}},{key:"componentWillUnmount",value:function(){null!==this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}},{key:"render",value:function(){return this.props.children(this.ref)}}],o(p.prototype,n),c&&o(p,c),Object.defineProperty(p,"prototype",{writable:!1}),p}(r.Component);t.Z=d},507712:function(e,t,n){"use strict";var r=n(186656),i=n(826067);t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=(0,i.mB)(window.location.search),n=t.invite_code;if(!n){e(t);return}var o=encodeURIComponent(encodeURIComponent(n));(0,r.Z)({url:"/v3/invite_code/attribution/land/",method:"POST",data:{invite_code:o}})}},496793:function(e,t,n){"use strict";n.d(t,{U:function(){return m}});var r=n(67347),i="nic_v3",o="".concat(i,"=1a"),a="".concat(i,"=1b"),l=[o,a],s=["invite_code","invite","board_invite_code","sender"],u=function(e){return!!s.find(function(t){return e.includes(t)})},c=function(e){var t;return e.pathname.includes("/pin/")&&!u(e.search)&&(t=e.search,!l.find(function(e){return t.includes(e)}))},d=function(e,t,n){var r=e.search?"&":"?";return e.pathname+e.search+(r+(n?a:o)+t)},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0;if(c(e)){var a=n?"mweb":"web";if(!t){(0,r.nP)("".concat(a,".").concat(i,".social_tracking_pin_non_invite.insert.no_encrypted_id"));return}(0,r.nP)("".concat(a,".").concat(i,".social_tracking_pin_non_invite.insert.attempt"));try{var l=d(e,t,n);(0,r.nP)("".concat(a,".").concat(i,".social_tracking_pin_non_invite.insert.success")),o(l)}catch(e){(0,r.nP)("".concat(a,".").concat(i,".social_tracking_pin_non_invite.insert.caught_exception"))}}},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return p(e,"",n,r)},m=function(e,t,n,o,a){var l,s=n?"mweb":"web";(0,r.nP)("".concat(s,".").concat(i,".social_tracking_pin_non_invite.attempt"));try{!n&&o&&c(e)?((0,r.nP)("".concat(s,".").concat(i,".social_tracking_pin_non_invite.search_string_eligible")),f(e,t,n,a)):(l=e.search,!u(l)&&!l.includes("sender")&&l.includes(i)&&(0,r.nP)("".concat(s,".").concat(i,".social_tracking_pin_non_invite.search_string_land")))}catch(e){(0,r.nP)("".concat(s,".").concat(i,".social_tracking_pin_non_invite.caught_exception"))}}},329734:function(e,t,n){"use strict";n.d(t,{P:function(){return o},Z:function(){return i}});var r=n(506979);function i(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function o(){var e=(0,r.useSelector)(function(e){return e.experiences});return!!e&&i(e)}},926275:function(e,t,n){"use strict";function r(e){if(!e)return!1;var t=new Date(e);return t.setDate(t.getDate()+28),new Date().getTime()<t.getTime()}n.d(t,{Z:function(){return r}})},844753:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return"object"===r(e)&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}n.d(t,{Z:function(){return i}})},411938:function(e,t,n){"use strict";function r(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:28;if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;n=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;var i=new Date,o=n?new Date(n):i;return o.setDate(o.getDate()+r),new Date().getTime()<o.getTime()}n.d(t,{Z:function(){return r}})},755742:function(e,t){"use strict";t.Z={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},313047:function(e,t,n){"use strict";n.r(t),n.d(t,{DEFAULT_HEIGHT:function(){return v},DEFAULT_PADDING_Y:function(){return b},FixedFooter:function(){return P},FixedHeader:function(){return x}});var r=n(76911),i=n(908390),o=n(643010),a=n(579014),l=n(858472),s=n(124580),u=n(834256),c=n(773285),d=n(515198),p=["hasBorder","headerLimitedOverflow","ignoreObstructions","isTranslucent","isTransparentBackground","noGutter","overrideTop","useRoundedCorners","zIndexForGestaltBug"],f=["alignCenter","appUpsellFooterConfig","footerInLego","hasTopShadow","navFooterConfig"];function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=64,b=3;function _(e){var t,n,u=e.children,p=e.footerConfig,f=e.headerConfig,m=e.height,y=e.hideOnScroll,h=e.hideOnScrollState,_=h.isHidden,x=h.updateHiddenState,P=e.noPadding,S=e.paddingY,j=e.type,w=e.zIndex,O=f||{},A=O.headerLimitedOverflow,k=O.ignoreObstructions,C=O.zIndexForGestaltBug,D=p||{},E=D.appUpsellFooterConfig,I=D.footerInLego,T=D.navFooterConfig,R=!!E,F="header"===j?"top":"bottom",L=(0,c.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}).anyEnabled,z=(0,o.vs)(),M=L?z:(0,o.Yc)(),B=(0,r.useRef)(null),N=(0,r.useRef)(null);(0,r.useEffect)(function(){try{if(!k){var e=B.current;N.current=A&&e&&Array.isArray(e.children)?e.children[0]:e,N.current instanceof HTMLElement&&s.Z.addObstruction(F,N.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return function(){!k&&N.current instanceof HTMLElement&&s.Z.removeObstruction(F,N.current)}},[k,A,F,M]);var Z="top"===F?"relative":"fixed",U=(null!=m?m:v)+((null==f?void 0:f.overrideTop)||0),K=y||T?g({transition:I?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear"},_?{transform:"translateY(".concat("top"===F?-U:U,"px)"),opacity:I?0:1}:Object.freeze({})):{},H="relative"!==Z||null!=f&&f.noGutter?0:2,V=H?-H:0,G=M?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";return M&&("header"===j?t=-1:n=-1),(0,d.jsx)(i.xu,{ref:B,bottom:"footer"===j,dangerouslySetInlineStyle:{__style:g(g(g(g(g({top:t,bottomStyle:n},!w||C?{zIndex:C||1}:Object.freeze({})),A?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({})),null!=f&&f.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({})),null!=p&&p.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({})),K)},"data-test-id":j,display:R?"flex":void 0,height:m&&!I?m:void 0,left:!0,marginEnd:I?"auto":V,marginStart:I?"auto":V,onTransitionEnd:function(){(y||T)&&N.current&&(_?s.Z.removeObstruction(F,N.current):s.Z.addObstruction(F,N.current))},position:Z,right:!0,top:"header"===j,width:I||"fixed"!==Z?void 0:"100%",zIndex:C?void 0:w,children:(0,d.jsx)(i.xu,{alignItems:null!=p&&p.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:g(g({backgroundColor:(null==f?void 0:f.isTranslucent)&&G||(null==f?void 0:f.isTransparentBackground)&&l.FZ||a.wN,height:I?R?void 0:null!=m?m:v:"100%",boxShadow:I?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:I&&!(null!=T&&T.docked)?16:void 0},A?{pointerEvents:"auto"}:Object.freeze({})),null!=f&&f.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({}))},display:I||null!=p&&p.alignCenter?"flex":void 0,marginEnd:I?"auto":void 0,marginStart:I?"auto":void 0,paddingX:("footer"!==j||P?0:4)+H,paddingY:P?0:void 0===S?b:S,position:"relative",rounding:I&&!(null!=T&&T.docked)?"pill":void 0,width:T?T.footerWidth:R?void 0:"100%",children:"function"==typeof u?u({updateHiddenState:x}):u})})}function x(e){var t=e.hasBorder,n=e.headerLimitedOverflow,r=e.ignoreObstructions,o=e.isTranslucent,a=e.isTransparentBackground,l=e.noGutter,s=e.overrideTop,c=e.useRoundedCorners,f=e.zIndexForGestaltBug,m=y(e,p),h=m.noPadding,v=m.paddingY,x=m.zIndex;return(0,d.jsx)(i.Le,{height:n?44+8*(h?0:void 0===v?b:v):void 0,top:s||0,zIndex:x||void 0,children:(0,d.jsx)(u.Z,{hideOnScroll:m.hideOnScroll,children:function(e){return(0,d.jsx)(_,g(g({},m),{},{headerConfig:{isTranslucent:o,isTransparentBackground:a,headerLimitedOverflow:n,hasBorder:t,ignoreObstructions:r,noGutter:l,overrideTop:s,zIndexForGestaltBug:f,useRoundedCorners:c},hideOnScrollState:e,type:"header"}))}})})}function P(e){var t=e.alignCenter,n=e.appUpsellFooterConfig,r=e.footerInLego,i=e.hasTopShadow,o=e.navFooterConfig,a=y(e,f);return(0,d.jsx)(u.Z,{appUpsellFooterConfig:n,hideOnScroll:a.hideOnScroll,navFooterConfig:null==o?void 0:o.scrollConfig,children:function(e){return(0,d.jsx)(_,g(g({},a),{},{footerConfig:{alignCenter:t,appUpsellFooterConfig:n,footerInLego:r,hasTopShadow:i,navFooterConfig:o},hideOnScrollState:e,type:"footer"}))}})}},834256:function(e,t,n){"use strict";n.d(t,{Z:function(){return f},m:function(){return p}});var r=n(76911),i=n(700380);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}var p=20,f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(f,e);var t,n,r,d=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=u(f);if(t){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function f(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f);for(var e,t,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return c(s(t=d.call.apply(d,[this].concat(r))),"state",{isHidden:!!t.props.appUpsellFooterConfig||!!(null!==(e=t.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)}),c(s(t),"lastScrollPos",0),c(s(t),"updateHiddenState",function(e){t.reqAnimationId=window.requestAnimationFrame(function(){t.setState({isHidden:e})})}),c(s(t),"handleScroll",(0,i.Z)(function(){var e,n=t.props,r=n.appUpsellFooterConfig,i=n.navFooterConfig,o=t.state.isHidden,a=window.scrollY,l=a-t.lastScrollPos,s="none",u=document.documentElement||{},c=u.scrollHeight,d=u.clientHeight;Number.isNaN(c)||Number.isNaN(d)||(s=l<0?a<=Math.abs((window.scrollMinY||0)+Math.max(l,p))?"start":"none":a>=(window.scrollMaxY||c-d)-Math.max(l,p)?"end":"none");var f=null!=i&&i.isModal?0:55;r?l>p&&o&&a>=500?r.shouldShowAfterScroll()&&(t.updateHiddenState(!1),null==i||i.onScroll(!1)):(l<-p&&!o||a<=f)&&(t.updateHiddenState(!0),null==i||i.onScroll(!0)):null!==(e=t.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp?"start"===s&&!o||a<=f?(t.updateHiddenState(!0),null==i||i.onScroll(!0)):(a>f||"end"===s)&&o&&(t.updateHiddenState(!1),null==i||i.onScroll(!1)):(l<-p||"start"===s)&&o||a<=f?(t.updateHiddenState(!1),null==i||i.onScroll(!1)):(l>p||"end"===s)&&!o&&(t.updateHiddenState(!0),null==i||i.onScroll(!0)),t.lastScrollPos=a},30)),t}return n=[{key:"componentDidMount",value:function(){try{var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}},{key:"componentWillUnmount",value:function(){var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}},{key:"componentDidUpdate",value:function(e){var t,n,r,i;!e.hideOnScroll&&this.props.hideOnScroll||!(null!==(t=e.navFooterConfig)&&void 0!==t&&t.isDockedNavOnPlp)&&null!==(n=this.props.navFooterConfig)&&void 0!==n&&n.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!==(r=e.navFooterConfig)&&void 0!==r&&r.isDockedNavOnPlp&&!(null!==(i=this.props.navFooterConfig)&&void 0!==i&&i.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.navFooterConfig,r=this.state.isHidden;return t({isHidden:!(null!=n&&n.forceShow)&&r,updateHiddenState:this.updateHiddenState})}}],a(f.prototype,n),r&&a(f,r),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component)},499659:function(e,t,n){"use strict";n.d(t,{Q6:function(){return c},qe:function(){return s},yU:function(){return u}});var r=n(239745),i=function(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})},o=function(e){return e};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return function(r){var i=[];return function(){for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];var s=i.find(function(e){return t(e.args,n(a))});if(s)return s.result;var u=r.apply(void 0,a);return i.push({args:n(a),result:u}),e&&i.length>e&&i.shift(),u}}}var l=a();t.ZP=l;var s=a(1),u=a(void 0,i,function(e){return[JSON.stringify(e)]}),c=a(0,function(e,t){return e.length===t.length&&e.every(function(e,n){return(0,r.Z)(e,t[n])})})},249647:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(844753);function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(t,n){return e(n)};return function(e){return(function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(i){if(!(0,r.Z)(i))return n&&Array.isArray(i)?i.map(e(t,n)):i;var o={};return Object.keys(i).forEach(function(a){var l=t(i[a],a);(0,r.Z)(i[a])||n&&Array.isArray(i[a])?o[l]=e(t,n)(i[a]):o[l]=i[a]}),o}})(n,t)(e)}}},767546:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},l=a(t,n);return void 0!==l?l:void 0===n?t:Array.isArray(t)&&Array.isArray(n)?n.reduce(function(t,r,i){return t[i]=e(t[i],n[i],a),t},function(e){if(Array.isArray(e))return o(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t&&"object"===i(t)&&n&&"object"===i(n)?Object.keys(n).reduce(function(t,r){return t[r]=e(t[r],n[r],a),t},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t)):n}}})},750391:function(e,t,n){"use strict";n.d(t,{G7:function(){return s},Nl:function(){return c},WE:function(){return l},l6:function(){return u},rh:function(){return a}});var r=n(27255),i=n(451820),o=n(66699);function a(e,t,n,i,o){if(!t.isAuth)return!1;var a,l,s,u,c,d,p=e.creatorAnalytics,f=!!e.storyPinDataId,m=!!(null!==(a=e.videos)&&void 0!==a&&a.videoList),y=(o||!(f||m))&&0!==Object.keys((null===(l=e.aggregatedPinData)||void 0===l?void 0:null===(s=l.creatorAnalytics)||void 0===s?void 0:s._30dRealtime)||{}).length,h=(null===(u=e.board)||void 0===u?void 0:u.privacy)===r.Z.BoardPrivacy.PUBLIC,g=((null===(c=e.board)||void 0===c?void 0:c.privacy)===r.Z.BoardPrivacy.PROTECTED||h)&&!e.isRepin&&[t.id,i].includes(null===(d=e.pinner)||void 0===d?void 0:d.entityId);return y||0!==Object.keys((null==p?void 0:p._30dRealtime)||{}).length||t.isPartner&&g||n.checkExperiment("web_ps4p").anyEnabled&&f&&g}function l(e,t,n,r,i,o){return e.isAuth&&!!t&&(n||r)&&!!(null!=i&&i.isLoaded)&&!o}function s(e,t){return(0,o.Z)(t.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function u(e,t){return(0,o.Z)(t.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}function c(e){var t=e.i18n,n=e.isRealtime,r=e.humanizedTimeSinceLastUpdate,a=e.displayLifetime,l=e.numDays,s=e.selectedDateRange,u=e.locale,c=[];if(l){var d=a?(0,o.Z)(t.ngettext('Percent changes are compared to {{n}} day before {{startDate}} \u2013 {{endDate}}.', 'Percent changes are compared to {{n}} days before {{startDate}} \u2013 {{endDate}}.', l, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:l,startDate:(0,i.Z)(u,s.startDate,i.k.NUMERIC),endDate:(0,i.Z)(u,s.endDate,i.k.NUMERIC)}):(0,o.Z)(t.ngettext('Percent changes are compared to {{n}} day before the selected date range.', 'Percent changes are compared to {{n}} days before the selected date range.', l, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:l});c.push(d)}return n?c.push(t._('Metrics are updated in real-time.', 'pinstats.PinnerToplineMetrics.description', 'Label describing when lifetime of pin metrics are updated')):r&&c.push((0,o.Z)(t._('Metrics updated {{ timeSince }}.', 'analytics.header.disclaimer.metricsUpdated', 'Disclaimer describing when data was last updated. timeSince: time period since last update (ex: 1 day)'),{timeSince:r})),c.join(" ")}},55275:function(e,t,n){"use strict";n.d(t,{P:function(){return x},t:function(){return P}});var r=n(214494),i=n(186656);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,l,"next",e)}function l(e){s(o,r,i,a,l,"throw",e)}a(void 0)})}}var c=function(){};function d(){return(d=u(regeneratorRuntime.mark(function e(t,n,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.board_id,e.next=3,(0,i.Z)({url:"/v3/boards/".concat(o,"/follow/"),method:"DELETE"});case 3:r({event_type:27,object_id_str:o}),n();case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=u(regeneratorRuntime.mark(function e(t,n,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.board_id,e.next=3,(0,i.Z)({url:"/v3/boards/".concat(o,"/follow/"),method:"POST"});case 3:r({event_type:26,object_id_str:o}),n();case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(){return(f=u(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.Z.create("UserFollowResource",t),e.next=3,i.callDelete();case 3:n();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(){return(m=u(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.Z.create("UserFollowResource",t),e.next=3,i.callCreate();case 3:n();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(){return(y=u(regeneratorRuntime.mark(function e(t,n,i){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.Z.create("InterestFollowResource",t),e.next=3,o.callDelete();case 3:n(),i({event_type:602,object_id_str:t.interest_id});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(){return(h=u(regeneratorRuntime.mark(function e(t,n,i){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.Z.create("InterestFollowResource",t),e.next=3,o.callCreate();case 3:n(),i({event_type:601,object_id_str:t.interest_id});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e,t){return v.apply(this,arguments)}function v(){return(v=u(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.Z.create("PinFeedbackResource",t),e.next=3,i.callUpdate();case 3:n();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(){return(b=u(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.Z.create("PinFeedbackResource",t),e.next=3,i.callUpdate();case 3:n();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var _={complaint:g,followBoard:function(e,t,n){return p.apply(this,arguments)},followPinner:function(e,t){return m.apply(this,arguments)},followTopic:function(e,t,n){return h.apply(this,arguments)},newsHubPinHide:function(e,t){(0,i.Z)({url:e.undo?"/v3/news_hub/".concat(e.newsId,"/pin/").concat(e.pinId,"/undo/"):"/v3/news_hub/".concat(e.newsId,"/pin/").concat(e.pinId,"/hide/"),method:"PUT"}).then(function(){return t()}),g(l({feedback_type:1,pin_id:e.pinId},e),t)},promotedComplaint:function(e,t){return b.apply(this,arguments)},relatedPinHide:function(e,t){(0,i.Z)({url:e.undo?"/v3/p2p/".concat(e.pin,"/unhide/"):"/v3/p2p/".concat(e.pin,"/hide/"),method:"PUT"}).then(function(){return t()}),g(l({feedback_type:1,pin_id:e.pin},e),t)},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t,n){return d.apply(this,arguments)},unfollowPinner:function(e,t){return f.apply(this,arguments)},unfollowTopic:function(e,t,n){return y.apply(this,arguments)},unrelatedSearchPin:function(e,t){(0,i.Z)({url:e.undo?"/v3/search/".concat(e.pin_id,"/unhide/"):"/v3/search/".concat(e.pin_id,"/hide/"),method:"PUT",data:{query:e.query,pin_type:e.pin_type}}).then(function(){return t()}),g(l({feedback_type:1},e),t)}},x=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,r=arguments.length>3?arguments[3]:void 0,i=e?_[e]:null;return i?i(t,n,r):n()}},680046:function(e,t,n){"use strict";n.d(t,{EF:function(){return y},Iv:function(){return p},Ud:function(){return d},hP:function(){return c},nb:function(){return m},oK:function(){return f}});var r=n(349700),i=n(55275),o=n(760372);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=function(e){return e.length>32?"".concat(e.substring(0,32).trim(),"..."):e};function c(e){var t=e.boardFollowedByMe,n=e.feedbackType,r=e.viewParameter,i=e.promotion,o=e.recommendationReason,a=e.pinnerFollowedByMe;if(i&&!i.isDownstreamPromotion)return"promoted";if(n)return n;if(o){if("FOLLOWED_INTEREST"===o.reason)return"topic";if("FOLLOWING_FEED"!==o.reason&&"RECENT_FOLLOWED_BOARD"!==o.reason)return o.hasBoard?"pfyBoard":"pfy"}if(t||a)return"followed";switch(r){case 140:case 144:case 141:case 145:case 139:case 3173:return"related";case 3082:return"newsHub";default:return"default"}}function d(e){var t,n,i,o,a,l,s,c,d=e.feedback,p=e.i18n,f=e.makeNavigateLink;switch(d.type){case"pfy":return p._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":var m=d.recommendationReasonBoard;return m?(0,r.nk)(p._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:f("navigation",m.url,m.name)}):null;case"topic":var y=d.sourceInterest;return y?(0,r.nk)(p._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:f("topicUrl","/topics/".concat(y.url_name),y.name)}):null;case"followed":var h=d.followed;return"pinner"===h.type?(0,r.nk)(p._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:f("pinnerUrl","/".concat(null!==(t=null===(n=h.pinner)||void 0===n?void 0:n.username)&&void 0!==t?t:""),u(null!==(i=null===(o=h.pinner)||void 0===o?void 0:o.full_name)&&void 0!==i?i:""))}):(0,r.nk)(p._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:f("boardUrl",null!==(a=null===(l=h.board)||void 0===l?void 0:l.url)&&void 0!==a?a:"",u(null!==(s=null===(c=h.board)||void 0===c?void 0:c.name)&&void 0!==s?s:""))});case"promoted":var g=d.thirdPartyAdAttributes||{},v=g.promotedIsPersonalized,b=g.isEligibleForPromotedPartnership,_=g.promotedPartnershipAttributionName,x=g.promotedPartnershipAdvertiserName;if(!v&&b)return(0,r.nk)(p._('{{ promotedPartnershipAdvertiserName }} paid, through a partnership with {{ promotedPartnershipAttributionName }}, to have this Pin show up where you\'d be more likely to notice it', 'feedbackHelpers.getRecommendationDescription.promoted.thirdParty', 'Recommendation description for ads with promoted partnership. promotedPartnershipAdvertiserName:Name of advertiser, promotedPartnershipAttributionName:Name of promoted partner'),{promotedPartnershipAdvertiserName:x,promotedPartnershipAttributionName:_});if(!d.promoter||v)return p._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');var P=d.promoter,S=P.full_name,j=P.username,w=f("promotedLink",j?"/"+j+"/":"/",S);return(0,r.nk)(p._('{{ promoterLink }} paid to have this Pin show up where you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:w});default:return null}}function p(e){var t,n,i=e.sourceInterest,a=e.i18n,l=e.makeNavigateLink;return{action:"unfollowTopic",actionOptions:{interest_id:i.id,interest_list:o.X},title:"",subTitle:(0,r.nk)(a._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:l("topicUrl","/topics/".concat(null!==(t=i.url_name)&&void 0!==t?t:""),null!==(n=i.name)&&void 0!==n?n:"",!0)})}}function f(e){var t,n,i,o,a=e.boardId,l=e.display,s=e.i18n,u=e.makeNavigateLink;return{action:"unfollowBoard",actionOptions:{board_id:a},title:"",subTitle:"pinner"===l.type?(0,r.nk)(s._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:u("pinnerUrl","/".concat(null!==(t=l.data.username)&&void 0!==t?t:""),null!==(n=l.data.full_name)&&void 0!==n?n:"",!0)}):(0,r.nk)(s._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:u("boardUrl",null!==(i=l.data.url)&&void 0!==i?i:"",null!==(o=l.data.name)&&void 0!==o?o:"",!0)})}}function m(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function y(e,t,n,r,o,a,l){return function(){var u=s(s({},e),{},{undo:!0}),c=t;"unfollowPinner"===t?c="followPinner":"unfollowBoard"===t?c="followBoard":"unfollowTopic"===t&&(c="followTopic"),(0,i.t)(c,u,void 0,l),a(n),l({event_type:101,component:0,element:11181,view_type:r,view_parameter:o})}}},752802:function(e,t){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var r=["564x","736x","orig","474x","236x"];t.Z=function(e){var t,i=e.images,o=void 0===i?{}:i,a=e.resolutionPreferences,l=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}}(e))){r&&(e=r);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw a}}}}(void 0===a?r:a);try{for(l.s();!(t=l.n()).done;){var s=t.value;if(o[s]&&o[s].url)return o[s]}}catch(e){l.e(e)}finally{l.f()}return null}},958007:function(e,t,n){"use strict";var r=n(992750),i=function(e){return(e||"").trim().replace(/\s+/g," ")};t.Z=function(e){var t=e.storyPinDataId,n=e.pinDescription,o=e.richMetadataDescription,a=e.richSummaryDisplayName,l=e.closeupDescription,s=e.closeupUnifiedDescription,u=e.seoDescription,c=e.seoNoindexReason;return c&&r.eg.has(c)?i(u):t?i(n):i((0,r.eK)({richMetadataDescription:o,richSummaryDisplayName:a,closeupUnifiedDescription:s}).description)||i(s||"")||i(l)||i(n)||i(o)||""}},164985:function(e,t,n){"use strict";function r(){var e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}n.d(t,{Z:function(){return r}})},580749:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},f:function(){return l}});var r=function(e){var t=e.hours,n=e.minutes;return"PT".concat(t,"H").concat(n)};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l=function(e){var t=e||{},n=t.h,i=t.m,o={hours:n||0,minutes:i||0};return void 0===n&&void 0===i?null:{h:n,m:i,time:o,isoDuration:r(o)}},s=function(e){if(!e)return null;var t,n,r,i,o,s=e.richMetadata.recipe;return s&&s.name?a(a({},e),{},{recipe:{name:s.name,categorizedIngredients:s.categorized_ingredients,diets:s.diets,fromAggregatedData:s.from_aggregated_data,prepTime:l(null===(t=s.cook_times)||void 0===t?void 0:t.prep),cookTime:l(null===(n=s.cook_times)||void 0===n?void 0:n.cook),totalTime:l(null===(r=s.cook_times)||void 0===r?void 0:r.total),servingSummary:null===(i=s.servings_summary)||void 0===i?void 0:i.summary,serves:null===(o=s.servings_summary)||void 0===o?void 0:o.serves}}):null}},432730:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach(function(t){var r,o;r=t,o=i[t],(r=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}t.Z=function(e){if(!e)return null;var t=e.pin.rich_metadata;return t?i(i({},e),{},{richMetadata:t}):null}},184578:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{Z:function(){return g}});var a=function(e){if(!e)return null;var t=e.pin.embed||{},n=t.type,r=t.src,i=t.subtype;return r?o(o({},e),{},{embed:{type:n,src:r,subtype:i}}):null},l=n(736688);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=function(e){if(!e)return null;var t=e.pin.videos||{},n=t.id,r=t.video_list,i=void 0===r?{}:r,o=i.V_720P,a=i.V_HLSV4,s=i.V_HLSV3_MOBILE,u=(0,l.V3)(a),d=(0,l.V3)(s),p=(0,l.V3)(o),f=p||u||d;return n&&f?c(c({},e),{},{video:{id:n,hasVideo:f,mp4:p||void 0,hls:u||void 0,hlsv3:d||void 0}}):null},p=n(802933);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=function(e){var t,n,r=e.hlsv3,i=e.hls,o=r||i;return!!(o&&(null!==(t=o.width)&&void 0!==t?t:0)>(null!==(n=o.height)&&void 0!==n?n:0))},g=function(e){if(!e)return null;var t=(d((0,p.Z)(e))||{}).video,n=(a((0,p.Z)(e))||{}).embed,r=!!(t&&h(t))||!!(n&&n.src&&"pinstory"!==n.subtype&&"gif"!==n.type);return y(y({},e),{},{isWideVideo:r})}},623568:function(e,t,n){"use strict";n.d(t,{NK:function(){return h},P6:function(){return a},ZE:function(){return m},Zt:function(){return y},_J:function(){return u},_S:function(){return g},cL:function(){return p},jL:function(){return s},oN:function(){return o},rM:function(){return f},sV:function(){return c},sY:function(){return d}});var r=n(179888);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var o=5e3,a=5e3/r.gJ,l=["Uploaded by user"],s=function(e,t){return!!t&&!e},u=function(e){return!!e&&5!==e},c=function(e){return["email","messages","deep_linking"].includes(e)},d=function(e){return!!e&&"gif"===e},p=function(e){var t=e.embedSrc,n=e.embedSubtype,r=e.embedType;return!!t&&!d(r)&&"pinstory"!==n},f=function(e){var t=e.link,n=e.mobileLink,r=e.trackedLink;return!n&&!r&&!t},m=function(e){return/pin.it/gim.test(e||"")},y=function(e){var t=e.link,n=e.mobileLink,r=e.origImageUrl,i=e.trackedLink;return n||i||t||r||""},h=function(e,t){return{deeplinkUri:{android:"pin/".concat(e,"/repin"),iOS:"repin/".concat(e)},mwebUri:{pathname:"/pin/".concat(e,"/repin/"),state:{trackingParams:t.state?t.state.trackingParams:""}}}};function g(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw a}}}}(l);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e===r)return!1}}catch(e){n.e(e)}finally{n.f()}return!0}},992750:function(e,t,n){"use strict";n.d(t,{eg:function(){return o},kt:function(){return f},rw:function(){return d},fs:function(){return s},eK:function(){return u},Ly:function(){return c},BY:function(){return p},bN:function(){return m},RC:function(){return a},EU:function(){return l}});var r=/\s\s+/g,i=n(883561),o=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description","is_sensitive_rich_pin_title","is_sensitive_board_title"])),a=function(e){var t=e.storyPinDataMetadataPinTitle,n=e.pinTitle;return t||n},l=function(e,t){return e?e.trim().length>t?(0,i.ZP)(e.trim(),t).trim():e.trim():""},s=function(e){var t=e.pinTitle,n=e.gridTitle,r=e.richSummaryDisplayName,i=e.richMetadataTitle,o=e.storyPinDataId,a=e.storyPinDataMetadataPinTitle||t,s=l(n,200);return s||r||i||(o&&a?a:null)},u=function(e){var t=e.richSummaryDisplayName,n=e.pinJoinVisualAnnotation||[],o=e.pinJoinAnnotationsWithLinks||{},a=e.richMetadataDescription||"",l=e.closeupUnifiedDescription||"",s=n.map(function(e){return(o||{})[e]||{name:e,url:""}}),u="",c=(t||"").toLocaleLowerCase().trim(),d=a.toLocaleLowerCase().trim(),p=l.toLocaleLowerCase().trim();return l&&l.length>3&&p!==c?u=l:a&&a.length>3&&d!==c&&(u=a),u&&(u=(0,i.ZP)(u,496).replace(r," ").trim()),{description:u,annotationsWithLinks:s}},c=function(e){var t=e.pinTitle,n=e.gridTitle,r=e.richSummaryDisplayName,i=e.richMetadataTitle,a=e.storyPinDataId,l=e.storyPinDataMetadataPinTitle,u=e.pinJoinVisualAnnotation,c=e.seoNoindexReason,d=e.seoTitle;return o.has(null!=c?c:"")?d:s({pinTitle:t,gridTitle:n,richSummaryDisplayName:r,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:l})||(null==u?void 0:u[0])||t},d=function(e,t,n,r,i){var o=("string"==typeof e?e:"").trim(),a=function(e,t){return t&&t.length>0?"".concat(e," ").concat(t.join(", ")):e};return r&&r.trim().length?a(r.trim(),n):i&&i.trim().length?i.trim():o?a(o,n):n?n.join(", "):""},p=function(e){return"/pin/".concat(e,"/")},f=function(e,t){var n="Pinterest video from ".concat(t,": ").concat(e);return""===t?e:n},m=function(e){var t=e.pinId,n=e.seoUrl;return n&&"string"==typeof n?n:p(t)}},359969:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r,i=n(76911);n(704217);var o=n(357998),a=void 0!==r?r:r=n(544819),l=function(e){var t,n,r,i,o;return{imageSpec_236x:(null===(t=e.images)||void 0===t?void 0:t["236x"])&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width},imageSpec_474x:(null===(n=e.images)||void 0===n?void 0:n["474x"])&&{height:e.images["474x"].height,url:e.images["474x"].url,width:e.images["474x"].width},imageSpec_564x:(null===(r=e.images)||void 0===r?void 0:r["564x"])&&{height:e.images["564x"].height,url:e.images["564x"].url,width:e.images["564x"].width},imageSpec_736x:(null===(i=e.images)||void 0===i?void 0:i["736x"])&&{height:e.images["736x"].height,url:e.images["736x"].url,width:e.images["736x"].width},imageSpec_orig:(null===(o=e.images)||void 0===o?void 0:o.orig)&&{height:e.images.orig.height,url:e.images.orig.url,width:e.images.orig.width}}};function s(e){var t=e.pinKey,n=(0,o.Q)(a,t,{useLegacyAdapter:l}).data,r=n.imageSpec_564x||n.imageSpec_736x||n.imageSpec_orig||n.imageSpec_474x||n.imageSpec_236x;return{getMainPinImage:(0,i.useCallback)(function(){return{url:(null==r?void 0:r.url)||"",height:(null==r?void 0:r.height)||1,width:(null==r?void 0:r.width)||1}},[null==r?void 0:r.height,null==r?void 0:r.url,null==r?void 0:r.width])}}},223008:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r,i=n(76911);n(704217);var o=n(916117),a=void 0!==r?r:r=n(469656);function l(e){var t=e.pinKey,n=e.maxWidth,r=(0,o.u)(a,t).data,l=(null==r?void 0:r.imageSpec_564x)||(null==r?void 0:r.imageSpec_736x)||(null==r?void 0:r.imageSpec_orig)||(null==r?void 0:r.imageSpec_474x)||(null==r?void 0:r.imageSpec_236x),s=(null==l?void 0:l.width)||1,u=(null==l?void 0:l.height)||1,c=(null==l?void 0:l.url)||"",d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:564;return e>n&&(t*=n/e,e=n),{width:e,height:t}}(s,u,n);return{getNormalizedPinImage:(0,i.useCallback)(function(){return{width:d.width,height:d.height,url:c}},[d.height,d.width,c])}}},489494:function(e,t,n){"use strict";n(704217);var r,i=n(357998),o=n(374373),a=void 0!==r?r:r=n(939234),l=function(e){return{entityId:e.id,link:e.link,method:e.method,trackedLink:e.tracked_link}};t.Z=function(e){var t=(0,i.Q)(a,e,{useLegacyAdapter:l}).data,n=(0,o.Z)(t);if(!(null!=t&&t.entityId))return null;var r=t.trackedLink,s=t.link,u=t.method,c=r||s;return c&&("catalog_bulk_create"===u||n)?decodeURIComponent(c):c}},374373:function(e,t,n){"use strict";n(704217);var r,i=n(916117),o=void 0!==r?r:r=n(927894);t.Z=function(e){var t,n=(0,i.u)(o,e).data;if(!(null!=n&&n.richMetadata))return!1;var r=(null!==(t=n.richMetadata)&&void 0!==t?t:{}).products;return!!Array.isArray(r)&&r.some(function(e){return!!e&&e.name})}},299295:function(e,t,n){"use strict";n.d(t,{$4:function(){return E},AQ:function(){return G},Bj:function(){return v},DB:function(){return W},FH:function(){return es},FM:function(){return J},G9:function(){return z},GX:function(){return h},Hy:function(){return ed},JO:function(){return T},Ke:function(){return I},LM:function(){return i},Lc:function(){return ef},Lr:function(){return ec},MN:function(){return _},Mn:function(){return ee},N8:function(){return g},NB:function(){return en},P0:function(){return er},P9:function(){return el},Pn:function(){return x},S:function(){return R},TK:function(){return S},TZ:function(){return k},UU:function(){return d},Uw:function(){return $},W_:function(){return eu},XB:function(){return s},Xy:function(){return C},YM:function(){return j},aD:function(){return em},aj:function(){return U},bA:function(){return L},bo:function(){return u},cH:function(){return ev},dS:function(){return O},eZ:function(){return m},fk:function(){return eo},g1:function(){return ep},gU:function(){return c},hH:function(){return N},i2:function(){return p},iR:function(){return M},jh:function(){return ey},km:function(){return f},lx:function(){return F},mr:function(){return q},mt:function(){return V},n_:function(){return Z},np:function(){return H},of:function(){return r},q:function(){return eg},qY:function(){return w},qm:function(){return ea},rc:function(){return Q},ro:function(){return eh},sD:function(){return a},sG:function(){return y},u1:function(){return X},uR:function(){return l},v5:function(){return o},v9:function(){return Y},vk:function(){return et},wj:function(){return P},x1:function(){return B},yC:function(){return b},yI:function(){return D},yX:function(){return A},yb:function(){return K},zr:function(){return ei}});var r=880,i=340,o=380,a=510,l=40,s=20,u=4,c=474,d=134,p=96,f=800,m=186,y=40,h=10,g=48,v=88,b=183,_=130,x=24,P=400,S=50,j=8,w=8,O=5,A=20,k=29,C=5,D=20,E=400,I=100,T=500,R=800,F=500,L=40,z=100,M=5,B=["attempted","publishing","succeeded","uploading"],N={carousel:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],single:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],story:[{w:9,h:16}],storyFARPortrait:[{w:1,h:2},{w:9,h:16},{w:2,h:3},{w:3,h:4},{w:4,h:5},{w:1,h:1}],storyFARLandscape:[{w:2,h:1},{w:16,h:9},{w:3,h:2},{w:4,h:3},{w:5,h:4},{w:1,h:1}]},Z=["tl","tc","tr","bl","bc","br"],U=["left","center"],K=["top","center","bottom"],H=["none","uppercase"],V=["sm","md","lg"],G=[1,.75],W=198,q=132,Y=1,X=56,$=240,Q="cubic-bezier(0.66, 0.025, 0.33, 0.975)",J=1e3,ee=1500,et=2,en=3,er=20,ei=20,eo=2,ea=["processing","publishing","saving"],el=60.5,es=120.5,eu=1,ec=209715200,ed=2500,ep=3,ef="pin-builder-default-education-id",em="pin-builder-default-tour-id",ey="pin-builder-editing-tour-id",eh="save_from_url",eg=["processing","edited","creating","saving","saved"],ev=2048},66743:function(e,t,n){"use strict";n.d(t,{NC:function(){return o},Rc:function(){return l},WK:function(){return u},X9:function(){return i},b9:function(){return r},f9:function(){return s},gu:function(){return a}});var r="pin-builder-font-faces",i="system-font-faces",o="pin-builder-education-font-faces",a="licensed",l="system",s="brand",u=4},802933:function(e,t){"use strict";t.Z=function(e){var t;return null!=e&&null!==(t=e.pin)&&void 0!==t&&t.id?e:null}},692627:function(e,t,n){"use strict";function r(e){var t=e.hasPin,n=e.hasPinRichMetadata,r=e.hasPinRichMetadataProducts,i=e.hasPinRichMetadataArticle,o=e.hasPinRichMetadataRecipe,a=e.hasPinStoryPinData;if(t){if(n)return r?144:i?141:o?145:139;if(a)return 157}return 140}n.d(t,{Z:function(){return r}})},760372:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var r="favorited"},773285:function(e,t,n){"use strict";n.d(t,{F:function(){return o},a:function(){return i}});var r=(0,n(425288).Z)("ExperimentContext"),i=r.Provider,o=r.useHook},466225:function(e,t){"use strict";t.Z=function(e){return e.startsWith("enabled")||e.startsWith("employee")}},523657:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(76911);n(908390);var i=n(301723),o=n(515198),a=function(e,t,n){var i=(0,r.useRef)(null),o=(0,r.useRef)(null);(0,r.useEffect)(function(){if(e!==i.current||n&&n!==o.current){i.current=e;var r=document.querySelector('img[src="'.concat(e,'"]'))||null;null!=r&&r.complete&&t()}o.current=n},[e,t,n])};function l(e){var t=e.alt,n=e.children,r=e.color,l=e.elementTiming,s=e.isActive,u=void 0!==s&&s,c=e.naturalHeight,d=e.naturalWidth,p=e.onLoad,f=e.src,m=e.fit;return a(f,p,u),(0,o.jsx)(i.Z,{alt:t,color:r,elementTiming:l,fit:void 0===m?"none":m,naturalHeight:c,naturalWidth:d,onLoad:p,src:f,children:n})}},317254:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(969853),i=n(76911),o=n(543059),a=n(276602),l=n(198462);function s(e){var t,n,s,u=e.children,c=e.isAtEndOfFeed,d=e.pinData,p=e.itemCount,f=e.includeBackgroundImages,m=e.includeVideos,y=e.includeSections,h=void 0!==y&&y;return(null===(s=(0,l.N5)())||void 0===s?void 0:s.isAuthenticated)||(h=!0),(0,r.Z)({pinData:d,isAtEndOfFeed:c,includeBackgroundImages:void 0!==f&&f,includeVideos:void 0!==m&&m,includeSections:h}),t=(0,a.E)(),n=(0,i.useRef)(null),(0,i.useEffect)(function(){p!==n.current&&(n.current=p,t&&(0,o.ZP)(o.at))},[!!t,p]),u}},584992:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(76911),i=n(425288),o=n(790348),a=n(198462),l=n(383434),s=n(543059),u=n(607150),c=n(638089),d=n(860273),p=n(453821),f=n(558775),m=n(505771),y=n(729524),h=n(169213),g=n(358864),v=n(985271);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e,t,n){var r;return(r=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===b(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=(0,l.XV)("PwtStopwatch"),A=function(e,t){if(v.Z){if("start"===t.type&&!e.isTiming){var n=t.name,r=t.startTime,i=t.navigationType;return(0,o.A9)("TIMING.".concat(n)),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof r?r:v.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:i},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming){if(t.bypassIsTimingCheck)O("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t);else{var a=t.name||e.name;return O("ignoring action - stopwatch is not actively timing",t),(0,o.A9)("WARN.".concat(a,".noTiming.").concat(t.type)),e}}if("annotate"===t.type){var l=v.Z.now();return O("adding annotation {".concat(t.label,": ").concat(l,"}")),j(j({},e),{},{annotations:e.annotations.concat([{label:t.label,timestamp:l}])})}if("binaryAnnotate"===t.type)return O("adding binary annotation {".concat(t.name,": ").concat(String(t.value),"}")),j(j({},e),{},{binaryAnnotations:j(j({},e.binaryAnnotations),w({},t.name,{value:t.value,type:t.annotationType}))});if("binaryAnnotateOperation"===t.type){var h=t.binaryAnnotationValueAndType,b=h.value,x=h.type;if(!e.binaryAnnotations[t.name])return j(j({},e),{},{binaryAnnotations:j(j({},e.binaryAnnotations),w({},t.name,{value:b,type:x}))});var P=e.binaryAnnotations[t.name].value||0;return O("operating on binary annotation {\n          name: ".concat(t.name,"\n          pervious value: ").concat(String(P),"\n          operand: ").concat(String(b),"\n        }")),j(j({},e),{},{binaryAnnotations:j(j({},e.binaryAnnotations),w({},t.name,{value:b?t.operation(P,b):P,type:x}))})}if("addSubspan"===t.type){O("adding subspan {".concat(t.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===t.name})&&O("WARNING: adding duplicate subspan name {".concat(t.name,"}"));var S=t.id||(0,g.Z)();-1!==e.spans.findIndex(function(e){return e.id===S})&&O("WARNING: adding duplicate subspan id {".concat(t.name,": ").concat(S,"}"));var A=0;return t.startTime?A=t.startTime:e.startTime?A=e.startTime:O("WARNING: adding subspan {".concat(t.name,"} without start time")),j(j({},e),{},{spans:[].concat(_(e.spans),[{name:t.name,id:S,startTime:A,endTime:t.endTime||1/0,annotationMap:j({},t.annotations),binaryAnnotationMap:j({},t.binaryAnnotations),parentId:t.parentId}])})}if("subspanStart"===t.type){O("starting subspan {".concat(t.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===t.name})&&O("WARNING: starting duplicate subspan name {".concat(t.name,"}"));var k,C=t.id||(0,g.Z)();-1!==e.spans.findIndex(function(e){return e.id===C})&&O("WARNING: starting duplicate subspan id {".concat(t.name,": ").concat(C,"}"));var D=t.parentName?null===(k=e.spans.find(function(e){return e.name===t.parentName}))||void 0===k?void 0:k.id:null;return j(j({},e),{},{spans:[].concat(_(e.spans),[{name:t.name,id:C,parentId:t.parentId||D,startTime:v.Z.now(),endTime:1/0,annotationMap:j({},t.annotations),binaryAnnotationMap:j({},t.binaryAnnotations)}])})}if("subspanStop"===t.type){O("stopping subspan {".concat(t.name,"}")),!t.id&&e.spans.reduce(function(e,n){return n.name===t.name?[].concat(_(e),[n]):e},[]).length>1&&(0,o.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type});var E=t.id?e.spans.findIndex(function(e){return e.id===t.id}):e.spans.findIndex(function(e){return e.name===t.name});return E>-1?(e.spans[E].endTime=v.Z.now(),t.annotations&&(e.spans[E].annotationMap=j(j({},e.spans[E].annotationMap),t.annotations)),t.binaryAnnotations&&(e.spans[E].binaryAnnotationMap=j(j({},e.spans[E].binaryAnnotationMap),t.binaryAnnotations))):(0,o.H)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){e.spans.reduce(function(e,n){return n.name===t.currentName?[].concat(_(e),[n]):e},[]).length>1&&(0,o.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});var I=e.spans.findIndex(function(e){return e.name===t.currentName});return I>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[].concat(_(e.spanNameUpdates),[{currentName:t.currentName,newName:t.newName}]):(O("renaming subspan {".concat(t.currentName,"} to {").concat(t.newName,"}")),e.spans[I].name=t.newName):(0,o.H)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){var T=e.startTime,R=e.metricId,F=e.pwtStaticContext,L=e.annotations,z=e.binaryAnnotations,M=e.isSampled,B=e.spans,N=e.traceId;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),M){var Z=t.stopTime||v.Z.now(),U=_(B.map(function(t){t.endTime===1/0&&(t.endTime=Z);var n=e.spanNameUpdates.findIndex(function(e){return t.name===e.currentName});return n>-1&&(O("renaming subspan {".concat(t.name,"} to {").concat(e.spanNameUpdates[n].newName,"}")),t.name=e.spanNameUpdates[n].newName,e.spanNameUpdates=e.spanNameUpdates.filter(function(e){return e.newName!==t.name})),t}));if(t.manualAndResourceSpans||0===B.length){var K=(0,g.Z)();U.push.apply(U,[{name:"network_resources",id:K,startTime:T,endTime:Z,annotationMap:{},binaryAnnotationMap:{},parentId:null}].concat(_((t.customStopwatchBuffer||[]).map(function(e){return(0,m.Z)((0,p.p)(e,[]),K)}).filter(Boolean))))}var H="initial_app_load"===R.navigationType&&(0,d.Z)(),V={type:"COMPLETE",traceId:N,startTime:T,endTime:Z,spans:U,annotationMap:j(j(j({},(0,y.Z)(L)),(0,u.jh)("browser_",H?(0,u.D3)(H):{})),(0,u.jh)("mark_",(0,s.gQ)())),binaryAnnotationMap:(0,c.ng)({metricId:R,pwtStaticContext:F,binaryAnnotations:z,performanceResourceTimings:t.customStopwatchBuffer||[]})};(0,f.Z)({metricId:R,pwtStaticContext:F,result:V})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,g.Z)(),spanNameUpdates:[]}}if("error"===t.type){var G=t.error,W=t.stopwatchPerformanceObserver;return G&&(0,o.H)(G),W&&W.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,g.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();var q=e.metricId,Y=e.pwtStaticContext,X=t.reason||"";return(0,f.Z)({metricId:q,pwtStaticContext:Y,result:{type:"ABORT",reason:X}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,g.Z)(),spanNameUpdates:[]}}}return e},k=function(e){var t,n=e.name,i=e.sampleRate,o=e.navigationType,l=e.manualAndResourceSpans,s=void 0!==l&&l,u=(0,a.N5)(),c=(0,r.useRef)([]),d=(0,r.useRef)(null),p=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(A,{isTiming:!1,name:n,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,g.Z)(),spanNameUpdates:[]}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||x(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=p[0],m=p[1];return u?{isTiming:f.isTiming,start:function(e){return window.PerformanceObserver&&(c.current=[],d.current=(0,h.Z)({entryTypes:["resource"]},function(e){c.current=c.current.concat(e.getEntries()),c.current.length>1e3&&(c.current=c.current.slice(-1e3))})),m({type:"start",startTime:e,name:n,navigationType:o,pwtStaticContext:u,isSampled:!i||Math.random()<i})},stop:function(e){return m({type:"stop",stopTime:e,stopwatchPerformanceObserver:d.current,customStopwatchBuffer:c.current,manualAndResourceSpans:s})},error:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){m({type:"error",stopwatchPerformanceObserver:d.current,error:e})}),abort:function(e){return m({type:"abort",stopwatchPerformanceObserver:d.current,customStopwatchBuffer:c.current,reason:e})},annotate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return m({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n})},binaryAnnotate:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return m({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:r,bypassIsTimingCheck:i})},binaryAnnotateOperation:function(e){var t=e.name,n=e.binaryAnnotationValueAndType,r=e.operation,i=e.parentId,o=e.bypassIsTimingCheck;return m({type:"binaryAnnotateOperation",name:t,binaryAnnotationValueAndType:n,operation:r,parentId:i,bypassIsTimingCheck:void 0!==o&&o})},addSubspan:function(e){var t=e.name,n=e.startTime,r=e.endTime,i=e.annotations,o=e.binaryAnnotations,a=e.parentId,l=e.id,s=e.bypassIsTimingCheck;return m({type:"addSubspan",name:t,startTime:n,endTime:r,annotations:void 0===i?{}:i,binaryAnnotations:void 0===o?{}:o,parentId:void 0===a?null:a,id:void 0===l?null:l,bypassIsTimingCheck:void 0!==s&&s})},subspanStart:function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,i=e.parentId,o=e.parentName,a=e.id,l=e.bypassIsTimingCheck;return m({type:"subspanStart",name:t,annotations:void 0===n?{}:n,binaryAnnotations:void 0===r?{}:r,parentId:void 0===i?null:i,parentName:void 0===o?null:o,id:void 0===a?null:a,bypassIsTimingCheck:void 0!==l&&l})},subspanStop:function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,i=e.id,o=e.parentId,a=e.bypassIsTimingCheck;return m({type:"subspanStop",name:t,annotations:n,binaryAnnotations:r,id:i,parentId:o,bypassIsTimingCheck:void 0!==a&&a})},subspanUpdateName:function(e){var t=e.currentName,n=e.newName,r=e.bypassIsTimingCheck,i=e.updateWhenStopwatchCompletes;return m({type:"subspanUpdateName",currentName:t,newName:n,bypassIsTimingCheck:r,updateWhenStopwatchCompletes:void 0===i||i})},getSpans:function(e,t){return f.spans.filter(function(n){return n[e]===t})},getTraceId:function(){return f.traceId}}:null},C=n(515198),D=function(e){var t=e.name,n=e.sampleRate,l=e.abortOnUnloadOrClientNavigation,s=void 0===l||l,u=e.navigationType,c=e.manualAndResourceSpans,d=void 0!==c&&c,p=(0,i.Z)("Stopwatch_".concat(t)),f=p.Provider;return{Provider:function(e){var i=e.children,l=k({name:t,sampleRate:n,navigationType:u,manualAndResourceSpans:d}),c=(0,a.fM)(),p=c?c.time:0,m=(0,r.useRef)(!1),y=null==l?void 0:l.isTiming,h=(0,r.useCallback)(function(e){m.current?(m.current=!1,null==l||l.abort(e)):(0,o.A9)("WARN.".concat(t,".noTiming.abort"))},[l]),g=(0,r.useCallback)(function(e,t){null==l||l.annotate(e,t)},[l]),v=(0,r.useCallback)(function(e,t,n,r){null==l||l.binaryAnnotate(e,t,n,r)},[l]),b=(0,r.useCallback)(function(e){var t=e.name,n=e.binaryAnnotationValueAndType,r=e.operation,i=e.parentId,o=e.bypassIsTimingCheck;null==l||l.binaryAnnotateOperation({name:t,binaryAnnotationValueAndType:n,operation:r,parentId:i,bypassIsTimingCheck:o})},[l]),_=(0,r.useCallback)(function(e){var t=e.name,n=e.startTime,r=e.endTime,i=e.annotations,o=e.binaryAnnotations,a=e.parentId,s=e.id,u=e.bypassIsTimingCheck;null==l||l.addSubspan({name:t,startTime:n,endTime:r,annotations:i,binaryAnnotations:o,parentId:a,id:s,bypassIsTimingCheck:u})},[l]),x=(0,r.useCallback)(function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,i=e.parentId,o=e.parentName,a=e.id,s=e.bypassIsTimingCheck;null==l||l.subspanStart({name:t,annotations:n,binaryAnnotations:r,parentId:i,parentName:o,id:a,bypassIsTimingCheck:s})},[l]),P=(0,r.useCallback)(function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,i=e.id,o=e.parentId,a=e.bypassIsTimingCheck;null==l||l.subspanStop({name:t,annotations:n,binaryAnnotations:r,id:i,parentId:o,bypassIsTimingCheck:a})},[l]),S=(0,r.useCallback)(function(e){var t=e.currentName,n=e.newName,r=e.bypassIsTimingCheck,i=e.updateWhenStopwatchCompletes;null==l||l.subspanUpdateName({currentName:t,newName:n,bypassIsTimingCheck:r,updateWhenStopwatchCompletes:i})},[l]),j=(0,r.useCallback)(function(e,t){return l?l.getSpans(e,t):[]},[l]),w=(0,r.useCallback)(function(){return l?l.getTraceId():0},[l]),O=(0,r.useCallback)(function(e){m.current?(m.current=!1,null==l||l.error(e)):(0,o.A9)("WARN.".concat(t,".noTiming.error"))},[l]),A=(0,r.useCallback)(function(e){m.current&&(null==l||l.abort("duplicated_init_stopwatch_action")),m.current=!0,null==l||l.start(e)},[l]),D=(0,r.useCallback)(function(e){m.current?(m.current=!1,null==l||l.stop(e)):(0,o.A9)("WARN.".concat(t,".noTiming.stop"))},[l]);(0,r.useEffect)(function(){return function(){s&&h("unloadOrClientNavigation")}},[p]);var E=(0,r.useMemo)(function(){return{isTiming:y,abort:h,addAnnotation:g,addBinaryAnnotation:v,binaryAnnotationOperation:b,addSubspan:_,subspanStart:x,subspanStop:P,getSpans:j,getTraceId:w,updateSubspanName:S,stop:D,error:O,start:A}},[y,h,g,v,b,_,x,P,j,w,S,D,O,A]);return(0,C.jsx)(f,{value:E,children:i})},useHook:p.useMaybeHook}}},47168:function(e,t,n){"use strict";n.d(t,{T:function(){return a},g:function(){return l}});var r=(0,n(584992).Z)({name:"story_pin_step",sampleRate:1}),i=r.Provider,o=r.useHook,a=i,l=o},729524:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,r){var i;return(i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===n(i)?i:String(i))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.Z=function(e){var t={};e.forEach(function(e){var n=e.label,r=e.timestamp;t=i(i({},t),{},o({},n,(t[n]||[]).concat([r])))});var n=Object.freeze({});return Object.keys(t).forEach(function(e){(t[e]||[]).forEach(function(t,r){var a=r?"".concat(e,"_").concat(r+1):e;n=i(i({},n),{},o({},a,t))})}),n}},571757:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(908390),i=n(121151),o=n(898781),a=n(76911),l=n(112690),s=n(356997),u=n(879564),c=n(515198),d=function(e){var t=e.user,n=e.viewer,i=(0,o.ZP)(),a=t.full_name,l=t.image_medium_url,d=t.domain_url,p=t.domain_verified,f=t.is_private_profile,m=t.reactionType,y=t.username,h=n&&!!n.id&&n.id===t.id,g=f?t.first_name:a,v=u.GY[m],b=(0,u.fW)(v,i).staticAsset;return(0,c.jsxs)(r.xu,{display:"flex",justifyContent:"between",marginTop:6,paddingX:6,children:[(0,c.jsx)(r.Tg,{href:"/".concat(y,"/"),children:(0,c.jsxs)(r.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,c.jsx)(r.xu,{width:40,children:(0,c.jsx)(s.qE,{accessibilityLabel:"",name:g,src:l})}),(0,c.jsxs)(r.xu,{direction:"column",display:"flex",paddingX:2,children:[(0,c.jsx)(r.xv,{weight:"bold",children:g}),h&&(0,c.jsx)(r.xv,{size:"200",children:i._('That\'s you', 'Indicates that the viewer is the person in the list', 'Indicates that the viewer is the person in the list')}),!h&&d&&p&&(0,c.jsx)(r.xv,{size:"200",children:d})]})]})}),(0,c.jsx)(r.xu,{alignItems:"center",display:"flex",padding:2,children:(0,c.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:"url(".concat(b,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"}},height:26,width:26})})]})},p=n(784590),f=n(304903),m=n(700380),y=n(19121);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return(t=j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,n,i,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=P(a);if(t){var r=P(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return x(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(x(e=o.call.apply(o,[this].concat(n))),"setRef",function(t){t&&!e.list&&(e.list=t.parentElement,e.list&&e.list.addEventListener("scroll",e.handleScroll))}),S(x(e),"fetchMore",function(){var t=e.props.feedResource;t.isFetching||(t.isAtEnd?window.removeEventListener("scroll",e.handleScroll):t.fetchMore())}),S(x(e),"handleScroll",(0,m.Z)(function(){var t=e.props.feedResource;if(!t.isFetching&&!t.isAtEnd){var n=(0,f.Uy)(e.list);(0,f.aZ)(e.list)-(0,f.MX)(e.list)-50<n&&e.fetchMore()}},10)),e}return n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.logContextEvent,n=e.logView;(void 0===n||n)&&t({event_type:13,view_type:266,view_parameter:3312})}},{key:"componentWillUnmount",value:function(){this.list&&this.list.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this.props,t=e.feedResource,n=t.data,i=t.isFetching,o=e.viewer;if(n&&n.length>0){var a=n.map(function(e){var t=e.user,n=e.reaction_type;return v(v({},t),{},{reactionType:n})});return(0,c.jsxs)(r.xu,{ref:this.setRef,marginBottom:6,children:[a.map(function(e){return(0,c.jsx)(d,{user:e,viewer:o},e.id)}),i&&(0,c.jsx)("div",{className:"loadingSpinner",children:(0,c.jsx)(r.$j,{accessibilityLabel:this.props.i18n._('Loading user list', 'Accessibility lable for user list spinner', 'Accessibility lable for user list spinner'),show:!0})})]})}return(0,c.jsx)("div",{className:"loadingSpinner",children:(0,c.jsx)(r.$j,{accessibilityLabel:this.props.i18n._('Loading user list', 'Accessibility lable for user list spinner', 'Accessibility lable for user list spinner'),show:!0})})}}],b(a.prototype,n),i&&b(a,i),Object.defineProperty(a,"prototype",{writable:!1}),a}(a.Component);function O(e){var t=(0,o.ZP)(),n=(0,y.Z)(),r=(0,l.Z)(),i=(0,p.Z)({name:"ReactionsResource",options:{pin_id:e.pinId},noCache:!0});return(0,c.jsx)(w,v(v({},e),{},{feedResource:i,i18n:t,logContextEvent:r,viewer:n}))}function A(e){var t=e.pinId,n=e.aggregatedReactions,a=e.totalReactionCount,l=e.onDismiss,s=e.logView,u=(0,o.ZP)(),d=(0,c.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsxs)(r.xu,{alignItems:"center",direction:"row",display:"flex",height:19,paddingY:6,children:[(0,c.jsx)(r.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:n}),(0,c.jsx)(r.xu,{paddingX:1,children:(0,c.jsx)(r.xv,{weight:"bold",children:a})})]})});return(0,c.jsx)(i.ZP,{accessibilityModalLabel:u._('Users who have reacted to this.', 'Label for a modal showing a list of users who have reacted to a pin', 'Label for a modal showing a list of users who have reacted to a pin'),allowScroll:!0,heading:d,mobileAccessibilityCloseIconLabel:u._('close modal', 'pin.reactions.reactedUsers', 'accessibility label for modal close icon'),onDismiss:l,size:"sm",children:(0,c.jsx)(r.xu,{height:"calc(75% - ".concat(90,"px)"),children:(0,c.jsx)(O,{logView:s,pinId:t})})})}},139134:function(e,t,n){"use strict";var r=n(76911),i=n(908390),o=n(288889),a=n(112690),l=n(694379),s=n(898781),u=n(571757),c=n(879564),d=n(681227),p=n(515198);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(s,e);var t,n,r,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=b(s);if(t){var r=b(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(v(e=a.call.apply(a,[this].concat(n))),"state",{displayAggregationModal:!1}),_(v(e),"showAggregationModal",function(){var t=e.props,n=t.disableModal,r=t.logContextEvent;n||(e.setState({displayAggregationModal:!0}),r({event_type:101,view_type:3,view_parameter:139,component:13458,element:11435,aux_data:{objectId:e.props.pinId}}))}),_(v(e),"hideAggregationModal",function(){e.setState({displayAggregationModal:!1})}),e}return n=[{key:"render",value:function(){var e=this,t=this.state.displayAggregationModal,n=this.props,r=n.isBold,a=n.inCommentModuleExp,s=n.isInCommentModule,f=n.isStoryPin,m=n.paddingY,y=n.pinId,h=n.reactionCounts,g=h?(0,d.At)(h):null,v=h?(0,d.Ud)(h):0,b=!!g&&g.length>0&&g.filter(function(e){return!!c.GY[e]}).map(function(t,n){var r=c.GY[t],o=(0,c.fW)(r,e.props.i18n).gridAsset;return(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:"url(".concat(o,")"),backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},height:19,width:19})},n)});return(0,p.jsxs)(i.xu,{children:[(0,p.jsx)("div",{onClick:s?void 0:this.showAggregationModal,onKeyDown:s?void 0:this.showAggregationModal,role:"presentation",children:!!b&&(0,p.jsx)(i.xu,{"data-test-id":"aggregated-reactions-container",display:"inlineBlock",children:a?(0,p.jsx)(i.xv,{weight:"bold",children:(0,p.jsx)(l.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:v})}):(0,p.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{cursor:"pointer"}},"data-test-id":"aggregated-reactions-container",direction:"row",display:"flex",height:f?"auto":19,paddingY:null!=m?m:f?0:6,children:[(0,p.jsx)(i.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:b}),(0,p.jsx)(i.xu,{paddingX:1,children:(0,p.jsx)(i.xv,{color:r?"default":"subtle",size:o.n,weight:r?"bold":"normal",children:(0,p.jsx)(l.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:v})})})]})})}),t&&v&&(0,p.jsx)(u.Z,{aggregatedReactions:b,onDismiss:this.hideAggregationModal,pinId:y,totalReactionCount:v})]})}}],h(s.prototype,n),r&&h(s,r),Object.defineProperty(s,"prototype",{writable:!1}),s}(r.PureComponent);_(P,"defaultProps",{isBold:!0}),t.Z=function(e){var t=(0,s.ZP)(),n=(0,a.Z)();return(0,p.jsx)(P,y(y({},e),{},{i18n:t,logContextEvent:n}))}},879564:function(e,t,n){"use strict";n.d(t,{GY:function(){return w},Go:function(){return O},Jg:function(){return j},fW:function(){return A}});var r,i,o=n(184508),a=n(147916),l=n(167361),s=n(697031),u=n(404247),c=n(836866),d=n(620668),p=n(86119),f=n(753873),m=n(873774),y=n(479197),h=n(110099),g=n(244892),v=n(485846),b=n(461471),_=n(662502),x=n(239784);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t,n){var r;return(r=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===P(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=["goodIdea","love","thanks","wow","haha"],w=(S(r={},7,"goodIdea"),S(r,1,"love"),S(r,13,"thanks"),S(r,11,"wow"),S(r,5,"haha"),r),O=(S(i={},7,"yellow-caramellow-50"),S(i,1,"red-pushpin-100"),S(i,13,"teal-spabattical-100"),S(i,11,"orange-firetini-50"),S(i,5,"purple-mysticool-100"),i),A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"darkGray",r={default:{staticAsset:"white"===n?y:m},goodIdea:{staticAsset:l,animatedAsset:o,gridAsset:a,label:t._('Good idea', 'Reaction label to tell a creator that their pin is a good idea', 'Reaction label to tell a creator that their pin is a good idea'),htmlStyle:"\n    @keyframes play90 {\n        0% {\n        background-position: 0px 0px;\n        }\n        100% {\n        background-position: -".concat(3600,"px 0px;\n        }\n    }\n    "),animationStyle:"play90 3000ms steps(90) infinite forwards",type:7},haha:{staticAsset:c,animatedAsset:s,gridAsset:u,label:t._('Haha', 'Reaction label to tell a creator that the pinner laughed because of their pin', 'Reaction label to tell a creator that the pinner laughed because of their pin'),htmlStyle:"\n    @keyframes play60 {\n        0% {\n        background-position: 0px 0px;\n        }\n        100% {\n        background-position: -".concat(2400,"px 0px;\n        }\n    }\n    "),animationStyle:"play60 2000ms steps(60) infinite forwards",type:5},love:{staticAsset:f,animatedAsset:d,gridAsset:p,label:t._('Love', 'Reaction label to tell a creator that the pinner loved their pin', 'Reaction label to tell a creator that the pinner loved their pin'),htmlStyle:"\n    @keyframes play90 {\n        0% {\n        background-position: 0px 0px;\n        }\n        100% {\n        background-position: -".concat(3600,"px 0px;\n        }\n    }\n    "),animationStyle:"play90 3000ms steps(90) infinite forwards",type:1},thanks:{staticAsset:v,animatedAsset:h,gridAsset:g,label:t._('Thanks', 'Reaction label to tell a creator thank you', 'Reaction label to tell a creator thank you'),htmlStyle:"\n    @keyframes play60 {\n        0% {\n        background-position: 0px 0px;\n        }\n        100% {\n        background-position: -".concat(2400,"px 0px;\n        }\n    }\n    "),animationStyle:"play60 2000ms steps(60) infinite forwards",type:13},wow:{staticAsset:x,animatedAsset:b,gridAsset:_,label:t._('Wow', 'Reaction label to tell a creator that the pinner was wowed by their pin', 'Reaction label to tell a creator that the pinner was wowed by their pin'),htmlStyle:"\n    @keyframes play90 {\n        0% {\n        background-position: 0px 0px;\n        }\n        100% {\n        background-position: -".concat(3600,"px 0px;\n        }\n    }\n    "),animationStyle:"play90 3000ms steps(90) infinite forwards",type:11}};return r[e]||r.default}},681227:function(e,t,n){"use strict";function r(e){var t=Object.keys(e);return t.length>0?t.sort(function(t,n){return e[n]-e[t]}).slice(0,3):null}function i(e){var t=Object.values(e);return t.length>0?t.reduce(function(e,t){return e+t},0):0}function o(e,t,n){var r,i;return!e.isPromoted&&!e.isDownstreamPromotion&&!!(null!==(r=e.videos)&&void 0!==r&&r.entityId||e.storyPinDataId)&&!t&&(!(null!==(i=e.board)&&void 0!==i&&i.isCollaborative)||!e.board.collaboratedByMe)&&!n}n.d(t,{At:function(){return r},J6:function(){return o},Ud:function(){return i}})},561195:function(e,t,n){"use strict";n.d(t,{A:function(){return s},Z:function(){return u}});var r=n(76911),i=n(908390),o=n(515198);function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){var t=e.fill;e.width;var n="half"===t?(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(i.xu,{position:"absolute",children:(0,o.jsx)(i.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,o.jsx)(i.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,o.jsx)(i.JO,{accessibilityLabel:"",color:"full"===t?"default":"subtle",icon:"star",size:12});return(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"".concat(3,"px")}},"data-test-id":"rating-star-".concat(t),display:"inlineBlock",children:n})};function u(e){var t,n=e.max_rating,r=e.rating,l=e.width,u=[],c=parseFloat(n)||5,d=5*(t=(t=parseFloat(r)||0)<=c?t:c)/c;if(Number.isNaN(d))return null;var p=Math.floor(d),f=d-p;return a(Array(p).keys()).forEach(function(e){return u.push((0,o.jsx)(s,{fill:"full",width:l},e))}),f>=.75?u.push((0,o.jsx)(s,{fill:"full",width:l},u.length)):f>=.25&&u.push((0,o.jsx)(s,{fill:"half",width:l},u.length)),a(Array(5-u.length).keys()).forEach(function(){return u.push((0,o.jsx)(s,{fill:"empty",width:l},u.length))}),(0,o.jsx)(i.xu,{display:"inlineBlock",position:"relative",width:15*c,children:u})}},923297:function(e,t,n){"use strict";function r(e){var t=e.m,n=void 0===t?0:t,r=e.h,i=void 0===r?0:r;return{m:n,h:i,rm:i>0?0:n,rh:i<=0?i:n>45?i+1:n>15?i+.5:i}}function i(e){var t=Math.floor(e/3600);return r({m:Math.floor(e%3600/60),h:t})}n.d(t,{X:function(){return r},u:function(){return i}})},220306:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(76911),i=n(908390),o=n(485710),a=n(288889),l=n(319530),s=n(898781),u=n(515198);function c(e){var t=e.category,n=e.ingredients,r=e.textSize,o=void 0===r?"300":r;return(0,u.jsxs)(i.xu,{children:[t&&(0,u.jsx)(i.xu,{children:(0,u.jsx)(i.xv,{size:o,weight:"bold",children:t})}),(0,u.jsx)("ul",{children:n.map(function(e,t){return(0,u.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,u.jsx)(i.xu,{marginTop:1,children:(0,u.jsxs)(i.xv,{size:o,children:["• ",e.amt||null," ",e.name]})})},t)})})]})}var d=n(134185);function p(e){var t=e.recipeProps,n=e.marginOverrides,p=(0,s.ZP)(),f=t.recipe,m=f.image,y=f.name,h=f.categorizedIngredients,g=p._('Ingredients', 'Ingredients title and count in closeup recipe description', 'Ingredients title and count in closeup recipe description');if(h&&h.length){var v=[];h.forEach(function(e){return v.push(e.ingredients)})}return(0,u.jsx)(i.xu,{marginTop:8,children:(0,u.jsxs)(d.Z,{itemScope:!0,itemType:"https://schema.org/Recipe",children:[(0,u.jsx)("meta",{content:y,itemProp:"name"}),(0,u.jsx)("meta",{content:m,itemProp:"image"}),(0,u.jsx)(o.Z,{heading:g,children:(0,u.jsx)(l.Z,{children:(0,u.jsx)(i.xu,{marginTop:4,children:h.map(function(e,t){var o=e.category,l=e.ingredients,s="ingredient-".concat(t);return(0,u.jsx)(r.Fragment,{children:(0,u.jsx)(i.xu,{marginBottom:(null==n?void 0:n.ingredientMarginBottom)||4,children:(0,u.jsx)(c,{category:o,ingredients:l,textSize:a.n})})},s)})})})})]})})}},833049:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(694379),i=n(349700),o=n(515198);function a(e,t){var n=e.m,a=e.h,l=e.rm,s=e.rh;return n&&(!a||s<=0)?(0,i.nk)(t._('{{mins}}min', 'closeup.makeRecipeText.minutesLabel', 'Minutes label for Rich Pin Recipe'),{mins:(0,o.jsx)(r.Z,{maximumFractionDigits:2,value:l},"recipe-minutes")}):a?(0,i.nk)(t._('{{hrs}}hr', 'closeup.makeRecipeText.hoursLabel', 'Hours label for Rich Pin Recipe'),{hrs:(0,o.jsx)(r.Z,{maximumFractionDigits:2,value:s},"recipe-hours")}):null}},927220:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(349700);function i(e,t){return e<60?(0,r.nk)(t._('{{mins}}min', 'recipe.minutes', 'recipe in minutes. mins: recipe duration in minutes'),{mins:e}):(0,r.nk)(t._('{{hrs}}h {{mins}} min', 'recipe.time', 'recipe time. mins: recipe duration in minutes. hrs: recipe duration in hours'),{mins:e%60,hrs:Math.floor(e/60)})}},780280:function(e,t,n){"use strict";n.d(t,{B:function(){return y},LC:function(){return f},P2:function(){return p},fH:function(){return m},gf:function(){return h}});var r=n(76911),i=n(608832),o=n(239745),a=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=(0,r.createContext)();function p(e){var t,n=e.children,l=e.initialValue,s=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(l))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=s[0],f=s[1],m=(0,r.useMemo)(function(){return{requestContext:p,updateRequestContext:function(e){var t=u(u({},p),e);(0,o.Z)(p,e)||f(t),(0,i.J)(t)}}},[p]);return(0,a.jsx)(d.Provider,{value:m,children:n})}var f=function(e){var t=e.children,n=(0,r.useContext)(d);if(!n)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return t(n.requestContext)},m=function(e){var t=e.children,n=(0,r.useContext)(d);if(!n)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return t(n.requestContext)};function y(){var e=(0,r.useContext)(d);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function h(){var e=(0,r.useContext)(d);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},608832:function(e,t,n){"use strict";var r;function i(e){r=e}function o(){return r}n.d(t,{J:function(){return i},l:function(){return o}})},505920:function(e,t,n){"use strict";n.d(t,{UZ:function(){return v},Z8:function(){return b},my:function(){return _}});var r=n(76911);n(506979);var i=n(214494),o=n(425288),a=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){var r;return(r=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===l(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n){var r,i,o=[].concat(function(e){if(Array.isArray(e))return p(e)}(r=null!==(i=t[e][n.payload.name])&&void 0!==i?i:[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||d(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n.payload.handler]),a=u({},t);return a[e]=u(u({},t[e]),{},c({},n.payload.name,o)),a}function m(e,t,n){if(!t[e][n.payload.name])return t;var r=t[e][n.payload.name].filter(function(e){return e!==n.payload.handler}),i=u({},t);return i[e]=u(u({},t[e]),{},c({},n.payload.name,r)),i}var y=(0,o.Z)("ResourceContext"),h=y.Provider,g=y.useHook;function v(e){var t,n=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(function(e,t){switch(t.type){case"addListener":return f("listeners",e,t);case"addMoreListener":return f("moreListeners",e,t);case"removeListener":return m("listeners",e,t);case"removeMoreListener":return m("moreListeners",e,t);default:return e}},{listeners:{},moreListeners:{}}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||d(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=o[0],s=l.listeners,u=l.moreListeners,c=o[1];i.Z.fetchCompleteCallback=function(e){var t=e.resource,n=e.options,r=e.response,i=e.normalizedResponse,o=e.refresh,a=e.resourceSchema;s[t]&&s[t].forEach(function(e){return e({isRefresh:o,normalizedResponse:i,options:n,schema:a,resource:t,response:r})})},i.Z.fetchMoreCompleteCallback=function(e){var t=e.resource,n=e.options,r=e.response,i=e.normalizedResponse,o=e.refresh,a=e.resourceSchema;u[t]&&u[t].forEach(function(e){return e({isRefresh:o,normalizedResponse:i,options:n,schema:a,resource:t,response:r})})};var p=(0,r.useMemo)(function(){return{listenerDispatch:c}},[]);return(0,a.jsx)(h,{value:p,children:n})}function b(e,t){var n=g().listenerDispatch;(0,r.useEffect)(function(){return n({type:"addListener",payload:{name:e,handler:t}}),function(){n({type:"removeListener",payload:{name:e,handler:t}})}})}function _(e,t){var n=g().listenerDispatch;(0,r.useEffect)(function(){return n({type:"addMoreListener",payload:{name:e,handler:t}}),function(){n({type:"removeMoreListener",payload:{name:e,handler:t}})}})}},784590:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(76911),i=n(506979),o=n(599689),a=n(886858),l=n(780280),s=n(248327),u=n(718368);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p={},f=function(e){var t=e.httpStatus;return!t||t>=500};function m(e){var t,n=null!=e?e:{name:"DisabledResource",options:null},m=n.enabledRouteRefresh,y=n.__unstableEnableSuspenseSupport,h=n.headers,g=n.name,v=n.noCache,b=n.options,_=n.schema,x=!e,P=(0,i.useDispatch)(),S=(0,a.Z)(b),j=(0,r.useRef)(null),w=(0,r.useRef)(),O=(0,o.useHistory)(),A=O&&"POP"!==O.action,k=function(e){return(e[g]||p)[S]||p},C=(0,i.useSelector)(function(e){return k(e.resources).nextBookmark}),D=(0,i.useSelector)(function(e){return k(e.resources).data}),E=(0,i.useSelector)(function(e){return k(e.resources).auxData}),I=(0,i.useSelector)(function(e){return k(e.resources).error}),T=(0,i.useSelector)(function(e){return!!k(e.resources).fetching}),R="object"===d(E)&&"string"==typeof(null==E?void 0:E.pagination_group)?E.pagination_group:void 0,F=!!I||void 0!==D,L=F&&!T&&C===u.q,z=!!(F&&m&&A&&!x),M=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(z))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),B=M[0],N=M[1],Z=(0,r.useCallback)(function(e,t){j.current=P((0,s.U)(g,{options:b,schema:_,bookmark:e,headers:h,paginationGroup:t}))},[P,g,S,_,h]),U=function(){j.current=P((0,s.b)(g,{options:b,schema:_,headers:h}))},K=(0,l.B)().isBot,H=function(){if(!x&&w.current!==S){var e=void 0===w.current;w.current=S,!F&&!T||e&&I&&f(I)?Z():(!K&&v||z)&&U()}};(0,r.useEffect)(function(){y||H()}),y&&H();var V=(0,r.useCallback)(function(){x||(U(),N(!0))},[x,s.b,g,S,h,N]),G=(0,r.useCallback)(function(){!C||L||T||x||Z(C,R)},[x,Z,C,L,T,R]);if(j.current){if(F&&!T)j.current=null;else if(y)throw j.current}var W=(0,r.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:G,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:V}),q={auxData:E,data:D,error:I,fetchMore:G,isAtEnd:L,isFetching:T,isLoaded:F,isRefreshing:B,nextBookmark:C,refresh:V};return(0,i.shallowEqual)(q,W.current)||(B&&(W.current.data||!z)&&!(0,i.shallowEqual)(q.data,W.current.data)&&(q.isRefreshing=!1,N(!1)),W.current=q),W.current}},134185:function(e,t,n){"use strict";var r=n(515198);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}t.Z=function(e){var t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,r.jsx)("div",a(a({"data-test-id":"rich-pin-information"},t),{},{children:e.children||null}))}},736688:function(e,t,n){"use strict";n.d(t,{QO:function(){return l},V3:function(){return o},cO:function(){return c},dn:function(){return s},fP:function(){return u},zP:function(){return a}});var r=n(841726),i=n(867820),o=function(e){var t=e||{},n=t.thumbnail,r=t.url,i=t.width,o=t.height,a=t.duration;return n&&r&&i&&o&&{thumbnail:n,url:r,width:i,height:o,duration:a}||void 0},a=function(e){var t=e.isEligible,n=e.hasName,r=e.hasAggregateRating,o=e.hasOffers;(0,i.My)("closeup_main_pin.leaf_snippet.is_product",{isEligible:t,hasName:n,hasAggregateRating:r,hasOffers:o})},l=function(e,t){var n=t.userName,r=t.fullName,i=n||"";return{"@type":"Person",name:r||i,url:e+"/"+i}};function s(e,t,n,i,o,a){n=n.trim();var l,s=(t=t.trim())||a||n||i,u=function(){return t||o};if(!e||!e.metatags)return{title:s,description:n||u()};var c=e.metatags.description;return{title:s,description:(l=void 0===c?"":c,(0,r.o)(l||"").trim()||u())}}var u=function(e,t,n){var r=t;return n?{fallbackTitle:r="recipe"===e?n._('Pinterest Recipe', 'pin.closeup.leafsnippet.recipe', 'Default recipe title and description for crawlers'):"howto"===e?n._('Pinterest How To', 'pin.closeup.leafsnippet.howto', 'Default how to title and description for crawlers'):"video"===e?n._('Pinterest Video', 'pin.closeup.leafsnippet.video', 'Default video title and description for crawlers'):"product"===e?n._('Pinterest Product', 'pin.closeup.leafsnippet.product', 'Default product title and description for crawlers'):n._('Pin page', 'pin.closeup.leafsnippet.pin', 'Default pin title and description for crawlers'),fallbackDescription:r}:{fallbackTitle:r,fallbackDescription:r}},c=function(e){if(!(!e||!(e.ratingCount||e.reviewCount)||Number.isNaN(parseFloat(e.ratingValue)))){var t=e.ratingCount||e.reviewCount;return{"@type":"AggregateRating",ratingValue:e.ratingValue,ratingCount:t,bestRating:5,worstRating:1}}}},995228:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(76911),i=n(515198);function o(e){var t=e.children,n=e.fallback;return(0,i.jsx)(r.Suspense,{fallback:n||null,children:t})}},947599:function(e,t,n){"use strict";var r=n(995228);t.Z=r.Z},251183:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(77601);function i(e){var t=e.scrollPosition,n=e.containerSize,r=e.contentSize,i=e.intendedDistance,o=e.extendToEdgeDistance,a=void 0===o?0:o,l=r-n,s=i;return s=Math.max(s=Math.min(s,l-t),-t),i>0&&l-(t+s)<=a?s=l-t:i<0&&t+s<=a&&(s=-t),s}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s={easingFunction:"ease-in-out",extendToEdgeDistanceX:0,extendToEdgeDistanceY:0,scrollSpeedPxPerMs:1.2,minScrollDuration:200},u={linear:function(e){return e},"ease-in":function(e){return e*e},"ease-out":function(e){return e*(2-e)},"ease-in-out":function(e){return e<.5?2*e*e:-1+(4-2*e)*e}};function c(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=l(l({},s),o),c=e.scrollLeft,d=e.scrollTop,p=e.scrollWidth,f=e.scrollHeight,m=e.clientWidth,y=e.clientHeight,h=i({scrollPosition:c,containerSize:m,contentSize:p,intendedDistance:t,extendToEdgeDistance:a.extendToEdgeDistanceX}),g=i({scrollPosition:d,containerSize:y,contentSize:f,intendedDistance:n,extendToEdgeDistance:a.extendToEdgeDistanceY}),v=Math.max(Math.abs(Math.floor(h/a.scrollSpeedPxPerMs)),Math.abs(Math.floor(g/a.scrollSpeedPxPerMs)));a.minScrollDuration&&(v=Math.max(v,a.minScrollDuration));var b=u[a.easingFunction]||u["ease-in-out"];return(0,r.Z)({window:window,duration:v,run:function(t){e.scrollLeft=c+h*b(t),e.scrollTop=d+g*b(t),1===t&&a.onAnimationComplete&&setTimeout(a.onAnimationComplete,0)}})}},304903:function(e,t,n){"use strict";function r(e){return e===window?window.innerHeight:e.clientHeight}function i(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function o(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function a(e){return e===window?i():e.scrollTop}function l(){window&&window.scroll(0,0)}n.d(t,{MX:function(){return a},S$:function(){return i},Uy:function(){return r},aZ:function(){return o},vM:function(){return l}})},940589:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(643913);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){var t=e.query,n=e.rs,a=e.scope,l=e.guideAdded,s=e.filters,u=e.user,c=e.requestParams;if(!t)return"/";var d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({q:t,rs:n},c);if(s&&(d.filters=s),u&&(d.user=u),l&&l.term&&(d.add_refine="".concat(l.term,"|guide|word|").concat(l.index)),window.location.pathname.startsWith("/explore"))return"/search/pins/?".concat((0,r.Z)(d));var p=a;return["pins","buyable_pins","my_pins","boards","users","idea_pins"].includes(p)||(p="pins"),p?"/search/".concat(p,"/?").concat((0,r.Z)(d)):"".concat(window.location.pathname,"?").concat((0,r.Z)(d))}},391143:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(613316),i=n(643913);function o(e){var t=e.bubbleId,n=e.pinId,o=e.query,a=e.referringSource,l=e.storyCategory,s=e.storyId,u=e.title,c=[0,24,21,26].includes(l),d=(0,i.Z)({q:o,rs:a||void 0,b_id:t,source_id:s,top_pin_id:n}),p=c&&u?(0,r.x)({title:u,id:t,articleType:"discover"}):"/discover/article/".concat(t,"/");return c?p:"/search/pins/".concat(d?"?"+d:"")}},595371:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var r={AC:"ac",AUTOCOMPLETE:"autocomplete",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",VANILLA_GUIDE:"guide",VIDEO:"video"}},80816:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var r={REGISTRATION:"registration",SETTINGS:"settings",GOOGLE_PEOPLE_API:"google_people_api",HOLISTIC_PROFILE_PROMPT:"holistic_profile_prompt",IN_APP_BIRTHDAY_PROMPT:"in_app_birthday_prompt",FIX_EMAIL_PROMPT:"fix_email_prompt",NUX:"nux",UNKNOWN:"unknown"}},239745:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(Object.is(e,t))return!0;if("object"!==r(e)||null===e||"object"!==r(t)||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(function(n){return e[n]===t[n]})}n.d(t,{Z:function(){return i}})},53325:function(e,t,n){"use strict";n.d(t,{GZ:function(){return r},OE:function(){return i},zX:function(){return o}});var r=246,i=197,o=236},458882:function(e,t,n){"use strict";n.d(t,{l:function(){return o},r:function(){return a}});var r=n(76911),i=(0,r.createContext)(null),o=function(){return(0,r.useContext)(i)},a=i.Provider},667679:function(e,t,n){"use strict";var r=n(780679),i=n(458882);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}t.Z=function(){var e=(0,r.g)(),t=(0,i.l)();return function(n){var r=n.mobileOptions,i=n.desktopOptions,l=n.reason,s=n.attributionLabel,u=n.pinId;e?e.showDesktopSignupModal(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({signupFlow:(null==i?void 0:i.modalType)==="login"?{type:"login"}:{type:"signup"},reason:l,attributionLabel:s},null==i?void 0:i.modalOptions)):t&&t.showMobileSignupModal({reason:l,attributionLabel:s,headingType:null==r?void 0:r.headingType,pinId:u})}}},223815:function(e,t,n){"use strict";n.d(t,{U:function(){return a},Z:function(){return l}});var r=n(755742),i=n(515198),o=function(){},a=function(e){e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function l(e){var t=e.allowClickAndDrag,n=e.allowEsc,l=e.allowMediaPlay,s=e.allowScroll,u=e.children,c=function(e){n&&e.keyCode===r.Z.ESCAPE||a(e)};return(0,i.jsx)("div",{onAbort:a,onAnimationEnd:a,onAnimationIteration:a,onAnimationStart:a,onBlur:o,onCanPlay:l?o:a,onCanPlayThrough:a,onChange:a,onClick:t?o:a,onCompositionEnd:a,onCompositionStart:a,onCompositionUpdate:a,onContextMenu:a,onCopy:a,onCut:a,onDoubleClick:a,onDurationChange:a,onEmptied:a,onEncrypted:a,onEnded:a,onError:a,onFocus:o,onInput:a,onInvalid:a,onKeyDown:c,onKeyPress:c,onKeyUp:c,onLoad:a,onLoadedData:a,onLoadedMetadata:a,onLoadStart:a,onMouseDown:a,onMouseEnter:a,onMouseLeave:a,onMouseMove:t?o:a,onMouseOut:a,onMouseOver:a,onMouseUp:t?o:a,onPaste:a,onPause:a,onPlay:a,onPlaying:a,onProgress:a,onRateChange:a,onScroll:s?o:a,onSeeked:a,onSeeking:a,onSelect:a,onStalled:a,onSubmit:a,onSuspend:a,onTimeUpdate:a,onTouchCancel:a,onTouchEnd:t?o:a,onTouchMove:t?o:a,onTouchStart:t?o:a,onTransitionEnd:a,onVolumeChange:a,onWaiting:a,onWheel:a,children:u})}},764537:function(e,t,n){"use strict";n.d(t,{l3:function(){return eS},hy:function(){return ex},ZP:function(){return eA}});var r=n(76911),i=n(599689),o=n(908390),a=n(459263),l=n(386352),s=n(233316),u=n(860507),c=n(898781),d=n(224496),p=n(430323),f=n(515198);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t,n,i=e.activePageIndex,a=e.closeupStoryPinViewability,y=e.customEndCard,h=e.fontsLoaded,g=e.hideMute,v=e.isActive,b=e.isPreview,_=e.muteVideos,x=e.onChangeMuteVideo,P=e.onEnded,S=e.onFlyoutOpen,j=e.onUpdateVideoInfo,w=e.ownerId,O=e.page,A=e.pageAspectRatio,k=e.pageHeight,C=e.pageIndex,D=e.pageWidth,E=e.pinId,I=e.productPins,T=e.shouldLogTimeSpent,R=e.stillLoading,F=void 0!==R&&R,L=e.videoPinProgress,z=e.viewParameter,M=e.viewType,B=(0,c.ZP)(),N=(0,u.Z)(),Z=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),U=Z[0],K=Z[1],H=(O.style||{}).background_color,V=(0,s.Z)({storyPinBlocks:null!==(n=O.blocks)&&void 0!==n?n:[]}),G=V.nonRenderableBlocks,W=V.blocks,q=!!W.find(function(e){return e.type===d.h8.VIDEO}),Y=!!W.find(function(e){return!!e.video&&e.type===d.h8.VIDEO&&e.video_signature}),X=G.find(function(e){return e.type===d.h8.MUSIC}),$=(null==X?void 0:X.type)==="story_pin_music_block"?X.provider_recording_id:void 0,Q=function(){return(0,f.jsx)(o.iP,{fullHeight:!0,onMouseEnter:function(){return K(!0)},onMouseLeave:function(){return K(!1)},children:(0,f.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{background:H||"#fff"}},height:"100%",children:[!b&&W.filter(function(e){return!q||Y||e.type===d.h8.VIDEO}).map(function(e,t){var n,r,o=(I||[]).find(function(t){return[t.id,t.cacheable_id].includes(e.pin_id)});return(0,f.jsx)(l.ZP,{activePageIndex:i,customEndCard:y,block:e,closeupStoryPinViewability:a,disableProductStickers:N,fontsLoaded:h,isActive:v,isSplitLayout:3===O.layout,musicRecordingId:$,muteVideos:_,ownerId:w,onEnded:P,onFlyoutOpen:S,videoPinProgress:L,onUpdateVideoInfo:j,pageAspectRatio:A,pageIndex:C,pageHeight:k,pageWidth:D,pinId:E,pinKey:null!=o?{type:"deprecated",data:o}:null,stillLoading:F},"".concat(null!==(n=O.id)&&void 0!==n?n:"","-").concat(null!==(r=e.type)&&void 0!==r?r:"","-").concat(t))}),!g&&!b&&Y&&(U||_)?(0,f.jsx)(o.xu,{bottom:!0,left:!0,padding:4,position:"absolute",children:_?(0,f.jsx)(o.hU,{accessibilityLabel:B._('Click to unmute', 'closeup.storyPin.storyPinVideo.volume', 'Button to unmute the video'),bgColor:"white",icon:"mute",iconColor:"darkGray",onClick:function(){x(!1)},size:"md"}):(0,f.jsx)(o.hU,{accessibilityLabel:B._('Click to mute', 'closeup.storyPin.storyPinVideo.volume', 'Button to mute the video'),bgColor:"white",icon:"sound",iconColor:"darkGray",onClick:function(){return x(!0)},size:"md"})}):null]})})};return void 0===T||T?(0,f.jsx)(p.Z,{view:M,viewParameter:z,component:0===C?227:228,auxData:{story_pin_page_id:C},shouldUseGrandparentId:!0,children:Q()}):Q()}var h=n(182750),g=n(506979),v=n(287072),b=n(357787),_=n(350118),x=(0,b.Z)(function(e){var t=(0,c.ZP)(),n=e.sourceUrl,r=e.linkText,i=e.displayUrl,a=e.image,l=e.pageId,s=e.canonicalUrl,u=e.pinId,d=e.onTouch,p=e.onClickThrough,m=e.isLoading,y={story_pin_page_id:l,story_pin_data_id:(0,g.useSelector)(function(t){var n,r;return e.pinId&&(null===(n=t.pins)||void 0===n?void 0:null===(r=n[e.pinId])||void 0===r?void 0:r.story_pin_data_id)}),src_url:n,canonical_url:s},h=function(){p&&p({auxData:y})},b=(0,f.jsxs)(o.xu,{display:"flex",rounding:2,overflow:"hidden",alignItems:"center",borderStyle:"sm",children:[(0,f.jsx)(o.xu,{minWidth:80,width:80,height:80,flex:"none",display:"flex",alignItems:"center",justifyContent:"center",color:m||a&&a.url?void 0:"secondary",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid lightGray"}},children:m?(0,f.jsx)(o.$j,{accessibilityLabel:t._('Loading website', 'a11y for loading spinner', 'a11y for loading spinner'),show:!0}):function(e){if(a&&a.url){var n,r;return(0,f.jsx)(o.Ee,{fit:"cover",src:a.url,alt:e,naturalHeight:null!==(n=a.height)&&void 0!==n?n:1,naturalWidth:null!==(r=a.width)&&void 0!==r?r:1})}return(0,f.jsx)(o.JO,{icon:"link",accessibilityLabel:t._('Default link block icon', 'Icon for default link blocks without an image', 'Icon for default link blocks without an image'),color:"subtle",size:35})}(r)}),(0,f.jsxs)(o.xu,{paddingX:5,flex:"grow",overflow:"hidden",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},children:[(0,f.jsx)(o.xv,{lineClamp:1,weight:"bold",children:r}),(0,f.jsx)(o.xv,{size:"200",color:"shopping",children:i})]})]}),x=(0,_.S6)()(u),P=(0,v.Z)({href:n,target:"blank",externalData:x?{pin:x&&{attributionSourceId:x.attribution_source_id,board:x.board&&{url:x.board.url},campaignId:x.campaign_id,entityId:x.id,isDownstreamPromotion:x.is_downstream_promotion,isPromoted:x.is_promoted,pinner:x.pinner&&{username:x.pinner.username},pinPromotionId:x.pin_promotion_id,promoter:x.promoter&&{entityId:x.promoter.id},storyPinDataId:x.story_pin_data_id,trackingParams:x.tracking_params,trackingParamsMap:x.tracking_params_map,advertiserId:x.advertiser_id}}:void 0});return d?(0,f.jsx)(o.iP,{onTap:d,rounding:2,children:b}):(0,f.jsx)(o.Tg,{href:n,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),h(),P({event:t})},rel:"nofollow",rounding:2,target:"blank",children:b})}),P=n(407043),S=function(e){var t,n=e.block,r=e.pageId,i=e.pinId,a=e.onClickThrough,l=(0,P.v)().logContextEvent;switch(n.type){case d.h8.LINK:var s=n.canonical_url,u=n.image,c=n.normalized_url,p=n.src_url,m=n.text,y=null==u?void 0:null===(t=u.images)||void 0===t?void 0:t["345x"];if(u&&p&&c&&s)return(0,f.jsx)(o.xu,{marginTop:5,children:(0,f.jsx)(x,{canonicalUrl:s,displayUrl:c,image:y,linkText:void 0===m?"":m,onClickThrough:a,onVisibilityChanged:function(e){e&&l({event_type:120,view_type:3,view_parameter:157,component:228,element:11157,object_id_str:i,aux_data:{story_pin_page_id:r,srcUrl:p,canonicalUrl:s}})},pageId:r,pinId:i,sourceUrl:p})});return null;case d.h8.HEADING:var g=n.text;return(0,f.jsx)(o.xu,{marginBottom:4,paddingX:2,children:(0,f.jsx)(o.X6,{size:"500",overflow:"normal",accessibilityLevel:2,children:void 0===g?"":g})});case d.h8.PARAGRAPH:var v=n.text;return(0,f.jsx)(o.xu,{paddingX:2,dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},children:(0,f.jsx)(o.xv,{children:(0,f.jsxs)(h.Z,{children:[" ",void 0===v?"":v," "]})})});default:return null}},j=function(e){var t=e.blocks,n=e.pageId,r=e.pinId,i=e.onClickThrough;return(0,f.jsx)("div",{className:"StoryPinText",children:t.filter(function(e){return e}).map(function(e,t){return(0,f.jsx)(S,{block:e,pageId:n,pinId:r,onClickThrough:i},t)})})},w=n(280348);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var A=375*d.ap;function k(e){var t,n,i,a=(0,c.ZP)(),l=e.activePageIndex,s=e.hideText,u=e.isActive,d=e.isCoverPage,p=e.muteVideos,m=e.onClickThrough,y=e.page,h=y.image_adjusted,g=y.image,v=y.blocks,b=y.video,_=y.id,x=e.pageIndex,P=e.pageWidth,S=e.pinId,k=(h||g||{}).images,C=(void 0===k?{}:k)["750x"],D=(b||{}).video_list,E=void 0===D?{}:D,I=E.V_HLSV3_MOBILE||E.V_720P;if(!C&&!I)return null;var T=P/375;return(0,f.jsxs)(r.Fragment,{children:[!!b&&!!I&&(0,f.jsx)(w.Z,{activePageIndex:l,blockHeight:A*T,blockWidth:375*T,isPlaying:u,muted:p,pageIndex:x,pinId:S,video:b}),C&&!I&&(0,f.jsx)(o.Ee,{alt:function(e){var t,n,r,i="",o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(null!==(n=e.blocks)&&void 0!==n?n:[]);try{for(o.s();!(r=o.n()).done;){var a=r.value;[1,0].includes(a.block_type)&&(i=a.text?a.text:"")}}catch(e){o.e(e)}finally{o.f()}return null!==(t=i)&&void 0!==t?t:""}(e.page)||a._('Story pin image', 'Alt text for story pin image', 'Alt text for story pin image'),fit:d?"cover":"contain",naturalHeight:null!==(t=C.height)&&void 0!==t?t:1,naturalWidth:null!==(n=C.width)&&void 0!==n?n:1,src:null!==(i=C.url)&&void 0!==i?i:""}),v&&v.length>0&&!s&&(0,f.jsx)("div",{className:"StoryPinTextDrawer",children:(0,f.jsx)(j,{blocks:v,onClickThrough:m,pageId:_,pinId:S})})]})}var C=function(e){var t,n=e.page,i=n.image_adjusted,a=n.blocks,l=(i||{}).images,s=(void 0===l?{}:l)["750x"];if(!s)return null;var u=s.width,c=s.height;return(0,f.jsx)(r.Fragment,{children:s&&(0,f.jsx)(o.Ee,{src:null!==(t=s.url)&&void 0!==t?t:"",alt:(null!=a?a:[]).map(function(e){return e.text||""}).join(),naturalWidth:null!=u?u:1,naturalHeight:null!=c?c:1,fit:"contain"})})},D=n(441253),E=n(558068),I=n(784590),T=n(488789),R=n(92261),F=n(697335);function L(e){var t=e.children,n=e.closeupStoryPinViewability,r=e.productPins,i=e.viewParameter,o=e.viewType,a=(0,E.Hv)(),l=a.previous,s=a.forward,u=0===l.length&&0===s.length,c=(0,F.t)();return(0,f.jsx)(T.o,{closeupPaneWidth:R.Gg,headerHeight:c,isLandingPage:u,loadFonts:D.Z,renderStoryPinMediaLayout:function(e){var t=e.activePageIndex,n=e.hideText,r=e.isActive,i=e.isCoverPage,o=e.muteVideos,a=e.onClickThrough,l=e.page,s=e.pageIndex,u=e.pageWidth,c=e.pinId;return(0,f.jsx)(k,{activePageIndex:t,hideText:n,isActive:r,isCoverPage:i,muteVideos:o,onClickThrough:a,page:l,pageIndex:s,pageWidth:u,pinId:c})},renderStoryPinSplitLayout:function(e){var t=e.page;return(0,f.jsx)(C,{page:t})},renderStoryPinText:function(e){var t=e.blocks,n=e.onClickThrough,r=e.pageId,i=e.pinId;return(0,f.jsx)(j,{blocks:t,onClickThrough:n,pageId:r,pinId:i})},renderStoryPinPage:function(e){var t=e.activePageIndex,r=e.customEndCard,a=e.fontsLoaded,l=e.isActive,s=e.muteVideos,u=e.onChangeMuteVideo,c=e.onEnded,d=e.onFlyoutOpen,p=e.onUpdateVideoInfo,m=e.page,h=e.pageAspectRatio,g=e.pageHeight,v=e.pageWidth,b=e.ownerId,_=e.pinId,x=e.productPins,P=e.shouldLogTimeSpent,S=e.stillLoading,j=e.videoPinProgress;return(0,f.jsx)(y,{activePageIndex:t,closeupStoryPinViewability:n,fontsLoaded:a,isActive:l,customEndCard:r,muteVideos:s,onChangeMuteVideo:u,onEnded:c,onFlyoutOpen:d,videoPinProgress:j,onUpdateVideoInfo:p,ownerId:b,page:m,pageAspectRatio:h,pageIndex:t,pageHeight:g,pageWidth:v,productPins:x,pinId:_,shouldLogTimeSpent:P,stillLoading:S,hideMute:!0,viewType:o,viewParameter:i})},productPins:r,children:t})}function z(e){var t=e.children,n=e.isInStream,r=e.viewType,i=e.viewParameter;return n?t:(0,f.jsx)(p.Z,{view:r,viewParameter:i,component:85,children:t})}function M(e){var t=e.children,n=e.pin;return t({productPins:(0,I.Z)({name:"StoryPinTaggedProductsResource",options:{id:n.id},noCache:!0}).data||[]})}function B(e){var t,n=e.children,r=e.closeupStoryPinViewability,i=e.pin,o=e.isInStream,a=e.viewType,l=e.viewParameter,s=!!(null!==(t=i.story_pin_data)&&void 0!==t&&t.has_product_pins),u=function(e){var t=e.productPins;return(0,f.jsx)(L,{closeupStoryPinViewability:r,viewType:a,viewParameter:l,productPins:t,children:n})};return(0,f.jsx)(z,{isInStream:void 0!==o&&o,viewType:a,viewParameter:l,children:s?(0,f.jsx)(M,{pin:i,children:u}):u({productPins:[]})})}var N=n(768559),Z=n(827896),U=n(112690),K=n(319915),H=n(543972),V=n(623568),G=n(223008),W=n(692627),q=n(773285),Y=n(276602),X=n(47168),$=n(780280),Q=n(947599),J=n(483205),ee=n(52022);function et(e){var t=e.appConfig,n=(0,c.ZP)(),i=(0,ee.Z)(),a=(0,$.B)().isRTL;return(0,f.jsx)(r.Fragment,{children:(0,f.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:16}},"data-test-id":"back-button",left:!a,paddingX:4,position:"absolute",right:a,top:!0,children:"authDesktop"===t.type&&(0,f.jsx)(o.hU,{accessibilityLabel:n._('Back button', 'storyPin.closeup.back', 'Button label to navigate to previous page'),bgColor:"transparent",icon:"directional-arrow-left",iconColor:"darkGray",onClick:function(){i({action:"click",item:"back-button"}),t.onNavigateBack()},size:"lg"})})})}var en=n(646422),er=n(124364),ei=n(534611),eo=n(775151),ea=n(858416),el=n(700314),es=n(829407),eu=n(179888),ec=n(924114);function ed(e){return(ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==ed(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ed(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ed(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function em(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ey(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ey(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ey(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eh=(0,r.lazy)(function(){return n.e(3434).then(n.bind(n,79214))}),eg=(0,r.lazy)(function(){return n.e(50157).then(n.bind(n,247181))}),ev=(0,r.lazy)(function(){return Promise.all([n.e(97270),n.e(48937),n.e(41007),n.e(22555),n.e(43473)]).then(n.bind(n,666258))}),eb=(0,r.lazy)(function(){return Promise.all([n.e(11177),n.e(24859)]).then(n.bind(n,411177))}),e_=(0,r.lazy)(function(){return n.e(21408).then(n.bind(n,781099))}),ex=128,eP={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"32px 32px 0 0"},eS={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"0 0 32px 32px",bottom:0},ej={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",borderRadius:"32px 32px 0 0",paddingTop:"30px",top:0},ew=[5,6,2];function eO(e){var t,n,i,l,s,u,p,m,y=e.appConfig,h=e.isInFocus,g=e.isInStream,v=void 0!==g&&g,b=e.isStreamMuted,_=e.isStreamPanelOpen,x=void 0===_||_,P=e.pin,S=e.storyPinData,j=e.onIdeaPinCloseupCommentClick,w=e.setStreamIsMuted,O=e.streamItemIndex,A=e.togglePanel,k=e.variant,C=e.viewType,D=void 0===C?3:C,E=e.viewParameterType,I=e.onTogglePanel,R=(0,T.c)(),F=(0,Z.Z)(),L=(0,c.ZP)(),z=(0,U.Z)(),M=(0,X.g)(),B=(0,Y.E)(),N=(0,ec.Ut)(),H=N.setIdeaPinActivePage,ee=N.setIdeaPinDynamicWidth,ed=(0,ec.H8)().activePage,ep=(0,ea.RC)().clearSeekTime,ey=(0,ea.Hx)().seekTimes,eO=R||{},eA=eO.closeupPaneWidth,ek=eO.headerHeight,eC=eO.isLandingPage,eD=eO.renderStoryPinMediaLayout,eE=eO.renderStoryPinPage,eI=eO.renderStoryPinSplitLayout,eT=eO.renderStoryPinText,eR=eO.productPins,eF=P.id,eL=P.image_signature,ez=P.story_pin_data_id,eM=ey&&ey[P.id],eB=!!(null!=S&&S.is_deleted),eN=null===(t=P.native_creator)||void 0===t?void 0:t.id,eZ=S||{},eU=eZ.pages,eK=void 0===eU?[]:eU,eH=eZ.metadata,eV=void 0===eH?{}:eH,eG=eV.canvas_aspect_ratio,eW=eV.version,eq=null!=eG?eG:d.ap,eY=em((0,r.useState)(0),2),eX=eY[0],e$=eY[1],eQ=(0,r.useRef)(0),eJ=(0,r.useRef)(null),e0=em((0,r.useState)("closeup"===k&&h),2),e1=e0[0],e2=e0[1],e8=em((0,r.useState)(375),2),e3=e8[0],e9=e8[1],e6="calc(100% - ".concat(32,"px)"),e5=(0,r.useRef)(null),e7=em((0,r.useState)(!1),2),e4=e7[0],te=e7[1],tt=em((0,r.useState)(!1),2),tn=tt[0],tr=tt[1],ti=em((0,r.useState)(!0),2),to=ti[0],ta=ti[1];(0,r.useEffect)(function(){I&&I(to)},[to,I]),(0,r.useEffect)(function(){ta(x)},[x]);var tl=eK[eX],ts=tl.should_mute,tu=void 0===ts||ts,tc=tl.music_attributions,td=em((0,r.useState)(eC||tu),2),tp=td[0],tf=td[1],tm=void 0!==w?w:tf,ty=void 0!==b?b:tp;(0,r.useEffect)(function(){tu&&tm(!0)},[tu,tm]);var th=eK.filter(function(e){return!ew.includes(e.layout)}),tg=th.length,tv=th[eX],tb=E||(0,W.Z)({hasPin:!!P,hasPinRichMetadata:!!P.rich_metadata,hasPinRichMetadataProducts:!!(null!==(n=P.rich_metadata)&&void 0!==n&&n.products),hasPinRichMetadataArticle:!!(null!==(i=P.rich_metadata)&&void 0!==i&&i.article),hasPinRichMetadataRecipe:!!(null!==(l=P.rich_metadata)&&void 0!==l&&l.recipe),hasPinStoryPinData:!!P.story_pin_data}),t_=ek+64,tx=(0,G.Z)({pinKey:{type:"deprecated",data:P},maxWidth:J.RZ}).getNormalizedPinImage,tP="closeup"===k,tS=function(){if("undefined"!=typeof window){var e,t,n,r,i,o,a,l=window.innerWidth-(to?eA:0)-216;if(tP)e9((t=(e={availableWidth:l,pageAspectRatio:eq,unavailableHeight:t_,windowInnerHeight:window.innerHeight}).availableWidth,n=e.pageAspectRatio,r=e.unavailableHeight,o=(i=e.windowInnerHeight)-r,(a=Math.min(Math.max(650,Math.min((i-r)*n,t)),1e3))/n>=o&&(a=o*n),a));else{var s=tx().width;e9(s),ee(s)}}};(0,es.Z)(function(){return window.addEventListener("resize",tS),tS(),function(){window.removeEventListener("resize",tS)}});var tj=em((0,r.useState)(!1),2),tw=tj[0],tO=tj[1],tA=em((0,r.useState)(null),2),tk=tA[0],tC=tA[1],tD=em((0,r.useState)(!1),2),tE=tD[0],tI=tD[1];(0,r.useEffect)(function(){!tE&&h&&(z({event_type:7588,view_type:D,view_parameter:tb,component:13801,object_id_str:eF,aux_data:ef({},"number"==typeof O?{grid_index:O}:{})}),tI(!0))},[tE,h,z,eF,D,tb,O]);var tT=em((0,r.useState)(!1),2),tR=tT[0],tF=tT[1];(0,r.useEffect)(function(){!tR&&h&&v&&(z({event_type:9314,view_type:D,view_parameter:tb,component:13801,aux_data:{grid_index:O,pin_id:eF,image_signature:eL,creator_id:eN,story_pin_data_id:ez},clientTrackingParams:F(eF,{shouldTrackForPrevLocation:!0})}),tF(!0))},[F,eN,eL,h,v,ez,D,tb,eF,tR,z,O]);var tL=(0,r.useCallback)(function(e){var t=(eK[e]||{}).blocks,n=null==t?void 0:t.find(function(e){return 3===e.block_type});e5.current&&e5.current instanceof el.B7&&(e5.current.clear(),e5.current=null),!n&&h&&(e5.current=new el.B7(function(e){tC({currentTime:e<1?e:1,duration:1})},function(){var t="closeup"===k?e:ed;t<tg-1?(e5.current&&e5.current instanceof el.B7&&(e5.current.clear(),e5.current=null),tN(t+1)):(te(!0),e2(!1))},V.oN))},[h,tg,eK,ed,k]),tz=function(e){tC({currentTime:0,duration:1}),tL(e)};(0,r.useEffect)(function(){eQ.current=eX},[eX]),(0,r.useEffect)(function(){eJ.current=e1},[e1]),(0,es.Z)(function(){return tz(eX),function(){e5.current&&e5.current instanceof el.B7&&eJ.current&&e5.current.clear()}});var tM=function(){B&&(B.addBinaryAnnotation("page.current.index",eX,"I16"),B.addBinaryAnnotation("page.count",eK.length,"I16"),B.addBinaryAnnotation("view.type",D,"I32"),B.addBinaryAnnotation("view.parameter",tb,"I32"))},tB=function(e){B&&B.abort("startNewPwt"),M&&(M.abort("startNewPwt"),M.start(),M.addBinaryAnnotation("page.current.index",e,"I16"),M.addBinaryAnnotation("page.count",eK.length,"I16"),M.addBinaryAnnotation("view.type",D,"I32"),M.addBinaryAnnotation("view.parameter",tb,"I32"))};(0,es.Z)(function(){tM()});var tN=function(e){e1||e2(!0),e4&&te(!1),tz(e),e!==eX&&ep(),e$(e),H(e),tB(e)};(0,r.useEffect)(function(){if(e4&&te(!1),e5.current&&eM){var e=e5.current;e.pause(),e.remaining=V.oN-eM*eu.gJ,tC({currentTime:eM/V.P6,duration:1})}},[eM]),(0,r.useEffect)(function(){H(ed)},[H,ed]),(0,r.useEffect)(function(){"related-products"===k&&(e$(ed),tN(ed))},[ed,k]);var tZ=function(){return e4?13799:0===eX?227:228},tU=function(){eX<tg-1&&(tN(eX+1),z({event_type:101,view_type:D,view_parameter:tb,component:tZ(),element:12261,object_id_str:eF}))},tK=function(){eX===tg-1&&e4?(tN(eX),z({event_type:101,view_type:D,view_parameter:tb,component:tZ(),element:12260,object_id_str:eF})):eX>0&&(tN(eX-1),z({event_type:101,view_type:D,view_parameter:tb,component:tZ(),element:12260,object_id_str:eF}))},tH=function(e){var t=e.keyCode,n=e.srcElement,r=n.isContentEditable||n.contentEditable&&"true"===n.contentEditable;37!==t||r?39!==t||r||tU():tK()};(0,r.useEffect)(function(){return document.addEventListener("keydown",tH),function(){return document.removeEventListener("keydown",tH)}},[eX]);var tV=(0,eo.tq)({hasPin:!!P,pages:eK}),tG=tV.fontsLoaded,tW=tV.mediaDataReceived,tq=eW?(0,el.n4)(eW,"0.8.0"):null,tY=null!=tq&&tq>=0,tX=function(e){var t=0===e.layout;switch(e.layout){case 0:case 1:return eD({activePageIndex:eX,hideText:t,isActive:!0,isCoverPage:t,muteVideos:ty,onClickThrough:y.onClickThrough,page:e,pageIndex:eX,pageWidth:e3,pinId:eF});case 4:return e.blocks.length>0&&eT({blocks:e.blocks,pageId:"text-".concat(eX),page:e,pinId:eF,onClickThrough:y.onClickThrough});case 3:return eI({page:e});default:return null}},t$=function(e){e===tg-1&&(te(!0),e2(!1),H(0)),e===eX&&tU()},tQ=function(e){var t,n;tC({currentTime:null!==(t=null==e?void 0:e.currentTime)&&void 0!==t?t:0,duration:null!==(n=null==e?void 0:e.duration)&&void 0!==n?n:1})},tJ=function(){tr(!0),e2(!1),e5.current&&!e5.current.paused&&e5.current.pause()},t0=function(e){var t,n;return eK[e]?tY?eE({activePageIndex:eX,fontsLoaded:tG,customEndCard:!0,isActive:e===eX&&e1,muteVideos:ty,onChangeMuteVideo:tm,onEnded:t$,onFlyoutOpen:tJ,videoPinProgress:eX===e?tk:void 0,onUpdateVideoInfo:tQ,ownerId:null!==(t=null===(n=P.native_creator)||void 0===n?void 0:n.id)&&void 0!==t?t:"",page:eK[e],pageAspectRatio:eq,pageIndex:e,pageHeight:e3/eq,pageWidth:e3,pinId:P.id,productPins:eR,shouldLogTimeSpent:h,stillLoading:!tW}):tX(tv):null},t1=function(){e2(!1),e5.current&&e5.current.pause(),z({event_type:9324,view_type:D,view_parameter:tb,component:tZ(),object_id_str:eF,aux_data:{story_pin_page_id:eX}})},t2=function(){if(e2(!0),e5.current){var e=e5.current;eM&&eM>0&&ep(),e.resume()}else tk||tz(eX);z({event_type:9323,view_type:D,view_parameter:tb,component:tZ(),object_id_str:eF,aux_data:{story_pin_page_id:eX}})},t8=function(){e4||(tr(!1),e1?t1():t2())};(0,r.useEffect)(function(){"closeup"===k&&(!h||e4||e1?!h&&e1&&t1():t2())},[h,k]),(0,r.useEffect)(function(){"related-products"===k&&t1()},[]);var t3=function(){tN(0)},t9=function(){v&&A?A():ta(!0)},t6=(0,$.B)().isAuthenticated,t5=(0,q.F)().checkExperiment,t7=t6&&t5("auth_plp_hide_back_button").anyEnabled;return(0,f.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:tP?{top:ek,height:"calc(100vh - ".concat(ek,"px)"),position:"sticky",pointerEvents:"none",minHeight:632,zIndex:to?"auto":3}:{}},display:"flex",left:!0,children:[(0,f.jsxs)(o.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},display:"flex",flex:"grow",justifyContent:"center",position:"relative",children:[tP&&(0,f.jsx)(o.xu,{bottom:!0,color:"secondary",left:!0,position:"absolute",right:!0,top:!0}),eB?(0,f.jsx)(er.Z,{height:e3/d.ap,rounding:d.yR,width:e3}):(0,f.jsxs)(r.Fragment,{children:[tW&&(0,f.jsx)(o.xu,{height:1,left:!0,marginTop:-1,overflow:"hidden",position:"absolute",top:!0,width:1,children:function(){for(var e=[],t=1;t<=eK.length;t+=1)eX+t<eK.length&&e.push(t0(eX+t));return e}()}),(0,f.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginLeft:tP?void 0:"".concat(d.YL,"px")}},display:"flex",onMouseLeave:function(){tO(!1)},onMouseOver:function(){return tO(!0)},position:"relative",children:(0,f.jsxs)(o.xu,{paddingX:4,children:[(0,f.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:ef(ef({},eS),{},{flexDirection:"column-reverse"})},display:"flex",height:ex,paddingX:6,position:"absolute",width:e6,zIndex:d.Gf,children:(0,f.jsx)(ei.Z,{activePageIndex:eX,handleMute:function(){tu||tm(!ty)},handlePanelChange:function(){ta(!to)},handlePause:t1,handlePausePlay:t8,handlePlay:t2,handleVideoScrubbingNewPage:function(e){e4&&te(!1),tz(e),e$(e),H(e),tB(e)},handleWatchAgain:t3,isMuted:ty,isPanelOpen:to,isPlaying:e1,onPageSelect:function(e){return tN(e)},pageCount:tg,pages:th,pinId:P.id,progressInfo:tk,showEndCard:e4,showVideoControls:tw,viewParameter:tb})}),(0,f.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:ef(ef({},to?ej:{paddingLeft:"".concat(26,"px"),bottom:0}),{},{marginBottom:to?void 0:"88px"})},"data-test-id":"music-attribution",display:"flex",justifyContent:to?"center":"start",overflow:"hidden",paddingY:to?5:void 0,position:"absolute",width:e3,zIndex:d.Gf,children:(0,f.jsx)(a.Z,{handlePause:t1,handlePlay:t2,musicAttributions:void 0===tc?[]:tc,shouldMute:tu,showEndCard:e4})}),!e4&&!to&&(0,f.jsxs)(o.xu,{alignItems:"start",dangerouslySetInlineStyle:{__style:to?{}:eP},display:"flex",height:ex,justifyContent:"between",padding:4,position:"absolute",top:!0,width:e6,zIndex:d.Gf,children:[(0,f.jsxs)(o.kC,{alignItems:"stretch",direction:"row",children:[!to&&(0,f.jsx)(K.Z,{name:"SafeSuspense_IdeaPinCloseup_IdeaPinSecondarySendButton",children:(0,f.jsx)(Q.Z,{children:(0,f.jsx)(e_,{imageSrc:null!==(s=P.image_url)&&void 0!==s?s:"",pinDescription:null!==(u=P.description)&&void 0!==u?u:"",pinId:P.id})})}),!to&&P.is_eligible_for_aggregated_comments&&(0,f.jsx)(K.Z,{name:"SafeSuspense_IdeaPinCloseup_CommentButton",children:(0,f.jsx)(Q.Z,{children:(0,f.jsx)(eh,{onCommentClick:function(){z({event_type:101,view_type:D,view_parameter:tb,component:13801,element:10944,object_id_str:P.id}),t9(),j&&j();var e=document.getElementById("canonical-card-".concat(P.id));e&&e.scrollIntoView({behavior:"smooth",block:"end"})}})})}),!to&&(0,f.jsx)(K.Z,{name:"SafeSuspense_IdeaPinCloseup_ReactionPickerContainer",children:(0,f.jsx)(Q.Z,{children:(0,f.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"pointer-events-wrapper",children:(0,f.jsx)(eb,{component:13801,iconColor:"white",pinId:P.id,reactionByMe:P.reaction_by_me,showTooltip:!0,viewParameter:tb,viewType:D})})})})]}),!to&&(0,f.jsx)(K.Z,{name:"SafeSuspense_IdeaPinCloseup_PinSaveButton",children:(0,f.jsx)(Q.Z,{children:(0,f.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"pointer-events-wrapper",children:(0,f.jsx)(ev,{isCloseupPin:!0,onClickCallback:function(){z({event_type:101,view_type:D,view_parameter:tb,component:13801,element:0,object_id_str:P.id})},pinKey:{type:"deprecated",data:P},size:"lg",trackingParamsMap:P.tracking_params_map})})})})]}),(0,f.jsx)(o.xu,{"data-test-id":"story-pin-closeup-container",position:"relative",children:(0,f.jsx)(o.iP,{accessibilityLabel:e1?L._('Pause', 'storyPin.closeup.pauseButton.accessibilityLabel', 'Button label for pause tap area'):L._('Play', 'storyPin.closeup.playButton.accessibilityLabel', 'Button label for play tap area'),disabled:e4,onTap:t8,rounding:d.yR,children:(0,f.jsxs)(o.xu,{"data-test-id":"story-pin-closeup-page",height:e3/eq,overflow:"hidden",position:"relative",rounding:d.yR,width:e3,children:[t0(eX),!e4&&!tn&&!eM&&(0,f.jsx)(en.Z,{playing:e1}),"authDesktop"===y.type&&e4&&P.native_creator&&(0,f.jsx)(K.Z,{name:"IdeaPinCloseup_EndCard",children:(0,f.jsx)(Q.Z,{children:(0,f.jsx)(o.xu,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,rounding:d.yR,top:!0,zIndex:d.s5,children:(0,f.jsx)(eg,{imageSrc:null!==(p=P.image_url)&&void 0!==p?p:"",pinDescription:null!==(m=P.description)&&void 0!==m?m:"",pinId:P.id,watchAgain:t3})})})})]})})})]})})]}),!v&&!t7&&tP&&(0,f.jsx)(et,{appConfig:y})]}),to&&tP&&(0,f.jsx)(o.xu,{flex:"none",height:"100%",position:"relative",width:eA,children:"duplo"===y.type&&y.storyPinDetails})]})}function eA(e){var t,n,a,l=e.pin,s=e.viewType,u=void 0===s?3:s,c=e.viewParameterType,d=em((0,r.useState)({isInFocus:!0,viewability:0}),2),m=d[0],y=d[1],h=m.isInFocus,g=m.viewability,v=c||(0,W.Z)({hasPin:!!l,hasPinRichMetadata:!!l.rich_metadata,hasPinRichMetadataProducts:!!(null!==(t=l.rich_metadata)&&void 0!==t&&t.products),hasPinRichMetadataArticle:!!(null!==(n=l.rich_metadata)&&void 0!==n&&n.article),hasPinRichMetadataRecipe:!!(null!==(a=l.rich_metadata)&&void 0!==a&&a.recipe),hasPinStoryPinData:!!l.story_pin_data}),b=(0,i.useLocation)();return(0,f.jsx)(X.T,{children:(0,f.jsx)(H.Z,{onVisibilityChange:function(e){if(e&&e.length>0){var t=e[0].intersectionRatio;y({isInFocus:t>.5,viewability:t})}},options:{threshold:[0,.5,.8,.99,1]},children:function(t){var n,r;return(0,f.jsx)(o.xu,{ref:t,children:(0,f.jsx)(B,{closeupStoryPinViewability:g,pin:l,viewParameter:v,viewType:u,children:h?(0,f.jsx)(p.Z,{clientTrackingParams:(0,N.Z)({boardUrl:null===(n=l.board)||void 0===n?void 0:n.url,location:b,pinId:l.id,pinnerUserName:null===(r=l.pinner)||void 0===r?void 0:r.username,storyPinDataId:l.story_pin_data_id,trackingParams:l.tracking_params,trackingParamsMap:l.tracking_params_map}),component:13801,objectId:l.id,view:u,viewParameter:v,children:(0,f.jsx)(eO,ef({},ef(ef({},e),{},{isInFocus:h})))}):(0,f.jsx)(eO,ef({},ef(ef({},e),{},{isInFocus:h})))})})}})})}},646422:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(76911),i=n(908390),o=n(391254),a=n(224496),l=n(252417),s=n(515198);function u(e){var t=e.playing,n=e.zIndexValue;return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(o.Z,{unsafeCSS:"#story-pin-closeup-pause-play-overlay svg { filter: drop-shadow( 0px 0px 8px rgba(0,0,0,0.1));}"}),(0,s.jsx)(i.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"story-pin-closeup-pause-play-overlay",display:"flex",id:"story-pin-closeup-pause-play-overlay",justifyContent:"center",left:!0,opacity:.8,position:"absolute",right:!0,rounding:a.yR,top:!0,zIndex:n?new i.Ry(n):l.lt,children:!t&&(0,s.jsx)(i.JO,{accessibilityLabel:"Play",color:"light",icon:"play",size:48})})]})}},124364:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(908390),i=n(898781),o=n(515198);function a(e){var t=e.height,n=e.isDenseView,a=e.rounding,l=e.width,s=e.color,u=(0,i.ZP)();return(0,o.jsx)(r.xu,{alignItems:"center",color:s||"default","data-test-id":"unavailable-pin",display:"flex",height:t,justifyContent:"center",overflow:"hidden",position:"relative",rounding:a,width:l,children:(0,o.jsxs)(r.kC,{alignItems:"center",direction:"column",children:[(0,o.jsx)(r.xu,{paddingY:n?2:4,children:(0,o.jsx)(r.JO,{accessibilityLabel:u._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,o.jsx)(r.xv,{weight:"bold",children:u._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!n&&(0,o.jsx)(r.xu,{paddingY:1,children:(0,o.jsx)(r.xv,{children:u._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},534611:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(76911),i=n(908390),o=n(898781),a=n(623568),l=n(773285),s=n(466225),u=n(780280),c=n(654579),d=n(224496),p=n(858416),f=n(50286),m=n(179888),y=n(994320),h=n(515198),g=function(e){var t=e.accessibilityLabel,n=e.dataTestId,r=e.disable,o=e.handleTap,a=e.icon;return(0,h.jsx)(i.xu,{"data-test-id":n,opacity:r?.5:void 0,children:(0,h.jsx)(i.iP,{disabled:r,onTap:o,children:(0,h.jsx)(i.JO,{accessibilityLabel:t,color:"light",icon:a,size:16})})})};function v(e){var t,n,v,b,_=e.activePageIndex,x=e.handlePanelChange,P=e.handlePlay,S=e.handlePause,j=e.handlePausePlay,w=e.handleMute,O=e.handleVideoScrubbingNewPage,A=e.handleWatchAgain,k=e.isPlaying,C=e.isMuted,D=e.isPanelOpen,E=e.pages,I=e.pageCount,T=e.pinId,R=void 0===T?"":T,F=e.progressInfo,L=e.showEndCard,z=e.showVideoControls,M=void 0!==z&&z,B=e.viewParameter,N=e.isStoryPin,Z=void 0===N||N,U=e.captionsUrl,K=e.captionsExpGroup,H=(0,o.ZP)(),V=(F||{}).currentTime,G=(0,p.Hx)().seekTimes,W=(0,u.B)(),q=(0,y.r)(),Y=(0,l.F)().checkExperiment,X=(0,f.HG)(),$=W.isAuthenticated,Q=q.captionsEnabled,J=E[_],ee=(J||C).should_mute,et=Object.keys(G).includes(R)&&G[R]?G[R]:V,en=(0,r.useMemo)(function(){return E.map(function(e){var t,n,r,i,o,l,s,u=null===(t=e.blocks)||void 0===t?void 0:t.find(function(e){return 3===e.block_type}),c=(null==u?void 0:null===(n=u.video)||void 0===n?void 0:null===(r=n.video_list)||void 0===r?void 0:null===(i=r.V_HLSV3_MOBILE)||void 0===i?void 0:i.duration)||(null==u?void 0:null===(o=u.video)||void 0===o?void 0:null===(l=o.video_list)||void 0===l?void 0:null===(s=l.V_720P)||void 0===s?void 0:s.duration);return c?{duration:c,isVideo:!0}:{duration:a.oN,isVideo:!1}})},[E]),er=[{duration:(null==F?void 0:F.duration)||0,isVideo:!0}],ei=Z?en:er,eo=null===(t=(J&&(null===(b=J.blocks)||void 0===b?void 0:b[0])||{}).video)||void 0===t?void 0:null===(n=t.video_list)||void 0===n?void 0:null===(v=n.V_HLSV3_MOBILE)||void 0===v?void 0:v.captions_urls,ea=!1;(eo&&0!==Object.keys(eo).length||(void 0===U?"":U))&&(ea=!0);var el=Z&&ea&&X?Y($?"auth_desktop_idea_pin_captions":"unauth_desktop_idea_pin_captions").group:"",es=(void 0===K?"":K)||el,eu=(0,s.Z)(es),ec=(0,r.useMemo)(function(){return ei.reduce(function(e,t){return e+(t.duration||0)},0)/(Z?m.gJ:1)},[ei,Z]),ed=(0,r.useMemo)(function(){return ei.filter(function(e,t){return t<_}).reduce(function(e,t){return e+(t.duration||0)},0)/m.gJ},[ei,_]),ep=ei.length>0&&ei[_].isVideo?et+ed:5*V+ed,ef=H._('Hide captions', 'gestalt.video.accessibilityHideCaptionsLabel', 'ARIA label for hide captions button'),em=H._('Show captions', 'gestalt.video.accessibilityShowCaptionsLabel', 'ARIA label for show captions button');return(0,h.jsxs)(i.xu,{alignContent:"evenly",alignItems:"baseline",dangerouslySetInlineStyle:{__style:{gap:"18.5px",pointerEvents:"auto"}},direction:"column",display:"flex",justifyContent:"between",width:"100%",children:[(0,h.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:M||!k?1:0,transition:"all .1s"}},direction:"row",display:"flex",justifyContent:"between",width:"99%",children:[(0,h.jsxs)(i.kC,{alignItems:"center",direction:"row",gap:5,children:[(0,h.jsx)(g,{accessibilityLabel:k?H._('Pause', 'closeup.IdeaPinVideo.Pause', 'Pause button on Idea Pin video'):H._('Play', 'closeup.IdeaPinVideo.Play', 'Play button on Idea Pin video'),dataTestId:"story-pin-closeup-".concat(k?"pause":"play"),handleTap:L&&A?A:j,icon:k?"pause":"play"}),F&&(0,h.jsxs)(i.xu,{"data-test-id":"time-display",children:[(0,h.jsx)(i.xv,{align:"end",color:"inverse",inline:!0,overflow:"normal",size:"300",weight:"bold",children:"".concat((0,d.Lc)(ep))})," ",(0,h.jsx)(i.xu,{display:"inlineBlock",opacity:.6,children:(0,h.jsx)(i.xv,{align:"end",color:"inverse",inline:!0,overflow:"normal",size:"300",weight:"bold",children:"/ ".concat((0,d.Lc)(ec))})})]})]}),(0,h.jsxs)(i.kC,{direction:"row",gap:5,children:[(es.startsWith("enabled_captions")||es.startsWith("employees"))&&ea&&(0,h.jsx)(g,{accessibilityLabel:Q?em:ef,dataTestId:"story-pin-closeup-captions",handleTap:function(){q.setCaptionsEnabled(!Q)},icon:Q?"captions":"captions-outline"}),(0,h.jsx)(g,{accessibilityLabel:C?H._('Unmute', 'closeup.IdeaPinVideo.unmute', 'Unmute button on Idea Pin video'):H._('Mute', 'closeup.IdeaPinVideo.mute', 'Mute button on Idea Pin video'),dataTestId:"story-pin-closeup-".concat(C?"unmute":"mute"),disable:ee,handleTap:w,icon:C?"mute":"sound"}),(0,h.jsx)(g,{accessibilityLabel:D?H._('Maximize', 'closeup.IdeaPinVideo.maximize', 'Maximize button on Idea Pin video'):H._('Minimize', 'closeup.IdeaPinVideo.minimize', 'Minimize button on Idea Pin video'),dataTestId:"story-pin-closeup-".concat(D?"maximize":"minimize"),handleTap:x,icon:D?"maximize":"minimize"})]})]}),(0,h.jsx)(c.ZP,{activePageCurrentTime:et,activePageIndex:_,currentTime:ep,duration:ec,handlePause:S,handlePlay:P,handleVideoScrubbingNewPage:O,isPlaying:k,pageCount:I,pageDurations:ei,pinId:R,progressInfo:F,shouldShowPlayhead:!0,showEndCard:L,showVideoControls:M,videoControlsExp:eu,videoDurations:ei,viewParameter:B})]})}},654579:function(e,t,n){"use strict";n.d(t,{$E:function(){return b},$:function(){return _},ZP:function(){return S}});var r=n(76911),i=n(908390),o=n(112690),a=n(898781),l=n(773285),s=n(780280),u=n(623568),c=n(179888),d=n(515198);function p(e){var t,n,r=e.activePageCurrentTime,o=e.pillHeight,a=e.progressInfo,l=e.videoDuration,s=null!==(t=null==a?void 0:a.currentTime)&&void 0!==t?t:0,p=null!==(n=null==a?void 0:a.duration)&&void 0!==n?n:u.P6,f="".concat(null!=l&&l.isVideo?Math.floor(1e4*(r||s)/(l.duration/c.gJ))/100:s/p*100,"%");return(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:b}},height:o,overflow:"hidden",rounding:"pill",children:(0,d.jsx)(i.xu,{color:_,dangerouslySetInlineStyle:{__style:{width:f}},height:"100%",rounding:"pill"})})}var f=n(224496),m=n(858416),y=n(50286),h=n(19121);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b="rgba(255,255,255,0.24)",_="light",x=function(){},P=function(e){var t=e.children,n=e.setHoveringChange,r=e.handleMouseDown,o=e.handleMouseLeave,l=e.handleTouchStart,s=e.playhead,u=e.isPlaying,c=e.showVideoControls,p=e.videoControlsExp,f=(0,a.ZP)(),m=!(0,y.HG)();return p?(0,d.jsx)(i.iP,{children:(0,d.jsx)(i.xu,{ref:s,alignItems:"center","aria-label":f._('Video scrubber progress bar', 'ideaPin.closeupvideo.videoScrubberLabel', 'Accessibility label for video scrubber progress bar on video idea pins.'),dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",touchAction:"none"}},"data-test-id":"bullet-video-progress-bar",display:"flex",flex:"grow",justifyContent:m?"center":"start",marginBottom:m?0:6,minHeight:"8px",onFocus:n(!0),onMouseDown:r,onMouseLeave:o,onMouseOver:n(!0),onTouchEnd:function(e){return e.preventDefault()},onTouchStart:l,opacity:p&&(c||!u)?1:0,paddingY:m?6:0,position:"relative",role:"progressbar",width:"100%",children:t})}):(0,d.jsx)(i.xu,{ref:s,alignItems:"center","aria-label":f._('Video scrubber progress bar', 'ideaPin.closeupvideo.videoScrubberLabel', 'Accessibility label for video scrubber progress bar on video idea pins.'),dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",touchAction:"none"}},"data-test-id":"bullet-video-progress-bar",display:"flex",flex:"grow",justifyContent:m?"center":"start",marginBottom:m?0:6,minHeight:"8px",onFocus:n(!0),onMouseDown:r,onMouseLeave:o,onMouseOver:n(!0),onTouchEnd:function(e){return e.preventDefault()},onTouchStart:l,paddingY:m?6:0,position:"relative",role:"progressbar",width:"100%",children:t})};function S(e){var t=e.activePageIndex,n=e.activePageCurrentTime,a=e.pageCount,u=e.progressInfo,c=e.showEndCard,f=e.duration,v=void 0===f?0:f,b=e.currentTime,S=e.pageDurations,w=void 0===S?[]:S,O=e.handlePlay,A=void 0===O?x:O,k=e.handlePause,C=void 0===k?x:k,D=e.handleVideoScrubbingNewPage,E=void 0===D?x:D,I=e.videoDurations,T=void 0===I?[]:I,R=e.viewParameter,F=e.isInactiveStreamPin,L=void 0!==F&&F,z=e.isPlaying,M=void 0!==z&&z,B=e.setVideoProgress,N=e.shouldShowPlayhead,Z=e.showVideoControls,U=void 0===Z||Z,K=e.pinId,H=void 0===K?"":K,V=e.videoControlsExp,G=void 0!==V&&V,W=!(0,y.HG)(),q=(0,r.useRef)(null),Y=(0,l.F)().checkExperiment,X=(0,s.B)().isRTL,$=g((0,r.useState)(!1),2),Q=$[0],J=$[1],ee=g((0,r.useState)(M),2),et=ee[0],en=ee[1],er=g((0,r.useState)(),2),ei=er[0],eo=er[1],ea=(0,o.Z)(),el=(0,m.Hx)().isSeekingIdeaPin,es=(0,m.RC)(),eu=es.updateSeekTime,ec=es.updateSeekingIdeaPin,ed=(0,h.Z)().isAuth,ep=(0,r.useCallback)(function(e,n){if(!L&&n<=a){if(n!==t&&E(n),B){var r;B({currentTime:e/1e3,duration:T[n].isVideo?null!==(r=null==u?void 0:u.duration)&&void 0!==r?r:1:5,pinId:H})}eu(e/1e3,H)}ea({event_type:101,view_type:3,view_parameter:R,component:14302})},[t,E,L,ea,a,H,null==u?void 0:u.duration,B,eu,T,R]),ef="".concat((void 0===b?0:b)/v*100,"%"),em=w.map(function(e){return"".concat((e.duration||0)/v/10,"%")}),ey=(0,r.useMemo)(function(){var e=0;return w.map(function(t){var n=t.duration+e,r={min:e,max:n};return e=n,r})},[w]),eh=W&&Y(ed?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,eg=Q?"0 1.2px":"0 1px",ev=function(e){return function(){return J(e)}},eb=(0,r.useCallback)(function(e){if(q.current){var t=q.current.getBoundingClientRect(),n=t.left,r=t.right,i=t.width,o=void 0===i?0:i,a=(X?Math.max(0,Math.min(((void 0===r?0:r)-e)/o,1)):Math.max(0,Math.min((e-(void 0===n?0:n))/o,1)))*v*1e3,l=ey.findIndex(function(e){return a>=e.min&&a<=e.max});ep(a-ey[-1!==l?l:0].min,0)}},[v,ep,ey,X]),e_=function(){el||(en(M||c),ec(!0))},ex=(0,r.useCallback)(function(e){el&&eb(e.pageX)},[eb,el]),eP=(0,r.useCallback)(function(e){if(el){e.preventDefault();var t=Array.from(e.changedTouches).find(function(e){return e.identifier===ei});t&&eb(t.pageX)}},[el,eb,ei]),eS=(0,r.useCallback)(function(){ec(!1),ev(!1),eo(void 0),et&&A()},[ec,A,et]),ej=(0,r.useCallback)(function(e){Array.from(e.changedTouches).find(function(e){return e.identifier===ei})&&(ec(!1),ev(!1),eo(void 0)),et&&A()},[A,et,ei,ec]);return(0,r.useEffect)(function(){return el&&!L&&(window.addEventListener("mousemove",ex),window.addEventListener("mouseup",eS),window.addEventListener("touchmove",eP),window.addEventListener("touchend",ej)),function(){window.removeEventListener("mousemove",ex),window.removeEventListener("mouseup",eS),window.removeEventListener("touchmove",eP),window.removeEventListener("touchend",ej)}},[ex,eS,ej,eP,L,el,eb,ei]),(0,d.jsxs)(P,{handleMouseDown:function(e){e_(),M&&C(),eb(e.pageX)},handleMouseLeave:function(){ev(!1)},handleTouchStart:function(e){e_(),ev(!0);var t=e.changedTouches[0];eo(t.identifier),M&&C(),eb(t.pageX)},isPlaying:M,playhead:q,setHoveringChange:ev,showVideoControls:U,videoControlsExp:G,children:[void 0!==N&&N&&(U&&G||Q||el||W)&&(0,d.jsx)(j,{currentTime:n,inRemoveRelatedStreamsExp:eh,isMobile:W,isRTL:X,isSeeking:el,scrubberWidth:ef,videoControlsExp:G}),Array(a).fill().map(function(e,r){return(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{margin:eg}},flex:"grow",width:em.length===a?em[r]:"auto",children:(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{transition:"all .1s"}},"data-test-id":"idea-pin-video-progress-bar",rounding:"pill",children:r<t||c?(0,d.jsx)(i.xu,{color:_,height:4,rounding:"pill"}):t===r&&u?(0,d.jsx)(p,{activePageCurrentTime:n,pillHeight:4,progressInfo:u,videoDuration:T[r]}):(0,d.jsx)(i.xu,{color:_,dangerouslySetInlineStyle:{__style:{opacity:.24}},height:4,rounding:"pill"})})},"".concat(H,"-").concat(r))})]})}var j=function(e){var t=e.currentTime,n=void 0===t?0:t,r=e.inRemoveRelatedStreamsExp,o=e.isMobile,a=e.isRTL,l=e.isSeeking,s=e.scrubberWidth,u=e.videoControlsExp;return(0,d.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:a?{right:s}:{left:s}},"data-test-id":"video-progress-bar",position:"relative",children:[o&&l&&!r&&(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{top:"-32px"}},marginStart:-3,position:"absolute",children:(0,d.jsx)(i.xv,{color:"light",size:"100",children:(0,f.Lc)(n)})}),(0,d.jsx)(i.xu,{color:_,height:4,position:"absolute",rounding:"pill",children:(0,d.jsx)(i.xu,{color:"light",dangerouslySetInlineStyle:{__style:{marginTop:l&&u?-8:-6}},height:l&&u?16:12,marginStart:-2,rounding:"circle",width:l&&u?16:12})})]})}},858416:function(e,t,n){"use strict";n.d(t,{Wr:function(){return f},Hx:function(){return y},RC:function(){return m}});var r=n(76911),i=n(425288),o=n(924687),a=n(311541),l=n(515198);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=function(){return Promise.resolve().then(n.bind(n,924687))},c=(0,i.Z)("IdeaPinVideoPlayer"),d=c.Provider,p=c.useHook;function f(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,a.Z)(u,o.initialState))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=i[0],p=i[1],f=(0,r.useMemo)(function(){return{dispatch:p,ideaPinVideoPlayerControls:c}},[p,c]);return(0,l.jsx)(d,{value:f,children:n})}function m(){var e=p().dispatch;return(0,r.useMemo)(function(){return{updateSeekTime:function(t,n){e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:n||""}})},clearSeekTime:function(t){e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})},updateSeekingIdeaPin:function(t){t?e({type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t}}):e({type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:function(t){e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:function(t){e({type:"UPDATE_DURATION",payload:{duration:t}})}}},[e])}function y(){return p().ideaPinVideoPlayerControls}},924687:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){var i;return(i=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===r(i)?i:String(i))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,{default:function(){return s},initialState:function(){return l}});var l={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEEK_TIME":return o(o({},e),{},{seekTimes:o(o({},e.seekTimes),{},a({},t.payload.pinId,t.payload.seekTime)),seekTime:t.payload.seekTime});case"CLEAR_SEEK_TIME":return o(o({},e),{},{seekTimes:{},seekTime:void 0});case"UPDATE_SEEKING_IDEA_PIN":return o(o({},e),{},{isSeekingIdeaPin:t.payload.isSeekingIdeaPin});case"UPDATE_CURRENT_TIME":return o(o({},e),{},{currentProgressInfo:o(o({},e.currentProgressInfo),{},{currentTime:t.payload.currentTime})});case"UPDATE_DURATION":return o(o({},e),{},{currentProgressInfo:o(o({},e.currentProgressInfo),{},{duration:t.payload.duration})});default:return e}}},488789:function(e,t,n){"use strict";n.d(t,{c:function(){return l},o:function(){return a}});var r=n(76911),i=n(515198),o=(0,r.createContext)(null);function a(e){var t=e.children,n=e.closeupPaneWidth,a=e.headerHeight,l=e.isLandingPage,s=e.loadFonts,u=e.renderStoryPinMediaLayout,c=e.renderStoryPinSplitLayout,d=e.renderStoryPinText,p=e.renderStoryPinPage,f=e.productPins,m=(0,r.useMemo)(function(){return{closeupPaneWidth:n,headerHeight:a,isLandingPage:l,loadFonts:s,renderStoryPinMediaLayout:u,renderStoryPinSplitLayout:c,renderStoryPinText:d,renderStoryPinPage:p,productPins:f}},[n,a,l,s,u,c,d,p,f]);return(0,i.jsx)(o.Provider,{value:m,children:t})}var l=function(){return(0,r.useContext)(o)}},224496:function(e,t,n){"use strict";n.d(t,{Cc:function(){return h},DL:function(){return p},Gf:function(){return _},LX:function(){return l},Lc:function(){return x},Ls:function(){return g},Rf:function(){return d},YL:function(){return c},ap:function(){return s},h8:function(){return m},pE:function(){return f},s5:function(){return b},tQ:function(){return y},yR:function(){return u}});var r=n(908390);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l={w:9,h:16},s=l.w/l.h,u=8,c=10,d=5e3,p=2e3;function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(t-1)}}var m={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},y=[m.IMAGE,m.VIDEO],h=a(a({},{alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1}),{},{font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28}),g=new r.Ry(1),v=new r.Ry(5),b=new r.H3([v]),_=new r.H3([b]),x=function(e){var t=Math.floor(e||0),n=Math.floor(t/60),r=t-60*n,i=r<10?"0".concat(r):r;return"".concat(n<10?"".concat(n):n,":").concat(i)}},775151:function(e,t,n){"use strict";n.d(t,{BN:function(){return y},RK:function(){return m},d3:function(){return g},tq:function(){return v},xm:function(){return h}});var r=n(76911),i=n(441253),o=n(224496),a=n(700314),l=n(829407);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=function(e,t){var n=(0,o.pE)(e,t);return"".concat(n.y,"px ").concat(n.x,"px")},m=function(e){var t=e.alignment,n=e.verticalAlignment,r={alignItems:"flex-start",display:"flex",height:"100%",justifyContent:"start",textAlign:"left",width:"100%"};return 1===n?r.alignItems="center":2===n&&(r.alignItems="flex-end"),1===t&&(r.justifyContent="center",r.textAlign="center"),r},y=function(e){var t=e.fontSize,n=e.hexColor,r=e.highlightColor,i=e.letterSpacing,o=e.lineHeight;return p({fontSize:t,letterSpacing:i,color:n,fontFamily:e.name,margin:0,maxHeight:"100%",textShadow:!r&&n&&"#ffffff"===n.toLowerCase()?"0px 1px 4px rgba(0, 0, 0, 0.2)":void 0,wordBreak:"break-word"},r?{backgroundColor:r,borderRadius:t/5,padding:f(t,o)}:{})},h=function(e){var t=e.fontSize,n=e.hasText,r=e.highlightColor,i=e.lineHeight;return p({},r?{backgroundColor:n?r:void 0,borderRadius:t/5,padding:f(t,i)}:{})},g=function(e){var t=e.letterSpacing,n=e.lineHeight;return{fontFamily:e.name,fontGroup:"",fontOverrides:{letterSpacing:t,lineHeight:n,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:e.url}]}},v=function(e){var t=e.hasPin,n=e.pages,s=e.limitToSingleFont,c=u((0,r.useState)(!1),2),d=c[0],p=c[1],f=u((0,r.useState)(function(){return!!t&&(0,a.X7)(n)}),2),m=f[0],y=f[1],h=function(){var e=n.reduce(function(e,t){var n,r=(null==t?void 0:null===(n=t.blocks)||void 0===n?void 0:n.filter(function(e){return[o.h8.PARAGRAPH,o.h8.HEADING].includes(e.type)}))||[];return s&&r.length>1&&(r=[r[0]]),r.forEach(function(t){var n,r=(null===(n=t.style)||void 0===n?void 0:n.font)||o.Cc.font,i=r.name,a=void 0===i?"":i;e[a]||(e[a]=r)}),e},{});if(Object.keys(e).length>0){var t=Object.keys(e).map(function(t){var n=e[t];return g({letterSpacing:n.letter_spacing,lineHeight:n.line_height,name:n.name,url:n.url})});(0,i.Z)(t),p(!0)}};return(0,l.Z)(function(){h()}),(0,l.Z)(function(){m||h()}),(0,r.useEffect)(function(){m||y((0,a.X7)(n))},[m,n]),{fontsLoaded:d,mediaDataReceived:m}}},676142:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(858142),i=/\{\s*(\w+)\s*\}/g;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){var r;return(r=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===o(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=e.args,n=e.format,o=(t||[]).reduce(function(e,t,n){return l(l({},e),{},s({},n,t.text))},{});return(0,r.Z)(i,n,o)}},940882:function(e,t,n){"use strict";n.d(t,{J:function(){return r},Z:function(){return i}});var r=-1;function i(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},148028:function(e,t,n){"use strict";function r(e){var t=e.currentTime,n=e.endTime,r=e.startTime;return"number"!=typeof r||"number"!=typeof n||!(r>=0)||!(n>0)||!(r<n)||r<=t&&t<=n}n.d(t,{Z:function(){return r}})},700314:function(e,t,n){"use strict";n.d(t,{B7:function(){return u},X7:function(){return c},n4:function(){return s}});var r=n(224496);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function a(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var s=function(e,t){var n=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(!(null!=e&&e.match(n))||!(null!=t&&t.match(n)))return null;for(var r=null==e?void 0:e.split("."),i=null==t?void 0:t.split("."),o=Math.max((null!=r?r:"").length,(null!=i?i:"").length),a=0;a<o;a+=1){var l,s,u=a<(null!==(l=null==r?void 0:r.length)&&void 0!==l?l:0)?parseInt(null==r?void 0:r[a],10):0,c=a<(null!==(s=null==i?void 0:i.length)&&void 0!==s?s:0)?parseInt(null==i?void 0:i[a],10):0;if(u<c)return -1;if(u>c)return 1}return 0},u=function(){var e,t;function n(e,t,r){var i=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),a(this,"start",Date.now()),a(this,"paused",!1),this.onProgress=e,this.onComplete=t,this.duration=r,this.remaining=r,"undefined"!=typeof window&&(this.intervalId=window.setInterval(function(){var e=i.paused?i.duration-i.remaining:i.duration-i.remaining+(Date.now()-i.start);i.onProgress(e/i.duration)},500),this.resume())}return e=[{key:"currentTime",value:function(){return this.duration-this.remaining}},{key:"pause",value:function(){this.paused=!0,window.clearTimeout(this.timerId),this.remaining-=Date.now()-this.start;var e=this.duration-this.remaining;this.onProgress(e/this.duration)}},{key:"resume",value:function(){this.paused=!1,this.start=Date.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(this.onComplete,this.remaining)}},{key:"clear",value:function(){window.clearTimeout(this.timerId),window.clearInterval(this.intervalId)}}],o(n.prototype,e),t&&o(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(),c=function(e){return e.some(function(e){var t;return(null!==(t=null==e?void 0:e.blocks)&&void 0!==t?t:[]).some(function(e){return e.type===r.h8.IMAGE&&!!e.image||e.type===r.h8.VIDEO&&(!!e.video||!!e.video_signature)})})}},927104:function(e,t){"use strict";t.Z=function(e,t){return e.length>t?e.substr(0,t-3).trim()+"…":e}},883561:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"…",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return"";if(e.length<=n)return e;if(" "!==e[n-1]&&" "===e[n]||i)t=e.substring(0,n);else{var o=e.lastIndexOf(" ",n);t=e.substring(0,o)}return(t=t.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+r}n.d(t,{ZP:function(){return r}})},841726:function(e,t,n){"use strict";function r(e,t){var n=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,t){return n.indexOf("<"+t.toLowerCase()+">")>-1?e:""})}n.d(t,{o:function(){return r}}),t.Z=function(e){return e.replace(/(<([^>]+)>)/gi,"")}},70061:function(e,t,n){"use strict";function r(e){return e.replace(/[_.-](\w|$)/g,function(e,t){return t.toUpperCase()})}n.d(t,{Z:function(){return r}})},430323:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(76911),i=n(722767),o=n(558068),a=n(780280),l=n(239745),s=n(245474),u=(0,n(425288).Z)("timeSpentContext"),c=u.Provider,d=u.useMaybeHook,p=n(790123),f=n(350118),m=n(515198);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){P(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(u,e);var t,n,o,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=x(u);if(t){var r=x(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return _(e)}(this,e)});function u(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u),P(_(t=a.call(this,e)),"componentWillUnmount",function(){t.unregisterComponent()}),P(_(t),"getContext",function(){var e=t.props,n=e.clientTrackingParams,r=e.component,i=e.element,o=e.objectId,a=e.timeSpentContext,l=e.view,s=e.viewParameter;return{view:l||(null==a?void 0:a.view),viewParameter:s||(null==a?void 0:a.viewParameter),component:r||(null==a?void 0:a.component),element:i,objectId:o||(null==a?void 0:a.objectId),clientTrackingParams:n||(null==a?void 0:a.clientTrackingParams),getParentUuid:function(){return t.getUuid()},getGrandparentUuid:function(){return t.getParentId()}}}),P(_(t),"getLoggerContext",function(){var e=g({},t.getContext());return delete e.getParentUuid,e}),P(_(t),"getParentId",function(){var e=t.props,n=e.timeSpentContext,r=e.shouldUseGrandparentId;if(void 0!==r&&r&&n&&n.getGrandparentUuid){var i=n.getGrandparentUuid();if(i)return i}return n&&n.getParentUuid?n.getParentUuid():void 0}),P(_(t),"getUuid",function(){return t.state.timedPair?t.state.timedPair.uuid:void 0}),P(_(t),"getTimedPair",function(){return t.state.timedPair}),P(_(t),"setTimedPair",function(e){return t.setState({timedPair:e})}),P(_(t),"isRegistered",!1),P(_(t),"registerComponent",function(){t.props.timeSpentManager.registerComponent(_(t)),t.isRegistered=!0}),P(_(t),"unregisterComponent",function(){t.isRegistered&&(t.props.timeSpentManager.unregisterComponent(_(t)),t.isRegistered=!1)}),P(_(t),"handleVisibilityChange",function(e){var n=e[0].intersectionRatio,r=e[0].intersectionRect,i=r.bottom,o=r.left,a=r.right,l=r.top;n>0?t.registerComponent():0===n&&(0===i&&0===o&&0===a&&0===l?t.unregisterComponent():t.registerComponent())}),t.state={timedPair:new s.Z(t.getLoggerContext())},t}return n=[{key:"componentDidUpdate",value:function(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,l.Z)(e.auxData,this.props.auxData)&&(0,l.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}},{key:"render",value:function(){var e=this.props.children;return(0,m.jsx)(c,{value:this.getContext(),children:(0,m.jsx)(i.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:r.Children.only(e)})})}}],v(u.prototype,n),o&&v(u,o),Object.defineProperty(u,"prototype",{writable:!1}),u}(r.Component);function w(e){var t,n=(0,o.Hv)(),i=d(),l=(0,p.w)(),s=(0,f.H0)(),u=(0,a.B)().requestIdentifier,c=g({app_instance_id:(void 0===u?"":u).slice(0,8)},null!==(t=e.auxData)&&void 0!==t?t:{});return(0,r.useEffect)(function(){null==l||l.setHistoryStackContext(n)},[n,l]),(0,r.useEffect)(function(){null==l||l.setPins(null!=s?s:{})},[s,l]),l?(0,m.jsx)(j,g(g({},e),{},{auxData:c,timeSpentContext:i,timeSpentManager:l,children:e.children})):e.children}w.displayName="TimeSpent";var O=w},733336:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(76911),i=n(908390),o=n(898781),a=n(515198);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t,n=e.content,s=e.header,u=e.headerWidth,c=e.isCollapsible,d=e.isContentLoaded,p=e.isOpenByDefault,f=e.maxHeight,m=e.onOpen,y=e.previewContent,h=e.previewContentHeight,g=e.shouldToggleOnBodyTap,v=e.arrowDirection,b=l((0,r.useState)(!1),2),_=b[0],x=b[1],P=l((0,r.useState)(0),2),S=P[0],j=P[1],w=(0,r.useRef)(null),O=(0,o.ZP)(),A=null===(t=w.current)||void 0===t?void 0:t.getBoundingClientRect().height;(0,r.useEffect)(function(){p&&d&&x(!0)},[p,d]),(0,r.useLayoutEffect)(function(){void 0===f&&w.current&&A&&A>S&&j(Math.ceil(A))},[S,A,f]);var k=function(){c&&(x(!_),m&&!_&&m())},C=v||"arrow-forward";return(0,a.jsxs)(i.iP,{onTap:g?k:void 0,children:[(0,a.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingY:y?1:5,width:u,children:[(0,a.jsx)(i.xv,{size:"300",weight:"bold",children:s}),c&&(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.3s ease-in-out",transform:_?"rotate(".concat("arrow-down"===C?"180deg":"-90deg",")"):""}},marginEnd:4,children:(0,a.jsx)(i.iP,{onTap:k,children:(0,a.jsx)(i.JO,{accessibilityLabel:O._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),color:"default",icon:C,size:20})})})]}),(0,a.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{transition:"all 0.3s ease-in-out, visibility 0s linear ".concat(_?"0s":"0.3s"),visibility:_||y?"visible":"hidden"}},"data-test-id":"accordion-panel",height:!_&&y?h:_?f||S:0,marginEnd:y?7:0,opacity:_||y?1:0,overflow:void 0===f?"hidden":"auto",children:[(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{display:_?"none":"block"}},children:y}),(0,a.jsx)(i.xu,{ref:w,dangerouslySetInlineStyle:{__style:{visibility:_?"visible":"hidden",transition:"all 0.3s ease-in-out, visibility 0s linear ".concat(_||y?"0s":"0.3s")}},opacity:_||y?1:0,children:n})]})]})}u.defaultProps={isCollapsible:!0,isContentLoaded:!0}},203138:function(e,t,n){"use strict";n.d(t,{Z:function(){return p},m:function(){return d}});var r=n(76911),i=n(908390),o=n(898781),a=n(391254),l=n(780280),s=n(814197),u=n(167234),c=n(515198),d=4;function p(e){var t=e.deepLinkBackGoesToBoard,n=e.handleScroll,p=e.isNewOrRes,f=e.marginTop,m=e.onClick,y=e.showLabel,h=e.trafficSource,g=e.showShadow,v=(0,o.ZP)();(0,r.useEffect)(function(){return n?(window.addEventListener("scroll",n),function(){return window.removeEventListener("scroll",n)}):function(){}},[]);var b=(0,l.B)().isRTL,_=function(){return(0,c.jsx)(i.iP,{onTap:m,rounding:"pill",children:(0,c.jsx)(i.xu,{left:!0,maxWidth:90,padding:2,children:(0,c.jsx)(i.X6,{align:"center",size:"400",children:v._('For you', 'closeup.backButton.label', 'Close/back button label for homefeed')})})},"buttonBack")},x=void 0!==y&&y&&("feed_home"===h||"deep_linking"===h&&!t)&&p,P=(0,c.jsxs)(r.Fragment,{children:[x&&b?(0,c.jsx)(_,{}):null,(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{animation:g?"showShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards":"hideShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards"}},rounding:"circle",children:(0,c.jsx)(i.hU,{accessibilityLabel:v._('Back', 'backButton.accessibilityLabel', 'Accessibility label for the button to navigate back to the previous page'),bgColor:"white",icon:"directional-arrow-left",iconColor:"darkGray",onClick:m,size:"lg"})},"back-button-icon"),x&&!b?(0,c.jsx)(_,{}):null]});return(0,c.jsxs)(u.Z,{position:"fixed",style:{zIndex:s.Cq,width:"60px",maxWidth:"265px"},children:[(0,c.jsx)(a.Z,{unsafeCSS:"\n@keyframes showShadow {\n  0% {\n    box-shadow: none;\n  }\n\n  100% {\n    background-color: rgba(255, 255, 255, 0.97);\n    box-shadow: 0 1px 20px 0 rgba(0, 0, 0, 0.1);\n  }\n}\n\n@keyframes hideShadow {\n  0% {\n    background-color: rgba(255, 255, 255, 0.97);\n    box-shadow: 0 1px 20px 0 rgba(0, 0, 0, 0.1);\n  }\n\n  100% {\n    box-shadow: none;\n  }\n}\n"}),(0,c.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:4*(f||d)}},"data-test-id":"back-button",display:"flex",left:!b,paddingX:4,position:"fixed",right:b,children:P})]})}},413252:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(76911),i=n(908390),o=n(945544),a=n(509278),l=n(643010),s=n(898781),u=n(773285),c=n(788645),d=n(515198);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t=e.isExpanded,n=e.onToggle,r=e.expandedText,o=e.collapsedText;return(0,d.jsx)(i.xu,{"data-test-id":"".concat(t?"less":"more","-description-container"),display:"inlineBlock",children:(0,d.jsx)(i.iP,{onTap:n,children:(0,d.jsx)(i.xv,{inline:!0,weight:"bold",children:t?r:o})})})};function m(e){var t,n=e.isExpanded,m=e.description,y=e.maxHeight,h=e.handleToggle,g=e.Wrapper,v=(0,r.useRef)(null),b=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=b[0],x=b[1],P=(0,s.ZP)(),S=(0,u.F)().checkExperiment,j=(0,l.vs)(),w=S("web_new_line_description").anyEnabled,O=S("web_hashtags_in_description_display").anyEnabled;(0,r.useEffect)(function(){v&&v.current&&v.current.getBoundingClientRect().height>y&&x(!0)},[v,y]);var A=(0,d.jsx)(f,{collapsedText:P._('... more', 'closeup.description.toggle.moreButton', 'Toggle more description button'),expandedText:P._('less', 'closeup.description.toggle.lessButton', 'Toggle less description button'),isExpanded:n,onToggle:h}),k=j?"#111111":"#FFFFFF";return(0,d.jsx)(g,{children:(0,d.jsx)(i.xu,{"data-test-id":"collapsible-description",maxHeight:n?void 0:y,overflow:"hidden",position:"relative",children:(0,d.jsxs)(c.Z,{dir:(0,c.j)(m),children:[(0,d.jsx)(i.xu,{ref:v,children:(0,d.jsxs)(i.xv,{inline:!0,children:[w?(0,d.jsx)(o.Z,{description:m}):(0,a.Z)({isHashtagInDescriptionDisplayEnabled:O,text:m})," ",_&&n&&(0,d.jsxs)(i.xv,{inline:!0,weight:"bold",children:["... ",A]})]})}),_&&!n&&(0,d.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(270deg, ".concat(k," 50%, ").concat(k,"00 100%)"),textAlign:"end"}},position:"absolute",right:!0,width:140,children:A})]})})})}},477802:function(e,t,n){"use strict";n.d(t,{Qy:function(){return d},Wu:function(){return f},ZP:function(){return p}});var r=n(599689),i=n(908390),o=n(780280),a=n(826067),l=n(19121),s=n(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var d=function(){var e=(0,l.Z)(),t=(0,o.B)().isInternalIP,n=(0,r.useLocation)();return(t||e.isAuth&&e.isEmployee)&&Object.keys((0,a.mB)(n.search)).some(function(e){return e.startsWith("deb_")})};function p(e){var t=e.data;return(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",overflow:"auto",children:(0,s.jsx)("pre",{children:JSON.stringify(t,null,2).replace(/\\n/g,"\n")})})}var f=function(e){return(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:10}},width:236,children:(0,s.jsx)(p,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e))})}},948618:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(908390),i=n(515198);function o(e){var t=e.ariaHidden,n=e.color,o=e.size;return(0,i.jsx)("span",{"aria-hidden":void 0!==t&&t,style:{padding:"0 4px"},children:(0,i.jsx)(r.xv,{color:void 0===n?"darkGray":n,inline:!0,size:null!=o?o:"200",children:"\xb7"})})}},939106:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(76911),i=n(908390),o=n(948618),a=n(515198);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return null!=e}function u(e){var t=e.additionalPadding,n=e.color,u=void 0===n?"darkGray":n,c=e.inline,d=e.items,p=t?(0,a.jsx)("span",{style:{padding:"0 ".concat(4*t,"px")},children:(0,a.jsx)(o.Z,{color:u})}):(0,a.jsx)(o.Z,{color:u}),f=d.filter(s).reduce(function(e,t,n){return[].concat(function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[0!==n?p:null,t])},[]).filter(s).map(function(e,t){return(0,a.jsx)(r.Fragment,{children:e},t)});return 0===f.length?null:c?(0,a.jsx)(i.xu,{children:f}):(0,a.jsx)(i.kC,{alignItems:"center",justifyContent:"start",children:f})}},745312:function(e,t,n){"use strict";n.d(t,{Z:function(){return c},n:function(){return s}});var r=n(908390),i=n(76911);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var a=n(515198);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t,n,r,a,s,u,c,d,p=e.items,f=e.itemWidth,m=e.itemGap,y=e.numRows,h=void 0===y?1:y,g=e.actionItemType,v=function(e){if(Array.isArray(e))return e}((r=(n=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],a=n[1],s=(0,i.useRef)(null),u=(0,i.useCallback)(function(){s.current&&a(s.current.clientWidth)},[s]),(0,i.useEffect)(function(){return window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}},[u]),(0,i.useEffect)(u),c=[r,s]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(c,2)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(c,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=v[0],_=v[1],x=Math.floor((b+m)/(f+m))*h||h,P=p.slice(0,x),S=[];switch(g){case"nextFour":x>=p.length?S=[P.pop()]:(P.pop(),S=p.slice(x-1,x+3));break;case"one":d=x>p.length?p[Math.floor(p.length/2)]:P.pop()}return{containerRef:_,itemsToRender:P,actionItem:d,nextFourItems:S}}var u={center:{outer:"center",inner:"center"},left:{outer:"start",inner:"start"},right:{outer:"end",inner:"end"}};function c(e){var t=e.children,n=e.itemGap,i=e.containerRef,o=e.numRows,l=e.rowAlignment,s=u[void 0===l?"center":l];return(0,a.jsx)(r.xu,{ref:i,width:"100%",children:(0,a.jsx)(r.kC,{alignItems:"center",justifyContent:s.outer,children:(0,a.jsx)(r.kC,{gap:{row:Math.floor(n/4),column:0},justifyContent:s.inner,wrap:(void 0===o?1:o)>1,children:t})})})}},753311:function(e,t,n){"use strict";n.d(t,{M:function(){return a},Q:function(){return o}});var r=n(76911),i=(0,r.createContext)(null),o=function(){return(0,r.useContext)(i)},a=i.Provider},690035:function(e,t,n){"use strict";var r=n(753311);t.Z=function(){var e;return(null===(e=(0,r.Q)())||void 0===e?void 0:e.showUnauthContextMenu)||function(){}}},170168:function(e,t,n){"use strict";n.d(t,{Ag:function(){return o},C0:function(){return s},L1:function(){return p},Vi:function(){return a},YD:function(){return d},kS:function(){return i},oo:function(){return l},p3:function(){return f},vC:function(){return u},vI:function(){return c}});var r=n(401060),i="https://www.pinterest.com/business/hub/",o="https://www.pinterest.com/homefeed/",a="www.pinterest.com",l="https://help.pinterest.com",s="".concat((0,r.Z)({site:"www"})),u=(0,r.Z)({site:"developers"}),c="".concat((0,r.Z)({site:"sterling"})),d="".concat((0,r.Z)({site:"analytics"})),p="".concat((0,r.Z)({site:"trends"})),f="".concat((0,r.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="}))},388619:function(e,t,n){"use strict";var r=n(704115);t.Z=function(e){var t=e.url;if(t){var n=t.split("?");if(n[1])return(0,r.Z)(n[1])}return(0,r.Z)()}},149230:function(e,t,n){"use strict";var r=n(954931);t.Z=function(e){var t=e.url;return!!(t&&t.match(/^https{0,1}:\/\//)&&!(0,r.Z)(t))}},508847:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(567831),i=function(e){var t=e.url,n=(0,r.Z)("/");return 0===t.lastIndexOf(n,0)?t.substr(n.length-1):t}},887831:function(e,t,n){"use strict";var r=n(76911);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var o=null,a=!1,l=0,s=function(){o&&clearTimeout(o),a=!0,o=setTimeout(function(){a=!1},100)},u=function(){0===l&&window.addEventListener("scroll",s),l+=1},c=function(){(l-=1)||window.removeEventListener("scroll",s)};t.Z=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],o=t[1],l=(0,r.useRef)(null);(0,r.useEffect)(function(){return u(),function(){l.current&&clearTimeout(l.current),c()}},[]);var s=function e(t){l.current&&clearTimeout(l.current),l.current=t&&a?setTimeout(function(){return e(!0)},100):setTimeout(function(){o(t)},32)};return{isHovering:n,hoverHandlers:(0,r.useRef)({onMouseOver:function(){return s(!0)},onMouseLeave:function(){return s(!1)}}).current}}},50286:function(e,t,n){"use strict";n.d(t,{HG:function(){return d},Kf:function(){return a},Mq:function(){return i},Wb:function(){return c},dA:function(){return l},ds:function(){return s},ml:function(){return u}});var r=n(780280);function i(e){var t=e.userAgent,n=t.isMobile;return t.isTablet?"tablet":n?"phone":"desktop"}var o=function(){return i((0,r.B)())},a=function(e){return"phone"===e},l=function(e){return"tablet"===e},s=function(e){return"desktop"===e},u=function(){return a(o())},c=function(){return l(o())},d=function(){return s(o())};t.ZP=o},311541:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(76911);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||o(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=(0,r.useRef)([]),l=i((0,r.useState)(),2),s=l[0],u=l[1],c=i((0,r.useReducer)(null!=s?s:function(){return t},t),2),d=c[0],p=c[1],f=(0,r.useCallback)(function(t){if(s)p(t);else{var r;n.current.length||e().then(function(e){u(function(){return e.default})}),n.current=[].concat(function(e){if(Array.isArray(e))return a(e)}(r=n.current)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||o(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t])}},[e,s]);return(0,r.useEffect)(function(){s&&(n.current.forEach(p),n.current=[])},[s]),[d,f]}},829407:function(e,t,n){"use strict";var r=n(76911);t.Z=function(e){(0,r.useEffect)(e,[])}},215292:function(e,t,n){"use strict";n.d(t,{q:function(){return l}});var r=n(76911);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var a=function(){var e=i((0,r.useState)(!1),2),t=e[0],n=e[1],o=i((0,r.useState)(!1),2),a=o[0],l=o[1],s=i((0,r.useState)(!1),2),u=s[0],c=s[1];return{active:t,focused:a,hovered:u,onBlur:function(){l(!1),n(!1)},onFocus:function(){return l(!0)},onMouseDown:function(){return n(!0)},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){c(!1),n(!1)},onMouseUp:function(){return n(!1)}}};function l(e){return(0,e.children)(a())}t.Z=a},999018:function(e,t,n){"use strict";n.d(t,{Y:function(){return y}});var r,i=n(76911);n(704217);var o=n(681669);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){var r;return(r=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===a(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=void 0!==r?r:r=n(124495),f=function(e,t){var n=Symbol("SKIP"),r=function(e){return Object.entries(e).filter(function(e){return c(e,2)[1]!==n}).reduce(function(e,t){var n=c(t,2),r=n[0],i=n[1];return s(s({},e),{},u({},r,i))},{})};if("deprecated"!==e.type){var i,o,a,l,d,p,f,m,y,h=e.data;return r(s(s({},h.isEligibleForPdpPlus||h.isEligibleForPdp||h.isOosProduct||h.isStaleProduct?s(s({},function(e,r,i,o,a,l,s,u,c){if(!t)return{image_count:n,image_index:n};var d=null===(e=h.richMetadata)||void 0===e?void 0:null===(r=e.products)||void 0===r?void 0:r[0];return{is_pdpplus:!0,carousel_image_count:n,brand_signature:(null==d?void 0:null===(i=d.brand)||void 0===i?void 0:i.signature)||n,free_shipping_price:(null==d?void 0:null===(o=d.shippingInfo)||void 0===o?void 0:o.freeShippingPrice)||n,free_shipping_value:(null==d?void 0:null===(a=d.shippingInfo)||void 0===a?void 0:a.freeShippingValue)||n,num_variants:(null==d?void 0:null===(l=d.variantSet)||void 0===l?void 0:null===(s=l.variants)||void 0===s?void 0:s.length)||n,total_dimension_option_count:(null==d?void 0:null===(u=d.variantSet)||void 0===u?void 0:null===(c=u.dimensionMetadata)||void 0===c?void 0:c.length)||n,valid_dimension_option_count:n}}()),{},{pin_show_pdp_oos:!!h.isOosProduct||n,pin_show_pdp_stale:!!h.isStaleProduct||n,pin_show_pdp:!!h.isEligibleForPdp||n}):{}),{},{pin_is_shop_the_look:!!(null!==(i=h.shoppingFlags)&&void 0!==i&&i.includes(2)||null!==(o=h.aggregatedPinData)&&void 0!==o&&o.isShopTheLook)||n,is_available:!!(null!==(a=h.shoppingFlags)&&void 0!==a&&a.includes(1))||n,is_product_pin_v2:!!(null!==(l=h.shoppingFlags)&&void 0!==l&&l.includes(5))||n,is_rich_product_pin:!!(null!==(d=h.shoppingFlags)&&void 0!==d&&d.includes(6))||n,is_organic_product_carousel:n,item_id:((null===(p=h.richSummary)||void 0===p?void 0:null===(f=p.products)||void 0===f?void 0:f[0])||{}).itemId||n,item_set_id:((null===(m=h.richSummary)||void 0===m?void 0:null===(y=m.products)||void 0===y?void 0:y[0])||{}).itemSetId||n,story_pin_id:h.storyPinData?h.storyPinDataId:n}))}var g,v,b,_,x,P,S,j,w,O,A,k,C=e.data;return C?r(s(s({},C.is_eligible_for_pdp_plus||C.is_eligible_for_pdp||C.is_oos_product||C.is_stale_product?s(s({},function(e,r,i,o,a,l,s,u,c,d,p,f,m,y,h){var g=null===(e=C.rich_metadata||C.rich_summary)||void 0===e?void 0:null===(r=e.products)||void 0===r?void 0:r[0],v=null!=g&&null!==(i=g.additional_images)&&void 0!==i&&i.length?{imageCount:(C.images?1:0)+g.additional_images.length,imageIndex:(null===(o=C.carousel_data)||void 0===o?void 0:o.index)||0}:C.carousel_data&&{imageCount:null===(a=C.carousel_data.carousel_slots)||void 0===a?void 0:a.length,imageIndex:C.carousel_data.index};if(!t)return v?{image_count:v.imageCount,image_index:v.imageIndex}:{};var b=null===(l=C.rich_metadata)||void 0===l?void 0:null===(s=l.products)||void 0===s?void 0:s[0],_=null!==(u=null==b?void 0:null===(c=b.variant_set)||void 0===c?void 0:c.variants)&&void 0!==u?u:[];return{is_pdpplus:!0,carousel_image_count:v?v.imageCount:n,brand_signature:(null==b?void 0:null===(d=b.brand)||void 0===d?void 0:d.signature)||n,free_shipping_price:(null==b?void 0:null===(p=b.shipping_info)||void 0===p?void 0:p.free_shipping_price)||n,free_shipping_value:(null==b?void 0:null===(f=b.shipping_info)||void 0===f?void 0:f.free_shipping_value)||n,num_variants:_.length||n,total_dimension_option_count:(null==b?void 0:null===(m=b.variant_set)||void 0===m?void 0:null===(y=m.dimension_metadata)||void 0===y?void 0:y.length)||n,valid_dimension_option_count:((null==b?void 0:null===(h=b.variant_set)||void 0===h?void 0:h.dimension_metadata)||[]).reduce(function(e,t){var n=t.name,r=t.values;return e+(n&&r||[]).filter(function(e){return _.some(function(t){var r;return(null===(r=t.dimensions)||void 0===r?void 0:r[null!=n?n:""])===e})}).length},0)||n}}()),{},{pin_show_pdp_oos:!!C.is_oos_product||n,pin_show_pdp_stale:!!C.is_stale_product||n,pin_show_pdp:!!C.is_eligible_for_pdp||n}):{}),{},{pin_is_shop_the_look:!!(null!==(g=C.shopping_flags)&&void 0!==g&&g.includes(2)||null!==(v=C.aggregated_pin_data)&&void 0!==v&&v.is_shop_the_look)||n,is_available:!!(null!==(b=C.shopping_flags)&&void 0!==b&&b.includes(1))||n,is_product_pin_v2:!!(null!==(_=C.shopping_flags)&&void 0!==_&&_.includes(5))||n,is_rich_product_pin:!!(null!==(x=C.shopping_flags)&&void 0!==x&&x.includes(6))||n,is_organic_product_carousel:!!(null!==(P=C.shopping_flags)&&void 0!==P&&P.includes(10)||((null===(S=C.product_pin_data)||void 0===S?void 0:null===(j=S.items)||void 0===j?void 0:j[0])||{}).additional_images)||n,item_id:((null===(w=C.rich_summary)||void 0===w?void 0:null===(O=w.products)||void 0===O?void 0:O[0])||{}).item_id||n,item_set_id:((null===(A=C.rich_summary)||void 0===A?void 0:null===(k=A.products)||void 0===k?void 0:k[0])||{}).item_set_id||n,story_pin_id:C.story_pin_data?C.story_pin_data_id:n})):{}},m=function(e){var t=(0,o.Zm)(p,null==e?{type:"deprecated",data:null}:e,{useGraphQLAdapter:function(e){return e},useLegacyAdapter:function(e){return e}}).childDataKey__DEPRECATED,n=(0,i.useRef)(t);return(0,i.useEffect)(function(){n.current=t}),(0,i.useCallback)(function(e){var t;return 0===Object.keys(t=s(s(s({},null==e?void 0:e.default),f(n.current,!!(null!=e&&e.isPdpPlus))),null==e?void 0:e.override)).length?{}:{commerce_data:JSON.stringify(t)}},[])},y=function(e){return(0,e.children)(m(e.pinKey))};t.Z=m},902355:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(76911);function i(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,s,"next",e)}function s(e){i(a,r,o,l,s,"throw",e)}l(void 0)})}}function a(){return(a=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){var r=document.createElement("img");r.onerror=function(){return n(Error("Image failed to load with src ".concat(t)))},r.onload=function(){return e(!0)},r.src=t}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(){return(l=o(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"HEAD"});case 3:return n=e.sent,e.next=6,n.blob();case 6:r=e.sent.type.startsWith("image/"),e.next=12;break;case 12:return e.next=14,function(e){return a.apply(this,arguments)}(t);case 14:return i=e.sent,e.abrupt("return",r&&i);case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",!1);case 21:case"end":return e.stop()}},e,null,[[0,18]])}))).apply(this,arguments)}function s(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=n[0],o=n[1];return(0,r.useEffect)(function(){function t(){var n;return n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(e){return l.apply(this,arguments)}(e);case 2:o(t.sent);case 4:case"end":return t.stop()}},t)}),(t=function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function a(e){s(o,r,i,a,l,"next",e)}function l(e){s(o,r,i,a,l,"throw",e)}a(void 0)})}).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[e]),i}},786871:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(506979),i=[1000069,1000075],o={};function a(){var e;return e=(0,r.useSelector)(function(e){return e.experiences}),i.forEach(function(t){e[t]&&(void 0===o[t]||o[t].id!==e[t].id)&&(o[t]=e[t])}),o}},81072:function(e,t,n){"use strict";var r=n(76911),i=n(700380);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],a=t[1];return(0,r.useEffect)(function(){var e=(0,i.Z)(function(){return a(window.scrollY)},10);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}},[]),n}},19121:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r=(0,n(425288).Z)("viewer"),i=r.Provider,o=r.useHook;t.Z=o},357787:function(e,t,n){"use strict";var r=n(76911),i=n(945790),o=n(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var m=new Map,y=null,h=function(e){e.forEach(function(e){var t=m.get(e.target);t&&t(e)})},g=function(e){y.unobserve(e),m.delete(e)},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-64px 0px 0px 0px",n=arguments.length>2?arguments[2]:void 0,r={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};y=y||new window.IntersectionObserver(h,r),m.set(e,n),y.observe(e)};t.Z=function(e){var t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(h,t);var n,r,f,y=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=d(h);if(n){var r=d(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function h(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,h);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(c(e=y.call.apply(y,[this].concat(n))),"seen",!1),p(c(e),"enter",function(t){var n=t.intersectionRatio>0||t.isIntersecting;e.seen=n,e.seen&&e.props.onVisibilityChanged(!0)}),p(c(e),"leave",function(){var t=e._node;t&&m.has(t)&&e.seen&&(e.props.onVisibilityChanged(!1),e.seen=!1)}),p(c(e),"observe",function(t){try{e._node=i.findDOMNode(c(e))}catch(e){return}if(e._node){var n=e.props.inAdsDesktopVideoExperiment,r=e._node;v(r,t,function(t){if(m.has(r)){var i=n?t.intersectionRatio>=.5:t.intersectionRatio>0||t.isIntersecting,o=e.props.trackFullVisible?t.intersectionRatio>=1:i,a=e.props.trackFullVisible?0===t.intersectionRatio:!o;!e.seen&&o?e.enter(t):e.seen&&a&&e.leave()}})}}),e}return r=[{key:"componentDidMount",value:function(){var e=this.props.rootMargin;this.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this._node;e&&(this.leave(),g(e))}},{key:"render",value:function(){return(0,o.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.props))}}],s(h.prototype,r),f&&s(h,f),Object.defineProperty(h,"prototype",{writable:!1}),h}(r.Component);return p(t,"displayName","DeprecatedWithVisibilityChanged(".concat(e.displayName||e.name,")")),t}},46584:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(76911),i=new Map,o=null,a=function(e){e.forEach(function(e){var t=i.get(e.target);t&&t(e)})},l=function(e){o.unobserve(e),i.delete(e)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-64px 0px 0px 0px",n=arguments.length>2?arguments[2]:void 0,r={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};o=o||new window.IntersectionObserver(a,r),i.set(e,n),o.observe(e)};function u(e){var t=e.onVisibilityChanged,n=e.inAdsDesktopVideoExperiment,o=e.trackFullVisible,a=e.rootMargin,u=(0,r.useRef)(null),c=!1,d=function(e){(c=e.intersectionRatio>0||e.isIntersecting)&&t(!0)},p=function(){var e;u.current instanceof HTMLElement&&(e=u.current,i.has(e))&&c&&(t(!1),c=!1)},f=(0,r.useCallback)(function(e){u.current instanceof HTMLElement&&s(u.current,e,function(e){if(i.has(u.current)){var t=n?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,r=o?e.intersectionRatio>=1:t,a=o?0===e.intersectionRatio:!r;!c&&r?d(e):c&&a&&p()}})},[u.current]);return(0,r.useEffect)(function(){return f(a),function(){u.current instanceof HTMLElement&&(p(),l(u.current))}},[f]),u}},994320:function(e,t,n){"use strict";n.d(t,{W:function(){return c},r:function(){return u}});var r=n(76911),i=n(425288),o=n(515198);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=(0,i.Z)("VideoPlayer"),s=l.Provider,u=l.useHook;function c(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=i[0],u=i[1],c=(0,r.useMemo)(function(){return{captionsEnabled:l,setCaptionsEnabled:u}},[l]);return(0,o.jsx)(s,{value:c,children:n})}},36971:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t){var n=t.organicVideosAutoplaying,r=t.promotedVideosAutoplaying,i=o(o({},n),r);return i[e]&&i[e].currentTime}n.d(t,{Z:function(){return a}})},428258:function(e,t,n){"use strict";n.d(t,{Q6:function(){return o},ZP:function(){return l},t2:function(){return a}});var r=["vHLSV3MOBILE"],i=function(){var e;return!(null!==(e=window)&&void 0!==e&&e.devicePixelRatio)||window.devicePixelRatio<=1?"1x":"2x"},o=function(){var e,t,n,r="undefined"!=typeof window?null===(e=window.navigator)||void 0===e?void 0:null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0,o=i();return r?"4g"===r?n="40-80":(o="1x",n="0-1"):n="unknown",{downloadSpeedGroup:n,screenDimension:o}};function a(e){var t=e.vEXP3,n=e.vEXP4,r=e.vEXP5,i=e.vEXP6,a=e.vEXP7,l=e.v720P,s=o(),u=s.downloadSpeedGroup,c=s.screenDimension,d={"1x":t,"2x":r},p={"1x":a,"2x":a};return({unknown:d,"0-1":d,"1-5":{"1x":n,"2x":r},"5-10":{"1x":r,"2x":r},"10-20":{"1x":i,"2x":i},"20-40":p,"40-80":p,"80_or_above":p})[u][c]||l||void 0}function l(e){var t=e.vHLSV3MOBILE,n=a(function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,r)),i=t||void 0;return n?{hlsv3:i,mp4:n}:{hlsv3:i}}},463045:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t){var n=t.organicVideosAutoplaying,r=t.promotedVideosAutoplaying,i=o(o({},n),r);return!!i[e]&&!i[e].paused}n.d(t,{Z:function(){return a}})},121630:function(e,t,n){"use strict";n.d(t,{Z:function(){return o},e:function(){return i}});var r=n(81226),i=function(e){if("undefined"==typeof window)return"";var t=0,n=document.querySelector('[data-test-id="header"]');switch(null!==n&&(t+=n.getBoundingClientRect().height),e){case"AuthHomefeed":var r=document.querySelector('[data-root-margin="more-ideas-tabs"]');null!==r&&(t+=r.getBoundingClientRect().height);break;case"SearchItem":var i=document.querySelector('[data-root-margin="search-improvements-bar"]');null!==i&&(t+=i.getBoundingClientRect().height);var o=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');null!==o&&(t+=o.getBoundingClientRect().height)}return"".concat(-1*t,"px 0px 0px 0px")},o=function(e){var t=e.videosDuration,n=e.vHLSV4VideoDuration,i=e.storyPinDataTotalVideoDuration;return(0,r.Z)(t||n||i||0)}},599611:function(e,t,n){"use strict";function r(e){var t=e.cropArea,n=e.scaledWidth,r=e.scaledHeight;return{h:Math.floor((t.h||0)*r),w:Math.floor((t.w||0)*n),x:Math.floor((t.x||0)*n),y:Math.floor((t.y||0)*r)}}n.d(t,{Z:function(){return r}})},94047:function(e,t,n){"use strict";function r(e){var t=e.cropArea,n=e.cropSource,r=e.requestParams,i=e.searchQuery,o=e.surfaceType,a=e.title,l=e.trafficSource,s=[];if(t){var u=t.x,c=t.y,d=t.w,p=t.h;u>=0&&c>=0&&d>=0&&p>=0&&s.push("x=".concat(u),"y=".concat(c),"w=".concat(d),"h=".concat(p))}return n&&s.push("cropSource=".concat(n)),o&&s.push("surfaceType=".concat(o)),a&&s.push("full_feed_title=".concat(encodeURIComponent(a))),i&&s.push("q=".concat(i)),l&&"unknown"!==l&&s.push("rs=".concat(l)),r&&s.push("requestParams=".concat(encodeURIComponent(r))),s.length?"?".concat(s.join("&")):""}n.d(t,{Z:function(){return r}})},487392:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(780280),i=n(784590),o=n(19121);function a(){var e,t=(0,r.B)(),n=(0,o.Z)(),a=t.advertiser,l=(0,i.Z)(null!=a&&a.merchant_id?null:{name:"UserResource",options:{user_id:a?a.owner_user_id:n.isAuth&&n.id,field_set_key:"merchant_summary"}});return{merchantId:(null==a?void 0:a.merchant_id)||(null===(e=l.data)||void 0===e?void 0:e.ppa_merchant_id)||"",advertiserId:(null==a?void 0:a.id)||"",ownerUserId:(null==a?void 0:a.owner_user_id)||(n.isAuth?n.id:""),advertiser:a}}},224438:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(784590),i=n(19121),o=n(487392),a=n(709622);function l(){var e,t,n=(0,i.Z)(),l=(0,o.Z)().ownerUserId,s=null!==(e=null===(t=(0,r.Z)({name:"UserResource",options:{field_set_key:"viewing_user",user_id:null!=l?l:n.isAuth&&n.id}}).data)||void 0===t?void 0:t.country)&&void 0!==e?e:"";return{country:s,currency:(0,a.jY)(s)[0],currencySymbol:(0,a.jY)(s)[1]}}},36675:function(e,t,n){"use strict";n.d(t,{AC:function(){return p},AV:function(){return o},Bm:function(){return d},E2:function(){return c},HS:function(){return l},cb:function(){return r},mX:function(){return u},rf:function(){return i},yo:function(){return a},zv:function(){return s}});var r=150,i=175,o=300,a=700,l=4e3,s=6e3,u={DESC:"desc",ASC:"asc"},c={SHOPIFY:"SHOPIFY",WOOCOMMERCE:"WOOCOMMERCE"},d=32,p=10},733941:function(e,t,n){"use strict";n.d(t,{GN:function(){return _},Ju:function(){return m},lW:function(){return v},nl:function(){return f},p8:function(){return y},so:function(){return b}});var r=n(76911),i=n(56641),o=n(826067),a=n(36675),l=n(306732);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=function(e){var t=e.advertiser,n=e.history,r=e.location,a=t&&t.id,l=t&&t.actions,s=(0,o.mB)(r.search),u=s.advertiserId;if(r){var c=!a||l&&l.includes(68);if(!a&&u||!c)return(0,i.Z)("".concat(r.pathname)),!0;if(a&&a!==u)return n.replace({pathname:r.pathname,search:"?".concat((0,o.XP)(p(p({},s),{},{advertiserId:a})))}),!0}return!1};function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=function(e){return"function"==typeof e?e():null!=e?e:0};return[].concat(Object.entries(e)).sort(function(e,r){var i=u(e,2),o=i[0],a=i[1],l=u(r,2),s=l[0],c=l[1];return(-1!==(null!=t?t:[]).indexOf(o)?t.indexOf(o):n(a.order))-(-1!==(null!=t?t:[]).indexOf(s)?t.indexOf(s):n(c.order))}).map(function(e){var t=u(e,2);return[t[0],t[1]]})}function y(e,t,n){var r=function(e){return null==e},i=function(e,t,n){return Number.isNaN(e)&&Number.isNaN(t)?0:Number.isNaN(e)?1:Number.isNaN(t)?-1:n};return function(o,l){for(var s=0,u=Object.keys(e);s<u.length;s++){var c=e[u[s]],d=c.value,p=c.propertyName,f=c.type,m=c.isSortable,y=c.propertyPath;if(m&&(p||y)&&t===d){var h,g,v=(null!==(h=null!=p?p:y)&&void 0!==h?h:"").split(".").reduce(function(e,t){return null==e?void 0:e[t]},o),b=(null!==(g=null!=p?p:y)&&void 0!==g?g:"").split(".").reduce(function(e,t){return null==e?void 0:e[t]},l);if(r(v)&&r(b))return 0;if(r(v))return 1;if(r(b))return -1;if(f===Number){var _=Number(v),x=Number(b);return i(_,x,n===a.mX.ASC?_-x:x-_)}if(f===Date){var P=new Date(v),S=new Date(b);return i(P.getTime(),S.getTime(),n===a.mX.ASC?P-S:S-P)}if(f===String||!f){var j=String(v),w=String(b);return n===a.mX.ASC?j.localeCompare(w):w.localeCompare(j)}}}return null}}function h(e){var t=(0,r.createElement)(e).type;return function(e){return t===e.type}}function g(e){return r.Children.toArray(e).flatMap(function(e){return h(r.Fragment)(e)?g(e.props.children):e})}function v(e,t){var n;return null!==(n=g(e).find(h(t)))&&void 0!==n?n:null}function b(e,t){return g(e).filter(h(t))}var _=function(e,t,n){if(n===l.Be[Number(t)]){if(1===Number(t))return e._('All Products', 'catalogs.productGroup.name.allProducts', 'Product group name All Products');if(2===Number(t))return e._('Best Deals', 'catalogs.productGroup.name.bestDeals', 'Product group name Best Deals');if(3===Number(t))return e._('Most Popular', 'catalogs.productGroup.name.mostPopular', 'Product group name Most Popular');if(4===Number(t))return e._('Top Sellers', 'catalogs.productGroup.name.topSellers', 'Product group name Top Sellers');else if(5===Number(t))return e._('Back In Stock', 'catalogs.productGroup.name.inStock', 'Product group name In Stock');else if(6===Number(t))return e._('New Arrivals', 'catalogs.productGroup.name.newArrivals', 'Product group name New Arrivals')}return n}},306732:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){var i;return(i=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===r(i)?i:String(i))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Be:function(){return g},DD:function(){return T},EK:function(){return v},Eo:function(){return j},HK:function(){return ea},J_:function(){return em},KO:function(){return Z},MD:function(){return H},MU:function(){return V},PD:function(){return W},QE:function(){return F},QX:function(){return Q},R0:function(){return er},Rd:function(){return ey},V0:function(){return O},VO:function(){return ep},WH:function(){return N},XT:function(){return D},Y3:function(){return _},aF:function(){return Y},aZ:function(){return f},bS:function(){return w},cU:function(){return R},cm:function(){return J},d0:function(){return I},eu:function(){return S},g2:function(){return L},gd:function(){return z},h1:function(){return X},h8:function(){return y},hh:function(){return E},iu:function(){return ei},j0:function(){return ef},j1:function(){return q},k7:function(){return eo},kc:function(){return P},kl:function(){return x},kq:function(){return A},l5:function(){return k},pF:function(){return G},pM:function(){return U},pV:function(){return C},ps:function(){return h},q9:function(){return b},qB:function(){return en},qf:function(){return ec},r2:function(){return M},rC:function(){return K},rD:function(){return eu},sG:function(){return $},ss:function(){return ed},t7:function(){return es},ul:function(){return m},vr:function(){return el},wZ:function(){return et},yA:function(){return ee},yq:function(){return B}});var o,a,l,s,u,c,d,p,f=864e5,m={IN_STOCK:"in stock",OUT_OF_STOCK:"out of stock",PREORDER:"preorder"},y={NEW:"new",USED:"used",REFURBISHED:"refurbished"},h={MALE:"male",FEMALE:"female",UNISEX:"unisex"},g=(i(o={},1,"All Products"),i(o,2,"Best Deals"),i(o,3,"Most Popular"),i(o,4,"Top Sellers"),i(o,5,"Back In Stock"),i(o,6,"New Arrivals"),o),v={FEATURED:"FEATURED",CAN_FEATURE:"CAN_FEATURE",FEATURING:"FEATURING",NO_FILTERS:"NO_FILTERS",TOO_FEW_PRODUCTS:"TOO_FEW_PRODUCTS",TOO_FEW_UNIQUE_PRODUCTS:"TOO_FEW_UNIQUE_PRODUCTS",TOO_MANY_PRODUCTS:"TOO_MANY_PRODUCTS",MAX_GROUPS_FEATURED:"MAX_GROUPS_FEATURED",UNFEATUREABLE:"UNFEATUREABLE"},b=[1,2,3,4,5,6,7,8],_=[1,2,3,4,5,6,8],x=[1,2,3,4,5,6,7,0,8],P=90,S=350,j=72,w=450,O=200,A=12,k=114,C={MERCHANT_CREATED:"MERCHANT_CREATED",ALL_PRODUCTS:"ALL_PRODUCTS"},D={FEATUREABLE:1,UNFEATUREABLE_NOT_ENOUGH_PINS:2,UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATUREABLE_EXCEEDED_PINS_LIMIT:4},E={ITEM_ID:"Item ID",PRODUCT_CATEGORY:"Category",PRODUCT_TYPE:"Product type",BRANDS:"Brands",COST:"Cost",CUSTOM_LABEL:"Custom",CUSTOM_LABEL_0:"Custom label 0",CUSTOM_LABEL_1:"Custom label 1",CUSTOM_LABEL_2:"Custom label 2",CUSTOM_LABEL_3:"Custom label 3",CUSTOM_LABEL_4:"Custom label 4",AVAILABILITY:"Availability",PRICE:"Price",GENDER:"Gender",CONDITION:"Condition",CURRENCY:"Currency",ITEM_GROUP_ID:"Item group ID"},I=[E.PRODUCT_CATEGORY,E.PRODUCT_TYPE,E.BRANDS,E.CUSTOM_LABEL_0,E.CUSTOM_LABEL_1,E.CUSTOM_LABEL_2,E.CUSTOM_LABEL_3,E.CUSTOM_LABEL_4],T=(i(a={},E.ITEM_ID,["ITEM_ID"]),i(a,E.ITEM_GROUP_ID,["ITEM_GROUP_ID"]),i(a,E.PRODUCT_CATEGORY,["GOOGLE_PRODUCT_CATEGORY_0"]),i(a,E.PRODUCT_TYPE,["PRODUCT_TYPE_0"]),i(a,E.COST,["MIN_PRICE","MAX_PRICE"]),i(a,E.BRANDS,["BRAND"]),i(a,E.CUSTOM_LABEL,["CUSTOM_LABEL_0","CUSTOM_LABEL_1","CUSTOM_LABEL_2","CUSTOM_LABEL_3","CUSTOM_LABEL_4"]),i(a,E.AVAILABILITY,["AVAILABILITY"]),i(a,E.CONDITION,["CONDITION"]),i(a,E.GENDER,["GENDER"]),a),R=[E.CUSTOM_LABEL,E.COST,E.CURRENCY],F=(i(l={},1,m.IN_STOCK),i(l,2,m.OUT_OF_STOCK),i(l,3,m.PREORDER),l),L=(i(s={},1,y.NEW),i(s,2,y.USED),i(s,3,y.REFURBISHED),s),z=(i(u={},1,h.MALE),i(u,2,h.FEMALE),i(u,3,h.UNISEX),u),M=(i(c={},1,E.ITEM_ID),i(c,5,E.PRODUCT_CATEGORY),i(c,12,E.PRODUCT_TYPE),i(c,3,E.BRANDS),i(c,2,E.AVAILABILITY),i(c,17,E.CUSTOM_LABEL_0),i(c,18,E.CUSTOM_LABEL_1),i(c,19,E.CUSTOM_LABEL_2),i(c,20,E.CUSTOM_LABEL_3),i(c,21,E.CUSTOM_LABEL_4),i(c,4,E.CONDITION),i(c,25,E.GENDER),i(c,22,E.PRICE),i(c,23,E.PRICE),i(c,26,E.CURRENCY),i(c,24,E.ITEM_GROUP_ID),c),B=(i(d={},E.ITEM_ID,1),i(d,E.PRODUCT_CATEGORY,5),i(d,E.PRODUCT_TYPE,12),i(d,E.BRANDS,3),i(d,E.AVAILABILITY,2),i(d,E.CUSTOM_LABEL_0,17),i(d,E.CUSTOM_LABEL_1,18),i(d,E.CUSTOM_LABEL_2,19),i(d,E.CUSTOM_LABEL_3,20),i(d,E.CUSTOM_LABEL_4,21),i(d,E.CONDITION,4),i(d,E.GENDER,25),i(d,E.PRICE,23),i(d,E.CURRENCY,26),i(d,E.ITEM_GROUP_ID,24),d),N={GREATER_INCLUSION:"0",GREATER_EXCLUSION:"1",LESS_INCLUSION:"2",LESS_EXCLUSION:"3"},Z=(i(p={},N.GREATER_EXCLUSION,{filterType:22,filterOperator:{negated:!1,inclusion:!1}}),i(p,N.GREATER_INCLUSION,{filterType:22,filterOperator:{negated:!1,inclusion:!0}}),i(p,N.LESS_EXCLUSION,{filterType:23,filterOperator:{negated:!1,inclusion:!1}}),i(p,N.LESS_INCLUSION,{filterType:23,filterOperator:{negated:!1,inclusion:!0}}),p),U="newlyCreatedPGId",K="storefront",H={campaignId:"createNewCampaign",objectiveType:"CATALOG_SALES",absolutify:!0},V=163,G=350,W={LIST:"LIST",GRID:"GRID"},q="236x",Y=23,X=164,$=256,Q=112,J="calc(100vh - ".concat(175,"px)"),ee=75,et=200,en=40,er={PRODUCT_GROUP_NAME:"PRODUCT_GROUP_NAME",PRODUCT_COUNT:"PRODUCT_COUNT",PRODUCT_AVAILABILITY:"PRODUCT_AVAILABILITY",LAST_UPDATE:"LAST_UPDATE",PRODUCT_GROUP_PROMOTED:"PRODUCT_GROUP_PROMOTED",PRODUCT_GROUP_FEATURED:"PRODUCT_GROUP_FEATURED",PRODUCT_GROUP_ACTIONS:"PRODUCT_GROUP_ACTIONS",PG_METRIC:"PG_METRIC",PRODUCT_GROUP_COUNTRY:"PRODUCT_GROUP_COUNTRY"},ei=500,eo=20,ea=40,el=100,es=4,eu={DELETE_FAILED:"DELETE_FAILED",DELETE_SUCCESSFULLY:"DELETE_SUCCESSFULLY",REMOVE_SUCCESSFULLY:"REMOVE_SUCCESSFULLY"},ec={ALL:"ALL",MIXED:"MIXED",FEED_PROFILE:"FEED_PROFILE"},ed="US",ep="selectedCountryKey",ef="selectedFeedProfileId",em="activated",ey="ads_create_source_param"},400264:function(e,t,n){"use strict";n.d(t,{G7:function(){return l},Lp:function(){return d},Ib:function(){return v}});var r=n(784590);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=(0,r.Z)(t?null:{name:"FeaturedProductGroupsResource",enabledRouteRefresh:!0,options:e});return a(a({},n),{},{isLoaded:!0,data:n&&n.data||[]})}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.Z)({name:"ProductGroupFilterResource",options:e,enabledRouteRefresh:!0});return c(c({},t),{},{data:t&&t.data||{}})}var p=n(76911),f=n(898781),m=n(733941);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,f.ZP)(),o=(0,r.Z)(t?null:{name:"ProductGroupsResource",options:e,enabledRouteRefresh:!0,noCache:n}),a=(0,p.useMemo)(function(){return o.data&&o.isLoaded?o.data.map(function(e){return e.name=(0,m.GN)(i,e.type,e.name),e}):[]},[i,o.data,o.isLoaded]);return g(g({},o),{},{data:a})}},992544:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r,i=n(76911),o=n(782296),a=n(224438),l=n(306732);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=void 0!==r?r:r=n(635272);function c(e){var t,n,r,c,d=e.productGroups,p=e.selectedCountry,f=(0,a.Z)().country,m=(0,o.useLazyLoadQuery)(u,{}),y=(0,i.useMemo)(function(){var e,t;return(null!==(e=null===(t=m.v3GetCountriesListQuery)||void 0===t?void 0:t.data)&&void 0!==e?e:[]).find(function(e){return(null==e?void 0:e.key)===f||(null==e?void 0:e.key)===l.ss})},[null===(t=m.v3GetCountriesListQuery)||void 0===t?void 0:t.data,f]),h=y&&{value:null!==(n=y.key)&&void 0!==n?n:"",label:null!==(r=y.name)&&void 0!==r?r:""},g=(0,i.useMemo)(function(){var e,t,n;return((function(e){if(Array.isArray(e))return s(e)})(n=null!==(e=null===(t=m.v3GetCountriesListQuery)||void 0===t?void 0:t.data)&&void 0!==e?e:[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter(function(e){return e&&e.name}).sort(function(e,t){return e&&t&&e.name&&t.name?e.name.localeCompare(t.name):0})},[null===(c=m.v3GetCountriesListQuery)||void 0===c?void 0:c.data]),v=(0,i.useMemo)(function(){return d?g.filter(function(e){return d.some(function(t){return t.country===(null==e?void 0:e.key)})}):g},[d,g]).map(function(e){var t=null!=e?e:{},n=t.key,r=t.name;return{value:null!=n?n:"",label:null!=r?r:""}}),b=v.find(function(e){return e.value===p});return{options:v,selectedOption:b,defaultOption:h}}},869899:function(e,t,n){"use strict";n.r(t),n.d(t,{RoleBasedAccessControlProvider:function(){return k},useRoleBasedAccessControlContext:function(){return A}});var r=n(76911),i=n(425288),o=n(773285),a=n(784590),l=n(19121),s=n(389643),u=n(339363),c=n(70061);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=function e(t){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&("object"!==f(t[r])||null===t[r]||Array.isArray(t[r])?n[(0,c.Z)(r)]=t[r]:n[(0,c.Z)(r)]=e(t[r]));return n},y=function(e,t){var n=[];for(var r in e)r!==t&&n.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:r},m(e[r])));var i,o=n.sort(function(e,t){var n=e.user.businessName,r=t.user.businessName;return n.localeCompare(r)}),a=new Map,l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(o);try{for(l.s();!(i=l.n()).done;){var s=i.value;a.set(s.id,s)}}catch(e){l.e(e)}finally{l.f()}return a};function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},x=function(e,t){switch(t.type){case"LOAD_PROFILES":return b(b({},e),{},{profiles:t.payload});case"SET_ACTIVE_PROFILE":return b(b({},e),{},{activeProfile:t.payload});case"TOGGLE_HEADER_VISIBILITY":return b(b({},e),{},{headerVisible:t.payload});case"TOGGLE_ORBAC_VISIBILITY":return b(b({},e),{},{orbacVisibility:t.payload});case"TOGGLE_DISABLE_PROFILE_CHANGER":return b(b({},e),{},{disableProfileChanger:t.payload});default:return e}},P=function(e){var t=e.dispatch,n=e.isEnabled,i=e.state,o=i.orbacVisibility,a=i.disableProfileChanger,l=i.headerVisible;return{changeProfile:(0,r.useCallback)(function(e){n&&t({type:"SET_ACTIVE_PROFILE",payload:e})},[n,t]),toggleORBACVisibility:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=e?e:!o})},[n,t,o]),toggleDisableProfileChanger:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=e?e:!a})},[n,t,a]),toggleHeaderVisibility:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=e?e:!l})},[n,t,l])}},S=function(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(x,_))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=n[0],o=n[1],a=P({dispatch:o,isEnabled:e,state:i}),l=i.activeProfile,s=i.orbacVisibility;return(0,r.useEffect)(function(){var e=(0,u.qn)("orbacActiveProfile",!1);e&&o({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,r.useEffect)(function(){var e=(0,u.qn)("orbacVisibilty",!1);e&&o({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,r.useEffect)(function(){(0,u.Nh)("orbacVisibility",s)},[s]),(0,r.useEffect)(function(){(0,u.Nh)("orbacActiveProfile",l)},[l]),{state:i,actions:a,receiveProfiles:(0,r.useCallback)(function(e,t){o({type:"LOAD_PROFILES",payload:y(e,t)})},[o])}},j=n(515198),w=(0,i.Z)("RoleBasedAccessControlContext"),O=w.Provider,A=w.useMaybeHook,k=function(e){var t,n=e.children,i=(0,o.F)().checkExperiment,u=(0,l.Z)(),c=!!(u.isAuth&&u.isPartner&&i("web_m10n_business_access_orbac_www").anyEnabled),d=S(c),p=d.state,f=d.actions,m=d.receiveProfiles,y=p.activeProfile,h=p.headerVisible,g=p.profiles,v=void 0===g?[]:g,b=v?Array.from(v.values()):[],_=(0,s.Z)(b),x=!!u.isAuth&&b.length>0&&_,P=u.isAuth?u.id:"",w=u.isAuth?u.username:"",A=f.changeProfile,k=f.toggleORBACVisibility,C=f.toggleDisableProfileChanger,D=f.toggleHeaderVisibility;(0,r.useEffect)(function(){if(c){if("string"==typeof _){A(_);return}y||A(P)}},[_,P,c,A,y]),(0,r.useEffect)(function(){c&&(x&&!h&&D(!0),!x&&h&&D(!1))},[D,x,c,h,v]);var E=(0,a.Z)(c?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null).data,I=null==E?void 0:E.profiles;u&&u.isAuth&&p.activeProfile===u.id?t={id:u.id,permissions:["OWNER"],user:{username:w,businessName:u.fullName,imgUrl:u.imageSmallUrl}}:y&&p.profiles&&(t=p.profiles.get(y)),(0,r.useEffect)(function(){I&&m(I,P)},[m,I,P]);var T=p.profiles?Array.from(p.profiles.values()):[];return(0,j.jsx)(O,{value:{profiles:T,headerVisible:p.headerVisible,activeProfile:t,changeProfile:A,toggleORBACVisibility:k,toggleDisableProfileChanger:C,toggleHeaderVisibility:D},children:n})}},717615:function(e,t,n){"use strict";var r=n(773285),i=n(869899),o=n(389643);t.Z=function(){var e=(0,r.F)().checkExperiment,t=(0,i.useRoleBasedAccessControlContext)(),n=(t||{}).activeProfile,a=e("web_m10n_business_access_orbac_www").anyEnabled,l=(0,o.Z)((null==t?void 0:t.profiles)||[]),s=e("useorbacroutematcher_in_useorbacactingas").anyEnabled;return a&&(!s||l)&&n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({})}},389643:function(e,t,n){"use strict";var r=n(599689),i=n(53987),o=n(773285),a=n(19121),l=n(350118);t.Z=function(e){var t,n,s,u,c=(0,r.useLocation)(),d=(0,a.Z)(),p=(0,l.S6)(),f=(0,o.F)().checkExperiment("web_m10n_business_access_orbac_www").anyEnabled,m=(0,r.useRouteMatch)("/:username"),y=null==m?void 0:null===(t=m.params)||void 0===t?void 0:t.username,h=(0,r.useRouteMatch)("/pin/:id"),g=null!=h&&null!==(n=h.params)&&void 0!==n&&!!n.id&&(null===(s=p(h.params.id))||void 0===s?void 0:null===(u=s.pinner)||void 0===u?void 0:u.id);if((0,i.ej)(c))return!1;if((0,i.RU)(c))return!0;if((0,i.mY)(c))return f;var v=e.concat(d.isAuth?{user:{username:d.username},id:d.id}:{}).find(function(e){var t=e||{},n=t.user,r=t.id,i=(void 0===n?{}:n).username;return(!!i&&!!y||!!g&&!!r)&&(i===y||g===r)});return!!v&&v.id}},845772:function(e,t,n){"use strict";var r=n(19121),i=n(717615),o=n(231947);t.Z=function(){var e=(0,r.Z)(),t=(0,i.Z)();return(0,o.lJ)(e,t)}},231947:function(e,t,n){"use strict";n.d(t,{D3:function(){return u},DX:function(){return l},KY:function(){return c},Ms:function(){return r},N1:function(){return d},_P:function(){return a},lJ:function(){return o},nl:function(){return i},q6:function(){return s}});var r=function(e,t){var n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},i=function(e,t){return!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool)},o=function(e,t){return e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:""},a=function(e,t,n){var r;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null===(r=e.advertiser)||void 0===r?void 0:r.merchant_id},l=function(e,t,n){return n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0},s=function(e,t,n){return!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t)},u=function(e,t,n){return!!(s(e,t,n)||e&&e.isAuth&&t===e.id)},c=function(e,t,n){return u(e,t&&t.owner&&t.owner.id||"",n)};function d(e,t,n){return u(e,t?t.id:"",n)}},139405:function(e,t,n){"use strict";n.d(t,{pb:function(){return D},nf:function(){return E},lV:function(){return I}});var r=n(76911),i=n(506979),o=n(674631),a=n.n(o),l=n(214494),s=n(425288),u=n(186656),c=n(505920),d=n(594736),p=n(767546);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t,n){var r;return(r=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===f(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={feature_map:Object.freeze({})},v=function(e,t){var n=y(y(y(y({},(0,p.Z)(e,t)),t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({})),t.tags?{tags:t.tags}:Object.freeze({})),t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({}));return(0,d.ZP)(e,n)?e:n},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;if("FETCH_COMPLETE"===t.type){var n=t.payload.resource,r=t.payload.response.resource_response.data;if("AggregatedCommentFeedResource"===n||"AggregatedCommentReplyFeedResource"===n||"DidItCommentsResource"===n){var i=(r||[]).reduce(function(t,n){return t[n.id]=v(e[n.id],n),t},{});return y(y({},e),i)}if("UnifiedCommentsResource"===n&&r&&r.length>0){var o=r.filter(function(e){return"aggregatedcomment"===e.type}).reduce(function(t,n){return t[n.id]=v(e[n.id],n),t},{});return y(y({},e),o)}if("UnifiedCommentsPreviewResource"===n&&r&&r.length>0){var a=r[0].aggregated_comment,l=a?h({},a.id,v(e[a.id],a)):{},s=r[0].creator_reply,u=s?h({},s.id,v(e[s.id],s)):{};return y(y(y({},e),l),u)}if("AggregatedCommentFeaturesResource"===n&&r&&Object.keys(r).length>0)return y(y({},e),{},{feature_map:r})}else if("AGGREGATED_COMMENT_CREATED"===t.type){var c=t.payload.aggregatedComment;return c.id?y(y({},e),{},h({},c.id,c)):e}else if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){var d=t.payload.aggregatedCommentId,p=y({},e);return delete p[d],p}else if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){var f=t.payload.userId;return Object.fromEntries(Object.entries(e).filter(function(e){var t;return(null===(t=e[1].user)||void 0===t?void 0:t.id)!==f}))}else if("AGGREGATED_COMMENT_UPDATED"===t.type){var m=t.payload.data;return y(y({},e),{},h({},m.id,v(e[m.id],m)))}else if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){var b=t.payload.data,_=e[b.id],x=_.reaction_counts[1]||0,P=h({},1,b.reaction_by_me?x+1:x-1),S=y(y({},_),{},{reaction_by_me:b.reaction_by_me,reaction_counts:P});return y(y({},e),{},h({},b.id,S))}else if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){var j=t.payload.data,w=e[j.id],O=w.helpful_count||0,A=j.marked_helpful_by_me?O+1:O-1,k=y(y({},w),{},{marked_helpful_by_me:j.marked_helpful_by_me,helpful_count:A});return y(y({},e),{},h({},j.id,k))}else if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){var C=t.payload.data,D=y(y({},e[C.aggregated_comment_id]),{},{highlighted_by_pin_owner:C.is_highlighted});return y(y({},e),{},h({},C.aggregated_comment_id,D))}else if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){var E=t.payload.data.featureMap;return y(y({},e),{},{feature_map:y(y({},e.feature_map),E)})}else if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){var I=t.payload,T=I.increment,R=I.id,F=e[R];if(!F)return e;var L=y(y({},F),{},{comment_count:F.comment_count+T});return y(y({},e),{},h({},R,L))}else if("DELETE_COMMENT_MENTION"===t.type){var z=t.payload,M=z.aggregatedCommentId,B=z.tagged_users,N=y(y({},e[M]),{},{tagged_users:B});return y(y({},e),{},h({},M,N))}else if("GET_COMMENT_TRANSLATION"===t.type){var Z=t.payload,U=Z.aggregatedCommentId,K=Z.translatedText,H=y(y({},e[U]),{},{translatedText:K});return y(y({},e),{},h({},U,H))}return e},_=n(515198);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function S(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){P(o,r,i,a,l,"next",e)}function l(e){P(o,r,i,a,l,"throw",e)}a(void 0)})}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var A=(0,s.Z)("AggregatedComments"),k=A.Provider,C=A.useHook;function D(e){var t,n=e.children,o=(0,i.useSelector)(function(e){return e.resources.UnifiedCommentsResource}),a=g;o&&Object.values(o).forEach(function(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.filter(function(e){return"aggregatedcomment"===e.type}),r=null==n?void 0:n.reduce(function(e,t){return e[t.id]=v(a[t.id],t),e},{});a=O(O({},a),r)});var l=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(b,a))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=l[0],u=l[1],d=function(e){u({type:"FETCH_COMPLETE",payload:e})};(0,c.Z8)("AggregatedCommentFeaturesResource",d),(0,c.my)("AggregatedCommentFeaturesResource",d),(0,c.Z8)("AggregatedCommentFeedResource",d),(0,c.my)("AggregatedCommentFeedResource",d),(0,c.Z8)("AggregatedCommentReplyFeedResource",d),(0,c.my)("AggregatedCommentReplyFeedResource",d),(0,c.Z8)("DidItCommentsResource",d),(0,c.my)("DidItCommentsResource",d),(0,c.Z8)("UnifiedCommentsPreviewResource",d),(0,c.my)("UnifiedCommentsPreviewResource",d),(0,c.Z8)("UnifiedCommentsResource",d),(0,c.my)("UnifiedCommentsResource",d);var p=(0,r.useMemo)(function(){return{aggregatedComments:s,dispatch:u}},[s,u]);return(0,_.jsx)(k,{value:p,children:n})}function E(){var e=C().dispatch;return(0,r.useMemo)(function(){var t,n,r,i,o,s;return{aggregatedCommentCreated:function(t,n){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:n}})},aggregatedCommentDeleted:function(t,n){e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:n}})},aggregatedCommentHidden:function(t){e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:function(t){e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:(t=S(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commentId,r=t.reason,i=t.detailedReasons,e.abrupt("return",(0,u.Z)({url:"/v3/aggregated_comments/".concat(n,"/flag/"),method:"PUT",data:{commentId:n,reason:r,detailedReasons:i}}));case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),deleteCommentMention:(n=S(regeneratorRuntime.mark(function t(n){var r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.Z)({url:"/v3/aggregated_comments/".concat(n,"/mentions/"),method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}});case 2:e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:(i=null!==(r=t.sent.resource_response.data)&&void 0!==r?r:{}).id,tagged_users:i.tagged_users}});case 6:case"end":return t.stop()}},t)})),function(e){return n.apply(this,arguments)}),translateAggregatedComment:(r=S(regeneratorRuntime.mark(function t(n){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,u.Z)({url:"/v3/aggregated_comments/".concat(n,"/translate/"),method:"GET"});case 3:e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:n,translatedText:null!==(r=t.sent.resource_response.data)&&void 0!==r?r:""}}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:n,translatedText:""}});case 13:case"end":return t.stop()}},t,null,[[0,9]])})),function(e){return r.apply(this,arguments)}),toggleAggregatedCommentHelpful:function(t){var n=t.aggregatedCommentId,r=t.isMarkedHelpfulByMe;(0,u.Z)({url:"/v3/helpful/1/".concat(n,"/"),method:r?"DELETE":"POST"}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:n,marked_helpful_by_me:!r}}})},toggleAggregatedCommentHighlight:(i=S(regeneratorRuntime.mark(function t(n){var r,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.aggregatedCommentId,i=n.pinId,o=n.isHighlighted,a()(r,"Could not find comment"),a()(i,"Could not find Pin"),t.next=5,(0,u.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:r,pin:i,highlight:!o}});case 5:e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:r,pin_id:i,is_highlighted:!o}}});case 6:case"end":return t.stop()}},t)})),function(e){return i.apply(this,arguments)}),toggleAggregatedCommentLike:function(t){var n=t.aggregatedCommentId,r=t.isLikedByMe;(0,u.Z)({url:"/v3/aggregated_comments/".concat(n,"/react/"),method:r?"DELETE":"POST",data:{reaction_type:1}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:n,reaction_by_me:r?0:1}}})},updateAggregatedComment:(o=S(regeneratorRuntime.mark(function t(n){var r,i,o,a,s,u,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.commentId,o=n.force,a=n.orbacSubjectId,s=n.tags,u=n.text,t.next=3,l.Z.create("AggregatedCommentResource",O({commentId:i,force:o,tags:s,text:u},a?{orbacSubjectId:a}:{})).callUpdate({showError:!1});case 3:c=(null!==(r=t.sent.resource_response.data)&&void 0!==r?r:{}).tagged_users.map(function(e){return O({},e)}),e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:i,tagged_users:c,tags:JSON.parse(s),text:u}}});case 8:case"end":return t.stop()}},t)})),function(e){return o.apply(this,arguments)}),updateAggregatedCommentFeatures:(s=S(regeneratorRuntime.mark(function t(n){var r,i,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.userId,o=n.featureMap,a=n.passcode,t.next=3,l.Z.create("AggregatedCommentFeaturesResource",{userId:i,featureMap:o,passcode:a}).callUpdate({showError:!1});case 3:e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:null!==(r=t.sent.resource_response.data)&&void 0!==r?r:Object.freeze({})}}});case 7:case"end":return t.stop()}},t)})),function(e){return s.apply(this,arguments)}),updateCommentCount:function(t,n){e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:n,id:t}})}}},[e])}function I(){return C().aggregatedComments}},664569:function(e,t,n){"use strict";n.d(t,{n:function(){return i},o:function(){return r}});var r={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"},i={aggregatedComment:"aggregatedcomment",didIt:"userdiditdata",pin:"pin"}},965900:function(e,t,n){"use strict";n.d(t,{g:function(){return g},I:function(){return h}});var r=n(76911),i=n(425288),o=n(567450),a=n(41861);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return u(u({},e),{},{showTypeaheadOverlay:t.payload});if("SET_CURRENT_VIDEO"===t.type){var n=t.payload,r=n.pinId,i=n.isPromoted,o=n.currentTime,l=e.videosAutoplaying,s=l.currentlyPlayingOrganicVideoId,d=l.promotedVideosAutoplaying,p=l.organicVideosAutoplaying,f=(0,a.Z)(d),m=(0,a.Z)(p);return!i&&s?e:(i?f[r]={pinId:r,currentTime:o,paused:!1}:m[r]={pinId:r,currentTime:o,paused:!1},u(u({},e),{},{videosAutoplaying:{currentlyPlayingOrganicVideoId:i?s:r,promotedVideosAutoplaying:f,organicVideosAutoplaying:m}}))}if("SET_IS_AUTOPLAY"===t.type)return u(u({},e),{},{isAutoplay:t.payload});if("PAUSE_CURRENT_VIDEO"===t.type){var y=t.payload,h=y.pinId,g=y.isPromoted,v=y.currentTime,b=e.videosAutoplaying,_=b.promotedVideosAutoplaying,x=b.organicVideosAutoplaying,P=(0,a.Z)(_),S=(0,a.Z)(x);return g?P[h]=u(u({},P[h]),{},{paused:!0,currentTime:v}):S[h]=u(u({},S[h]),{},{paused:!0,currentTime:v}),u(u({},e),{},{videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:P,organicVideosAutoplaying:S}})}if("SET_APP_FOCUS_STATE"===t.type)return u(u({},e),{},{appInFocus:t.payload});if("SET_VIEWPORT_SIZE"===t.type)return u(u({},e),{},{viewportSize:t.payload});if("SET_FOOTER_VISIBILITY_STATE"===t.type)return u(u({},e),{},{footerPlusButtonVisible:t.payload});return e},p=n(515198);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var m=(0,i.Z)("AppUI"),y=m.Provider,h=m.useHook;function g(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(d,c))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],l=i[1],s=(0,r.useCallback)(function(e){return l({type:"PAUSE_CURRENT_VIDEO",payload:e})},[]),u=(0,r.useCallback)(function(e){return l({type:"SET_APP_FOCUS_STATE",payload:e})},[]),m=(0,r.useCallback)(function(e){return l({type:"SET_CURRENT_VIDEO",payload:e})},[]),h=(0,r.useCallback)(function(e){return l({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})},[]),g=(0,r.useCallback)(function(e){return l({type:"SET_IS_AUTOPLAY",payload:e})},[]),v=(0,r.useCallback)(function(e){return l({type:"SET_VIEWPORT_SIZE",payload:e})},[]),b=(0,r.useCallback)(function(e){return l({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})},[]),_=(0,r.useMemo)(function(){return{pauseAutoplay:s,setCurrentVideo:m,setFooterPlusButtonVisible:h,setIsAutoplay:g,setViewportSize:v,toggleTypeaheadOverlay:b,setAppFocusState:u,appUI:a}},[s,m,h,g,v,b,u,a]);return(0,r.useEffect)(function(){o.Z.onSessionResume(function(){u(!0)}).onSessionPause(function(){u(!1)})},[u]),(0,p.jsx)(y,{value:_,children:n})}},841509:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(908390),i=n(515198);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){var t=e.children,n=e.additionalStyles,l=void 0===n?{}:n;return(0,i.jsx)(r.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({pointerEvents:"none"},l)},"data-test-id":"contentLayer",children:t})}},674462:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r,i=n(76911);n(704217);var o=n(599689),a=n(908390),l=n(319915),s=n(916117),u=n(241244),c=n(947599),d=n(215292),p=n(19121),f=n(515198),m=function(e){var t,n,r=e.signal,i=e.anchor,o=e.setShowFlyout,l=e.setStore,s=(0,d.Z)(),u=s.hovered,c=s.onMouseEnter,p=s.onMouseLeave,m=function(e){o(function(e){return!e}),l(e)};return(0,f.jsx)(a.iP,{onTap:function(){return m(r)},rounding:"pill",onMouseEnter:c,onMouseLeave:p,children:(0,f.jsxs)(a.xu,{color:u?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:i,children:[(0,f.jsx)(a.xu,{display:"flex",minWidth:24,height:24,rounding:"circle",marginEnd:1,color:"default",justifyContent:"center",alignItems:"center",children:(0,f.jsx)(a.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,f.jsx)(a.Ee,{alt:"",color:null!==(t=r.backgroundColor)&&void 0!==t?t:"",src:null!==(n=r.iconUrl)&&void 0!==n?n:"",naturalHeight:1,naturalWidth:1})})}),(0,f.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:r.signalMessage})]})})},y=n(186656),h=n(898781),g=n(343341),v=n(499128);function b(e){var t=(0,h.ZP)(),n=e.onHide,r=(0,f.jsx)(a.xv,{children:t._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,f.jsx)(v.ZP,{onHide:n,text:r})}var _=function(e){var t=e.anchor,n=e.onDismiss,r=e.pinId,i=e.signal,o=(0,h.ZP)(),l=(0,p.Z)(),s=(0,g.F9)().showOneToast;if(!l.isEmployee)return null;var u=i.backgroundColor,c=i.iconUrl,d=i.signalId,m=i.signalMessage;return(0,f.jsx)(a.mh,{children:(0,f.jsx)(a.J2,{anchor:t,idealDirection:"right",onDismiss:n,positionRelativeToAnchor:!1,size:"lg",children:(0,f.jsxs)(a.xu,{padding:4,width:"100%",children:[(0,f.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,f.jsx)(a.X6,{size:"400",children:o._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,f.jsx)(a.xu,{paddingY:3,children:(0,f.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,f.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:c?(0,f.jsx)(a.Ee,{alt:o._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:c}):(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null!=u?u:""}},height:40,width:40})}),(0,f.jsx)(a.xv,{size:"200",children:m})]})}),(0,f.jsx)(a.xu,{marginBottom:3,children:(0,f.jsx)(a.xv,{size:"200",children:o._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,f.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,f.jsx)(a.zx,{fullWidth:!0,color:"red",size:"md",text:o._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:function(){(0,y.Z)({url:"/v3/pins/".concat(r,"/signal_request_review/"),method:"POST",data:{signal_id:d,user:l.id}}),n(),s(function(e){var t=e.hideToast;return(0,f.jsx)(b,{onHide:t})})}}),(0,f.jsx)(a.zx,{fullWidth:!0,color:"gray",size:"md",text:o._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:n})]})]})})})};function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function S(e){var t=e.signals,n=e.pinId,r=x((0,i.useState)(!1),2),o=r[0],s=r[1],d=(0,i.useRef)(null),p=x((0,i.useState)(t[0]),2),y=p[0],h=p[1];return(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(l.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,f.jsx)(c.Z,{children:(0,f.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,f.jsx)(u.Z,{children:(0,f.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:t.map(function(e){return(0,f.jsx)(a.xu,{marginEnd:2,children:(0,f.jsx)(m,{signal:e,anchor:d,setShowFlyout:s,setStore:h})},e.signalId)})})})})})}),o&&(0,f.jsx)(_,{anchor:d.current,onDismiss:function(){return s(!1)},pinId:n,signal:y})]})}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){var t,n=e.anchor,r=e.onDismiss,o=e.pinId,l=e.signals,s=(0,h.ZP)(),u=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=u[0],d=u[1],m=(0,p.Z)(),v=(0,g.F9)().showOneToast;if(!m.isEmployee)return null;var _=l.map(function(e){var t=e.signalMessage;return{href:"#",text:null!=t?t:""}}),x=l[c],P=x.backgroundColor,S=x.iconUrl,w=x.signalId,O=x.signalMessage,A=function(e){d(e.activeTabIndex)};return(0,f.jsx)(a.mh,{children:(0,f.jsx)(a.J2,{anchor:n,idealDirection:"right",onDismiss:r,positionRelativeToAnchor:!1,size:"lg",children:(0,f.jsxs)(a.xu,{padding:4,width:"100%",children:[l.length>1&&(0,f.jsx)(a.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,f.jsx)(a.mQ,{activeTabIndex:c,onChange:function(e){var t=e.event,n=e.activeTabIndex,r=e.dangerouslyDisableOnNavigation;t.preventDefault(),r(),A({activeTabIndex:n})},tabs:_})}),(0,f.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,f.jsx)(a.X6,{size:"400",children:s._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,f.jsx)(a.xu,{paddingY:3,children:(0,f.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,f.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:S?(0,f.jsx)(a.Ee,{alt:s._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:S}):(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null!=P?P:""}},height:40,width:40})}),(0,f.jsx)(a.xv,{size:"200",children:O})]})}),(0,f.jsx)(a.xu,{marginBottom:3,children:(0,f.jsx)(a.xv,{size:"200",children:s._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,f.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,f.jsx)(a.zx,{fullWidth:!0,color:"red",size:"md",text:s._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:function(){(0,y.Z)({url:"/v3/pins/".concat(o,"/signal_request_review/"),method:"POST",data:{signal_id:w,user:m.id}}),r(),v(function(e){var t=e.hideToast;return(0,f.jsx)(b,{onHide:t})})}}),(0,f.jsx)(a.zx,{fullWidth:!0,color:"gray",size:"md",text:s._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:r})]})]})})})};function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var A=void 0!==r?r:r=n(639920);function k(e){var t,n=e.signals,r=e.pinId,o=n[0],s=o.backgroundColor,p=o.iconUrl,m=o.signalMessage,y=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=y[0],g=y[1],v=(0,i.useRef)();return(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(l.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,f.jsx)(c.Z,{children:(0,f.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,f.jsx)(u.Z,{children:(0,f.jsx)(d.q,{children:function(e){var t=e.hovered,n=e.onMouseEnter,r=e.onMouseLeave;return(0,f.jsx)(a.iP,{onTap:function(){return g(function(e){return!e})},rounding:"pill",onMouseEnter:n,onMouseLeave:r,children:(0,f.jsxs)(a.xu,{color:t?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:v,children:[(0,f.jsx)(a.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"default",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,f.jsx)(a.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,f.jsx)(a.Ee,{alt:"",color:null!=s?s:"",src:null!=p?p:"",naturalHeight:1,naturalWidth:1})})}),(0,f.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:m})]})})}})})})})}),h&&v&&v.current&&(0,f.jsx)(w,{anchor:v.current,onDismiss:function(){return g(!1)},pinId:r,signals:n})]})}function C(e){var t=e.pinKey,n=(0,s.u)(A,t).data,r=(0,p.Z)(),a=(0,o.useLocation)().search,l=(0,i.useMemo)(function(){return new URLSearchParams(a)},[a]);if(!r.isEmployee)return null;var u=n.entityId,c=n.debAds,d=n.debContentQuality,m=n.debInclusiveProduct,y=n.debShopping,h=n.debTrustAndSafety;if(c)return(0,f.jsx)(k,{pinId:u,signals:c});if(d)return(0,f.jsx)(k,{pinId:u,signals:d});if(m){if("skin_tone"===l.get("type")){var g=m.filter(function(e){return"visual_signals_hair_pattern_v1"!==e.signalId});return(0,f.jsx)(S,{pinId:u,signals:g})}var v=m.filter(function(e){return"visual_body_analyses_v2_0"!==e.signalId});return(0,f.jsx)(S,{pinId:u,signals:v})}return y?(0,f.jsx)(k,{pinId:u,signals:y}):h?(0,f.jsx)(k,{pinId:u,signals:h}):null}},43671:function(e,t,n){"use strict";n.d(t,{ZP:function(){return b}});var r=n(76911),i=n(908390),o=n(407043),a=n(898781),l=n(55275),s=n(310227),u=n(841509),c=n(515198);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:s.Oc,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}}},g=["followed","related","search"],v=["pfy","pfyBoard"];function b(e){var t,n=e.feedbackType,d=e.pin,p=e.hideContents,y=(0,o.v)().logContextEvent,b=(0,a.ZP)(),_=m((0,r.useState)(!1),2),x=_[0],P=_[1],S=m((0,r.useState)(!1),2),j=S[0],w=S[1];(0,r.useEffect)(function(){return P(!0)},[]);var O=function(){return w(!0)},A=d.feedbackText,k=d.images,C=d.showFeedbackOverlay,D=d.undoAction,E=k&&(null===(t=k["236x"])||void 0===t?void 0:t.url),I=null!=A?A:{},T=I.subTitle,R=I.title,F=I.unfollow,L=!g.includes(n),z=v.includes(n);return(0,c.jsxs)(i.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,c.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[E&&(0,c.jsx)(u.Z,{additionalStyles:f(f(f({},h.background.base),x?h.background.blurred:{}),{},{backgroundImage:'url("'.concat(E,'")')})}),(0,c.jsx)(u.Z,{additionalStyles:f(f({},h.backdrop.base),h.backdrop.blurred)})]}),(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:f(f({},h.feedbackOverlayContainer.base),!C&&x?h.feedbackOverlayContainer.visible:{})},height:"100%",padding:4,position:"relative",width:"100%",children:!(void 0!==p&&p)&&(0,c.jsx)(i.xu,{height:"100%",children:(0,c.jsxs)(i.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,c.jsx)(i.xu,{marginBottom:2,children:(0,c.jsx)(i.X6,{color:"light",size:"400",children:R})}),(0,c.jsx)(i.xu,{display:"flex",marginBottom:1,children:(0,c.jsx)(i.xv,{color:"light",overflow:"normal",children:T})}),(0,c.jsxs)(r.Fragment,{children:[D&&"Reported"!==R&&(0,c.jsx)(i.xu,{"data-test-id":"undo-action-btn",children:(0,c.jsx)(i.iP,{onTap:D,children:(0,c.jsx)(i.xv,{color:"inverse",weight:"bold",overflow:"normal",children:b._('Undo', 'Text on the button to navigate to undo hiding a pin', 'Text on the button to navigate to undo hiding a pin')})})}),(0,c.jsxs)(i.xu,{marginTop:"auto",children:[!D&&!j&&F&&!z&&(0,c.jsx)(i.zx,{fullWidth:!0,color:"white",onClick:function(){return(0,l.t)(F.action,F.actionOptions,O,y)},text:b._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),L&&(0,c.jsx)(i.ZP,{color:"white",fullWidth:!0,href:"/edit",onClick:function(){y({event_type:101,view_type:1,view_parameter:92,element:11347})},text:b._('Tune your feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})]})]})]})})})]})}},740025:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}}),n(782296);var r,i=n(916117),o=n(680046),a=void 0!==r?r:r=n(150148);function l(e){var t,n,r,l,s,u,c,d,p,f,m,y,h,g,v,b=e.pinKey,_=e.feedbackType,x=e.viewParameter,P=(0,i.u)(a,b).data;return n=(t={feedbackType:_,viewParameter:x,boardFollowedByMe:!!(null!=P&&null!==(m=P.board)&&void 0!==m&&m.followedByMe),hasPromoter:!!(null!=P&&P.promoter),isDownstreamPromotion:!!(null!=P&&P.isDownstreamPromotion),pinnerFollowedByMe:!!(null!=P&&null!==(y=P.pinner)&&void 0!==y&&y.explicitlyFollowedByMe),hasRecommendationReason:!!(null!=P&&P.recommendationReason),recommendationReasonReason:null!==(h=null==P?void 0:null===(g=P.recommendationReason)||void 0===g?void 0:g.reason)&&void 0!==h?h:void 0,recommendationReasonHasBoard:!!(null!=P&&null!==(v=P.recommendationReason)&&void 0!==v&&v.board)}).feedbackType,r=t.viewParameter,l=t.boardFollowedByMe,s=t.hasPromoter,u=t.isDownstreamPromotion,c=t.pinnerFollowedByMe,d=t.hasRecommendationReason,p=t.recommendationReasonHasBoard,f=t.recommendationReasonReason,(0,o.hP)({boardFollowedByMe:l,feedbackType:n,promotion:s?{isDownstreamPromotion:u}:void 0,pinnerFollowedByMe:c,recommendationReason:d?{hasBoard:p,reason:f}:void 0,viewParameter:r})}},167234:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(76911),i=n(908390),o=n(992813),a=n(697335),l=n(977558),s=n(49028),u=n(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){var t=e.children,n=e.className,c=e.forwardRef,d=e.offset,f=void 0===d?0:d,m=e.position,y=e.shouldShowShadow,h=void 0!==y&&y,g=e.style,v=void 0===g?{}:g,b=e.top,_=(0,o.i)().setIsContentHeaderPresent;(0,r.useEffect)(function(){return _(!0),function(){_(!1)}},[]);var x=(0,s.WQ)(),P=x.currentScrollPosition,S=x.isScrolled,j=x.setSubheaderShadow;(0,r.useEffect)(function(){return h&&j("contentHeader"),function(){h&&j(null)}},[h]);var w=!1;"pending"!==b&&(w=null!=b?P>=b:S);var O=(0,a.t)(),A=(0,u.jsx)("div",{className:n,ref:c,style:p(p(p({},v),{},{top:O+f},w&&h?p(p({},l.Rz),{},{zIndex:499}):{}),m&&"sticky"!==m?{position:m}:{}),children:t});return"sticky"===m?(0,u.jsx)(i.Le,{top:O+f,children:A}):A}},992813:function(e,t,n){"use strict";n.d(t,{Z:function(){return c},i:function(){return u}});var r=n(76911),i=n(425288),o=n(515198);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=(0,i.Z)("ContentHeader"),s=l.Provider,u=l.useHook;function c(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=i[0],u=i[1],c=(0,r.useMemo)(function(){return{isContentHeaderPresent:l,setIsContentHeaderPresent:u}},[l]);return(0,o.jsx)(s,{value:c,children:n})}},313951:function(e,t,n){"use strict";n.d(t,{i5:function(){return D},sX:function(){return T},aX:function(){return E},Z5:function(){return C},NG:function(){return I},MT:function(){return R},iu:function(){return F}});var r,i=n(76911),o=n(214494),a=n(827896),l=n(425288),s=n(505920),u=n(767546);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n){var r;return(r=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===c(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e,t){return e.data[t]&&e.data[t].messages||[]};function g(e,t){var n={};return e.filter(function(e){return!!e}).reduce(function(e,r){var i=t(r);return n[i]?(n[i]=(0,u.Z)(n[i],r),e):(n[i]=r,e.concat([r]))},[])}function v(e){return m(e).sort(function(e,t){return new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)})}function b(e,t,n){return v(g(h(e,t).concat(n),function(e){return e.id}))}var _={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;if("CONVERSATION_OPEN"===t.type)return p(p({},e),{},{open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:p(p({},e.ui),{},f({},t.payload.id,{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}))});if("CONVERSATION_CLOSE"===t.type)return p(p({},e),{},{open:null,objectAttachment:null,showNewMessageView:!1,ui:p(p({},e.ui),{},f({},t.payload.id,{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}))});if("CONVERSATION_CREATE"===t.type){var n=t.payload.id;return p(p({},e),{},{data:p(p({},e.data),{},f({},n,p(p({},e.data[n]||{}),t.payload)))})}if("CONVERSATION_DELETE"===t.type){var r=p(p({},e),{},{data:p({},e.data)}),i=t.payload.id;return delete r.data[i],r}if("FETCH_COMPLETE"===t.type){var o=t.payload,a=o.options,l=o.resource,s=o.response.resource_response.data;if("ConversationMessagesResource"===l){var u=s||[],c=(null==a?void 0:a.conversation_id)||"",d=b(e,c,u),y=d[d.length-1];return p(p({},e),{},{data:p(p({},e.data),{},f({},c,p(p({},e.data[c]),{},{id:c,messages:d,unread:0,last_message:y})))})}if("ConversationsResource"===l){var x=s||[],P=p(p({},e),{},{data:p({},e.data)});return x.forEach(function(e){var t=e.id,n=e.created_at,r=e.name,i=e.board,o=e.emails,a=e.unread,l=e.users,s=e.last_message,u=b(P,t,[s]);P.data[t]=p(p({},P.data[t]),{},{id:t,created_at:n,name:r,board:i,emails:o||[],unread:a||0,users:l||[],last_message:s,messages:u})}),P}if("ConversationResource"===l){var S=s||{},j=S.id,w=p(p({},e),{},{data:p({},e.data)});return j&&(w.data[j]=p(p({},w.data[j]),S)),w}if("NewsHubBadgeResource"===l&&s){var O=s.conversations_unseen_count||0;return p(p({},e),{},{unread:O})}}else if("MESSAGE_SEND_PENDING"===t.type){var A=t.payload,k=A.id,C=A.message;if(e.data[k])return p(p({},e),{},{data:p(p({},e.data),{},f({},k,p(p({},e.data[k]),{},{id:k,messages:[].concat(m(e.data[k].messages),[C])})))})}else if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){var D=t.payload,E=D.id,I=D.tempMessage,T=D.newMessage;if(e.data[E]&&h(e,E).find(function(e){return e.id===I.id&&e.created_ms===I.created_ms})){var R=v(g(h(e,E).filter(function(e){return e.id!==I.id}).concat([T]),function(e){return e.id}));return p(p({},e),{},{data:p(p({},e.data),{},f({},E,p(p({},e.data[E]),{},{last_message:T,messages:R})))})}}else if("MESSAGE_SEND_PENDING_FAILURE"===t.type){var F=t.payload,L=F.id,z=F.tempMessageId;if(e.data[L]){var M=h(e,L).filter(function(e){return e.id!==z});return p(p({},e),{},{data:p(p({},e.data),{},f({},L,p(p({},e.data[L]),{},{messages:M})))})}}else if("OPEN_NEW_MESSAGE"===t.type){var B=(t.payload||null).objectAttachment;return p(p({},e),{},{showNewMessageView:!0,open:null,objectAttachment:B})}else if("CLOSE_DROPDOWN"===t.type)return p(p({},e),{},{showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1});else if("OPEN_DROPDOWN"===t.type)return p(p({},e),{},{showConversationsDropdown:!0});else if("UPDATE_NEWSHUB_COUNT"===t.type)return p(p({},e),{},{newsHubCount:t.payload});else if("UPDATE_UNREAD_COUNT"===t.type)return p(p({},e),{},{conversationsUnseenCount:t.payload});else if("CLEAR_MESSAGE_BADGE"===t.type){var N=t.payload.id;return p(p({},e),{},{data:p(p({},e.data),{},f({},N,p(p({},e.data[N]),{},{unread:0})))})}else if("CONVERSATION_SAVE_POSITION"===t.type){var Z=t.payload,U=Z.id,K=Z.position;return p(p({},e),{},{data:p(p({},e.data),{},f({},U,p(p({},e.data[U]),{},{position:K})))})}else if("CONVERSATION_RESET_POSITION"===t.type){var H=t.payload.id;return p(p({},e),{},{data:p(p({},e.data),{},f({},H,p(p({},e.data[H]),{},{position:null})))})}else if("SET_OBJECT_ATTACHMENT"===t.type){var V=t.payload.objectAttachment;return p(p({},e),{},{objectAttachment:V})}else if("REMOVE_OBJECT_ATTACHMENT"===t.type)return p(p({},e),{},{objectAttachment:null});return e}var P=n(515198);function S(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function j(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){S(o,r,i,a,l,"next",e)}function l(e){S(o,r,i,a,l,"throw",e)}a(void 0)})}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var O=(r=0,function(){return r++}),A=(0,l.Z)("Conversations"),k=A.Provider,C=A.useHook;function D(e){var t,n=e.children,r=function(e){if(Array.isArray(e))return e}(t=(0,i.useReducer)(x,_))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=r[0],l=r[1],u=(0,i.useCallback)(function(e){return l({type:"FETCH_COMPLETE",payload:e})},[]);(0,s.Z8)("ConversationMessagesResource",u),(0,s.my)("ConversationMessagesResource",u),(0,s.Z8)("ConversationsResource",u),(0,s.Z8)("ConversationResource",u),(0,s.Z8)("NewsHubBadgeResource",u);var c=(0,i.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return l({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:n}})},[]),d=(0,i.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:n}})},[]),p=(0,i.useCallback)(function(e){return l({type:"CONVERSATION_CREATE",payload:e})},[]),f=(0,i.useCallback)(function(e){return l({type:"CONVERSATION_DELETE",payload:{id:e}})},[]),m=(0,i.useCallback)(function(e,t){return l({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}})},[]),y=(0,i.useCallback)(function(e){return l({type:"CONVERSATION_RESET_POSITION",payload:{id:e}})},[]),h=(0,i.useCallback)(function(e,t,n){o.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then(function(e){l({type:"CONVERSATION_OPEN",payload:{id:(e&&e.resource_response.data).id}})}).catch(function(e){n(e.message_detail||e.message||"")})},[]),g=(0,i.useCallback)(function(){l({type:"CLOSE_DROPDOWN"})},[]),v=(0,i.useCallback)(function(){l({type:"OPEN_DROPDOWN"})},[]),b=(0,i.useCallback)(function(e){l({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})},[]),S=(0,i.useCallback)(function(e,t){return l({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})},[]),j=(0,i.useCallback)(function(e,t,n){return l({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:n}})},[]),O=(0,i.useCallback)(function(e,t){return l({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}})},[]),A=(0,i.useCallback)(function(e){return l({type:"UPDATE_NEWSHUB_COUNT",payload:e})},[]),C=(0,i.useCallback)(function(e){return l({type:"UPDATE_UNREAD_COUNT",payload:e})},[]),D=(0,i.useCallback)(function(e){return l({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}})},[]),E=(0,i.useCallback)(function(e){return l({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}})},[]),I=(0,i.useCallback)(function(){return l({type:"REMOVE_OBJECT_ATTACHMENT"})},[]),T=(0,i.useMemo)(function(){return{clearMessageBadge:D,conversationOpen:c,conversationClose:d,conversationCreate:p,conversationDelete:f,conversationGet:h,saveConversationPosition:m,resetConversationPosition:y,dropdownClose:g,dropdownOpen:v,newMessageOpen:b,pendingMessageSend:S,pendingMessageSuccess:j,pendingMessageFailure:O,updateNewsHubCount:A,updateUnreadCount:C,conversations:a,setObjectAttachment:E,removeObjectAttachment:I}},[D,c,d,p,f,h,m,y,g,v,b,S,j,O,A,C,a,E,I]);return(0,P.jsx)(k,{value:T,children:n})}function E(){var e,t=C().conversationCreate;return e=j(regeneratorRuntime.mark(function e(n){var r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.Z.create("ConversationsResource",n),e.prev=1,e.next=4,i.callCreate();case 4:(a=e.sent.resource_response.data)&&(t(a),r=a),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),Error(e.t0.message);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}},e,null,[[1,9]])})),function(t){return e.apply(this,arguments)}}function I(){var e,t=C(),n=t.conversations,r=t.conversationCreate,i=t.pendingMessageSend,l=t.pendingMessageSuccess,s=t.pendingMessageFailure,u=(0,a.Z)();return e=j(regeneratorRuntime.mark(function e(t,a,c,d){var p,f,m,y,h,g,v,b,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(v=function(){return(v=j(regeneratorRuntime.mark(function e(){var n,r,a,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.Z.create("ConversationMessagesResource",{conversation_id:t,text:p,pin:f,board:m,user:y,user_did_it_data:h,source:c,client_tracking_params:u(null!=f?f:"")}),r="".concat(O()),i(t,a={text:p,sender:d,created_at:new Date().toString(),created_ms:Date.now(),id:r,type:"tempMessage"}),e.prev=4,e.next=7,n.callCreate();case 7:(g=e.sent.resource_response.data)&&l(t,a,g),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(4),s(t,r),Error(e.t0.message);case 16:case"end":return e.stop()}},e,null,[[4,12]])}))).apply(this,arguments)},g=function(){return v.apply(this,arguments)},p=a.text,f=a.pinId,m=a.boardId,y=a.userId,h=a.didItId,n.data[t]){e.next=21;break}return b=o.Z.create("ConversationResource",{conversation_id:t}),e.prev=5,e.next=8,b.callGet();case 8:if(!(_=e.sent.resource_response.data)){e.next=14;break}return r(_),e.next=14,g();case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(5),Error(e.t0.message);case 19:e.next=23;break;case 21:return e.next=23,g();case 23:case"end":return e.stop()}},e,null,[[5,16]])})),function(t,n,r,i){return e.apply(this,arguments)}}function T(e){return C().conversations.data[e]}function R(e){return C().conversations.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function F(){var e;return Array.from(Object.keys(e=C().conversations.data).map(function(t){return e[t]}).filter(function(e){return e.users&&e.last_message})).sort(function(e,t){return new Date((t.last_message||t).created_at)-new Date((e.last_message||e).created_at)})}},426975:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(908390),i=n(515198);function o(e){var t=e.children;return(0,i.jsx)(r.xu,{marginTop:4,minHeight:48,children:t})}},312918:function(e,t,n){"use strict";var r=n(76911),i=n(908390),o=n(987765),a=n(356997),l=n(694379),s=n(898781),u=n(349700),c=n(773285),d=n(985913),p=n(883561),f=n(954931),m=n(215292),y=n(202870),h=n(777906),g=n(515198);t.Z=function(e){var t=(0,s.ZP)(),n=e.followerCount,v=e.fullName,b=e.hasVerifiedIdentity,_=e.imageUrl,x=e.isPromoted,P=e.isVerifiedMerchant,S=e.profileUrl,j=e.sponsorName,w=e.sponsorshipStatus,O=e.sponsorUsername,A=void 0===O?"":O,k=e.verified,C=e.color,D=void 0===C?"default":C,E=e.onAvatarClick,I=e.onNavigateClick,T=e.onNavigateSponsorClick,R=e.openNewTab,F=e.isLeadPin,L=(0,c.F)().checkExperiment("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled,z=(0,d.Z)(t._('{{ fullName }} avatar link', 'creatorCardProfile.avatar.accessibilityLabel', 'Accessibility label for user avatar'),{fullName:null!=v?v:""}),M=(0,g.jsx)(m.q,{children:function(e){var t=e.active,n=e.focused,r=e.hovered,o=e.onBlur,l=e.onFocus,s=e.onMouseEnter,u=e.onMouseLeave;return(0,g.jsx)(i.xu,{onBlur:o,onFocus:l,onMouseEnter:s,onMouseLeave:u,onMouseDown:function(){E&&E()},children:(0,g.jsx)(i.zd,{rounding:"circle",wash:r||t||n,children:(0,g.jsx)(a.qE,{accessibilityLabel:z,name:null!=v?v:"",size:"md",src:null!=_?_:"",verified:k})})})}}),B=(0,p.ZP)(v,70),N=(0,g.jsxs)(r.Fragment,{children:[x&&(0,g.jsx)(o.Z,{size:"200",lineClamp:1,weight:"bold",children:t._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin')}),(0,g.jsx)(i.xu,{"data-test-id":"creator-profile-name",children:(0,g.jsx)(i.xu,{maxWidth:270,children:(0,g.jsx)(i.xv,{color:D,size:"200",weight:void 0!==F&&F?"normal":"bold",children:b||P?(0,g.jsx)(h.Z,{badgeSize:"xs",badgeSpacing:2,fullName:B,identityIsVerified:b,isVerifiedMerchant:P}):v})})})]}),Z=A&&j||y.j.includes(w)&&L;return(0,g.jsxs)(i.xu,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"creator-card-profile",children:[(0,g.jsx)(i.xu,{"data-test-id":"creator-avatar",flex:"none",paddingX:1,children:S?(0,g.jsx)(i.Tg,{rel:(0,f.Z)(S)?"none":"nofollow",target:R?"blank":null,onTap:I,href:S,children:M}):M}),(0,g.jsxs)(i.xu,{children:[(0,g.jsx)(i.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingX:1,children:S?(0,g.jsx)(i.rU,{underline:"none",href:S,onClick:I,rel:(0,f.Z)(S)?"none":"nofollow",target:R?"blank":null,children:N}):N}),Z?(0,g.jsx)(i.xu,{"data-test-id":"sponsor-title",display:"flex",paddingX:1,children:(0,g.jsx)(y.Z,{href:"/".concat(null!=A?A:"","/"),isPromoted:x,sponsorName:j,sponsorUsername:A,sponsorshipStatus:w,onNavigateSponsorClick:T})}):!!n&&(0,g.jsx)(i.xu,{"data-test-id":"follower-count",display:"flex",paddingX:1,children:(0,g.jsx)(i.xv,{color:D,size:"200",children:(0,u.nk)(t.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', n, 'closeup.creator.followerCount', 'the number of followers the creator of the pin has'),{followerCount:(0,g.jsx)(l.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:n},n)})})})]})]})}},857752:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(167678),i=n(194249),o=n(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=(0,r.ZP)({resolved:{},chunkName:function(){return"EditorWithMentionsInternal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.all([n.e(85034),n.e(62933),n.e(93179),n.e(35978)]).then(n.bind(n,194270))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 194270}});function c(e){return(0,o.jsx)(u,s(s({},e),{},{fallback:(0,o.jsx)(i.Z,{})}))}},194249:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(908390),i=n(898781),o=n(515198);function a(){var e=(0,i.ZP)();return(0,o.jsx)(r.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(r.$j,{accessibilityLabel:e._('Loading editor', 'EditorWithMentionsFallback.loading', 'Message shown while waiting for the editor to load'),show:!0})})}},271040:function(e,t,n){"use strict";var r=n(898781),i=n(515198);t.Z=function(){var e=(0,r.ZP)();return(0,i.jsx)("div",{className:"errorMessage",children:(0,i.jsx)("div",{className:"standaloneErrorPage",children:(0,i.jsx)("div",{children:e._('Whoops! We couldn\u2019t find that page.', ' - ', ' -- ')})})})}},43898:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(908390),i=n(515198);function o(e){var t=e.htmlFor,n=e.errorMessage,o=e.errorMessageColor,a=e.icon;return(0,i.jsx)(r.__,{htmlFor:t,children:(0,i.jsx)(r.xu,{marginTop:1,children:(0,i.jsxs)(r.kC,{direction:"row",gap:2,children:[a,(0,i.jsx)(r.xv,{color:void 0===o?"error":o,size:"200",children:n})]})})})}},815613:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}}),n(704217);var r,i=n(908390),o=n(112690),a=n(916117),l=n(898781),s=n(773285),u=n(667679),c=n(867820),d=n(52022),p=n(343341),f=n(50286),m=n(829407),y=n(19121),h=n(945698),g=n(927383),v=n(698330),b=n(201155),_=n(640064),x=n(515198),P=function(e){var t=e.children,n=e.pulsar,r=e.testId;return n.show?(0,x.jsx)(i.xu,{position:"relative","data-test-id":r,children:(0,x.jsxs)(i.iP,{tapStyle:"none",onTap:n.onClick,children:[(0,x.jsx)(i.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:t}),(0,x.jsx)(i.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,x.jsx)(i.o3,{})})]})}):(0,x.jsx)(i.xu,{"data-test-id":r,children:t})},S=void 0!==r?r:r=n(84928);function j(e){var t,n=e.auxData,r=e.disabled,j=e.disableLog,w=e.followEventType,O=e.id,A=e.inline,k=e.invertColors,C=e.isFollowed,D=e.isIdeaPin,E=e.isLegoEnabled,I=e.isSecondaryButton,T=e.isUserFollowButton,R=e.isUserMe,F=e.onFollow,L=e.onUnfollow,z=e.pinKey,M=e.shouldUseLegoColors,B=e.showPulsar,N=e.size,Z=e.textType,U=void 0===Z?"FollowFollowing":Z,K=e.unfollowEventType,H=e.viewParameter,V=e.viewType,G=e.clientTrackingParams,W=(0,l.ZP)(),q=(0,f.HG)(),Y=(0,p.F9)().showToast,X=(0,d.Z)(),$=(0,o.Z)(),Q=(0,u.Z)(),J=(0,s.F)().checkExperiment,ee=(0,g.Z)(),et=(0,y.Z)(),en=et&&et.isAuth,er=(0,_.f)(),ei=er.unauthFollowUserId,eo=er.setUnauthFollowUserId,ea=(0,v.mN)()(O),el=ea&&{imageMediumUrl:ea.image_medium_url,username:ea.username},es=(0,a.u)(S,z).data,eu=null==es?void 0:es.linkDomain,ec=null==es?void 0:es.nativeCreator,ed=null==es?void 0:es.originPinner,ep=null==es?void 0:es.pinner;t=ec||(eu?eu.officialUser:ed||ep);var ef=null!=el?el:t;(0,m.Z)(function(){!q&&en&&ei&&O&&ei===O&&F(O)});var em=ee({fn:function(){en?C?(L(O),j||$({event_type:K,view_type:V,view_parameter:H,object_id_str:O,aux_data:n,clientTrackingParams:G})):(F(O),T&&Y(function(e){var t=e.hideToast;if(!ef)return null;var n=ef.username?"/".concat(ef.username,"/"):"";return(0,x.jsx)(b.Z,{handleHide:t,text:W._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow'),userId:O,href:n,imageUrl:ef.imageMediumUrl})}),j||$({event_type:w,view_type:V,view_parameter:H,object_id_str:O,aux_data:n,clientTrackingParams:G})):((0,c.My)("mweb_unauth_follow_button.tap.".concat(String(V))),5===V&&26===w&&(0,c.My)("mweb_unauth_board_page_follow_button.tap"),(0,c.NC)(C?"press_profile_unfollow":"press_profile_follow"),X({action:"click",item:"board-follow-button"}),Q({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:D?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:q&&J("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!q&&J("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),q||eo(null!=O?O:""),(0,c.NC)("clickthrough"))},modalHeader:(0,h.N4)({i18n:W,toFollow:!C})}),ey=!C&&!!B,eh=function(){if(R)return W._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===U)return C?W._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):W._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');var e="FollowUnfollow"===U?W._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):W._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return C?e:W._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,x.jsx)(P,{pulsar:ey?{show:!0,onClick:em}:{show:!1},testId:R||C?"board-unfollow-button":"board-follow-button",children:(0,x.jsx)(i.zx,{color:M||"AddRemove"===U||!E&&I||C?"gray":"red",disabled:R||r,fullWidth:A,onClick:ey?void 0:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),j||$({event_type:101,component:13672,element:11951,object_id_str:O,view_type:V,view_parameter:H,aux_data:n,clientTrackingParams:G}),em()},selected:k?!C:M&&C||!!C&&I,size:N,text:eh(),accessibilityLabel:eh()})})}},833991:function(e,t,n){"use strict";n.d(t,{HW:function(){return c},YW:function(){return h},i3:function(){return g},o2:function(){return y}});var r=n(76911),i=n(425288),o=n(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=660,d={educationId:null,paddingRight:0,zIndex:660};function p(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":var n=t.payload.educationId;return u(u({},e),{},{educationId:n});case"FOOTER_SET_PADDING_RIGHT":var r=t.payload.paddingRight;return u(u({},e),{},{paddingRight:r});case"FOOTER_SET_Z_INDEX":var i=t.payload.zIndex;return u(u({},e),{},{zIndex:i});default:return e}}var f=(0,i.Z)("footerContext"),m=f.Provider,y=f.Consumer,h=f.useHook;function g(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(p,d))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],s=i[1],c=(0,r.useCallback)(function(e){return s({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}})},[]),f=(0,r.useCallback)(function(e){return s({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}})},[]),y=(0,r.useCallback)(function(e){return s({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})},[]),h=(0,r.useMemo)(function(){return u(u({},a),{},{setEducationId:f,setPaddingRight:c,setZIndex:y})},[a,f,c,y]);return(0,o.jsx)(m,{value:h,children:n})}},697335:function(e,t,n){"use strict";n.d(t,{c:function(){return i},t:function(){return o}});var r=n(883521);function i(e){return(0,e.children)((0,r.J)().height)}function o(){return(0,r.J)().height}},550448:function(e,t,n){"use strict";n.d(t,{e:function(){return i},p:function(){return o}});var r=(0,n(425288).Z)("headerButtonContext"),i=r.Provider,o=r.useHook},977558:function(e,t,n){"use strict";n.d(t,{L1:function(){return o},Rz:function(){return s},WZ:function(){return a},cI:function(){return i},fe:function(){return l},hu:function(){return r}});var r=64,i=80,o=22,a="HeaderContent",l=671,s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},49028:function(e,t,n){"use strict";n.d(t,{Hv:function(){return p},WQ:function(){return d}});var r=n(76911),i=n(425288),o=n(766935),a=n(515198);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,i.Z)("HeaderShadow"),c=u.Provider,d=u.useHook;function p(e){var t=e.children,n=l((0,r.useState)(!1),2),i=n[0],s=n[1],u=l((0,r.useState)(0),2),d=u[0],p=u[1],f=l((0,r.useState)(null),2),m=f[0],y=f[1];return(0,r.useEffect)(function(){var e=(0,o.Z)(function(){s(window.scrollY>0),p(window.scrollY)},50);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}},[]),(0,a.jsx)(c,{value:{currentScrollPosition:d,isScrolled:i,setSubheaderShadow:y,subheaderShadow:m},children:t})}},924114:function(e,t,n){"use strict";n.d(t,{H8:function(){return y},Ut:function(){return m},fr:function(){return f}});var r=n(76911),i=n(425288),o=n(311541),a=n(839377),l=n(515198);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=function(){return n.e(67891).then(n.bind(n,367891))},c=(0,i.Z)("IdeaPin"),d=c.Provider,p=c.useHook;function f(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,o.Z)(u,a.Z))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=i[0],p=i[1],f=(0,r.useMemo)(function(){return{dispatch:p,ideaPin:c}},[p,c]);return(0,l.jsx)(d,{value:f,children:n})}function m(){var e=p().dispatch;return(0,r.useMemo)(function(){return{setIdeaPinActivePage:function(t){e({type:"IDEA_PIN_ACTIVE_PAGE",payload:{activePage:t}})},setIdeaPinDynamicWidth:function(t){e({type:"IDEA_PIN_DYNAMIC_WIDTH",payload:{dynamicWidth:t}})}}},[e])}function y(){return p().ideaPin}},839377:function(e,t){"use strict";t.Z={activePage:0,dynamicWidth:0}},878552:function(e,t,n){"use strict";n.d(t,{P:function(){return x},Q:function(){return _}});var r=n(76911),i=n(425288);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s={fullName:"",email:"",phoneNumber:"",zipCode:"",formSubmissions:{}};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTOFILL_LEADGEN_USER_INFO":return l(l({},e),{},{fullName:t.payload.fullName,email:t.payload.email});case"SET_LEADGEN_USER_INFO":return l(l({},e),{},{formSubmissions:t.payload.formSubmissions});default:return e}}var c=n(780280),d=n(784590),p=function(){var e=(0,c.B)().isAuthenticated;return(0,d.Z)(e?{name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:["user.full_name","user.email","user.is_name_eligible_for_lead_form_autofill","user.is_email_eligible_for_lead_form_autofill"]}}}:null)},f=n(515198);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var v=(0,i.Z)("LeadGen"),b=v.Provider,_=v.useHook;function x(e){var t,n=e.children,i=p(),o=i.isLoaded,a=i.data,l=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(u,s))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],d=l[1],m=(0,r.useCallback)(function(e){return d({type:"SET_LEADGEN_USER_INFO",payload:e})},[]);(0,r.useEffect)(function(){o&&d({type:"AUTOFILL_LEADGEN_USER_INFO",payload:h(h({},s),{},{fullName:null!=a&&a.is_name_eligible_for_lead_form_autofill?a.full_name:"",email:null!=a&&a.is_email_eligible_for_lead_form_autofill?a.email:""})})},[o,a]);var y=(0,r.useMemo)(function(){return{updateLeadGenInfo:m,leadGen:c}},[m,c]);return(0,f.jsx)(b,{value:y,children:n})}},63552:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(908390),i=n(515198);function o(e){var t=e.children,n=e.onMouseEnter,o=e.onMouseLeave,a=e.onTouch,l=e.rounding,s=e.fullWidth,u=e.pressState,c=void 0===u?"none":u,d=e.accessibilityLabel,p=e.role,f=(Array.isArray(c)?c:[c]).includes("compress");return(0,i.jsx)(r.iP,{fullWidth:void 0!==s&&s,onMouseEnter:n&&function(e){return n(e.event)},onMouseLeave:o&&function(e){return o(e.event)},onTap:a&&function(e){return a(e.event)},rounding:l,tapStyle:f?"compress":"none",accessibilityLabel:d,role:p,children:t})}},94089:function(e,t,n){"use strict";n.d(t,{G:function(){return m},Kl:function(){return y},vo:function(){return f}});var r=n(76911),i=n(425288),o=n(505920),a=n(311541),l=n(515198);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=function(){return n.e(18870).then(n.bind(n,218870))},c=(0,i.Z)("NativeEngagements"),d=c.Provider,p=c.useHook;function f(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,a.Z)(u,[]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=i[0],p=i[1],f=function(e){p({type:"FETCH_COMPLETE",payload:e})};(0,o.Z8)("NativeInteractionsResource",f),(0,o.my)("NativeInteractionsResource",f);var m=(0,r.useMemo)(function(){return{dispatch:p,nativeEngagements:c}},[p,c]);return(0,l.jsx)(d,{value:m,children:n})}function m(){var e=p().dispatch;return(0,r.useMemo)(function(){return{nativeEngagementsHiddenForUser:function(t){e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}},[e])}function y(){return p().nativeEngagements}},825067:function(e,t,n){"use strict";n.d(t,{H:function(){return i},W:function(){return o}});var r=(0,n(425288).Z)("PinCreateDeleteContext"),i=r.Provider,o=r.useMaybeHook},8742:function(e,t,n){"use strict";n.d(t,{CC:function(){return y},ZP:function(){return v},hW:function(){return h}}),n(704217);var r,i=n(167678),o=n(916117),a=n(50286),l=n(19121),s=n(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=["disableReaction","disableRounding","disableAppUpsell","duploDedupeVisualAnnotations","duploDisablePinCardPadding","duploFeedItemProps","duploIsSquarePin","duploLazyLoadImage","duploOneTapSave","duploPinCardDetailsMargin","duploPriorityFetchImage","duploQueryRef","duploShouldAddNiiSearchParamToImageUrls","duploShouldAllowProductPriceIndicator","duploConversationPin","topLevelTrafficSource","topLevelTrafficSourceDepth","trafficSource"],d=["attributionOption","blockClickEvents","borderStyle","disableHover","imageHeightModifier","imageOnlyOption","onError","onLoad","pin","pinImageCrop","pinImageFit","resolution","rounding","saveButtonOptions","authDesktopSelectionState","authDesktopSurface","pinOwner"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var y=(0,i.ZP)({resolved:{},chunkName:function(){return"AuthDesktopPinRep"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.all([n.e(71827),n.e(27241),n.e(12058),n.e(31435),n.e(2984)]).then(n.bind(n,656226))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 656226}}),h=(0,i.ZP)({resolved:{},chunkName:function(){return"DefaultPinRep"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.all([n.e(97270),n.e(63582),n.e(45509),n.e(10966),n.e(39921)]).then(n.bind(n,369083))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 369083}}),g=void 0!==r?r:r=n(875666);function v(e){var t=(0,a.HG)(),n=(0,l.Z)(),r=n&&n.isAuth&&t,i=(0,o.u)(g,e.duploQueryRef).data;if(r&&!e.duploQueryRef){e.disableReaction,e.disableRounding,e.disableAppUpsell,e.duploDedupeVisualAnnotations,e.duploDisablePinCardPadding,e.duploFeedItemProps,e.duploIsSquarePin,e.duploLazyLoadImage,e.duploOneTapSave,e.duploPinCardDetailsMargin,e.duploPriorityFetchImage,e.duploQueryRef,e.duploShouldAddNiiSearchParamToImageUrls,e.duploShouldAllowProductPriceIndicator,e.duploConversationPin,e.topLevelTrafficSource,e.topLevelTrafficSourceDepth,e.trafficSource;var u=m(e,c);return(0,s.jsx)(y,f({},u))}e.attributionOption,e.blockClickEvents,e.borderStyle,e.disableHover,e.imageHeightModifier,e.imageOnlyOption,e.onError,e.onLoad,e.pin,e.pinImageCrop,e.pinImageFit,e.resolution,e.rounding,e.saveButtonOptions,e.authDesktopSelectionState,e.authDesktopSurface,e.pinOwner;var p=m(e,d);return(0,s.jsx)(h,f(f({},p),{},{duploQueryRef:i}))}},350118:function(e,t,n){"use strict";n.d(t,{AF:function(){return s},H0:function(){return u},S6:function(){return c},_S:function(){return d}});var r=n(506979),i=n(425288),o=n(515198),a=(0,i.Z)("Pins"),l=a.Provider,s=a.useHook,u=a.useMaybeHook;function c(){var e=s();return function(t){return e[t]}}function d(e){var t=e.children,n=(0,r.useSelector)(function(e){return e.pins},r.shallowEqual);return(0,o.jsx)(l,{value:n,children:t})}},698330:function(e,t,n){"use strict";n.d(t,{Tt:function(){return p},cm:function(){return d},kW:function(){return u},kY:function(){return f},mN:function(){return c}});var r=n(506979),i=n(425288),o=n(19121),a=n(515198),l=(0,i.Z)("Users"),s=l.Provider,u=l.useHook;function c(){var e=u();return function(t){return e[t]}}function d(){var e=u();return function(t){var n=Object.keys(e).find(function(n){return e[n].username===t});return e[null!=n?n:""]}}function p(){var e=(0,o.Z)().id;return u()[null!=e?e:""]}function f(e){var t=e.children,n=(0,r.useSelector)(function(e){return e.users},r.shallowEqual);return(0,a.jsx)(s,{value:n,children:t})}},897103:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(76911),i=n(506979),o=n(908390),a=n(27255),l=n(898781),s=n(414327),u=n(784590),c=n(984206),d=n(19121),p=n(717615),f=n(845772),m=n(231947),y=n(654287),h=n(615298),g=n(507016),v=n(488769),b=n(109892),_=n(515198);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){k(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return(t=C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}function D(e){var t=e.board,n=e.hovered,r=e.searchQuery,i=t.privacy===a.Z.BoardPrivacy.SECRET;return(0,_.jsxs)(o.xu,{color:n?"secondary":"default",display:"flex",padding:2,rounding:2,children:[(0,_.jsx)(o.xu,{flex:"grow",children:(0,_.jsx)(o.xv,{weight:"bold",children:(0,g.W)(r,t.name)})}),(0,_.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",flex:"none",children:[i&&(0,_.jsx)(v.Z,{type:"secret"}),t.is_collaborative&&(0,_.jsx)(v.Z,{type:"group"})]})]})}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(a,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=A(a);if(t){var r=A(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return O(e)}(this,e)});function a(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),k(O(t=i.call(this,e)),"getSections",function(){if(!(null!==(e=t.props.boardResource.data)&&void 0!==e&&e.all_boards))return[];var e,n=t.state.searchQuery,r=t.props.boardResource.data.all_boards;return n.length>=c.Z?[{items:(0,h.j)(r,n)}]:[{items:r}]}),k(O(t),"createBtnDisabled",function(){if(!(null!==(e=t.props.boardResource.data)&&void 0!==e&&e.all_boards))return!1;var e,n=t.props.boardResource.data.all_boards,r=t.state.searchQuery;return n.some(function(e){var t;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())===r.toLowerCase()})}),k(O(t),"handleBoardCreate",function(){return function(){var e=t.state.searchQuery;if(e){var n=t.props,r=n.createBoard,i=n.invalidateBoardPickerBoardsResource,o=n.onBoardCreate;if(i(),o){o(e);return}r({name:e,privacy:"public"}).then(function(e){(0,t.props.onBoardChosen)(e)})}}}),k(O(t),"handleBoardSelected",function(e){t.props.onBoardChosen(e),t.setState({selectedBoard:e})}),k(O(t),"handleSearchQueryUpdate",function(e){t.setState({searchQuery:e})}),k(O(t),"renderRow",function(e){var n=e.item,r=e.hovered,i=t.state.searchQuery;return(0,_.jsx)(D,{board:n,hovered:r,searchQuery:i})}),t.state={searchQuery:"",selectedBoard:e.board},t}return n=[{key:"render",value:function(){var e=this.props,t=e.boardResource,n=e.board,r=e.isBoardlessPinsBoard,i=e.isQuickCreatesBoard,a=e.isStoryPin,l=this.state,s=l.searchQuery,u=l.selectedBoard,c=this.props.i18n._('Select a board', 'Label for selecting a board in Edit Pin Modal', 'Label for selecting a board in Edit Pin Modal');return n?c=i?this.props.i18n._('Choose board', 'BoardPickerFlyout.displayBoardName.quickCreatesBoard', 'Title for board picker when current board is a quick creates board'):r?this.props.i18n._('Profile', 'BoardPickerFlyout.displayBoarName.boardlessPins', 'Title indicating the pin is saved to profile'):n.name:u&&(c=u.name),(0,_.jsxs)(o.xu,{children:[(0,_.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!t.isLoaded}),t.data&&(0,_.jsx)(y.Z,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:c||"",isStoryPin:a,onCreate:this.handleBoardCreate(),onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleBoardSelected,renderRow:this.renderRow,searchQuery:s,sections:this.getSections()})]})}}],j(a.prototype,n),r&&j(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);function I(e){var t=(0,b.Z)(),n=(0,l.ZP)(),r=(0,i.useDispatch)(),o=(0,d.Z)(),a=(0,i.useSelector)(function(e){return e.advertiser}),c=o.isAuth&&a&&a.owner_user_id!==o.id,y=c?a.id:null,h=c?a.owner_user_id:null,g=(0,p.Z)(),v=(0,f.Z)(),x=(0,m.Ms)(o,g),P=x||h,j=(0,u.Z)({name:"BoardPickerBoardsResource",options:S(S({pin_id:e.pinId,field_set_key:"board_picker",onlyFetchBoards:!0,username:P},y&&h?{advertiser_id:y,filter:"protected",username:h}:{}),{},{orbac_subject_id:v}),noCache:!0});return(0,_.jsx)(E,S(S({},e),{},{advertiser_id:y,boardResource:j,createBoard:function(e){return t({boardCreateOptions:e})},invalidateBoardPickerBoardsResource:function(){r((0,s.jB)("BoardPickerBoardsResource",S({field_set_key:"board_picker"},x?{username:x}:{username:h})))},username:h,viewer:o,i18n:n}))}},654287:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var r=n(76911),i=n(908390),o=n(898781),a=n(773285),l=n(887831),s=n(176020),u=n(960260),c=n(33897),d=n(515198);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=v(a);if(t){var r=v(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(g(e=o.call.apply(o,[this].concat(n))),"state",{itemSelected:!1,showFlyout:!1}),b(g(e),"setContainerRef",function(t){e.containerRef=t}),b(g(e),"handleCreate",function(){e.hideFlyout();var t=e.props.onCreate;t&&t()}),b(g(e),"handleSelectItem",function(t){e.hideFlyout();var n=e.props,r=n.onSelect,i=n.onCreate;t?(e.setState(function(){return{itemSelected:!0}}),r(t)):i&&i()}),b(g(e),"handleDropdownTouch",function(){e.setState(function(e){return{showFlyout:!e.showFlyout}})}),b(g(e),"handleHideFlyout",function(t){e.containerRef&&t.target instanceof HTMLElement&&!e.containerRef.contains(t.target)&&e.hideFlyout()}),b(g(e),"hideFlyout",function(){(0,e.props.hoverHandlers.onMouseLeave)(),e.setState({showFlyout:!1})}),e}return n=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleHideFlyout,{capture:!0})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleHideFlyout,{capture:!0})}},{key:"render",value:function(){var e=this.props,t=e.dropdownValue,n=e.fetchMore,r=e.hoverHandlers,o=r.onMouseOver,a=r.onMouseLeave,l=e.idealDirection,p=e.isHovering,f=e.isStoryPin,m=e.onCreate,y=e.onSearchQueryUpdate,h=e.renderRow,g=e.searchQuery,v=e.sections,b=e.createBtnDisabled,_=this.state,x=_.itemSelected,P=_.showFlyout;this.indexManager=new s.Z(v.map(function(e){return e.items})),this.indexManager.setSelectItem(this.handleSelectItem);var S=!g.trim()||!!b;return(0,d.jsxs)(i.xu,{ref:this.setContainerRef,flex:f?"grow":void 0,children:[(0,d.jsx)(i.iP,{fullWidth:!!f,onMouseEnter:o,onMouseLeave:a,onTap:this.handleDropdownTouch,rounding:f?4:2,children:f?(0,d.jsxs)(i.xu,{alignItems:"center",borderStyle:"lg",direction:"row",display:"flex",flex:"grow",paddingX:4,paddingY:f?4:3,rounding:f?4:2,children:[(0,d.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow",children:(0,d.jsx)(i.xv,{color:x?"default":"subtle",children:t})}),(0,d.jsx)(i.JO,{accessibilityLabel:this.props.i18n._('Icon for drop down', 'repinPicker.pickerFlyoutIcon.accessibilityLabel', 'Accessibility label for the arrow-down icon.'),color:"default",icon:"arrow-down",size:14})]}):(0,d.jsxs)(i.xu,{alignItems:"center",color:p?"lightWash":"secondary",direction:"row",display:"flex",flex:"grow",paddingX:4,paddingY:f?4:3,rounding:f?4:2,children:[(0,d.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow",children:(0,d.jsx)(i.xv,{weight:"bold",color:"default",children:t})}),(0,d.jsx)(i.JO,{accessibilityLabel:"",color:"default",icon:"arrow-down",size:14})]})}),P&&(0,d.jsx)(i.xu,{position:"relative",children:(0,d.jsxs)(i.xu,{left:"left"===l,right:"right"===l,borderStyle:"sm",color:"default",direction:"column",display:"flex",overflow:"hidden",position:"absolute",rounding:f?4:2,width:f?"150%":"100%",zIndex:new i.Ry(2),children:[(0,d.jsx)(i.xu,{children:(0,d.jsxs)(i.xu,{display:"flex",marginStart:-1,marginEnd:-1,padding:2,children:[(0,d.jsx)(i.xu,{display:"flex",flex:"grow",paddingX:1,children:(0,d.jsx)(c.Z,{hideIcon:!0,indexManager:this.indexManager,onChange:y,value:g})}),m&&(0,d.jsx)(i.xu,{paddingX:1,children:(0,d.jsx)(i.zx,{disabled:S,onClick:this.handleCreate,text:this.props.i18n._('Create', 'board or section dropdown create button', 'board or section dropdown create button')})})]})}),(0,d.jsx)(u.Z,{fetchMore:n,indexManager:this.indexManager,maxHeight:240,onSelectItem:this.handleSelectItem,renderItem:h,sections:v})]})})]})}}],y(a.prototype,n),r&&y(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);function P(e){var t=(0,o.ZP)(),n=(0,a.F)().checkExperiment,r=(0,l.Z)(),i=r.isHovering,s=r.hoverHandlers;return(0,d.jsx)(x,m(m({},e),{},{checkExperiment:n,hoverHandlers:s,i18n:t,isHovering:i}))}},241563:function(e,t,n){"use strict";n.d(t,{Z:function(){return C},x:function(){return k}});var r=n(76911),i=n(506979),o=n(908390),a=n(112690),l=n(898781),s=n(784590),u=n(984206),c=n(678638),d=n(654287),p=n(615298),f=n(507016),m=n(515198);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return(t=j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}var w="NO_SECTION_VALUE";function O(e){var t=e.section,n=e.hovered,r=e.searchQuery;return(0,m.jsxs)(o.xu,{children:[(0,m.jsx)(o.xu,{color:n?"secondary":"default",display:"flex",padding:2,rounding:2,children:(0,m.jsx)(o.xu,{flex:"grow",children:(0,m.jsx)(o.xv,{weight:"bold",children:(0,f.W)(r,t.title)})})}),t.id===w&&(0,m.jsx)(o.iz,{})]})}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=P(a);if(t){var r=P(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return x(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(x(e=i.call.apply(i,[this].concat(n))),"state",{searchQuery:""}),S(x(e),"getPickerSections",function(){var t,n=e.state.searchQuery,r=e.props,i=r.sectionsResource,o=r.mergingFromSectionId,a=i&&i.data||[];return a=o?a.filter(function(e){return e.id!==o}):[{id:w,title:e.props.i18n._('No section', 'default dropdown option for selecting a board section on pin edit', 'default dropdown option for selecting a board section on pin edit')}].concat(function(e){if(Array.isArray(e))return v(e)}(t=a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n.length>=u.Z&&(a=(0,p.j)(a,n,"title")),[{items:a}]}),S(x(e),"createBtnDisabled",function(){var t=e.props.sectionsResource,n=e.state.searchQuery;return!!t&&!!t.data&&t.data.some(function(e){var t;return(null===(t=e.title)||void 0===t?void 0:t.toLowerCase())===n.toLocaleLowerCase()})}),S(x(e),"handleSectionCreate",function(){var t=e.props,n=t.board,r=t.onSectionChange,i=t.sectionsResource,o=t.dispatch,a=t.onSectionCreate,l=t.logContextEvent,s=e.state.searchQuery;if(a){a(s);return}o&&n.id&&o((0,c.vB)({boardId:n.id,name:s},e.props.i18n,void 0,l)).then(function(t){i&&i.refresh(),e.setState({searchQuery:""}),r(t)})}),S(x(e),"handleSectionSelected",function(t){(0,e.props.onSectionChange)(t.id===w?null:t),e.setState({searchQuery:""})}),S(x(e),"handleSearchQueryUpdate",function(t){e.setState({searchQuery:t})}),S(x(e),"renderRow",function(t){var n=t.item,r=t.hovered,i=e.state.searchQuery;return(0,m.jsx)(O,{hovered:r,searchQuery:i,section:n})}),e}return n=[{key:"componentDidUpdate",value:function(e){var t=e.selectedSectionId;if(this.props.selectedSectionId!==t){var n=this.props.sectionsResource;n&&n.refresh()}}},{key:"render",value:function(){var e,t=this.props,n=t.idealDirection,r=t.isStoryPin,i=t.sectionsResource,a=t.selectedSectionId,l=t.mergingFromSectionId,s=t.selectedSectionName,u=this.state.searchQuery,c=l?this.props.i18n._('Pick a section', 'default dropdown option for selecting a board section to merge to', 'default dropdown option for selecting a board section to merge to'):this.props.i18n._('No section', 'default dropdown option for selecting a board section on pin edit', 'default dropdown option for selecting a board section on pin edit');return a?(i&&i.data&&(e=i.data.find(function(e){return e.id===a})),c=e&&e.title||c):s&&(c=s),(0,m.jsxs)(o.xu,{children:[(0,m.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('loading section picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!!i&&!i.isLoaded}),(!i||i&&i.isLoaded)&&(0,m.jsx)(d.Z,{createBtnDisabled:this.createBtnDisabled(),dropdownValue:c,idealDirection:n,isStoryPin:r,onCreate:l?null:this.handleSectionCreate,onSearchQueryUpdate:this.handleSearchQueryUpdate,onSelect:this.handleSectionSelected,renderRow:this.renderRow,searchQuery:u,sections:this.getPickerSections()})]})}}],b(a.prototype,n),r&&b(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);function k(e){var t=(0,l.ZP)();return(0,m.jsx)(A,g(g({},e),{},{dispatch:(0,i.useDispatch)(),i18n:t,logContextEvent:(0,a.Z)()}))}function C(e){var t=(0,s.Z)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id},noCache:!0});return(0,m.jsx)(k,g(g({},e),{},{sectionsResource:t}))}},33897:function(e,t,n){"use strict";var r=n(76911),i=n(908390),o=n(898781),a=n(755742);n(176020);var l=n(515198);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=m(u);if(t){var r=m(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(f(e=o.call.apply(o,[this].concat(n))),"setInputRef",function(t){t&&(e._input=t)}),y(f(e),"handleKeyDown",function(t){var n=e.props,r=n.disabled,i=n.indexManager;if(!r)switch(t.which){case a.Z.ENTER:case a.Z.NUMPAD_ENTER:t.preventDefault(),i.select();break;case a.Z.UP:t.preventDefault(),i.prev();break;case a.Z.DOWN:t.preventDefault(),i.next()}}),e}return n=[{key:"componentDidMount",value:function(){this._input&&this._input.focus()}},{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.value;return(0,l.jsx)("div",{onKeyDown:this.handleKeyDown,role:"presentation",style:{width:"100%"},children:(0,l.jsx)(i.Um,{accessibilityLabel:"",id:"pickerSearchField",onChange:function(e){return t(e.value)},placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),ref:this.setInputRef,size:"lg",value:n})})}}],d(u.prototype,n),r&&d(u,r),Object.defineProperty(u,"prototype",{writable:!1}),u}(r.Component);t.Z=function(e){var t=(0,o.ZP)();return(0,l.jsx)(g,c(c({},e),{},{i18n:t}))}},425480:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(76911),i=n(700380);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}var p=function(e,t){var n=e.scrollTop,r=e.clientHeight,i=e.scrollHeight;return n+r+(t?t(r):2*r)>i},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(f,e);var t,n,r,d=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=u(f);if(t){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function f(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return c(s(e=d.call.apply(d,[this].concat(n))),"setContainerRef",function(t){e.containerRef=t}),c(s(e),"fetchMoreIfNecessary",(0,i.Z)(function(){var t=e.props,n=t.fetchMore,r=t.scrollBuffer;n&&e.containerRef&&p(e.containerRef,r)&&n()},200)),e}return n=[{key:"componentDidMount",value:function(){setTimeout(this.fetchMoreIfNecessary)}},{key:"componentDidUpdate",value:function(){this.fetchMoreIfNecessary()}},{key:"render",value:function(){return(0,this.props.children)({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}],a(f.prototype,n),r&&a(f,r),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.PureComponent)},954063:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(76911),i=n(908390),o=n(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r.key),r)}}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(p,e);var t,n,c,d=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=u(p);if(t){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,p),d.apply(this,arguments)}return n=[{key:"componentDidMount",value:function(){this.anchor&&(!this.props.hash||this.props.hash&&"#".concat(this.props.hash)===window.location.hash)&&(this.anchor.scrollIntoView(),this.props.offset&&window.scrollBy(0,this.props.offset))}},{key:"render",value:function(){var e=this,t=this.props.children?r.Children.only(this.props.children):null;return(0,o.jsx)(i.xu,{ref:function(t){return e.anchor=t},children:t})}}],l(p.prototype,n),c&&l(p,c),Object.defineProperty(p,"prototype",{writable:!1}),p}(r.Component)},21384:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r,i=n(76911),o=n(506979),a=n(704217),l=n(908390),s=n(373420),u=n(898781),c=n(780280),d=n(784590),p=n(867820),f=n(52022),m=n(690035),y=n(50286),h=n(643010),g=n(121151),v=n(430322),b=n(515198);function _(e){var t=e.showFullScreenInfo,n=e.isOpen,r=e.interstitialUpsellDismissed,i=e.children,o=(0,u.ZP)(),a=(0,y.HG)(),s=(0,y.Wb)();return s||a?(0,b.jsx)(g.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:t&&!s,closeOnOutsideClick:!1,onDismiss:function(){},children:(0,b.jsx)(l.xu,{color:(0,h.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,h.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:a?"100vw":"100%",zIndex:new l.Ry(1),children:(0,b.jsx)(l.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:r?0:12,children:i})})}):(0,b.jsx)(v.default,{accessibilityModalLabel:o._('Close', 'Close modal window', 'Close modal window'),isOpen:n,onDismiss:function(){},mobileAccessibilityCloseIconLabel:o._('Close', 'Close modal window', 'Close modal window'),children:i})}var x=n(385801);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var O=void 0!==r?r:r=n(583780);function A(e){var t,n=e.dedupeVisualAnnotations,r=e.iconColor,a=e.size,d=e.isMainPin,h=e.isAuth,g=e.pinCreditPrefix,v=e.onClickTitleOrDomain,P=e.pinId,S=e.renderOnlyHiddenSEOContent,j=e.graphqlRef,O=e.shoppingKlpUrls,A=(0,u.ZP)(),k=(0,f.Z)(),C=(0,c.B)().isBot,D=(0,o.useSelector)(function(e){return e.session}).unauthInterstitialDismissed,E=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),I=E[0],T=E[1],R=(0,y.HG)(),F=(0,y.Wb)(),L=(0,m.Z)(),z=!F&&!h,M=j?{type:"graphqlRef",data:j}:{type:"deprecated",data:P},B=(0,b.jsxs)(l.xu,{padding:5,dangerouslySetInlineStyle:z?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,b.jsx)(l.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,b.jsx)(l.hU,{accessibilityLabel:A._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",size:"sm",onClick:function(){(0,p.My)("mweb.unauth.see_more.dismissed"),k({action:"click",item:"close-seo-vase-see-more-button"}),T(!1),d&&(0,p.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,b.jsx)(l.xu,{marginBottom:z?0:8,children:(0,b.jsx)(l.xv,{align:z?"start":"center",weight:z?void 0:"bold",children:(0,b.jsx)("span",{className:"deprecatedTextSizeXL",children:z?null:A._('More information', 'more information label', 'more information label')})})}),(0,b.jsx)(x.Z,{dedupeVisualAnnotations:n,pinCreditPrefix:g,onClickTitleOrDomain:v,pinId:P,shoppingKlpUrls:O,pinKey:M})]});return void 0!==S&&S?(0,b.jsx)(l.xu,{display:"none",children:B}):(0,b.jsxs)(l.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,b.jsx)(l.hU,{accessibilityLabel:A._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:null!=r?r:"gray",size:a||"md",onClick:function(e){e.event.stopPropagation(),(0,p.My)("mweb.unauth.see_more.shown.".concat(d?"main_pin":"related_pins")),k({action:"click",item:"seo-vase-see-more-button"}),F||h?(T(!0),d&&(0,p.My)("mweb.unauth.see_more.main_pin.shown")):L({pinId:P||"",location:d?"main-pin-more-information":"non-main-pin-more-information",vaseSection:(0,b.jsx)(x.Z,{dedupeVisualAnnotations:n,pinCreditPrefix:g,onClickTitleOrDomain:v,pinId:P,shoppingKlpUrls:O,pinKey:M})})}}),C&&!R?(0,b.jsx)(l.xu,{display:I?"flex":"none",children:B}):(0,b.jsx)(_,{showFullScreenInfo:I,isOpen:I&&!F,interstitialUpsellDismissed:!!D,children:B}),F&&I&&(0,b.jsx)(s.default,{accessibilityModalLabel:"test",onDismiss:function(){},children:B})]})}function k(e){var t=(0,a.useFragment)(O,e.graphqlRef);return(0,b.jsx)(A,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent,graphqlRef:t,shoppingKlpUrls:e.shoppingKlpUrls})}function C(e){return(0,b.jsx)(A,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent,shoppingKlpUrls:e.shoppingKlpUrls})}function D(e){return(0,d.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,b.jsx)(C,j({},e))}function E(e){return e.graphqlRef?(0,b.jsx)(k,j({},e)):e.lazyLoadAnnotations?(0,b.jsx)(D,j({},e)):(0,b.jsx)(C,j({},e))}},334005:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(76911),i=n(908390),o=n(946984),a=n(121151),l=n(604356),s=n(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=new i.Ry(1);function f(e){var t,n,r=e.anchor,o=e.children,l=e.displayOptions,u=e.onFlyoutDismiss;return null!=l&&l.shownWithinMasonry||null!=l&&l.shownWithinProfileHeader?(0,s.jsx)(i.mh,{zIndex:l.shownWithinProfileHeader?p:void 0,children:(0,s.jsx)(i.xu,{zIndex:l.inModal?a.b7:void 0,position:l.inModal?"absolute":void 0,top:!!l.inModal||void 0,children:(0,s.jsx)(i.J2,{anchor:r,idealDirection:null!==(t=l.idealDirection)&&void 0!==t?t:"down",onDismiss:function(){u()},_deprecatedShowCaret:l.showCaret,size:"flexible",positionRelativeToAnchor:!1,children:o})})}):(0,s.jsx)(i.J2,{anchor:r,idealDirection:null!==(n=null==l?void 0:l.idealDirection)&&void 0!==n?n:"down",onDismiss:function(){u()},_deprecatedShowCaret:null==l?void 0:l.showCaret,size:"flexible",children:o})}function m(e){var t=e.children,n=e.flyoutDisplayOptions,a=e.isFlyoutOpen,u=e.loggingOptions,c=e.onClick,p=e.onFlyoutDismiss,m=e.onToggleFlyout,y=e.sendObject,h=(0,r.useRef)(null),g=(0,o.Z)();return(0,s.jsxs)(i.xu,{ref:h,dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,s.jsx)(i.xu,{children:t({handleSendShareFlyoutButtonClick:function(){if(g){g();return}m()}})}),a&&(0,s.jsx)(f,{anchor:h.current,displayOptions:n,onFlyoutDismiss:p,children:(0,s.jsx)(l.Z,{element:u.element,component:u.component,onHide:function(){null==c||c(),p()},onExternalSend:u.onExternalSend,sendType:y.type,sharedObject:d(d({},y),{},{type:"user"===y.type?"pinner":y.type}),viewParameter:u.viewParameter,viewType:u.viewType})})]})}},202870:function(e,t,n){"use strict";n.d(t,{Z:function(){return u},j:function(){return s}});var r=n(908390),i=n(898781),o=n(349700),a=n(773285),l=n(515198),s=[0,2,3];function u(e){var t,n=e.hasAffiliateProducts,u=e.href,c=e.isPromoted,d=e.onNavigateSponsorClick,p=e.sponsorName,f=e.sponsorUsername,m=e.sponsorshipStatus,y=e.textWeight,h=(0,i.ZP)(),g=(0,a.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,v=(0,a.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,b=u||(f?"/".concat(f,"/"):null),_=b&&p?(0,l.jsx)(r.rU,{href:b,onClick:d,children:(0,l.jsx)(r.xv,{weight:void 0===y?"bold":y,size:"200",children:p})},p):void 0;return c?t=(0,o.nk)(h._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:_}):m||0===m?p&&!s.includes(m)?t=(0,o.nk)(h._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:_}):v&&2===m||(t=h._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):n&&(t=h._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,l.jsxs)(r.xv,{inline:!0,size:"200",lineClamp:2,children:[g&&!c&&"Ad • "||"",t]})}},777906:function(e,t,n){"use strict";var r=n(76911),i=n(908390),o=n(865607),a=n(515198);t.Z=function(e){var t=e.badgeSize,n=e.badgeSpacing,l=e.fullName,s=e.identityIsVerified,u=e.isVerifiedMerchant,c=e.truncate,d=l.split(" "),p=d.slice(0,d.length-1).join(" "),f=" ".concat(d[d.length-1]);return void 0!==c&&c?(0,a.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(i.xv,{lineClamp:1,weight:"bold",children:l}),(0,a.jsx)(i.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:n}},paddingX:1,children:(0,a.jsx)(o.Z,{size:t,hasVerifiedIdentity:s,isVerifiedMerchant:u})})]}):(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)("span",{children:p}),(0,a.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[f,"\xa0",(0,a.jsx)(i.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:n}},children:(0,a.jsx)(o.Z,{size:t,hasVerifiedIdentity:s,isVerifiedMerchant:u})})]})]})}},394332:function(e,t,n){"use strict";n.d(t,{ZP:function(){return C}});var r,i=n(76911),o=n(704217),a=n(908390),l=n(898781),s=n(391254),u=n(992750),c=n(780280),d=n(867820),p=n(52022),f=n(50286),m=n(350118),y=n(862193),h=n(515198);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||b(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=void 0!==r?r:r=n(445418);function j(e){var t=e.direction,n=e.handleClick,r=e.testId,i=e.isRTL,o=(0,l.ZP)(),s=(0,p.Z)(),u=i?["arrow-back","arrow-forward"]:["arrow-forward","arrow-back"];return(0,h.jsx)("div",{style:P({alignItems:"center",background:"linear-gradient(to ".concat("left"===t?"right":"left",", rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)"),border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",position:"absolute",top:0,width:45},"right"===t?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0,justifyContent:"flex-start",textAlign:"left"}),onClick:function(e){s({action:"click",item:"board-pills-arrow"}),n(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":r,children:(0,h.jsx)(a.xu,{position:"absolute",left:"left"===t,right:"right"===t,borderStyle:"none",children:(0,h.jsx)(a.xu,{"data-test-id":"board-pills-arrow",children:(0,h.jsx)(a.JO,{accessibilityLabel:o._('Scroll', 'annotations.scrollArrow', 'Accessibility label for scroll arrow button'),icon:"left"!==t?u[0]:u[1],size:12,color:"subtle"})})})})}function w(e){var t=e.name,n=e.url,r=v((0,i.useState)(!1),2),o=r[0],l=r[1],s=(0,p.Z)(),u=(0,c.B)(),m=u.country,y=u.locale,g=(0,f.HG)();return(0,h.jsx)(a.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},children:(0,h.jsx)(a.xv,{color:o?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:n?(0,h.jsx)(a.rU,{display:"inlineBlock",tapStyle:"compress",href:n,rounding:8,onClick:function(){s({action:"click",item:"vase-tag"}),n.split("/").length>=2&&"shopping"===n.split("/")[1]&&(0,d.My)("".concat(g?"dweb":"mweb",".vase.shoppingKlp.click"),{country:m,locale:y})},underline:"hover",children:t}):t})})}function O(e){var t=e.pinJoinVisualAnnotation,n=e.pinJoinAnnotationsWithLinks,r=e.mode,o=e.shoppingKlpUrls,l=(0,i.useRef)(null),d=v((0,i.useState)(!1),2),f=d[0],m=d[1],y=v((0,i.useState)(!1),2),g=y[0],x=y[1],P=(0,p.Z)(),S=(0,c.B)().isRTL;(0,i.useEffect)(function(){var e=l.current,t=function(){if("inlineWithScrollArrows"===r&&l.current){var e=l.current,t=Math.abs(e.scrollLeft||0),n=Math.abs(e.scrollWidth||0),i=t>4,o=t+e.clientWidth<n-4,a=S?i:o,s=S?o:i;m(a),x(s)}else m(!1),x(!1)};return t(),null==e||e.addEventListener("scroll",t),function(){null==e||e.removeEventListener("scroll",t)}},[r,S]);var O=function(e){return function(t){t.preventDefault(),t.stopPropagation(),"right"===e&&P({action:"click",item:"board-pills-arrow-button-right"});var n=l.current;if(n){var r=("left"===e?-1:1)*n.clientWidth*.5;n.scrollBy(r,0)}}},A=(0,u.eK)({pinJoinVisualAnnotation:t,pinJoinAnnotationsWithLinks:n}).annotationsWithLinks;A.map(function(e){return e.name||""});var k=function(e){if(Array.isArray(e))return _(e)}(A)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(A)||b(A)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return o&&(k=o.reduce(function(e,t){return e.push({name:t.split("/")[2].split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" "),url:t}),e},k)),(0,h.jsx)(a.kC,{alignItems:"center",justifyContent:"end",children:(0,h.jsxs)(a.xu,{display:"flex",width:"100%",overflow:"hidden",position:"relative","data-test-id":"vase-carousel",children:[(0,h.jsx)(s.Z,{unsafeCSS:"\ndiv::-webkit-scrollbar {\n  display: none;\n}\n"}),g&&(0,h.jsx)(j,{direction:"left",handleClick:O("left"),testId:"left-scroll-arrow",isRTL:S}),(0,h.jsx)(a.xu,{overflow:"auto",padding:0,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},ref:l,children:k.map(function(e){var t=e.name,n=e.url;return(0,h.jsx)(w,{name:t,url:n},n||t)})}),f&&(0,h.jsx)(a.xu,{"data-test-id":"board-pills-arrow-button-right",children:(0,h.jsx)(j,{direction:"right",handleClick:O("right"),testId:"right-scroll-arrow",isRTL:S})})]})})}function A(e){var t,n=e.dedupeVisualAnnotations,r=e.graphqlRef,i=e.mode,a=e.pinId,l=e.shoppingKlpUrls,s=(0,o.useFragment)(S,r),u=(0,y.Z)(s),c=(null==s?void 0:null===(t=s.pinJoin)||void 0===t?void 0:t.visualAnnotation)||[];return(n&&(c=n({pinId:a,visualAnnotations:c})),c.length<1)?null:(0,h.jsx)(O,{mode:i,pinJoinVisualAnnotation:c,pinJoinAnnotationsWithLinks:u||void 0,shoppingKlpUrls:l})}function k(e){var t,n,r,i=(0,m.S6)()(e.pinId);return((null==i?void 0:null===(t=i.pin_join)||void 0===t?void 0:t.visual_annotation)||[]).length<1?null:(0,h.jsx)(O,{mode:e.mode,pinJoinVisualAnnotation:null==i?void 0:null===(n=i.pin_join)||void 0===n?void 0:n.visual_annotation,pinJoinAnnotationsWithLinks:null==i?void 0:null===(r=i.pin_join)||void 0===r?void 0:r.annotations_with_links,shoppingKlpUrls:e.shoppingKlpUrls})}function C(e){return e.graphqlRef?(0,h.jsx)(A,P({},e)):(0,h.jsx)(k,P({},e))}},385801:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r,i=n(76911);n(704217);var o=n(908390),a=n(681669),l=n(898781),s=n(349700),u=n(623568),c=n(992750),d=n(780280),p=n(927104),f=n(867820),m=n(52022),y=n(50286),h=n(298024),g=n(515198);function v(e){var t=e.boardUrl,n=e.boardName,r=e.boardPrivacy,i=e.pinnerFullName,a=e.pinnerImageSmallUrl,l=e.pinnerImageLargeUrl,s=(0,y.HG)(),u=(0,m.Z)();if(!t||!n)return null;var c=t.split("/")[1],d=i||c,p=a||l;return(0,g.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[p?(0,g.jsx)(o.Tg,{href:"/".concat(c,"/"),fullWidth:!1,tapStyle:"compress",onTap:function(){(0,f.My)("pcons.".concat(s?"desktop":"mobile",".see-more-button-creator")),u({action:"click",item:"see-more-button-creator"})},children:(0,g.jsx)(o.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,g.jsx)(o.Ee,{naturalHeight:32,naturalWidth:32,alt:d,fit:"cover",color:"rgb(231, 186, 176)",src:p})})},"profile-link"):null,(0,g.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,g.jsx)(o.xu,{"data-test-id":"see-more-button-creator-full-name",children:(0,g.jsx)(o.iP,{onTap:function(){(0,f.My)("pcons.".concat(s?"desktop":"mobile",".see-more-button-creator-full-name")),u({action:"click",item:"see-more-button-creator-full-name"})},children:(0,g.jsx)(o.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,g.jsx)(o.rU,{href:"/".concat(c,"/"),display:"inlineBlock",tapStyle:"compress",underline:"hover",children:d},"profile-link")},"profileLink")})}),"protected"===r?null:(0,g.jsx)(o.xv,{color:"default",inline:!0,size:"100",children:(0,g.jsx)(o.rU,{href:null!=t?t:"",display:"inlineBlock",tapStyle:"compress",underline:"hover",children:null!=n?n:""},"board-link")},"boardLink")]})]})}var b=n(394332);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var x=["pinKey","pinId"];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var O=void 0!==r?r:r=n(175322);function A(e){var t,n,r,a,_,x,P,S,w,O=e.dedupeVisualAnnotations,A=e.pin,k=e.pinId,C=e.queryRef,D=e.onClickTitleOrDomain,E=e.pinCreditPrefix,I=e.shoppingKlpUrls,T=(0,l.ZP)(),R=(0,y.ml)(),F=(0,y.Wb)(),L=(0,d.B)(),z=L.isAuthenticated,M=L.isBot,B=(0,m.Z)(),N=D||null,Z=j((0,i.useState)(!1),2),U=Z[0],K=Z[1],H=(0,h.si)(),V=(0,h.Re)(),G=(0,c.fs)({pinTitle:A.title,gridTitle:A.gridTitle,richSummaryDisplayName:null===(t=A.richSummary)||void 0===t?void 0:t.displayName,richMetadataTitle:null===(n=A.richMetadata)||void 0===n?void 0:n.title,storyPinDataId:A.storyPinDataId,storyPinDataMetadataPinTitle:null===(r=A.storyPinData)||void 0===r?void 0:null===(a=r.metadata)||void 0===a?void 0:a.pinTitle})||A.description,W=(G||"").length>V,q=(0,c.eK)({richMetadataDescription:null===(_=A.richMetadata)||void 0===_?void 0:_.description,richSummaryDisplayName:null===(x=A.richSummary)||void 0===x?void 0:x.displayName,closeupUnifiedDescription:A.closeupUnifiedDescription}).description,Y=q.length>H,X=j((0,i.useState)(!Y&&!W),2),$=X[0],Q=X[1],J=(0,u._S)(A.domain)?A.domain:"";return(0,g.jsxs)(o.xu,{children:[(0,g.jsxs)(o.xu,{children:[(0,g.jsxs)(o.xu,{as:"figcaption",paddingX:F?11:0,children:[(0,g.jsx)(o.X6,{id:"vase-pin-title",color:"default",size:"300",accessibilityLevel:3,children:U||M?G:(0,p.Z)(G||"",V)}),!!G&&(0,g.jsx)(o.xu,{height:q?8:0}),q&&(Y||W)?(0,g.jsx)(o.xu,{"data-test-id":"vase-pin-description",children:(0,g.jsxs)(o.iP,{onTap:function(){U||z||((0,f.NC)("click_open_description_in_sheet"),B({action:"click",item:"more-description-in-sheet"})),Q(!$),K(!U)},fullWidth:!1,children:[(0,g.jsx)(o.xv,{color:"default",size:"200",inline:!0,children:U||M?q:(0,p.Z)(q,H)}),(0,g.jsx)(o.xu,{display:"inlineBlock",paddingX:1,children:(0,g.jsx)(o.xv,{weight:"bold",size:"200",inline:!0,children:U||M?T._('Less', 'Toggle less description button', 'Toggle less description button'):T._('More', 'Toggle more description button', 'Toggle more description button')})})]})}):(0,g.jsx)(o.xu,{"data-test-id":"vase-pin-description",children:(0,g.jsx)(o.xv,{color:"default",size:"200",inline:!0,children:q})})]}),!z&&!M&&R&&($||M)&&!!J&&(0,g.jsx)(o.xu,{marginTop:2,children:(0,g.jsx)(o.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,s.nk)(T._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,g.jsx)(o.xu,{display:"inlineBlock",children:(0,g.jsx)(o.xv,{inline:!0,size:"200",children:E})},"pinCreditsPrefix"),pinCredit:(0,g.jsxs)(o.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:[N&&(0,g.jsx)(o.iP,{onTap:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),B({action:"click",item:"pin-domain-link"}),(0,f.My)("mweb_pin_page.pin_link.clickthrouh"),z||(0,f.NC)("click_pin_closeup_link_clickthrough"),N()},tapStyle:"compress",children:(0,g.jsx)(o.xv,{size:"200",lineClamp:1,children:(0,g.jsx)("span",{style:{textDecoration:"underline"},children:J})},"pinLinkDomain")}),A.link&&!N&&(0,g.jsx)(o.rU,{href:A.link,children:(0,g.jsx)(o.xv,{size:"200",underline:!0,children:J})})]},"pinCredits")})})})]}),!!A.board&&($||M)&&(0,g.jsx)(o.xu,{marginTop:4,children:(0,g.jsx)(v,{boardUrl:A.board.url||void 0,boardName:A.board.name||void 0,boardPrivacy:A.board.privacy||void 0,pinnerFullName:(null===(P=A.pinner)||void 0===P?void 0:P.fullName)||void 0,pinnerImageSmallUrl:null===(S=A.pinner)||void 0===S?void 0:S.imageSmallUrl,pinnerImageLargeUrl:null===(w=A.pinner)||void 0===w?void 0:w.imageLargeUrl})}),(0,g.jsx)(o.xu,{marginTop:4,children:(0,g.jsx)(b.ZP,{dedupeVisualAnnotations:O,pinId:k,mode:"expanded",graphqlRef:C,shoppingKlpUrls:I})})]})}function k(e){var t=e.pinKey,n=e.pinId,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,x),i=(0,a.sr)(O,t,{type:"pin",useLegacyAdapter:function(e){return{board:e.board&&{name:e.board.name,privacy:e.board.privacy,url:e.board.url},closeupUnifiedDescription:e.closeup_unified_description,description:e.description,domain:e.domain,gridTitle:e.grid_title,link:e.link,pinner:e.pinner&&{fullName:e.pinner.full_name,imageLargeUrl:e.pinner.image_large_url,imageSmallUrl:e.pinner.image_small_url},richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},storyPinData:e.story_pin_data&&{metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},storyPinDataId:e.story_pin_data_id,title:e.title}}}),o=i.data,l=i.childDataKey__DEPRECATED;return o&&(0,g.jsx)(A,S(S({},r),{},{pinId:n,pin:o,queryRef:"graphqlRef"===l.type?l.data:null}))}},682273:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(42447),i=n(780280),o=n(387957),a=n(361115),l=n(515198);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t,n=e.children,u=e.type,c=(0,i.B)();return(0,l.jsx)(r.Z,{annotateExperiments:[(0,a.J1)(),c.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"],surface:"pin_closeup",constraints:"authDesktop"===u?function(e){if(Array.isArray(e))return s(e)}(t=o.d0)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():["PinPageMainImageRendered"],customEnabledNavigationTypes:["initial_app_load","client_route_push","client_route_replace"],children:n})}},240681:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{Z:function(){return f}});var a="32px",l="16px",s={WebkitMaskImage:"-webkit-radial-gradient(white, black)"},u="".concat(a," ").concat(a," 0 0"),c="".concat(a," 0 0 ").concat(a),d="0 ".concat(a," ").concat(a," 0"),p=function(e){var t=e.isPadded,n=e.isRTL;return t?l:n?d:c};function f(e){var t=e.isSideBySide,n=e.isPadded,r=e.isRTL;return t?o(o({},s),{},{borderRadius:p({isPadded:n,isRTL:r})}):o(o({},s),{},{borderRadius:n?l:u})}},966676:function(e,t,n){"use strict";n.d(t,{Nb:function(){return l},Of:function(){return s},YO:function(){return a},x4:function(){return c}});var r=n(76911),i=n(499659),o=n(92261),a=function(e){var t=e.showProductDetailPage,n=e.isLargerPane,r=e.showCloseupContentRight;return t&&n?r?o.Uj:o.zT:1},l=(0,i.qe)(function(e){return{paneWidth:e.paneWidth,pdpCarouselSlotToPaneRatio:e.pdpCarouselSlotToPaneRatio,showCloseupContentRight:e.showCloseupContentRight,showProductDetailPage:e.showProductDetailPage,viewportSize:e.viewportSize,maxWidth:e.maxWidth,descriptionPaneWidth:e.descriptionPaneWidth}}),s={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:o.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:o.u6,descriptionPaneWidth:o.u6-o.Gg},u=(0,r.createContext)(s);function c(){var e=(0,r.useContext)(u);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}t.ZP=u},763917:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{C:function(){return i},_:function(){return l}});var i=function(e){return!!e&&/^\/pin\/[\w-]+\/?$/.test(e.pathname)},o=function(e){var t=e.pathname;return/^\/search\/pins\//.test(t)},a=function(e){var t=e.pathname,n=e.search,r=/^\/search\/pins\/(\?.*)$/.exec(t),i=(n||r&&r[1]||"").substr(1).split("&").map(function(e){return e.split("=")}).find(function(e){return"q"===e[0]});return i?decodeURIComponent(i[1]):""},l=function(e){var t=((function(e){if(Array.isArray(e))return r(e)})(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).reverse().find(function(e){var t=e.location;return t&&!i(t)});return t&&t.location&&o(t.location)?a(t.location):""}},765798:function(e,t,n){"use strict";var r,i=n(76911);n(704217);var o=n(908390),a=n(916117),l=n(287072),s=n(489494),u=n(374373),c=n(134185),d=n(170168),p=n(92261),f=n(515198),m=["pin"],y=["pinKey"];function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=void 0!==r?r:r=n(585535),x=function(e){var t=null!=e?e:{},n=t.carouselData;if(t.title)return!0;if(n){var r=n.carouselSlots,i=n.index;if(null!=i&&null!=r&&r[i]&&r[i].title)return!0}return!1},P=function(e){var t=e.children;return(0,f.jsx)(o.xu,{marginTop:4,children:t})},S=function(e){var t,n,r,i,a,u=e.children,c=e.isLink,d=e.onClick,p=e.pin,m=e.trackingParamsMap,y=(0,s.Z)(p),h=null!==(t=p.imageSpec_orig)&&void 0!==t&&t.url&&p.imageSpec_orig.width&&p.imageSpec_orig.height?p.imageSpec_orig:null,g=u,v=(0,l.Z)({href:null!==(n=null!==(r=y)&&void 0!==r?r:null==h?void 0:h.url)&&void 0!==n?n:"",target:"blank",externalData:{pin:p&&{advertiserId:p.advertiserId,attributionSourceId:p.attributionSourceId,board:p.board&&{url:p.board.url},campaignId:p.campaignId,entityId:p.entityId,isDownstreamPromotion:p.isDownstreamPromotion,isPromoted:p.isPromoted,pinner:p.pinner&&{username:p.pinner.username},pinPromotionId:p.pinPromotionId,promoter:p.promoter&&{entityId:p.promoter.entityId},storyPinDataId:p.storyPinDataId,trackingParams:p.trackingParams,trackingParamsMap:m}}});if(!e.pin.entityId)return null;if(p.carouselData){var b=p.carouselData,_=b.carouselSlots,x=b.index;_&&null!=x&&_[x]&&(y=_[x].link||y,g=_[x].title||g)}var P=g&&(0,f.jsx)(o.X6,{size:"500",accessibilityLevel:1,children:g});return(0,f.jsx)("div",{itemProp:"name",children:void 0===c||c||y?(0,f.jsx)(o.rU,{underline:"none",href:null!==(i=null!==(a=y)&&void 0!==a?a:null==h?void 0:h.url)&&void 0!==i?i:"",rel:"nofollow",target:"blank",onClick:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),d&&d(),v({event:t})},children:P}):P})},j=function(e){if(!e.pin.entityId)return null;var t,n=e.pin.entityId,r=null!==(t=e.pin.imageSpec_736x)&&void 0!==t&&t.url&&e.pin.imageSpec_736x.width&&e.pin.imageSpec_736x.height?e.pin.imageSpec_736x:null;return(0,f.jsxs)(o.xu,{children:[(0,f.jsx)("meta",{content:"https://".concat(d.Vi,"/pin/").concat(n,"/"),itemProp:"url"}),r&&(0,f.jsx)("meta",{content:r.url,itemProp:"image"})]})},w=function(e){if(!e.pin.entityId)return null;var t=((e||{}).pin||{}).gridTitle;return(0,f.jsx)(i.Fragment,{children:t&&(0,f.jsx)(P,{children:(0,f.jsx)(c.Z,{children:(0,f.jsx)(S,b(b({},e),{},{children:t}))})})})},O=function(e){if(!e.pin.entityId)return null;var t=(e||{}).pin||{},n=t.richMetadata,r=t.gridTitle,o=(n||{}).title;return(0,f.jsx)(i.Fragment,{children:(r||o)&&(0,f.jsx)(P,{children:(0,f.jsx)(c.Z,{itemType:p.iB.PRODUCT,children:(0,f.jsxs)(S,b(b({},e),{},{children:[r||o,(0,f.jsx)(j,b({},e))]}))})})})},A=function(e){if(!e.pin.entityId)return null;var t=(e||{}).pin||{},n=t.richMetadata,r=t.gridTitle,i=(n||{}).title;return(0,f.jsx)(P,{children:(0,f.jsx)(c.Z,{itemType:p.iB.ARTICLE,children:(0,f.jsx)(S,b(b({},e),{},{children:r||i}))})})},k=function(e){if(!(null!==(t=e.pin.richMetadata)&&void 0!==t&&null!==(n=t.recipe)&&void 0!==n&&n.name))return null;var t,n,r=e.pin.richMetadata.recipe.name;return(0,f.jsx)(P,{children:(0,f.jsx)(c.Z,{itemType:p.iB.RECIPE,children:(0,f.jsx)(S,b(b({},e),{},{children:(0,f.jsx)(o.xu,{children:r})}))})})},C=function(e){var t,n,r,i;return null!==(t=e.pin.richMetadata)&&void 0!==t&&null!==(n=t.tutorial)&&void 0!==n&&n.fromAggregatedData||!(null!==(r=e.pin.richMetadata)&&void 0!==r&&null!==(i=r.tutorial)&&void 0!==i&&i.name)?null:(0,f.jsx)(P,{children:(0,f.jsx)(c.Z,{children:(0,f.jsx)(S,b(b({},e),{},{children:(0,f.jsx)(o.xu,{children:e.pin.richMetadata.tutorial.name})}))})})},D=function(e){var t,n=!!(null!==(t=e.pin.richSummary)&&void 0!==t&&t.displayName);return n?(0,f.jsx)(P,{children:(0,f.jsx)(c.Z,{children:(0,f.jsx)(S,b(b({},e),{},{children:(0,f.jsx)(o.xu,{children:n})}))})}):null},E=function(e){if(!e.pin.entityId)return null;var t=(e.pin||{}).gridTitle;return(0,f.jsx)(P,{children:(0,f.jsx)(c.Z,{itemType:p.iB.ARTICLE,children:(0,f.jsx)(S,b(b({},e),{},{children:t}))})})};function I(e){return((((e.carouselInfo||{}).carouselData||{}).carousel_slots||[])[0]||{}).title}var T=function(e){e.pin;var t=g(e,m);if(!e.pin.entityId)return null;var n=I(t);return(0,f.jsx)(P,{children:(0,f.jsx)(c.Z,{itemType:p.iB.ARTICLE,children:(0,f.jsx)(S,b(b({},e),{},{children:n}))})})};t.Z=function(e){var t,n,r,i,o,l,s,c=e.pinKey,d=g(e,y),p=(0,a.u)(_,c).data,m=d.carouselInfo,h=!!(null!==(t=p.richMetadata)&&void 0!==t&&null!==(n=t.tutorial)&&void 0!==n&&n.name),v=!!(null!==(r=p.richMetadata)&&void 0!==r&&null!==(i=r.recipe)&&void 0!==i&&i.name),P=!!(null!==(o=p.richMetadata)&&void 0!==o&&null!==(l=o.article)&&void 0!==l&&l.name),S=!!(null!==(s=p.richSummary)&&void 0!==s&&s.displayName),j=(0,u.Z)(p),R=E;return m&&p.entityId&&I(d)?R=T:j?R=O:x(p)?R=w:h?R=C:v?R=k:P?R=A:S&&(R=D),(0,f.jsx)("div",{className:"CloseupTitleCard",children:(0,f.jsx)(R,b(b({},d),{},{pin:p}))})}},92261:function(e,t,n){"use strict";n.d(t,{$T:function(){return h},CI:function(){return o},Ch:function(){return l},Gb:function(){return s},Gg:function(){return r},Ie:function(){return p},KP:function(){return f},Kn:function(){return a},Uj:function(){return u},bx:function(){return m},d2:function(){return d},g9:function(){return y},iB:function(){return g},u6:function(){return i},zT:function(){return c}});var r=508,i=1016,o=488,a=992,l=672,s=1176,u=.6,c=.84,d=40,p=72,f=740,m=912,y=32,h=24,g={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},387957:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{GL:function(){return s},_z:function(){return a},d0:function(){return c},hO:function(){return u},pM:function(){return l}});var o,a="video",l="image",s=new Map([["DEFAULT",new Set(["button"])],["story_pin",new Set([a])],["product_detail_page",new Set(["description","shopButton","thumbnailsLoaded"])],["product_detail_page_plus",new Set(["description","shopButton","thumbnailsLoaded"])]]),u=(o=new Set,s.forEach(function(e){o=new Set([].concat(r(o),r(e)))}),o),c=new Set([].concat(r(u),[l,"resource"]))},819303:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(908390),i=n(780280),o=n(92261),a=n(966676),l=n(515198);function s(e){var t=e.children,n=e.isStoryPin,s=e.isWideVideo,u=void 0!==s&&s,c=(0,a.x4)(),d=c.showCloseupContentRight,p=c.showProductDetailPage,f=c.viewportSize,m=c.maxWidth,y=u?o.KP:m,h=p?o.CI:1050,g=u?o.Gg:h,v=(0,i.B)().isRTL;return void 0!==n&&n?(0,l.jsx)(r.xu,{display:"flex",position:"absolute",top:!0,left:v,right:!v,bottom:!0,width:o.Gg,children:t}):(0,l.jsx)(r.xu,{maxWidth:(d||u)&&"lg"===f?y:g,width:u&&"100%"||null,children:t})}},274970:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(908390),i=n(780280),o=n(240681),a=n(92261),l=n(966676),s=n(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){var t,n,d,p=e.children,f=e.isVideo,m=void 0!==f&&f,y=e.isWideVideo,h=e.shouldPadImage,g=e.styleOverrides,v=void 0===g?{}:g,b=e.variant,_=(0,l.x4)(),x=_.showCloseupContentRight,P=_.viewportSize,S=_.paneWidth,j=(0,i.B)(),w="default"===b;if(!(x&&"lg"===P||w||y))return(0,s.jsx)(r.xu,{children:p});var O=(0,o.Z)({isSideBySide:x&&!y,isPadded:h,isRTL:j.isRTL}),A=y?a.KP:S,k=y?a.KP:496,C=(null===(t=v.height)||void 0===t?void 0:t.height)||"100%",D=(null===(n=v.maxWidth)||void 0===n?void 0:n.maxWidth)||A,E=(null===(d=v.minWidth)||void 0===d?void 0:d.minWidth)||S;return(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({borderRadius:v.borderRadius||O.borderRadius,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},h&&m?{overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)"}:{})},display:w?"flex":void 0,flex:w&&y?"grow":void 0,height:w?C:void 0,justifyContent:w?"center":void 0,marginBottom:w?void 0:6,marginEnd:w?void 0:y?0:6,maxWidth:w?D:k,minWidth:w?E:344,rounding:w?void 0:2,children:p})}},273690:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(908390),i=n(92261),o=n(966676),a=n(515198);function l(e){var t=e.children,n=e.isStoryPin,l=e.isScheduledPin,s=e.isWideVideo,u=void 0!==s&&s,c=(0,o.x4)(),d=c.showCloseupContentRight,p=c.viewportSize,f=c.paneWidth,m=c.maxWidth,y=void 0!==l&&l?i.bx:m;return(0,a.jsx)(r.kC,{direction:u||"lg"!==p?"column":"row",flex:"grow",width:u?void 0:!d||"lg"!==p||void 0!==n&&n||u?f:y,children:t})}},916062:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(599689),i=n(53987);function o(e){var t=e.hasPin,n=e.pinId,o=e.boardLayout,a=e.boardUrl,l=(0,r.useLocation)(),s=(0,r.useParams)(),u=(0,r.useHistory)();return function(){if(t&&(0,i.L6)(l)&&s.id===n){var e="quick_saves"===o||"quick_creates"===o?"/me/":null!=a?a:"/";u.replace(e)}}}},827834:function(e,t,n){"use strict";var r=n(623568),i=n(388619);t.Z=function(e,t){var n=e.action||void 0,o=(0,i.Z)({url:e.location.search});return"PUSH"===n?"click":("POP"!==n||e.location.key)&&"news_hub"!==o.entrySource?t&&(0,r.sV)(t)?"deeplink":"click":"deeplink"}},559073:function(e,t,n){"use strict";n.d(t,{Yf:function(){return r}});var r=function(e){var t=e||{},n=t.url,r=t.width,i=t.height;return n&&r&&i?{url:n,width:r,height:i}:void 0}},951786:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r,i=n(76911);n(704217);var o=n(357998),a=n(692627),l=n(999018);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=void 0!==r?r:r=n(261679),p=function(e){var t;return{entityId:e.id,promotedIsLeadAd:e.promoted_is_lead_ad,promotedLeadForm:e.promoted_lead_form&&{leadId:e.promoted_lead_form.lead_id},richMetadata:e.rich_metadata&&{article:e.rich_metadata.article&&{__typename:"ArticleMetadata"},products:e.rich_metadata.products&&e.rich_metadata.products.map(function(){return{__typename:"RichPinProductMetadata"}}),recipe:(null===(t=e.rich_metadata)||void 0===t?void 0:t.recipe)&&{__typename:"RecipeMetadata"}},storyPinData:e.story_pin_data&&{__typename:"StoryPinData"}}};function f(e,t){var n,r=e.commerceOptions,s=e.deepLinkBackGoesToBoard,u=e.element,f=e.goBack,m=e.pinKey,y=e.routePush,h=e.trafficSource,g=e.viewer,v=e.requestContext,b=e.viewType,_=e.viewParameterType,x=e.componentType,P=(0,o.Q)(d,m,{useLegacyAdapter:p}),S=P.data,j=P.childDataKey__DEPRECATED,w=(0,l.Z)(j);return{onHandleBackButtonClick:(0,i.useCallback)(function(){var e,n,i,o,l,d,p,m,P,j=null===(d=S.promotedLeadForm)||void 0===d?void 0:d.leadId,O=r?w(r):null;S.promotedIsLeadAd?(t({event_type:4100,view_type:175,view_parameter:null,component:null,object_id_str:S.entityId,aux_data:c(c({},O),{},{lead_form_id:j,is_lead_ad:1})}),t({event_type:10369,view_type:175,view_parameter:null,component:14307,duration_ns:13606e6,object_id_str:S.entityId,aux_data:{lead_form_id:j,is_lead_ad:1}})):t(c(c({aux_data:O,event_type:101,view_type:b||3,view_parameter:_||(0,a.Z)({hasPin:!0,hasPinRichMetadata:!!S.richMetadata,hasPinRichMetadataProducts:!!(null!==(p=S.richMetadata)&&void 0!==p&&p.products),hasPinRichMetadataArticle:!!(null!==(m=S.richMetadata)&&void 0!==m&&m.article),hasPinRichMetadataRecipe:!!(null!==(P=S.richMetadata)&&void 0!==P&&P.recipe),hasPinStoryPinData:!!S.storyPinData})},x?{component:x}:void 0),{},{element:u||34}));var A="deep_linking"===h&&!s,k=g.partner?"/homefeed/":"/",C={utm_source:null!==(e=(l=new URL(v.fullPath,v.origin).searchParams).get("utm_source"))&&void 0!==e?e:"",utm_medium:null!==(n=l.get("utm_medium"))&&void 0!==n?n:"",utm_campaign:null!==(i=l.get("utm_campaign"))&&void 0!==i?i:"",news_hub_id:null!==(o=l.get("news_hub_id"))&&void 0!==o?o:""},D=C.utm_source,E=C.news_hub_id;return"".concat(D)==="".concat(31)&&E?y("/news_hub/".concat(E)):A?y(k):f()},[r,x,s,u,w,f,t,S.entityId,S.promotedIsLeadAd,null===(n=S.promotedLeadForm)||void 0===n?void 0:n.leadId,S.richMetadata,S.storyPinData,v.fullPath,v.origin,y,h,_,b,g.partner])}}},814197:function(e,t,n){"use strict";n.d(t,{Cq:function(){return c},Dk:function(){return p},Fk:function(){return i},fS:function(){return u},km:function(){return d},lI:function(){return a},lJ:function(){return o},mS:function(){return s},qW:function(){return l}});var r=n(908390),i=new r.Ry(1),o=3,a=new r.Ry(o),l=2,s=new r.Ry(l),u=3,c=4,d=new r.Ry(5),p=new r.Ry(100)},946843:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}}),n(704217);var r,i,o,a=n(681669),l=n(898781),s=n(349700),u=n(958007),c=n(780280),d=n(908390),p=n(515198),f=void 0!==r?r:r=n(281309);function m(e){var t=e.pin,n=(0,l.ZP)(),r=t.mediaAttribution||{},i=r.author,o=r.authorUrl,a=r.ccUrl,u=r.link,c=r.mediaType,f=r.providerName,m=!!f&&"Unknown"!==f,y={author:(0,p.jsx)(d.xu,{display:"inlineBlock",children:(0,p.jsx)(d.rU,{underline:"none",href:o||"",rel:"nofollow",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,p.jsx)(d.xv,{inline:!0,size:"200",weight:"bold",children:i})},"author")},"author"),provider:m?(0,p.jsx)(d.xu,{marginEnd:1,display:"inlineBlock",children:(0,p.jsx)(d.rU,{underline:"always",href:u||"",rel:"nofollow",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,p.jsx)(d.xv,{inline:!0,size:"200",weight:"bold",children:f})},"provider")},"provider"):null},h=m?n._('from {{ provider }}', 'closeup.description.imageSourceWithProvider', 'Image source attribution without author on pin closeup'):null;return i&&(h="VIDEO"===c?m?n._('Video by {{ author }} on {{ provider }}', 'closeup.description.videoSourceWithProvider', 'Video source attribution on pin closeup'):n._('Video by {{ author }}', 'closeup.description.videoSource', 'Video source attribution without provider on pin closeup'):m?n._('Photo by {{ author }} on {{ provider }}', 'closeup.description.photoSourceWithProvider', 'Photo source attribution on pin closeup'):n._('Photo by {{ author }}', 'closeup.description.photoSource', 'Photo source attribution without provider on pin closeup')),(0,p.jsx)(d.xu,{display:"inlineBlock","data-test-id":"media-attribution",children:(0,p.jsxs)(d.xv,{size:"200",inline:!0,children:[!!h&&(0,s.nk)(h,y),a&&(0,p.jsx)(d.rU,{underline:"none",href:a,rel:"nofollow",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,p.jsx)(d.xv,{size:"200",inline:!0,children:n._('(cc)', 'creative commons link text', 'creative commons link text')})},"link")]})})}function y(e){var t=e.pinKey,n=(0,a.sr)(f,t,{type:"pin",useLegacyAdapter:function(e){return{mediaAttribution:e.media_attribution&&{author:e.media_attribution.author,authorUrl:e.media_attribution.author_url,ccUrl:e.media_attribution.cc_url,link:e.media_attribution.link,mediaType:e.media_attribution.media_type,providerName:e.media_attribution.provider_name}}}}).data;return n&&(0,p.jsx)(m,{pin:n})}var h=void 0!==i?i:i=n(801322);function g(e){var t,n,r=e.pin,i=(0,l.ZP)(),o=r.attribution||{},a=o.authorUrl,u=o.authorName,c=o.url,f=o.providerName,m=o.ccUrl,y=null===(t=r.attribution)||void 0===t?void 0:null===(n=t.embed)||void 0===n?void 0:n.src,h=r.embed||{},g=h.type,v=h.src,b=h.subtype,_=!!f&&"Unknown"!==f,x={author:(0,p.jsx)(d.xu,{display:"inlineBlock",children:(0,p.jsx)(d.rU,{underline:"none",href:a||"",rel:"nofollow",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,p.jsx)(d.xv,{inline:!0,size:"200",weight:"bold",children:u})},"author")},"author"),provider:_?(0,p.jsx)(d.xu,{marginEnd:1,display:"inlineBlock",children:(0,p.jsx)(d.rU,{underline:"always",href:c||"",rel:"nofollow",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,p.jsx)(d.xv,{inline:!0,size:"200",weight:"bold",children:f})},"provider")},"provider"):null},P=_?i._('from {{ provider }}', 'closeup.description.imageSourceWithProvider', 'Image source attribution without author on pin closeup'):null;return u&&(P=(v||y)&&"gif"!==g&&"pinstory"!==b?_?i._('Video by {{ author }} on {{ provider }}', 'closeup.description.videoSourceWithProvider', 'Video source attribution on pin closeup'):i._('Video by {{ author }}', 'closeup.description.videoSource', 'Video source attribution without provider on pin closeup'):_?i._('Photo by {{ author }} on {{ provider }}', 'closeup.description.photoSourceWithProvider', 'Photo source attribution on pin closeup'):i._('Photo by {{ author }}', 'closeup.description.photoSource', 'Photo source attribution without provider on pin closeup')),(0,p.jsx)(d.xu,{display:"inlineBlock","data-test-id":"photo-attribution",children:(0,p.jsxs)(d.xv,{size:"200",inline:!0,children:[!!P&&(0,s.nk)(P,x),m&&(0,p.jsx)(d.rU,{underline:"none",href:m,rel:"nofollow",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,p.jsx)(d.xv,{size:"200",inline:!0,children:i._('(cc)', 'creative commons link text', 'creative commons link text')})},"link")]})})}function v(e){var t=e.pinKey,n=(0,a.sr)(h,t,{type:"pin",useLegacyAdapter:function(e){return{attribution:e.attribution&&{authorName:e.attribution.author_name,authorUrl:e.attribution.author_url,ccUrl:e.attribution.cc_url,embed:e.attribution.embed&&{src:e.attribution.embed.src},providerName:e.attribution.provider_name,url:e.attribution.url},embed:e.embed&&{src:e.embed.src,subtype:e.embed.subtype,type:e.embed.type}}}}).data;return n&&(0,p.jsx)(g,{pin:n})}var b=n(76911),_=n(565212),x=n(509278),P=n(643010),S=n(773285),j=n(867820),w=n(52022),O=n(413252),A=n(50286);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function C(e){var t,n=e.text,r=(0,c.B)(),i=r.isAuthenticated,o=r.isBot,a=function(e){if(Array.isArray(e))return e}(t=(0,b.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],s=a[1],u=(0,S.F)().checkExperiment,f=(0,A.ZP)(),m=(0,w.Z)(),y=u("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}).anyEnabled,h=u("web_hashtags_in_description_display").anyEnabled,g=(0,P.vs)(),v=y?g:(0,P.Yc)(),C=(0,b.useCallback)(function(){l||i||((0,j.NC)("click_open_description"),(0,j.My)("desktop"===f?"pcons.dweb-more-description":"pcons.mweb-more-description"),m({action:"click",item:"more-description"})),s(!l)},[l,i,m,f]);return o?(0,p.jsx)(d.xv,{inline:!0,children:(0,x.Z)({isHashtagInDescriptionDisplayEnabled:h,text:n})}):"desktop"!==f?(0,p.jsx)(O.Z,{Wrapper:function(e){var t=e.children;return(0,p.jsx)("h2",{style:{fontSize:"14px",wordWrap:"break-word",textAlign:"start"},children:t})},isExpanded:l,description:n,maxHeight:38,handleToggle:C}):(0,p.jsx)(_.Z,{isDarkMode:v,children:(0,x.Z)({isHashtagInDescriptionDisplayEnabled:h,text:n})})}function D(e){var t,n=e.photoAttribution,r=e.text,i=(0,A.ZP)(),o=(0,w.Z)(),a=(0,S.F)().checkExperiment,l=(0,c.B)().isAuthenticated?a("auth_closeup_redesign").anyEnabled:a("unauth_closeup_redesign").anyEnabled;return"phone"===i&&(t=l?"start":"center"),(0,p.jsxs)(d.xu,{"data-test-id":"CloseupDescriptionContainer",maxWidth:"100%",dangerouslySetInlineStyle:{__style:{textAlign:t}},children:[n,r&&(0,p.jsx)(d.xu,{"data-test-id":"main-pin-description-text",children:(0,p.jsx)(d.iP,{onTap:function(){(0,j.My)("desktop"===i?"pcons.dweb.main-pin-description-text":"pcons.mweb.main-pin-description-text"),o({action:"click",item:"main-pin-description-text"})},children:(0,p.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},children:(0,p.jsx)(C,{text:r})})})})]})}var E=void 0!==o?o:o=n(882900),I=function(e,t){if(e){var n=e.getTime(),r=new Date().getTime();return null==t||r-n<=31536e6*t}return!1};function T(e){var t,n,r,i,o,d,f,m,h,g=e.pinKey,b=(0,l.ZP)(),_=(0,c.B)(),x=_.isAuthenticated,P=_.locale,S=(0,a.sr)(E,g,{type:"pin",useLegacyAdapter:function(e){return{attribution:e.attribution&&{__typename:"Attribution"},closeupDescription:e.closeup_description,closeupUnifiedDescription:e.closeup_unified_description,description:e.description,mediaAttribution:e.media_attribution&&{__typename:"MediaAttribution"},richMetadata:e.rich_metadata&&{article:e.rich_metadata.article&&{datePublished:e.rich_metadata.article.date_published},description:e.rich_metadata.description,recipe:e.rich_metadata.recipe&&{__typename:"RecipeMetadata"}},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},seoDescription:e.seo_description,seoNoindexReason:e.seo_noindex_reason,storyPinDataId:e.story_pin_data_id}}}),j=S.data,w=S.childDataKey__DEPRECATED;if(!j)return null;var O=j.closeupDescription,A=j.closeupUnifiedDescription,k=j.storyPinDataId,C=null!==(t=null===(n=j.richMetadata)||void 0===n?void 0:n.description)&&void 0!==t?t:"",T=null!==(r=null===(i=j.richMetadata)||void 0===i?void 0:null===(o=i.article)||void 0===o?void 0:o.datePublished)&&void 0!==r?r:"",R=null!==(d=null===(f=j.richSummary)||void 0===f?void 0:f.displayName)&&void 0!==d?d:"",F=j.description,L=!!j.attribution,z=!!j.mediaAttribution,M=j.seoDescription||"",B=j.seoNoindexReason||"",N=T&&new Date(T),Z=x?null==A?void 0:A.trim():(0,u.Z)({storyPinDataId:k,pinDescription:F,richMetadataDescription:C,richSummaryDisplayName:R,closeupDescription:O,closeupUnifiedDescription:A,seoDescription:M,seoNoindexReason:B}),U=N&&I(N,2)&&Z?(0,s.nk)(b._('{{ pinDescription }} Published on {{ date }}', 'closeup.details.descirptionWithPublishedDate', 'Pin description with publish date'),{date:function(e,t){try{return new Intl.DateTimeFormat(t,{month:"long",day:"numeric",year:"numeric",calendar:"gregory"}).format(e)}catch(t){return e?e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate():""}}(N,P),pinDescription:Z}).join(""):Z;return(L||z)&&(h=(0,s.nk)(Z?"{{ credit }}  \xb7 ":"{{ credit }}",{credit:z?(0,p.jsx)(y,{pinKey:w},"article-pin"):(0,p.jsx)(v,{pinKey:w},"article-pin"),descriptionToDisplay:U})),(0,p.jsx)(D,{photoAttribution:h,text:null!==(m=j.richMetadata)&&void 0!==m&&m.recipe?null:Z})}},29066:function(e,t,n){"use strict";n.d(t,{ZP:function(){return ev},fL:function(){return ed},xh:function(){return eu}});var r,i,o=n(76911),a=n(704217),l=n(167678),s=n(908390),u=n(288889),c=n(807592),d=n(561067),p=n(643010),f=n(319915),m=n(681669),y=n(898781),h=n(543972),g=n(926275),v=n(313047),b=n(623568),_=n(992750),x=n(773285),P=n(780280),S=n(947599),j=n(844974),w=n(66699),O=n(939106),A=n(50286),k=n(792606),C=n(946843),D=n(892363),E=n(435183),I=n(266224),T=n(40995),R=n(745162),F=n(358381),L=n(350948),z=n(635821),M=n(178307),B=n(44004),N=n(62409),Z=n(332215),U=n(96023),K=n(698330),H=n(571577),V=n(954063),G=n(21384),W=n(678532),q=n(238253),Y=n(252417),X=n(642639),$=n(375559),Q=n(862193),J=n(817767),ee=n(986926),et=n(394332),en=n(515198);function er(e){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ei=["graphqlRef","pinId"];function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==er(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==er(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===er(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var el=(0,l.ZP)({resolved:{},chunkName:function(){return"Reactions-ReactionAggregation"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(15206).then(n.bind(n,142219))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 142219}}),es=(0,o.lazy)(function(){return n.e(7612).then(n.bind(n,607612))}),eu=2,ec=o.Fragment,ed=function(e){var t=e.children;return"lg"===(0,H.H)()?(0,en.jsx)(s.Le,{top:68,children:(0,en.jsx)(s.xu,{marginStart:4,children:t})}):t},ep=(0,o.lazy)(function(){return n.e(55967).then(n.bind(n,55967))}),ef=void 0!==r?r:r=n(350886),em=void 0!==i?i:i=n(914715);function ey(e){var t,n,r=(0,y.ZP)(),i=e.commentCount,a=e.commentsDisabled,l=e.commentModule,c=e.isEligibleForPdp,m=e.isImagePinForUnauthOnTablet,H=e.isStoryPin,Q=e.onClickTitleOrDomain,ee=e.shouldShowAggregatedComments,er=e.shouldShowReactions,ei=e.shouldShowSEOPinInfo,eo=e.viewParameter,ea=e.viewerId,ef=e.pinActionBar,em=e.sourceUserBlockedByMe,ey=e.sourceUserExplicitlyFollowedByMe,eh=e.sourceUserFollowerCount,eg=e.sourceUserFullName,ev=e.sourceUserId,eb=e.sourceUserImageLargeUrl,e_=e.sourceUserimageMediumUrl,ex=e.sourceUserImageSmallUrl,eP=e.sourceUserIsVerifiedMerchant,eS=e.sourceUserUsername,ej=e.sourceUserVerifiedIdentityVerified,ew=e.pinId,eO=e.pinLink,eA=e.pinDomain,ek=e.pinProductPrice,eC=e.pinProductInStock,eD=e.pinReactionCounts,eE=e.promoterFullName,eI=e.hasPinProduct,eT=e.hasSourceUser,eR=e.hasOfficialUser,eF=e.hasLinkDomain,eL=e.hasNativeCreator,ez=e.hasOriginPinner,eM=e.hasPromoter,eB=e.hasRichMetadataArticle,eN=e.hasRichMetadataTutorial,eZ=e.hasRichMetadataRecipe,eU=e.hasRichMetadataRecipeCategorizedIngredients,eK=e.hasRichMetadataRecipeAggregateInfo,eH=e.hasRichMetadataProductOfferSummary,eV=e.hasRichSummaryProductOfferSummary,eG=e.richMetadataRecipeFromAggregatedData,eW=e.richMetadataProductName,eq=e.richSummaryProductName,eY=e.pinJoinVisualAnnotation,eX=e.pinJoinAnnotationsWithLinks,e$=e.graphqlRef,eQ=e.isActionBarInline,eJ=e.setIsActionBarInline,e0=e.clientTrackingParams,e1=e.shoppingKlpUrls,e2=e.storyPinKeyValueBlocks,e8=e.setCloseupDetailsHeight,e3=e.setCloseupPinLinkCreditsHeight,e9=e.setCloseupTitleHeight,e6=e.setUploadedToPinterestTextHeight,e5=e.setUserAttributionHeight,e7=e.setUserRepHeight,e4=(0,x.F)().checkExperiment,te=(0,A.ZP)(),tt="desktop"===te,tn="phone"===te,tr=(0,P.B)(),ti=tr.isAuthenticated,to=tr.country,ta=tr.locale,tl=tr.isBot,ts=tr.regionFromIp,tu=(0,K.Tt)(),tc=(0,p.vs)(),td=c&&ti||!tt&&!c,tp=(0,o.useRef)(null),tf=(0,o.useRef)(null),tm=(0,o.useRef)(null),ty=(0,o.useRef)(null),th=(0,o.useRef)(null),tg=(0,o.useRef)(null),tv=(0,o.useRef)(null);(0,U.Z)(function(e){e8&&tf&&tf.current&&tf.current.offsetHeight<72&&e8(e.offsetHeight)},tp),(0,U.Z)(function(e){e3&&e3(e.offsetHeight)},tm),(0,U.Z)(function(e){e9&&e9(e.offsetHeight)},ty),(0,U.Z)(function(e){e5&&e5(e.offsetHeight)},tg),(0,U.Z)(function(e){e6&&e6(e.offsetHeight)},th),(0,U.Z)(function(e){e7&&e7(e.offsetHeight)},tv);var tb=!tt&&(!ti||td&&eQ||!c&&e4("auth_mweb_inline_action_bar").anyEnabled);if(ti&&c)return(0,en.jsx)(ed,{children:(0,en.jsxs)(s.xu,{"data-test-id":"CloseupDetails",children:[(0,en.jsx)(s.xu,{width:"100%",paddingY:l?0:3,paddingX:2,children:(0,en.jsx)(q.Z,{onClickTitleOrDomain:Q,graphqlRef:e$,pinId:ew,inlinePinActionBar:tb?ef:void 0,setIsActionBarInline:td?eJ:void 0})}),l]})});var t_=!tt&&["no_collapse_by_default","collapse_by_default"].includes(e4(ti?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").group),tx=(0,b._S)(eA)?(0,N.Fc)({i18n:r,hasRichMetadataProductOfferSummary:eH,richMetadataProductName:eW,richSummaryProductName:eq,hasRichSummaryProductOfferSummary:eV}):void 0,tP=(0,b._S)(eA)?(0,N.Fc)({i18n:r,hasRichMetadataProductOfferSummary:eH,richMetadataProductName:eW,richSummaryProductName:eq,hasRichSummaryProductOfferSummary:eV})||(0,N.Wj)({i18n:r,hasLinkDomain:eF,hasRichMetadataArticle:eB,hasRichMetadataRecipeCategorizedIngredients:eU,hasRichMetadataTutorial:eN,richMetadataRecipeFromAggregatedData:eG}):void 0,tS=!ti&&eI&&(c||tl||!e4("unauth_gate_product_pins_by_country_and_trustworthiness").anyEnabled),tj=(0,N.Xe)({hasLinkDomain:eF,hasNativeCreator:eL,hasOriginPinner:ez,pinDomain:eA,sourceUserUsername:eS,sourceUserFullName:eg}),tw=tj.pinCreditLink,tO=tj.pinCredit,tA=(0,_.eK)({pinJoinVisualAnnotation:eY,pinJoinAnnotationsWithLinks:eX}).annotationsWithLinks,tk=(0,N.AH)(eO),tC=eT&&(!ti||tO&&tw),tD=er&&!!eD&&!e4("".concat(ti?"auth":"unauth","_mweb_reactions_expansion_mvp_idea_video_pin")).anyEnabled,tE=(0,g.Z)(null==tu?void 0:tu.created_at)&&!(0,Z.V0)(tu),tI=tl&&!tt&&td&&e4("mweb_render_missing_seo_content_holdout_ff").anyEnabled,tT=tI?!td:tl||!td,tR=ti?e4("auth_closeup_redesign").anyEnabled:e4("unauth_closeup_redesign").anyEnabled,tF=!tt&&ei&&(0,en.jsx)(s.xu,{children:(0,en.jsx)(G.Z,{dedupeVisualAnnotations:null,pinId:ew,isMainPin:!0,isAuth:ti,pinCreditPrefix:tP,onClickTitleOrDomain:Q,graphqlRef:e$,lazyLoadAnnotations:!ti&&!tl,renderOnlyHiddenSEOContent:!tI&&td&&tl,shoppingKlpUrls:e1})}),tL=eR&&(0,en.jsx)(s.xu,{marginBottom:2,ref:tg,children:(0,en.jsx)(F.Z,{hideFollowButton:e4("lex_follow_button").group.includes("hide_follow")||tt,justifyContent:tt?"start":"center",viewerId:ea,pinId:ew,graphqlRef:e$,seeMoreButton:tT&&tF,clientTrackingParams:e0})}),tz=!!tC&&!eR&&(0,en.jsxs)(s.xu,{flex:"grow",marginTop:tR?void 0:Y.dP,"data-test-id":"CloseupUserRep",display:"flex",justifyContent:"between",alignItems:"center",width:"100%",ref:tv,children:[(0,en.jsx)(J.Z,{activateLexFollowExp:function(){return e4("lex_follow_button")},blockedByMe:null!=em&&em,explicitlyFollowedByMe:null!=ey&&ey,followerCount:null!=eh?eh:0,fullName:null!=eg?eg:"",id:null!=ev?ev:"",imageLargeUrl:null!=eb?eb:"",imageMediumUrl:null!=e_?e_:"",imageSmallUrl:null!=ex?ex:"",isEligibleForPdp:!!c,isImagePinForUnauthOnTablet:null!=m&&m,isOnCloseup:!0,isVerifiedMerchant:null!=eP&&eP,pinId:ew,pinKey:e$,textColor:"default",type:"row",username:null!=eS?eS:"",verifiedIdentityVerified:null!=ej&&ej,viewParameter:eo,viewType:3,clientTrackingParams:e0}),tT&&tF]}),tM=tt&&(tA||[]).length>0&&(0,en.jsx)(o.Fragment,{children:(0,en.jsx)(s.xu,{paddingX:0,padding:tR?0:2,marginTop:tR?4:0,children:(0,en.jsx)(et.ZP,{dedupeVisualAnnotations:null,pinId:ew,mode:"inlineWithScrollArrows",graphqlRef:e$,shoppingKlpUrls:e1})})}),tB=tD&&(0,en.jsx)(f.Z,{name:"SafeSuspense_CloseupDetails_ReactionAggregation",children:(0,en.jsx)(S.Z,{children:(0,en.jsx)(s.xu,{alignSelf:"center",display:"flex",justifyContent:tt||tR?"start":"center",marginTop:tt?2:void 0,children:(0,en.jsx)(el,{pinId:ew,reactionCounts:eD,viewParameter:156,viewType:3,disableModal:!ti,textSize:u.n,textWeight:"bold"})})})});eA&&eO&&(t={domain:eA,url:eO});var tN=e$?{type:"graphqlRef",data:e$}:{type:"deprecated",data:ew},tZ=(e2||[]).map(function(e,t){var n;return(0,en.jsx)(X.Z,{categoryType:null!==(n=e.categoryType)&&void 0!==n?n:e.category_type,value:e.value,type:"compact",size:"300"},"key-val-component-".concat(t))}).filter(function(e){return null!=e}),tU=Y.dP,tK=tD||tn?Y.dP:0,tH=ti?void 0:10,tV=tt?"start":"center";return tR&&(tU=tt?4:2,tK=tD||tn?Y.dP:1,tH=ti?void 0:8,n=tn,tV="start"),(0,en.jsx)(ed,{children:(0,en.jsxs)(s.xu,{"data-test-id":"CloseupDetails",ref:tp,children:[(0,en.jsxs)(s.xu,{width:"100%",marginTop:4,marginBottom:t_&&!tR?0:4,paddingX:eu,children:[!tb&&ef,tn&&tL,tB,(tt||tS||tk&&(!tC||m))&&(0,en.jsx)(s.xu,{"data-test-id":"callToActionButton",display:ti||tt||m||tS?void 0:"none",marginTop:tK,ref:tm,children:(0,en.jsx)(E.Z,{isImagePinForUnauthOnTablet:m,onClickTitleOrDomain:Q,pinCreditPrefix:tR?tx:tP,pinDomain:eA})}),tt&&tS&&ek&&(0,en.jsxs)(s.xu,{alignItems:"baseline",display:"flex",direction:"row",marginTop:1,children:[(0,en.jsx)(s.xv,{size:"500",children:ek}),(0,en.jsx)(s.xu,{marginStart:2,children:(0,en.jsx)(s.xv,{size:"400",children:eC?r._('In stock', 'closeup.details.productPinInStock', 'Product pin in stock'):r._('Out of stock', 'Product pin out of stock', 'Product pin out of stock')})})]}),(0,en.jsxs)(ec,{children:[tn&&tz,(0,en.jsx)(s.xu,{marginTop:tR?4:Y.dP,ref:ty,children:(0,en.jsx)(T.Z,{onClick:Q,hasLink:tk,lineClamp:tR?void 0:(0,R.Z)({isImagePinForUnauthOnTablet:m}),pinId:ew,graphqlRef:e$,forceSmallerHeading:n,textAlign:tV})})]}),(0,en.jsx)(ec,{children:tn&&t_&&(0,en.jsx)(s.xu,{marginTop:Y.dP,children:(0,en.jsx)(O.Z,{items:tZ.filter(function(e){return""!==e}),color:tc?"light":"default"})})}),!tt&&ek&&(0,en.jsx)(s.xu,{display:"flex",justifyContent:tR?"start":"center",marginTop:2,marginBottom:2,children:(0,en.jsxs)(s.xv,{children:[ek," \xb7 ",eC?r._('In stock', 'closeup.details.productPinInStock', 'Product pin in stock'):r._('Out of stock', 'Product pin out of stock', 'Product pin out of stock')]})}),eZ&&eK&&!tE&&(0,en.jsx)(z.Z,{pinId:ew,graphqlRef:e$,boldText:!1,marginTop:Y.dP,textSize:"300",isWideViewport:tt}),(0,en.jsx)(s.xu,{ref:tf,children:(0,en.jsx)(ec,{children:(0,en.jsx)(h.Z,{options:{threshold:[1]},onVisibilityChange:td?function(e){if(e&&e.length>0&&eJ){var t=e[0],n=t.intersectionRatio,r=t.boundingClientRect.y<0;eJ(1===n||r)}}:function(){},children:function(e){return(0,en.jsx)(s.xu,{ref:e,children:(0,en.jsx)(s.xu,{marginTop:tR?tU:Y.dP,children:tS?(0,en.jsx)(W.Z,{onClickTitleOrDomain:Q,pinKey:tN}):(0,en.jsx)(C.Z,{pinKey:tN})})})}})})}),tb&&(0,en.jsx)(s.xu,{marginTop:tR?4:0,marginBottom:tR&&!l?4:0,children:ef}),tt&&!ti&&tM,!tn&&(0,en.jsx)(s.xu,{marginTop:tR?Y.dP:0,children:tz}),!tn&&(0,en.jsx)(s.xu,{marginTop:tR?8:Y.dP,children:tL}),tt&&ti&&(0,en.jsx)(s.xu,{"data-test-id":"UnauthVaseFullBleedModalContainer",dangerouslySetInlineStyle:{__style:{visibility:"hidden"}},children:(0,en.jsx)(k.Z,{pinKey:tN,onClose:function(){}})}),!tt&&eM&&(0,en.jsxs)(o.Fragment,{children:[(0,en.jsx)(s.xu,{marginTop:Y.dP,children:(0,en.jsx)(s.iz,{})}),(0,en.jsxs)(s.xu,{alignItems:"center",display:"flex",justifyContent:"between",margin:2,paddingX:1,children:[(0,en.jsx)(s.xv,{inline:!0,size:"200",weight:"bold",children:r._('Promoted Pin', 'Denotes promoted pin in closeup', 'Denotes promoted pin in closeup')}),(0,en.jsx)(f.Z,{name:"SafeSuspense_CloseupDetails_PinFeedbackButton",children:(0,en.jsx)(S.Z,{children:(0,en.jsx)(ep,{graphqlRef:e$,pinId:ew,promoter:null!=eE?eE:"",type:"promoted"})})})]}),(0,en.jsx)(s.iz,{})]}),!tE&&eZ&&!H&&(0,en.jsx)(V.Z,{hash:"recipe",offset:-v.DEFAULT_HEIGHT,children:(0,en.jsx)(L.ZP,{pinId:ew,graphqlRef:e$})}),!tE&&H&&(0,en.jsx)(D.Z,{graphqlRef:e$,link:t,pinId:null!=ew?ew:"",clientTrackingParams:e0}),!t_&&(0,en.jsx)(I.Z,{graphqlRef:e$,pinId:ew,inCollapsibleModulesExp:t_}),!ti&&tn&&"IN"===to&&(ta||"").startsWith("en")&&$.N3.includes(ts)&&3>=Number((0,j.qn)("indiaUnauthLocaleShowCount",0))&&(0,en.jsx)(f.Z,{name:"SafeSuspense_CloseupDetails_UnauthSwitchLanguageModal",children:(0,en.jsx)(S.Z,{children:(0,en.jsx)(es,{})})}),(0,en.jsx)(d.Z,{pinKey:tN,isDesktop:tt})]}),tt&&ee&&!eI&&(0,en.jsx)(f.Z,{name:"CommentThread",children:(0,en.jsxs)(s.xu,{paddingX:2,marginTop:tH,children:[(0,en.jsx)(s.X6,{size:"400",accessibilityLevel:2,children:i&&!a?(0,w.Z)(r.ngettext('{{ count }} Comment', '{{ count }} Comments', i, 'desktopPinCloseup.sectionTitle.commentsCountLabel', 'Comments on a Pin. count: number of comments'),{count:i.toString()}):r._('Comments', 'desktopPinCloseup.sectionTitle', 'Title of comments section')}),(0,en.jsx)(B.Z,{isReadOnly:!0,pinKey:tN,pinId:ew,viewParameter:eo}),!tl&&!a&&(0,en.jsx)(M.Z,{isStoryPin:!1,viewParameter:eo})]})}),!tt&&l]})})}var eh=function(e){var t,n,r,i,o,l,s,u,c,d,p,f,m,y,h,g,v,b,_,x,S,j,w,O,A,k,C,D,E,I,T,R,F,L,z,M,B,N,Z,U,K,H,V,G=(0,ee.Z)(e),W=(0,Q.Z)(e),q=(0,a.useFragment)(ef,e.pinner),Y=(0,a.useFragment)(ef,e.nativeCreator),X=(0,a.useFragment)(ef,null===(t=e.linkDomain)||void 0===t?void 0:t.officialUser),$=(0,a.useFragment)(ef,e.originPinner),J=(null===(n=e.pinJoin)||void 0===n?void 0:n.visualAnnotation)||[],et=(null===(r=e.pinJoin)||void 0===r?void 0:r.shoppingKlpUrls)||[],en=e.promoter&&!e.isDownstreamPromotion?e.promoter:null,er=null===(i=e.richMetadata)||void 0===i?void 0:null===(o=i.products)||void 0===o?void 0:o[0],ei=null===(l=e.richSummary)||void 0===l?void 0:null===(s=l.products)||void 0===s?void 0:s[0],eo=(null===(u=e.aggregatedPinData)||void 0===u?void 0:u.commentCount)||0,ea=(null===(c=e.aggregatedPinData)||void 0===c?void 0:null===(d=c.didItData)||void 0===d?void 0:d.imagesCount)||0,el=(0,P.B)().isAuthenticated;H=Y||(e.linkDomain?X:$||q),el||H||(H=q);var es=!!e.closeupAttribution;return er&&er.name&&er.offerSummary&&(V=er.offerSummary),!V&&ei&&ei.name&&ei.offerSummary&&(V=ei.offerSummary),{commentCount:eo+ea,commentsDisabled:e.commentsDisabled,closeupUnifiedDescription:e.closeupUnifiedDescription,hasLinkDomain:!!e.linkDomain,hasNativeCreator:!!e.nativeCreator,hasOfficialUser:es,hasOriginPinner:!!e.originPinner,hasPinProduct:!!V,hasPromoter:!!en,hasRichMetadataArticle:!!(null!==(f=e.richMetadata)&&void 0!==f&&f.article),hasRichMetadataProductOfferSummary:!!(null!=er&&er.offerSummary),hasRichMetadataRecipe:!!(null!==(m=e.richMetadata)&&void 0!==m&&m.recipe),hasRichMetadataRecipeAggregateInfo:!!(null!==(y=e.richMetadata)&&void 0!==y&&null!==(h=y.recipe)&&void 0!==h&&h.displayCookTime)||!!(null!==(g=e.richMetadata)&&void 0!==g&&null!==(v=g.recipe)&&void 0!==v&&v.servingsSummary)||!!(null!==(b=e.richMetadata)&&void 0!==b&&null!==(_=b.recipe)&&void 0!==_&&_.aggregateRating),hasRichMetadataRecipeCategorizedIngredients:!!(null!==(x=e.richMetadata)&&void 0!==x&&null!==(S=x.recipe)&&void 0!==S&&S.categorizedIngredients),hasRichMetadataTutorial:!!(null!==(j=e.richMetadata)&&void 0!==j&&j.tutorial),hasRichSummaryProductOfferSummary:!!(null!=er&&er.offerSummary),hasSourceUser:!!H,isEligibleForPdp:e.isEligibleForPdp,pinDomain:e.domain,pinJoinAnnotationsWithLinks:W,pinJoinVisualAnnotation:J,pinLink:e.link,pinProductInStock:null===(w=V)||void 0===w?void 0:w.inStock,pinProductPrice:null===(O=V)||void 0===O?void 0:O.price,pinReactionCounts:G,promoterFullName:null==en?void 0:en.fullName,richMetadataProductName:null==er?void 0:er.name,richMetadataRecipeFromAggregatedData:null===(A=e.richMetadata)||void 0===A?void 0:null===(k=A.recipe)||void 0===k?void 0:k.fromAggregatedData,richSummaryProductName:null==ei?void 0:ei.name,shouldShowAggregatedComments:e.isEligibleForAggregatedComments,shoppingKlpUrls:et,sourceUserBlockedByMe:null===(C=H)||void 0===C?void 0:C.blockedByMe,sourceUserExplicitlyFollowedByMe:null===(D=H)||void 0===D?void 0:D.explicitlyFollowedByMe,sourceUserFollowerCount:null===(E=H)||void 0===E?void 0:E.followerCount,sourceUserFullName:null===(I=H)||void 0===I?void 0:I.fullName,sourceUserId:null===(T=H)||void 0===T?void 0:T.entityId,sourceUserImageLargeUrl:null===(R=H)||void 0===R?void 0:R.imageLargeUrl,sourceUserimageMediumUrl:null===(F=H)||void 0===F?void 0:F.imageMediumUrl,sourceUserImageSmallUrl:null===(L=H)||void 0===L?void 0:L.imageSmallUrl,sourceUserIsVerifiedMerchant:null===(z=H)||void 0===z?void 0:z.isVerifiedMerchant,sourceUserUsername:null===(M=H)||void 0===M?void 0:M.username,sourceUserVerifiedIdentityVerified:null===(B=H)||void 0===B?void 0:null===(N=B.verifiedIdentity)||void 0===N?void 0:N.verified,storyPinKeyValueBlocks:null===(Z=e.storyPinData)||void 0===Z?void 0:null===(U=Z.metadata)||void 0===U?void 0:null===(K=U.basics)||void 0===K?void 0:K.keyValueBlocks}},eg=function(e){var t,n,r,i,o,a,l,s,u,d,p,f,m,y,h,g,v,b,_,x,S,j,w,O,A,k,C,D,E,I,T,R,F,L,z,M,B=(0,P.B)().isAuthenticated,Z=(0,K.mN)();if(!e)return null;var U=(null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.comment_count)||0,H=(null===(n=e.aggregated_pin_data)||void 0===n?void 0:null===(r=n.did_it_data)||void 0===r?void 0:r.images_count)||0,V=e.promoter&&!e.is_downstream_promotion?e.promoter:null,G=null===(i=e.rich_metadata)||void 0===i?void 0:null===(o=i.products)||void 0===o?void 0:o[0],W=null===(a=e.rich_summary)||void 0===a?void 0:null===(l=a.products)||void 0===l?void 0:l[0],q=e||{},Y=q.link_domain,X=q.native_creator,$=q.origin_pinner,Q=q.pinner,J=(0,N.wS)(Y,X,$,Q);B||J||(J=Q),J&&(z="string"==typeof J?Z(J):J);var ee=!!e.closeup_attribution;return G&&G.name&&G.offer_summary&&(M=G.offer_summary),!M&&W&&W.name&&W.offer_summary&&(M=W.offer_summary),{commentCount:U+H,commentsDisabled:e.comments_disabled,hasLinkDomain:!!e.link_domain,hasNativeCreator:!!e.native_creator,hasOfficialUser:ee,hasOriginPinner:!!e.origin_pinner,hasPinProduct:!!M,hasPromoter:!!V,hasRichMetadataArticle:!!(null!==(u=e.rich_metadata)&&void 0!==u&&u.article),hasRichMetadataProductOfferSummary:!!(null!=G&&G.offer_summary),hasRichMetadataRecipe:!!(null!==(d=e.rich_metadata)&&void 0!==d&&d.recipe),hasRichMetadataRecipeCategorizedIngredients:!!(null!==(p=e.rich_metadata)&&void 0!==p&&null!==(f=p.recipe)&&void 0!==f&&f.categorized_ingredients),hasRichMetadataTutorial:!!(null!==(m=e.rich_metadata)&&void 0!==m&&m.tutorial),hasRichSummaryProductOfferSummary:!!(null!=G&&G.offer_summary),hasSourceUser:!!J,isEligibleForPdp:e.is_eligible_for_pdp,pinDomain:e.domain,pinJoinAnnotationsWithLinks:null===(y=e.pin_join)||void 0===y?void 0:y.annotations_with_links,pinJoinVisualAnnotation:null===(h=e.pin_join)||void 0===h?void 0:h.visual_annotation,pinLink:e.link,pinProductInStock:null===(g=M)||void 0===g?void 0:g.in_stock,pinProductPrice:M&&(0,c.Z)({maxPrice:M.max_price,minPrice:M.min_price,price:M.price}),pinReactionCounts:e.reaction_counts,promoterFullName:null==V?void 0:V.full_name,richMetadataProductName:null==G?void 0:G.name,richMetadataRecipeFromAggregatedData:null===(v=e.rich_metadata)||void 0===v?void 0:null===(b=v.recipe)||void 0===b?void 0:b.from_aggregated_data,richSummaryProductName:null==W?void 0:W.name,shouldShowAggregatedComments:e.is_eligible_for_aggregated_comments,shoppingKlpUrls:(null===(_=e.pin_join)||void 0===_?void 0:_.shopping_klp_urls)||[],sourceUserBlockedByMe:null===(x=z)||void 0===x?void 0:x.blocked_by_me,sourceUserExplicitlyFollowedByMe:null===(S=z)||void 0===S?void 0:S.explicitly_followed_by_me,sourceUserFollowerCount:null===(j=z)||void 0===j?void 0:j.follower_count,sourceUserFullName:null===(w=z)||void 0===w?void 0:w.full_name,sourceUserId:null===(O=z)||void 0===O?void 0:O.id,sourceUserImageLargeUrl:null===(A=z)||void 0===A?void 0:A.image_large_url,sourceUserimageMediumUrl:null===(k=z)||void 0===k?void 0:k.image_medium_url,sourceUserImageSmallUrl:null===(C=z)||void 0===C?void 0:C.image_small_url,sourceUserIsVerifiedMerchant:null===(D=z)||void 0===D?void 0:D.is_verified_merchant,sourceUserUsername:null===(E=z)||void 0===E?void 0:E.username,sourceUserVerifiedIdentityVerified:null===(I=z)||void 0===I?void 0:null===(T=I.verified_identity)||void 0===T?void 0:T.verified,storyPinKeyValueBlocks:null===(R=e.story_pin_data)||void 0===R?void 0:null===(F=R.metadata)||void 0===F?void 0:null===(L=F.basics)||void 0===L?void 0:L.key_value_blocks}};function ev(e){var t=e.graphqlRef,n=e.pinId,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ei),i=(0,m.HF)(em,t?{type:"graphqlRef",data:t}:{type:"deprecated",data:n},{type:"pin",useGraphQLAdapter:eh,useLegacyAdapter:eg}),o=i.data,a=i.childDataKey__DEPRECATED;return!!o&&(0,en.jsx)(ey,ea(ea(ea({},r),o),{},{pinId:n,graphqlRef:"graphqlRef"===a.type?a.data:null}))}},892363:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r,i=n(76911),o=n(704217),a=n(908390),l=n(485710),s=n(288889),u=n(319530),c=n(444445),d=n(898781),p=n(773285),f=n(780280),m=n(50286),y=n(29066),h=n(706443),g=n(350118),v=n(515198);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _=["pinId","graphqlRef"],x=["pinId","graphqlRef"];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var w=void 0!==r?r:r=n(623861);function O(e){var t=e.listBlocks,n=e.templateType,r=(0,d.ZP)(),o=(0,m.ml)(),g=(0,p.F)().checkExperiment,b=(0,f.B)().isAuthenticated,_=o&&["no_collapse_by_default","collapse_by_default"].includes(g(b?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").group),x=new Map([[null,r._('Notes', 'Closeup.CloseupDetailsBasicsLayout.notesLayoutTitle', 'Label for button to expand notes Story Pin details')],[1,r._('Ingredients', 'Closeup.CloseupDetailsBasicsLayout.recipeLayoutTitle', 'Label for button to expand ingredients Story Pin details')],[2,r._('Supplies', 'Closeup.CloseupDetailsBasicsLayout.diyHomeLayoutTitle', 'Label for button to expand supplies Story Pin details')]]);return(0,v.jsx)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:t&&t.length>0&&(0,v.jsxs)(a.xu,{marginTop:4,display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{rowGap:16}},children:[_&&(0,v.jsx)(h.Z,{marginStart:c.D6+y.xh}),(0,v.jsx)(l.Z,{heading:x.get(n),children:(0,v.jsx)(function(e){var t=e.children;return _?(0,v.jsx)(a.kC,{direction:"column",gap:4,children:t}):(0,v.jsx)(u.Z,{children:t})},{children:t.map(function(e,t){var n,r="".concat(e.heading||"empty","-").concat(t,"-listHeading");return(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(a.xu,{paddingY:_?0:2,marginTop:_?0:2}),(0,v.jsx)(a.xv,{size:s.n,weight:"bold",children:e.heading}),(null!==(n=e.blocks)&&void 0!==n?n:[]).map(function(t,n){var r="item-".concat(n,"-").concat(e.heading||"empty");return(0,v.jsx)(i.Fragment,{children:(0,v.jsx)(a.xu,{marginBottom:1,children:(0,v.jsxs)(a.xv,{size:s.n,children:["• ",t.text?t.text:""]})})},r)})]},r)})})})]})})}function A(e){var t,n,r,i,o,a=e.pinId,l=(e.graphqlRef,j(e,_)),s=(0,g.S6)()(a),u=(null==s?void 0:null===(t=s.story_pin_data)||void 0===t?void 0:null===(n=t.metadata)||void 0===n?void 0:n.basics)||{},c=u.key_value_blocks,d=u.list_blocks;return(0,v.jsx)(O,S(S({},l),{},{pinId:a,keyValueBlocks:c,listBlocks:d,title:null!==(r=null==s?void 0:s.title)&&void 0!==r?r:"",templateType:null==s?void 0:null===(i=s.story_pin_data)||void 0===i?void 0:null===(o=i.metadata)||void 0===o?void 0:o.template_type}))}function k(e){var t,n,r,i,a,l=e.pinId,s=e.graphqlRef,u=j(e,x),c=(0,o.useFragment)(w,s),d=(null==c?void 0:null===(t=c.storyPinData)||void 0===t?void 0:null===(n=t.metadata)||void 0===n?void 0:n.basics)||{};return(0,v.jsx)(O,S(S({},u),{},{pinId:l,listBlocks:d.listBlocks,keyValueBlocks:d.keyValueBlocks,graphqlRef:c,title:null!==(r=null==c?void 0:c.title)&&void 0!==r?r:"",templateType:null==c?void 0:null===(i=c.storyPinData)||void 0===i?void 0:null===(a=i.metadata)||void 0===a?void 0:a.templateType}))}function C(e){return e.graphqlRef?(0,v.jsx)(k,S({graphqlRef:e.graphqlRef},e)):(0,v.jsx)(A,S({},e))}},435183:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(908390),i=n(288889),o=n(898781),a=n(349700),l=n(623568),s=n(773285),u=n(780280),c=n(867820),d=n(52022),p=n(50286),f=n(515198);function m(e){var t=e.isImagePinForUnauthOnTablet,n=e.onClickTitleOrDomain,m=e.pinCreditPrefix,y=e.pinDomain,h=(0,u.B)().isAuthenticated,g=(0,o.ZP)(),v=(0,d.Z)(),b=(0,p.HG)(),_=(0,s.F)().checkExperiment,x=h?_("auth_closeup_redesign").anyEnabled:_("unauth_closeup_redesign").anyEnabled,P=b?"start":"center",S=1,j=t?void 0:"bold",w=t?{textDecoration:"underline"}:{};x&&(P="start",S=m?1:0,j=void 0,w={textDecoration:"underline"});var O=(0,l._S)(y);return(0,f.jsx)(r.kC,{alignItems:"center",direction:"row",justifyContent:P,width:"100%",children:(0,a.nk)(g._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,f.jsx)(r.xu,{display:"inlineBlock",children:(0,f.jsx)(r.xv,{inline:!0,size:i.n,children:m})},"pinCreditsPrefix"),pinCredit:O?(0,f.jsx)(r.xu,{display:"inlineBlock",marginStart:S,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,f.jsx)(r.iP,{onTap:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),v({action:"click",item:"pin-domain-link"}),(0,c.My)("mweb_pin_page.pin_link.clickthrouh"),h||(0,c.NC)("click_pin_closeup_link_clickthrough"),n()},tapStyle:"compress",children:(0,f.jsx)(r.xv,{size:i.n,weight:j,lineClamp:1,children:(0,f.jsx)("span",{style:w,children:y})},"pinLinkDomain")})},"pinCredits"):""})})}},266224:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}}),n(704217);var r,i=n(908390),o=n(356997),a=n(681669),l=n(898781),s=n(349700),u=n(19121),c=n(515198),d=void 0!==r?r:r=n(781293);function p(e){var t,n,r,a,d,p,f=e.inCollapsibleModulesExp,m=e.pin,y=(0,l.ZP)(),h=(0,u.Z)(),g=!((null===(x=m.board)||void 0===x?void 0:x.layout)!=="quick_creates");if(h.id!==(null===(P=m.pinner)||void 0===P?void 0:P.entityId)||g||!h.isAuth)return null;var v=h||{},b=v.imageMediumUrl,_=v.username;if(null!==(S=m.section)&&void 0!==S&&S.title&&m.section.slug){var x,P,S,j,w,O,A,k="".concat(null!==(w=null===(O=m.board)||void 0===O?void 0:O.url)&&void 0!==w?w:"").concat(m.section.slug,"/");j=(0,s.nk)(y._('{{ you }} {{ savedTo }} {{ sectionName }}', 'closeup.savedAttribution.section', 'Showing that you saved this pin to a section within a board on closeup'),{you:(0,c.jsx)(i.xu,{display:"inlineBlock",marginEnd:1,children:(0,c.jsx)(i.rU,{href:"/".concat(_),rel:"nofollow",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,c.jsx)(i.xv,{size:"300",weight:"bold",children:y._('You', 'closeup.savedAttribution.user', 'This is the user')})},"author")},_),savedTo:(0,c.jsx)(i.xu,{children:(0,c.jsx)(i.xv,{size:"300",children:y._('saved to', 'closeup.savedAttribution.savedTo', 'saved to text')})},"saved-to"),sectionName:(0,c.jsx)(i.xu,{display:"inlineBlock",marginStart:1,children:(0,c.jsx)(i.rU,{href:k,rel:"nofollow",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,c.jsx)(i.xv,{size:"300",weight:"bold",lineClamp:1,children:null===(A=m.section)||void 0===A?void 0:A.title})},"section")},k)})}else j=(0,s.nk)(y._('{{ you }} {{ savedTo }} {{ boardName }}', 'closeup.savedAttribution.board', 'Indicating you saved this pin to a board on closeup'),{you:(0,c.jsx)(i.xu,{display:"inlineBlock",marginEnd:1,children:(0,c.jsx)(i.rU,{href:"/".concat(_),rel:"nofollow",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,c.jsx)(i.xv,{inline:!0,size:"300",weight:"bold",children:y._('You', 'closeup.savedAttribution.user', 'This is the user')})},"author")},_),savedTo:(0,c.jsx)(i.xu,{children:(0,c.jsx)(i.xv,{size:"300",children:y._('saved to', 'closeup.savedAttribution.savedTo', 'saved to text')})},"saved-to"),boardName:(0,c.jsx)(i.xu,{display:"inlineBlock",marginStart:1,children:(0,c.jsx)(i.rU,{href:null!==(r=null===(a=m.board)||void 0===a?void 0:a.url)&&void 0!==r?r:"",rel:"nofollow",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,c.jsx)(i.xv,{inline:!0,size:"300",weight:"bold",children:null!==(d=null===(p=m.board)||void 0===p?void 0:p.name)&&void 0!==d?d:""})},"author")},null!==(t=null===(n=m.board)||void 0===n?void 0:n.url)&&void 0!==t?t:"")});return(0,c.jsxs)(i.xu,{display:"flex",direction:"row",maxWidth:"100%",marginTop:f?0:12,paddingY:f?4:0,"data-test-id":"saved-attribution",children:[(0,c.jsx)(i.xu,{display:"flex",flex:"shrink","data-test-id":"saved-attribution-avatar",children:(0,c.jsx)(i.iP,{rounding:"circle",children:(0,c.jsx)(i.rU,{href:"/".concat(_),rel:"nofollow",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,c.jsx)(o.qE,{size:"md",name:_,src:null!=b?b:""})},"profile")})}),(0,c.jsx)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:(0,c.jsx)(i.xu,{"data-test-id":"saved-attribution-board-or-section",alignItems:"baseline",display:"flex",marginStart:2,children:j})})]})}function f(e){var t=e.graphqlRef,n=e.inCollapsibleModulesExp,r=e.pinId,i=(0,a.sr)(d,t?{type:"graphqlRef",data:t}:{type:"deprecated",data:r},{type:"pin",useLegacyAdapter:function(e){return{board:e.board&&{layout:e.board.layout,name:e.board.name,url:e.board.url},pinner:e.pinner&&{entityId:e.pinner.id},section:e.section&&{slug:e.section.slug,title:e.section.title}}}}).data;return i&&(0,c.jsx)(p,{inCollapsibleModulesExp:n,pin:i})}},40995:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r,i=n(704217),o=n(908390),a=n(926275),l=n(313047),s=n(992750),u=n(773285),c=n(780280),d=n(867820),p=n(50286),f=n(63552),m=n(350118),y=n(698330),h=n(954063),g=n(515198);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var x=function(e){var t=e.children,n=e.handleTap;return n?(0,g.jsx)(f.Z,{onTouch:n,pressState:"compress",children:t}):t},P=void 0!==r?r:r=n(560728);function S(e){var t=e.onClick,n=e.hasLink,r=e.forceSmallerHeading,i=e.textAlign,f=e.pinTitle,m=e.gridTitle,v=e.richSummaryDisplayName,b=e.richMetadataTitle,_=e.storyPinDataId,P=e.storyPinDataMetadataPinTitle,S=e.pinJoinVisualAnnotation,j=e.lineClamp,w=e.seoNoindexReason,O=e.seoTitle,A=(0,p.ZP)(),k=(0,c.B)(),C=k.isAuthenticated,D=k.isBot,E=(0,y.Tt)(),I=(0,u.F)().checkExperiment,T=(0,a.Z)(null==E?void 0:E.created_at)&&!(null!=E&&E.is_matured_new_user),R=C?I("auth_closeup_redesign").anyEnabled:I("unauth_closeup_redesign").anyEnabled,F=(0,s.Ly)({pinTitle:f,gridTitle:m,richSummaryDisplayName:v,richMetadataTitle:b,storyPinDataId:_,storyPinDataMetadataPinTitle:P,pinJoinVisualAnnotation:S,seoNoindexReason:w,seoTitle:O}),L="desktop"===A?"start":"center";return R&&(L="start"),(0,g.jsx)(h.Z,{hash:"details",offset:-l.DEFAULT_HEIGHT,children:(0,g.jsx)(o.kC,{alignItems:"desktop"===A?"start":"center",direction:"column",justifyContent:"center",children:(0,g.jsx)(o.xu,{"data-test-id":"pinTitle",maxWidth:"100%",alignSelf:R?"start":"stretch",children:(0,g.jsx)(x,{handleTap:"desktop"!==A&&n?function(e){e.preventDefault(),e.stopPropagation(),(0,d.My)("mweb_pin_page.pin_title.click"),C||(0,d.NC)("unauth_click_pin_closeup_title"),t()}:null,children:(0,g.jsx)(o.X6,{align:i||L,accessibilityLevel:1,overflow:"breakWord",size:r||T?"400":"500",lineClamp:D?void 0:j,children:F})})})})})}function j(e){var t,n,r,o,a,l,s,u=(0,i.useFragment)(P,e.graphqlRef);return(0,g.jsx)(S,{onClick:e.onClick,hasLink:e.hasLink,forceSmallerHeading:e.forceSmallerHeading,lineClamp:e.lineClamp,textAlign:e.textAlign,pinId:e.pinId,pinTitle:null==u?void 0:u.title,gridTitle:null==u?void 0:u.gridTitle,richSummaryDisplayName:null!==(t=null==u?void 0:null===(n=u.richSummary)||void 0===n?void 0:n.displayName)&&void 0!==t?t:"",richMetadataTitle:null!==(r=null==u?void 0:null===(o=u.richMetadata)||void 0===o?void 0:o.title)&&void 0!==r?r:"",storyPinDataId:null==u?void 0:u.storyPinDataId,storyPinDataMetadataPinTitle:null==u?void 0:null===(a=u.storyPinData)||void 0===a?void 0:null===(l=a.metadata)||void 0===l?void 0:l.pinTitle,pinJoinVisualAnnotation:(null==u?void 0:null===(s=u.pinJoin)||void 0===s?void 0:s.visualAnnotation)||void 0,seoNoindexReason:null==u?void 0:u.seoNoindexReason,seoTitle:null==u?void 0:u.seoTitle})}function w(e){var t,n,r,i,o,a,l,s=(0,m.S6)()(e.pinId||"");return s?(0,g.jsx)(S,{onClick:e.onClick,hasLink:e.hasLink,forceSmallerHeading:e.forceSmallerHeading,lineClamp:e.lineClamp,textAlign:e.textAlign,pinId:e.pinId,pinTitle:s.title,gridTitle:s.grid_title,richSummaryDisplayName:null!==(t=null===(n=s.rich_summary)||void 0===n?void 0:n.display_name)&&void 0!==t?t:"",richMetadataTitle:null!==(r=null===(i=s.rich_metadata)||void 0===i?void 0:i.title)&&void 0!==r?r:"",storyPinDataId:s.story_pin_data_id,storyPinDataMetadataPinTitle:null===(o=s.story_pin_data)||void 0===o?void 0:null===(a=o.metadata)||void 0===a?void 0:a.pin_title,pinJoinVisualAnnotation:null===(l=s.pin_join)||void 0===l?void 0:l.visual_annotation,seoNoindexReason:s.seo_noindex_reason,seoTitle:s.seo_title}):null}function O(e){return e.graphqlRef?(0,g.jsx)(j,_({},e)):(0,g.jsx)(w,_({},e))}},706443:function(e,t,n){"use strict";var r=n(908390),i=n(444445),o=n(515198);t.Z=function(e){var t=e.marginStart,n=void 0===t?i.D6:t;return(0,o.jsx)(r.xu,{height:1,width:"100vw",dangerouslySetInlineStyle:{__style:{marginLeft:"".concat(-(4*n),"px"),backgroundColor:"#E9E9E9"}}})}},358381:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r,i=n(76911),o=n(506979),a=n(704217),l=n(908390),s=n(112690),u=n(356997),c=n(898781),d=n(892819),p=n(349700),f=n(773285),m=n(780280),y=n(819354),h=n(815613),g=n(461773),v=n(350118),b=n(698330),_=n(515198);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var P=["graphqlRef","pinId"],S=["pinId"],j=["graphqlRef"];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var C=void 0!==r?r:r=n(521835);function D(e){var t,n=e.hideFollowButton,r=e.hideFollowerCount,a=e.viewerId,v=e.justifyContent,x=e.avatarSize,P=e.seeMoreButton,S=e.graphqlRef,j=e.pinId,w=e.pinImageSignature,O=e.userData,A=e.clientTrackingParams,C=(0,c.ZP)(),D=(0,d.Z)(),E=(0,f.F)().checkExperiment,I=(0,m.B)().isAuthenticated?E("auth_closeup_redesign").anyEnabled:E("unauth_closeup_redesign").anyEnabled,T=O.id,R=void 0===T?"":T,F=O.image_medium_url,L=O.follower_count,z=O.followed_by_me,M=O.username,B=void 0===M?"":M,N=O.is_ads_only_profile,Z=O.ads_only_profile_site,U=void 0===Z?"":Z,K=(0,b.mN)()(R),H=(0,o.useDispatch)(),V=(0,i.useRef)(),G=(0,s.Z)(),W=(0,m.B)().locale,q=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(K?K.explicitly_followed_by_me:z))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Y=q[0],X=q[1],$=void 0!==N&&N&&U;return(0,_.jsxs)(l.xu,{display:"flex",direction:"row","data-test-id":"official-user-attribution",alignItems:"center",justifyContent:v||"center",children:[(0,_.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",flex:"shrink",children:(0,_.jsx)(l.Tg,{href:$&&U?U:"/".concat(B,"/"),rel:$?"nofollow":"none",target:$?"blank":null,onTap:function(){$&&G({event_type:9371,element:13382,component:123})},children:(0,_.jsx)(u.qE,{name:B,size:x||"md",src:null!=F?F:""})})}),(0,_.jsxs)(l.xu,{display:"flex",direction:"column",marginStart:2,justifyContent:"center",minWidth:0,children:[(0,_.jsx)(y.Z,{fontWeight:"bold",graphqlRef:S,pinId:j}),!r&&(0,_.jsx)(l.xv,{size:I?"200":"300",children:(0,p.nk)(C._('{{ followerCount }} followers', 'closeup.officialUser.followerCount', 'Official user\'s follower count'),{followerCount:D(W,L||0,{shortform:!0,shortform_maximum_fraction_digits:0})})})]}),P,!n&&(0,_.jsx)(i.Fragment,{children:(0,_.jsx)(l.xu,{marginStart:"auto",ref:V,children:(0,_.jsx)(h.Z,{followEventType:45,id:R,isFollowed:Y,isUserFollowButton:!0,isUserMe:a===R,onFollow:function(e){X(!0),H((0,g.ZN)(e,null,A))},onUnfollow:function(e){X(!1),H((0,g.fv)(e,null,A))},pinKey:null!=S?S:null,size:"lg",shouldUseLegoColors:!0,unfollowEventType:46,viewType:3,auxData:j&&w?{pin_id:j,image_signature:w}:void 0,clientTrackingParams:A})})})]})}function E(e){var t,n,r,o,l,s,u=e.graphqlRef,c=e.pinId,d=A(e,P),p=(0,a.useFragment)(C,u),f=p.closeupAttribution;return f&&p?(0,_.jsx)(D,O(O({},d),{},{pinId:c,pinImageSignature:null!==(t=p.imageSignature)&&void 0!==t?t:void 0,userData:{id:null!==(n=f.entityId)&&void 0!==n?n:void 0,image_medium_url:null!==(r=f.imageMediumUrl)&&void 0!==r?r:void 0,follower_count:null!==(o=f.followerCount)&&void 0!==o?o:void 0,followed_by_me:null!==(l=f.followedByMe)&&void 0!==l?l:void 0,username:null!==(s=f.username)&&void 0!==s?s:void 0,is_ads_only_profile:!!f.isAdsOnlyProfile,ads_only_profile_site:f.adsOnlyProfileSite},graphqlRef:p})):(0,_.jsx)(i.Fragment,{})}function I(e){var t,n=e.pinId,r=A(e,S),o=(0,v.S6)()(n),a=null==o?void 0:o.closeup_attribution;return a&&o?(0,_.jsx)(D,O(O({},r),{},{pinId:n,pinImageSignature:null!==(t=o.image_signature)&&void 0!==t?t:void 0,userData:a})):(0,_.jsx)(i.Fragment,{})}function T(e){var t=e.graphqlRef,n=A(e,j);return t?(0,_.jsx)(E,O(O({},n),{},{graphqlRef:t})):(0,_.jsx)(I,O({},n))}},819354:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r,i=n(76911),o=n(704217),a=n(908390),l=n(112690),s=n(512176),u=n(350118),c=n(515198);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=void 0!==r?r:r=n(347806);function y(e){var t=e.getDisplayName,n=e.fontWeight,r=e.isVerifiedMerchant,i=e.fullName,o=void 0===i?"":i,u=e.verifiedIdentityVerified,d=e.username,p=e.isAdsOnlyProfile,f=e.adsOnlyProfileSite,m=void 0===f?"":f,y=e.onMouseDown,h=(0,l.Z)(),g=void 0!==p&&p&&m;return(0,c.jsx)(a.Tg,{href:g&&m?m:"/".concat(void 0===d?"":d,"/"),rel:g?"nofollow":"none",target:g?"blank":null,onMouseDown:function(){y&&y()},onTap:function(){g&&h({event_type:9371,element:13382,component:123})},children:(0,c.jsxs)(a.kC,{alignItems:"center",direction:"row",justifyContent:"start",minWidth:0,children:[(0,c.jsx)(a.xu,{"data-test-id":"creator-profile-name",children:(0,c.jsx)(a.xv,{size:"300",lineClamp:1,weight:void 0===n?"normal":n,children:t?t(o):o})}),(r||u)&&(0,c.jsx)(a.xu,{marginStart:1,marginEnd:2,children:(0,c.jsx)(s.Z,{showVerifiedIdentity:!r,isVerifiedMerchant:r,size:"sm"})})]})})}function h(e){var t,n,r,a,l,s,u=(0,o.useFragment)(m,e.graphqlRef),d=null==u?void 0:u.closeupAttribution;return d?(0,c.jsx)(y,{getDisplayName:e.getDisplayName,fontWeight:e.fontWeight,isVerifiedMerchant:null!==(t=d.isVerifiedMerchant)&&void 0!==t?t:void 0,fullName:null!==(n=d.fullName)&&void 0!==n?n:void 0,verifiedIdentityVerified:null!==(r=null===(a=d.verifiedIdentity)||void 0===a?void 0:a.verified)&&void 0!==r?r:void 0,username:null!==(l=d.username)&&void 0!==l?l:void 0,isAdsOnlyProfile:null!==(s=d.isAdsOnlyProfile)&&void 0!==s&&s,adsOnlyProfileSite:d.adsOnlyProfileSite,onMouseDown:e.onMouseDown}):(0,c.jsx)(i.Fragment,{})}function g(e){var t,n=(0,u.S6)()(e.pinId),r=null==n?void 0:n.closeup_attribution;return r?(0,c.jsx)(y,{getDisplayName:e.getDisplayName,fontWeight:e.fontWeight,isVerifiedMerchant:r.is_verified_merchant,fullName:r.full_name,verifiedIdentityVerified:null===(t=r.verified_identity)||void 0===t?void 0:t.verified,username:r.username,isAdsOnlyProfile:r.is_ads_only_profile,adsOnlyProfileSite:r.ads_only_profile_site,onMouseDown:e.onMouseDown}):(0,c.jsx)(i.Fragment,{})}function v(e){return e.graphqlRef?(0,c.jsx)(h,f({},e)):(0,c.jsx)(g,f({},e))}},350948:function(e,t,n){"use strict";n.d(t,{IS:function(){return S},Ys:function(){return P},ZP:function(){return E},j$:function(){return O}});var r,i=n(76911),o=n(704217),a=n(908390),l=n(485710),s=n(319530),u=n(444445),c=n(898781),d=n(349700),p=n(773285),f=n(923297),m=n(780280),y=n(50286),h=n(29066),g=n(706443),v=n(350118),b=n(252417),_=n(515198),x=void 0!==r?r:r=n(189333),P=function(e,t){var n=e.m,r=e.h,i=e.rm,o=e.rh,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n&&(!r||o<=0)?a?(0,d.nk)(t._('{{mins}}min', 'closeup.makeRecipeTimeText.minutes', 'number showing the minutes to complete a recipe'),{mins:i.toString()}):(0,d.nk)(t.ngettext('{{mins}} minute', '{{mins}} minutes', i, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:i.toString()}):r?a?(0,d.nk)(t._('{{hrs}}hr {{mins}}min', 'closeup.makeRecipeTimeText.hours', 'hrs: number showing the hours to complete a recipe, mins: number showing the minutes to complete a recipe'),{hrs:r.toString(),mins:n.toString()}):(0,d.nk)(t.ngettext('{{hrs}} hour', '{{hrs}} hours', o, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:o.toString()}):null},S=function(e){var t=e.m,n=e.h,r=e.rm,i=e.rh,o=e.i18n;return t&&(!n||i<=0)?(0,d.nk)(o._('{{mins}}m', 'number showing minutes to complete a recipe', 'number showing mnutes to complete a recipe'),{mins:r.toString()}):n?(0,d.nk)(o._('{{hrs}}h {{mins}}m', 'number showing hours to complete a recipe', 'number showing hours to complete a recipe'),{hrs:n.toString(),mins:t.toString()}):null},j=function(e,t){var n=e&&e.length>0&&e.join(", "),r=t&&t.summary;return n&&r?"".concat(n," • ").concat(r):n||r},w=function(e){return e?e.reduce(function(e,t){var n,r;return e+(null!==(n=null===(r=t.ingredients)||void 0===r?void 0:r.length)&&void 0!==n?n:0)},0):0},O=function(e){var t=e.displayCookTime,n=e.i18n,r=e.isShortened;return P((0,f.u)(t),n,r)};function A(e){var t=e.category,n=e.ingredients,r=e.textSize,i=void 0===r?"300":r;return(0,_.jsxs)(a.xu,{marginBottom:4,children:[t&&(0,_.jsx)(a.xu,{children:(0,_.jsx)(a.xv,{weight:"bold",size:i,children:t})}),(null!=n?n:[]).map(function(e){var t,n;return(0,_.jsx)(a.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,_.jsxs)(a.xv,{size:i,children:["• ",e.amt||null," ",e.name]})},"".concat(null!==(t=e.name)&&void 0!==t?t:"","-").concat(null!==(n=e.name)&&void 0!==n?n:""))})]})}var k=function(e){var t=e.categorizedIngredients,n=e.displayCookTime,r=e.image,o=e.ingredientCount,d=e.ingredientsDescription,f=e.name,v=(0,c.ZP)(),x=(0,p.F)().checkExperiment,P=(0,m.B)().isAuthenticated,S=(0,y.ZP)(),j=P?x("auth_closeup_redesign").anyEnabled:x("unauth_closeup_redesign").anyEnabled,w="desktop"!==S&&["no_collapse_by_default","collapse_by_default"].includes(x(P?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").group);if(!(n?O({displayCookTime:n,i18n:v,isShortened:!0}):null)&&!o&&!d)return null;var k=v._('Ingredients', 'Closeup.PinRecipe.ingredientsLabel', 'Ingredients category heading for recipes');return(0,_.jsxs)(a.xu,{marginTop:b.dP,children:[w&&(0,_.jsx)(g.Z,{marginStart:u.D6+h.xh}),(0,_.jsxs)(a.xu,{"data-test-id":"pin-recipe-container",direction:"column",display:"flex",marginTop:j?4:12,marginBottom:j?0:4,marginEnd:j?0:6,overflow:"hidden",children:[(0,_.jsx)("meta",{content:f,itemProp:"name"}),r&&(0,_.jsx)("meta",{content:r,itemProp:"image"}),(0,_.jsx)(a.xu,{"data-test-id":"one-pin-layout",children:Array.isArray(t)&&t.length>0&&(0,_.jsx)(l.Z,{heading:k,children:w?t.map(function(e,t){var n=e.category,r=e.ingredients,o="ingredient-".concat(t);return(0,_.jsx)(i.Fragment,{children:(0,_.jsx)(a.xu,{marginBottom:4,children:(0,_.jsx)(A,{category:n,ingredients:r,textSize:"300"})})},o)}):(0,_.jsx)(s.Z,{children:t.map(function(e,t){var n=e.category,r=e.ingredients,o="ingredient-".concat(t);return(0,_.jsx)(i.Fragment,{children:(0,_.jsx)(a.xu,{marginBottom:4,children:(0,_.jsx)(A,{category:n,ingredients:r,textSize:"300"})})},o)})})})})]})]})},C=function(e){var t=e.graphqlRef,n=(0,o.useFragment)(x,t),r=n.imageSpec_474x,i=n.richMetadata,a=null==i?void 0:i.recipe,l=null==a?void 0:a.categorizedIngredients,s=w(l),u=(null==a?void 0:a.categorizedIngredients)&&j(a.diets,a.servingsSummary);return(0,_.jsx)(k,{categorizedIngredients:l,displayCookTime:null==a?void 0:a.displayCookTime,image:null==r?void 0:r.url,ingredientCount:s,ingredientsDescription:u,name:null==a?void 0:a.name})},D=function(e){var t,n,r=e.pinId,i=(0,v.S6)()(r),o=(null==i?void 0:null===(t=i.rich_metadata)||void 0===t?void 0:t.recipe)||{},a=o.display_cook_time,l=o.name,s=o.categorized_ingredients,u=o.diets,c=o.servings_summary,d=w(s),p=s&&j(u,c);return(0,_.jsx)(k,{categorizedIngredients:s,displayCookTime:a,image:(null===(n=((null==i?void 0:i.images)||{})["474x"])||void 0===n?void 0:n.url)||"",ingredientCount:d,ingredientsDescription:p,name:l})};function E(e){var t=e.graphqlRef,n=e.pinId;return t?(0,_.jsx)(C,{graphqlRef:t}):(0,_.jsx)(D,{pinId:n})}},635821:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r,i=n(704217),o=n(908390),a=n(898781),l=n(349700),s=n(773285),u=n(561195),c=n(780280),d=n(50286),p=n(350948),f=n(350118),m=n(515198);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=["graphqlRef"],g=["pinId"],v=["graphqlRef","pinId"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var P=void 0!==r?r:r=n(394384);function S(e){var t=e.boldText,n=e.marginTop,r=e.onlyShowNumber,i=e.textSize,f=e.width,y=e.isWideViewport,h=e.ratingBestRating,g=e.ratingRatingValue,v=e.ratingReviewCount,b=e.hasPinRecipe,_=e.displayCookTime,x=e.dietList,P=e.servingSummaryServes,S=(0,a.ZP)(),j=(0,s.F)().checkExperiment,w=(0,c.B)().isAuthenticated?j("auth_closeup_redesign").anyEnabled:j("unauth_closeup_redesign").anyEnabled,O=(0,d.ZP)(),A=(0,l.nk)(S.ngettext('{{review_count}} rating', '{{review_count}} ratings', null != v ? v : 0, 'closeup.recipe.ratings', 'number of ratings for this recipe pin'),{review_count:v}),k=_?(0,p.j$)({displayCookTime:_,i18n:S,isShortened:!0}):null,C=Number(P),D=[x,(0,l.nk)(S.ngettext('{{serves}} serving', '{{serves}} servings', Number.isNaN(C) ? 0 : C, 'closeup.recipe.serves', 'number of servings for this recipe pin'),{serves:P}).join("")].filter(Boolean),E=(0,l.nk)(S._('{{ ratingStars }} {{ count }}', 'closeup.recipe.rating', 'recipe ratings and count'),{ratingStars:(0,m.jsx)(u.Z,{rating:g,max_rating:h,width:void 0===f?12:f},"ratingStars"),count:(0,m.jsx)(o.xv,{inline:!0,size:void 0===i?"md":i,weight:void 0===t||t?"bold":"normal",children:void 0!==r&&r?v:A},"ratingCount")});b&&(E=(0,m.jsx)(o.xu,{"data-test-id":"CookTime",children:(0,l.nk)(S._('{{ recipeText }} {{cookTime}} {{ pinRecipe }}', 'closeup recipe cooktime', 'This is the bar under the title which shows these three things. recipeText: shows the rating of the Pin. cookTime: shows the amount of time it takes to prepare the food. pinRecipe: includes any dietary restrictions and how many servings the Pin serves.'),{recipeText:(0,m.jsx)(o.xv,{inline:!0,children:E},"recipeText"),cookTime:(0,m.jsxs)(o.xv,{inline:!0,children:[k&&"\xb7 ",k]},"cookTimeText"),pinRecipe:(0,m.jsx)(o.xv,{inline:!0,children:D.length>0&&(0,m.jsx)(o.xv,{inline:!0,children:" \xb7 ".concat(D.join(" \xb7 "))})},"pinRecipe")})}));var I=y||"phone"!==O?"start":"center";return w&&(I="start"),(0,m.jsx)(o.xu,{alignItems:"baseline","data-test-id":"PinRecipeContainer",display:b&&"phone"===O?"block":"flex",justifyContent:"start",marginTop:void 0===n?3:n,children:(0,m.jsx)(o.xv,{align:I,inline:!0,children:E})})}var j=function(e){var t,n,r,o,a=e.graphqlRef,l=x(e,h),s=(0,i.useFragment)(P,a).richMetadata,u=null==s?void 0:s.recipe;return(0,m.jsx)(S,_(_({},l),{},{displayCookTime:null==u?void 0:u.displayCookTime,dietList:((null==u?void 0:u.diets)||[]).join(", "),servingSummaryServes:null==u?void 0:null===(t=u.servingsSummary)||void 0===t?void 0:t.serves,hasPinRecipe:!!(null!=s&&s.recipe),ratingBestRating:null==u?void 0:null===(n=u.aggregateRating)||void 0===n?void 0:n.bestRating,ratingRatingValue:null==u?void 0:null===(r=u.aggregateRating)||void 0===r?void 0:r.ratingValue,ratingReviewCount:null==u?void 0:null===(o=u.aggregateRating)||void 0===o?void 0:o.reviewCount}))},w=function(e){var t,n,r,i,o,a=e.pinId,l=x(e,g),s=(0,f.S6)()(a),u=(null==s?void 0:null===(t=s.rich_metadata)||void 0===t?void 0:t.recipe)||{},c=u.diets,d=u.display_cook_time,p=u.servings_summary;return(0,m.jsx)(S,_(_({},l),{},{displayCookTime:d,dietList:(c||[]).join(", "),servingSummaryServes:null==p?void 0:p.serves,hasPinRecipe:!!(null!=s&&null!==(n=s.rich_metadata)&&void 0!==n&&n.recipe),ratingBestRating:null===(r=u.aggregate_rating)||void 0===r?void 0:r.best_rating,ratingRatingValue:null===(i=u.aggregate_rating)||void 0===i?void 0:i.rating_value,ratingReviewCount:null===(o=u.aggregate_rating)||void 0===o?void 0:o.review_count}))};function O(e){var t=e.graphqlRef,n=e.pinId,r=x(e,v);return t?(0,m.jsx)(j,_(_({},r),{},{graphqlRef:t})):(0,m.jsx)(w,_(_({},r),{},{pinId:n}))}},178307:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(908390),i=n(541776),o=n(513578),a=n(947599),l=n(667679),s=n(867820),u=n(664569),c=n(515198);function d(e){var t=e.viewParameter,n=e.isStoryPin,d=(0,l.Z)();return(0,c.jsx)(a.Z,{fallback:null,children:(0,c.jsx)(r.xu,{marginTop:4,children:(0,c.jsx)(o.Z,{commentWarningModalState:i.A9.NONE,dismissCommentWarningModal:function(){},objectType:u.o.pin,onEnter:function(){(0,s.My)(n?"dweb.unauth.comment_compose.story_pin.tap":"dweb.unauth.comment_compose.tap"),d({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_comment_composer",desktopOptions:{modalType:"login",modalOptions:{source:"commentComposer",container:"closeup"}}})},statusType:"textStaticDisplay",viewParameter:t})})})}},745162:function(e,t,n){"use strict";function r(e){return e.isImagePinForUnauthOnTablet?3:2}n.d(t,{Z:function(){return r}})},298024:function(e,t,n){"use strict";n.d(t,{Ph:function(){return i},Re:function(){return a},si:function(){return o}});var r=n(50286),i=function(e,t){return e&&!t?e:null},o=function(){return"phone"!==(0,r.ZP)()?180:130},a=function(){return"phone"!==(0,r.ZP)()?180:80}},361115:function(e,t,n){"use strict";n.d(t,{J1:function(){return u},Uw:function(){return s},Yg:function(){return d},ib:function(){return f}});var r=n(773285),i=n(780280),o=n(50286),a=n(67347),l=function(){var e=(0,i.B)(),t=e.isAuthenticated;return e.isBot?"bot":t?"auth":"unauth"},s=function(e){var t=e.isDesktop,n=e.viewerType;return"bot"===n?"seo_graphql_pin_page":"auth"===n?t?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page":t?"unauth_dweb_graphql_pin_page":"unauth_mweb_graphql_pin_page"},u=function(){return s({isDesktop:(0,o.HG)(),viewerType:l()})},c=function(e){var t=e.checkExperiment,n=e.isAuthMweb&&t("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0}).group;return n?function(e){return(0,a.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:n}})}:null},d=function(){var e=(0,i.B)().isAuthenticated,t=(0,o.HG)();return c({checkExperiment:(0,r.F)().checkExperiment,isAuthMweb:e&&!t})},p=0,f=function(e){var t=c({checkExperiment:e.checkExperiment,isAuthMweb:e.isAuthMweb});t&&(p+=1)<10&&t("repin_".concat(p))}},44004:function(e,t,n){"use strict";n.d(t,{Z:function(){return E},w:function(){return A}});var r,i=n(76911),o=n(506979);n(704217);var a=n(599689),l=n(904202),s=n(908390),u=n(44715),c=n(681669),d=n(784590),p=n(50286),f=n(829407),m=n(19121),y=n(139405),h=n(664569),g=n(114020),v=n(600147),b=n(492583),_=n(698330),x=n(515198),P=["pinKey"];function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==S(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===S(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var A=function(e){var t=e.aggregatedPinDataId,n=e.featuredCommentIds,r=e.featuredDidItIds,i=e.isDesktop,o=e.isReversed,a=e.noCache;return{name:"UnifiedCommentsResource",options:{aggregated_pin_id:t,comment_featured_ids:n,did_it_featured_ids:r,page_size:i?10:25,redux_normalize_feed:!0,is_reversed:void 0!==o&&o},noCache:void 0!==a&&a}},k=(0,l.P1)(function(e,t,n){return n},function(e,t){return e.feeds["".concat(b.Z.UNIFIED_COMMENTS,":").concat(t||"")]},function(e){return e.didItData},function(e,t,n,r){return r},function(e,t,n,r){return(null==t?void 0:t.map(function(t){var i,o,a=t.id,l="aggregatedcomment"===t.type.toLowerCase()?e[a]:n[a];if(l){var s="string"==typeof l.user?null!==(i=r[l.user])&&void 0!==i?i:{}:null!==(o=l.user)&&void 0!==o?o:{};return O(O({},l),{},{user:null!=s?s:{}})}}).filter(function(e){return e}))||[]}),C=void 0!==r?r:r=n(90838),D=function(e){var t,n=e.aggregatedPinDataId,r=e.closeupAttributionId,l=e.closeupAttributionUsername,c=e.commentsDisabled,b=e.hasComments,P=e.isReadOnly,S=e.pinId,w=e.isVideo,O=e.pinnerId,C=e.scrollContainer,D=e.setIsComposingNewComment,E=void 0===D?function(){}:D,I=e.storyPinDataId,T=e.viewParameter,R=e.toggleComposerForReply,F=e.openMwebOverflowMenu,L=(0,a.useParams)().comment_id,z=(0,o.useDispatch)(),M=(0,p.HG)(),B=(0,m.Z)(),N=(0,i.useRef)(b),Z=(0,d.Z)(N.current&&n?A({aggregatedPinDataId:n,featuredCommentIds:L?[L]:[],isDesktop:M}):null),U=(0,g.C)(),K=U.removeUnauthCommentPinId,H=U.unauthCommentPinId,V=(0,y.lV)(),G=(0,y.nf)(),W=G.toggleAggregatedCommentHelpful,q=G.toggleAggregatedCommentLike,Y=(0,_.kW)(),X=(0,o.useSelector)(function(e){return k(e,n,V,Y)}),$=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(void 0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Q=$[0],J=$[1],ee=function(){E(!0)};return(0,f.Z)(function(){!M&&B.isAuth&&H&&S&&H===S&&(ee(),K())}),(0,i.useEffect)(function(){var e=function e(){var t=!!C&&C.scrollTop+C.clientHeight+10>=C.scrollHeight;Z&&!Z.isFetching&&(Z.isAtEnd?null==C||C.removeEventListener("scroll",e):t&&Z.fetchMore())};return null==C||C.addEventListener("scroll",e),function(){null==C||C.removeEventListener("scroll",e)}},[Z,C]),(0,x.jsx)(i.Fragment,{children:(0,x.jsx)(s.xu,{display:"flex",marginTop:M?6:0,width:"100%",children:(0,x.jsx)(u.Z,{comments:X,commentsDisabled:c,isDesktop:M,isReadOnly:P,isLoaded:Z&&Z.isLoaded||!b,openOverflowMenu:F,toggleReplyComposer:R,parentId:null!=n?n:"",parentType:h.o.pin,toggleHelpful:function(e,t,n){return function(){n?z((0,v.YH)({didItDataId:e,isMarkedHelpfulByMe:t})):W({aggregatedCommentId:e,isMarkedHelpfulByMe:t})}},toggleLike:function(e,t,n){return function(){n?z((0,v.wH)({didItDataId:e,isLikedByMe:t})):q({aggregatedCommentId:e,isLikedByMe:t})}},userAvatarSize:"sm",aggregatedPinDataId:n,closeupAttributionId:r,closeupAttributionUsername:l,pinId:S,isVideo:w,storyPinDataId:I,pinnerId:O,showReactionListForComment:J,reactionListCommentId:Q,viewParameter:T})})})};function E(e){var t,n,r,i,o,a,l,s,u,d=e.pinKey,p=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,P),f=(0,c.sr)(C,d,{type:"pin",useLegacyAdapter:function(e){var t,n,r;return{aggregatedPinData:e.aggregated_pin_data&&{commentCount:e.aggregated_pin_data.comment_count,didItData:e.aggregated_pin_data.did_it_data&&{imagesCount:e.aggregated_pin_data.did_it_data.images_count},entityId:null!==(t=e.aggregated_pin_data.id)&&void 0!==t?t:""},closeupAttribution:e.closeup_attribution&&{entityId:null!==(n=e.closeup_attribution.id)&&void 0!==n?n:"",username:e.closeup_attribution.username},commentsDisabled:e.comments_disabled,doneByMe:e.done_by_me,entityId:e.id,pinner:e.pinner&&{entityId:e.pinner.id},storyPinData:e.story_pin_data&&{entityId:null!==(r=e.story_pin_data.id)&&void 0!==r?r:""},videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}}}}).data,m=((null==f?void 0:null===(t=f.aggregatedPinData)||void 0===t?void 0:t.commentCount)||0)+((null==f?void 0:null===(n=f.aggregatedPinData)||void 0===n?void 0:null===(r=n.didItData)||void 0===r?void 0:r.imagesCount)||0);return(0,x.jsx)(D,O({aggregatedPinDataId:null==f?void 0:null===(i=f.aggregatedPinData)||void 0===i?void 0:i.entityId,closeupAttributionId:null==f?void 0:null===(o=f.closeupAttribution)||void 0===o?void 0:o.entityId,closeupAttributionUsername:null==f?void 0:null===(a=f.closeupAttribution)||void 0===a?void 0:a.username,commentsDisabled:null==f?void 0:f.commentsDisabled,disablePhotoCommentSelection:!!(null!=f&&f.doneByMe),hasComments:m>0&&!(null!=f&&f.commentsDisabled),isVideo:!!(null!=f&&null!==(l=f.videos)&&void 0!==l&&l.videoList),pinId:null==f?void 0:f.entityId,pinnerId:null==f?void 0:null===(s=f.pinner)||void 0===s?void 0:s.entityId,storyPinDataId:null==f?void 0:null===(u=f.storyPinData)||void 0===u?void 0:u.entityId},p))}},114020:function(e,t,n){"use strict";n.d(t,{C:function(){return u},p:function(){return c}});var r=n(76911),i=n(425288),o=n(515198);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=(0,i.Z)("Session"),s=l.Provider,u=l.useHook;function c(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(void 0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=i[0],u=i[1],c=(0,r.useCallback)(function(){return u(void 0)},[]),d=(0,r.useMemo)(function(){return{unauthCommentPinId:l,setUnauthCommentPinId:u,removeUnauthCommentPinId:c}},[l,c]);return(0,o.jsx)(s,{value:d,children:n})}},435497:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(76911),i=n(908390),o=n(729884),a=n(407043),l=n(444445),s=n(564194),u=n(391254),c=n(829407),d=n(515198);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t=e.index,n=e.length,r=e.showBadge;return(0,d.jsx)(i.xu,{alignItems:"center",color:"selected",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new i.Ry(1),dangerouslySetInlineStyle:{__style:{opacity:r?.8:0,transition:"opacity .3s"}},children:(0,d.jsx)(i.xv,{color:"inverse",children:"".concat((null!=t?t:0)+1,"/").concat(n)})})}var m=function(e){var t,n=e.index,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],a=i[1],l=(0,r.useRef)(),s=(0,r.useRef)();return(0,r.useEffect)(function(){return l.current=setTimeout(function(){a(!1)},3e3),function(){clearTimeout(l.current)}},[]),(0,r.useEffect)(function(){if(!s.current){s.current=n;return}clearTimeout(l.current),a(!0)},[n]),{showBadge:o}},y=n(455024),h=n(350118);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e){var t,n,p=e.children,g=e.componentType,v=e.containerRef,_=e.contextLogData,x=e.disableTransition,P=e.gap,S=void 0===P?0:P,j=e.height,w=e.id,O=e.impressionType,A=e.index,k=e.shouldBeDragCarousel,C=e.showCarouselBadge,D=e.styleOverrides,E=e.slideWidth,I=e.view,T=e.viewParameter,R=e.widthRatio,F=void 0===R?1:R,L=m({index:A}).showBadge,z=(0,a.v)().logContextEvent,M=(0,h.S6)()(w),B=(0,r.useRef)(),N=(0,r.useRef)(),Z=(0,r.useRef)(0),U=(0,r.useRef)();if((0,c.Z)(function(){var e=N.current;if(e){var t=function(){var e,t,n=Z.current,r=-(null!==(e=null===(t=U.current)||void 0===t?void 0:t.getBoundingClientRect().x)&&void 0!==e?e:0);Math.abs(n-r)>=10&&z({component:g,event_type:"right"==(n<r?"right":"left")?9315:9316,view_type:I,view_parameter:T}),Z.current=r};return k&&e.addEventListener("touchend",t),function(){k&&e.removeEventListener("touchend",t)}}}),F>1||F<0)throw Error("widthRatio should be between 0 and 1 inclusive");var K=Math.floor(E*F),H=r.Children.toArray(p),V=H.length*K,G=(null===(t=v.current)||void 0===t?void 0:t.clientWidth)||V,W=null!==(n=null==D?void 0:D.justifyContent)&&void 0!==n?n:G>V?"center":"start";return(0,d.jsx)("div",{className:"BoardMoreIdeasRep"===O?"moreIdeasBoardRepCarousel":"",children:(0,d.jsxs)(i.xu,{display:"flex",justifyContent:W,alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",width:k?"100vw":void 0,children:[C&&(0,d.jsx)(f,{length:H.length,index:A,showBadge:L}),"BoardMoreIdeasRep"!==O&&(0,d.jsx)(o.P,{pinKey:null!=M?{type:"deprecated",data:M}:null,children:function(e){var t,n;return(0,d.jsx)(s.Z,{carouselData:e&&b(b({},e),{},{type:"canonical"}),contextLogData:_,trackCarousel:!0,impressionType:"Pin",loggingId:w,slotIndex:A,viewParameter:null!=T?T:72,viewType:null!=I?I:1,children:(0,d.jsx)(i.xu,{height:null!==(t=null!=j?j:null===(n=B.current)||void 0===n?void 0:n.clientHeight)&&void 0!==t?t:1,overflow:"hidden",position:"absolute",width:E})},"carousel-impression-key-".concat(A))}}),k&&(0,d.jsx)(u.Z,{unsafeCSS:"\n  .horizontal-scroll-container {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  ::-webkit-scrollbar {\n    display: none;\n  }"}),(0,d.jsx)("div",{className:"horizontal-scroll-container",style:{overflowX:k?"scroll":"visible",paddingLeft:k?"".concat(l.yt,"px"):void 0,paddingRight:k?"".concat(l.yt,"px"):void 0,display:"flex",flexDirection:"row",position:"relative",scrollbarWidth:0,transition:k||x?void 0:"left .3s",left:!k&&(0,y.CU)({slotWidth:K,gap:S,numberOfSlides:H.length,index:A,containerWidth:G})},ref:N,children:H.map(function(e,t){var n=t===H.length-1,r=Math.ceil(S/4),o=0;r>=-12&&r<=12&&(o=r);var a=(0,d.jsx)(i.xu,{marginEnd:n?0:o,"data-test-id":"carousel-img-".concat(t),"data-carousel-indicator":"carousel-card",height:null!=j?j:void 0,ref:function(e){B.current=e,0===t&&(U.current=e)},width:K,children:e},"carousel-slot-".concat(w,"-").concat(t));if("BoardMoreIdeasRep"===O){var l=e.props,u={total_object_count:null==l?void 0:l.story.objects.length,storyType:null==l?void 0:l.story.story_type,boardIdStr:null==l?void 0:l.item.board_id,slotIndex:null==l?void 0:l.slotIndex,story_id:null==l?void 0:l.story.id};return(0,d.jsx)(s.Z,{componentType:g,contextLogData:u,impressionAuxFields:u,impressionType:null!=O?O:"Pin",loggingId:w,slotIndex:t,viewParameter:null!=T?T:72,viewType:null!=I?I:1,children:a},"carousel-slot-".concat(w,"-").concat(t))}return a})})]})})}},356725:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r,i=n(506979);n(704217);var o=n(908390),a=n(729884),l=n(357998),s=n(966676),u=n(721782),c=n(447948),d=n(350118),p=n(515198);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var m=void 0!==r?r:r=n(603239);function y(e){var t,n,r=e.carouselData,y=e.carouselIndex,h=e.componentType,g=e.contextLogData,v=e.handleCarouselSwipe,b=e.isCloseup,_=e.isEditMode,x=e.pinKey,P=e.viewParameter,S=e.viewType,j=e.variant,w=(0,d.S6)();if(null==x||"graphqlRef"===x.type)n=x;else{var O=x.data;if("string"==typeof O){var A=w(O);n=null!=A?{type:"deprecated",data:A}:null}else n={type:"deprecated",data:O}}var k=(0,l.Q)(m,n,{useLegacyAdapter:function(e){var t;return{entityId:null!==(t=e.id)&&void 0!==t?t:""}}}),C=k.data,D=k.childDataKey__DEPRECATED,E=(0,u.Z)(D,"CarouselEllipsis"),I=(0,a.Z)(D),T=r||I&&{carouselSlots:I.carouselSlots.map(function(e){return{id:e.slotId,title:e.title}}),entityId:null!==(t=I.carouselId)&&void 0!==t?t:"",index:I.index},R=(0,i.useDispatch)();if(!T)return null;var F=function(e,t,n){var r,i,o;_||void 0===c.yR||(e.preventDefault(),e.stopPropagation(),R((0,c.yR)(null!==(o=null==C?void 0:C.entityId)&&void 0!==o?o:"",n))),void 0!==v&&v(n),E({pinId:null!==(r=null==C?void 0:C.entityId)&&void 0!==r?r:"",currentIndex:null!=t?t:0,nextIndex:n,carouselData:{carouselSlots:null===(i=T.carouselSlots)||void 0===i?void 0:i.map(function(e){return{id:e.id}}),entityId:T.entityId},viewParameter:P,viewType:S,componentType:h,contextLogData:g,isEditMode:_})},L=T.carouselSlots,z=T.index,M="number"==typeof y?y:z,B="default"===j,N=B?"white":"#555",Z=B?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,p.jsx)(s.ZP.Consumer,{children:function(e){var t,n;return"sm"===e.viewportSize?null:(0,p.jsx)(o.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:b?"end":"center",paddingY:_?1:0,children:L&&((function(e){if(Array.isArray(e))return f(e)})(n=Array(null!==(t=L.length)&&void 0!==t?t:0).keys())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){var t,n;return(0,p.jsx)(o.xu,{paddingX:1,children:(0,p.jsx)(o.iP,{accessibilityLabel:null!==(n=(L[e]||{}).title)&&void 0!==n?n:"",fullWidth:!1,onTap:function(t){return F(t.event,M,e)},rounding:"circle",children:(0,p.jsx)(o.xu,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===M?N:Z}},rounding:"circle"})})},(null!==(t=null==C?void 0:C.entityId)&&void 0!==t?t:"")+e)})})}})}},239062:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var r,i=n(506979);n(704217);var o=n(908390),a=n(729884),l=n(357998),s=n(898781),u=n(356725),c=n(721782),d=n(447948),p=n(350118),f=n(515198);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g={cursor:"pointer",padding:"30px 16px",position:"relative",zIndex:1},v=function(e,t,n,r,i,o){o||void 0===r||(e.preventDefault(),e.stopPropagation(),r(t,n)),void 0!==i&&i(n)},b=void 0!==r?r:r=n(717246);function _(e){var t,n,r,m=e.addEllipsis,y=e.alwaysShowNavigationArrows,_=e.carouselIndex,x=e.carouselData,P=e.ellipsisVariant,S=e.handleCarouselSwipe,j=e.isShowingLastSlide,w=e.pinKey,O=e.contextLogData,A=e.viewParameter,k=e.viewType,C=e.componentType,D=e.isEditMode,E=e.forwardNode,I=e.backNode,T=e.sliderStyleOverride,R=e.hideNavigationArrows,F=(0,s.ZP)(),L=(0,i.useDispatch)(),z=(0,p.S6)();if(null==w||"graphqlRef"===w.type)r=w;else{var M=z(w.data);r=null==M?null:{type:"deprecated",data:M}}var B=(0,l.Q)(b,r,{useLegacyAdapter:function(e){var t;return{entityId:null!==(t=e.id)&&void 0!==t?t:"",isEligibleForPdp:e.is_eligible_for_pdp}}}),N=B.data,Z=B.childDataKey__DEPRECATED,U=(0,c.Z)(Z,"CarouselSliders"),K=(0,a.Z)(Z),H=x||K&&{carouselSlots:K.carouselSlots.map(function(e){return{id:e.slotId,title:e.title}}),entityId:null!==(t=K.carouselId)&&void 0!==t?t:"",index:K.index};if(!H)return null;var V=function(e,t){return L((0,d.yR)(e,t))},G=H.carouselSlots,W=H.index,q=void 0!==_?_:null!=W?W:0,Y=Math.max(0,q-1),X=Math.min((null!=G?G:[]).length-1,q+1),$=0===q,Q=j||q===(null!=G?G:[]).length-1,J=function(e,t){var n,r,i;v(e,null!==(n=null==N?void 0:N.entityId)&&void 0!==n?n:"",t,V,S,D),U({pinId:null!==(r=null==N?void 0:N.entityId)&&void 0!==r?r:"",currentIndex:q,nextIndex:t,carouselData:{carouselSlots:null==G?void 0:G.map(function(e){return{id:e.id}}),entityId:H.entityId},viewParameter:A,viewType:k,componentType:C,contextLogData:O,isEditMode:D,isEligibleForPdp:null!==(i=null==N?void 0:N.isEligibleForPdp)&&void 0!==i&&i})},ee=I||(0,f.jsx)(o.JO,{color:"inverse",icon:"arrow-back",accessibilityLabel:F._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image')}),et=R?null:E||(0,f.jsx)(o.JO,{color:"inverse",icon:"arrow-forward",accessibilityLabel:F._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')});return(0,f.jsxs)(o.xu,{display:"flex",justifyContent:R?"center":"between",position:"absolute",alignItems:"center",left:!0,right:!0,bottom:!0,top:!0,children:[!R&&(0,f.jsx)("div",{"data-test-id":"carousel-slider-left",role:"presentation",onClick:function(e){J(e,Y)},onKeyUp:function(e){J(e,Y)},style:h(h(h({},g),T),{},{pointerEvents:$?"none":"auto"}),children:(0,f.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:$&&!y?"hidden":"visible",opacity:$&&y?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:ee})}),m&&(0,f.jsx)(u.default,{pinKey:Z,carouselIndex:_,carouselData:{carouselSlots:null===(n=H.carouselSlots)||void 0===n?void 0:n.map(function(e){return{id:e.id,title:e.title}}),entityId:H.entityId,index:H.index},handleCarouselSwipe:S,variant:P||"default",viewParameter:A,viewType:k,componentType:C}),!R&&(0,f.jsx)("div",{"data-test-id":"carousel-slider-right",role:"presentation",onClick:function(e){J(e,X)},onKeyUp:function(e){J(e,X)},style:h(h(h({},g),T),{},{pointerEvents:Q?"none":"auto"}),children:(0,f.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:Q&&!y?"hidden":"visible",opacity:Q&&y?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:et})})]})}},415940:function(e,t,n){"use strict";n.d(t,{Z:function(){return L}});var r,i=n(76911);n(782296);var o=n(908390);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){var r;return(r=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===a(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=n(729884),f=n(357998),m=n(444445),y=n(898781),h=n(564194),g=n(310227),v=n(455024),b=n(350118),_=n(515198),x=["pinKey"];function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,D(r.key),r)}}function j(e,t){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function w(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(e,t,n){return(t=D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}var E=void 0!==r?r:r=n(566416),I=function(e){var t=e.reduce(function(e,t){var n,r=t.imageSizeMap,i=(null==r?void 0:r["736x"])||(null==r?void 0:r["236x"])||{},o=i.height,a=i.width,l="".concat(null!=a?a:1,"x").concat(null!=o?o:1),s=(null===(n=e[l])||void 0===n?void 0:n.times)||0;return k(k({},e),{},C({},l,{imageHeight:o,imageWidth:a,times:s+1}))},{}),n=Object.keys(t).reduce(function(e,n){return t[n].times>e.times?t[n]:e},{times:-1,imageHeight:-1,imageWidth:-1});return Object.keys(t).length>1?{imageHeight:n.imageHeight,imageWidth:n.imageWidth}:null},T=function(e,t,n,r,i,a,l,s,u,c,d,p,f,m,y,h){var g,b,x,P,S,j,w,O,A,k,C,D,E,I,T,R,F,L=t.imageSizeMap,z=t.details,M=void 0===z?"":z,B=236,N=236,Z="";i?(B=474,N=L&&Math.min(B/.8,B/((null!==(S=null===(j=L["564x"])||void 0===j?void 0:j.width)&&void 0!==S?S:1)/(null!==(w=null===(O=L["564x"])||void 0===O?void 0:O.height)&&void 0!==w?w:1))),Z=L&&(null===(A=L["564x"])||void 0===A?void 0:A.url)):L&&L["736x"]?(N=L&&L["736x"]&&L["736x"].height,B=L&&L["736x"]&&L["736x"].width,Z=L&&L["736x"]&&L["736x"].url):L&&L["236x"]&&(N=L&&L["236x"]&&L["236x"].height,B=L&&L["236x"]&&L["236x"].width,Z=L&&L["236x"]&&L["236x"].url),f&&m&&(N=Math.min(f*m,null!==(k=N)&&void 0!==k?k:1)),P=a?"".concat(null!==(C=null==L?void 0:null===(D=L["236x"])||void 0===D?void 0:D.url)&&void 0!==C?C:""," 1x"):i?"".concat(null!==(E=null==L?void 0:null===(I=L["564x"])||void 0===I?void 0:I.url)&&void 0!==E?E:""," 1x"):[(null==L?void 0:L["474x"])&&"".concat(null!==(T=L["474x"].url)&&void 0!==T?T:""," 2x"),(null==L?void 0:L["736x"])&&"".concat(null!==(R=L["736x"].url)&&void 0!==R?R:""," 3x"),(null==L?void 0:L.orig)&&"".concat(null!==(F=L.orig.url)&&void 0!==F?F:""," 4x")].filter(Boolean).join(", ");var U=(0,v.GH)(M,e,r),K=p?void 0:N,H=p?void 0:B,V=y?{boxHeight:null==y?void 0:y.imageHeight,boxWidth:null==y?void 0:y.imageWidth}:{boxHeight:K,boxWidth:H},G=V.boxHeight,W=V.boxWidth;return(0,_.jsx)(o.xu,{"data-test-id":"carousel-slot-container",height:null!=G?G:void 0,width:null!=W?W:void 0,children:(0,_.jsx)(o.xu,{height:p?d:void 0,width:p||void 0,"data-test-id":"carousel-img-".concat(r),children:(0,_.jsx)(o.Ee,{alt:U,fit:p?"cover":"none",naturalHeight:null!==(g=N)&&void 0!==g?g:1,naturalWidth:null!==(b=B)&&void 0!==b?b:1,onError:l,onLoad:s,src:null!==(x=Z)&&void 0!==x?x:"",srcSet:P,crossOrigin:h?"anonymous":void 0})})},"carousel-slot-".concat(n,"-").concat(r))},R=function(e,t){var n=e.pinId,r=e.slot,i=e.slotIndex,a=e.onError,l=e.onLoad,s=e.widthToUse,u=e.gap,c=["564x","736x","474x","236x"].map(function(e){var t;return null===(t=r.imageSizeMap)||void 0===t?void 0:t[e]}).find(function(e){return null==e?void 0:e.url})||{},d=c.url,p=c.width,f=c.height,m=r.details,y=(0,v.GH)(void 0===m?"":m,t,i);return(0,_.jsx)(o.xu,{"data-test-id":"carousel-slot-container",width:s,height:"100%",marginEnd:u,children:(0,_.jsx)(o.zd,{height:"100%",wash:!0,children:(0,_.jsx)(o.Ee,{alt:y,fit:"contain",naturalHeight:null!=f?f:1,naturalWidth:null!=p?p:1,onError:a,onLoad:l,src:null!=d?d:""})})},"carousel-slot-".concat(n,"-").concat(i))},F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(a,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=O(a);if(t){var r=O(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return w(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(w(e=i.call.apply(i,[this].concat(n))),"state",{showBadge:!0}),C(w(e),"renderBadge",function(){var t=e.props,n=t.carouselData,r=t.isCloseup,i=t.showCarouselBadge;if(!n)return null;var a=e.state.showBadge,l=n.carouselSlots,s=n.index;return!r&&i?(0,_.jsx)(o.xu,{alignItems:"center",color:"selected",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new o.Ry(1),dangerouslySetInlineStyle:{__style:{opacity:a?.8:0,transition:"opacity .3s"}},children:(0,_.jsx)(o.xv,{color:"inverse",children:"".concat((null!=s?s:0)+1,"/").concat((null!=l?l:[]).length)})}):null}),e}return n=[{key:"componentDidMount",value:function(){var e=this;this.hideBadgeTimeout=setTimeout(function(){return e.setState({showBadge:!1})},3e3)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.state.showBadge,r=e.carouselData,i=this.props.carouselData;if(r&&i){var o=r.index,a=i.index;n&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(function(){return t.setState({showBadge:!1})},3e3)),o!==a&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}}},{key:"componentWillUnmount",value:function(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}},{key:"render",value:function(){var e,t,n=this,r=this.props,i=r.isCloseup,a=r.carouselIndex,l=r.closeupHeight,s=r.closeupWidth,u=void 0===s?0:s,c=r.widthRatio,d=void 0===c?1:c,p=r.cropHeight,f=r.cropWidth,y=r.carouselData,b=r.disableTransition,x=r.highResOnly,P=r.lowResOnly,S=r.onError,j=r.onLoad,w=r.pinId,O=r.imageSignature,A=r.isEditMode,C=r.isDenseView,D=r.isThirdPartyAd;if(!y)return null;if(d>1||d<0)throw Error("widthRatio should be between 0 and 1 inclusive");var E=y.carouselSlots,F=null!==(t=y.index)&&void 0!==t?t:0,L=void 0!==a?a:null!=F?F:0,z=!i&&f,M=(E[L]||{}).imageSizeMap,B=Math.floor((e=i?u:z||(x?474:C?m.Lo:m.yF))*d),N=(null==M?void 0:M["236x"])||{},Z=p||N.height||0,U=f||N.width||236,K=l||Z/U*B,H=I(E);return(0,_.jsxs)(o.xu,{height:K,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:g.Ml,"data-test-image-signature":O,children:[!A&&this.renderBadge(),(0,_.jsx)(h.Z,{carouselData:k(k({},y),{},{type:"canonical"}),trackCarousel:!0,impressionType:"Pin",loggingId:w,slotIndex:null!=F?F:0,viewParameter:72,viewType:1,children:(0,_.jsx)(o.xu,{position:"absolute",height:K,width:B,overflow:"hidden"})},"carousel-impression-key-".concat(L)),(0,_.jsx)(o.xu,{width:B*E.length,dangerouslySetInlineStyle:{__style:{transition:b?"":"left .3s",left:(0,v.vF)(E.length,B,e,L)}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative",children:E.map(function(t,r){if(i){var o=r===E.length-1;return R({pinId:w,slot:t,slotIndex:r,onError:S,onLoad:j,widthToUse:B,gap:B<e&&!o?1:0},n.props.i18n)}return T(n.props.i18n,t,w,r,x,P,S,j,u,l,p,f,K,B,H,D)})})]})}}],S(a.prototype,n),r&&S(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(i.Component);function L(e){var t,n,r,i=e.pinKey,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,x),a=(0,y.ZP)(),l=(0,b.S6)()(o.pinId);r=null==i||"graphqlRef"===i.type?i:null!=l?{type:"deprecated",data:l}:null;var d=(0,f.Q)(E,r,{useLegacyAdapter:function(e){return{imageSignature:e.image_signature}}}),m=d.data,h=d.childDataKey__DEPRECATED,g=(0,p.Z)(h),v=g&&k(k({},g),{},{carouselSlots:(t=g.carouselSlots,n=["236x","474x","564x","736x"].map(function(e){var n=Math.min.apply(Math,c(t.map(function(t){var n,r;return(null===(n=t.imageSizeMap)||void 0===n?void 0:null===(r=n[e])||void 0===r?void 0:r.height)||1/0}))),r=Math.min.apply(Math,c(t.map(function(t){var n,r;return(null===(n=t.imageSizeMap)||void 0===n?void 0:null===(r=n[e])||void 0===r?void 0:r.width)||1/0})));return{imageKey:e,height:n,width:r}}),t.map(function(e){return n.reduce(function(e,t){var n,r=t.imageKey,i=t.height,o=t.width;return null!==(n=e.imageSizeMap)&&void 0!==n&&n[r]?s(s({},e),{},{imageSizeMap:s(s({},e.imageSizeMap),{},u({},r,s(s({},e.imageSizeMap[r]),{},{height:i,width:o})))}):e},e)}))});return(0,_.jsx)(F,k(k({},o),{},{carouselData:v,i18n:a,imageSignature:null==m?void 0:m.imageSignature}))}C(F,"defaultProps",{showCarouselBadge:!0})},751191:function(e,t,n){"use strict";var r=n(76911),i=n(908390),o=n(898781),a=n(515198);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t,n=e.iconType,s=e.showFab,u=e.backgroundColor,c=e.hoverColor,d=e.iconColor,p=e.size,f=(0,o.ZP)(),m=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=m[0],h=m[1];return(0,a.jsx)(i.zd,{rounding:6,children:(0,a.jsx)(i.xu,{opacity:y?1:.8,rounding:"circle",onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},"data-test-id":"navigation-fab-container",children:(0,a.jsx)(i.xu,{width:p||48,height:p||48,color:y?c:u,display:"flex",justifyContent:"center",alignItems:"center",opacity:s?1:0,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s linear"}},"data-test-id":"navigation-fab",children:"forward"===n?(0,a.jsx)(i.JO,{color:d,icon:"arrow-forward",accessibilityLabel:f._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')}):(0,a.jsx)(i.JO,{color:d,icon:"arrow-back",accessibilityLabel:f._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image')})})})})}},721782:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}}),n(704217);var r,i=n(407043),o=n(357998),a=n(999018),l=n(67347);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=void 0!==r?r:r=n(270643);function p(e,t){var n=(0,i.v)().logContextEvent,r=(0,o.Q)(d,e,{useLegacyAdapter:function(){return{}}}).childDataKey__DEPRECATED;null!=e&&"deprecated"===e.type&&e.data&&"pin"!==e.data.type&&(0,l.nP)("web.graphql.debug.useLogSwipeError",{sampleRate:1,tags:{parent:t,rootType:e.data.type}});var s=(0,a.Z)(r);return function(e){var t=e.pinId,r=e.currentIndex,i=e.nextIndex,o=e.carouselData,a=e.viewParameter,l=e.viewType,u=e.componentType,d=e.contextLogData,p=e.isEditMode,f=e.isEligibleForPdp;if(!p){var m=o.carouselSlots,y=o.entityId;n({event_type:108,object_id_str:t,component:u,view_type:l,view_parameter:a,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==m?void 0:m[r])&&Number(m[r].id),carouselDataId:Number(y),carouselSlotIndex:r,toCarouselSlotIndex:i}},aux_data:c(c({},d),s({isPdpPlus:f}))})}}}},222704:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(908390),i=n(515198);function o(e){var t,n,o=e.children,a=e.color,l=e.outlined,s=e.type,u=e.rounding,c=void 0===u?4:u;return(0,i.jsxs)(r.xu,{position:"relative",children:[(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},rounding:c,overflow:"hidden","data-test-id":"outline-content",children:o}),l&&(0,i.jsx)(r.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,rounding:c,color:"transparent",dangerouslySetInlineStyle:{__style:(n=(t={color:a,type:void 0===s?"bold":s}).color,"solid"===t.type?{boxShadow:"inset 0 0 0 2px ".concat(null!=n?n:"#000"),WebkitBoxShadow:"inset 0 0 0 2px ".concat(null!=n?n:"#000"),MozBoxShadow:"inset 0 0 0 2px ".concat(null!=n?n:"#000")}:{boxShadow:"inset 0 0 0 2px ".concat(null!=n?n:"#000",", inset 0 0 0 4px #fff"),WebkitBoxShadow:"inset 0 0 0 2px ".concat(null!=n?n:"#000",", inset 0 0 0 4px #fff"),MozBoxShadow:"inset 0 0 0 2px ".concat(null!=n?n:"#000",", inset 0 0 0 4px #fff")})},"data-test-id":"outline-box"})]})}},970576:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(908390),i=n(499128),o=n(898781),a=n(349700),l=n(515198);function s(e){var t,n=e.boardName,s=e.boardUrl,u=e.isBoardlessPin,c=e.isFromPinBuilder,d=e.hasNewPin,p=e.onChangeButtonClick,f=e.onVisitButtonClick,m=e.onHide,y=e.onUndo,h=e.pinImageUrl,g=(0,o.ZP)();return c?t={accessibilityLabel:g._('Visit Pin', 'PostSavedPinToast.a11yVisitButton', 'Accessibility label for Visit Pin saved from PinBuilder'),label:g._('Visit', 'PostSavedPinToast.VisitButton', 'Visit Pin saved from PinBuilder'),size:"lg",onClick:void 0===f?function(){}:f}:(p||y)&&(t={accessibilityLabel:d&&u&&p?g._('Change Pin destination', 'PostSavedPinToast.a11yChangeButton', 'Change saved pin to a different destination'):g._('Undo Saved Pin', 'PostSavedPinToast.a11yUndoButton', 'Undo Saved Pin'),label:d&&u&&p?g._('Change', 'PostSavedPinToast.ChangeButton', 'Change saved pin to a different destination'):g._('Undo', 'PostSavedPinToast.UndoButton', 'Undo Saved Pin'),size:"lg",onClick:d&&u&&p?function(){return p()}:y}),(0,l.jsx)(i.ZP,{primaryAction:t,duration:u?6e3:3e3,thumbnail:u?{icon:(0,l.jsx)(r.JO,{accessibilityLabel:g._('Saved to profile thumbnail', 'PostSavedPinToast.thumbnail.accessibilityLabel', 'Thumbnail for saved to profile.'),color:"default",icon:"history",size:24})}:void 0,imageUrl:h,onHide:m,text:(0,l.jsx)(r.xv,{size:"200",overflow:"normal",children:(0,a.nk)(g._('Saved to {{ destination }}', 'PostSavedPinToast.SavedToBoardLabel', 'Saved to label for better save'),{destination:(0,l.jsx)(r.rU,{href:u?"/me/":null!=s?s:"",children:(0,l.jsx)(r.xv,{size:"200",weight:"bold",lineClamp:1,children:n},"PostSavedPinToastBoardName")})})})})}},176020:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=l(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}n.d(t,{Z:function(){return d}});var s={row:0,section:0},u={row:-1,section:-1},c=function(){},d=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.index=o({},s),this.sections=e,this.updateCallback=c,this.selectItem=c}return e=[{key:"getIndex",value:function(){return this.index}},{key:"isAtStart",value:function(){var e=this.index,t=e.row,n=e.section;return 0===t&&0===n}},{key:"isAtEnd",value:function(){var e=this.index,t=e.row,n=e.section,r=this.sections[n]||[];return this.sections.length===n+1&&r.length===t+1}},{key:"next",value:function(){if(!this.isAtEnd()){var e=this.index,t=e.row,n=e.section;t===u.row&&n===u.section?this.index=o({},s):this.sections[n].length>t+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}}},{key:"prev",value:function(){if(!this.isAtStart()){var e=this.index,t=e.row,n=e.section;if(t===u.row&&n===u.section)this.index=o({},s);else if(t>0)this.index.row-=1;else{var r=this.index.section-1;this.index={section:r,row:this.sections[r].length-1}}this.updateCallback(!0)}}},{key:"select",value:function(){var e=this.index,t=e.row,n=e.section;this.selectItem((this.sections[n]||[])[t])}},{key:"setInactive",value:function(){this.index=o({},u),this.updateCallback()}},{key:"setSelectItem",value:function(e){this.selectItem=e}},{key:"setUpdateCallback",value:function(e){this.updateCallback=e}},{key:"updateIndex",value:function(e){this.index=e,this.updateCallback()}}],a(n.prototype,e),t&&a(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}()},960260:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(76911),i=n(908390);n(176020);var o=n(425480),a=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(m,e);var t,n,r,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=d(m);if(t){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function m(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,m),p(c(t=f.call(this,e)),"setSelectedItemRef",function(e){t.selectedItemRef=e}),p(c(t),"handleIndexUpdate",function(e){var n=t.props.indexManager;t.setState({selectedIndex:n.getIndex(),selectionMovedByKeyboard:!!e})}),p(c(t),"handleSelectItem",function(e){return function(){var n=t.props,r=n.disabled,i=n.onSelectItem;r||i(e)}}),p(c(t),"handleMouseEnter",function(e){return function(){var n=t.props,r=n.disabled,i=n.indexManager;r||i.updateIndex(e)}}),p(c(t),"handleMouseLeave",function(){var e=t.props,n=e.disabled,r=e.indexManager;n||r.setInactive()}),p(c(t),"renderItems",function(e,n){var r=t.props.renderItem,o=t.state.selectedIndex||{},l=o.row,s=o.section,u=e.customProps,c=void 0===u?{}:u,d=e.items,p=e.renderItem,f=c.isDisabled,m=n===s,y=p||r;return y&&d.map(function(e,r){var o,s=null!==(o=null==f?void 0:f(e))&&void 0!==o&&o,u=m&&r===l;return(0,a.jsx)(i.xu,{"data-test-id":"board-selection",ref:!s&&u?t.setSelectedItemRef:null,children:s?y({item:e,hovered:u,sectionProps:c}):(0,a.jsx)(i.iP,{fullWidth:!1,onMouseEnter:t.handleMouseEnter({section:n,row:r}),onMouseLeave:t.handleMouseLeave,onTap:t.handleSelectItem(e),rounding:2,children:y({item:e,hovered:u,sectionProps:c})})},r)})}),p(c(t),"renderSections",function(){var e=t.props,n=e.renderSectionHeader;return e.sections.map(function(e,r){return(0,a.jsxs)(i.xu,{children:[n&&n(e,r),t.renderItems(e,r)]},r)})});var t,n=t.props.indexManager;return t.state={selectedIndex:n.getIndex(),selectionMovedByKeyboard:!1},n.setUpdateCallback(t.handleIndexUpdate),t}return n=[{key:"componentDidUpdate",value:function(e){var t=this.containerRef;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){var n=this.selectedItemRef;if(!(n instanceof HTMLElement))return;var r=n.getBoundingClientRect(),i=r.top,o=r.bottom,a=t.getBoundingClientRect(),l=a.top;o>=a.bottom?n.scrollIntoView(!1):i<=l&&n.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}},{key:"render",value:function(){var e=this,t=this.props,n=t.grow,r=void 0!==n&&n,l=t.maxHeight,s=t.fetchMore;return(0,a.jsx)(o.Z,{fetchMore:s,children:function(t){var n=t.setRef,o=t.onScroll;return(0,a.jsx)(i.xu,{flex:r?"grow":void 0,height:r?"100%":void 0,maxHeight:l,onScroll:o,overflow:"auto",ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){e.containerRef=t,n(t)}),children:e.renderSections()})}})}}],s(m.prototype,n),r&&s(m,r),Object.defineProperty(m,"prototype",{writable:!1}),m}(r.Component)},274495:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(908390),i=n(515198),o={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function a(){return(0,i.jsx)(r.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",rounding:8,children:(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:o,display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function l(e){var t=e.disabled,n=e.name,o=e.onClick,l=e.size,s=e.submitting,u=e.text;return(0,i.jsxs)(r.xu,{display:"flex",position:"relative","data-test-id":"submit-button",children:[s&&(0,i.jsx)(a,{}),(0,i.jsx)(r.zx,{color:"red",disabled:t||s,name:n,onClick:o,size:l,type:"submit",text:u})]})}},865607:function(e,t,n){"use strict";n.d(t,{O:function(){return u},Z:function(){return c}});var r=n(76911),i=n(908390),o=n(898781),a=n(966113),l=n(515198),s={xs:12,sm:16,md:20,lg:24};function u(e){var t=e.children,n=(0,o.ZP)();return(0,l.jsx)(i.u,{link:(0,l.jsx)(i.rU,{href:a.vBy,target:"blank",children:(0,l.jsx)(i.xv,{color:"inverse",size:"100",weight:"bold",children:n._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:n._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:t})}function c(e){var t=e.hasVerifiedIdentity,n=e.iconOnly,a=e.isVerifiedMerchant,c=e.showText,d=e.size,p=(0,o.ZP)(),f=(0,l.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(i.JO,{accessibilityLabel:p._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:s[d]}),c&&(0,l.jsx)(i.xu,{marginStart:2,children:(0,l.jsx)(i.xv,{color:"shopping",inline:!0,weight:"bold",children:p._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,l.jsxs)(r.Fragment,{children:[a&&!n&&(0,l.jsx)(u,{children:f}),a&&n&&f,t&&!a&&(0,l.jsx)(i.JO,{accessibilityLabel:p._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:s[d]})]})}},180929:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(908390),i=n(898781),o=n(780280);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=n(515198),c=function(){};function d(e){var t,n,a,l,d,p,f,m,y,h,g=e.direction,v=e.handleNavHoverToggle,b=e.leftHover,_=e.onScroll,x=e.rightHover,P=e.shouldPadArrows,S=e.size,j=(0,i.ZP)(),w=(n=(t={direction:g,isRTL:(0,o.B)().isRTL,leftHover:b,rightHover:x,shouldPadArrows:P,verticalSize:void 0===S?"md":S}).direction,a=t.isRTL,l=t.leftHover,d=t.rightHover,p=t.shouldPadArrows,f=t.verticalSize,m={backgroundImage:"linear-gradient(to ".concat(n,", rgba(255, 255, 255, 0) 0%, #fff 90%)"),height:"100%",top:"0px",bottom:void 0},h={sm:"52px",md:"124px"},{up:s(s({},y={color:"default",height:"40px",justifyContent:"center",left:void 0,right:void 0}),{},{backgroundImage:"linear-gradient(#fff 0%, rgba(255, 255, 255, 0) 90%)",bottom:void 0,icon:"arrow-up",label:j._('Up arrow', 'product.carousel.arrowUp', 'Label for up arrow button in closeup image carousel'),top:"0px",width:h[f]}),down:s(s({},y),{},{backgroundImage:"linear-gradient(rgba(255, 255, 255, 0) 0%, #fff 90%)",bottom:"0px",icon:"arrow-down",label:j._('Down arrow', 'product.carousel.arrowDown', 'Label for down arrow button in closeup image carousel'),top:void 0,width:h[f]}),left:s(s({},m),{},{color:p?"default":l?"default":"subtle",icon:a?"arrow-forward":"arrow-back",justifyContent:"start",label:j._('Left arrow', 'Label for left arrow button in search guides', 'Label for left arrow button in search guides'),left:"0px",right:void 0,width:a?"22px":"210px"}),right:s(s({},m),{},{color:p?"default":d?"default":"subtle",icon:a?"arrow-back":"arrow-forward",justifyContent:"end",label:j._('Right arrow', 'Label for right arrow button in search guides', 'Label for right arrow button in search guides'),left:void 0,right:"0px",width:a?"22px":"210px"})});return(0,u.jsx)(r.xu,{position:"absolute",height:w[g].height,dangerouslySetInlineStyle:{__style:{willChange:"transform",pointerEvents:"none",top:w[g].top,bottom:w[g].bottom,left:w[g].left,right:w[g].right}},children:(0,u.jsx)(r.xu,{display:"flex",alignItems:"center",width:w[g].width,dangerouslySetInlineStyle:{__style:{backgroundImage:w[g].backgroundImage,marginTop:P?"25px":void 0}},justifyContent:w[g].justifyContent,height:"100%",children:(0,u.jsx)("button",{onMouseEnter:v?function(){return v(g,!0)}:c,onMouseLeave:v?function(){return v(g,!1)}:c,onClick:_,style:{backgroundColor:"transparent",border:0,height:"100%",outline:"none",padding:0,pointerEvents:"all"},children:(0,u.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:w[g].justifyContent,width:"50px",children:(0,u.jsx)(r.JO,{accessibilityLabel:w[g].label,color:w[g].color,icon:w[g].icon})})})})})}},96939:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(908390),i=n(65675),o=n(515198);function a(e){var t=e.coverImages,n=e.height,a=e.isHovered,l=e.onClick,s=e.onMouseEnter,u=e.onMouseLeave,c=e.textType,d=e.text,p=e.url,f=e.width,m=t&&(t["236x"]||t["280x280"]);return(0,o.jsx)(i.Z,{backgroundColor:"gray",coverImage:m,height:n,isHovered:a,onClick:l,onMouseEnter:s,onMouseLeave:u,url:p,width:f,children:(0,o.jsx)(r.xu,{alignItems:"center",display:"flex",height:n,justifyContent:"center",padding:3,position:"absolute",top:!0,width:f||"100%",children:"text"===c?(0,o.jsx)(r.xu,{alignItems:"center",display:"flex",height:48,padding:3,children:(0,o.jsx)(r.X6,{align:"center",size:"500",color:"light",children:d})}):(0,o.jsx)(r.xu,{alignItems:"center",color:"secondary",display:"flex",height:48,padding:3,rounding:"pill",children:(0,o.jsx)(r.xv,{align:"center",weight:"bold",children:d})})})})}},654874:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(76911),i=n(908390),o=n(356997),a=n(898781),l=n(564194),s=n(773285),u=n(391143),c=n(940882),d=n(66699),p=n(19121),f=n(65675),m=n(72809),y=n(515198);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){var t=e.bubble,n=e.contextLogData,v=e.disableTabIndex,b=e.handleReport,_=e.height,x=e.imgSignature,P=e.isHovered,S=e.onClick,j=e.onMouseEnter,w=e.onMouseLeave,O=e.referringSource,A=e.searchBoxRenderStopwatch,k=e.showFlag,C=e.slotIndex,D=e.storyId,E=e.viewParameter,I=e.viewType,T=e.width,R=(0,a.ZP)(),F=(0,p.Z)(),L=t.id,z=t.action,M=t.aux_fields,B=t.cover_images,N=t.dominant_colors,Z=t.identifier_icon_type,U=t.title,K=t.story_category,H=t.curator,V=(0,s.F)().checkExperiment,G=F.isAuth,W="",q="";if(G&&5===I){var Y=(W=V("blp_explore_bubble_image_size").group).split("_");Y.length>1&&W.startsWith("enabled")&&(q=Y[1])}var X=B&&B[0]&&(W.startsWith("enabled")&&q?B[0][q]:B[0]["280x280"]||B[0]["236x"]),$=(0,d.Z)(U&&U.format||"",U&&U.args||{}),Q=N&&N.length?N[0]:"gray",J=(null==z?void 0:z.url)||(0,u.Z)({storyCategory:K,query:$,referringSource:O,bubbleId:L,storyId:D,title:U.format,pinId:null==M?void 0:M.image_pin_id});return(0,y.jsx)(l.Z,{impressionAuxFields:{storyCategory:K,storyIdStr:D},impressionType:"Article",loggingId:L,viewType:I,viewParameter:E,slotIndex:C,contextLogData:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({story_id:D},n),children:(0,y.jsx)(f.Z,{backgroundColor:Q,coverImage:X,disableTabIndex:v,height:_,id:L,isHovered:P,onClick:S,onMouseEnter:j,onMouseLeave:w,searchBoxRenderStopwatch:A,url:J,width:T,children:function(e){var t=e.isHovered;return(0,y.jsxs)(r.Fragment,{children:[H&&26!==K&&(0,y.jsx)(i.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,y.jsx)(o.qE,{outline:!0,size:"xs",src:H.image_small_url,name:H.full_name})}),Z&&Z!==c.J&&(0,y.jsx)(i.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,y.jsx)(i.JO,{icon:(0,c.Z)(Z),accessibilityLabel:R._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:12})}),(0,y.jsx)(i.xu,{alignItems:26===K?"end":"center","data-test-id":"discover-bubble",display:"flex",height:_,justifyContent:"center",padding:3,position:"absolute",top:!0,width:T||"100%",children:(0,y.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[_>200?(0,y.jsx)(i.X6,{size:"500",align:"center",color:"light",children:$}):(0,y.jsx)(i.xv,{align:"center",color:"light",weight:"bold",children:$}),H&&26===K&&(0,y.jsxs)(i.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,y.jsx)(i.xu,{marginEnd:2,children:(0,y.jsx)(o.qE,{outline:!0,size:"xs",src:H.image_small_url,name:H.full_name})}),(0,y.jsx)(i.xv,{size:"100",color:"light",children:H.full_name})]})]})}),F.isAuth&&F.isEmployee&&k?(0,y.jsx)(i.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,y.jsx)(m.Z,{handleReport:b,imgSignature:x||"",isVisible:t})}):null]})}})})}},65675:function(e,t,n){"use strict";n.d(t,{A:function(){return l},Z:function(){return s}});var r=n(76911),i=n(908390),o=n(515198);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s(e){var t,n,s,u=e.backgroundColor,c=e.children,d=e.coverImage,p=e.disableTabIndex,f=e.height,m=e.id,y=e.isHovered,h=e.onClick,g=e.onMouseDown,v=e.onMouseEnter,b=e.onMouseLeave,_=e.searchBoxRenderStopwatch,x=e.url,P=e.width,S=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),j=S[0],w=S[1],O=function(){v?v():w(!0)},A=function(){b?b():w(!1)},k=y||j,C=k?l.hoverOverlay:l.bubbleOverlay;return(0,o.jsx)(i.Tg,{href:x,onBlur:A,onFocus:O,onMouseDown:g,onMouseEnter:O,onMouseLeave:A,onTap:function(){null==h||h(m)},rounding:4,tabIndex:p?-1:void 0,children:(0,o.jsx)(i.zd,{rounding:4,width:P||"100%",height:f,children:null!=d&&d.url?(0,o.jsxs)(i.Ee,{alt:"",color:u,fit:"cover",naturalHeight:null!==(n=d.height)&&void 0!==n?n:1,naturalWidth:null!==(s=d.width)&&void 0!==s?s:1,onLoad:function(){null==_||_.stop()},role:"presentation",src:d.url,children:[(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:C},height:"100%",width:"100%"}),"function"==typeof c?c({isHovered:k}):c]}):(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:u}},height:"100%",width:"100%"})})})}},92331:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(908390),i=n(407043),o=n(444445),a=n(564194),l=n(676142),s=n(940882),u=n(654874),c=n(515198);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=o.yF;function y(e){var t=e.contextLogData,n=e.bubbles,o=e.id,d=e.referringSource,p=e.slotIndex,y=e.storyType,h=e.title,g=e.titleIcon,v=e.viewType,b=e.viewParameter,_=(0,i.v)().logContextEvent,x=n.map(function(e){return e.type+":"+e.id}).join("|"),P=f(f({story_type:y},t),{},{content_ids:x});return(0,c.jsx)(a.Z,{viewType:v,componentType:200,viewParameter:b,loggingId:o,objectIdStr:o,contextLogData:P,impressionType:"Story",slotIndex:p,children:(0,c.jsxs)(r.xu,{children:[h&&(0,c.jsxs)(r.xu,{display:"flex",marginBottom:1,justifyContent:"center",alignItems:"center",children:["number"==typeof g&&g!==s.J&&(0,c.jsx)(r.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,c.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:(0,s.Z)(g),size:14})}),(0,c.jsx)(r.xv,{weight:"bold",children:(0,l.Z)(h)})]}),n.map(function(e,t){return(0,c.jsx)(r.xu,{paddingY:1,flex:"none",children:(0,c.jsx)(u.Z,{bubble:e,onClick:function(e){_({event_type:101,object_id_str:e,view_type:v,view_parameter:b,component:200,aux_data:P})},referringSource:d,height:103,width:m,storyId:o,viewType:v,viewParameter:b,slotIndex:t,contextLogData:P})},"bubble-".concat(e.id))})]})})}},666389:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(76911),i=n(908390),o={transparent:{backgroundColor:"transparent"},transparentHovered:{backgroundColor:"rgba(216, 216, 216, 0.37)"},pog:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},buttonFocus:{outline:"0"}},a=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(y,e);var t,n,r,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=f(y);if(t){var r=f(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function y(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,y);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(p(e=s.call.apply(s,[this].concat(n))),"state",{hovered:!1}),m(p(e),"handleMouseEnter",function(){return e.setState({hovered:!0})}),m(p(e),"handleMouseLeave",function(){return e.setState({hovered:!1})}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.backgroundHaloSize,n=e.onClick,r=e.color,l=Object.freeze({height:t,width:t}),s=u({border:0,display:"block",background:"transparent",cursor:"pointer"},o.buttonFocus),c=u(u(u({},o.pog),o.transparent),this.state.hovered?o.transparentHovered:{}),d=u(u({},l),c);return(0,a.jsx)("button",{type:"button",style:s,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:function(e){return n&&n({event:e})},children:(0,a.jsx)("div",{style:d,children:(0,a.jsx)(i.xu,{rounding:"circle",children:(0,a.jsx)(i.JO,{accessibilityLabel:"",icon:"flag",size:t/2,color:void 0===r?"subtle":r})})})})}}],c(y.prototype,n),r&&c(y,r),Object.defineProperty(y,"prototype",{writable:!1}),y}(r.Component)},72809:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(76911),i=n(908390),o=n(186656),a=n(121151),l=n(499128),s=n(898781),u=n(343341),c=n(666389),d=n(116674),p=n(515198);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P(r.key),r)}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return(t=P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(d,e);var t,n,s,u=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=_(d);if(t){var r=_(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function d(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,d);for(var e,t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return x(b(e=u.call.apply(u,[this].concat(r))),"state",{showModal:!1,reportType:null}),x(b(e),"handleDismiss",function(){return e.setState({showModal:!1})}),x(b(e),"handleClick",function(){"image"===e.state.reportType?e.reportSuggestionImage():e.reportSuggestionText()}),x(b(e),"reportSuggestionImage",(t=regeneratorRuntime.mark(function t(){var n,r,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=(n=e.props).imgSignature,i=n.reportImage,e.setState({showModal:!1}),t.next=4,(0,o.Z)({url:"/v3/search/pin_image_sig/",data:{image_signature:r}});case 4:a=t.sent.resource_response.data.id,i(a);case 7:case"end":return t.stop()}},t)}),function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(e){h(o,r,i,a,l,"next",e)}function l(e){h(o,r,i,a,l,"throw",e)}a(void 0)})})),x(b(e),"reportSuggestionText",function(){var t=e.props,n=t.handleReport,r=t.toastManagerContext;n&&(n(),r.showToast(function(t){var n=t.hideToast;return(0,p.jsx)(l.ZP,{onHide:n,text:e.props.i18n._('Thanks\xA0for\xA0your\xA0report!\xA0This\xA0will\xA0be\xA0reviewed\xA0by\xA0our\xA0Trust\xA0and\xA0Safety\xA0Team', 'ReportingFlag.Toast.text', 'Toast\xA0after\xA0reporting\xA0a\xA0search suggestion')})}),e.handleDismiss())}),x(b(e),"showModal",function(t){var n=t.event;n.stopPropagation(),n.preventDefault(),e.setState({showModal:!0})}),e}return n=[{key:"render",value:function(){var e=this,t=this.state.showModal;return(0,p.jsxs)(r.Fragment,{children:[this.props.isVisible&&(0,p.jsx)(c.Z,{onClick:this.showModal,backgroundHaloSize:24}),t&&(0,p.jsx)(a.ZP,{accessibilityModalLabel:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.accessibilityModalLabel', 'accessible\xA0label\xA0for\xA0report\xA0suggestion modal'),heading:this.props.i18n._('Report\xA0search\xA0term', 'ReportingFlag.Modal.heading', 'Heading\xA0for\xA0report\xA0suggestion modal'),onDismiss:this.handleDismiss,size:"sm",children:(0,p.jsxs)(i.xu,{children:[(0,p.jsx)(i.xu,{padding:5,children:(0,p.jsx)(i.xv,{children:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion')})}),(0,p.jsxs)(i.FX,{id:"reporting-flag-options-group",legend:this.props.i18n._('When you flag this, our Trust and Safety team will review it. If it doesn\'t meet our Community Guidelines, it will be blocked.', 'ReportingFlag.Box.Text.report', 'What\xA0will\xA0happen\xA0when\xA0you\xA0report\xA0a\xA0suggestion'),legendDisplay:"hidden",children:[(0,p.jsxs)(i.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,p.jsxs)(i.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(i.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:function(){return e.setState({reportType:"text"})},value:"Report search text"}),(0,p.jsx)(i.xu,{flex:"grow",children:(0,p.jsx)(i.__,{htmlFor:"textType",children:(0,p.jsx)(i.xu,{paddingX:2,children:(0,p.jsx)(i.xv,{children:"Report search text"})})})})]}),(0,p.jsxs)(i.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,p.jsx)(i.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:function(){return e.setState({reportType:"image"})},value:"Report search image"}),(0,p.jsx)(i.xu,{flex:"grow",children:(0,p.jsx)(i.__,{htmlFor:"imageType",children:(0,p.jsx)(i.xu,{paddingX:2,children:(0,p.jsx)(i.xv,{children:"Report search image"})})})})]})]}),(0,p.jsx)(i.iz,{}),(0,p.jsxs)(i.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,p.jsx)(i.xu,{margin:2,children:(0,p.jsx)(i.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n._('Cancel', 'ReportingFlag.Box.Button.text.cancel', 'Text\xA0for\xA0cancel\xA0button\xA0when reporting search suggestion')})}),(0,p.jsx)(i.xu,{margin:2,children:(0,p.jsx)(i.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n._('Report', 'ReportingFlag.Box.Button.text.report', 'Button\xA0label\xA0to\xA0report\xA0search suggestion'),disabled:!this.state.reportType})})]})]})]})})]})}}],g(d.prototype,n),s&&g(d,s),Object.defineProperty(d,"prototype",{writable:!1}),d}(r.PureComponent);function j(e){var t=(0,s.ZP)(),n=(0,d.f)().reportImage;return(0,p.jsx)(S,y(y({},e),{},{i18n:t,reportImage:n,toastManagerContext:(0,u.F9)()}))}},215727:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(76911),i=n(167678),o=n(908390),a=n(898781),l=n(149230),s=n(977558),u=n(515198),c=new o.Ry(s.fe),d=new o.H3([c]),p=new o.H3([d]),f={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:6},m={width:540,height:363},y={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:4},h={width:320,height:215},g=(0,i.ZP)({resolved:{},chunkName:function(){return"video-VideoWrapper"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.all([n.e(71827),n.e(3875)]).then(n.bind(n,158103))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then(function(e){return t.resolved[n]=!0,e})},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return 158103}});function v(e){var t=e.displayData,n=e.handleComplete,i=e.handleDismiss,a=e.isMobile,s=t.video,c=t.image,d=t.title,p=t.body,m=t.completeButton,h=t.dismissButton,g=a?"center":"start",v=(0,l.Z)({url:m.url});return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(b,{isMobile:a,image:c,video:s,handleDismiss:i,title:d}),(0,u.jsxs)(o.xu,{margin:(a?y:f).gestaltModalMargin,justifyContent:"center",display:"flex",direction:"column",children:[(0,u.jsx)(o.X6,{align:g,children:d}),(0,u.jsx)(o.xu,{marginTop:2,marginBottom:4,children:(0,u.jsx)(o.xv,{align:g,children:p})}),(0,u.jsxs)(o.xu,{margin:-1,display:"flex",justifyContent:a?"center":"end",dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}},children:[h&&!h.hideDismissButton&&(0,u.jsx)(o.xu,{padding:1,fit:!0,minWidth:a?130:void 0,flex:a?"grow":"none",children:(0,u.jsx)(o.zx,{fullWidth:a,color:"gray",size:"lg",text:h.text,onClick:i})}),m&&(0,u.jsx)(o.xu,{padding:1,fit:!0,minWidth:a?130:void 0,flex:a?"grow":"none",children:m.url?(0,u.jsx)(o.ZP,{fullWidth:a,color:"red",size:"lg",text:m.text,onClick:function(){return n()},href:m.url,rel:v?"nofollow":"none"}):(0,u.jsx)(o.zx,{fullWidth:a,color:"red",size:"lg",text:m.text,onClick:function(){return n()}})})]})]})]})}var b=function(e){var t,n,r=e.isMobile,i=e.image,l=e.video,s=e.handleDismiss,c=e.title,d=(0,a.ZP)(),v=r?y:f,b=r?h:m,_=(0,u.jsx)(o.xu,{margin:v.closeButtonMargin,display:"flex",justifyContent:r?"start":"end",position:"absolute",zIndex:p,width:b.width-2*v.modalMargin,children:(0,u.jsx)(o.hU,{accessibilityLabel:d._('Dismiss', 'experiences.ExperienceModalWindow.modalDismissIconButton', 'Accessibility lable for the X icon button to dismiss the modal window'),icon:"cancel",iconColor:"darkGray",onClick:s,size:"sm"})}),x=i?i.imageAlt:c,P=i?i.url:null==l?void 0:null===(t=l.metadata)||void 0===t?void 0:t.thumbnail,S=(null==i?void 0:null===(n=i.dominantColor)||void 0===n?void 0:n.length)===3?"rgb(".concat(i.dominantColor[0],", ").concat(i.dominantColor[1],", ").concat(i.dominantColor[2],")"):"rgb(111, 91, 77)",j=b.width/b.height,w={width:b.width,height:b.height};i&&i.width&&i.height?(j=i.width/i.height,w={width:i.width,height:i.height}):l&&l.metadata.width&&l.metadata.height&&(j=l.metadata.width/l.metadata.height,w={width:l.metadata.width,height:l.metadata.height});var O=P&&(0,u.jsx)(o.Ee,{alt:x||"",color:S,naturalHeight:w.height,naturalWidth:w.width,src:P,fit:"cover"}),A=Math.trunc(b.width/j);return(0,u.jsxs)(o.xu,{top:!0,left:!0,bottom:!0,right:!0,width:b.width,height:A,overflow:"hidden",children:[_,i&&O,l&&(0,u.jsx)(g,{fallback:O,aspectRatio:j,objectFit:"cover",captions:"",controls:!1,loop:!0,isAutoPlay:!0,onPlay:function(){},onPlayError:function(){},playing:!0,playsInline:!0,poster:(null==i?void 0:i.url)||l.metadata.thumbnail,src:l.url,volume:0})]})}},730654:function(e,t,n){"use strict";var r=n(121093),i=n(773285),o=n(440102),a=n(515198),l=[503259,500410,500688],s=function(e){var t=e.placementId,n=(0,o.ZP)();return(0,a.jsx)(r.Z,{placementId:t,eligibleIds:l,children:function(e){return n(e.complete,e.dismiss),null}})};t.Z=function(e){var t=e.placementId;return(0,(0,i.F)().checkExperiment)(o.C7).anyEnabled?null:(0,a.jsx)(s,{placementId:t})}},534991:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(76911),i=n(343341),o=n(407043),a=n(121093),l=n(499128),s=n(515198),u=function(e){var t=(0,o.v)().logContextEvent;return(0,s.jsx)(a.Z,{eligibleIds:e.eligibleIds,placementId:e.placementId,eligibleTypes:[10],children:function(n){var r=n.complete,i=n.dismiss,o=n.experience.display_data,a=o.link||e.linkUrl,u=function(){e.shouldLogClicks&&t({event_type:101,object_id_str:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})};return(0,s.jsx)(l.ZP,{duration:o.duration,href:a,text:o.text||"",onClick:function(){r(),e.onClick&&e.onClick(),e.shouldLogClicks&&u()},onHide:function(){e.onHide(),e.completionOnDismissal?r():i()}})}})};function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=h(o);if(t){var r=h(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(y(e=i.call.apply(i,[this].concat(n))),"componentDidMount",function(){var t=e.props.delay,n=void 0===t?2e3:t;e.experienceToastsTimeout=window.setTimeout(function(){return e.triggerEducationToasts()},n)}),e}return n=[{key:"componentWillUnmount",value:function(){window.clearTimeout(this.experienceToastsTimeout)}},{key:"triggerEducationToasts",value:function(){var e=this.props,t=e.toastManagerContext,n=e.completionOnDismissal,r=e.placementId,i=e.experienceIds;t.showOneToast(function(e){var t=e.hideToast;return(0,s.jsx)(u,{experienceIds:i,completionOnDismissal:n,onHide:t,placementId:r,shouldLogClicks:!1})})}},{key:"render",value:function(){return null}}],f(o.prototype,n),r&&f(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.Component);function _(e){return(0,s.jsx)(b,p(p({},e),{},{toastManagerContext:(0,i.F9)()}))}g(b,"defaultProps",{completionOnDismissal:!1})},883851:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(908390),i=n(215292),o=n(515198);function a(e){var t=e.colors,n=e.isSelected,a=e.onClick;return(0,o.jsx)(i.q,{children:function(e){var i=e.hovered,l=e.onMouseEnter,s=e.onMouseLeave;return(0,o.jsx)(r.kC,{alignItems:"center",height:64,justifyContent:"start",children:(0,o.jsx)(r.iP,{mouseCursor:"pointer",onMouseEnter:l,onMouseLeave:s,onTap:a,rounding:"pill",children:(0,o.jsx)(r.xu,{alignItems:"center",color:n?"primary":i?"tertiary":void 0,display:"flex",height:64,justifyContent:"center",rounding:"pill",width:92,children:(0,o.jsx)(r.xu,{alignItems:"center",color:"default",display:"flex",height:60,justifyContent:"center",rounding:"pill",width:88,children:(0,o.jsx)(r.xu,{display:"flex",height:56,overflow:"hidden",rounding:"pill",width:84,wrap:!0,children:t.map(function(e,t){return(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:28,width:42},"".concat(e,"-").concat(t))})})})})})})}})}},796668:function(e,t,n){"use strict";n.d(t,{W:function(){return c},Z:function(){return p}});var r=n(76911),i=n(908390),o=n(407043),a=n(756306),l=n(898781),s=n(883851),u=n(515198),c=[["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],["#DEBAB0","#E0999A","#DDA67C","#D98A64"],["#9A6B52","#A25847","#B37143","#BF6951"],["#683929","#34261F","#64281B","#4F2221"]],d=[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}];function p(e){var t=e.currentlyAppliedFiltersParamTerm,n=e.filterTones,p=e.onClickApplyFilters,f=e.query,m=e.showHeaderText,y=void 0===m||m,h=(0,o.v)().logContextEvent,g=(0,l.ZP)(),v=(0,r.useRef)(null),b=(0,r.useRef)(null),_=function(e){var n,r=t===e?"":e;h({event_type:101,component:47,element:10418,view_type:2,aux_data:{entered_query:f,filter_type:"skin_tone",value:r}}),null===(n=b.current)||void 0===n||n.complete(),p(r)},x=t?g._('Some ideas in this skin tone range', 'SkinToneFilters.copy.termSelected', 'Skin tone filters text'):g._('Pick a skin tone range', 'SkinToneFilters.copy.noTermSelected', 'Skin tone filters text');return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsxs)(i.kC,{alignItems:y?"center":"start",direction:"column",justifyContent:"start",children:[y&&(0,u.jsx)(i.xu,{marginBottom:2,children:(0,u.jsx)(i.xv,{color:"default",overflow:"normal",weight:"bold",children:x})}),(0,u.jsx)(i.xu,{display:"flex",flex:"none",paddingX:1,ref:v,children:(void 0===n?d:n).map(function(e,n){var r=e.term;return(0,u.jsx)(i.xu,{"data-test-id":"skin-tone-option",dangerouslySetInlineStyle:{__style:{padding:"0 2px"}},children:(0,u.jsx)(s.Z,{colors:c[n],isSelected:t===r,onClick:function(){return _(r)}})},r)})})]}),v&&(0,u.jsx)(a.Z,{anchor:v.current,experienceIds:[502978],idealDirection:"right",onExperienceMount:function(e){e.complete&&502978===e.experience_id&&(b.current=e)},placementId:29})]})}},62409:function(e,t,n){"use strict";n.d(t,{AH:function(){return u},CK:function(){return s},Fc:function(){return a},Wj:function(){return o},Xe:function(){return i},kb:function(){return l},wS:function(){return r}});var r=function(e,t,n,r){return t||(e?e.official_user:n||r)};function i(e){var t=e.hasLinkDomain,n=e.hasNativeCreator,r=e.hasOriginPinner,i=e.pinDomain,o=e.sourceUserUsername,a=e.sourceUserFullName;return!n&&(t||r)&&o?{pinCreditLink:"/".concat(o,"/"),pinCredit:a}:{pinCreditLink:void 0,pinCredit:!n&&t?i:""}}var o=function(e){var t=e.i18n,n=e.hasLinkDomain,r=e.hasRichMetadataArticle,i=e.hasRichMetadataRecipeCategorizedIngredients,o=e.hasRichMetadataTutorial,a=e.richMetadataRecipeFromAggregatedData;return(!n||a)&&t._('Saved by ', 'Closeup pin annotation', 'Closeup pin annotation')||o&&t._('Saved from ', 'pin annotation', 'pin annotation')||i&&t._('Recipe from ', 'pin annotation', 'pin annotation')||r&&t._('Article from ', 'pin annotation', 'pin annotation')||t._('From ', 'Closeup pin annotation', 'Closeup pin annotation')};function a(e){var t=e.i18n,n=e.hasRichMetadataProductOfferSummary,r=e.richMetadataProductName,i=e.richSummaryProductName,o=e.hasRichSummaryProductOfferSummary;return n&&r||!n&&i&&o?t._('Product sold by ', 'pin annotation', 'pin annotation'):""}var l=function(e){var t,n=e.hasLinkDomain,r=e.richMetadata,i=e.richSummary;return n&&!(null!=r&&null!==(t=r.recipe)&&void 0!==t&&t.fromAggregatedData)&&null!=r&&r.products&&r.products[0]&&r.products[0].name&&r.products[0].offerSummary?r.products[0].offerSummary:null!=i&&i.products&&i.products[0]&&i.products[0].name&&i.products[0].offerSummary?i.products[0].offerSummary:void 0},s=function(e){var t=e.hasRichMetadata,n=e.hasRichMetadataProducts,r=e.hasRichMetadataArticle,i=e.hasRichMetadataRecipe;return t?n?144:r?141:i?145:139:140},u=function(e){return!!e&&!e.startsWith("https://i.pinimg.com")}},332215:function(e,t,n){"use strict";function r(e){return!!(null==e?void 0:e.is_matured_new_user)}n.d(t,{IR:function(){return a},V0:function(){return r},Wn:function(){return o},xT:function(){return i}});var i=function(e){return!!e&&2===e.login_state},o=function(e){return!!(e&&e.match(/\/static\/images\/user\/default_\d+\.png$/))};function a(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},927383:function(e,t,n){"use strict";var r=n(898781),i=n(50286),o=n(987318),a=n(945698);t.Z=function(){var e=(0,r.ZP)(),t=(0,i.HG)(),n=(0,o.H)(),l=n.viewer,s=n.loginForMore,u=n.limitedLoginModalSubheader,c=n.limitedLoginModalNextLocation;return"LIMITED_LOGIN"===l.type?function(n){var r=n.modalHeader,i=n.nextLocation;return function(n){var o=null;n&&(n.nativeEvent&&n.nativeEvent instanceof Event?o=n:n.event&&(o=n.event)),o&&(o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()),null==s||s.setVisible(!0),null==u||u.setText(r||(t?(0,a.hr)(e):(0,a.Wh)(e))),i&&(null==c||c.setRoute(i))}}:function(e){return e.fn}}},574724:function(e,t,n){"use strict";n.d(t,{Hn:function(){return d},Jw:function(){return y},L7:function(){return r},Qc:function(){return i},Tt:function(){return g},UF:function(){return u},UV:function(){return a},W1:function(){return o},Ws:function(){return p},ZW:function(){return s},cK:function(){return h},cy:function(){return m},o4:function(){return f},tr:function(){return c},vF:function(){return l}});var r=1,i=2,o="female",a="male",l="unspecified",s="en-US",u="US",c=3,d="has_done_closeup",p="Gender",f="InterestPicker",m="LoadingStep",y="AppInstall",h={NUX_GENDER_STEP_NAME:p,NUX_INTEREST_PICKER_STEP_NAME:f,NUX_LOADING_STEP_NAME:m,NUX_APP_INSTALL_STEP_NAME:y},g=2500},275445:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r,i,o=n(76911),a=n(704217),l=n(908390),s=n(898781),u=n(780280),c=n(985913),d=n(100183),p=n(391254),f=n(515198);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y=["imageFadeOut {\n    0% { opacity: 1 }\n    60% { opacity: 1 }\n    100% { opacity: 0 }\n}"],h={imageFadeOut:"imageFadeOut 0.9s both"};function g(e){var t,n,r,i,a,s,u,c,g,v=e.backgroundColor,b=e.cyclingImages,_=e.imgLabel,x=e.imageHeight,P=e.imageWidth,S=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),j=S[0],w=S[1];(0,o.useEffect)(function(){var e=setInterval(function(){w(function(e){return e+1})},900);return function(){return clearInterval(e)}},[]);var O=j%b.length,A=(j+1)%b.length;return n=b[O],r=b[A],(0,f.jsxs)(l.xu,{position:"relative",width:P,height:x,children:[(0,f.jsx)(l.xu,{position:"absolute",top:!0,left:!0,width:P,height:x,children:(0,f.jsx)(l.Ee,{alt:_,color:v,fit:"cover",naturalHeight:null!==(i=r.height)&&void 0!==i?i:1,naturalWidth:null!==(a=r.width)&&void 0!==a?a:1,src:null!==(s=r.url)&&void 0!==s?s:"",children:(0,f.jsx)(l.xu,{color:"selected",opacity:.3,height:"100%"})})}),(0,f.jsxs)(l.xu,{position:"absolute",top:!0,left:!0,width:P,height:x,dangerouslySetInlineStyle:{__style:{animation:h.imageFadeOut,WebkitAnimation:h.imageFadeOut}},children:[(0,f.jsx)(p.Z,{unsafeCSS:(0,d.Ll)(y)}),(0,f.jsx)(l.Ee,{alt:_,color:v,fit:"cover",naturalHeight:null!==(u=n.height)&&void 0!==u?u:1,naturalWidth:null!==(c=n.width)&&void 0!==c?c:1,src:null!==(g=n.url)&&void 0!==g?g:"",children:(0,f.jsx)(l.xu,{color:"selected",opacity:.3,height:"100%"})})]})]},j)}var v=void 0!==r?r:r=n(398301);function b(e){var t,n,r,i,o,s,u,c,d,p,m,y,h=e.interestRef,b=e.imageHeight,_=e.imageWidth,x=(0,a.useFragment)(v,h);return null!=x&&null!==(t=x.cyclingImages)&&void 0!==t&&t.length?(0,f.jsx)(g,{backgroundColor:null!==(n=x.backgroundColor)&&void 0!==n?n:"",cyclingImages:null!==(r=x.cyclingImages.filter(Boolean).map(function(e){var t=e.height,n=e.width,r=e.url;return{height:null!=t?t:0,width:null!=n?n:0,url:null!=r?r:""}}))&&void 0!==r?r:[],imageHeight:b,imageWidth:_,imgLabel:null!==(i=x.name)&&void 0!==i?i:""}):(0,f.jsx)(l.Ee,{alt:null!==(o=null==x?void 0:x.name)&&void 0!==o?o:"",color:null!==(s=null==x?void 0:x.backgroundColor)&&void 0!==s?s:"",fit:"cover",naturalHeight:null!==(u=null==x?void 0:null===(c=x.images)||void 0===c?void 0:c.height)&&void 0!==u?u:1,naturalWidth:null!==(d=null==x?void 0:null===(p=x.images)||void 0===p?void 0:p.width)&&void 0!==d?d:1,src:null!==(m=null==x?void 0:null===(y=x.images)||void 0===y?void 0:y.url)&&void 0!==m?m:"",children:(0,f.jsx)(l.xu,{color:"selected",opacity:.3,height:"100%"})})}var _=["backgroundColor","clickHandler","index","isHover","isSelected","isTopicEdu","size","interestName","imageLabel","totalInterests","image"];function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P={xl_144:{imageWidth:144,imageHeight:144,fontSize:"300"},md_120:{imageWidth:120,imageHeight:120,fontSize:"200"}},S=P.xl_144;function j(e){var t,n,r=e.backgroundColor,i=e.clickHandler,a=e.index,d=e.isHover,p=e.isSelected,m=e.isTopicEdu,y=e.size,h=e.interestName,v=e.imageLabel,j=e.totalInterests,w=e.image,O=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,_),A=(0,s.ZP)(),k=(0,u.B)().isRTL,C=P[y]||S,D=C.fontSize,E=C.imageWidth,I=C.imageHeight,T=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),R=T[0],F=T[1],L=j&&a?(0,c.Z)(A._('{{ interestName }}, list {{ interestsPosition }} of {{ interestsCount }}', 'nux.interestStep.interestForLists', 'Label for interest card with description for lists'),{interestName:h,interestsPosition:a.toString(),interestsCount:j.toString()}):(0,c.Z)(A._('{{ interestName }} interest card', 'nux.interestStep.interest', 'Label for interest card'),{interestName:h}),z=(0,f.jsx)(l.zd,{rounding:4,children:(0,f.jsx)(l.xu,{rounding:4,position:"relative",display:"inlineBlock",width:E,height:I,"data-test-id":"nux-picker-topic",children:(0,f.jsxs)(l.iP,{accessibilityLabel:L,fullHeight:!0,onBlur:function(){return F(!1)},onFocus:function(){return F(!0)},onTap:i,children:[function(){var e,t,n,i=O.cyclingImages?O.cyclingImages:[];if(d||R){var o=O.interestRef;if(o)return(0,f.jsx)(b,{imageHeight:I,imageWidth:E,interestRef:o});if(i.length>0)return(0,f.jsx)(g,{backgroundColor:r,cyclingImages:i,imageHeight:I,imageWidth:E,imgLabel:v})}return(0,f.jsx)(l.Ee,{alt:v,color:r,fit:"cover",naturalHeight:null!==(e=null==w?void 0:w.height)&&void 0!==e?e:1,naturalWidth:null!==(t=null==w?void 0:w.width)&&void 0!==t?t:1,src:null!==(n=null==w?void 0:w.url)&&void 0!==n?n:"",children:(0,f.jsx)(l.xu,{color:"selected",opacity:.3,height:"100%"})})}(),p&&(0,f.jsxs)(l.xu,{height:"100%",width:"100%",position:"absolute",top:!0,children:[(0,f.jsx)(l.xu,{color:"selected",opacity:.7,height:"100%"}),(0,f.jsx)(l.xu,{position:"absolute",left:k,marginEnd:2,marginStart:2,marginTop:2,right:!k,top:!0,children:(0,f.jsx)(l.XZ,{checked:!0,id:"selectedTopic",onChange:function(){}})})]}),(0,f.jsx)(l.xu,{position:"absolute",bottom:!0,left:!0,right:!0,margin:2,"data-test-id":"nux-picker-topic-label",children:(0,f.jsx)(l.xv,{align:"start",color:"inverse",size:D,weight:"bold",overflow:"breakWord",children:h})})]})})});return n=!m&&(p||d||R),(0,f.jsx)(l.xu,{borderStyle:n?"lg":"none",dangerouslySetInlineStyle:{__style:n?{borderColor:"black"}:{borderStyle:"none"}},width:E,height:I,rounding:4,color:"default",display:"flex",justifyContent:"center",alignItems:"center",children:(0,f.jsx)(l.xu,{width:n?E-8:E,height:n?I-8:I,dangerouslySetInlineStyle:{__style:{borderRadius:n?14:16}},overflow:"hidden",children:(0,f.jsx)(l.xu,{margin:n?-1:0,children:z})})})}function w(e){var t=e.clickHandler,n=e.interest,r=e.index,i=e.isHover,o=e.isSelected,a=e.isTopicEdu,l=e.size,s=e.totalInterests,u=n.images,c=n.name,d=n.label,p=n.background_color;return(0,f.jsx)(j,{backgroundColor:p,clickHandler:t,interestName:c,image:u["400x"],imageLabel:null!=d?d:c,index:r,isHover:i,isSelected:o,isTopicEdu:a,size:l,totalInterests:s})}var O=void 0!==i?i:i=n(448447);function A(e){var t,n,r,i=e.clickHandler,o=e.index,l=e.isHover,s=e.isSelected,u=e.isTopicEdu,c=e.size,d=e.totalInterests,p=e.interestRef,m=(0,a.useFragment)(O,p);return(0,f.jsx)(j,{backgroundColor:null!==(t=m.backgroundColor)&&void 0!==t?t:"",clickHandler:i,image:m.images,imageLabel:null!==(n=m.name)&&void 0!==n?n:"",index:o,interestName:null!==(r=m.name)&&void 0!==r?r:"",isHover:l,isSelected:s,isTopicEdu:u,size:c,totalInterests:d,interestRef:m})}function k(e){var t=e.clickHandler,n=e.index,r=e.isHover,i=e.isSelected,o=e.isTopicEdu,a=e.size,l=e.totalInterests,s=e.interest,u=e.interestRef;return u?(0,f.jsx)(A,{clickHandler:t,index:n,isHover:r,isSelected:i,isTopicEdu:o,size:a,totalInterests:l,interestRef:u}):s&&(0,f.jsx)(w,{clickHandler:t,index:n,isHover:r,isSelected:i,isTopicEdu:o,size:a,totalInterests:l,interest:s})}},709622:function(e,t,n){"use strict";n.d(t,{Az:function(){return h},DI:function(){return _},Gl:function(){return S},Hl:function(){return D},Kb:function(){return T},NA:function(){return r},NG:function(){return u},OC:function(){return k},Pq:function(){return O},QM:function(){return m},Sk:function(){return P},UF:function(){return v},Uo:function(){return A},WF:function(){return l},Xm:function(){return c},Zf:function(){return o},_D:function(){return I},_N:function(){return f},ac:function(){return a},e_:function(){return p},gf:function(){return g},hf:function(){return j},i_:function(){return s},jY:function(){return b},ni:function(){return x},qg:function(){return d},rX:function(){return i},vX:function(){return w},wO:function(){return E},yG:function(){return y},yq:function(){return C}});var r="10",i=1,o=365,a=64,l=8,s=9,u=11,c=15,d=16,p=17,f=18,m=19,y=20,h=1e6,g=1e6,v="US";function b(e){var t="USD",n="$";switch(e){case"AT":case"BE":case"DE":case"ES":case"FI":case"FR":case"IE":case"IT":case"NL":case"PT":t="EUR",n="€";break;case"AU":t="AUD",n="$";break;case"CA":t="CAD",n="$";break;case"CH":t="CHF",n="CHF";break;case"DK":t="DKK",n="kr";break;case"GB":t="GBP",n="\xa3";break;case"NO":t="NOK",n="kr";break;case"NZ":t="NZD",n="$";break;case"SE":t="SEK",n="kr"}return[t,n]}var _={AU:{budget:1,duration:"10"},CA:{budget:1,duration:"10"},CZ:{budget:80,duration:"10"},FR:{budget:1,duration:"10"},GB:{budget:1,duration:"10"},IE:{budget:1,duration:"10"},NZ:{budget:1,duration:"10"},US:{budget:3,duration:"10"},AT:{budget:1,duration:"10"},DE:{budget:1,duration:"10"},IT:{budget:1,duration:"10"},ES:{budget:1,duration:"10"},NL:{budget:1,duration:"10"},PT:{budget:1,duration:"10"},BE:{budget:1,duration:"10"},CH:{budget:1,duration:"10"},SE:{budget:10,duration:"30"},NO:{budget:10,duration:"30"},DK:{budget:10,duration:"30"},FI:{budget:1,duration:"10"}},x={AU:{budget:10,duration:"10"},CA:{budget:9,duration:"10"},CZ:{budget:150,duration:"10"},FR:{budget:7,duration:"10"},GB:{budget:5,duration:"10"},IE:{budget:7,duration:"10"},NZ:{budget:10,duration:"10"},US:{budget:7,duration:"10"},AT:{budget:7,duration:"10"},DE:{budget:7,duration:"10"},IT:{budget:7,duration:"10"},ES:{budget:7,duration:"10"},NL:{budget:7,duration:"10"},PT:{budget:7,duration:"10"},BE:{budget:7,duration:"10"},CH:{budget:7,duration:"10"},SE:{budget:70,duration:"30"},NO:{budget:70,duration:"30"},DK:{budget:50,duration:"30"},FI:{budget:7,duration:"10"}},P={AT:1,AU:1,BE:1,CA:1,CH:1,CZ:11,DE:1,ES:1,DK:1,FI:1,FR:1,GB:1,IE:1,IT:1,NO:1,NZ:1,NL:1,PT:1,SE:1,US:1},S={PIN_SELECTION_MODAL:"PIN_SELECTION_MODAL",BUSINESS_FORM:"QUICK_PROMOTE_BUSINESS_FORM",BILLING_FORM:"QUICK_PROMOTE_BILLING_FORM",SUCCESS_MODAL:"SUCCESS_MODAL",ERROR_MODAL:"ERROR_MODAL",TAG_MODAL:"TAG_MODAL",GDPR_MODAL:"GDPR_MODAL"},j="QUICK_PROMOTE_PAGE",w=[S.GDPR_MODAL,S.PIN_SELECTION_MODAL,j,S.BUSINESS_FORM,S.BILLING_FORM,S.SUCCESS_MODAL,S.ERROR_MODAL],O={NARROW:"NARROW",MEDIUM:"MEDIUM",WIDE:"WIDE"},A=function(e){return e>=1&&e<=2},k="qp-fac-education-id",C="qp-fac-modal-education-id",D={CONSIDERATION:"CONSIDERATION",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES"},E={PINS:0,PRODUCT_GROUPS:1,BOARDS:2,SELECTED:3,SEARCH_RESULTS:4},I={MOST_RECENT:"RECENT",PROMOTED_PINS:"PROMOTED"},T=300},35066:function(e,t,n){"use strict";n.d(t,{S:function(){return p},w:function(){return f}});var r=n(76911),i=n(425288),o=n(311541),a=n(632448),l=n(515198);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=function(){return n.e(6819).then(n.bind(n,6819))},c=(0,i.Z)("MerchantStorefrontSettings"),d=c.Provider,p=c.useHook;function f(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,o.Z)(u,a.Z))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=i[0],p=i[1],f=(0,r.useMemo)(function(){return{merchantStorefrontSettings:c,updateLocaleStorefrontSetting:function(e,t,n){p({type:"UPDATE_LOCALE_STOREFRONT_SETTING",payload:{country:e,language:t,feedProfileId:n}})},updateStorefrontLastUpdated:function(e){p({type:"UPDATE_STOREFRONT_LAST_UPDATED",payload:e})}}},[p,c]);return(0,l.jsx)(d,{value:f,children:n})}},632448:function(e,t){"use strict";t.Z={currentViewingLocale:{country:"",language:"",feedProfileId:""},lastUpdated:0}},990823:function(e,t,n){"use strict";n.d(t,{ZP:function(){return s},tY:function(){return d},Xt:function(){return u},Yh:function(){return c}});var r=n(506979),i=n(773285),o=n(784590),a=n(19121),l={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1};function s(e){var t,n,r=(0,a.Z)(),l=r.isAuth&&r.id===e,s=(0,i.F)().checkExperiment,u=(0,o.Z)(!r.isAuth||l?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{showEnabledSaveBehavior:l&&r.has_quicksave_board||!!(r.isAuth&&null!==(t=(null!=u?u:{}).data)&&void 0!==t&&t.has_quicksave_board)||(l||r.isAuth)&&!r.has_quicksave_board&&!(null!==(n=(null!=u?u:{}).data)&&void 0!==n&&n.has_quicksave_board)&&s("profile_saves_for_all").anyEnabled}}function u(e){var t,n=(0,a.Z)(),r=n.isAuth&&n.id===e,i=(0,o.Z)(!n.isAuth||r?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{boardlessPinsEnabled:r&&n.has_quicksave_board||!!(n.isAuth&&null!==(t=(null!=i?i:{}).data)&&void 0!==t&&t.has_quicksave_board)}}function c(e){var t,n=(0,r.useDispatch)(),i=(0,a.Z)(),l=i.isAuth&&!!i.boardCount&&i.boardCount<5&&e,s=(0,o.Z)(l&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:i.isAuth&&i.id}}:null);return i.isAuth&&void 0===i.save_behavior&&s&&null!==(t=s.data)&&void 0!==t&&t.id&&n({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:s.data.save_behavior}}),{showEnabledSaveBehavior:l}}function d(e){var t,n=(0,a.Z)();return e&&(n.save_behavior===l.SAVE_TO_PROFILE?t={type:"classic"}:n.save_behavior===l.SHOW_BOARD_PICKER&&(t={type:"inline"})),{saveBehaviorType:t}}},239682:function(e,t,n){"use strict";function r(e,t,n){return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}n.d(t,{Z:function(){return r}})},59644:function(e,t){"use strict";t.Z=function(e,t){return"".concat(e,":").concat(t||"")}},240265:function(e,t,n){"use strict";n.d(t,{O:function(){return u},Q:function(){return c}});var r=n(414327),i=n(59644),o=n(956800);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var s=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],u={name:"BoardsResource",key:"boardsResource",options:function(e,t){var n=e.boardOrder,r=e.filterStories,i=e.mixPublicSecret;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({privacy_filter:"all",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:r,username:e.username,page_size:25,group_by:i?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0},t?{orbac_subject_id:t}:Object.freeze({}))}},c=function(e){return s.reduce(function(t,n){var a=[(0,o.N8)("profileBoards",(0,i.Z)(e,n))];return[!0,!1].forEach(function(t){[!0,!1].forEach(function(i){a.push((0,r.jB)(u.name,u.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:i})))})}),t.concat(a)},[])}},151645:function(e,t,n){"use strict";function r(e){var t=e.user,n=e.viewer;return!!(n.isAuth&&(null==t?void 0:t.username)===n.username)}n.d(t,{Z:function(){return r}})},96023:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(76911);function i(e,t){var n=null,i=null,o=null,a=function t(){if(n){var r=n.clientHeight,a=n.clientWidth;(i!==r||o!==a)&&(i=r,o=a,e(n)),window.requestAnimationFrame(t)}},l=function(t){n&&n===t||(n=t,i=t.clientHeight,o=t.clientWidth,e(n),a())},s=function(){n=null};(0,r.useEffect)(function(){return t.current&&l(t.current),function(){s()}},[t])}},737849:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(908390),i=n(121151),o=n(898781),a=n(349700),l=n(966113),s=n(50286),u=n(515198),c=l.K_Y+"?source=block_dialogue";function d(e){var t=e.firstName,n=e.onBlockUser,l=e.onClearModal,d=(0,o.ZP)(),p=(0,s.HG)(),f=(0,a.nk)(d._('Block {{ firstName }}?', 'blockUser.modal.header', 'header text asking if we should block the user'),{firstName:t}).join(""),m=(0,a.nk)(d._('Blocking {{ firstName }}, stops messages, follows, and comments. You can still view each other\u2019s profiles.', 'blockUser.modal.description', 'explanation of what blocking another user means'),{firstName:t});return p?(0,u.jsxs)(i.ZP,{accessibilityModalLabel:f,onDismiss:l,heading:f,footer:(0,u.jsxs)(r.xu,{marginStart:-1,marginEnd:-1,display:"flex",alignItems:"center",justifyContent:"end",children:[(0,u.jsx)(r.xu,{padding:1,children:(0,u.jsx)(r.zx,{fullWidth:!0,size:"md",text:d._('Cancel', 'blockUser.modal.cancel', 'Cancel blocking a user'),onClick:l})}),(0,u.jsx)(r.xu,{padding:1,children:(0,u.jsx)(r.zx,{fullWidth:!0,size:"md",color:"red",text:d._('Block', 'Button to confirm blocking a user', 'Button to confirm blocking a user'),onClick:n})})]}),role:"alertdialog",size:"md",children:[(0,u.jsx)(r.xu,{padding:4,"data-test-id":"block-text",children:(0,u.jsx)(r.xv,{children:m})}),(0,u.jsx)(r.xu,{padding:4,children:(0,u.jsx)(r.xv,{color:"default",weight:"bold",children:(0,u.jsx)(r.rU,{target:"blank",href:c,children:d._('Learn more', 'link to help center to learn more about blocking', 'link to help center to learn more about blocking')})})})]}):(0,u.jsxs)(i.ZP,{accessibilityModalLabel:f,onDismiss:l,mobileHideCloseIcon:!0,type:"block_button",children:[(0,u.jsx)(r.xu,{paddingX:3,paddingY:5,alignItems:"center",display:"flex",children:(0,u.jsx)(r.X6,{accessibilityLevel:1,size:"500",children:f})}),(0,u.jsx)(r.xu,{marginBottom:3,marginStart:2,marginEnd:2,children:(0,u.jsx)(r.xv,{align:"center",children:m})}),(0,u.jsxs)(r.xu,{marginStart:-1,marginEnd:-1,display:"flex",alignItems:"center",justifyContent:"center",children:[(0,u.jsx)(r.xu,{padding:1,children:(0,u.jsx)(r.zx,{fullWidth:!0,size:"md",text:d._('Cancel', 'blockUser.modal.cancel', 'Cancel blocking a user'),onClick:l})}),(0,u.jsx)(r.xu,{padding:1,children:(0,u.jsx)(r.zx,{fullWidth:!0,size:"md",color:"red",text:d._('Block', 'Button to confirm blocking a user', 'Button to confirm blocking a user'),onClick:n})})]})]})}},390598:function(e,t,n){"use strict";n.d(t,{C:function(){return c},Z:function(){return u}});var r=n(76911),i=n(908390),o=n(407043),a=n(970023),l=n(515198);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u={HEIGHT:362,WIDTH:362};function c(e){var t,n,c,d,p,f,m,y=e.productGroup,h=e.preferredPreviewPinSizes,g=e.coverFit,v=(0,o.v)().logContextEvent,b=(null===(n=y.coverImages)||void 0===n?void 0:n[0])&&(0,a.cB)(y.coverImages[0]),_=u.WIDTH,x=u.HEIGHT,P=((null===(c=y.previewPins)||void 0===c?void 0:c[0])||{}).images,S=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!b))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),j=S[0],w=S[1];P&&j&&(m=(void 0===h?[]:h).concat("orig").map(function(e){return P[e]}).find(function(e){return!!e}));var O=j?null===(d=m)||void 0===d?void 0:d.height:x,A=j?null===(p=m)||void 0===p?void 0:p.width:_,k=j?null===(f=m)||void 0===f?void 0:f.url:b;return O&&A&&k?(0,l.jsx)(i.Ee,{alt:"",naturalHeight:O,naturalWidth:A,src:k,fit:void 0!==g&&g?"cover":"contain",onError:function(){j||(v({event_type:10048,component:14004,aux_data:{product_group_cover_image_url:b}}),w(!0))}}):null}},316674:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(81636);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e){var t=e.entryPoint,n=e.objectId,r=e.groupType;return{aux_data:{commerce_data:JSON.stringify({entrypoint:t}),product_group_type:r},component:13698,object_id_str:n,view_type:1,view_parameter:3515}}function d(e){return"profile"===e?4:1}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y={Control:{BrandCatalogFeed:{tapBrandCatalogPin:function(e,t){t({event_type:102,view_type:1,view_parameter:3244,component:0,aux_data:a({},e.commerceData)})}},ProductFeed:{tapProductPin:function(e,t){t({event_type:102,component:13700,view_type:4,view_parameter:3512,aux_data:a({},e.commerceData)})}},StorefrontFeed:{tapProductGroup:function(e,t){t({event_type:102,view_type:4,view_parameter:3512,component:13698,object_id_str:e.productGroupId})},useShoppingProfileViewLog:function(){(0,r.Q)({view_type:4,view_parameter:3107,component:237})},viewProductGroup:function(e,t){t({event_type:120,view_type:4,view_parameter:3512,component:13698,object_id_str:e.productGroupId})}}},DomainModule:{trackSeeMoreClick:function(e,t){t({event_type:102,component:13327,element:11829,view_type:3,view_parameter:e.viewParameter})}},Feeds:{BrandCatalog:{tapBrandCatalogPin:function(e,t){t({event_type:102,view_type:1,view_parameter:3513,component:13700,aux_data:u({},e.commerceData)})}},Categories:{tapCategoryBubble:function(e,t){t({event_type:102,view_type:1,view_parameter:3514,component:13699,aux_data:{commerce_data:JSON.stringify({entrypoint:e.entryPoint})}})}},ProductGroups:{productGroupRendered:function(e,t){t(u({event_type:120},c({entryPoint:e.entryPoint,objectId:e.productGroupId,groupType:e.groupType})))},tapProductGroup:function(e,t){t(u({event_type:102},c({entryPoint:e.entryPoint,objectId:e.productGroupId,groupType:e.groupType})))}},ProductPins:{tapProductPin:function(e,t){var n=e.commerceData;t({event_type:102,component:e.component,view_type:1,view_parameter:3513,aux_data:u({},n)})},viewProductPinsFeed:function(e,t){var n=e.component,r=e.entryPoint,i=e.category,o=e.productGroupId;t({event_type:13,component:n,view_type:1,view_parameter:3513,aux_data:{commerce_data:JSON.stringify({entrypoint:r}),category_title:i,product_group_id:o}})}},viewFeedPage:function(e,t){var n=e.entryPoint;t({event_type:13,view_type:1,view_parameter:e.viewParameter,aux_data:{commerce_data:JSON.stringify({entrypoint:n})}})}},StructuredFeed:{viewStructuredFeed:function(e,t){var n=e.merchantId,r=e.source;t(m({event_type:13,view_type:d(r),view_parameter:3512},"profile"===r?{object_id_str:n}:Object.freeze({})))},Categories:{viewCategory:function(e,t){var n=e.id,r=e.source,i=e.title,o=e.bubble;t({event_type:120,component:13699,view_type:d(r),view_parameter:3512,aux_data:m({story_type:"storefront_category_bubbles",story_id:n,category_title:i},o.aux_fields)})},tapCategory:function(e,t){var n=e.id,r=e.source,i=e.title,o=e.bubble;t({event_type:102,component:13699,view_type:d(r),view_parameter:3512,aux_data:m({story_type:"storefront_category_bubbles",story_id:n,category_title:i},o.aux_fields)})},tapSeeMoreCategories:function(e,t){var n=e.id;t({event_type:102,component:13699,element:179,view_type:d(e.source),view_parameter:3512,aux_data:{story_id:n,story_type:"storefront_category_footer_button"}})}},ProductGroups:{tapProductGroup:function(e,t){var n=e.productGroupId,r=e.source,i=e.groupType,o=e.componentType,a=e.index;t({event_type:102,component:o,object_id_str:n,view_type:d(r),view_parameter:3512,aux_data:{product_group_type:i,grid_index:a}})},tapSeeMoreProductGroups:function(e,t){t({event_type:102,component:13698,element:179,aux_data:{story_id:e.id,story_type:"storefront_product_group_footer_button"},view_type:d(e.source),view_parameter:3512})},viewProductGroup:function(e,t){var n=e.productGroupId,r=e.source,i=e.groupType;t({event_type:120,component:e.componentType,object_id_str:n,view_type:d(r),view_parameter:3512,aux_data:{product_group_type:i}})}},PinsFeed:{viewPinsFeed:function(e,t){var n=e.id,r=e.OwnerUserId,i=e.pinsFeedTitle;t({event_type:120,component:13700,view_type:d(e.source),view_parameter:3512,aux_data:{story_id:n,story_type:"storefront_pins_feed",pins_feed_title:i,owner_user_id:r}})},tapPin:function(e,t){var n=e.commerceData;t({event_type:102,component:0,view_type:d(e.source),view_parameter:3512,aux_data:m({},n)})}}}}},970023:function(e,t,n){"use strict";n.d(t,{yh:function(){return r},QE:function(){return i},cB:function(){return o}}),n(214494),n(186656);var r="ALL_PRODUCTS",i=5e3,o=function(e){if(!e)return"";for(var t=["488x488","976x976","368x368","736x","474x","originals","orig",Object.keys(e)[0]],n=0;n<t.length;n++){var r,i=t[n];if(e[i])return null!==(r=e[i].url)&&void 0!==r?r:""}return""}},436395:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(599689),i=n(784590);function o(){var e=(0,r.useParams)().username;return(0,i.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},254176:function(e,t,n){"use strict";n.d(t,{Br:function(){return v},Cr:function(){return E},K8:function(){return j},L1:function(){return z},Tq:function(){return P},YQ:function(){return L},YV:function(){return D},ZP:function(){return I},aX:function(){return T},eo:function(){return _},fJ:function(){return B},md:function(){return b},oG:function(){return x},oL:function(){return R},of:function(){return w},xH:function(){return S},xQ:function(){return O},xR:function(){return F},xk:function(){return k},yT:function(){return g},zS:function(){return M}});var r=n(214494),i=n(27255),o=n(186656),a=n(248327),l=n(414327),s=n(239682),u=n(240265),c=n(956800),d=n(492583);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){f(o,r,i,a,l,"next",e)}function l(e){f(o,r,i,a,l,"throw",e)}a(void 0)})}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function v(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function b(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function _(e){return{type:"BOARD_DELETE",payload:{viewingUserId:e.viewingUserId,viewingUsername:e.viewingUsername,boardId:e.boardId,boardPinCount:e.boardPinCount}}}var x=function(e,t){return function(n){return n((0,a.U)("BoardResource",{options:{board_id:e,field_set_key:t}}))}};function P(e,t,n){return(0,a.U)("BoardResource",{options:h({board_id:e,field_set_key:t},n?{orbac_subject_id:n}:{})})}function S(e,t,n){return function(r){return(0,o.Z)({url:"/v3/boards/".concat(e,"/merge/").concat(t,"/"),method:"POST",data:n?{orbac_subject_id:n}:{}}).then(function(){return Promise.all([r(_({boardId:e})),r(P(t,"pin_count")),r((0,c.N8)(d.Z.BOARD_SECTIONS,t))])})}}function j(e){return function(t){e&&(0,u.Q)(e).forEach(function(e){t(e)})}}var w=function(e){return{type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}},O=function(e){return x(e,"pin_count")};function A(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function k(e,t){return function(n){return n(A(e)),r.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate()}}function C(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function D(e,t){return function(n){return n(C(e)),r.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete()}}var E=function(e,t){return{type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}},I=function(e){return{type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}}};function T(e,t,n){var o=h({name:e,privacy:i.Z.BoardPrivacy.PUBLIC,username:t},n?{orbac_subject_id:n}:Object.freeze({}));return function(e){return r.Z.create("BoardResource",o).callCreate().then(function(n){var r=n.resource_response.data;return e(t&&(0,l.jB)("BoardsResource",(0,s.Z)(t,!1))),r})}}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}var F=function(e,t,n){var i;return i=m(regeneratorRuntime.mark(function i(o){var a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}),i.next=3,r.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete();case 3:return(a=i.sent).resource_response.error||n({event_type:29,object_id_str:e}),i.abrupt("return",a);case 6:case"end":return i.stop()}},i)})),function(e){return i.apply(this,arguments)}},L=function(e,t,n,i,o,a){var l;return l=m(regeneratorRuntime.mark(function l(s){var u,c,d;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return c="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource",s({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:null!==(u=null==i?void 0:i.id)&&void 0!==u?u:"",viewingUser:n}}),l.prev=2,l.next=5,r.Z.create(c,h({board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(d=null==i?void 0:i.id)&&void 0!==d?d:""},a?{orbac_subject_id:a}:{})).callDelete();case 5:l.sent.resource_response.error||o({event_type:"accepted"===t?25:29,object_id_str:e}),l.next=12;break;case 9:l.prev=9,l.t0=l.catch(2),s({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:n,status:t,collaboratingUsers:[i]}});case 12:case"end":return l.stop()}},l,null,[[2,9]])})),function(e){return l.apply(this,arguments)}},z=function(e,t,n,i){return function(o){var a=r.Z.create("BoardResource",{board_id:n}).callDelete();return o(_({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i})),a}},M=function(e,t){return function(n){return r.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then(function(r){return n((0,c.Qv)("archived-boards",[{id:e,type:"board"}])),n(A(e,t)),r})}},B=function(e,t){return function(n){return r.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then(function(r){return n((0,c.Qv)("profile-boards:".concat(t),[{id:e,type:"board"}])),n(C(e)),r})}}},915071:function(e,t,n){"use strict";function r(e,t){return{type:"SEARCH_PIN_CLOSEUP_VIEWED",payload:{pinId:e,query:t}}}function i(e){return{type:"SEARCH_QUERY_STARTED",payload:{query:e}}}function o(e){return{type:"SEARCH_QUERY_INVALIDATED",payload:{query:e}}}n.d(t,{Y4:function(){return r},g4:function(){return i},sb:function(){return o}})},600147:function(e,t,n){"use strict";n.d(t,{DD:function(){return d},lg:function(){return p},Th:function(){return m},YH:function(){return s},wH:function(){return l},IU:function(){return f},L8:function(){return c}});var r=n(214494),i=n(186656),o=n(956800),a=n(492583);function l(e){var t=e.didItDataId,n=e.isLikedByMe;return function(e){return(0,i.Z)({url:"/v3/did_it/".concat(t,"/like/"),method:n?"DELETE":"POST"}),e({type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:t,liked_by_me:!n}})}}function s(e){var t=e.didItDataId,n=e.isMarkedHelpfulByMe;return function(e){return(0,i.Z)({url:"/v3/helpful/2/".concat(t,"/"),method:n?"DELETE":"POST"}),e({type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:t,marked_helpful_by_me:!n}})}}function u(e){return{type:"USER_DID_IT_DATA_DELETE",payload:{id:e}}}function c(e,t){return{type:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}function d(e){var t=e.aggregatedPinDataId,n=e.details,i=e.fromUnifiedComment,l=e.image_signatures,s=e.pin_id,u=e.username,d=e.updateParentDidItCount,p={aggregatedPinDataId:t,details:n,image_signatures:l,pin_id:s};return function(e){return r.Z.create("DidItActivityResource",p).callCreate().then(function(n){var r=n.resource_response.data;e({type:"PIN_DID_IT",payload:{id:s,value:!0}}),e({type:"USER_DID_IT_DATA_CREATE",payload:{user_did_it_data:r}}),e((0,o.vX)({feedId:t,feedType:i?a.Z.UNIFIED_COMMENTS:a.Z.TRIED_IT_FEED,itemIds:[r.id],itemType:r.type})),e((0,o.vX)({feedId:u,feedType:a.Z.TRIED_IT_FEED,itemIds:[r.id],itemType:r.type})),d&&e(c(t,1))},function(){})}}function p(e){var t=e.aggregatedPinDataId,n=e.feedType,i=e.id,l=e.isOwnedByMe,s=e.pinId,d=e.username,p=e.updateParentDidItCount;return function(e){r.Z.create("DidItActivityResource",{user_did_it_data_id:i,pinId:s}).callDelete().then(function(){l&&e({type:"PIN_DID_IT",payload:{id:s,value:!1}}),e(u(i)),e((0,o.EX)({feedId:null!=t?t:"",feedType:n||a.Z.TRIED_IT_FEED,itemIds:[i],itemType:"userdiditdata"})),e((0,o.EX)({feedId:d,feedType:a.Z.TRIED_IT_FEED,itemIds:[i],itemType:"userdiditdata"})),e((0,o.EX)({feedId:d,feedType:a.Z.UNIFIED_COMMENTS,itemIds:t?[t]:[],itemType:"userdiditdata"})),p&&e(c(i,-1))},function(){})}}function f(e){var t=e.id,n={details:e.details,image_signatures:e.image_signatures,user_did_it_data_id:t,pin_id:e.pinId};return function(e){r.Z.create("DidItActivityResource",n).callUpdate().then(function(t){e({type:"USER_DID_IT_DATA_UPDATE",payload:{user_did_it_data:t.resource_response.data}})},function(){})}}function m(e,t,n,r,l){return function(s){(0,i.Z)({url:"/v3/did_it/".concat(n,"/flag/"),method:"PUT",data:{reason:r,detailed_reasons:t,explanation:void 0}}).then(function(){s(u(n)),e&&s((0,o.EX)({feedId:e,feedType:a.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),s((0,o.EX)({feedId:l,feedType:a.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"}))},function(){})}}},956800:function(e,t,n){"use strict";function r(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function i(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:function(){return a},N8:function(){return i},Qv:function(){return o},_f:function(){return r},vX:function(){return l}});var o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.freeze({});return{type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}}};function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function l(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},447948:function(e,t,n){"use strict";function r(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function i(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function o(e,t,n,r,i){return{type:"PIN_SAVE",payload:{id:e,boardId:t,title:n,url:r,localPinId:i}}}function a(e){return{type:"PIN_UNSAVE",payload:{id:e}}}function l(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e.id,value:!0,text:e.text,undoAction:e.undoAction,undoActionOptions:e.undoActionOptions,undoText:e.undoText}}}function u(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function c(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function d(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function p(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function f(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function m(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}n.d(t,{Gb:function(){return a},I1:function(){return u},Ib:function(){return d},NA:function(){return s},Ur:function(){return o},Vw:function(){return l},b9:function(){return f},i0:function(){return p},mO:function(){return i},q1:function(){return c},yR:function(){return r},yj:function(){return m}})},274415:function(e,t,n){"use strict";function r(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}n.d(t,{R:function(){return r}})},550393:function(e,t,n){"use strict";n.d(t,{Q:function(){return l},a:function(){return a}});var r=n(186656);function i(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,s,"next",e)}function s(e){i(a,r,o,l,s,"throw",e)}l(void 0)})}}function a(e,t){var n;return n=o(regeneratorRuntime.mark(function n(i){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,r.Z)({url:"/v3/storypins/".concat(e,"/mentions/"),method:"DELETE"});case 2:return o=n.sent.resource_response,i({type:"DELETE_PIN_MENTION",payload:{pinId:e,userId:t}}),n.abrupt("return",o);case 6:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)}}function l(e){var t;return t=o(regeneratorRuntime.mark(function t(n){var i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,r.Z)({url:"/v3/aggregated_comments/".concat(e,"/mentions/"),method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}});case 2:return n({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:(o=(i=t.sent.resource_response).data).id,tagged_users:o.tagged_users}}),t.abrupt("return",i);case 7:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}}},482567:function(e,t,n){"use strict";n.d(t,{_:function(){return l}});var r=n(186656);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function l(e,t,n,l){var s,u;return s=regeneratorRuntime.mark(function a(s){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,r.Z)({url:"/v3/pins/".concat(e,"/notes/"),method:!n&&"DELETE"||!t&&"POST"||"PUT",data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({pin_note_content:n},l?{orbac_subject_id:l}:Object.freeze({}))});case 2:s({type:"PIN_NOTE_UPDATE",payload:{pinId:e,pinNote:a.sent.resource_response.data}});case 5:case"end":return a.stop()}},a)}),u=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=s.apply(e,t);function o(e){a(i,n,r,o,l,"next",e)}function l(e){a(i,n,r,o,l,"throw",e)}o(void 0)})},function(e){return u.apply(this,arguments)}}},749147:function(e,t,n){"use strict";function r(e){return{type:"PIN_QUICK_SAVE",payload:e}}function i(e){return{type:"UPDATE_PINS_WITH_QUICKSAVE_REPIN",payload:{newPin:e}}}n.d(t,{X:function(){return i},d:function(){return r}})},578248:function(e,t,n){"use strict";n.d(t,{H5:function(){return c},Nq:function(){return u},Q_:function(){return d},bJ:function(){return p}});var r=n(214494),i=n(80816),o=n(574724);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e){var t=e.updateUserData,n={},a=null;if(t.gender&&[o.W1,o.UV].includes(t.gender)?n.gender=t.gender:t.custom_gender&&(n.customGender=t.custom_gender,n.gender=o.vF),t.age?n.age=t.age:t.birthdate&&(n.birthdate=t.birthdate),t.locale&&(n.locale=t.locale),t.country&&(n.country=t.country),t.business_vertical&&(n.businessVertical=t.business_vertical),t.business_vertical_other&&(n.businessVerticalOther=t.business_vertical_other),t.number_employees&&(n.numberEmployees=t.number_employees),t.first_name&&(n.firstName=t.first_name),t.last_name&&(n.lastName=t.last_name),t.full_name&&(n.fullName=t.full_name),t.parent_email&&(n.parentEmail=t.parent_email),t.website_url&&(n.websiteUrl=t.website_url),t.listed_website_url&&(n.listedWebsiteUrl=t.listed_website_url),void 0!==t.allow_analytic_cookies&&(n.allow_analytic_cookies=t.allow_analytic_cookies),void 0!==t.allow_analytic_cookies&&(n.allow_marketing_cookies=t.allow_marketing_cookies),void 0!==t.allow_analytic_cookies&&(n.allow_personalization_cookies=t.allow_personalization_cookies),t.advertising_intent||t.business_name||t.account_type||t.business_goals||t.selected_ecommerce_platforms||t.enable_profile_message||t.enable_profile_address){var l=t.account_type,u=t.advertising_intent,c=t.business_name,d=t.business_goals,p=t.enable_profile_message,f=t.enable_profile_address,m=t.selected_ecommerce_platforms;a=s(s(s(s(s(s(s({},u?{advertising_intent:u}:{}),l?{account_type:l}:{}),c?{business_name:c}:{}),d?{business_goals:d}:{}),p?{enable_profile_message:p}:{}),f?{enable_profile_address:f}:{}),m?{selected_ecommerce_platforms:m}:{})}a&&(n.partner=a,a.business_name&&(n.firstName=a.business_name));var y=r.Z.create("UserSettingsResource",s(s({},t),{},{surface_tag:i.i.NUX})).callUpdate();return function(e){return y.then(function(t){return e({type:"UPDATE_USER_SET",payload:n}),t})}}function c(e){return{type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}}function d(e,t){return function(){r.Z.create("UserStateResource",{state:e,value:t}).callCreate()}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){return r.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate()}}},492583:function(e,t){"use strict";t.Z={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},174709:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(908390),i=n(898781),o=n(39847),a=n(249472),l=n(234203),s=n(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){var r;return(r=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===u(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=e.handleUpdateKeyValueBlocks,n=e.handleUpdateListBlocks,u=e.metadata,c=(0,i.ZP)(),f=u||{},m=f.listBlocks,y=f.keyValueBlocks,h=y&&y[0],g=y&&y[1];return(0,s.jsxs)(r.kC,{direction:"column",gap:{row:0,column:6},children:[(0,s.jsx)(l.Z,{header:c._('Cook time', 'storyboard.detailsList.recipe', 'Header title for cooking time entry for story pin recipe'),onUpdate:function(e){t(d(d({},y),{},p({},0,e)))},value:h}),(0,s.jsx)(a.Z,{onUpdate:function(e){t(d(d({},y),{},p({},1,e)))},value:g}),(0,s.jsx)(o.Z,{header:c._('Ingredients', 'storyboard.detailsList.prompt', 'Prompt for adding details to story Pin'),helperText:c._('Hint! For tricky recipes, try splitting ingredients into sections, like "For the frosting" and "For the cake".', 'storyboard.detailsList.recipe.helperText', 'Tip for what to add in the list section for recipes'),listBlocks:m,onUpdate:n,placeholderListBlocks:[{heading:c._('Ingredients', 'storyboard.detailsList.recipe.headerPlaceholder', 'Placeholder header text for recipe templates'),items:[c._('1 tbsp butter', 'storyboard.detailsList.recipe.listItemPlaceholder', 'Placeholder ingredients list item for recipe templates'),c._('2 tsp sugar', 'storyboard.detailsList.recipe.listItemPlaceholder', 'Placeholder ingredients list item for recipe templates'),c._('300 g flour', 'storyboard.detailsList.recipe.listItemPlaceholder', 'Placeholder ingredients list item for recipe templates')]}]})]})}},766119:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(898781),i=n(39847),o=n(515198);function a(e){var t=e.handleUpdateListBlocks,n=e.metadata,a=(0,r.ZP)(),l=(n||{}).listBlocks,s=a._('Notes', 'storyboard.detailsList.prompt', 'Prompt for adding details to story Pin');return(0,o.jsx)(i.Z,{header:s,helperText:a._('Hint! List the things people will need to bring your Idea Pin to life.', 'storyboard.detailsList.blank.helperText', 'Tip for what to add in the list section for free form Idea Pins'),listBlocks:l,onUpdate:t,placeholderListBlocks:[{heading:a._('Grab your...', 'storyboard.detailsList.blank.headerPlaceholder', 'Placeholder header text for blank templates'),items:[a._('Camera', 'storyboard.detailsList.blank.listItemPlaceholder', 'Placeholder list item for blank templates'),a._('Notebook', 'storyboard.detailsList.blank.listItemPlaceholder', 'Placeholder list item for blank templates'),a._('Comfortable shoes', 'storyboard.detailsList.blank.listItemPlaceholder', 'Placeholder list item for blank templates')]}]})}},375322:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(908390),i=n(898781),o=n(380458),a=n(39847),l=n(515198);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n){var r;return(r=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===s(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=e.metadata,n=e.handleUpdateKeyValueBlocks,s=e.handleUpdateListBlocks,u=(0,i.ZP)(),p=t||{},f=p.listBlocks,m=p.keyValueBlocks,y=m&&m[2];return(0,l.jsxs)(r.kC,{direction:"column",gap:{row:0,column:6},children:[(0,l.jsx)(r.xu,{children:(0,l.jsx)(o.Z,{value:y,onUpdate:function(e){n(c(c({},m),{},d({},2,e)))}})}),(0,l.jsx)(a.Z,{header:u._('Supplies', 'storyboard.detailsList.prompt', 'Prompt for adding details to story Pin'),helperText:u._('Hint! For tricky projects, try splitting materials into sections, like "For the walls" and "For the roof".', 'storyboard.detailsList.diy.helperText', 'Tip for what to add in the list section for diys'),listBlocks:f,onUpdate:s,placeholderListBlocks:[{heading:u._('Supplies', 'storyboard.detailsList.diy.headerPlaceholder', 'Placeholder header text for diy templates'),items:[u._('Macaroni', 'storyboard.detailsList.diy.listItemPlaceholder', 'Placeholder supplies list item for diy templates'),u._('Glitter', 'storyboard.detailsList.diy.listItemPlaceholder', 'Placeholder supplies list item for diy templates'),u._('Glue', 'storyboard.detailsList.diy.listItemPlaceholder', 'Placeholder supplies list item for diy templates')]}]})]})}},976582:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(908390),i=n(898781),o=n(349700),a=n(515198);function l(){var e=(0,i.ZP)();return(0,a.jsx)(r.xu,{marginTop:2,children:(0,a.jsx)(r.xv,{color:"subtle",size:"200",children:(0,o.nk)(e._('Comments are turned off in {{socialPermissions}}', 'ideaPin.editor.commentsPermission', 'Text to describe to the user that comments are turned off. socialPermissions: link to social permissions settings'),{socialPermissions:(0,a.jsx)(r.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:(0,a.jsx)(r.rU,{href:"/settings/permissions",display:"inlineBlock",target:"blank",underline:"hover",children:e._('Social Permissions', 'ideaPin.editor.commentsPermission.settings', 'Link to social permissions in settings')},"helpLink")})})})})}},998744:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(76911),i=n(908390),o=n(898781),a=n(990823),l=n(897103),s=n(515198);function u(e){var t=e.board,n=void 0===t?{}:t,u=e.canEdit,c=e.isAdsOnlyBoard,d=e.isStoryPin,p=e.isOriginallyQuickCreatesBoard,f=e.onBoardChange,m=e.onBoardCreate,y=e.viewerId,h=(0,o.ZP)(),g=(0,a.Xt)(y).boardlessPinsEnabled,v="quick_saves"===n.layout&&g,b="quick_creates"===n.layout;return(0,s.jsx)(r.Fragment,{children:d?(0,s.jsxs)(i.xu,{direction:"column",display:"flex",justifyContent:"between",paddingY:3,children:[(0,s.jsx)(i.xu,{paddingY:2,children:(0,s.jsx)(i.__,{htmlFor:"BoardPicker",children:(0,s.jsx)(i.xv,{size:"100",children:h._('Board', 'editPinModal.editBoard.optionalBoardLabel', 'Label for board dropdown to select optional board')})})}),(0,s.jsxs)(i.xu,{"data-test-id":"edit-board",children:[!c&&(0,s.jsx)(l.Z,{board:n,isBoardlessPinsBoard:v,isQuickCreatesBoard:b,isStoryPin:d,onBoardChosen:f,onBoardCreate:m}),c&&(0,s.jsx)(i.xu,{paddingX:1,children:(0,s.jsx)(i.xv,{size:"300",color:"subtle",children:h._('This is an ad-only Pin. It can\u2019t be moved out of the ad-only Pins board.', 'editPinModal.editBoard.adsOnlyPinText', 'Displays when a pin is ads-only, preventing movement of pin from the board')})})]})]}):(0,s.jsxs)(i.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[(0,s.jsx)(i.xu,{column:12,mdColumn:3,paddingY:2,children:(0,s.jsx)(i.__,{htmlFor:"BoardPicker",children:(0,s.jsx)(i.xv,{size:"200",children:p?h._('Organize to a board (optional)', 'editPinModal.editBoard.optionalBoardLabel', 'Label for board dropdown to select optional board'):h._('Board', ' - ', ' -- ')})})}),u&&(0,s.jsxs)(i.xu,{column:12,mdColumn:8,"data-test-id":"edit-board",children:[!c&&(0,s.jsx)(l.Z,{board:n,isBoardlessPinsBoard:v,isQuickCreatesBoard:b,onBoardChosen:f,onBoardCreate:m}),c&&(0,s.jsx)(i.xu,{paddingX:1,children:(0,s.jsx)(i.xv,{size:"300",color:"subtle",children:h._('This is an ad-only Pin. It can\u2019t be moved out of the ad-only Pins board.', 'editPinModal.editBoard.adsOnlyPinText', 'Displays when a pin is ads-only, preventing movement of pin from the board')})})]}),!u&&n.name&&(0,s.jsx)(i.xu,{column:12,mdColumn:8,paddingY:2,children:(0,s.jsx)(i.xv,{size:"200",weight:"bold",children:n.name})})]})})}},638767:function(e,t,n){"use strict";var r=n(76911),i=n(908390),o=n(407043),a=n(579014),l=n(858472),s=n(215292),u=n(857752),c=n(43898),d=n(515198);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(_,e);var t,n,o,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=v(_);if(t){var r=v(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function _(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,_);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return b(g(e=f.call.apply(f,[this].concat(n))),"state",{focused:!1}),b(g(e),"suggestionAnchorRef",(0,r.createRef)()),b(g(e),"handleBlur",function(t){e.setState({focused:!1});var n=e.props.onBlur;n&&n(t)}),b(g(e),"handleFocus",function(){e.setState({focused:!0});var t=e.props.onFocus;t&&t()}),b(g(e),"handleChange",function(t){var n=t.text,r=t.mentions;e.props.onDescriptionChange({value:n,userMentionTags:r})}),e}return n=[{key:"render",value:function(){var e=this,t=this.props,n=t.canAddUserMentionTags,o=t.canEdit,p=t.description,f=t.errorMessage,y=t.initialMentions,h=t.isStoryPin,g=t.label,v=t.onDescriptionChange,b=t.placeholder,_=t.warningMessage,x={__style:m({},this.state.focused?{boxShadow:"0 0 0 3px #92c2fb"}:{})};return(0,d.jsx)(r.Fragment,{children:h?(0,d.jsxs)(i.xu,{direction:"column",display:"flex",paddingY:3,children:[(0,d.jsx)(i.xu,{paddingY:2,children:(0,d.jsx)(i.__,{htmlFor:"DescriptionField",children:(0,d.jsx)(i.xv,{size:"100",children:g})})}),(0,d.jsx)(s.q,{children:function(t){var n=t.focused,o=t.hovered,s=t.onBlur,m=t.onFocus,h=t.onMouseEnter,g=t.onMouseLeave,v=a.iX;return v=f?a.op:v,v=o||n?l.Xn:v,(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(i.iP,{onBlur:s,onFocus:function(){var t;null===(t=e.suggestionAnchorRef.current)||void 0===t||t.focus(),m()},onMouseEnter:h,onMouseLeave:g,fullHeight:!0,children:(0,d.jsx)(i.xu,{borderStyle:"lg",dangerouslySetInlineStyle:{__style:{borderColor:v,outline:n?"4px solid #0084ff80":""}},minHeight:"104px",flex:"grow",paddingY:4,rounding:4,children:(0,d.jsx)(u.Z,{editorRef:e.suggestionAnchorRef,hasEmojiEntryPoint:!1,initialMentions:y,initialText:p,onAddMention:function(){e.props.logContextEvent({event_type:8905,element:116,view_type:94,aux_data:{tag_type:1}})},onBlur:e.handleBlur,onChange:e.handleChange,onFocus:e.handleFocus,onSearchMentionCancel:function(){e.props.logContextEvent({event_type:8908,element:116,view_type:94,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:function(){e.props.logContextEvent({event_type:8907,element:116,view_type:94,aux_data:{tag_type:1}})},maxSuggestions:4,placeholder:b})})}),(!!f||!!_)&&(0,d.jsx)(c.Z,{errorMessage:f||_,errorMessageColor:f?"error":"warning",htmlFor:"editor-with-mentions",icon:(0,d.jsx)(i.qb,{type:f?"problem":"warning"})})]})}})]}):(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(i.iz,{}),(0,d.jsxs)(i.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[(0,d.jsx)(i.xu,{column:12,mdColumn:3,paddingY:2,children:(0,d.jsx)(i.__,{htmlFor:"DescriptionField",children:(0,d.jsx)(i.xv,{size:"200",children:g})})}),o?(0,d.jsxs)(i.xu,{column:12,mdColumn:8,children:[(0,d.jsx)(i.xu,{children:n?(0,d.jsx)(i.xu,{borderStyle:"lg",dangerouslySetInlineStyle:x,id:"DescriptionField",minHeight:48,paddingX:2,paddingY:4,ref:this.suggestionAnchorRef,role:"textbox",rounding:4,children:(0,d.jsx)(u.Z,{initialMentions:y,initialText:p,onAddMention:function(){e.props.logContextEvent({event_type:8905,element:116,aux_data:{tag_type:1}})},onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,onSearchMentionCancel:function(){e.props.logContextEvent({event_type:8908,element:116,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:function(){e.props.logContextEvent({event_type:8907,element:116,aux_data:{tag_type:1}})},maxSuggestions:4,placeholder:b})}):(0,d.jsx)(i.Kx,{id:"DescriptionField",placeholder:b,value:p,onChange:function(e){v({value:e.value,userMentionTags:[]})},hasError:(f||"").length>0})}),!!f&&(0,d.jsx)(i.xu,{children:(0,d.jsx)(c.Z,{errorMessage:f,htmlFor:"pin-edit-description"})})]}):(0,d.jsx)(i.xu,{column:12,mdColumn:8,paddingY:2,children:(0,d.jsx)(i.xv,{size:"200",weight:"bold",children:p})})]})]})})}}],y(_.prototype,n),o&&y(_,o),Object.defineProperty(_,"prototype",{writable:!1}),_}(r.Component);t.Z=function(e){var t=(0,o.v)().logContextEvent;return(0,d.jsx)(x,m(m({},e),{},{logContextEvent:t}))}},563996:function(e,t,n){"use strict";n.d(t,{ZP:function(){return eX},Tr:function(){return eY},aU:function(){return eG}});var r,i=n(76911),o=n(506979),a=n(908390),l=n(214494),s=n(545198),u=n(400669),c=n(827896),d=n(41861),p=n(27255),f=n(407043),m=n(594736),y=n(121151),h=n(898781),g=n(299295),v=n(773285),b=n(780280),_=n(414327),x=n(784590),P=n(947599),S=n(223815),j=n(19121),w=n(134906),O=n(717615),A=n(231947),k=n(916062),C=n(977558),D=n(825067),E=n(254176),I=n(678638),T=n(956800),R=n(563339),F=n(482567),L=n(90326),z=n(492583),M=n(515198),B=function(e){var t=e.isAdsOnlyPin,n=e.isStoryPin,r=(0,h.ZP)();return(0,M.jsx)(a.xu,{children:n?(0,M.jsxs)(a.xu,{display:"flex",paddingY:2,children:[(0,M.jsx)(a.rs,{disabled:!0,id:"ads-only-pin-status-switch",onChange:function(){},switched:t}),(0,M.jsxs)(a.xu,{alignItems:"stretch",display:"flex",direction:"column",justifyContent:"start",paddingX:2,children:[(0,M.jsx)(a.xu,{marginBottom:2,children:(0,M.jsx)(a.xv,{children:r._('Ad-only', 'Text for ad-only status on a pin in pin edit form', 'editPinModal.adsOnlySwitch.columnText')})}),(0,M.jsx)(a.xu,{"data-test-id":"ads-only-pin-switch",children:(0,M.jsx)(a.__,{htmlFor:"ads-only-pin-status-switch",children:(0,M.jsx)(a.xv,{color:"subtle",size:"200",children:r._('Ad-only Pins don\'t distribute an organic Pin and can\'t be saved by people who see them.', 'Explains what an ad-only pin is in pin edit modal', 'editPinModal.adsOnlySwitch.labelText')})})})]})]}):(0,M.jsxs)(i.Fragment,{children:[(0,M.jsx)(a.iz,{}),(0,M.jsxs)(a.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:6,children:[(0,M.jsx)(a.xu,{column:12,mdColumn:3,paddingY:2,children:(0,M.jsx)(a.xv,{size:"200",children:r._('Ad-only', 'Text for ad-only status on a pin in pin edit form', 'editPinModal.adsOnlySwitch.columnText')})}),(0,M.jsx)(a.xu,{column:12,mdColumn:8,children:(0,M.jsxs)(a.xu,{alignItems:"center","data-test-id":"ads-only-pin-switch",display:"flex",paddingY:1,children:[(0,M.jsx)(a.rs,{disabled:!0,id:"ads-only-pin-status-switch",onChange:function(){},switched:t}),(0,M.jsx)(a.xu,{paddingX:2,children:(0,M.jsx)(a.__,{htmlFor:"ads-only-pin-status-switch",children:(0,M.jsx)(a.xv,{size:"200",color:"subtle",children:r._('Ad-only Pins don\u2019t distribute an organic Pin and can\u2019t be saved by people who see them.', 'Explains what an ad-only pin is in pin edit modal', 'editPinModal.adsOnlySwitch.labelText')})})})]})})]})]})})},N=n(174709),Z=n(766119),U=n(375322),K=n(976582);function H(e){var t=e.commentsDisabled,n=e.isStoryPin,r=e.isManagedView,l=e.isNoTitle,s=e.isUnsafeForComments,u=e.onCommentChange,c=e.onPhotoChange,d=e.photosDisabled,p=(0,h.ZP)(),f=(0,j.Z)(),m=f.isAuth?f.id:"",y=(0,o.useSelector)(function(e){return e.users[m]}).should_default_comments_off,g=s||y;return(0,M.jsx)(a.xu,{children:n?(0,M.jsxs)(a.xu,{display:"flex",alignItems:y&&!s?"start":"center",paddingY:2,children:[(0,M.jsx)(a.rs,{disabled:g,id:"CommentSwitch",onChange:u,switched:!t}),(0,M.jsxs)(a.xu,{"data-test-id":"allow-comments-switch",direction:"column",display:"flex",paddingX:2,children:[(0,M.jsxs)(a.__,{htmlFor:"CommentSwitch",children:[(0,M.jsx)(a.xv,{color:g?"subtle":"default",children:p._('Allow people to comment', 'Label for toggling comments on a pin in pin edit form', 'Label for toggling comments on a pin in pin edit form')}),y&&!s&&(0,M.jsx)(K.Z,{})]}),s&&(0,M.jsx)(a.xu,{marginTop:2,children:(0,M.jsx)(a.xv,{size:"200",children:p._('Comments are unavailable for this Pin', 'ideaPin.editor.commentsUnavailable', 'Text indicating comments are unavailable')})})]})]}):(0,M.jsxs)(i.Fragment,{children:[!l&&(0,M.jsx)(a.iz,{}),(0,M.jsxs)(a.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:r?0:4,paddingY:r?6:l?0:3,children:[!r&&!l&&(0,M.jsx)(a.xu,{column:12,mdColumn:3,paddingY:2,children:(0,M.jsx)(a.xv,{size:"200",children:p._('Comment Permissions', 'Label for comments setting on a pin in pin edit form', 'Label for comments setting on a pin in pin edit form')})}),(0,M.jsxs)(a.xu,{column:12,mdColumn:r?12:8,children:[(0,M.jsxs)(a.xu,{paddingY:1,display:"flex",alignItems:y&&!s?"start":"center","data-test-id":"allow-comments-switch",children:[(0,M.jsx)(a.rs,{disabled:g,onChange:u,id:"CommentSwitch",switched:!t}),(0,M.jsx)(a.xu,{paddingX:2,children:(0,M.jsxs)(a.__,{htmlFor:"CommentSwitch",children:[(0,M.jsx)(a.xv,{color:g?"subtle":"default",size:"200",children:p._('Allow people to comment', 'Label for toggling comments on a pin in pin edit form', 'Label for toggling comments on a pin in pin edit form')}),y&&!s&&(0,M.jsx)(K.Z,{})]})})]}),s&&(0,M.jsx)(a.xu,{marginTop:2,children:(0,M.jsx)(a.xv,{size:"200",children:p._('Comments are unavailable for this Pin.', 'ideaPin.editor.commentsUnavailable', 'Text indicating comments are unavailable')})}),c&&(0,M.jsxs)(a.xu,{paddingY:1,alignItems:"center",display:"flex",children:[(0,M.jsx)(a.rs,{onChange:c,id:"PhotoSwitch",switched:!d}),(0,M.jsx)(a.xu,{paddingX:2,children:(0,M.jsx)(a.__,{htmlFor:"PhotoSwitch",children:(0,M.jsx)(a.xv,{size:"200",children:p._('Allow people to upload photos', 'Label for toggling photos on a pin in pin edit form', 'Label for toggling photos on a pin in pin edit form')})})})]})]})]})]})})}var V=n(499128),G=n(343341),W=n(274495);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach(function(t){et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,en(r.key),r)}}function Q(e,t){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function J(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t,n){return(t=en(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function en(e){var t=function(e,t){if("object"!==q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==q(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===q(t)?t:String(t)}var er=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=ee(o);if(t){var r=ee(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return J(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return et(J(e=i.call.apply(i,[this].concat(n))),"state",{deleting:!1}),et(J(e),"unmounted",!1),et(J(e),"handleConfirm",function(){if(!e.state.deleting){var t=e.props.onDeletePin;e.setState({deleting:!0}),t().then(function(){return e.handleDeleteDidComplete()}).catch(function(t){return e.handleDeleteDidComplete(t)})}}),et(J(e),"handleDeleteDidComplete",function(t){var n=e.props.toastManagerContext;e.unmounted||e.setState({deleting:!1}),t||n.showToast(function(t){var n=t.hideToast;return(0,M.jsx)(V.ZP,{onHide:n,text:e.props.i18n._('Pin deleted!', 'User deleted their pin', 'User deleted their pin')})})}),e}return n=[{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.onDismiss,r=e.showStoryPinCreatorDeleteMessage,i=this.state.deleting;return(0,M.jsx)(y.ZP,{heading:t._('Are you sure?', 'Confirm the user wants to delete the pin', 'Confirm the user wants to delete the pin'),accessibilityModalLabel:t._('Are you sure you want to delete this pin?', 'Accessible label to confirm the user wants to delete the pin', 'Accessible label to confirm the user wants to delete the pin'),size:"sm",onDismiss:n,footer:(0,M.jsxs)(a.xu,{display:"flex",justifyContent:"center",marginStart:-1,marginEnd:-1,children:[(0,M.jsx)(a.xu,{paddingX:1,children:(0,M.jsx)(a.zx,{fullWidth:!0,onClick:n,text:t._('Cancel', ' - ', ' -- ')})}),(0,M.jsx)(a.xu,{paddingX:1,children:(0,M.jsx)(a.xu,{"data-test-id":"confirm-delete-pin",children:(0,M.jsx)(W.Z,{onClick:this.handleConfirm,text:t._('Delete', 'PinEditModal.DeletePinConfirmation.DeleteButton', 'Delete button to delete a Pin'),submitting:i})})})]}),children:(0,M.jsx)(a.xu,{padding:4,display:"flex",justifyContent:"center",children:(0,M.jsx)(a.xv,{children:r?t._('If you delete this Pin, it\'ll be gone for good and those who\'ve saved it won\'t be able to view it.', 'PinEditModal.DeletePinConfirmation', 'Confirmation to delete a Pin that lets the creator know it will be unavailable to other Pinners who have saved it'):t._('Once you delete a Pin, you can\'t undo it!', ' - ', ' -- ')})})})}}],$(o.prototype,n),r&&$(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(i.PureComponent);function ei(e){var t=(0,h.ZP)();return(0,M.jsx)(er,X(X({},e),{},{i18n:t,toastManagerContext:(0,G.F9)()}))}function eo(e){var t=e.canEdit,n=e.onAltTextChange,r=e.altText,o=(0,h.ZP)();return(0,M.jsxs)(i.Fragment,{children:[(0,M.jsx)(a.iz,{}),(0,M.jsxs)(a.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[(0,M.jsx)(a.xu,{column:12,mdColumn:3,paddingY:2,children:(0,M.jsx)(a.__,{htmlFor:"AltTextField",children:(0,M.jsx)(a.xv,{size:"200",children:o._('Alt text', 'EditPinModal.EditAltText', 'Label for editing alt text of pin')})})}),(0,M.jsx)(a.xu,{column:12,mdColumn:8,children:t?(0,M.jsxs)(i.Fragment,{children:[(0,M.jsx)(a.xu,{children:(0,M.jsx)(a.nv,{id:"AltTextField",onChange:function(e){return n({value:e.value.slice(0,500)})},size:"lg",value:r||""})}),(0,M.jsx)(a.xu,{children:(0,M.jsx)(a.__,{htmlFor:"AltTextField",children:(0,M.jsx)(a.xu,{marginTop:1,children:(0,M.jsx)(a.xv,{size:"200",color:"subtle",children:o._('This helps people using screen readers understand what your Pin is about.', 'EditPinModal.EditAltText', 'Label for editing alt text of pin')})})})})]}):(0,M.jsx)(a.xu,{column:12,mdColumn:8,paddingY:2,children:(0,M.jsx)(a.xv,{size:"200",weight:"bold",children:r})})})]})]})}var ea=n(998744),el=n(638767);function es(e){var t=e.onDismiss,n=e.handleConfirmClick,r=(0,h.ZP)();return(0,M.jsx)(y.ZP,{accessibilityModalLabel:r._('Heads up!', 'editPinModal.editLinkConfirmation.accessibility.heading', 'Accessibility label for heading of edit link confirmation modal'),align:"start",footer:(0,M.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,M.jsx)(a.xu,{paddingX:1,children:(0,M.jsx)(a.zx,{fullWidth:!0,onClick:t,text:r._('Cancel', 'editPinModal.editLinkConfirmation.cancelButton', 'Cancel button to dismiss the modal')})}),(0,M.jsx)(a.xu,{paddingX:1,children:(0,M.jsx)(a.xu,{"data-test-id":"confirm-delete-pin",children:(0,M.jsx)(a.zx,{color:"red",onClick:n,type:"submit",text:r._('Save', 'editPinModal.editLinkConfirmation.saveButton', 'Save button to save changes to the Idea Pin')})})})]}),heading:r._('Heads up!', 'editPinModal.editLinkConfirmation.heading', 'Title heading for edit link confirmation'),onDismiss:t,size:"sm",children:(0,M.jsx)(a.xu,{display:"flex",justifyContent:"center",padding:6,children:(0,M.jsx)(a.xv,{children:r._('If you edit this link, any engagement metrics associated with it will be lost.', 'editPinModal.editLinkConfirmation.body', 'Confirmation that editing the link resets engagement metrics')})})})}var eu=n(356725),ec=n(239062),ed=n(415940);function ep(e){var t,n,r,i,o,l=e.isCarousel,s=e.onMouseEnter,u=e.onMouseLeave,c=e.shouldShowCarouselSliders,d=e.onCarouselSlide,p=e.currentIndex,f=e.carouselData,m=e.pinId,y=e.description,h=e.image,g=void 0===h?{}:h;return(0,M.jsxs)(a.xu,{paddingX:4,paddingY:3,children:[l&&(t=f&&f.carousel_slots&&f.carousel_slots.length||1)>=2&&(0,M.jsx)(a.xu,{padding:2,children:(0,M.jsx)(a.__,{htmlFor:"CardsIndex",children:(0,M.jsxs)(a.xv,{size:"200",children:[p+1,"/",t]})})}),(0,M.jsx)(a.zd,{width:236,children:(0,M.jsxs)(a.xu,{onMouseEnter:s,onMouseLeave:u,children:[(0,M.jsxs)(a.zd,{rounding:2,wash:!0,children:[l&&c&&(0,M.jsx)(a.xu,{display:"inlineBlock",height:"100%",position:"absolute",width:"100%",zIndex:new a.Ry(10),dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.3)"}},children:(0,M.jsx)(ec.default,{handleCarouselSwipe:d,carouselIndex:p,carouselData:f&&{carouselSlots:null===(n=f.carousel_slots)||void 0===n?void 0:n.map(function(e){return{id:e.id,title:e.title}}),entityId:null!==(r=f.id)&&void 0!==r?r:"",index:f.index},pinKey:{type:"deprecated",data:m},isEditMode:!0})}),l?(0,M.jsx)(ed.Z,{carouselIndex:p,isCloseup:!1,pinId:m,isEditMode:!0,pinKey:null}):(0,M.jsx)(a.Ee,{alt:y,color:"#efefef",naturalHeight:g.height,src:g.url,naturalWidth:g.width})]}),l&&(0,M.jsx)(eu.default,{carouselIndex:p,carouselData:f&&{carouselSlots:null===(i=f.carousel_slots)||void 0===i?void 0:i.map(function(e){return{id:e.id,title:e.title}}),entityId:null!==(o=f.id)&&void 0!==o?o:"",index:f.index},pinKey:{type:"deprecated",data:m},handleCarouselSwipe:d,isEditMode:!0,variant:"legacy"})]})})]})}var ef=n(43898);function em(e){var t=e.apiErrorMessage,n=e.shouldShowGenericUpdateError,r=e.onClickDeleteButton,i=e.disableDelete,o=e.onHide,l=e.shouldDisableSave,s=e.triggerBoardAndSectionCreate,u=(0,h.ZP)();return(0,M.jsxs)(a.xu,{display:"flex",justifyContent:"between",marginStart:-1,marginEnd:-1,children:[(0,M.jsx)(a.xu,{"data-test-id":"delete-pin-button",children:(0,M.jsx)(a.zx,{fullWidth:!0,text:u._('Delete', 'EditPinModal.EditPinFooter.Delete', 'delete pin'),onClick:r,disabled:i})}),n&&(0,M.jsx)(a.xu,{display:"flex",marginStart:2,marginTop:2,justifyContent:"center",children:(0,M.jsx)(ef.Z,{errorMessage:t||u._('Sorry! There was an error editing your Pin.', 'EditPinModal.EditPinFooter.ErrorMessageToast', 'Toast for pin edit error'),htmlFor:"pin-edit-generic-error"})}),(0,M.jsxs)(a.xu,{display:"flex",justifyContent:"between",marginStart:-2,marginEnd:-2,children:[(0,M.jsx)(a.xu,{paddingX:2,children:(0,M.jsx)(a.zx,{fullWidth:!0,text:u._('Cancel', 'EditPinModal.EditPinFooter.Cancel', 'cancel changes'),onClick:o})}),(0,M.jsx)(a.xu,{paddingX:2,"data-test-id":"edit-pin-save",children:(0,M.jsx)(a.zx,{fullWidth:!0,text:u._('Save', 'EditPinModal.EditPinFooter.Save', 'save changes'),color:"red",onClick:s,disabled:l})})]})]})}function ey(e){var t=e.pinNoteText,n=e.isCollaborative,r=e.onPinNoteChange,o=(0,h.ZP)();return(0,M.jsxs)(i.Fragment,{children:[(0,M.jsx)(a.iz,{}),(0,M.jsxs)(a.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[(0,M.jsx)(a.xu,{column:12,mdColumn:3,paddingY:2,children:(0,M.jsx)(a.__,{htmlFor:"PinNoteField",children:(0,M.jsx)(a.xv,{size:"200",children:n?o._('Note to group', 'editPinModal.editPinNote.groupTitle', 'Label for editing private note on group Pin'):o._('Note to self', 'editPinModal.editPinNote.title', 'Label for editing private note on Pin')})})}),(0,M.jsx)(a.xu,{column:12,mdColumn:8,paddingY:2,"data-test-id":"note-to-self-input",children:(0,M.jsx)(a.Kx,{errorMessage:t.length>=500?o._('Character limit reached', 'editPinModal.editPinNote.warningText', 'Text to inform user they have reached the length limit on Pin note'):void 0,id:"PinNoteField",onChange:r,placeholder:n?o._('Add a group note to remember your ideas about this Pin', 'editPinModal.editPinNote.placeholderGroupText', 'Placeholder for editing group note'):o._('Add a private note to remember your ideas about this Pin', 'editPinModal.editPinNote.placeholderText', 'Placeholder for editing private note'),value:t})})]})]})}var eh=n(381595),eg=n(268883),ev=n(299335),eb=n(947729),e_=n(704217),ex=n(237056);function eP(){var e=(0,h.ZP)(),t=(0,ex.Z)();return(0,M.jsx)(a.xv,{size:"200",children:t?e._('Shopping recommendations aren\u2019t available for Idea ads and Pins with tagged products or paid partnership label', 'ideaPin.editor.tagged.unavailable', 'Explanation about how stela on idea pins with tagged products arent available'):e._('Shopping recommendations aren\'t available for Idea ads and Idea Pins with product tags or paid partnership label', 'ideaPin.editor.tagged.unavailable', 'Explanation about how stela on idea pins with tagged products arent available')})}function eS(){var e=(0,h.ZP)(),t=(0,ex.Z)();return(0,M.jsx)(a.xv,{size:"200",children:t?e._('People can shop products similar to what\'s shown in this Pin using visual search', 'ideaPin.editor.enable.sce', 'Text indicating shopping recommendations are currently enabled'):e._('People can shop products similar to what\'s shown in this Idea Pin using visual search', 'ideaPin.editor.enable', 'Text indicating shopping recommendations are currently enabled')})}function ej(e){var t=e.children,n=(0,h.ZP)();return(0,M.jsxs)(a.xv,{color:"subtle",size:"200",children:[n._('You\'ve disabled shopping recommendations for your profile', 'ideaPin.editor.disable', 'Text indicating shopping recommendations are currently disabled'),t]})}function ew(e){var t=e.hasTaggedProductPins,n=e.ipStelaRecDisabled,r=e.onShoppingRecChange,o=e.shoppingRecDisabled,l=(0,h.ZP)();return(0,M.jsx)(i.Fragment,{children:(0,M.jsxs)(a.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,children:[(0,M.jsx)(a.xu,{column:12,mdColumn:3,paddingY:2,children:(0,M.jsx)(a.xv,{size:"200",children:l._('Shopping recommendations', 'Heading for shopping recommendations permissions', 'shopping.recommendations')})}),(0,M.jsx)(a.xu,{column:12,mdColumn:8,children:(0,M.jsxs)(a.xu,{paddingY:1,display:"flex",alignItems:"start",children:[(0,M.jsx)(a.rs,{onChange:r,id:"PhotoSwitch",switched:!o,disabled:n||t}),(0,M.jsx)(a.xu,{paddingX:2,children:(0,M.jsx)(a.__,{htmlFor:"stelaSwitch",children:(0,M.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,M.jsx)(a.xv,{size:"200",color:n?"subtle":"default",children:l._('Show similar products ', 'Label to toggle similar products on ideal pin', 'ideaPin.stela.toggle')}),n?(0,M.jsx)(ej,{children:(0,M.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",color:"subtle",children:(0,M.jsx)(a.rU,{display:"inlineBlock",href:"https://www.pinterest.com/settings/permissions",target:"blank",rel:"nofollow",underline:"hover",children:l._('Edit profile settings', 'Link to the settings page to enable shopping recommendations on idea pins', 'ideaPin.link')})})}):(0,M.jsxs)(a.xu,{display:"flex",direction:"column",marginTop:1,children:[(0,M.jsx)(a.xu,{marginBottom:1,children:(0,M.jsx)(eS,{})}),(0,M.jsx)(eP,{})]})]})})})]})})]})})}function eO(e){var t=e.hasTaggedProductPins,n=e.ipStelaRecDisabled,r=e.onShoppingRecChange,o=e.shoppingRecDisabled,l=(0,h.ZP)(),s=(0,ex.Z)();return(0,M.jsx)(i.Fragment,{children:(0,M.jsxs)(a.xu,{display:"flex",paddingY:2,children:[(0,M.jsx)(a.rs,{onChange:r,id:"stelaSwitch",switched:!o,disabled:n||t}),(0,M.jsx)(a.xu,{paddingX:2,children:(0,M.jsx)(a.kC,{alignItems:"start",justifyContent:"start",children:(0,M.jsx)(a.__,{htmlFor:"stelaSwitch",children:(0,M.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,M.jsx)(a.xu,{marginBottom:2,children:(0,M.jsx)(a.xv,{children:s?l._('Show similar products', 'shopping.editor.recommendations.sce', 'Heading for shopping recommendations permissions'):l._('Show shopping recommendations', 'shopping.editor.recommendations', 'Heading for shopping recommendations permissions')})}),n?(0,M.jsxs)(i.Fragment,{children:[(0,M.jsx)(a.xv,{color:"subtle",size:"200",children:(0,M.jsx)(ej,{})}),(0,M.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",color:"subtle",children:(0,M.jsx)(a.rU,{display:"inlineBlock",href:"/settings/permissions",underline:"hover",children:l._('Edit profile settings', 'ideaPin.editor.link', 'Link to the settings page to enable shopping recommendations on idea pins')})})]}):(0,M.jsxs)(a.xu,{display:"flex",direction:"column",marginTop:1,children:[(0,M.jsx)(a.xu,{marginBottom:1,children:(0,M.jsx)(eS,{})}),(0,M.jsx)(eP,{})]})]})})})})]})})}var eA=void 0!==r?r:r=n(667719);function ek(e){var t,n,r=e.isStoryPin,i=e.onShoppingRecChange,o=e.shoppingRecDisabled,a=e.storyPinData,l=(0,e_.useLazyLoadQuery)(eA,{});if(!l)return null;var s=(a||{}).has_product_pins,u=null===(t=l.v3GetCurrentUserHandlerQuery)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.ipStelaRecDisabled,c=r?eO:ew;return(0,M.jsx)(c,{onShoppingRecChange:i,shoppingRecDisabled:!!o,ipStelaRecDisabled:!!u,hasTaggedProductPins:!!s})}function eC(e){var t=e.shoppingRecDisabled,n=e.onShoppingRecChange,r=e.isNoTitle,o=(0,h.ZP)(),l=(0,ex.Z)();return(0,M.jsxs)(i.Fragment,{children:[!r&&(0,M.jsx)(a.iz,{}),(0,M.jsxs)(a.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:r?0:3,children:[!r&&(0,M.jsx)(a.xu,{column:12,mdColumn:3,paddingY:2,children:(0,M.jsx)(a.xv,{size:"200",children:o._('Recommendations', 'EditPinModal.recommendations', 'Title of a section in the edit pin modal to manage recommendations on a specific pin.')})}),(0,M.jsx)(a.xu,{column:12,mdColumn:8,children:(0,M.jsxs)(a.xu,{paddingY:1,display:"flex",alignItems:"center",children:[(0,M.jsx)(a.rs,{onChange:n,id:"ShoppingRecSwitch",switched:!t}),(0,M.jsx)(a.xu,{paddingX:2,children:(0,M.jsx)(a.__,{htmlFor:"ShoppingRecSwitch",children:(0,M.jsx)(a.xv,{size:"200",children:l?o._('Show similar products', 'EditPinModal.recommendations.showShoppingRecommendations.label.sce', 'Label for toggling showing similar products on a specific pin.'):o._('Show shopping recommendations', 'EditPinModal.recommendations.showShoppingRecommendations.label', 'Label for toggling showing shopping recommendations on a specific pin.')})})})]})})]})]})}var eD=n(597830),eE=n(146754),eI=n(77675);function eT(e){var t=e.apiErrorMessage,n=e.disableDelete,r=e.onClickDeleteButton,i=e.shouldDisableSave,o=e.shouldShowGenericUpdateError,l=e.triggerBoardAndSectionCreate,s=(0,h.ZP)();return(0,M.jsxs)(a.kC,{justifyContent:"end",children:[o&&(0,M.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",width:"60%",children:(0,M.jsx)(ef.Z,{errorMessage:t||s._('Sorry! There was an error editing your Pin.', 'EditPinModal.EditPinFooter.ErrorMessageToast', 'Toast for pin edit error'),htmlFor:"pin-edit-generic-error"})}),(0,M.jsxs)(a.hE,{children:[(0,M.jsx)(a.xu,{"data-test-id":"delete-pin-button",children:(0,M.jsx)(a.zx,{color:"gray",disabled:n,onClick:r,size:"lg",text:s._('Delete', 'ideaPinCloseup.editPinSheet.deletePinButton', 'Button to delete the Idea Pin')})}),(0,M.jsx)(a.zx,{color:"red",disabled:i,onClick:l,size:"lg",text:s._('Save', 'ideaPinCloseup.editPinSheet.savePinButton', 'Button to apply the edited changes to an Idea Pin')})]})]})}var eR=n(259608),eF=n(251557);function eL(e){return(eL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ez(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ez(Object(n),!0).forEach(function(t){eK(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ez(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eH(r.key),r)}}function eN(e,t){return(eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eZ(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eU(e){return(eU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eK(e,t,n){return(t=eH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eH(e){var t=function(e,t){if("object"!==eL(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eL(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eL(t)?t:String(t)}function eV(e){return!!(e&&e.trim().length)}function eG(e,t){var n=eV(e),r=eV(t);return(n||r)&&e!==t}var eW=new a.H3([new a.Ry(C.fe)]),eq=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eN(e,t)}(c,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=eU(c);if(t){var r=eU(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===eL(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eZ(e)}(this,e)});function c(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c);for(var e,t,n,r,i,a,s,u,f,y,h,v,b,_,x,P,S,j,O,k,C,D,R,F,L,M,B,N=arguments.length,Z=Array(N),U=0;U<N;U++)Z[U]=arguments[U];return eK(eZ(B=o.call.apply(o,[this].concat(Z))),"state",{altText:(null===(e=B.props.pinResource.data)||void 0===e?void 0:e.alt_text)||"",apiErrorMessage:null,board:(null===(t=B.props.pinResource.data)||void 0===t?void 0:t.board)||null,commentsDisabled:(null===(n=B.props.pinResource.data)||void 0===n?void 0:n.is_unsafe_for_comments)||(null===(r=B.props.pinResource.data)||void 0===r?void 0:r.comments_disabled)||(null===(i=B.props.pinResource.data)||void 0===i?void 0:i.did_it_disabled)||!1,description:(null===(a=B.props.pinResource.data)||void 0===a?void 0:null===(s=a.description)||void 0===s?void 0:s.trim())||"",ideaPinDetails:B.props.isStoryPin?(0,eE.Z)(null===(u=B.props.pinResource.data)||void 0===u?void 0:null===(f=u.story_pin_data)||void 0===f?void 0:f.metadata):{},isEditLinkConfirmed:!1,link:(null===(y=B.props.pinResource.data)||void 0===y?void 0:y.link)||"",pinNoteText:(null===(h=B.props.pinResource.data)||void 0===h?void 0:null===(v=h.pin_note)||void 0===v?void 0:v.text)||"",sectionId:(null===(b=B.props.pinResource.data)||void 0===b?void 0:null===(_=b.section)||void 0===_?void 0:_.id)||null,sectionName:(null===(x=B.props.pinResource.data)||void 0===x?void 0:null===(P=x.section)||void 0===P?void 0:P.title)||null,showDeleteConfirmation:!1,showEditLinkConfirmation:!1,showOptions:!1,carousel_data:(null===(S=B.props.pinResource.data)||void 0===S?void 0:S.carousel_data)||null,title:(null===(j=B.props.pinResource.data)||void 0===j?void 0:j.title)||"",isLoadingPin:!B.props.pinResource.isLoaded,isProcessing:!1,currentIndex:null!==(O=null!==(k=B.props.carouselSlotCurrentIndex)&&void 0!==k?k:null===(C=B.props.pinResource.data)||void 0===C?void 0:null===(D=C.carousel_data)||void 0===D?void 0:D.index)&&void 0!==O?O:0,selectedTemplate:B.props.isStoryPin?(0,eI.Z)(null===(R=B.props.pinResource.data)||void 0===R?void 0:null===(F=R.story_pin_data)||void 0===F?void 0:F.metadata):"none",shoppingRecDisabled:null===(L=B.props.pinResource.data)||void 0===L?void 0:L.shopping_rec_disabled,shouldApplyTextToAll:!1,shouldDisableSave:!1,shouldShowCarouselSliders:!1,shouldShowValidationTitleError:!1,shouldShowValidationDescriptionError:!1,shouldShowValidationLinkFormatError:!1,shouldShowGenericUpdateError:!1,shouldShowValidationUserMentionTagsError:!1,userMentionTags:(null===(M=B.props.pinResource.data)||void 0===M?void 0:M.user_mention_tags)||[]}),eK(eZ(B),"onClickDeleteButton",function(){return B.setState({showDeleteConfirmation:!0})}),eK(eZ(B),"onHideConfirmation",function(){return B.setState({showDeleteConfirmation:!1})}),eK(eZ(B),"updateCarouselSlotIndex",function(){var e,t=B.props.carouselSlotCurrentIndex;B.setState({currentIndex:null!==(e=null!=t?t:B.props.pinResource.data&&B.props.pinResource.data.carousel_data&&B.props.pinResource.data.carousel_data.index)&&void 0!==e?e:0})}),eK(eZ(B),"handleBoardChange",function(e){var t=B.state.board.id;e.id!==t&&B.setState({board:e,sectionId:null,sectionName:null})}),eK(eZ(B),"createBoard",function(e){var t=B.props,n=t.createBoard,r=t.viewer,i=t.orbacActingAs,o=B.state.board,a=(0,A.lJ)(r,i);!o.id&&o.name&&e&&n(o.name,e,a).then(function(e){if(B._isMounted){var t=B.state,n=t.sectionId,r=t.sectionName;!n&&r?B.setState({board:e},function(){return B.createSection()}):B.setState({board:e,sectionId:null,sectionName:null},function(){return B.handleSave()})}}).catch(function(e){B.setState({shouldShowGenericUpdateError:!0,apiErrorMessage:e.message})})}),eK(eZ(B),"handleBoardCreateClick",function(e){if(e){var t={name:e,privacy:p.Z.BoardPrivacy.PUBLIC,access:"write"};B.setState({board:t,sectionId:null,sectionName:null})}}),eK(eZ(B),"createSection",function(){var e=B.state,t=e.board,n=e.sectionName,r=B.props,i=r.viewer,o=r.orbacActingAs,a=(0,A.lJ)(i,o);if(n){if(!t.id){B.createBoard();return}var l={boardId:t.id,name:n};(0,B.props.createSection)(l,a).then(function(e){B._isMounted&&B.setState({sectionId:e&&e.id||null,sectionName:e&&e.title||null},function(){B.handleSave()})}).catch(function(){B.setState({shouldShowGenericUpdateError:!0,apiErrorMessage:null})})}}),eK(eZ(B),"handleSectionCreateClick",function(e){0!==e.length&&B.state.board&&B.setState({sectionId:null,sectionName:e})}),eK(eZ(B),"handleToggleOptions",function(){B.setState(function(e){return{showOptions:!e.showOptions}})}),eK(eZ(B),"handleSectionChange",function(e){return B.setState({sectionId:e&&e.id||null,sectionName:e&&e.title||null,shouldShowGenericUpdateError:!1})}),eK(eZ(B),"handleDeletePin",function(){var e=B.props,t=e.advertiser_id,n=e.changeBoardPinCount,r=e.changeUserPinCount,i=e.dispatch,o=e.getClientTrackingParams,a=e.onDelete,s=e.onHide,u=e.orbacActingAs,c=e.pinId,d=e.pinResource.data,p=e.removeBoardlessPin,f=e.viewer,m=(0,A.lJ)(f,u),y=eM(eM(eM({},t?{advertiser_id:t}:{}),m?{orbac_subject_id:m}:Object.freeze({})),{},{id:c,client_tracking_params:o(c)});return l.Z.create("PinResource",y).callDelete().then(function(){if(B._isMounted){if(!d)return;var e=d.board,t=(e=void 0===e?{}:e).id,o=d.pinner,l=(o=void 0===o?{}:o).id,u=d.section,m=null==u?void 0:u.id;n({boardId:t,sectionId:m,increment:-1}),r({userId:l,increment:-1}),i((0,E.xQ)(t)),i((0,T.EX)({feedId:m||t,feedType:m?z.Z.BOARD_SECTION_PINS:z.Z.BOARDFEED,itemIds:[c],itemType:"pin"})),i((0,T.EX)({feedId:l,feedType:z.Z.STORY_PINS_FEED,itemIds:[c],itemType:"pin"})),i((0,T.EX)({feedId:l,feedType:z.Z.PROFILE_PINS_FEED,itemIds:[c],itemType:"pin"})),m&&i((0,I.CE)(m)),s(),a&&a()}f.id&&p(f.id,c)})}),eK(eZ(B),"handleConfirmEditLinkConfirmation",function(){B.setState({isProcessing:!1,isEditLinkConfirmed:!0},function(){B.handleSave()})}),eK(eZ(B),"handleDismissEditLinkConfirmation",function(){B.setState({isProcessing:!1,showEditLinkConfirmation:!1})}),eK(eZ(B),"sanitizeCarouselData",function(e){var t=B.state.carousel_data;if(e&&(t=e),t){var n=t.carousel_slots;if(n){var r={carousel_slots:[]};return n.forEach(function(e){var t={description:e.details||"",title:e.title||"",link:e.link||""};r.carousel_slots.push(t)}),r}}return null}),eK(eZ(B),"triggerBoardAndSectionCreate",function(e){return function(){var t=B.state,n=t.board,r=t.sectionId,i=t.sectionName;n&&!n.id&&n.name?B.createBoard(e):!r&&i?B.createSection():B.handleSave()}}),eK(eZ(B),"logPinEditEvent",function(e,t,n,r,i){var o={},a=B.props,l=a.pinId,s=a.view,u=a.viewParameter,c=B.state.userMentionTags;if(o.objectId=l,o.num_user_mention_tags=c.length,e&&(o.board_was_modified=!0),!e&&t&&(o.board_section_was_modified=!0),n){var d=B.state.description,p=i.description;o.original_pin_description=p,o.edited_pin_description=d}if(r){var f=B.state.carousel_data,m=i.carousel_data;o.original_carousel_data=JSON.stringify(B.sanitizeCarouselData(m)),o.edited_carousel_data=JSON.stringify(B.sanitizeCarouselData(f))}B.props.logContextEvent({event_type:2,component:208,view_type:s,view_parameter:u,aux_data:eM({},o)})}),eK(eZ(B),"handleSave",function(){B.setState({apiErrorMessage:null,isProcessing:!0});var e,t,n=B.props,r=n.advertiser_id,i=n.completeResourceFetch,o=n.isIdeaPinEditLinkConfirmationEnabled,a=n.invalidatePinResource,s=n.isStoryPin,u=n.onHide,c=n.orbacActingAs,d=n.pinId,p=n.pinResource.data,f=n.removeBoardlessPin,y=n.updatePinNote,h=n.viewer;if(p){var g=p.alt_text,v=p.board,b=p.carousel_data,_=p.comments_disabled,x=p.description,P=p.did_it_disabled,S=p.link,j=p.pin_note,w=p.section,O=p.shopping_rec_disabled,k=p.story_pin_data,C=p.title,D=null==j?void 0:j.text,E=(null==k?void 0:null===(e=k.metadata)||void 0===e?void 0:e.template_type)||"none",I=B.state,T=I.carousel_data,R=I.shouldShowValidationLinkFormatError;if(T){var F=B.sanitizeCarouselData();F&&(t=JSON.stringify(F))}var L=B.state,z=L.altText,M=L.board,N=L.carousel_data,Z=L.commentsDisabled,U=L.currentIndex,K=L.description,H=L.ideaPinDetails,V=L.isEditLinkConfirmed,G=L.pinNoteText,W=L.sectionId,q=L.selectedTemplate,Y=L.shoppingRecDisabled,X=L.title,$=L.userMentionTags,Q=M||v,J=s&&{idea_pin_details:H&&q&&H[q]&&JSON.stringify((0,eF.F)(H[q])),idea_pin_details_template_type:q&&(0,eD.Z)(q)},ee=R?S:B.state.link,et=(0,A.lJ)(h,c),en=eM(eM(eM({alt_text:z,board_id:null==Q?void 0:Q.id,board_section_id:W,carousel_data_json:t,description:K,disable_comments:Z,disable_did_it:Z,id:d,link:ee,shopping_rec_disabled:Y,title:X,user_mention_tags:JSON.stringify($)},r?{advertiser_id:r}:{}),et?{orbac_subject_id:et}:Object.freeze({})),s?J:{}),er=w&&w.id||null,ei=null==Q?void 0:Q.id,eo=null==v?void 0:v.id,ea=eG(g,z),el=eo!==ei,es=(!!er||!!W)&&er!==W,eu=eG(C,X),ec=eG(x,K),ed=eG(S,ee),ep=!!N&&!!b&&!(0,m.ZP)(N,b),ef=eG(D,G),em=E!==q,ey=ea||el||es||eu||ec||ef||ed||ep||_!==Z||P!==Z||O!==Y||em;if(o&&ed&&!V){B.setState({showEditLinkConfirmation:!0});return}ey?(ef&&y(d,D,G,et),l.Z.create("PinResource",en).callUpdate().then(function(e){if(B._isMounted){var t,n,r=B.props,o=r.changeBoardPinCount,l=r.onSubmit,s=r.pinId,c=r.pinMoved;(el||es)&&ei&&eo&&(c({selectedPinIds:[s],source:{boardId:eo,sectionId:er},target:{boardId:ei,sectionId:W}}),o({boardId:ei,sectionId:W||void 0,increment:1}),o({boardId:eo,sectionId:er||void 0,increment:-1}),h.id&&(null===(t=p.board)||void 0===t?void 0:t.layout)==="quick_saves"&&f(h.id,s)),l&&ei&&null!=Q&&Q.url&&l({boardId:ei,title:null!==(n=Q.name)&&void 0!==n?n:"",sectionId:W,url:Q.url}),u(),a(s,et),e.resource_response.data.carousel_data&&(e.resource_response.data.carousel_data.index=U),i(e,et),B.logPinEditEvent(el,es,ec,ep,p)}}).catch(function(){var e=B.state,t=e.shouldShowValidationTitleError,n=e.shouldShowValidationDescriptionError,r=e.shouldShowValidationLinkFormatError;B.setState({isProcessing:!1,shouldShowGenericUpdateError:!t&&!n&&!r})}).finally(function(){B.setState({showEditLinkConfirmation:!1})})):(u(),a(d,et)),B.setState({isProcessing:!1})}}),eK(eZ(B),"handleTextChanges",function(e,t){var n=B.state.carousel_data;if(n){var r=(0,d.Z)(n),i=r.carousel_slots,o=void 0===i?[]:i,a=B.state,l=a.currentIndex,s=a.shouldApplyTextToAll,u=a.description,c=a.link,p=a.title,f=B.valueIsValidForType(e,t);switch(s?o.forEach(function(n){return n[t]=e}):o[l]&&(o[l][t]=e),t){case"details":var m=0===l?e:u;B.setState({description:m,carousel_data:r||null,shouldShowValidationDescriptionError:!f,shouldShowGenericUpdateError:!1});break;case"link":var y=0===l?e:c;B.setState({link:y,carousel_data:r||null,shouldShowValidationLinkFormatError:!f,shouldShowGenericUpdateError:!1});break;case"title":var h=0===l?e:p;B.setState({title:h,carousel_data:r||null,shouldShowValidationTitleError:!f,shouldShowGenericUpdateError:!1})}}}),eK(eZ(B),"handleDescriptionChange",function(e){var t=e.userMentionTags,n=e.value,r=B.valueIsValidForType(n,"description"),i=t.length<=5;t.length<B.state.userMentionTags.length&&B.props.logContextEvent({event_type:8906,element:116,aux_data:{tag_type:1}}),B.setState({description:n,userMentionTags:t,shouldShowValidationDescriptionError:!r,shouldShowValidationUserMentionTagsError:!i,shouldShowGenericUpdateError:!1})}),eK(eZ(B),"handleCarouselDetailsChange",function(e){var t=e.value;B.handleTextChanges(t,"details")}),eK(eZ(B),"handleTitleChange",function(e){var t=e.value,n=B.valueIsValidForType(t,"title");B.setState({title:t,shouldShowValidationTitleError:!n,shouldShowGenericUpdateError:!1})}),eK(eZ(B),"handleCarouselTitleChange",function(e){var t=e.value;B.handleTextChanges(t,"title")}),eK(eZ(B),"handleAltTextChange",function(e){var t=e.value;B.setState({altText:t})}),eK(eZ(B),"valueIsValidForType",function(e,t){var n=B.props.isIdeaPinIncreasedDescriptionLengthEnabled;switch(t){case"details":case"description":return n?e.length<=g.S:e.length<=g.JO;case"link":return e.length>=0&&0===(0,w.FU)([(0,w.Jx)({message:B.props.i18n._('Not a valid url.', 'Validation error for an improperly formated url', 'Validation error for an improperly formated url')})],e).length;case"title":return e.length<=100;default:return!0}}),eK(eZ(B),"handleWebsiteChange",function(e){var t=e.value,n=B.valueIsValidForType(t,"link");B.setState({link:t,shouldDisableSave:!n,shouldShowValidationLinkFormatError:!n,shouldShowGenericUpdateError:!1})}),eK(eZ(B),"handleCarouselWebsiteChange",function(e){var t=e.value;B.handleTextChanges(t,"link")}),eK(eZ(B),"handleCommentChange",function(e){return B.setState({commentsDisabled:!e.value})}),eK(eZ(B),"handleShoppingRecChange",function(e){B.setState({shoppingRecDisabled:!e.value})}),eK(eZ(B),"handleShouldApplyToAll",function(e){if(e){var t=B.state,n=t.currentIndex,r=t.carousel_data;if(r){var i=(0,d.Z)(r),o=i.carousel_slots,a=void 0===o?[]:o,l=a[void 0===n?0:n],s=l.details,u=l.link,c=l.title;a.forEach(function(e){e.details=s,e.title=c,e.link=u}),B.setState({carousel_data:i,shouldApplyTextToAll:e})}}else B.setState({shouldApplyTextToAll:e})}),eK(eZ(B),"handleCarouselSlider",function(e){var t=B.state.carousel_data,n=t&&t.carousel_slots&&t.carousel_slots.length||1;e>=0&&e<n&&B.setState({currentIndex:e})}),eK(eZ(B),"handleMouseEnter",function(){B.setState({shouldShowCarouselSliders:!0})}),eK(eZ(B),"handleMouseLeave",function(){B.setState({shouldShowCarouselSliders:!1})}),eK(eZ(B),"handleTemplateSelect",function(e){var t=B.state.ideaPinDetails;t&&t[e]?B.setState({selectedTemplate:e}):B.setState({ideaPinDetails:eM(eM({},t),{},eK({},e,{listBlocks:[],keyValueBlocks:{}})),selectedTemplate:e})}),eK(eZ(B),"handleUpdateListBlocks",function(e){var t=B.state,n=t.ideaPinDetails,r=t.selectedTemplate;if(r&&n){var i=n[r]||{};B.setState({ideaPinDetails:eM(eM({},n),{},eK({},r,eM(eM({},i),{},{listBlocks:e})))})}}),eK(eZ(B),"handleUpdateKeyValueBlocks",function(e){var t=B.state,n=t.ideaPinDetails,r=t.selectedTemplate;if(r&&n){var i=n[r]||{};B.setState({ideaPinDetails:eM(eM({},n),{},eK({},r,eM(eM({},i),{},{keyValueBlocks:e})))})}}),B}return n=[{key:"componentDidMount",value:function(){this._isMounted=!0,this.updateCarouselSlotIndex()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.carouselSlotCurrentIndex,r=t.isStoryPin,i=t.pinResource,o=i.data,a=i.isLoaded;if(o&&a!==e.pinResource.isLoaded){var l,s=o.story_pin_data,u=o.alt_text,c=o.board,d=o.comments_disabled,p=o.did_it_disabled,f=o.description,m=o.link,y=o.pin_note,h=o.section,g=o.shopping_rec_disabled,v=o.title,b=o.user_mention_tags,_=(s||{}).metadata;this.setState({altText:u,board:c,commentsDisabled:d||p,description:f&&f.trim(),isLoadingPin:!1,ideaPinDetails:r&&_?(0,eE.Z)(_):null,link:m,pinNoteText:(null==y?void 0:y.text)||"",sectionId:(h||{}).id,sectionName:(h||{}).title,selectedTemplate:r&&_?(0,eI.Z)(_):null,title:v,carousel_data:o.carousel_data,currentIndex:null!==(l=null!=n?n:o.carousel_data&&o.carousel_data.index)&&void 0!==l?l:0,shouldApplyTextToAll:!1,userMentionTags:b||[],shoppingRecDisabled:g})}}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"getCurrentUserId",value:function(e){return e.isAuth?e.id:""}},{key:"render",value:function(){var e,t,n,r,o,l,c,d,p=this,f=this.props,m=f.disableDelete,h=f.i18n,g=f.isIdeaPinEditListsDepEnabled,v=f.isIdeaPinIncreasedDescriptionLengthEnabled,b=f.isStoryPin,_=f.isViewerBoardOwnerAndAdvertiser,x=f.onHide,j=f.orbacActingAs,w=f.pinId,O=f.pinResource,k=f.viewer,C=this.state,D=C.altText,E=C.apiErrorMessage,I=C.board,T=C.carousel_data,R=C.commentsDisabled,F=C.currentIndex,L=C.description,z=C.ideaPinDetails,K=C.isLoadingPin,V=C.isProcessing,G=C.link,W=C.pinNoteText,q=C.sectionId,Y=C.sectionName,X=C.selectedTemplate,$=C.shoppingRecDisabled,Q=C.shouldApplyTextToAll,J=C.shouldDisableSave,ee=C.shouldShowCarouselSliders,et=C.shouldShowGenericUpdateError,en=C.shouldShowValidationDescriptionError,er=C.shouldShowValidationLinkFormatError,eu=C.shouldShowValidationTitleError,ec=C.shouldShowValidationUserMentionTagsError,ed=C.showDeleteConfirmation,ef=C.showEditLinkConfirmation,e_=C.showOptions,ex=C.title,eP=C.userMentionTags,eS=O.data||{};if(!O.data)return null;var ej=(null===(n=eS.native_creator)||void 0===n?void 0:n.id)===this.getCurrentUserId(k);if(ed)return(0,M.jsx)(ei,{onDeletePin:this.handleDeletePin,onDismiss:this.onHideConfirmation,showStoryPinCreatorDeleteMessage:b&&ej});if(ef)return(0,M.jsx)(es,{handleConfirmClick:this.handleConfirmEditLinkConfirmation,onDismiss:this.handleDismissEditLinkConfirmation});var ew=!!(T&&T.carousel_slots&&T.carousel_slots.length>1),eO=T&&T.carousel_slots&&T.carousel_slots.length>0&&T.carousel_slots[F]||{},eA=eO.details,eD=void 0===eA?"":eA,eE=eO.link,eI=void 0===eE?"":eE,eF=eO.title,eL=void 0===eF?"":eF,ez=(0,A.KY)(k,I,j),eM=eS&&(eS.access||[]).includes("write")||this.props.canEdit||!!I&&(0,u.P)({action:4,board:{collaboratedByMe:I.collaborated_by_me,collaboratorPermissions:I.collaborator_permissions,owner:null!==(r=I.owner)&&void 0!==r&&r.id?{entityId:I.owner.id}:null},viewer:k})||!!I&&ez,eB=(e=(0,A.lJ)(k,j),t=p.getCurrentUserId(k),e&&(t=e),p.props.canEdit&&p.props.accountAdvertiserOwnerUserId&&(t=p.props.accountAdvertiserOwnerUserId),p.props.clientBusinessId&&(t=p.props.clientBusinessId),eM&&!eS.is_repin&&!b&&(ew||!T)&&(eS.native_creator&&eS.native_creator.id===t||ew&&eS.pinner&&eS.pinner.id===t||eS.link_domain&&eS.link_domain.official_user&&eS.link_domain.official_user.id===t||!!eS.domain&&eS.pinner&&eS.pinner.id===t&&eS.pinner.domain_url&&eS.pinner.domain_url.includes(eS.domain))),eN=eB&&!(eS.aggregated_pin_data&&eS.aggregated_pin_data.is_shop_the_look),eZ=function(){return en?b&&v?(0,s.Z)({errorType:"tooMuchText",i18n:h,isIncreasedDescriptionLengthEnabled:v}):(0,eb.MM)(ew,h):ec?(0,eb.bl)(ew,h):""},eU=eS&&eS.images&&eS.images["474x"]||{},eK=b&&!!eS.story_pin_data&&ej,eH=eB?(0,M.jsx)(eg.Z,{canEdit:eM,onTitleChange:ew?this.handleCarouselTitleChange:this.handleTitleChange,title:ew&&eL?eL:ex,errorMessage:eu?(0,eb.Y8)(ew,h):""}):null,eV=(eM||k.isAuth&&(eS.pinner||{}).id===k.id)&&eB?(0,M.jsx)(el.Z,{canAddUserMentionTags:!ew,canEdit:eM,description:(ew?eD:L)||"",errorMessage:eZ(),initialMentions:eP,label:h._('Description', 'Label for editing description', 'Label for editing description'),placeholder:h._('Tell us about this Pin...', 'Placeholder for editing description', 'Placeholder for editing description'),onDescriptionChange:ew?this.handleCarouselDetailsChange:this.handleDescriptionChange}):null,eG=(0,M.jsx)(ey,{isCollaborative:!!(null!=I&&I.is_collaborative),onPinNoteChange:function(e){var t=e.value;p.setState({pinNoteText:t})},pinNoteText:W}),eq=eN?(0,M.jsx)(ev.Z,{errorMessage:er?(0,eb.qj)(ew,h):"",link:ew&&eI?eI:G,onChangeWebsite:ew?this.handleCarouselWebsiteChange:this.handleWebsiteChange}):null,eY=ew?(0,M.jsxs)(a.xu,{display:"flex",justifyContent:"end",paddingX:4,paddingY:3,alignItems:"end",children:[(0,M.jsx)(a.xu,{paddingY:2,children:(0,M.jsx)(a.__,{htmlFor:"applyTextToAll",children:(0,M.jsx)(a.xv,{children:h._('Apply text to all', 'Apply title, description, link to all cards', 'Apply title, description, link to all cards')})})}),(0,M.jsx)(a.xu,{paddingX:2,paddingY:2,children:(0,M.jsx)(a.rs,{onChange:function(e){return p.handleShouldApplyToAll(e.value)},id:"applyTextToAll",switched:Q})})]}):null,eX=eB?(0,M.jsx)(eo,{canEdit:eM,onAltTextChange:this.handleAltTextChange,altText:D}):null,e$=eS.can_delete_did_it_and_comments?(0,M.jsx)(H,{commentsDisabled:R,isUnsafeForComments:!!eS.is_unsafe_for_comments,onCommentChange:this.handleCommentChange}):null,eQ=!k.isAuth||(null===(o=eS.pinner)||void 0===o?void 0:o.id)!==k.id||eS.is_repin||eS.story_pin_data||k.shopping_rec_disabled?null:(0,M.jsx)(eC,{shoppingRecDisabled:$,onShoppingRecChange:this.handleShoppingRecChange}),eJ=!!(0,A.lJ)(k,j),e0=(!!eJ||_)&&(0,M.jsx)(B,{isAdsOnlyPin:null===(l=this.props.pinResource.data)||void 0===l?void 0:l.promoted_is_removable}),e1=!k.secretBoardCount&&!!k.has_quicksave_board&&!!k.boardCount&&k.boardCount<2&&!eJ&&!this.props.accountAdvertiserOwnerUserId,e2=(null===(c=eS.board)||void 0===c?void 0:c.layout)==="quick_creates",e8=(0,A.Ms)(k,j),e3=z&&X&&z[X],e9=null==I?void 0:I.is_ads_only;return b&&!eS.is_repin?(0,M.jsx)(a.mh,{zIndex:eW,children:(0,M.jsx)(S.Z,{allowEsc:!0,children:(0,M.jsx)(a.To,{accessibilityDismissButtonLabel:h._('Dismiss button', 'closeup.editPinSheet.dismissButtonLabel', 'Accessibility Label for the dismiss button'),accessibilityLabel:h._('Edit Pin details', 'closeup.editPinSheet.label', 'Accessibility Label for the edit pin sheet'),footer:(0,M.jsx)(eT,{apiErrorMessage:E,onClickDeleteButton:this.onClickDeleteButton,disableDelete:!eM||m,shouldDisableSave:J,shouldShowGenericUpdateError:et,triggerBoardAndSectionCreate:this.triggerBoardAndSectionCreate(e8)}),heading:h._('Edit Pin', 'closeup.editPinSheet.title', 'Heading title for Edit Pin sheet'),onDismiss:function(){return x()},children:K||!O.isLoaded||V?(0,M.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,M.jsx)(a.$j,{show:!0,accessibilityLabel:h._('loading', 'EditPinModal.LoadingPin.Spinner', 'Accessible label for the edit pin loading icon')})}):(0,M.jsx)(a.kC,{alignItems:"stretch",justifyContent:e1?"center":"between",children:e1?null:(0,M.jsxs)(a.xu,{width:"100%",children:[(0,M.jsx)(eg.Z,{canEdit:!0,isStoryPin:!0,errorMessage:eu?(0,eb.Y8)(ew,h):"",onTitleChange:ew?this.handleCarouselTitleChange:this.handleTitleChange,title:ew&&eL?eL:ex}),(0,M.jsx)(el.Z,{canEdit:!0,isStoryPin:!0,canAddUserMentionTags:!ew,description:(ew?eD:L)||"",errorMessage:eZ(),initialMentions:eP,label:h._('Description', 'editPinModal.editDescription.labelText', 'Label for editing description'),onDescriptionChange:ew?this.handleCarouselDetailsChange:this.handleDescriptionChange,placeholder:h._('Write a detailed description for your Pin here or add a specific list below', 'editPinModal.editDescription.labelText', 'Placeholder for editing description')}),!(g&&"none"===X)&&(0,M.jsxs)(i.Fragment,{children:[(0,M.jsx)(a.xu,{paddingY:2,children:(0,M.jsx)(a.xv,{size:"100",children:h._('Details', 'storyboard.detailsList.metadataModuleSelector.title', 'Title of the idea pin metadata selector.')})}),(0,M.jsx)(eR.Z,{onSelect:this.handleTemplateSelect,selectedTemplate:X,size:"sm",viewParameter:89})]}),"recipe"===X&&(0,M.jsx)(N.Z,{handleUpdateKeyValueBlocks:this.handleUpdateKeyValueBlocks,handleUpdateListBlocks:this.handleUpdateListBlocks,metadata:e3}),"diy"===X&&(0,M.jsx)(U.Z,{handleUpdateKeyValueBlocks:this.handleUpdateKeyValueBlocks,handleUpdateListBlocks:this.handleUpdateListBlocks,metadata:e3}),"blank"===X&&(0,M.jsx)(Z.Z,{handleUpdateListBlocks:this.handleUpdateListBlocks,metadata:e3}),b&&(0,M.jsx)(ev.Z,{isStoryPin:!0,link:G,onChangeWebsite:this.handleWebsiteChange,errorMessage:er?(0,eb.qj)(!1,h):""}),(0,M.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,M.jsx)(a.xu,{column:6,marginEnd:3,children:(0,M.jsx)(ea.Z,{isStoryPin:!0,board:I||eS.board,canEdit:eM,isAdsOnlyBoard:e9,isOriginallyQuickCreatesBoard:e2,onBoardChange:this.handleBoardChange,onBoardCreate:this.handleBoardCreateClick,viewerId:k.id||""})}),(0,M.jsx)(a.xu,{column:6,marginStart:3,children:(0,M.jsx)(eh.Z,{isStoryPin:!0,board:I||eS.board,canEdit:eM,currentSection:eS.section,idealDirection:"right",onSectionCreate:this.handleSectionCreateClick,onSectionChange:this.handleSectionChange,sectionId:q,sectionName:Y})})]}),(0,M.jsx)(a.xu,{paddingY:2,children:(0,M.jsx)(a.iP,{onTap:function(){return p.handleToggleOptions()},children:(0,M.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},children:[(0,M.jsx)(a.xv,{weight:"bold",children:h._('More options', 'storyboard.detailsList.metadataModule.moreOptions', 'Title of the more options section.')}),(0,M.jsx)(a.JO,{accessibilityLabel:h._('More options arrow icon', 'storyboard.detailsList.metadataModule.moreOptions', 'Label for the more options section.'),color:"default",icon:e_?"arrow-up":"arrow-down",size:"12"})]})})}),e_&&(0,M.jsxs)(i.Fragment,{children:[(0,M.jsx)(H,{isStoryPin:!0,commentsDisabled:R,isUnsafeForComments:!!eS.is_unsafe_for_comments,onCommentChange:this.handleCommentChange}),(!!eJ||_)&&(0,M.jsx)(B,{isStoryPin:!0,isAdsOnlyPin:null===(d=this.props.pinResource.data)||void 0===d?void 0:d.promoted_is_removable}),eK&&(0,M.jsx)(P.Z,{children:(0,M.jsx)(ek,{isStoryPin:!0,onShoppingRecChange:this.handleShoppingRecChange,shoppingRecDisabled:$,storyPinData:eS.story_pin_data})})]})]})})})})}):(0,M.jsx)(y.ZP,{heading:h._('Edit this Pin', 'EditPinModal.ModalHeading.EditThisPin', 'Edit a previously saved pin'),accessibilityModalLabel:h._('Edit your previously saved pin', 'EditPinModal.ModalHeading.AccessibleLabel', 'Accessible label for edit previously saved pin modal'),size:e1?"sm":"lg",onDismiss:x,footer:(0,M.jsx)(em,{apiErrorMessage:E,shouldShowGenericUpdateError:et,onClickDeleteButton:this.onClickDeleteButton,disableDelete:!eM||m,onHide:x,shouldDisableSave:J,triggerBoardAndSectionCreate:this.triggerBoardAndSectionCreate(e8)}),children:K||!O.isLoaded||V?(0,M.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,M.jsx)(a.$j,{accessibilityLabel:h._('loading', 'EditPinModal.LoadingPin.Spinner', 'Accessible label for the edit pin loading icon'),show:!0})}):(0,M.jsxs)(a.xu,{display:"flex",justifyContent:e1?"center":"between",minHeight:350,paddingX:4,children:[e1?null:(0,M.jsxs)(a.xu,{column:12,mdColumn:9,children:[(0,M.jsx)(ea.Z,{board:I||eS.board,canEdit:eM,isAdsOnlyBoard:e9,isOriginallyQuickCreatesBoard:e2,onBoardChange:this.handleBoardChange,onBoardCreate:this.handleBoardCreateClick,viewerId:k.id||""}),!e9&&(0,M.jsx)(eh.Z,{board:I||eS.board,canEdit:eM,onSectionCreate:this.handleSectionCreateClick,onSectionChange:this.handleSectionChange,sectionId:q,sectionName:Y,currentSection:eS.section}),eH,eV,eq,eY,eX,eG,e$,eQ,e0,eK&&(0,M.jsx)(P.Z,{children:(0,M.jsx)(ek,{onShoppingRecChange:this.handleShoppingRecChange,shoppingRecDisabled:$,storyPinData:eS.story_pin_data})})]}),(0,M.jsx)(ep,{isCarousel:ew,shouldShowCarouselSliders:ee,onCarouselSlide:this.handleCarouselSlider,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,currentIndex:this.state.currentIndex,carouselData:this.state.carousel_data,pinId:w,description:L,image:eU})]})})}}],eB(c.prototype,n),r&&eB(c,r),Object.defineProperty(c,"prototype",{writable:!1}),c}(i.Component),eY=function(e,t,n){return eM({field_set_key:"detailed",id:e,preserve_component_state:t},n?{orbac_subject_id:n}:Object.freeze({}))};function eX(e){var t,n,r,i,a,l,s,u,d,p,m=(0,h.ZP)(),y=(0,f.v)().logContextEvent,g=(0,v.F)().checkExperiment,P=(0,o.useSelector)(function(e){return e.advertiser}),S=P&&P.client_business_id?P.client_business_id:void 0,w=null===(t=(0,D.W)())||void 0===t?void 0:t.onPinDelete,C=(0,O.Z)(),B=(0,j.Z)(),N=(0,b.B)().advertiser,Z=(0,A.lJ)(B,C),U=(0,x.Z)({name:"PinResource",options:eY(e.pinId,!0,Z)}),K=(0,c.Z)(),H=B.isAuth&&P?P.id:void 0,V=B.isAuth&&P&&P.owner_user_id!==B.id?P.owner_user_id:void 0,G=(0,k.Z)({hasPin:!!U.data,pinId:null===(n=U.data)||void 0===n?void 0:n.id,boardLayout:null===(r=U.data)||void 0===r?void 0:null===(i=r.board)||void 0===i?void 0:i.layout,boardUrl:null===(a=U.data)||void 0===a?void 0:null===(l=a.board)||void 0===l?void 0:l.url}),W=(null==N?void 0:N.owner_user_id)===B.id,q=(null===(s=U.data)||void 0===s?void 0:null===(u=s.board)||void 0===u?void 0:null===(d=u.owner)||void 0===d?void 0:d.id)===B.id,Y=!!(null!==(p=U.data)&&void 0!==p&&p.story_pin_data_id&&U.data.story_pin_data),X=Y&&g("web_idea_pin_edit_lists_dep").anyEnabled,$=Y&&g("web_increased_description_length").anyEnabled,Q=Y&&g("web_idea_pin_edit_link").anyEnabled,J=(0,o.useDispatch)();return(0,M.jsx)(eq,eM(eM({},e),{},{advertiser_id:H,accountAdvertiserOwnerUserId:V,getClientTrackingParams:K,dispatch:(0,o.useDispatch)(),i18n:m,isIdeaPinEditLinkConfirmationEnabled:Q,isIdeaPinEditListsDepEnabled:X,isIdeaPinIncreasedDescriptionLengthEnabled:$,isStoryPin:Y,isViewerBoardOwnerAndAdvertiser:W&&q,logContextEvent:y,onDelete:function(){var t;G(),null===(t=e.onDelete)||void 0===t||t.call(e),w&&w({pinId:e.pinId})},orbacActingAs:C,pinResource:U,viewer:B,changeBoardPinCount:function(e){return J((0,E.Br)(e))},changeUserPinCount:function(e){return J((0,L.JS)(e))},completeResourceFetch:function(e,t){return J((0,_.Sr)("PinResource",eY(e.resource_response.data.id,!1,t),e))},createBoard:function(e,t,n){return J((0,E.aX)(e,t,n))},createSection:function(e,t){return J((0,I.vB)(e,m,t,y))},invalidatePinResource:function(e,t){return J((0,_.jB)("PinResource",eY(e,!0,t)))},removeBoardlessPin:function(e,t){return J((0,T.EX)({feedId:e,feedType:z.Z.BOARDLESS_PINS,itemIds:[t],itemType:"pin"}))},pinMoved:function(e){return J((0,R.S)(e))},updatePinNote:function(e,t,n,r){return J((0,F._)(e,t,n,r))},clientBusinessId:S}))}},381595:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(76911),i=n(908390),o=n(898781),a=n(241563),l=n(515198);function s(e){var t=e.board,n=e.canEdit,s=e.currentSection,u=e.idealDirection,c=e.isStoryPin,d=e.onSectionChange,p=e.onSectionCreate,f=e.sectionId,m=e.sectionName,y=(0,o.ZP)(),h=null!=t&&t.id?a.Z:a.x;return(null==t?void 0:t.layout)==="quick_creates"?null:(0,l.jsx)(r.Fragment,{children:c?(0,l.jsxs)(i.xu,{direction:"column",display:"flex",justifyContent:"between",paddingY:3,children:[(0,l.jsx)(i.xu,{paddingY:2,children:(0,l.jsx)(i.__,{htmlFor:"SectionPicker",children:(0,l.jsx)(i.xv,{size:"100",children:y._('Section', 'editPinModal.editSection.optionalSectionLabel', 'Label for editing a Pin\'s board section')})})}),n&&t?(0,l.jsx)(h,{board:t,idealDirection:u,isStoryPin:c,onSectionChange:d,onSectionCreate:p,selectedSectionId:f,selectedSectionName:m}):(0,l.jsx)(i.xu,{children:(0,l.jsx)(i.xv,{size:"200",weight:"bold",children:s&&!(t||{}).is_collaborative?s.title:y._('No section', 'editPinModal.editSection.optionalSectionLabel', 'Default dropdown option for selecting a board section on pin edit')})})]}):(0,l.jsxs)(i.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[(0,l.jsx)(i.xu,{column:12,mdColumn:3,paddingY:3,children:(0,l.jsx)(i.__,{htmlFor:"SectionPicker",children:(0,l.jsx)(i.xv,{size:"200",children:y._('Section', 'label for editing a Pin\'s board section', 'label for editing a Pin\'s board section')})})}),n&&t?(0,l.jsx)(i.xu,{column:12,mdColumn:8,children:(0,l.jsx)(h,{board:t,onSectionChange:d,selectedSectionId:f,selectedSectionName:m,onSectionCreate:p})}):(0,l.jsx)(i.xu,{column:12,mdColumn:8,paddingY:2,children:(0,l.jsx)(i.xv,{size:"200",weight:"bold",children:s&&!(t||{}).is_collaborative?s.title:y._('No section', 'default dropdown option for selecting a board section on pin edit', 'default dropdown option for selecting a board section on pin edit')})})]})})}},268883:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(76911),i=n(908390),o=n(893764),a=n(898781),l=n(43898),s=n(515198);function u(e){var t=e.canEdit,n=e.errorMessage,u=e.isStoryPin,c=e.onTitleChange,d=e.placeholder,p=e.title,f=e.warningMessage,m=(0,a.ZP)();return(0,s.jsx)(r.Fragment,{children:u?(0,s.jsxs)(i.xu,{direction:"column",display:"flex",justifyContent:"between",paddingY:3,children:[(0,s.jsx)(i.xu,{paddingY:2,children:(0,s.jsx)(i.__,{htmlFor:"TitleField",children:(0,s.jsx)(i.xv,{size:"100",children:m._('Title', 'editPinModal.editTitle.titleText', 'Title text for editing title of pin')})})}),(0,s.jsx)(i.xu,{"data-test-id":"pin-title-input",children:t?(0,s.jsx)(o.Z,{errorMessage:n,id:"TitleField",onChange:c,placeholder:null!=d?d:m._('Add a title', 'editPinModal.editTitle.titleTextField', 'Title for text field for editing title of pin'),size:"lg",value:p,warningMessage:f}):(0,s.jsx)(i.xu,{column:12,mdColumn:8,paddingY:2,children:(0,s.jsx)(i.xv,{size:"200",weight:"bold",children:p})})}),!t&&!!n&&(0,s.jsx)(i.xu,{children:(0,s.jsx)(l.Z,{errorMessage:n,htmlFor:"pin-edit-title"})})]}):(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(i.iz,{}),(0,s.jsxs)(i.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[(0,s.jsx)(i.xu,{column:12,mdColumn:3,paddingY:2,children:(0,s.jsx)(i.__,{htmlFor:"TitleField",children:(0,s.jsx)(i.xv,{size:"200",children:m._('Title', 'Label for editing title of pin', 'Label for editing title of pin')})})}),(0,s.jsx)(i.xu,{column:12,mdColumn:8,children:t?(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(i.xu,{"data-test-id":"pin-title-input",children:(0,s.jsx)(i.nv,{hasError:(n||"").length>0,id:"TitleField",onChange:c,size:"lg",value:p})}),!!n&&(0,s.jsx)(i.xu,{children:(0,s.jsx)(l.Z,{errorMessage:n,htmlFor:"pin-edit-title"})})]}):(0,s.jsx)(i.xu,{column:12,mdColumn:8,paddingY:2,children:(0,s.jsx)(i.xv,{size:"200",weight:"bold",children:p})})})]})]})})}},299335:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(76911),i=n(908390),o=n(893764),a=n(898781),l=n(43898),s=n(515198);function u(e){var t=e.errorMessage,n=e.isStoryPin,u=e.link,c=e.onBlur,d=e.onChangeWebsite,p=e.onFocus,f=e.placeholder,m=e.warningMessage,y=(0,a.ZP)();return(0,s.jsx)(r.Fragment,{children:n?(0,s.jsxs)(i.xu,{direction:"column",display:"flex",justifyContent:"between",paddingY:3,"data-test-id":"storyboard-selector-link",children:[(0,s.jsx)(i.xu,{paddingY:2,children:(0,s.jsx)(i.__,{htmlFor:"WebsiteField",children:(0,s.jsx)(i.xv,{size:"100",children:y._('Link', 'editPinModal.editWebsite.titleText', 'Title text for editing link of pin')})})}),(0,s.jsx)(o.Z,{errorMessage:t,id:"WebsiteField",onBlur:c,onChange:d,onFocus:p,placeholder:null!=f?f:y._('Add a link', 'editPinModal.editLink.placeholder', 'Placeholder text to prompt user to add a link'),size:"lg",type:"url",value:u,warningMessage:m})]}):(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(i.iz,{}),(0,s.jsxs)(i.xu,{mdDisplay:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[(0,s.jsx)(i.xu,{column:12,mdColumn:3,paddingY:2,children:(0,s.jsx)(i.__,{htmlFor:"WebsiteField",children:(0,s.jsx)(i.xv,{size:"200",children:y._('Website', 'editPinModal.editWebsite.titleText', 'Title text for editing website of pin')})})}),(0,s.jsxs)(i.xu,{column:12,mdColumn:8,children:[(0,s.jsx)(i.xu,{children:(0,s.jsx)(i.nv,{id:"WebsiteField",onChange:d,size:"lg",value:u})}),!!t&&(0,s.jsx)(i.xu,{children:(0,s.jsx)(l.Z,{errorMessage:t,htmlFor:"pin-edit-website"})})]})]})]})})}},947729:function(e,t,n){"use strict";function r(e,t){return e?t._('Title too long. Make sure all cards\' titles have less than 100 characters', 'Title entered is too long while editing a carousel pin and/or one of its pins', 'Title entered is too long while editing a carousel pin and/or one of its pins'):t._('Title too long. Make sure title has less than 100 characters', 'Title entered is too long while editing a pin', 'Title entered is too long while editing a pin')}function i(e,t){return e?t._('Description too long. Make sure all cards\' descriptions have less than 500 characters', 'Description entered is too long while editing a carousel pin and/or one of its pins', 'Description entered is too long while editing a carousel pin and/or one of its pins'):t._('Description too long. Make sure description has less than 500 characters', 'Description entered is too long while editing a pin', 'Description entered is too long while editing a pin')}function o(e,t){return t._('Too many mentions. Make sure you have at most 5.', 'editPinModal.errorMessages.userMentionOverLimit', 'Too many mentions used in the description')}function a(e,t){return e?t._('Need to provide a valid URL. Make sure all cards\' links are valid', 'Invalid URL/link provided while editing a carousel pin and/or one of its pins', 'Invalid URL/link provided while editing a carousel pin and/or one of its pins'):t._('Need to provide a valid URL. Make sure the link is valid', 'Invalid URL/link provided while editing a pin', 'Invalid URL/link provided while editing a pin')}n.d(t,{MM:function(){return i},Y8:function(){return r},bl:function(){return o},qj:function(){return a}})},597830:function(e,t,n){"use strict";function r(e){return"recipe"===e?1:"diy"===e?2:null}n.d(t,{Z:function(){return r}})},146754:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(77675),i=n(251557);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){var t,n,a,l,s=(e||{}).basics;return s?(n={},a=(0,r.Z)(e),l=(0,i._)(s),(t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),(a="symbol"===o(t)?t:String(t))in n)?Object.defineProperty(n,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[a]=l,n):{}}},77675:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(783331),i=n(251557);function o(e){var t=e||{},n=t.basics,o=t.template_type;return(0,r.Z)({basics:n?(0,i._)(n):void 0,templateType:o})}},507016:function(e,t,n){"use strict";n.d(t,{W:function(){return c}});var r=n(908390),i=n(27255),o=n(898781),a=n(486746),l=n(24886),s=n(488769),u=n(515198);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.length>1?RegExp(e,"i"):"";return e&&e.length>1?t.split(n).reduce(function(n,r,i){if(n.length>0&&e&&e.length){var o=t.toLowerCase().indexOf(e.toLowerCase());return n.concat((0,u.jsx)("em",{style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"},children:t.substring(o,o+e.length)},i),r)}return[r]},[]):t}t.Z=function(e){var t,n,d,p,f,m,y=(0,o.ZP)(),h=e.disabled,g=e.item,v=e.isSection,b=e.isSelectMode,_=e.isWithinSectionPicker,x=e.saveState,P=e.searchQuery,S=e.selected,j=v?null:g,w=v?g:null,O=w&&w.title||j&&j.name||"",A="",k=!1,C="",D=0;if(j){A=j.image_cover_url,k=j.is_collaborative,C=j.privacy;var E=j.section_count;D=void 0===E?0:E}var I=c(P,O),T=C===i.Z.BoardPrivacy.SECRET,R=!h&&(S||!!x),F=!_&&"number"==typeof D&&D>0,L="number"==typeof D&&D>0?"boardWithSection":"boardWithoutSection",z=b?y._('Select', 'Board select button label', 'Board select button label'):y._('Save', 'Pin save button label', 'Pin save button label');return(0,u.jsxs)(r.xu,{alignItems:"center",color:R?"secondary":"default",display:"flex",height:64,marginStart:2,marginEnd:2,marginTop:1,padding:2,rounding:3,"data-test-id":L,children:[j&&(0,u.jsx)(r.xu,{height:48,width:48,color:"secondary",overflow:"hidden",rounding:2,marginEnd:2,flex:"none",children:A?(0,u.jsx)(r.Ee,{src:A,alt:y._('Board cover image', 'boardPickerRow.image.altText', 'alt text for a board cover image'),fit:"cover",naturalWidth:1,naturalHeight:1}):(0,u.jsx)("span",{})}),w&&!!(null!==(t=w.preview_pins)&&void 0!==t&&t.length)&&(0,u.jsx)(l.Z,{image_url:null!==(n=w.preview_pins[0].image_square_url)&&void 0!==n?n:"",naturalHeight:null!==(d=null===(p=w.preview_pins[0].image_square_size_pixels)||void 0===p?void 0:p.height)&&void 0!==d?d:1,naturalWidth:null!==(f=null===(m=w.preview_pins[0].image_square_size_pixels)||void 0===m?void 0:m.width)&&void 0!==f?f:1}),(0,u.jsxs)(r.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,u.jsx)(r.xv,{color:h?"subtle":"default",size:"300",lineClamp:1,weight:"bold",children:I}),(F||!R)&&(0,u.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[T&&(0,u.jsx)(s.Z,{type:"secret"}),k&&(0,u.jsx)(a.Z,{board:j,showCollaborativeIcon:k,useLegoLayout:!0}),F&&(0,u.jsx)(s.Z,{type:"sections"})]}),!F&&R&&!x&&(0,u.jsx)(r.xu,{alignItems:"center",color:"primary","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:(0,u.jsx)(r.xv,{color:"inverse",overflow:"normal",size:"300",weight:"bold",children:z})}),!F&&R&&"loading"===x&&(0,u.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:(0,u.jsx)(r.$j,{accessibilityLabel:y._('Saving', 'Accessibility label for saving a pin to a board', 'Accessibility label for saving a pin to a board'),show:!0})})]})]})}},571577:function(e,t,n){"use strict";n.d(t,{H:function(){return o},I:function(){return i}});var r=(0,n(425288).Z)("ScreenSize"),i=r.Provider,o=r.useHook},604356:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(76911),i=n(908390),o=n(319915),a=n(898781),l=n(947599),s=n(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var d=(0,r.lazy)(function(){return Promise.all([n.e(10966),n.e(49510),n.e(49426),n.e(61116)]).then(n.bind(n,535591))});function p(e){var t=(0,a.ZP)();return(0,s.jsx)(o.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,s.jsx)(l.Z,{fallback:(0,s.jsx)(i.xu,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:2,children:(0,s.jsx)(i.$j,{accessibilityLabel:t._('Loading sharing', 'Accessibility label for loading sharing UI', 'Accessibility label for loading sharing UI'),show:!0})}),children:(0,s.jsx)(d,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e))})})}},678532:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r,i=n(76911);n(704217);var o=n(908390),a=n(681669),l=n(898781),s=n(349700),u=n(867820),c=n(50286),d=n(540923),p=n(219413),f=n(882801),m=n(515198);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=void 0!==r?r:r=n(319461),g=function(e){var t=e.onTap,n=e.isOpen,r=(0,l.ZP)();return(0,m.jsx)(o.iP,{tapStyle:"compress",onTap:t,children:(0,m.jsxs)(o.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:5,dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #efefef",borderBottom:"1px solid #efefef"}},children:[(0,m.jsx)(o.xv,{weight:"bold",size:"300",children:r._('Product details', 'productDetails.descriptionTap.text', 'text in tap area to open product description dropdown')}),(0,m.jsx)(o.JO,{accessibilityLabel:r._('Arrow forward', 'productDetails.openDropdown', 'accessibility label on button'),color:"default",icon:n?"arrow-down":"arrow-forward"})]})})};function v(e){var t,n,r=e.onClickTitleOrDomain,v=e.pinKey,b=(0,a.sr)(h,v,{type:"pin",useLegacyAdapter:function(e){return e&&{closeupAttribution:e.closeup_attribution&&{domainUrl:e.closeup_attribution.domain_url},closeupUnifiedDescription:e.closeup_unified_description}}}),_=b.data,x=b.childDataKey__DEPRECATED,P=(0,l.ZP)(),S=(0,c.ZP)(),j=null==_?void 0:null===(n=_.closeupAttribution)||void 0===n?void 0:n.domainUrl,w=(0,p.Z)(x),O=(0,f.j)({components:w||[],pinDescription:(null==_?void 0:_.closeupUnifiedDescription)&&_.closeupUnifiedDescription.trim()}),A=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),k=A[0],C=A[1];return(0,m.jsx)(o.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:O.length>0&&(0,m.jsxs)(o.xu,{marginTop:6,width:"100%",children:[(0,m.jsx)(g,{isOpen:k,onTap:function(){C(!k),(0,u.My)("unauth.pdp.details.click",{action:k?"close":"open",device:S})}}),(0,m.jsx)(o.xu,{overflow:"scrollY",maxHeight:k?"75vh":"0vh",paddingX:4,children:(0,m.jsxs)(o.xu,{marginBottom:6,marginTop:2,dangerouslySetInlineStyle:{__style:{lineHeight:"1.2"}},children:[(0,m.jsx)(d.Z,{descriptions:O}),j&&(0,m.jsx)(o.xu,{marginTop:6,children:(0,m.jsx)(o.xv,{children:(0,s.nk)(P._('Ships from and sold by {{ userDomain }}', 'productDetails.productDescription.soldBy', 'Domain url of seller'),{userDomain:(0,m.jsx)(o.iP,{onTap:r,tapStyle:"compress",children:(0,m.jsx)(o.xv,{inline:!0,weight:"bold",children:j})},j)})})})]})})]})})}},238253:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r,i,o,a,l,s=n(76911),u=n(704217),c=n(908390),d=n(641950),p=n(453451),f=n(650702),m=n(407043),y=n(898781),h=n(349700),g=n(543972),v=n(992750),b=n(780280),_=n(40995),x=n(745162),P=n(819354),S=n(62409),j=n(350118);n(112690),n(784590),n(561195);var w=n(515198);void 0!==r||(r=n(346154)),n(121151),void 0!==i||(i=n(987557)),void 0!==o||(o=n(762183)),void 0!==a||(a=n(460930));var O=n(219413),A=n(882801);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var C=["pinId","graphqlRef"],D=["pinId"],E=["graphqlRef"];function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==k(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===k(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function R(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var L=void 0!==l?l:l=n(498006);function z(e){var t,n=e.aggregateRating,r=e.brandInfo,i=e.closeupAttributionDomainId,o=e.isImagePinForUnauthOnTablet,a=e.isOutOfStock,l=e.isStale,u=e.onClickTitleOrDomain,j=e.graphqlRef,k=e.inlinePinActionBar,C=e.pinId,D=e.pinLink,E=e.closeupUnifiedDescription,I=e.offerSummary,T=e.gridTitle,R=e.pinTitle,L=e.richSummaryDisplayName,z=e.richMetadataTitle,M=e.setIsActionBarInline,B=e.shippingInfo,N=e.storyPinDataId,Z=e.storyPinDataMetadataPinTitle,U=e.pinJoinVisualAnnotation,K=(0,y.ZP)(),H=(0,b.B)().isAuthenticated,V=(0,m.v)().logContextEvent,G=(0,S.AH)(D),W=E&&E.trim(),q=T||R;H||(q=(0,v.Ly)({pinTitle:R,gridTitle:T,richSummaryDisplayName:L,richMetadataTitle:z,storyPinDataId:N,storyPinDataMetadataPinTitle:Z,pinJoinVisualAnnotation:U}));var Y=(0,x.Z)({isImagePinForUnauthOnTablet:o}),X=(0,O.Z)(j?{type:"graphqlRef",data:j}:{type:"deprecated",data:C}),$=(0,A.j)({components:X,pinDescription:W}),Q=function(e){if(Array.isArray(e))return e}(t=(0,s.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();Q[0],Q[1];var J=q&&(0,w.jsx)(c.xu,{marginTop:2,marginBottom:2,children:(0,w.jsx)(_.Z,{onClick:u,hasLink:G,forceSmallerHeading:!o,textAlign:"start",pinId:C,graphqlRef:j,lineClamp:Y})}),ee=n||{},et=ee.rating_count,en=ee.review_count,er=ee.rating_value,ei=(0,w.jsx)(f.Z,{bracket:!0,count:et||en,countType:Number(et||0)?"rating":"review",countFormat:"number",hideSeparationDot:!0,ratingValue:er,shippingInfo:B&&{freeShippingPrice:B.free_shipping_price,freeShippingValue:B.free_shipping_value}}),eo=(0,w.jsx)(d.Z,{structuredDescription:$,type:"expandable"}),ea=null==r?void 0:r.name,el=null==r?void 0:r.userId,es=i&&i===el||(null==r?void 0:r.isMerchant),eu=!!ea,ec=(0,s.useCallback)(function(e){return e&&eu?ea!==e&&(null===es||!1===es)?(0,h.nk)(K._('{{ brand }} sold by {{ merchant }}', 'productmetadata.officialuserattribution.text', 'officialuserattribution text. brand:name of the brand. merchant:name of the merchant'),{brand:(0,w.jsx)(c.xv,{inline:!0,weight:"bold",children:ea},"brand-name"),merchant:(0,w.jsx)(c.xv,{inline:!0,weight:"bold",children:e},"merchant-name")}):[(0,w.jsx)(c.xv,{inline:!0,weight:"bold",children:ea},"brand-name")]:e},[ea,es,K,eu]),ed=(0,w.jsx)(P.Z,{getDisplayName:ec,graphqlRef:j,pinId:C,onMouseDown:eu?function(){V({event_type:102,object_id_str:C,view_type:3,view_parameter:144,element:13592,aux_data:{pin_id:C,commerce_data:JSON.stringify({pin_show_pdp:"1"})}})}:void 0}),ep=(0,w.jsx)(p.Z,{productDetails:{maxPrice:null==I?void 0:I.max_price,minPrice:null==I?void 0:I.min_price,price:null==I?void 0:I.price,standardPrice:null==I?void 0:I.standard_price},type:"pdpPlusMobileHeading",colorOverride:"default",isSoldOut:a,isStale:l});return(0,w.jsxs)(c.xu,{children:[(0,w.jsx)(c.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:(0,w.jsx)(g.Z,{options:{threshold:[1]},onVisibilityChange:function(e){if(e&&e.length>0&&M){var t=e[0],n=t.intersectionRatio,r=t.boundingClientRect.y<0;M(1===n||r)}},children:function(e){return(0,w.jsx)(c.xu,{ref:e,children:(0,w.jsxs)(c.xu,{marginBottom:4,children:[J,ep,(0,w.jsx)(c.xu,{marginBottom:2,children:ei}),ed]})})}})}),k,$.length>0&&(0,w.jsx)(c.xu,{marginTop:6,width:"100%",children:eo}),!1]})}function M(e){var t,n,r,i,o,a,l,s,c,d,p,f,m,y,h,g,v,b,_,x,P,S,j,O,A,k,D,E,I,F,M,B,N=e.pinId,Z=e.graphqlRef,U=R(e,C),K=(0,u.useFragment)(L,Z),H=(null===(t=K.pinJoin)||void 0===t?void 0:t.visualAnnotation)||[];if(H.length<1)return null;var V=K.richMetadata,G=K.richSummary;null!=V&&null!==(n=V.products)&&void 0!==n&&n[0]&&V.products[0].name&&V.products[0].offerSummary&&(B=V.products[0].offerSummary),!B&&null!=G&&null!==(r=G.products)&&void 0!==r&&r[0]&&G.products[0].name&&G.products[0].offerSummary&&(B=G.products[0].offerSummary);var W={min_price:null===(i=B)||void 0===i?void 0:i.minPrice,max_price:null===(o=B)||void 0===o?void 0:o.maxPrice,price:null===(a=B)||void 0===a?void 0:a.price,standard_price:null===(l=B)||void 0===l?void 0:l.standardPrice},q={rating_value:null!==(s=null==V?void 0:null===(c=V.aggregateRating)||void 0===c?void 0:c.ratingValue)&&void 0!==s?s:void 0,review_count:null!==(d=null==V?void 0:null===(p=V.aggregateRating)||void 0===p?void 0:p.reviewCount)&&void 0!==d?d:void 0,rating_count:null!==(f=null==V?void 0:null===(m=V.aggregateRating)||void 0===m?void 0:m.ratingCount)&&void 0!==f?f:void 0},Y={free_shipping_price:null==V?void 0:null===(y=V.products)||void 0===y?void 0:null===(h=y[0].shippingInfo)||void 0===h?void 0:h.freeShippingPrice,free_shipping_value:null==V?void 0:null===(g=V.products)||void 0===g?void 0:null===(v=g[0].shippingInfo)||void 0===v?void 0:v.freeShippingValue},X=K.isOosProduct||(null===(b=B)||void 0===b?void 0:b.inStock)===!1,$=K.isStaleProduct,Q={isMerchant:null==V?void 0:null===(_=V.products)||void 0===_?void 0:null===(x=_[0].brand)||void 0===x?void 0:x.isMerchant,name:null==V?void 0:null===(P=V.products)||void 0===P?void 0:null===(S=P[0].brand)||void 0===S?void 0:S.name,userId:null==V?void 0:null===(j=V.products)||void 0===j?void 0:null===(O=j[0].brand)||void 0===O?void 0:O.userId};return(0,w.jsx)(z,T(T({},U),{},{aggregateRating:q,brandInfo:Q,closeupAttributionDomainUrl:null===(A=K.closeupAttribution)||void 0===A?void 0:A.domainUrl,closeupAttributionDomainId:null===(k=K.closeupAttribution)||void 0===k?void 0:k.entityId,graphqlRef:K,isOutOfStock:X,isStale:null!=$&&$,pinId:N,pinLink:K.link,closeupUnifiedDescription:null!==(D=K.closeupUnifiedDescription)&&void 0!==D?D:"",offerSummary:W,gridTitle:K.gridTitle,pinTitle:K.title,richSummaryDisplayName:null!==(E=null==G?void 0:G.displayName)&&void 0!==E?E:"",richMetadataTitle:null!==(I=null==V?void 0:V.title)&&void 0!==I?I:"",shippingInfo:Y,storyPinDataId:K.storyPinDataId,storyPinDataMetadataPinTitle:null===(F=K.storyPinData)||void 0===F?void 0:null===(M=F.metadata)||void 0===M?void 0:M.pinTitle,pinJoinVisualAnnotation:H}))}function B(e){var t,n,r,i,o,a,l,s,u,c,d,p,f,m,y,h,g,v,b,_,x,P,S,O=e.pinId,A=R(e,D),k=(0,j.S6)()(O),C=null==k?void 0:k.rich_metadata,E=null==k?void 0:k.rich_summary;null!=C&&null!==(t=C.products)&&void 0!==t&&t[0]&&C.products[0].name&&C.products[0].offer_summary&&(S=C.products[0].offer_summary),!S&&null!=E&&null!==(n=E.products)&&void 0!==n&&n[0]&&E.products[0].name&&E.products[0].offer_summary&&(S=E.products[0].offer_summary);var I=(null==k?void 0:k.is_oos_product)||(null===(r=S)||void 0===r?void 0:r.in_stock)===!1,F=null==k?void 0:k.is_stale_product,L={isMerchant:null==C?void 0:null===(i=C.products)||void 0===i?void 0:null===(o=i[0].brand)||void 0===o?void 0:o.is_merchant,name:null==C?void 0:null===(a=C.products)||void 0===a?void 0:null===(l=a[0].brand)||void 0===l?void 0:l.name,userId:null==C?void 0:null===(s=C.products)||void 0===s?void 0:null===(u=s[0].brand)||void 0===u?void 0:u.user_id};return(0,w.jsx)(z,T(T({},A),{},{aggregateRating:null==k?void 0:null===(c=k.rich_metadata)||void 0===c?void 0:c.aggregate_rating,brandInfo:L,closeupAttributionDomainUrl:null==k?void 0:null===(d=k.closeup_attribution)||void 0===d?void 0:d.domain_url,closeupAttributionDomainId:null==k?void 0:null===(p=k.closeup_attribution)||void 0===p?void 0:p.id,pinId:O,pinLink:null==k?void 0:k.link,closeupUnifiedDescription:null!==(f=null==k?void 0:k.closeup_unified_description)&&void 0!==f?f:"",gridTitle:null==k?void 0:k.grid_title,isOutOfStock:I,isStale:null!=F&&F,pinTitle:null==k?void 0:k.title,offerSummary:S,richSummaryDisplayName:null!==(m=null==k?void 0:null===(y=k.rich_summary)||void 0===y?void 0:y.display_name)&&void 0!==m?m:"",richMetadataTitle:null!==(h=null==k?void 0:null===(g=k.rich_metadata)||void 0===g?void 0:g.title)&&void 0!==h?h:"",shippingInfo:null==k?void 0:null===(v=k.rich_metadata)||void 0===v?void 0:null===(b=v.products)||void 0===b?void 0:b[0].shipping_info,storyPinDataId:null==k?void 0:k.story_pin_data_id,storyPinDataMetadataPinTitle:null==k?void 0:null===(_=k.story_pin_data)||void 0===_?void 0:null===(x=_.metadata)||void 0===x?void 0:x.pin_title,pinJoinVisualAnnotation:null==k?void 0:null===(P=k.pin_join)||void 0===P?void 0:P.visual_annotation}))}function N(e){var t=e.graphqlRef,n=R(e,E);return t?(0,w.jsx)(M,T(T({},n),{},{graphqlRef:t})):(0,w.jsx)(B,T({},n))}},594635:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(923297),i=n(927220),o=n(350948);function a(e,t,n,a){var l,s,u,c,d,p,f,m;switch(e){case 0:return function(e){var t=e.isShortened,n=e.minutes,a=e.i18n;if(!n)return"";if(t)return(0,i.Z)(n,a).join("");var l=(0,o.Ys)((0,r.X)({m:n}),a);if(!l)return"";var s=l.join(""),u=a._('Cook Time', 'ideapin.basics.cookTime', 'The cook time for the food in this pin');return"".concat(u,": ").concat(s)}({minutes:parseInt(t,10),i18n:n,isShortened:a});case 1:return s=(l={servingSize:parseInt(t,10),i18n:n}).servingSize,u=l.i18n,s?1===s?"".concat(s," ").concat(u._('serving', 'ideapin.basics.servings', 'The number of servings this recipe makes')):"".concat(s," ").concat(u._('servings', 'ideapin.basics.servings', 'The number of servings this recipe makes')):"";case 2:return d=(c={difficulty:t,i18n:n}).difficulty,p=c.i18n,f={1:p._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:p._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:p._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')},m=p._('Difficulty', 'ideapin.basics.difficulty', 'The difficulty for the activity in this pin'),"".concat(m,": ").concat(f[null!=d?d:"1"]);default:return""}}},57009:function(e,t){"use strict";t.Z=function(e){return e.join(" ".concat("•"," "))}},252417:function(e,t,n){"use strict";n.d(t,{Ai:function(){return O},B5:function(){return g},CR:function(){return f},Cc:function(){return u},HG:function(){return P},R_:function(){return d},Wz:function(){return c},_P:function(){return x},dP:function(){return A},dX:function(){return j},gx:function(){return m},h8:function(){return l},hk:function(){return p},lp:function(){return b},lt:function(){return h},oe:function(){return S},r4:function(){return _},rM:function(){return w},tD:function(){return y}});var r=n(908390);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},s={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},u=a(a({},s),{},{font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28}),c=a(a({},s),{},{font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48}),d=64,p=64,f=48,m=48,y=new r.Ry(5),h=new r.H3([y]),g=new r.H3([h]),v=new r.H3([y]),b=new r.H3([v]),_=4;function x(e){return e?{paddingX:0,paddingY:0}:{paddingX:2,paddingY:_}}var P=6,S=47,j=8,w=4,O=5,A=3},642639:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(908390),i=n(898781),o=n(349700),a=n(923297),l=n(833049),s=n(927220),u=n(515198),c=function(e){var t=e.minutes,n=e.type,o=e.size,c=(0,i.ZP)();if("compact"===n){var d=(0,s.Z)(t,c);return(0,u.jsx)(r.xv,{inline:!0,size:o,children:d})}var p=(0,l.Z)((0,a.X)({m:t}),c);return(0,u.jsxs)(r.xu,{children:[(0,u.jsx)(r.xv,{weight:"bold",inline:!0,size:o,children:c._('Cook Time: ', 'closeup.storyPin.basicsLayout.cookTime.label', 'Label for cook time (ex. Cook Time: 3 minutes)')}),(0,u.jsx)(r.xv,{inline:!0,size:o,children:p})]})},d=function(e){var t=e.servingSize,n=e.type,a=e.size,l=(0,i.ZP)(),s=(0,o.nk)(l.ngettext('{{servingSize}} serving', '{{servingSize}} servings', t, 'number of servings for a recipe', 'number of servings for a recipe'),{servingSize:t});return"compact"===n?(0,u.jsx)(r.xv,{inline:!0,size:a,children:s}):(0,u.jsxs)(r.xu,{children:[(0,u.jsx)(r.xv,{weight:"bold",inline:!0,size:a,children:l._('Serving Size: ', 'closeup.storyPin.basicsLayout.servingSize.label', 'Label for serving size')}),(0,u.jsx)(r.xv,{inline:!0,size:a,children:s})]})},p=function(e){var t=e.difficulty,n=e.type,o=e.size,a=(0,i.ZP)(),l={1:a._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:a._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:a._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')};return(0,u.jsxs)(r.xu,{children:[(0,u.jsx)(r.xv,{weight:"compact"===n?"normal":"bold",inline:!0,size:o,children:a._('Difficulty: ', 'closeup.storyPin.basicsLayout.difficulty.label', 'Label for difficulty')}),(0,u.jsx)(r.xv,{inline:!0,size:o,children:l[null!=t?t:"1"]})]})};function f(e){var t=e.categoryType,n=e.value,r=e.type,i=e.size;if(0===t){var o=parseInt(n,10);return o?(0,u.jsx)(c,{minutes:o,type:r,size:i}):null}if(1===t){var a=parseInt(n,10);return(0,u.jsx)(d,{servingSize:a,type:r,size:i})}return 2===t?(0,u.jsx)(p,{difficulty:n,type:r,size:i}):null}},788645:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},j:function(){return o}});var r=n(515198),i=RegExp("^[^A-Za-z\xc0-\xd6\xd8-\xf6A-Za-z\xc0-\xd6\xd8-\xf6︀-﹯﻽-￿]*[֑-߿יִ-﷽ﹰ-ﻼ]");function o(e){return i.test(e||"")?"rtl":"ltr"}function a(e){var t=e.children,n=e.dir;return(0,r.jsx)("div",{dir:void 0===n?"auto":n,children:t})}},854907:function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e){var t,n=[],i="",o=r(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(i){var l=!!a.match(/\s/),s=!!i.match(/\s/);if(l===s)i+=a;else if(!s&&i.includes("-")){for(var u=0,c=0;c<i.length;c+=1)"-"===i[c]&&(n.push(i.substring(u,c+1)),u=c+1);n.push(i.substring(u)),i=a}else n.push(i),i=a}else i=a}}catch(e){o.e(e)}finally{o.f()}return i.length&&n.push(i),n}function a(e){var t,n,i=e.boxHeight,a=e.boxWidth,l=e.font,s=e.startFontSize,u=e.text;if("undefined"==typeof document||!document.body)return{fontSize:s,lines:[]};var c=document.body,d=document.createElement("div");c.appendChild(d);var p=null==u?void 0:u.split(/\r?\n/g),f=s,m={letterSpacing:(null===(t=l.fontOverrides)||void 0===t?void 0:t.letterSpacing)!=null?"".concat(l.fontOverrides.letterSpacing,"px"):void 0,lineHeight:String((null===(n=l.fontOverrides)||void 0===n?void 0:n.lineHeight)||1.1),fontFamily:l.fontFamily,fontSize:"".concat(f,"px"),position:"absolute",visibility:"hidden",width:"".concat(a,"px")};Object.assign(d.style,m);var y=document.createElement("div");for(y.style.display="inline",d.appendChild(y),(null!=p?p:[]).forEach(function(e,t){var n=document.createElement("span");n.style.wordBreak="break-word",y.appendChild(n),n.appendChild(document.createTextNode(e)),t!==(null!=u?u:"").length-1&&n.appendChild(document.createElement("br"))});(y.offsetHeight>i||y.offsetWidth>a)&&f>0;)f-=1,d.style.fontSize="".concat(f,"px");return y.remove(),d.remove(),{fontSize:f,lines:f>0?function(e){var t=e.font,n=e.fontSize,i=e.textList,a=e.width;if("undefined"==typeof document||!document.body||a<=0||n<=0)return[];var l=document.body,s=document.createElement("div");l.appendChild(s);var u={letterSpacing:(null===(p=t.fontOverrides)||void 0===p?void 0:p.letterSpacing)!=null?"".concat(t.fontOverrides.letterSpacing,"px"):void 0,lineHeight:String((null===(f=t.fontOverrides)||void 0===f?void 0:f.lineHeight)||1.1),fontFamily:t.fontFamily,fontSize:"".concat(n,"px"),visibility:"hidden"};Object.assign(s.style,u);var c=document.createElement("div");c.style.display="inline",s.appendChild(c);var d=document.createTextNode("");c.appendChild(d);var p,f,m,y=[],h="",g=function(e){var t=e.trim();return d.textContent=t,{text:t,width:c.offsetWidth}},v=function e(t){var n=!!t.match(/\s/),i=0===h.length;if(d.textContent="".concat(h).concat(t),c.offsetWidth>a){if(n)y.push(g(h)),h="";else if(i){var o,l=r(t);try{for(l.s();!(o=l.n()).done;){var s=o.value;e(s)}}catch(e){l.e(e)}finally{l.f()}}else y.push(g(h)),h="",e(t)}else h+=t},b=r(null!=i?i:[]);try{for(b.s();!(m=b.n()).done;){var _=m.value;0===_.length&&y.push(g(h)),o(_).forEach(function(e){return v(e)}),h.length&&(y.push(g(h)),h="")}}catch(e){b.e(e)}finally{b.f()}return c.remove(),s.remove(),y}({font:l,fontSize:f,textList:p,width:a}):[]}}function l(e){var t=window.getComputedStyle(e,null),n=parseFloat(t.getPropertyValue("height").replace("px","")),r=parseFloat(t.getPropertyValue("font-size").replace("px","")),i=parseFloat(t.getPropertyValue("line-height").replace("px",""));return Number.isNaN(i)&&(i=1.2*r),Math.ceil(n/i)}n.d(t,{KV:function(){return a},Yd:function(){return o},xW:function(){return l}})},829084:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(66743);function i(e){var t;return{defaultStyle:0,fontFamily:null!==(t=e.name)&&void 0!==t?t:"",fontGroup:r.gu,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}},380458:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(908390),i=n(898781),o=n(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){var t=e.onUpdate,n=e.showLabel,s=e.value,u=(0,i.ZP)(),c=[{label:u._('Easy', 'storyboard.detailsList.field.difficulty', 'Easy difficulty rating for story pin'),value:String(1)},{label:u._('Medium', 'storyboard.detailsList.field.difficulty', 'Medium difficulty rating for story pin'),value:String(2)},{label:u._('Difficult', 'storyboard.detailsList.field.difficulty', 'Hard difficulty rating for story pin'),value:String(3)}];return(0,o.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",width:"100%",children:(0,o.jsx)(r.xu,{width:"100%",children:(0,o.jsx)(r.EI,{size:"lg",id:"servings",name:"servings",label:void 0===n||n?u._('Difficulty', 'storyboard.detailsList.field.difficulty', 'Header title for difficulty rating entry for story pin'):void 0,placeholder:u._('Pick a difficulty rating', 'storyboard.detailsList.field', 'Placeholder caption for difficulty rating input in story pin'),value:s,onChange:function(e){var n=e.value;Number.isNaN(n)||t(n)},children:c.map(function(e){return(0,o.jsx)(r.EI.Option,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),e.label)})})})})}},39847:function(e,t,n){"use strict";var r=n(76911),i=n(908390),o=n(898781),a=n(755742),l=n(515198);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){var t,n=e.split("\n");n.push("");var r=[],i=[];return n.forEach(function(e){var n=e.indexOf("•");n>-1?(t||(t=""),i.push(e.substring(n+1).trim())):((t||i.length>0)&&r.push({heading:t,items:i}),t=e,i=[])}),r},c=function(e){var t="";return e.forEach(function(n,r){var i=n.heading,o=n.items;i&&(t+=i),o&&o.length>0&&(t+="\n• "+o.join("\n• ")),r<e.length-1&&(t+="\n\n")}),t};t.Z=function(e){var t,n=e.header,d=e.helperText,p=e.listBlocks,f=e.onUpdate,m=e.placeholderListBlocks,y=(0,o.ZP)(),h=c(m||[{heading:y._('What you\'ll need', 'storyboard.detailsList.placeholder', 'Placeholder text header for details list of story Pin'),items:[y._('Write a bullet list of tools, materials and anything else!', 'storyboard.detailsList.placeholder', 'Placeholder text instructions for details list of story Pin'),y._('Type it up or copy and paste.', 'storyboard.detailsList.placeholder', 'Placeholder text instructions for details list of story Pin')]}]),g=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(p?c(p):""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=g[0],b=g[1];return(0,l.jsx)(i.xu,{children:(0,l.jsx)(i.Kx,{id:"storyboard-details-list",helperText:d,label:n,onChange:function(e){var t=e.value;b(t),f(u(t))},onBlur:function(){""===v.trim()&&b("")},onKeyDown:function(e){var t=e.event,n=e.value,r=t.keyCode,i=t.target,o=t.shiftKey;if(i instanceof HTMLTextAreaElement){var l=i.selectionStart;if(l===i.selectionEnd){var s=0,c=0,d="";if(r===a.Z.ENTER?"\n• "===n.substring(l-3,l)&&("\n"===n.substring(l,l+1)||l===n.length)?(s=-3,d="\n"):o||"\n"===n.substring(l-1,l)||(s=0,d="\n• "):(r===a.Z.BACKSPACE||r===a.Z.DELETE)&&("\n• "===n.substring(l-3,l)?s=-3:"\n•"===n.substring(l-2,l)?s=-2:"\n"===n.substring(l-1,l)&&"•"===n.substring(l,l+1)&&(s=-1,c=1)),0!==s||0!==c||""!==d){var p=n.substring(0,l+s)+d+n.substring(l+c);b(p);var m=l+s+d.length;setTimeout(function(){i.selectionStart=m,i.selectionEnd=m},10),f(u(p)),t.preventDefault()}}}},placeholder:h,rows:7,value:v})})}},249472:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(908390),i=n(898781),o=n(349700),a=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=e.onUpdate,n=e.showLabel,u=e.value,c=(0,i.ZP)(),d=[],p=1;p<=50;p+=1)d.push({value:String(p),label:(0,o.nk)(c.ngettext('{{ servings }} serving', '{{ servings }} servings', p, 'storyboard.detailsList.field.servings', 'Option for number of servings a story pin recipe will provide'),{servings:p}).join("")});return(0,a.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",width:"100%",children:(0,a.jsx)(r.xu,{width:"100%",position:"relative",children:(0,a.jsx)(r.EI,{size:"lg",id:"servings",name:"servings",label:void 0===n||n?c._('Servings', 'storyboard.detailsList.field.servings', 'Header title for serving count entry for story pin recipe'):void 0,placeholder:c._('Pick a serving size', 'storyboard.detailsList.recipe', 'Placeholder caption for servings count input in story pin recipe'),value:u,onChange:function(e){var n=e.value;Number.isNaN(n)||t(n)},children:d.map(function(e){return(0,a.jsx)(r.EI.Option,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),e.label)})})})})}},234203:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(76911),i=n(908390),o=n(898781),a=n(349700),l=n(515198);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e){for(var t=e.header,n=e.onUpdate,s=e.value,u=(0,o.ZP)(),p=d((0,r.useState)(s?String(Math.floor(Number.parseInt(s,10)/60)):"0"),2),f=p[0],m=p[1],y=d((0,r.useState)(s?String(Number.parseInt(s,10)%60):"0"),2),h=y[0],g=y[1],v=function(e,t){n(String(Number.parseInt(t,10)+60*Number.parseInt(e,10)))},b=[],_=0;_<=9;_+=1)b.push({value:String(_),label:(0,a.nk)(u.ngettext('{{ hours }} hour', '{{ hours }} hours', _, 'storyboard.detailsList.recipe', 'Option for number of hours a story pin recipe will take'),{hours:_}).join("")});for(var x=[],P=0;P<60;P+=1)x.push({value:String(P),label:(0,a.nk)(u.ngettext('{{ minutes }} minute', '{{ minutes }} minutes', P, 'storyboard.detailsList.recipe', 'Option for number of minutes a story pin recipe will take'),{minutes:P}).join("")});return(0,l.jsxs)(i.kC,{alignItems:"end",justifyContent:"start",width:"100%",children:[(0,l.jsx)(i.xu,{width:"50%",marginEnd:2,children:(0,l.jsx)(i.EI,{size:"lg",id:"hours",name:"hours",label:t,placeholder:u._('Hours', 'storyboard.detailsList.recipe', 'Placeholder caption for hours input in story pin recipe cooktime'),value:f,onChange:function(e){var t=e.value;Number.isNaN(t)||(m(t),v(t,h))},children:b.map(function(e){return(0,l.jsx)(i.EI.Option,c({},e),e.label)})})}),(0,l.jsx)(i.xu,{width:"50%",marginStart:2,children:(0,l.jsx)(i.EI,{size:"lg",id:"minutes",name:"minutes",placeholder:u._('Minutes', 'storyboard.detailsList.recipe', 'Placeholder caption for minutes input in story pin recipe cooktime'),value:h,onChange:function(e){var t=e.value;Number.isNaN(t)||(g(t),v(f,t))},children:x.map(function(e){return(0,l.jsx)(i.EI.Option,c({},e),e.label)})})})]})}},259608:function(e,t,n){"use strict";var r=n(908390),i=n(112690),o=n(898781),a=n(515198);t.Z=function(e){var t=e.onSelect,n=e.selectedTemplate,l=e.size,s=void 0===l?"md":l,u=e.viewParameter,c=(0,o.ZP)(),d=(0,i.Z)(),p=function(e){switch(t(e),e){case"none":break;case"recipe":d({event_type:102,view_type:437,view_parameter:u,element:12356});break;case"diy":d({event_type:102,view_type:437,view_parameter:u,element:12357});break;case"blank":d({event_type:102,view_type:437,view_parameter:u,element:12358})}};return(0,a.jsx)(r.xu,{marginBottom:6,children:(0,a.jsxs)(r.FX,{id:"storyboard_metadata_list_selector",legend:c._('Storyboard Metadata Options List', 'Storyboard.DetailsList.OptionsList', 'Legend to a11y of Storyboard Metadata Options List'),legendDisplay:"hidden",direction:"row",children:[(0,a.jsx)(r.FX.RadioButton,{id:"ingredients",checked:"recipe"===n,label:c._('Ingredients', 'storyboard.detailsList.selection', 'Selection for adding details to story Pin'),onChange:function(){p("recipe")},size:s,value:"ingredients"}),(0,a.jsx)(r.FX.RadioButton,{id:"supplies",checked:"diy"===n,label:c._('Supplies', 'storyboard.detailsList.selection', 'Selection for adding details to story Pin'),onChange:function(){p("diy")},size:s,value:"supplies"}),(0,a.jsx)(r.FX.RadioButton,{id:"notes",checked:"blank"===n,label:c._('Notes', 'storyboard.detailsList.selection', 'Selection for adding details to story Pin'),onChange:function(){p("blank")},size:s,value:"notes"}),(0,a.jsx)(r.FX.RadioButton,{id:"noSelection",checked:"none"===n,label:c._('None', 'storyboard.detailsList.none', 'Selection for adding details to story Pin'),onChange:function(){p("none")},size:s,value:"none"})]})})}},296342:function(e,t,n){"use strict";n.d(t,{Af:function(){return c},Ei:function(){return s},II:function(){return x},Lh:function(){return g},U:function(){return y},UC:function(){return d},Zy:function(){return l},dD:function(){return o},er:function(){return h},hb:function(){return b},in:function(){return u},j7:function(){return v},kX:function(){return f},me:function(){return p},mx:function(){return _},n5:function(){return a},q8:function(){return m},xH:function(){return i}});var r=n(224496),i=1048576,o=3,a=20,l=3,s=10,u=50,c=10,d=720,p=1080,f=1200,m=375,y=375/r.ap,h=1200,g="#FFFFFF",v={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},b=420,_=325,x=768},251557:function(e,t,n){"use strict";n.d(t,{F:function(){return o},_:function(){return i}});var r=[0,2,1];function i(e){var t=e.list_blocks,n=e.key_value_blocks,r=t&&t.length>0?t.map(function(e){var t=e.heading,n=e.blocks;return{heading:t,items:(null!=n?n:[]).map(function(e){return e.text?e.text:""})}}):[];return{keyValueBlocks:(n||[]).reduce(function(e,t){var n=t.category_type,r=t.value;return e[null!=n?n:""]=r,e},{}),listBlocks:r}}function o(e){var t=e.keyValueBlocks,n=e.listBlocks;return t||n?{list_blocks:n?n.map(function(e){var t=e.heading;return{blocks:(e.items||[]).map(function(e){return{text:e,type:9}}),heading:t,type:7}}):[],key_value_blocks:(t?Object.keys(t).map(function(e){var n=t[e],i=Number.parseInt(e,10),o=r.indexOf(i)>-1&&n===Number.parseInt(n,10).toString();return n&&o?{value:n,category_type:i,type:8}:null}):[]).filter(Boolean)}:null}},540923:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(76911),i=n(908390),o=n(898781),a=n(882801),l=n(515198);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=function(e){return 0===e?0:2},f=function(e){var t=e.children,n=e.dangerouslySetInlineStyle,r=e.marginTop;return(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:n,"data-test-id":"structured-description",marginTop:r,children:t})},m=function(e){var t=e.content,n=e.order,r=e.type;if(!t)return null;var o=r===a.X.HEADER,s=[a.X.HEADER,a.X.BOLD].includes(r),u=n>0&&o?4:p(n);return(0,l.jsx)(f,{marginTop:u,children:(0,l.jsx)(i.xv,{size:"200",weight:s?"bold":"normal",children:t})})},y=function(e){var t=e.content,n=e.order;return t?(0,l.jsx)(f,{marginTop:p(n),children:t}):null},h=function(e){var t=e.content,n=e.order;return Array.isArray(t)&&0!==t.length?(0,l.jsx)(f,{marginTop:p(n),children:t.map(function(e){return(0,l.jsxs)(i.xu,{display:"flex",direction:"row",marginStart:1,marginTop:1,children:[(0,l.jsx)(i.xv,{size:"200",weight:"bold",inline:!0,children:"\xb7"}),(0,l.jsx)(i.xu,{marginStart:1,children:(0,l.jsx)(i.xv,{size:"200",children:e})})]},e)})}):null},g=function(e){var t=e.accessibilityLabel,n=e.content,r=e.order;return n&&"object"===d(n)?(0,l.jsx)(f,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:p(r),children:(0,l.jsx)(i.iA,{accessibilityLabel:t,children:(0,l.jsx)(i.iA.Body,{children:Object.entries(n).map(function(e,t){var n=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1];return(0,l.jsxs)(i.iA.Row,{children:[(0,l.jsx)(i.iA.Cell,{children:(0,l.jsx)(i.xv,{size:"100",weight:"bold",children:r})}),(0,l.jsx)(i.iA.Cell,{children:(0,l.jsx)(i.xv,{size:"100",children:String(o)})})]},t)})})})}):null},v=function(e){var t=e.accessibilityLabel,n=e.content,r=e.order;if(!Array.isArray(n)||n.length<2)return null;var o=n[0],a=n.slice(1);return(0,l.jsx)(f,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:p(r),children:(0,l.jsxs)(i.iA,{accessibilityLabel:t,children:[(0,l.jsx)(i.iA.Header,{children:(0,l.jsx)(i.iA.Row,{children:o.map(function(e,t){return(0,l.jsx)(i.iA.HeaderCell,{children:(0,l.jsx)(i.xv,{size:"100",weight:"bold",children:e})},t)})})}),(0,l.jsx)(i.iA.Body,{children:a.map(function(e,t){return(0,l.jsx)(i.iA.Row,{children:e.map(function(e,t){return(0,l.jsx)(i.iA.Cell,{children:(0,l.jsx)(i.xv,{size:"100",children:e})},t)})},t)})})]})})},b=function(e){var t=(0,o.ZP)();switch(e.type){case a.X.POINTS:return(0,l.jsx)(h,u({},e));case a.X.SPECS:return(0,l.jsx)(g,u({accessibilityLabel:t._('Specification view of description', 'webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredSpecs', 'Content represented in specification format')},e));case a.X.TABLE:return(0,l.jsx)(v,u({accessibilityLabel:t._('Table view of description', 'webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredTable', 'Content represented in table format')},e));case a.X.ELEMENT:return(0,l.jsx)(y,u({},e));default:return(0,l.jsx)(m,u({},e))}};function _(e){var t=e.descriptions,n=e.onLoad;return((0,r.useEffect)(function(){"function"==typeof n&&n()},[n]),0===t.length)?null:t.map(function(e,t){var n=e.content,r=e.type;return(0,l.jsx)(b,{content:n,order:t,type:r},t)})}},219413:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r,i=n(76911);n(704217);var o=n(681669),a=n(882801),l=void 0!==r?r:r=n(721538);function s(e){var t=(0,o.HF)(l,e,{type:"pin",useGraphQLAdapter:function(e){return(0,i.useMemo)(function(){var t;return(t=e.formattedCloseupDescription)&&Array.isArray(t.components)?t.components.filter(function(e){return e.type}).map(function(e){var t,n,r,i,o=null!==(t=e.type)&&void 0!==t?t:"";return o===a.X.SPECS?{type:o,content:null===(i=e.specsContent)||void 0===i?void 0:i.map(function(e){return{key:e.key,value:e.value}})}:{type:o,content:null!==(n=null!==(r=e.stringContent)&&void 0!==r?r:e.pointsContent)&&void 0!==n?n:e.tableContent}}):[]},[e.formattedCloseupDescription])},useLegacyAdapter:function(e){var t,n=null===(t=e.formatted_description)||void 0===t?void 0:t.components;return Array.isArray(n)?n:[]}}).data;return null!=t?t:[]}},882801:function(e,t,n){"use strict";n.d(t,{X:function(){return r},j:function(){return i}});var r={BOLD:"formatted_description_bold_component",ELEMENT:"formatted_description_element_component",HEADER:"formatted_description_header_component",PARAGRAPH:"formatted_description_paragraph_component",POINTS:"formatted_description_points_component",SPECS:"formatted_description_specs_component",TABLE:"formatted_description_table_component"},i=function(e){var t=e.components,n=e.pinDescription;return t&&0!==t.length?t:[{content:n,type:r.PARAGRAPH}]}},375559:function(e,t,n){"use strict";n.d(t,{JJ:function(){return r},N3:function(){return o},zu:function(){return i}});var r=["TR","WB"],i=["BR","CG","HP","HR","JH","MP","RJ","UK","UP"],o=[].concat(r,i,["AP","TG"])},116674:function(e,t,n){"use strict";n.d(t,{X:function(){return p},f:function(){return d}});var r=n(76911),i=n(425288),o=n(623568);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,parentId:t.payload.parentId,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type,isThirdPartyAd:t.payload.isThirdPartyAd};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var l=n(515198);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,i.Z)("ReportData"),c=u.Provider,d=u.useHook;function p(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(a,null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=i[0],d=i[1],p=(0,r.useCallback)(function(){return d({type:"REPORT_CONTENT_DISMISS"})},[]),f=(0,r.useCallback)(function(e,t,n){return d({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:t,videoDuration:null,viewParameter:null,viewType:null,type:n}})},[]),m=(0,r.useCallback)(function(e,t,n){return d({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"conversation"}})},[]),y=(0,r.useCallback)(function(e,t,n){return d({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"pin"}})},[]),h=(0,r.useCallback)(function(e){var t=e.pinId,n=e.isDownstreamPromotion,r=e.hasPromoter,i=e.firstVideoDuration,a=e.isProduct,l=e.viewParameter,s=e.viewType,u=e.isThirdPartyAd;d({type:"REPORT_CONTENT_SHOW",payload:{id:t,isProduct:a,isPromoted:(0,o.jL)(n,r),videoDuration:i,viewParameter:l,viewType:s,type:"pin",isThirdPartyAd:u}})},[]),g=(0,r.useMemo)(function(){return{reportData:u,dismiss:p,reportComment:f,reportConversation:m,reportImage:y,reportPin:h}},[u,p,f,m,y,h]);return(0,l.jsx)(c,{value:g,children:n})}},862193:function(e,t,n){"use strict";var r,i=n(76911),o=n(704217);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){var r;return(r=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===a(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=void 0!==r?r:r=n(434444);t.Z=function(e){var t,n=(0,o.useFragment)(c,e),r=null==n?void 0:null===(t=n.pinJoin)||void 0===t?void 0:t.annotationsWithLinksArray;return(0,i.useMemo)(function(){return null==r?void 0:r.reduce(function(e,t){var n=t.name,r=t.url;return n?s(s({},e),{},u({},n,{name:n,url:r})):e},{})},[r])}},109892:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(506979),i=n(833314),o=n(214494),a=n(332611),l=n(886858),s=n(248327),u=n(414327);function c(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function d(){var e,t,n=(0,r.useDispatch)(),d=(0,r.useSelector)(function(e){return e.resources});return e=regeneratorRuntime.mark(function e(t){var r,c,p,f,m,y,h,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.boardCreateOptions,p=t.deprecatedSchemaForNormalization,e.next=3,o.Z.create("BoardResource",c).callCreate();case 3:return m=(f=e.sent).resource_response.data,y=p?(0,i.Fv)(m,p):void 0,n((0,u.XM)("BoardResource",c,f,y)),n((0,a.fO)({event_type:20})),null!==(r=m.owner)&&void 0!==r&&r.id&&n((0,s.b)("UserResource",{options:{user_id:m.owner.id,field_set_key:"save_behavior"}})),h=d.BoardsResource||{},g=d.BoardsFeedResource||{},Object.keys(h).forEach(function(e){var t;(0,l.k)(e).username===(null===(t=m.owner)||void 0===t?void 0:t.username)&&n((0,u.jB)("BoardsResource",e))}),Object.keys(g).forEach(function(e){var t;(0,l.k)(e).username===(null===(t=m.owner)||void 0===t?void 0:t.username)&&n((0,u.jB)("BoardsFeedResource",e))}),e.abrupt("return",m);case 14:case"end":return e.stop()}},e)}),t=function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,l,"next",e)}function l(e){c(o,r,i,a,l,"throw",e)}a(void 0)})},function(e){return t.apply(this,arguments)}}},986926:function(e,t,n){"use strict";var r,i=n(76911),o=n(704217);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){var r;return(r=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===a(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=void 0!==r?r:r=n(982182);t.Z=function(e){var t=(0,o.useFragment)(c,e),n=null==t?void 0:t.reactionCountsData;return(0,i.useMemo)(function(){return n?n.reduce(function(e,t){var n,r;return s(s({},e),{},u({},String(null!==(n=t.reactionType)&&void 0!==n?n:0),null!==(r=t.reactionCount)&&void 0!==r?r:0))},{}):n},[n])}},817767:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r,i=n(506979);n(704217);var o=n(908390),a=n(112690),l=n(916117),s=n(898781),u=n(667679),c=n(867820),d=n(52022),p=n(19121),f=n(512176),m=n(815613),y=n(461773),h=n(90326),g=n(892819),v=n(349700),b=n(780280),_=n(515198),x=function(e){var t=e.followerCount,n=(0,s.ZP)(),r=(0,g.Z)(),i=(0,b.B)().locale;return(0,_.jsx)(o.xv,{children:(0,v.nk)(n.ngettext('{{followers}} follower', '{{followers}} followers', t, 'pinPage.attribution.followersCount', 'Count of a user\'s followers'),{followers:r(i,t,{shortform:!0,shortform_maximum_fraction_digits:0})})})},P=void 0!==r?r:r=n(951193);function S(e){var t=(0,p.Z)(),n=t.isAuth&&t.id,r=t.isAuth,g=(0,s.ZP)(),v=(0,u.Z)(),b=(0,a.Z)(),S=(0,d.Z)(),j=(0,i.useDispatch)(),w=function(e){return j((0,y.ZN)(e))},O=function(e){return j((0,y.fv)(e))},A=e.avatarSize,k=e.detailText,C=e.hideButtons,D=e.blockedByMe,E=e.explicitlyFollowedByMe,I=e.followerCount,T=e.fullName,R=e.id,F=e.imageLargeUrl,L=e.imageMediumUrl,z=e.imageSmallUrl,M=e.isEligibleForPdp,B=e.isVerifiedMerchant,N=e.verifiedIdentityVerified,Z=e.username,U=e.isCurrentUser,K=e.isOnCloseup,H=e.isImagePinForUnauthOnTablet,V=e.pinId,G=e.pinKey,W=e.shouldNavigateToProfile,q=e.textColor,Y=e.type,X=e.viewParameter,$=e.viewType,Q=e.unauthFollow,J=e.activateLexFollowExp,ee=e.clientTrackingParams,et=(0,l.u)(P,G).data,en=(V&&V.length,function(){r?(w(R),b({event_type:45,view_type:3,view_parameter:156,view_data:{isCurrentUser:U,viewObjectId:V,viewObjectIdStr:V},object_id_str:R,clientTrackingParams:ee})):v({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click_follow",desktopOptions:{modalType:"login"}})}),er=function(){O(R),b({event_type:46,view_type:3,view_parameter:156,object_id_str:R,clientTrackingParams:ee})},ei=function(){return(0,_.jsx)(m.Z,{disableLog:!0,followEventType:45,id:R,isFollowed:E||!1,isSecondaryButton:!0,isUserFollowButton:!0,isUserMe:n===R,onFollow:function(){return K?en():w(R)},onUnfollow:function(){return K?er():O(R)},pinKey:et,size:"md",unfollowEventType:46,viewParameter:X,viewType:$,clientTrackingParams:ee})},eo=function(){if(D)return(0,_.jsx)(o.zx,{fullWidth:!0,color:"gray",onClick:function(){return j((0,h.h2)(R,b))},size:"md",text:g._('Unblock', ' - ', ' -- ')});if(r)return ei();if(J){if(!J().group.includes("hide_follow")&&Q)return ei()}else if(Q)return ei();return null},ea=function(e){return(0,_.jsx)(o.xu,{"data-test-id":"avatar-image",children:(0,_.jsx)(o.HE,{accessibilityLabel:g._('User`s avatar', 'User`s avatar', 'User`s avatar'),onClick:function(){S({action:"click",item:"avatar-image"})},collaborators:[{name:null!=T?T:"",src:F||L||z||void 0}],size:(e||{}).size})})},el=H?"calc(100% - 48px)":void 0,es=B||N,eu=(0,_.jsxs)(o.kC,{alignItems:"center",flex:"shrink",justifyContent:"start",children:[(0,_.jsx)(o.xu,{flex:"none",marginEnd:2,children:ea({size:A||"md"})}),(0,_.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",maxWidth:el,children:[(0,_.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[!r&&M&&!es&&(0,_.jsx)(o.xu,{marginEnd:1,children:(0,_.jsx)(o.xv,{children:g._('Saved by', 'Context on user rep', 'userRep.saveContext')})}),(0,_.jsx)(o.xu,{"data-test-id":"username",children:(0,_.jsx)(o.iP,{onTap:function(){S({action:"click",item:"username"})},children:(0,_.jsx)(o.xv,{color:q||"default",lineClamp:H?1:void 0,weight:"bold",children:T})})}),es&&(0,_.jsx)(o.xu,{marginStart:1,paddingY:1,children:(0,_.jsx)(f.Z,{showVerifiedIdentity:!B,size:"sm"})})]}),(0,_.jsx)(o.xv,{color:q||"default",lineClamp:H?1:void 0,children:k}),!!I&&(0,_.jsx)(o.xu,{"data-test-id":"user-follower-count",children:(0,_.jsx)(o.iP,{onTap:function(){S({action:"click",item:"user-follower-count"})},children:(0,_.jsx)(x,{followerCount:I})})})]})]}),ec="row"===Y?(0,_.jsxs)(o.kC,{alignItems:"center",justifyContent:"between",children:[eu,!C&&(0,_.jsx)(o.xu,{flex:"none",marginStart:2,children:eo()})]}):(0,_.jsxs)(o.xu,{maxWidth:el,padding:2,children:[ea(),(0,_.jsxs)(o.xu,{display:"flex",paddingY:2,children:[(0,_.jsx)(o.xv,{align:"center",size:"200",lineClamp:1,weight:"bold",children:T}),es&&(0,_.jsx)(o.xu,{marginStart:1,paddingY:1,children:(0,_.jsx)(f.Z,{showVerifiedIdentity:!B,size:"sm"})})]}),!C&&eo()]}),ed=(0,_.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"between",overflow:"hidden",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,_.jsx)(o.Tg,{onTap:function(){r||((0,c.NC)("click_pin_closeup_profile"),S({action:"click",item:"user-rep"}))},tapStyle:"compress",rounding:2,href:"/".concat(encodeURIComponent(Z),"/"),children:eu}),!C&&(0,_.jsx)(o.xu,{flex:"none",marginStart:2,children:eo()})]});return(0,_.jsx)(o.xu,{"data-test-id":"user-rep",width:"100%",children:void 0===W||W?ed:ec})}},926749:function(e,t,n){"use strict";n.d(t,{ZP:function(){return F}});var r=n(76911),i=n(908390),o=n(407043),a=n(766935),l=n(722767),s=n(121630),u=n(944546);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=["eventData","component","objectId","view","viewParameter"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var f=n(158103),m=n(515198);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=["height","width","windowHeight","windowWidth","viewability"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return(t=j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var O=[0,.25,.5,.75,.95,.97],A=[0,.5,.8,.99,1],k="-64px 0px 0px 0px",C={rootMargin:k,threshold:A},D={rootMargin:k,threshold:u.i},E=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function I(){return new Date().getTime()}function T(e){return!!e.volume&&e.volume>0}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(g,e);var t,n,o,u=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=P(g);if(t){var r=P(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return x(e)}(this,e)});function g(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,g),S(x(t=u.call(this,e)),"videoWrapperRef",(0,r.createRef)()),S(x(t),"handleWindowResize",function(){if(!t.fullscreen){var e=t.getDimensions(),n=t.currentInterval,r=n.height,i=n.width;e.height!==r||e.width!==i?t.startNewInterval(e):(t.currentInterval.windowHeight=e.windowHeight,t.currentInterval.windowWidth=e.windowWidth)}}),S(x(t),"handlePlayheadDown",function(e){var n=e.event,r=t.props.onPlayheadDown;t.setState({seeking:!0}),r&&r({event:n})}),S(x(t),"handlePlayheadUp",function(e){var n=e.event,r=t.props.onPlayheadUp;t.setState({seeking:!1}),r&&r({event:n})}),S(x(t),"handleLoop",function(){t.videoTime=0}),S(x(t),"handleTimeChange",function(e){var n=t.state,r=n.seeking,i=n.ready;if(t.currentInterval.videoDuration){var o=1e3*e.time,a=function(e,t,n,r){if(e>t||n<=0)return null;var i,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(r);try{for(o.s();!(i=o.n()).done;){var a=i.value,l=a*n;if(e<=l&&t>l)return a}}catch(e){o.e(e)}finally{o.f()}return null}(t.videoTime,o,t.currentInterval.videoDuration,O);if("number"==typeof a&&t.props.playing&&!r&&i){var l=I();t.logVideoEvent(6906,v(v({},t.currentInterval),{},{startTime:l,endTime:l,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a}))}t.videoTime=o,t.props.onTimeChange&&t.props.onTimeChange(e)}}),S(x(t),"handleDurationChange",function(e){t.currentInterval.videoDuration=1e3*e.duration,t.props.onDurationChange&&t.props.onDurationChange(e)}),S(x(t),"handleReady",function(e){t.state.ready||t.setState({ready:!0}),t.props.onReady&&t.props.onReady(e)}),S(x(t),"handleEnded",function(e){t.logFourthQuartileEvent(),t.props.loop&&(t.startNewInterval(),t.currentInterval.videoStartTime=0),t.props.onEnded&&t.props.onEnded(e)}),S(x(t),"handleVisibilityChange",function(e){if(0!==e.length){var n=function(e,t){for(var n=0;n<t.length;n+=1){var r=t[n],i=t[n+1];if(null==i||r<=e&&e<i)return r}return null}(Number.parseFloat(e.slice(-1)[0].intersectionRatio.toFixed(2)),A);"number"==typeof n&&(t.visible=n>=.5),null==n||n===t.currentInterval.viewability||t.fullscreen||(0===n?t.startNewInterval({viewability:n,playbackState:E.PAUSED}):t.startNewInterval({viewability:n}))}}),S(x(t),"handleFullscreenChange",function(e){var n=e.event,r=e.fullscreen;if(r){var i=window.screen,o=i.height,a=i.width;t.startNewInterval({height:o,width:a,windowHeight:o,windowWidth:a})}else r||t.startNewInterval(t.getDimensions());t.fullscreen=r,t.props.onFullscreenChange&&t.props.onFullscreenChange({event:n,fullscreen:r})}),S(x(t),"handleClose",function(){t.startNewInterval()}),S(x(t),"handleContextMenu",function(e){e.preventDefault()}),t.state={ready:!1,seeking:!1};var t,n=I();return t.handleWindowResize=(0,a.Z)(t.handleWindowResize,1e3),t.currentInterval={videoDuration:0,startTime:n,endTime:n,videoStartTime:0,videoEndTime:0,isAudible:T(e),playbackState:t.getPlaybackState(e,t.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},t.videoTime=0,t.fullscreen=!1,t.visible=null,t}return n=[{key:"componentDidMount",value:function(){this.currentInterval=v(v({},this.currentInterval),this.getDimensions()),window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}},{key:"componentDidUpdate",value:function(e,t){var n={};T(e)&&!T(this.props)?n.isAudible=!1:!T(e)&&T(this.props)&&(n.isAudible=!0);var r=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==r&&(n.playbackState=r),Object.keys(n).length>0&&this.startNewInterval(n)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}},{key:"getPlaybackState",value:function(e,t){return t.ready?e.playing&&!t.seeking?E.PLAYING:E.PAUSED:E.LOADING}},{key:"getDimensions",value:function(){if(this.videoWrapperRef.current){var e,t,n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}},{key:"logVideoEvent",value:function(e,t){var n=this.props,r=n.closeupStoryPinViewability,i=n.contextLogData,o=n.logContextEvent,a=n.playing,l=n.surface,s=this.state.seeking,u=t.height,f=t.width,m=t.windowHeight,y=t.windowWidth,g=t.viewability,b=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,h);if(null!=u&&null!=f&&null!=m&&null!=y&&null!=g){var _,x,P,S,j,w,O,A,k,C,D,E,I,T,R,F,L,z=v(v({},b),{},{gridAutoplay:6904===e&&a&&!s&&("AuthHomefeed"===l||"SearchItem"===l||"RelatedPinGrid"===l),height:u,width:f,windowHeight:m,windowWidth:y,viewability:r||g});o(v({event_type:e},(P=(x=(_=v(v({},i),{},{view:this.fullscreen?108:i.view,eventData:{videoEvent:z}})).eventData.videoEvent).gridAutoplay,S=x.videoDuration,j=x.startTime,w=x.endTime,O=x.videoStartTime,A=x.videoEndTime,k=x.isAudible,C=x.height,D=x.width,E=x.playbackState,I=x.quartile,T=x.quartilePercentValue,R=x.windowHeight,F=x.windowWidth,L=x.viewability,{component:_.component,object_id_str:_.objectId,view_type:_.view,view_parameter:_.viewParameter,aux_data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(_,d)),event_data:{videoEventData:{gridAutoplay:P,videoDuration:S,time:j,endTime:w,videoTime:O,endVideoTime:A,isAudible:k,height:C,width:D,playbackState:E,quartile:I,quartilePercentValue:T,windowHeight:R,windowWidth:F,viewability:L}}})))}}},{key:"logFourthQuartileEvent",value:function(){var e=I();this.logVideoEvent(6906,v(v({},this.currentInterval),{},{startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1}))}},{key:"startNewInterval",value:function(e){var t=I();this.logVideoEvent(6904,v(v({},this.currentInterval),{},{endTime:t,videoEndTime:this.videoTime})),this.currentInterval=v(v(v({},this.currentInterval),e),{},{startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1})}},{key:"render",value:function(){var e=this.props,t=e.aspectRatio,n=e.backgroundColor,r=e.captions,o=e.contextLogData,a=e.controls,u=e.cropHeight,c=e.hlsConfig,d=e.inAdsDesktopVideoExperiment,p=e.isAutoPlay,y=e.loop,h=e.objectFit,g=e.onLoadedChange,v=e.onControlsPause,b=e.onControlsPlay,_=e.onSeek,x=e.onVolumeChange,P=e.playbackRate,S=e.playing,j=e.playsInline,w=e.poster,O=e.preload,A=e.rootMargin,k=e.src,E=e.surface,I=e.videoStartTime,T=e.volume,R=this.state.seeking,F=d?D:C;return void 0!==A&&(F.rootMargin=E?(0,s.e)(E):A),(0,m.jsx)(l.Z,{options:F,onVisibilityChange:this.handleVisibilityChange,children:(0,m.jsx)(i.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:u?{display:"flex",alignItems:"center",height:"".concat(u,"px")}:{}},children:(0,m.jsx)(f.default,{aspectRatio:u?236/u:t,backgroundColor:n,captions:r,contextLogData:o,controls:a,hlsConfig:c,isAutoPlay:p,loop:y,objectFit:h,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:g,onLoop:this.handleLoop,onControlsPause:v,onControlsPlay:b,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:_,onTimeChange:this.handleTimeChange,onVolumeChange:x,playbackRate:P,playing:!R&&S,onPlay:function(){},onPlayError:function(){},playsInline:j,poster:w,preload:O,src:k,videoStartTime:I,visible:this.visible,volume:T})})})}}],b(g.prototype,n),o&&b(g,o),Object.defineProperty(g,"prototype",{writable:!1}),g}(r.Component);function F(e){var t=(0,o.v)().logContextEvent;return(0,m.jsx)(R,v(v({},e),{},{logContextEvent:t}))}S(R,"defaultProps",i.nk.defaultProps)},158103:function(e,t,n){"use strict";n.r(t),n.d(t,{VideoWrapper:function(){return U},default:function(){return K},getPlaylistSourceSrc:function(){return Z}});var r=n(76911),i=n(908390),o=n(366284),a=n(780280),l=n(858416),s=n(562559),u=n(994320),c=n(965900),d=n(407043),p=n(391254),f=n(773285),m=n(19121),y=n(969315),h=n(179888),g=n(539766),v=n(515198),b=["view","viewParameter","component","element","objectId"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}function S(e,t){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return(t=A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==k(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===k(t)?t:String(t)}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!e||void 0===e)return"undefined";if("string"==typeof e){var n=e;return t&&(n=e.replace("v1.pinimg.com","control"===t?"v3.pinimg.com":"v2.pinimg.com")),n}if(Array.isArray(e)&&e[0].src){var r=e[0].src;return t&&(r=r.replace("v1.pinimg.com","control"===t?"v3.pinimg.com":"v2.pinimg.com")),r}return"unsupported_type_".concat(k(e))}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(l,e);var t,n,o,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=w(l);if(t){var r=w(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return j(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(j(e=a.call.apply(a,[this].concat(n))),"state",{canPlayVideo:!1,playbackState:h.Cy.DEFAULT,videoStartTime:e.props.seekTime?e.props.seekTime:e.props.videoStartTime||0}),O(j(e),"errorRetryCount",2),O(j(e),"hasSegmentStarted",!1),O(j(e),"hasPlaybackStarted",!1),O(j(e),"hasVideoSessionStarted",!1),O(j(e),"hasVideoSessionEnded",!1),O(j(e),"lastStallTime",null),O(j(e),"lastPauseTime",null),O(j(e),"logSessionStartOnNextPlay",!1),O(j(e),"playerId",""),O(j(e),"videoSessionId",""),O(j(e),"videoVisibleTime",null),O(j(e),"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:C(e.props.src,e.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),O(j(e),"componentDidMount",function(){var t,n,r=e.props,i=r.contextLogData,o=r.playing,a=(void 0===i?{}:i).is_closeup_video,l=void 0!==a&&a;(0,y.tE)("videoMounted",!1,l),o&&(e.videoVisibleTime=new Date,e.logPlaybackPerformance(h.DR,{initiator:"mount"}));var s=null===(t=e.videoPlayerRef)||void 0===t?void 0:null===(n=t.video)||void 0===n?void 0:n.textTracks[0];s&&s.addEventListener("cuechange",function(){var e=s.activeCues[0];e&&e.line&&(e.line=-6,e.size=88)})}),O(j(e),"componentDidUpdate",function(t){var n,r,i=e.props,o=i.playing,a=i.visible,l=i.appInFocus,s=i.seekTime,u=i.captionsEnabled;s&&s!==t.seekTime&&e.setState({videoStartTime:s});var c=null===(n=e.videoPlayerRef)||void 0===n?void 0:null===(r=n.video)||void 0===r?void 0:r.textTracks[0];c&&(u?c.mode="showing":c.mode="disabled"),t.appInFocus&&!l&&(e.logPlaybackPerformance(h.$f,{initiator:"update"}),e.logSessionStartOnNextPlay=!0),t.visible&&!1===a&&(e.logSessionStartOnNextPlay=!1,e.updatePauseDuration(),e.logPlaybackPerformance(h.$f,{initiator:"update"})),!1===t.visible&&!0===a&&(e.videoVisibleTime=e.videoVisibleTime||new Date,o?(e.setPlaybackStartTime(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.logPlaybackPerformance(h.DR,{initiator:"update"})):e.logSessionStartOnNextPlay=!0),o&&l&&e.logSessionStartOnNextPlay&&(e.setPlaybackStartTime(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.logPlaybackPerformance(h.DR,{initiator:"update"}),e.logSessionStartOnNextPlay=!1)}),O(j(e),"addSegment",function(){var t=e.playbackPerformance,n=t.canPlayTime,r=t.loadStartTime,i=t.segments,o=t.srcString,a=-1;n&&r&&0===i.length&&(a=n>r?n-r:0);var l=e.videoPlayerRef&&e.videoPlayerRef.video,s={indicatedKbps:-1,duration:l&&l.duration*h.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:a,switchBitrateKbps:-1,uri:o,viewportWidth:l&&l.clientWidth||-1,viewportHeight:l&&l.clientHeight||-1,watchedDurationMs:0};i.push(s)}),O(j(e),"getCurrentVideoTime",function(){return e.videoPlayerRef&&e.videoPlayerRef.video?e.videoPlayerRef.video.currentTime*h.gJ:0}),O(j(e),"getVideoResourceTiming",function(){var t,n;if(null!==(t=window)&&void 0!==t&&null!==(n=t.performance)&&void 0!==n&&n.getEntriesByName&&e.playbackPerformance.srcString){var r=window.performance.getEntriesByName(e.playbackPerformance.srcString);return r.length>0&&r[0]||null}return null}),O(j(e),"handleCanPlayVideo",function(t){var n=e.props,r=n.contextLogData,i=n.onReady,o=n.playing,a=(void 0===r?{}:r).is_closeup_video,l=void 0!==a&&a,s=e.state.canPlayVideo;(0,y.tE)("handleCanPlayVideo",!1,l,{firstCanPlayEvent:!s,playing:o}),e.playbackPerformance.hasFatalError=!1,s||(e.playbackPerformance.canPlayTime=new Date),e.setState({canPlayVideo:!0}),i&&i(t)}),O(j(e),"handleEnded",function(t){var n=e.props,r=n.loop,i=n.onEnded,o=e.playbackPerformance.segments,a=o&&o[o.length-1];r&&e.videoPlayerRef&&e.videoPlayerRef.video?(e.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),e.hasSegmentStarted=!1):r||e.logPlaybackPerformance(h.$f,{initiator:"videoEnded",loop:r}),e.setState({playbackState:h.Cy.ENDED}),i&&i(t)}),O(j(e),"handleError",function(){var t,n,r,i,o,a,l,s,u=e.props.contextLogData,c=(void 0===u?{}:u).is_closeup_video,d=void 0!==c&&c,p=e.videoPlayerRef&&e.videoPlayerRef.video;(null==p?void 0:null===(t=p.error)||void 0===t?void 0:t.code)!==h.lG.MEDIA_ERR_ABORTED&&(e.playbackPerformance.hasFatalError=!0),e.playbackPerformance.detailedErrors+="".concat(e.playbackPerformance.detailedErrors.length>0?", ":"").concat((null==p?void 0:null===(n=p.error)||void 0===n?void 0:n.message)||""),e.playbackPerformance.errorCode=(null==p?void 0:null===(r=p.error)||void 0===r?void 0:r.code)||0,e.playbackPerformance.errorName=(null==p?void 0:null===(i=p.error)||void 0===i?void 0:null===(o=i.message)||void 0===o?void 0:o.slice(0,100))||"unknown",e.playbackPerformance.errorReason=(null==p?void 0:null===(a=p.error)||void 0===a?void 0:null===(l=a.message)||void 0===l?void 0:l.slice(0,100))||"unknown";var f={errorName:e.playbackPerformance.errorCode,errorReason:e.playbackPerformance.errorName,errorRetryCount:e.errorRetryCount,playbackState:e.state.playbackState,networkState:(null==p?void 0:p.networkState)||"unknown"};switch((0,y.tE)("fatalError",!1,d,f),null==p?void 0:null===(s=p.error)||void 0===s?void 0:s.code){case h.lG.MEDIA_ERR_ABORTED:break;case h.lG.MEDIA_ERR_NETWORK:case h.lG.MEDIA_ERR_DECODE:case h.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:e.errorRetryCount>0&&(null==p||p.load(),e.errorRetryCount-=1)}e.updateWatchDurationForCurrentSegment(),e.setState({playbackState:h.Cy.FAILED})}),O(j(e),"handleLoadedMetadata",function(){e.setState({playbackState:h.Cy.LOADED_METADATA})}),O(j(e),"handleLoadStart",function(){e.playbackPerformance.loadStartTime=new Date,e.setState({playbackState:h.Cy.LOAD_START})}),O(j(e),"handleLoadedData",function(){e.setState({playbackState:h.Cy.LOADED_DATA})}),O(j(e),"handlePlaying",function(){e.playbackPerformance.hasFatalError=!1,e.setPlaybackStartTime(),e.hasSegmentStarted||e.addSegment(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.updateStallDuration(),e.updatePauseDuration(),e.setState({playbackState:h.Cy.PLAYING}),e.props.clearSeekTime&&e.props.clearSeekTime()}),O(j(e),"handleUserPause",function(t){var n=t.event,r=e.props.onControlsPause;e.lastPauseTime=new Date,r&&r({event:n})}),O(j(e),"handleVideoPause",function(){e.state.playbackState===h.Cy.STALLING||e.state.playbackState===h.Cy.SEEKING||(e.updateWatchDurationForCurrentSegment(),e.lastPauseTime||e.updateStallDuration()),e.setState({playbackState:h.Cy.PAUSED})}),O(j(e),"handleSeeking",function(){e.playbackPerformance.numberOfSeeks+=1;var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&(n.lastStartPlayTime=null),e.state.playbackState!==h.Cy.ENDED&&e.setState({playbackState:h.Cy.SEEKING})}),O(j(e),"handleStalled",function(){null===e.lastStallTime&&e.state.playbackState!==h.Cy.ENDED&&(e.lastStallTime=new Date,e.playbackPerformance.numberOfStalls+=1,e.setState({playbackState:h.Cy.STALLING}))}),O(j(e),"handleTimeUpdate",function(t){var n=e.props.onTimeChange;n&&n(t),e.state.playbackState===h.Cy.PLAYING&&(e.updateWatchDurationForCurrentSegment(),e.setLastSegmentStartPlayTime())}),O(j(e),"resetPlaybackMetrics",function(){e.hasSegmentStarted=!0,e.hasPlaybackStarted=!1,e.hasVideoSessionStarted=!1,e.hasVideoSessionEnded=!0,e.lastStallTime=null,e.lastPauseTime=null,e.videoSessionId="",e.videoVisibleTime=null,e.logSessionStartOnNextPlay=!1;var t=x(x({},e.playbackPerformance.segments[e.playbackPerformance.segments.length-1]),{},{lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0});e.playbackPerformance.detailedErrors="",e.playbackPerformance.errorCode=0,e.playbackPerformance.errorName="",e.playbackPerformance.errorReason="",e.playbackPerformance.hasFatalError=!1,e.playbackPerformance.numberOfStalls=0,e.playbackPerformance.numberOfSeeks=0,e.playbackPerformance.playbackStartTimestamp=null,e.playbackPerformance.totalStallDurationMs=0,e.playbackPerformance.segments=[t]}),O(j(e),"setLastSegmentStartPlayTime",function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&null===n.lastStartPlayTime&&(n.lastStartPlayTime=e.getCurrentVideoTime())}),O(j(e),"setLastSegmentPlaybackStartDate",function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&null===n.playbackStartDate&&(n.playbackStartDate=Date.now())}),O(j(e),"setPlaybackStartTime",function(){e.hasPlaybackStarted||(e.playbackPerformance.playbackStartTimestamp=Date.now(),e.hasPlaybackStarted=!0)}),O(j(e),"setVideoPlayerRef",function(t){var n=e.props.setVideoRef;if(t&&(n&&n(t),e.videoPlayerRef=t,e.videoPlayerRef.video)){var r=e.videoPlayerRef.video;r.addEventListener("loadedmetadata",e.handleLoadedMetadata),r.addEventListener("loadeddata",e.handleLoadedData),r.addEventListener("pause",e.handleVideoPause),r.readyState>=3&&(e.setState({canPlayVideo:!0}),e.playbackPerformance.canPlayTime=new Date)}}),O(j(e),"updateStallDuration",function(){if(null!==e.lastStallTime){var t=j(e).lastStallTime;e.playbackPerformance.totalStallDurationMs+=new Date-t,e.lastStallTime=null}}),O(j(e),"updatePauseDuration",function(){if(null!==e.lastPauseTime){var t=j(e).lastPauseTime;e.playbackPerformance.totalPauseDurationMs+=new Date-t,e.lastPauseTime=null}}),O(j(e),"updateWatchDurationForCurrentSegment",function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1],r=n?n.lastStartPlayTime:null,i=e.getCurrentVideoTime();if(n&&null!==r&&"number"==typeof i&&"number"==typeof r){var o=i-r;o>0&&(n.watchedDurationMs+=o,n.lastStartPlayTime=null)}}),O(j(e),"logPlaybackPerformance",function(t,n){var r=e.props,i=r.contextLogData,o=void 0===i?{}:i,a=r.userId,l=r.isAutoPlay,s=r.logContextEvent,u=r.preload,c=o.is_closeup_video,d=void 0!==c&&c,p=e.playbackPerformance,f=p.canPlayTime,m=p.detailedErrors,g=p.errorCode,v=p.errorName,_=p.errorReason,P=p.hasFatalError,S=p.loadStartTime,j=p.totalPauseDurationMs,w=p.totalStallDurationMs,O=p.numberOfStalls,A=p.numberOfSeeks,k=p.playbackStartTimestamp,C=p.segments,D=p.srcString,E=e.videoPlayerRef&&e.videoPlayerRef.video,I=t===h.DR,T=I&&!e.hasVideoSessionStarted,R=!I&&!e.hasVideoSessionEnded&&e.hasVideoSessionStarted;if(E&&(T||R)){var F,L=-1;f&&S&&(L=f>S?f-S:0);var z=-1;f&&e.videoVisibleTime&&(z=f>e.videoVisibleTime?f-e.videoVisibleTime:0),I&&(e.videoSessionId=(0,h.Y7)(a),e.playerId=e.playerId||(0,h.EB)());var M=e.getVideoResourceTiming(),B={averageVideoKbps:-1,autoplaying:l,detailedErrors:m,downloadedKiloBytes:"number"==typeof(null==M?void 0:M.decodedBodySize)&&M.decodedBodySize/h.Fm||0,errorCode:g,errorName:v,errorReason:_,fatalError:P,isCellular:!1,nativeVideoDurationMs:E.duration*h.gJ||-1,numberOfStalls:O,numberOfSeeks:A,overallPausedDurationMs:j,overallBufferDurationMs:w,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:e.videoSessionId,playbackStartTimestamp:k||-1,segments:[],sessionMark:t,screenPixelScale:null!==(F=window)&&void 0!==F&&F.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:E.clientWidth,startupPlayerHeight:E.clientHeight,startupTimeMs:L,startupLatencyMs:z,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:E.videoWidth,startupVariantHeight:E.videoHeight,videoUrl:D,wasVideoPreloaded:"auto"===u};if(!I){e.updateWatchDurationForCurrentSegment(),e.updateStallDuration();var N=C.reduce(function(e,t){return e+(t.watchedDurationMs||0)},0);B.overallWatchedDurationMs=N,B.startupVariantWatchedDurationMs=N,B.segments=e.playbackPerformance.segments,0===N?(B.errorName="invalid_watch_duration",B.rebufferRate=-1):B.rebufferRate=w/N}(0,y.ZP)(B,!1,d,x({playbackState:e.state.playbackState},n)),s({event_type:3606,event_data:{videoPerformanceData:B},view_type:o.view,view_parameter:o.viewParameter,component:o.component,element:o.element,object_id_str:o.objectId,aux_data:x(x({},function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(o,b)),{},{is_closeup_video:d,playback_session_id:e.videoSessionId})}),I?(e.hasVideoSessionStarted=!0,e.hasVideoSessionEnded=!1):e.resetPlaybackMetrics(),(0,y.tE)(I?"sessionStart":"sessionEnd",!1,d,x({playbackState:e.state.playbackState},n))}}),e}return n=[{key:"componentWillUnmount",value:function(){var e=this.props.loop;this.updatePauseDuration(),this.logPlaybackPerformance(h.$f,{initiator:"unmount",loop:e})}},{key:"render",value:function(){var e=this.props,t=e.aspectRatio,n=e.captions,o=e.controls,a=e.loop,l=e.loopOverride,s=e.objectFit,u=e.onDurationChange,c=e.onFullscreenChange,d=e.onLoadedChange,f=e.onControlsPlay,m=e.onPlayheadDown,y=e.onPlayheadUp,h=e.onSeek,b=e.onVolumeChange,_=e.playbackRate,x=e.playing,P=e.playsInline,S=e.poster,j=e.preload,w=e.src,O=e.volume,A=this.state,k=A.canPlayVideo,D=A.videoStartTime;return(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(p.Z,{unsafeCSS:g.P}),(0,v.jsx)(i.nk,{autoplay:k&&x,aspectRatio:t,captions:n,controls:o,loop:void 0===l?a:l,objectFit:s,onDurationChange:u,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:c,onLoadedChange:d,onLoadStart:this.handleLoadStart,onControlsPause:this.handleUserPause,onControlsPlay:f,onPlaying:this.handlePlaying,onPlayheadDown:m,onPlayheadUp:y,onReady:this.handleCanPlayVideo,onSeek:h,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:b,onWaiting:this.handleStalled,playbackRate:_,onPlay:function(){},onPlayError:function(){},playing:k&&x,playsInline:P,poster:S,preload:j,ref:this.setVideoPlayerRef,src:C(w,this.props.quicExpGroup),startTime:D||void 0,volume:O})]})}}],P(l.prototype,n),o&&P(l,o),Object.defineProperty(l,"prototype",{writable:!1}),l}(r.Component),E=(0,r.memo)(function(e){var t=(0,d.v)().logContextEvent,n=(0,a.B)(),r=n.country,i=n.isAuthenticated,o=n.isBot,s=n.isSocialBot,u=n.unauthId,p=n.userAgent,h=p.browserName,g=p.browserVersion,b=p.isMobile,_=e.contextLogData,P=void 0===_?{}:_,S=P.is_closeup_video,j=P.view,w=P.viewParameter,O=(0,c.I)().appUI.appInFocus,A=(0,f.F)().checkExperiment,k=(0,l.RC)().clearSeekTime,C=null;i&&(C=A("web_video_quic").group.length?A("web_video_quic").group:null);var E=(0,m.Z)();return(0,y.r$)({browserName:h,browserVersion:g,country:r,isAuthenticated:i,isBot:o,is_closeup_video:void 0!==S&&S,isMobile:b,isSocialBot:s,view:j,viewParameter:w}),(0,v.jsx)(D,x(x({},e),{},{userId:E.id||u,appInFocus:O,quicExpGroup:C,logContextEvent:t,clearSeekTime:k}))});function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){B(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N(r.key),r)}}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function z(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,n){return(t=N(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==I(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===I(t)?t:String(t)}var Z=function(e){if(Array.isArray(e)){var t=e.find(function(e){return"video/m3u8"===e.type});return t?t.src:void 0}return/m3u8$/.test(e)?e:void 0},U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(a,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=M(a);if(t){var r=M(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return z(e)}(this,e)});function a(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),B(z(t=i.call(this,e)),"componentDidUpdate",function(e){var n;e.videoStartTime&&t.props.videoStartTime&&e.videoStartTime<t.props.videoStartTime&&null!==(n=t.videoPlayerRef)&&void 0!==n&&n.video&&(t.videoPlayerRef.video.currentTime=t.props.videoStartTime)}),B(z(t),"setVideoPlayerRef",function(e){e&&(t.videoPlayerRef=e)}),B(z(t),"handleOnEnded",function(e){var n=e.event,r=t.props,i=r.loop,o=r.onLoop,a=r.onEnded;a&&(a({event:n}),t.videoPlayerRef&&t.videoPlayerRef.video&&i&&(t.videoPlayerRef.video.play(),o&&o()))});var t,n=Z(e.src);return t.state={useHlsVideo:!e.preferMp4&&!(0,o.G6)(e.requestContext.userAgent.browserName)&&!!n},t}return n=[{key:"render",value:function(){var e=this.props,t=e.aspectRatio,n=e.appInFocus,r=e.backgroundColor,i=e.captions,o=e.toggleCaptions,a=e.clearSeekTime,l=e.contextLogData,u=e.controls,c=e.hlsConfig,d=e.isAutoPlay,p=e.loop,f=e.objectFit,m=e.onDurationChange,y=e.onEnded,h=e.onFullscreenChange,g=e.onLoadedChange,b=e.onControlsPause,_=e.onControlsPlay,x=e.onPlayheadDown,P=e.onPlayheadUp,S=e.onReady,j=e.onSeek,w=e.onTimeChange,O=e.onVolumeChange,A=e.playbackRate,k=e.playing,C=e.playsInline,D=e.poster,I=e.preferMp4,T=e.preload,F=e.seekTime,L=e.src,z=e.videoStartTime,M=e.visible,B=e.volume,N=this.state.useHlsVideo,U=Z(L),K=R(R({},c),{},{startPosition:z||-1}),H=!y&&p;return N&&U?(0,v.jsx)(s.Z,{aspectRatio:t,appInFocus:n,backgroundColor:r,captions:i,clearSeekTime:a,contextLogData:l,controls:u,hlsConfig:K,isAutoPlay:d,loop:p,loopOverride:H,objectFit:f,onDurationChange:m,onEnded:this.handleOnEnded,onFullscreenChange:h,onLoadedChange:g,onControlsPause:b,onControlsPlay:_,onPlayheadDown:x,onPlayheadUp:P,onReady:S,onSeek:j,onTimeChange:w,onVolumeChange:O,playbackRate:A,onPlay:function(){},onPlayError:function(){},playing:k,playsInline:C,poster:D,preload:T,seekTime:F,setVideoRef:this.setVideoPlayerRef,src:U,visible:M,volume:B,captionsEnabled:o}):(0,v.jsx)(E,{aspectRatio:t,captions:i,captionsEnabled:o,clearSeekTime:a,contextLogData:l,controls:u,isAutoPlay:d,loop:p,loopOverride:H,objectFit:f,onDurationChange:m,onEnded:this.handleOnEnded,onFullscreenChange:h,onLoadedChange:g,onControlsPause:b,onControlsPlay:_,onPlayheadDown:x,onPlayheadUp:P,onReady:S,onSeek:j,onTimeChange:w,onVolumeChange:O,playbackRate:A,onPlay:function(){},onPlayError:function(){},playing:k,playsInline:C,poster:D,preload:T,seekTime:F,setVideoRef:this.setVideoPlayerRef,src:I?L:U||L,videoStartTime:z,visible:M,volume:B})}}],F(a.prototype,n),r&&F(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.PureComponent);function K(e){var t=(0,c.I)().appUI.appInFocus,n=(0,l.Hx)().seekTime,r=(0,u.r)().captionsEnabled,i=(0,l.RC)().clearSeekTime,o=(0,a.B)();return(0,v.jsx)(U,R(R({},e),{},{appInFocus:t,requestContext:o,clearSeekTime:i,toggleCaptions:r,seekTime:n}))}},916470:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(599689),i=n(156491),o=n(142725),a=n(81636),l=n(50286),s=n(19121),u=n(682273),c=n(350118),d=n(515198),p=function(){var e=(0,r.useParams)(),t=(0,l.HG)(),n=(0,s.Z)(),p=t&&n.isAuth,f=(0,c.S6)(),m=e.id?f(e.id):null;return((0,a.Q)({view_type:3,object_id_str:e.id,view_data:{pin_id:e.id}}),p)?(0,d.jsx)(u.Z,{type:"authDesktop",children:null!=m&&m.is_eligible_for_pdp?(0,d.jsx)(o.Z,{showQuickPromote:!0}):(0,d.jsx)(i.ZP,{showQuickPromote:!0})}):(0,d.jsx)(r.Redirect,{to:"/"})}},167678:function(e,t,n){"use strict";n.d(t,{TA:function(){return w}});var r=n(76911),i=n(742897),o=n(539439),a=n(744702),l=n(811602),s=n(727460),u=n(349424),c=n.n(u);function d(e){console.warn("loadable: "+e)}var p=r.createContext(),f={initialChunks:{}},m="PENDING",y="REJECTED",h=function(e){return e};function g(e){var t=e.defaultResolveComponent,n=void 0===t?h:t,u=e.render,d=e.onLoad;function g(e,t){void 0===t&&(t={});var h,g="function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e,v={};function b(e){return t.cacheKey?t.cacheKey(e):g.resolve?g.resolve(e):"static"}function _(e,r,i){var o=t.resolveComponent?t.resolveComponent(e,r):n(e);if(t.resolveComponent&&!(0,s.isValidElementType)(o))throw Error("resolveComponent returned something that is not a React component!");return c()(i,o,{preload:!0}),o}var x=(h=function(e){function n(n){var r;return((r=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:b(n)},function(e,t){if(!e){var n=Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}(!n.__chunkExtractor||g.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor)?(!1===t.ssr||(g.requireAsync(n).catch(function(){return null}),r.loadSync(),n.__chunkExtractor.addChunk(g.chunkName(n))),(0,a.Z)(r)):(!1!==t.ssr&&(g.isReady&&g.isReady(n)||g.chunkName&&f.initialChunks[g.chunkName(n)])&&r.loadSync(),r)}(0,l.Z)(n,e),n.getDerivedStateFromProps=function(e,t){var n=b(e);return(0,o.Z)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===y&&this.setCache(),this.state.loading&&this.loadAsync()},r.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},r.componentWillUnmount=function(){this.mounted=!1},r.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},r.getCacheKey=function(){return b(this.props)},r.getCache=function(){return v[this.getCacheKey()]},r.setCache=function(e){void 0===e&&(e=void 0),v[this.getCacheKey()]=e},r.triggerOnLoad=function(){var e=this;d&&setTimeout(function(){d(e.state.result,e.props)})},r.loadSync=function(){if(this.state.loading)try{var e=g.requireSync(this.props),t=_(e,this.props,P);this.state.result=t,this.state.loading=!1}catch(e){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:g.resolve(this.props),chunkName:g.chunkName(this.props),error:e?e.message:e}),this.state.error=e}},r.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then(function(t){var n=_(t,e.props,{Loadable:P});e.safeSetState({result:n,loading:!1},function(){return e.triggerOnLoad()})}).catch(function(t){return e.safeSetState({error:t,loading:!1})}),t},r.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,(0,i.Z)(t,["__chunkExtractor","forwardedRef"])),r=this.getCache();return r||((r=g.requireAsync(n)).status=m,this.setCache(r),r.then(function(){r.status="RESOLVED"},function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:g.resolve(e.props),chunkName:g.chunkName(e.props),error:t?t.message:t}),r.status=y})),r},r.render=function(){var e=this.props,n=e.forwardedRef,r=e.fallback,a=(e.__chunkExtractor,(0,i.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),l=this.state,s=l.error,c=l.loading,d=l.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===m)throw this.loadAsync();if(s)throw s;var p=r||t.fallback||null;return c?p:u({fallback:p,result:d,options:t,props:(0,o.Z)({},a,{ref:n})})},n}(r.Component),function(e){return r.createElement(p.Consumer,null,function(t){return r.createElement(h,Object.assign({__chunkExtractor:t},e))})}),P=r.forwardRef(function(e,t){return r.createElement(x,Object.assign({forwardedRef:t},e))});return P.preload=function(e){g.requireAsync(e)},P.load=function(e){return g.requireAsync(e)},P}return{loadable:g,lazy:function(e,t){return g(e,(0,o.Z)({},t,{suspense:!0}))}}}var v=g({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return r.createElement(t,n)}}),b=v.loadable,_=v.lazy,x=g({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),P=x.loadable,S=x.lazy,j="undefined"!=typeof window;function w(e,t){void 0===e&&(e=function(){});var n=(void 0===t?{}:t).namespace;if(!j)return d("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var r=null;if(j){var i=""+(void 0===n?"":n)+"__LOADABLE_REQUIRED_CHUNKS__",o=document.getElementById(i);if(o){r=JSON.parse(o.textContent);var a=document.getElementById(i+"_ext");if(a)JSON.parse(a.textContent).namedChunks.forEach(function(e){f.initialChunks[e]=!0});else throw Error("loadable-component: @loadable/server does not match @loadable/component")}}if(!r)return d("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var l=!1;return new Promise(function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,n=t.push.bind(t);function i(){r.every(function(e){return t.some(function(t){return t[0].indexOf(e)>-1})})&&!l&&(l=!0,e())}t.push=function(){n.apply(void 0,arguments),i()},i()}).then(e)}b.lib=P,_.lib=S,t.ZP=b},206134:function(e,t,n){var r;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var o={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=i(n);if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var l=a.apply(null,n);l&&e.push(l)}else if("object"===r)for(var s in n)o.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):"object"===i(n.amdO)&&n.amdO?void 0!==(r=(function(){return a}).apply(t,[]))&&(e.exports=r):window.classNames=a}()},661139:function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=[],r=[];e.exports=/**
 * Checks if two values are equal. Values may be primitives, arrays, or objects.
 * Returns true if both arguments have the same keys and values.
 *
 * @see http://underscorejs.org
 * @copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 * @license MIT
 */function(e,i){var o=n.length?n.pop():[],a=r.length?r.pop():[],l=function e(n,r,i,o){if(n===r)return 0!==n||1/n==1/r;if(null==n||null==r||"object"!=t(n)||"object"!=t(r))return!1;var a=Object.prototype.toString,l=a.call(n);if(l!=a.call(r))return!1;switch(l){case"[object String]":return n==String(r);case"[object Number]":return!(isNaN(n)||isNaN(r))&&n==Number(r);case"[object Date]":case"[object Boolean]":return+n==+r;case"[object RegExp]":return n.source==r.source&&n.global==r.global&&n.multiline==r.multiline&&n.ignoreCase==r.ignoreCase}for(var s=i.length;s--;)if(i[s]==n)return o[s]==r;i.push(n),o.push(r);var u=0;if("[object Array]"===l){if((u=n.length)!==r.length)return!1;for(;u--;)if(!e(n[u],r[u],i,o))return!1}else{if(n.constructor!==r.constructor)return!1;if(n.hasOwnProperty("valueOf")&&r.hasOwnProperty("valueOf"))return n.valueOf()==r.valueOf();var c=Object.keys(n);if(c.length!=Object.keys(r).length)return!1;for(var d=0;d<c.length;d++)if(!e(n[c[d]],r[c[d]],i,o))return!1}return i.pop(),o.pop(),!0}(e,i,o,a);return o.length=0,a.length=0,n.push(o),r.push(a),l}},703095:function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},134710:function(e,t,n){"use strict";var r=n(703095);e.exports=r},948337:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=n.nmd(e),function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function o(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function a(e,n){function r(){o(i)&&i.a.parentNode&&n(i.g)}var i=e;t(e.b,r),t(e.c,r),o(e)}function l(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var s=null,u=null,c=null,d=null;function p(){return null===d&&(d=!!document.fonts),d}function f(e,t){return[e.style,e.weight,!function(){if(null===c){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}c=""!==e.style.font}return c}()?"":e.stretch,"100px",t].join(" ")}l.prototype.load=function(e,t){var r=this,o=e||"BESbswy",l=0,c=t||3e3,d=new Date().getTime();return new Promise(function(e,t){if(p()&&!function(){if(null===u){if(p()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);u=!!e&&603>parseInt(e[1],10)}else u=!1}return u}()){var m,y=new Promise(function(e,t){!function n(){new Date().getTime()-d>=c?t(Error(""+c+"ms timeout exceeded")):document.fonts.load(f(r,'"'+r.family+'"'),o).then(function(t){1<=t.length?e():setTimeout(n,25)},t)}()});Promise.race([new Promise(function(e,t){l=setTimeout(function(){t(Error(""+c+"ms timeout exceeded"))},c)}),y]).then(function(){clearTimeout(l),e(r)},t)}else m=function(){function u(){var t;(t=-1!=h&&-1!=g||-1!=h&&-1!=v||-1!=g&&-1!=v)&&((t=h!=g&&h!=v&&g!=v)||(null===s&&(s=!!(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent))&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(h==b&&g==b&&v==b||h==_&&g==_&&v==_||h==x&&g==x&&v==x)),t=!t),t&&(P.parentNode&&P.parentNode.removeChild(P),clearTimeout(l),e(r))}var p=new n(o),m=new n(o),y=new n(o),h=-1,g=-1,v=-1,b=-1,_=-1,x=-1,P=document.createElement("div");P.dir="ltr",i(p,f(r,"sans-serif")),i(m,f(r,"serif")),i(y,f(r,"monospace")),P.appendChild(p.a),P.appendChild(m.a),P.appendChild(y.a),document.body.appendChild(P),b=p.a.offsetWidth,_=m.a.offsetWidth,x=y.a.offsetWidth,function e(){if(new Date().getTime()-d>=c)P.parentNode&&P.parentNode.removeChild(P),t(Error(""+c+"ms timeout exceeded"));else{var n=document.hidden;(!0===n||void 0===n)&&(h=p.a.offsetWidth,g=m.a.offsetWidth,v=y.a.offsetWidth,u()),l=setTimeout(e,50)}}(),a(p,function(e){h=e,u()}),i(p,f(r,'"'+r.family+'",sans-serif')),a(m,function(e){g=e,u()}),i(m,f(r,'"'+r.family+'",serif')),a(y,function(e){v=e,u()}),i(y,f(r,'"'+r.family+'",monospace'))},document.body?m():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),m()}):document.attachEvent("onreadystatechange",function e(){("interactive"==document.readyState||"complete"==document.readyState)&&(document.detachEvent("onreadystatechange",e),m())})})},"object"===r(e)?e.exports=l:(window.FontFaceObserver=l,window.FontFaceObserver.prototype.load=l.prototype.load)}()},349424:function(e,t,n){"use strict";var r=n(916731),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function s(e){return r.isMemo(e)?a:l[e.$$typeof]||i}l[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var i=f(n);i&&i!==m&&e(t,i,r)}var a=c(n);d&&(a=a.concat(d(n)));for(var l=s(t),y=s(n),h=0;h<a.length;++h){var g=a[h];if(!o[g]&&!(r&&r[g])&&!(y&&y[g])&&!(l&&l[g])){var v=p(n,g);try{u(t,g,v)}catch(e){}}}}return t}},468278:function(e,t){"use strict";/** @license React v16.8.4
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.memo"):60115,h=r?Symbol.for("react.lazy"):60116;function g(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case p:case a:case s:case l:case m:return e;default:switch(e=e&&e.$$typeof){case c:case f:case u:return e;default:return t}}case h:case y:case o:return t}}}function v(e){return g(e)===p}t.typeOf=g,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=u,t.Element=i,t.ForwardRef=f,t.Fragment=a,t.Lazy=h,t.Memo=y,t.Portal=o,t.Profiler=s,t.StrictMode=l,t.Suspense=m,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===s||e===l||e===m||"object"===n(e)&&null!==e&&(e.$$typeof===h||e.$$typeof===y||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f)},t.isAsyncMode=function(e){return v(e)||g(e)===d},t.isConcurrentMode=v,t.isContextConsumer=function(e){return g(e)===c},t.isContextProvider=function(e){return g(e)===u},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return g(e)===f},t.isFragment=function(e){return g(e)===a},t.isLazy=function(e){return g(e)===h},t.isMemo=function(e){return g(e)===y},t.isPortal=function(e){return g(e)===o},t.isProfiler=function(e){return g(e)===s},t.isStrictMode=function(e){return g(e)===l},t.isSuspense=function(e){return g(e)===m}},916731:function(e,t,n){"use strict";e.exports=n(468278)},674631:function(e){"use strict";e.exports=function(e,t,n,r,i,o,a,l){if(!e){var s;if(void 0===t)s=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,l],c=0;(s=Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}}},845620:function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function i(e){return Object.prototype.toString.call(e)}function o(e){return"[object Function]"===i(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var l={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},s={"http:":{validate:function(e,t,n){var r=e.slice(t);return(n.re.http||(n.re.http=RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r))?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return(n.re.no_http||(n.re.no_http=RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r))?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return(n.re.mailto||(n.re.mailto=RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r))?r.match(n.re.mailto)[0].length:0}}},u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function c(){return function(e,t){t.normalize(e)}}function d(e){var t=e.re=n(951800)(e.__opts__),r=e.__tlds__.slice();function l(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(l(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(l(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(l(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(l(t.tpl_host_fuzzy_test),"i");var s=[];function u(e,t){throw Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){var n,r=e.__schemas__[t];if(null!==r){var a={validate:null,link:null};if(e.__compiled__[t]=a,"[object Object]"===i(r)){"[object RegExp]"===i(r.validate)?a.validate=(n=r.validate,function(e,t){var r=e.slice(t);return n.test(r)?r.match(n)[0].length:0}):o(r.validate)?a.validate=r.validate:u(t,r),o(r.normalize)?a.normalize=r.normalize:r.normalize?u(t,r):a.normalize=c();return}if("[object String]"===i(r)){s.push(t);return}u(t,r)}}),s.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:c()};var d=Object.keys(e.__compiled__).filter(function(t){return t.length>0&&e.__compiled__[t]}).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),e.__index__=-1,e.__text_cache__=""}function p(e,t){var n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function f(e,t){var n=new p(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function m(e,t){if(!(this instanceof m))return new m(e,t);!t&&Object.keys(e||{}).reduce(function(e,t){return e||l.hasOwnProperty(t)},!1)&&(t=e,e={}),this.__opts__=r({},l,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},s,e),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},d(this)}m.prototype.add=function(e,t){return this.__schemas__[e]=t,d(this),this},m.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},m.prototype.test=function(e){var t,n,r,i,o,a,l,s;if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;if(this.re.schema_test.test(e)){for((l=this.re.schema_search).lastIndex=0;null!==(t=l.exec(e));)if(i=this.testSchemaAt(e,t[2],l.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(s=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||s<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a)),this.__index__>=0},m.prototype.pretest=function(e){return this.re.pretest.test(e)},m.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},m.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(f(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(f(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},m.prototype.tlds=function(e,t){return(e=Array.isArray(e)?e:[e],t)?this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse():(this.__tlds__=e.slice(),this.__tlds_replaced__=!0),d(this),this},m.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},m.prototype.onCompile=function(){},e.exports=m},951800:function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n(808062).source,t.src_Cc=n(933035).source,t.src_Z=n(962876).source,t.src_P=n(741429).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var r="[><｜]";return t.src_pseudo_letter="(?:(?!"+r+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+r+"|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+"|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-(?!-)|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+r+"|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},475406:function(e,t){var n,r;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}/* @license
Papa Parse
v5.3.0
https://github.com/mholt/PapaParse
License: MIT
*/void 0!==(r="function"==typeof(n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=n&&/blob:/i.test((t.location||{}).protocol),o={},a=0,l={parse:function(n,r){var i=(r=r||{}).dynamicTyping||!1;if(P(i)&&(r.dynamicTypingFunction=i,i={}),r.dynamicTyping=i,r.transform=!!P(r.transform)&&r.transform,r.worker&&l.WORKERS_SUPPORTED){var s=function(){if(!l.WORKERS_SUPPORTED)return!1;var n,r,i=(n=t.URL||t.webkitURL||null,r=e.toString(),l.BLOB_URL||(l.BLOB_URL=n.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),s=new t.Worker(i);return s.onmessage=g,s.id=a++,o[s.id]=s}();return s.userStep=r.step,s.userChunk=r.chunk,s.userComplete=r.complete,s.userError=r.error,r.step=P(r.step),r.chunk=P(r.chunk),r.complete=P(r.complete),r.error=P(r.error),delete r.worker,void s.postMessage({input:n,config:r,workerId:s.id})}var u=null;return l.NODE_STREAM_INPUT,"string"==typeof n?u=r.download?new c(r):new p(r):!0===n.readable&&P(n.read)&&P(n.on)?u=new f(r):(t.File&&n instanceof File||n instanceof Object)&&(u=new d(r)),u.stream(n)},unparse:function(e,t){var n=!1,r=!0,o=",",a="\r\n",s='"',u=s+s,c=!1,d=null,p=!1;!function(){if("object"==i(t)){if("string"!=typeof t.delimiter||l.BAD_DELIMITERS.filter(function(e){return -1!==t.delimiter.indexOf(e)}).length||(o=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(a=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw Error("Option columns is empty");d=t.columns}void 0!==t.escapeChar&&(u=t.escapeChar+s),"boolean"==typeof t.escapeFormulae&&(p=t.escapeFormulae)}}();var f=RegExp(y(s),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,c);if("object"==i(e[0]))return h(d||m(e[0]),e,c)}else if("object"==i(e))return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:m(e.data[0])),Array.isArray(e.data[0])||"object"==i(e.data[0])||(e.data=[e.data])),h(e.fields||[],e.data||[],c);throw Error("Unable to serialize unrecognized input");function m(e){if("object"!=i(e))return[];var t=[];for(var n in e)t.push(n);return t}function h(e,t,n){var i="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var l=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(l&&r){for(var u=0;u<e.length;u++)0<u&&(i+=o),i+=g(e[u],u);0<t.length&&(i+=a)}for(var c=0;c<t.length;c++){var d=l?e.length:t[c].length,p=!1,f=l?0===Object.keys(t[c]).length:0===t[c].length;if(n&&!l&&(p="greedy"===n?""===t[c].join("").trim():1===t[c].length&&0===t[c][0].length),"greedy"===n&&l){for(var m=[],y=0;y<d;y++){var h=s?e[y]:y;m.push(t[c][h])}p=""===m.join("").trim()}if(!p){for(var v=0;v<d;v++){0<v&&!f&&(i+=o);var b=l&&s?e[v]:v;i+=g(t[c][b],v)}c<t.length-1&&(!n||0<d&&!f)&&(i+=a)}}return i}function g(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);!0===p&&"string"==typeof e&&null!==e.match(/^[=+\-@].*$/)&&(e="'"+e);var r=e.toString().replace(f,u);return"boolean"==typeof n&&n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(r,l.BAD_DELIMITERS)||-1<r.indexOf(o)||" "===r.charAt(0)||" "===r.charAt(r.length-1)?s+r+s:r}}};if(l.RECORD_SEP="\x1e",l.UNIT_SEP="\x1f",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r","\n",'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!n&&!!t.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=h,l.ParserHandle=m,l.NetworkStreamer=c,l.FileStreamer=d,l.StringStreamer=p,l.ReadableStreamStreamer=f,t.jQuery){var s=t.jQuery;s.fn.parse=function(e){var n=e.config||{},r=[];return this.each(function(e){if(!("INPUT"===s(this).prop("tagName").toUpperCase()&&"file"===s(this).attr("type").toLowerCase()&&t.FileReader)||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:s.extend({},n)})}),o(),this;function o(){if(0!==r.length){var t,n,o,u=r[0];if(P(e.before)){var c=e.before(u.file,u.inputElem);if("object"==i(c)){if("abort"===c.action)return t=u.file,n=u.inputElem,o=c.reason,void(P(e.error)&&e.error({name:"AbortError"},t,n,o));if("skip"===c.action)return void a();"object"==i(c.config)&&(u.instanceConfig=s.extend(u.instanceConfig,c.config))}else if("skip"===c)return void a()}var d=u.instanceConfig.complete;u.instanceConfig.complete=function(e){P(d)&&d(e,u.file,u.inputElem),a()},l.parse(u.file,u.instanceConfig)}else P(e.complete)&&e.complete()}function a(){r.splice(0,1),o()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var t=_(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new m(t),(this._handle.streamer=this)._config=t}).call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&P(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var a=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=a.meta.cursor;this._finished||(this._partialLine=o.substring(s-this._baseIndex),this._baseIndex=s),a&&a.data&&(this._rowCount+=a.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:a,workerId:l.WORKER_ID,finished:u});else if(P(this._config.chunk)&&!n){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!u||!P(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){P(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:l.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=l.RemoteChunkSize),u.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){var e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(e=t.getResponseHeader("Content-Range"))?-1:parseInt(e.substring(e.lastIndexOf("/")+1))),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(Error(n))}}function d(e){(e=e||{}).chunkSize||(e.chunkSize=l.LocalChunkSize),u.call(this,e);var t,n,r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,i)}var o=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function p(e){var t;u.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function f(e){u.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=x(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=x(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=x(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=x(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(e){var t,n,r,i=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)(e[-+]?\d+)?\s*$/,o=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,a=this,s=0,u=0,c=!1,d=!1,p=[],f={data:[],errors:[],meta:{}};if(P(e.step)){var m=e.step;e.step=function(t){if(f=t,b())v();else{if(v(),0===f.data.length)return;s+=t.data.length,e.preview&&s>e.preview?n.abort():(f.data=f.data[0],m(f,a))}}}function g(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function v(){if(f&&r&&(x("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines)for(var t=0;t<f.data.length;t++)g(f.data[t])&&f.data.splice(t--,1);return b()&&function(){if(f){if(Array.isArray(f.data[0])){for(var t=0;b()&&t<f.data.length;t++)f.data[t].forEach(n);f.data.splice(0,1)}else f.data.forEach(n)}function n(t,n){P(e.transformHeader)&&(t=e.transformHeader(t,n)),p.push(t)}}(),function(){if(!f||!e.header&&!e.dynamicTyping&&!e.transform)return f;function t(t,n){var r,a=e.header?{}:[];for(r=0;r<t.length;r++){var l,s,c=r,d=t[r];e.header&&(c=r>=p.length?"__parsed_extra":p[r]),e.transform&&(d=e.transform(d,c)),l=c,s=d,e.dynamicTypingFunction&&void 0===e.dynamicTyping[l]&&(e.dynamicTyping[l]=e.dynamicTypingFunction(l)),d=!0===(e.dynamicTyping[l]||e.dynamicTyping)?"true"===s||"TRUE"===s||"false"!==s&&"FALSE"!==s&&(!function(e){if(i.test(e)){var t=parseFloat(e);if(-9007199254740992<t&&t<9007199254740992)return!0}return!1}(s)?o.test(s)?new Date(s):""===s?null:s:parseFloat(s)):s,"__parsed_extra"===c?(a[c]=a[c]||[],a[c].push(d)):a[c]=d}return e.header&&(r>p.length?x("FieldMismatch","TooManyFields","Too many fields: expected "+p.length+" fields but parsed "+r,u+n):r<p.length&&x("FieldMismatch","TooFewFields","Too few fields: expected "+p.length+" fields but parsed "+r,u+n)),a}var n=1;return!f.data.length||Array.isArray(f.data[0])?(f.data=f.data.map(t),n=f.data.length):f.data=t(f.data,0),e.header&&f.meta&&(f.meta.fields=p),u+=n,f}()}function b(){return e.header&&0===p.length}function x(e,t,n,r){var i={type:e,code:t,message:n};void 0!==r&&(i.row=r),f.errors.push(i)}this.parse=function(i,o,a){var s=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=RegExp(y(t)+"([^]*?)"+y(t),"gm"),r=(e=e.replace(n,"")).split("\r"),i=e.split("\n"),o=1<i.length&&i[0].length<r[0].length;if(1===r.length||o)return"\n";for(var a=0,l=0;l<r.length;l++)"\n"===r[l][0]&&a++;return a>=r.length/2?"\r\n":"\r"}(i,s)),r=!1,e.delimiter)P(e.delimiter)&&(e.delimiter=e.delimiter(i),f.meta.delimiter=e.delimiter);else{var u=function(t,n,r,i,o){var a,s,u,c;o=o||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var d=0;d<o.length;d++){var p=o[d],f=0,m=0,y=0;u=void 0;for(var v=new h({comments:i,delimiter:p,newline:n,preview:10}).parse(t),b=0;b<v.data.length;b++)if(r&&g(v.data[b]))y++;else{var _=v.data[b].length;m+=_,void 0!==u?0<_&&(f+=Math.abs(_-u),u=_):u=_}0<v.data.length&&(m/=v.data.length-y),(void 0===s||f<=s)&&(void 0===c||c<m)&&1.99<m&&(s=f,a=p,c=m)}return{successful:!!(e.delimiter=a),bestDelimiter:a}}(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);u.successful?e.delimiter=u.bestDelimiter:(r=!0,e.delimiter=l.DefaultDelimiter),f.meta.delimiter=e.delimiter}var d=_(e);return e.preview&&e.header&&d.preview++,t=i,f=(n=new h(d)).parse(t,o,a),v(),c?{meta:{paused:!0}}:f||{meta:{paused:!1}}},this.paused=function(){return c},this.pause=function(){c=!0,n.abort(),t=P(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){a.streamer._halted?(c=!1,a.streamer.parseChunk(t,!0)):setTimeout(a.resume,3)},this.aborted=function(){return d},this.abort=function(){d=!0,n.abort(),f.meta.aborted=!0,P(e.complete)&&e.complete(f),t=""}}function y(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function h(e){var t,n=(e=e||{}).delimiter,r=e.newline,i=e.comments,o=e.step,a=e.preview,s=e.fastMode,u=t=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof n||-1<l.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<l.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var c=0,d=!1;this.parse=function(e,l,p){if("string"!=typeof e)throw Error("Input must be a string");var f=e.length,m=n.length,h=r.length,g=i.length,v=P(o),b=[],_=[],x=[],S=c=0;if(!e)return z();if(s||!1!==s&&-1===e.indexOf(t)){for(var j=e.split(r),w=0;w<j.length;w++){if(x=j[w],c+=x.length,w!==j.length-1)c+=r.length;else if(p)break;if(!i||x.substring(0,g)!==i){if(v){if(b=[],T(x.split(n)),M(),d)return z()}else T(x.split(n));if(a&&a<=w)return b=b.slice(0,a),z(!0)}}return z()}for(var O=e.indexOf(n,c),A=e.indexOf(r,c),k=RegExp(y(u)+y(t),"g"),C=e.indexOf(t,c);;)if(e[c]!==t){if(i&&0===x.length&&e.substring(c,c+g)===i){if(-1===A)return z();c=A+h,A=e.indexOf(r,c),O=e.indexOf(n,c)}else{if(-1!==O&&(O<A||-1===A)){if(!(O<C)){x.push(e.substring(c,O)),c=O+m,O=e.indexOf(n,c);continue}var D=function r(i,o,a){var l={nextDelim:void 0,quoteSearch:void 0},s=e.indexOf(t,o+1);if(o<i&&i<s&&(s<a||-1===a)){var u=e.indexOf(n,s);if(-1===u)return l;s<u&&(s=e.indexOf(t,s+1)),l=r(u,s,a)}else l={nextDelim:i,quoteSearch:o};return l}(O,C,A);if(D&&void 0!==D.nextDelim){O=D.nextDelim,C=D.quoteSearch,x.push(e.substring(c,O)),c=O+m,O=e.indexOf(n,c);continue}}if(-1===A)break;if(x.push(e.substring(c,A)),L(A+h),v&&(M(),d))return z();if(a&&b.length>=a)return z(!0)}}else for(C=c,c++;;){if(-1===(C=e.indexOf(t,C+1)))return p||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:c}),F();if(C===f-1)return F(e.substring(c,C).replace(k,t));if(t!==u||e[C+1]!==u){if(t===u||0===C||e[C-1]!==u){-1!==O&&O<C+1&&(O=e.indexOf(n,C+1)),-1!==A&&A<C+1&&(A=e.indexOf(r,C+1));var E=R(-1===A?O:Math.min(O,A));if(e[C+1+E]===n){x.push(e.substring(c,C).replace(k,t)),e[c=C+1+E+m]!==t&&(C=e.indexOf(t,c)),O=e.indexOf(n,c),A=e.indexOf(r,c);break}var I=R(A);if(e.substring(C+1+I,C+1+I+h)===r){if(x.push(e.substring(c,C).replace(k,t)),L(C+1+I+h),O=e.indexOf(n,c),C=e.indexOf(t,c),v&&(M(),d))return z();if(a&&b.length>=a)return z(!0);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:c}),C++}}else C++}return F();function T(e){b.push(e),S=c}function R(t){var n=0;if(-1!==t){var r=e.substring(C+1,t);r&&""===r.trim()&&(n=r.length)}return n}function F(t){return p||(void 0===t&&(t=e.substring(c)),x.push(t),c=f,T(x),v&&M()),z()}function L(t){c=t,T(x),x=[],A=e.indexOf(r,c)}function z(e){return{data:b,errors:_,meta:{delimiter:n,linebreak:r,aborted:d,truncated:!!e,cursor:S+(l||0)}}}function M(){o(z()),b=[],_=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return c}}function g(e){var t=e.data,n=o[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var i={abort:function(){r=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(P(n.userStep)){for(var a=0;a<t.results.data.length&&(n.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},i),!r);a++);delete t.results}else P(n.userChunk)&&(n.userChunk(t.results,i,t.file),delete t.results)}t.finished&&!r&&v(t.workerId,t.results)}function v(e,t){var n=o[e];P(n.userComplete)&&n.userComplete(t),n.terminate(),delete o[e]}function b(){throw Error("Not implemented.")}function _(e){if("object"!=i(e)||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=_(e[n]);return t}function x(e,t){return function(){e.apply(t,arguments)}}function P(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===l.WORKER_ID&&n&&(l.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:l.WORKER_ID,results:l.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=l.parse(n.input,n.config);r&&t.postMessage({workerId:l.WORKER_ID,results:r,finished:!0})}}),(c.prototype=Object.create(u.prototype)).constructor=c,(d.prototype=Object.create(u.prototype)).constructor=d,(p.prototype=Object.create(p.prototype)).constructor=p,(f.prototype=Object.create(u.prototype)).constructor=f,l})?n.apply(t,[]):n)&&(e.exports=r)},401426:function(e,t){"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,h=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function P(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case p:case a:case s:case l:case m:return e;default:switch(e=e&&e.$$typeof){case c:case f:case g:case h:case u:return e;default:return t}}case o:return t}}}function S(e){return P(e)===p}t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=u,t.Element=i,t.ForwardRef=f,t.Fragment=a,t.Lazy=g,t.Memo=h,t.Portal=o,t.Profiler=s,t.StrictMode=l,t.Suspense=m,t.isAsyncMode=function(e){return S(e)||P(e)===d},t.isConcurrentMode=S,t.isContextConsumer=function(e){return P(e)===c},t.isContextProvider=function(e){return P(e)===u},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return P(e)===f},t.isFragment=function(e){return P(e)===a},t.isLazy=function(e){return P(e)===g},t.isMemo=function(e){return P(e)===h},t.isPortal=function(e){return P(e)===o},t.isProfiler=function(e){return P(e)===s},t.isStrictMode=function(e){return P(e)===l},t.isSuspense=function(e){return P(e)===m},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===s||e===l||e===m||e===y||"object"===n(e)&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===b||e.$$typeof===_||e.$$typeof===x||e.$$typeof===v)},t.typeOf=P},727460:function(e,t,n){"use strict";e.exports=n(401426)},387551:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(539439),i=n(742897),o=n(811602);function a(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}n(838921);var l=n(76911),s=n(945790),u={disabled:!1},c=n(463761),d="unmounted",p="exited",f="entering",m="entered",y="exiting",h=function(e){function t(t,n){r=e.call(this,t,n)||this;var r,i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=p,r.appearStatus=f):i=m:i=t.unmountOnExit||t.mountOnEnter?d:p,r.state={status:i},r.nextCallback=null,r}(0,o.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:p}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==f&&n!==m&&(t=f):(n===f||n===m)&&(t=y)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===f?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===p&&this.setState({status:d})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[s.findDOMNode(this),r],o=i[0],a=i[1],l=this.getTimeouts(),c=r?l.appear:l.enter;if(!e&&!n||u.disabled){this.safeSetState({status:m},function(){t.props.onEntered(o)});return}this.props.onEnter(o,a),this.safeSetState({status:f},function(){t.props.onEntering(o,a),t.onTransitionEnd(c,function(){t.safeSetState({status:m},function(){t.props.onEntered(o,a)})})})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.findDOMNode(this);if(!t||u.disabled){this.safeSetState({status:p},function(){e.props.onExited(r)});return}this.props.onExit(r),this.safeSetState({status:y},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:p},function(){e.props.onExited(r)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(!n||r){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,i.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.createElement(c.Z.Provider,{value:null},"function"==typeof n?n(e,r):l.cloneElement(l.Children.only(n),r))},t}(l.Component);function g(){}h.contextType=c.Z,h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},h.UNMOUNTED=d,h.EXITED=p,h.ENTERING=f,h.ENTERED=m,h.EXITING=y;var v=function(e,t){return e&&t&&t.split(" ").forEach(function(t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=a(e.className,t):e.setAttribute("class",a(e.className&&e.className.baseVal||"",t))})},b=function(e){function t(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.addClass(i,o?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?(r&&n?n+"-":"")+e:n[e],o=r?i+"-active":n[e+"Active"],a=r?i+"-done":n[e+"Done"];return{baseClassName:i,activeClassName:o,doneClassName:a}},t}(0,o.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r,i=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(i+=" "+o),"active"===n&&e&&e.scrollTop,i&&(this.appliedClasses[t][n]=i,r=i,e&&r&&r.split(" ").forEach(function(t){var n,r;return n=e,r=t,void(n.classList?n.classList.add(r):(n.classList?r&&n.classList.contains(r):-1!==(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+r+" "))||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)))}))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&v(e,r),i&&v(e,i),o&&v(e,o)},n.render=function(){var e=this.props,t=(e.classNames,(0,i.Z)(e,["classNames"]));return l.createElement(h,(0,r.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.Component);b.defaultProps={classNames:""},b.propTypes={};var _=b},463761:function(e,t,n){"use strict";var r=n(76911);t.Z=r.createContext(null)},904202:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return e===t}t.P1=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];var a=0,l=i.pop(),s=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t.map(function(e){return n(e)}).join(", ")+"]");return t}(i),u=e.apply(void 0,[function(){return a++,l.apply(void 0,arguments)}].concat(r)),c=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=s.map(function(n){return n.apply(void 0,[e,t].concat(r))});return u.apply(void 0,function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}(o))};return c.resultFunc=l,c.recomputations=function(){return a},c.resetRecomputations=function(){return a=0},c}}(function(e){var t=arguments.length<=1||void 0===arguments[1]?r:arguments[1],n=null,i=null;return function(){for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return null!==n&&n.length===o.length&&o.every(function(e,r){return t(e,n[r])})||(i=e.apply(void 0,o)),n=o,i}})},561810:function(e,t){"use strict";/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<a(i,t))e[r]=t,e[n]=i,n=r;else break}}function i(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,o=i>>>1;r<o;){var l=2*(r+1)-1,s=e[l],u=l+1,c=e[u];if(0>a(s,n))u<i&&0>a(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[l]=n,r=l);else if(u<i&&0>a(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===("undefined"==typeof performance?"undefined":n(performance))&&"function"==typeof performance.now){var l,s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var d=[],p=[],f=1,m=null,y=3,h=!1,g=!1,v=!1,b="function"==typeof setTimeout?setTimeout:null,_="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function P(e){for(var t=i(p);null!==t;){if(null===t.callback)o(p);else if(t.startTime<=e)o(p),t.sortIndex=t.expirationTime,r(d,t);else break;t=i(p)}}function S(e){if(v=!1,P(e),!g){if(null!==i(d))g=!0,R(j);else{var t=i(p);null!==t&&F(S,t.startTime-e)}}}function j(e,n){g=!1,v&&(v=!1,_(A),A=-1),h=!0;var r=y;try{for(P(n),m=i(d);null!==m&&(!(m.expirationTime>n)||e&&!D());){var a=m.callback;if("function"==typeof a){m.callback=null,y=m.priorityLevel;var l=a(m.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?m.callback=l:m===i(d)&&o(d),P(n)}else o(d);m=i(d)}if(null!==m)var s=!0;else{var u=i(p);null!==u&&F(S,u.startTime-n),s=!1}return s}finally{m=null,y=r,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w=!1,O=null,A=-1,k=5,C=-1;function D(){return!(t.unstable_now()-C<k)}function E(){if(null!==O){var e=t.unstable_now();C=e;var n=!0;try{n=O(!0,e)}finally{n?l():(w=!1,O=null)}}else w=!1}if("function"==typeof x)l=function(){x(E)};else if("undefined"!=typeof MessageChannel){var I=new MessageChannel,T=I.port2;I.port1.onmessage=E,l=function(){T.postMessage(null)}}else l=function(){b(E,0)};function R(e){O=e,w||(w=!0,l())}function F(e,n){A=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,R(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return i(d)},t.unstable_next=function(e){switch(y){case 1:case 2:case 3:var t=3;break;default:t=y}var n=y;y=t;try{return e()}finally{y=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=y;y=e;try{return t()}finally{y=n}},t.unstable_scheduleCallback=function(e,o,a){var l=t.unstable_now();switch(a="object"===n(a)&&null!==a&&"number"==typeof(a=a.delay)&&0<a?l+a:l,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,e={id:f++,callback:o,priorityLevel:e,startTime:a,expirationTime:s,sortIndex:-1},a>l?(e.sortIndex=a,r(p,e),null===i(d)&&e===i(p)&&(v?(_(A),A=-1):v=!0,F(S,a-l))):(e.sortIndex=s,r(d,e),g||h||(g=!0,R(j))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=y;return function(){var n=y;y=t;try{return e.apply(this,arguments)}finally{y=n}}}},456058:function(e,t,n){"use strict";e.exports=n(561810)},933035:function(e){e.exports=/[\0-\x1F\x7F-\x9F]/},741429:function(e){e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},962876:function(e){e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},808062:function(e){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},830539:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(76911),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,l=r.useLayoutEffect,s=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return l(function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})},[e,n,t]),a(function(){return u(i)&&c({inst:i}),e(function(){u(i)&&c({inst:i})})},[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},165016:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(76911),i=n(768138),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,l=r.useRef,s=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=l(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;var f=a(e,(d=u(function(){function e(e){if(!s){if(s=!0,a=e,e=r(e),void 0!==i&&p.hasValue){var t=p.value;if(i(t,e))return l=t}return l=e}if(t=l,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,l=n)}var a,l,s=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,i]))[0],d[1]);return s(function(){p.hasValue=!0,p.value=f},[f]),c(f),f}},768138:function(e,t,n){"use strict";e.exports=n(830539)},273897:function(e,t,n){"use strict";e.exports=n(165016)},311716:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/commentHelpful-99007872.svg"},600636:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/commentHelpfulOutline-7f59f782.svg"},559113:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/commentLoved-7942dc4f.svg"},133758:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/commentLovedOutline-97205606.svg"},184508:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/goodIdeaAnimated-5de05cb7.svg"},147916:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/goodIdeaGrid-e3e37a7f.svg"},167361:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/goodIdeaStatic-855554b0.svg"},697031:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/hahaAnimated-df9cb2fa.svg"},404247:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/hahaGrid-7945c718.svg"},836866:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/hahaStatic-28ee6e1e.svg"},620668:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/loveAnimated-ccd5b808.svg"},86119:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/loveGrid-1ec7b8e4.svg"},753873:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/loveStatic-31fc2a99.svg"},873774:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/reactionHeartOutline-24ab75a6.svg"},479197:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/reactionHeartOutlineWhite-61cdbdb7.svg"},110099:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/thanksAnimated-6831daf3.svg"},244892:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/thanksGrid-b3cf8b93.svg"},485846:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/thanksStatic-51f19932.svg"},461471:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/wowAnimated-b776449f.svg"},662502:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/wowGrid-9e62e75a.svg"},239784:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/wowStatic-d966adbd.svg"},622702:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},500390:function(e,t,n){var r=n(622702);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},375990:function(e){e.exports=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},136021:function(e,t,n){var r=n(227176);e.exports=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},928837:function(e,t,n){var r=n(715236);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},647586:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},191670:function(e,t,n){var r=n(468814);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},257523:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},71507:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},773954:function(e){e.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},228644:function(e,t,n){var r=n(928837);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},686447:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},468814:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},865897:function(e,t,n){var r=n(500390),i=n(71507),o=n(227176),a=n(773954);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},313493:function(e,t,n){var r=n(145425).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},715236:function(e,t,n){var r=n(145425).default,i=n(313493);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},145425:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},227176:function(e,t,n){var r=n(622702);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}},e.exports.__esModule=!0,e.exports.default=e.exports},744702:function(e,t,n){"use strict";function r(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},232302:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(439920);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},539439:function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{Z:function(){return r}})},811602:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(967809);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},927593:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(232302);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},742897:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},967809:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:function(){return r}})},439920:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(54406);function i(e){var t=function(e,t){if("object"!=(0,r.Z)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.Z)(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.Z)(t)?t:String(t)}},54406:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return r}})},111891:function(e,t,n){"use strict";n.d(t,{s:function(){return u}});var r=n(515198),i=n(76911);function o(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){n(e);return}l.done?t(s):Promise.resolve(s).then(r,i)}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){return Math.floor(e*(16/9))},u=function(e){var t=e.shuffle,l=e.width,u=e.children,c=e.rounded,d=a((0,i.useState)(!1),2),p=d[0],f=d[1],m=(0,i.useRef)(null),y=(0,i.useRef)(!1),h=(0,i.useRef)(null),g=(0,i.useRef)(null),v=(0,i.useRef)(null),b=(0,i.useRef)(null);return(0,i.useEffect)(function(){var e,r,i=(e=regeneratorRuntime.mark(function e(){var r,i,o,u,c,d,p,_,x,P,S,j,w,O,A;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!m.current||!b.current||!t)){e.next=2;break}return e.abrupt("return");case 2:return o=b.current.offsetWidth,u=m.current,d=s(c="100%"===l?o:l),u.width=1152,u.height=s(1152),u.style.width="".concat(c,"px"),u.style.height="".concat(d,"px"),p={height:u.height,width:u.width},y.current=!0,e.t0=Promise,e.next=9,Promise.all([n.e(76763),n.e(17830),n.e(83245)]).then(n.bind(n,483245));case 9:return e.t1=e.sent,e.next=12,Promise.all([n.e(76763),n.e(17830)]).then(n.bind(n,976763));case 12:return e.t2=e.sent,e.next=15,n.e(63192).then(n.bind(n,863192));case 15:return e.t3=e.sent,e.t4=[e.t1,e.t2,e.t3],e.next=19,e.t0.all.call(e.t0,e.t4);case 19:return x=(_=a(e.sent,3))[0],P=_[1],S=_[2],e.next=26,P.initLibrary();case 26:return e.next=28,S.buildStickersDTO({shuffle:t,canvasDimensions:p});case 28:if(j=e.sent,(w=x.paintShuffle(u,j,null==(r=t.effect_data)?void 0:r.backgroundColor).renderer).render(),v.current=w,f(!0),O=function e(){h.current=requestAnimationFrame(e),w.render()},h.current=requestAnimationFrame(O),null==(i=t.effect_data)||!i.keyframeAnimation){e.next=38;break}return e.next=36,Promise.all([n.e(76763),n.e(17830),n.e(66985)]).then(n.bind(n,766985));case 36:A=e.sent,g.current=A.doKeyframes(t.effect_data.keyframeAnimation,w,p,j[0].isHidden);case 38:case"end":return e.stop()}},e)}),r=function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function l(e){o(a,r,i,l,s,"next",e)}function s(e){o(a,r,i,l,s,"throw",e)}l(void 0)})},function(){return r.apply(this,arguments)});null!=t&&t.items&&!y.current&&(y.current=!0,i())},[t,l]),(0,i.useEffect)(function(){return function(){h.current&&cancelAnimationFrame(h.current),g.current&&g.current(),v.current&&v.current.destroy()}},[]),(0,r.jsxs)("div",{ref:b,style:"100%"===l?{width:"100%"}:{},children:[u,(0,r.jsx)("canvas",{style:{pointerEvents:"none",borderRadius:void 0!==c&&c?"10%/5%":0,position:"absolute",transitionProperty:"opacity",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms",top:0,left:0,opacity:p?1:0},ref:m})]})}},610248:function(e){"use strict";e.exports=JSON.parse('["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","duck","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","iveco","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","spreadbetting","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","कॉम","セール","佛山","ಭಾರತ","慈善","集团","在线","한국","ଭାରତ","大众汽车","点看","คอม","ভাৰত","ভারত","八卦","موقع","বাংলা","公益","公司","香格里拉","网站","移动","我爱你","москва","қаз","католик","онлайн","сайт","联通","срб","бг","бел","קום","时尚","微博","淡马锡","ファッション","орг","नेट","ストア","アマゾン","삼성","சிங்கப்பூர்","商标","商店","商城","дети","мкд","ею","ポイント","新闻","家電","كوم","中文网","中信","中国","中國","娱乐","谷歌","భారత్","ලංකා","電訊盈科","购物","クラウド","ભારત","通販","भारतम्","भारत","भारोत","网店","संगठन","餐厅","网络","ком","укр","香港","亚马逊","诺基亚","食品","飞利浦","台湾","台灣","手机","мон","الجزائر","عمان","ارامكو","ایران","العليان","اتصالات","امارات","بازار","موريتانيا","پاکستان","الاردن","بارت","بھارت","المغرب","ابوظبي","البحرين","السعودية","ڀارت","كاثوليك","سودان","همراه","عراق","مليسيا","澳門","닷컴","政府","شبكة","بيتك","عرب","გე","机构","组织机构","健康","ไทย","سورية","招聘","рус","рф","تونس","大拿","ລາວ","みんな","グーグル","ευ","ελ","世界","書籍","ഭാരതം","ਭਾਰਤ","网址","닷넷","コム","天主教","游戏","verm\xf6gensberater","verm\xf6gensberatung","企业","信息","嘉里大酒店","嘉里","مصر","قطر","广东","இலங்கை","இந்தியா","հայ","新加坡","فلسطين","政务","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw"]')}},function(e){e.O(0,[578],function(){[97270,48937,41007,22555,43473,46760,92982].map(e.E)},5),e.O(0,[97270,8390,71827,99689,26067,17492,48327,66312,99246,16117,13254,17197,83521,87072,99961,57709,76596,90123,16142,27405,10903,8151,42103],function(){return e(e.s=974562)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/promote-3bddd01272d83469.js.map