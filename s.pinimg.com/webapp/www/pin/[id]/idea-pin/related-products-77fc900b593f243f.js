(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[67513,84992,56831],{360980:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinBlock_pin",selections:[{args:null,kind:"FragmentSpread",name:"StoryPinStickerBlockCloseup_pin"}],type:"Pin",abstractKey:null};t.hash="8bb1bb1f7bafeed0fe43bed44ef12d2a",e.exports=t},884884:function(e){"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinStickerBlockCloseup_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};t.hash="7e8d917850c8329247291df0d281a59b",e.exports=t},124495:function(e){"use strict";var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdpPlus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="75e0e2c4ba4bc9bcf9a593eacb51e671",e.exports=n},430470:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/idea-pin/related-products"]=function(){return n(678205).Z}},790904:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(76911),i=n(908390),o=n(515198);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e){var t,n=e.accessibilityLabel,l=e.handleClick,u=e.icon,c=e.iconColor,s=e.iconOnly,d=e.testId,p=e.buttonText,f=e.tabIndex,y=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=y[0],v=y[1],h=(0,r.useRef)(null),b=function(){v(function(e){return!e}),l()},g=function(e){var t;h&&e.target instanceof Element&&!(null!==(t=h.current)&&void 0!==t&&t.contains(e.target))&&v(!1)};return(0,r.useEffect)(function(){return window.addEventListener("mousedown",g),function(){window.removeEventListener("mousedown",g)}},[]),(0,o.jsx)(i.xu,{"data-test-id":d||"closeup-action-bar-button",children:(0,o.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,o.jsx)(i.hU,{accessibilityLabel:n,iconColor:c||"darkGray",onClick:b,selected:m,icon:u,size:s?"md":"lg",ref:h,tabIndex:f}),p&&(0,o.jsx)(i.iP,{onTap:b,rounding:2,children:(0,o.jsx)(i.X6,{color:"light",overflow:"normal",size:"400",children:p})})]})})}},459263:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(76911),i=n(908390),o=n(407043),a=n(121151),l=n(898781),u=n(391254),c=n(515198);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e){var t,n=e.handlePause,d=e.handlePlay,p=e.musicAttributions,f=e.shouldMute,y=e.showEndCard,m=(0,l.ZP)(),v=(0,o.v)().logContextEvent,h=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=h[0],g=h[1];if((0,r.useEffect)(function(){!y&&(null!=p&&p.length||f)&&v({event_type:f?14600:14601,view_type:3,view_parameter:140})},[v,p,f,y]),y||!(null!=p&&p.length)&&!f)return null;var _=function(){d&&d(),g(!1)},P="";if((null==p?void 0:p.length)===1){var w=p[0],S=w.artist,x=void 0===S?"":S,j=w.title,O=void 0===j?"":j;P=x&&O?"".concat(x," - ").concat(O):""}var I=((null==p?void 0:p.length)||0)>=2?(0,c.jsx)(i.xu,{children:(0,c.jsx)(i.iP,{fullHeight:!0,fullWidth:!0,onTap:function(){n&&n(),g(!0)},children:(0,c.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(i.xu,{marginEnd:2,children:(0,c.jsx)(i.JO,{inline:!0,accessibilityLabel:m._('Music icon', 'web.closeup.musicicon', 'Artist and song title for Pin music attribution'),color:"inverse",icon:f?"music-off":"music-on",size:12})}),(0,c.jsx)(i.xv,{inline:!0,color:"inverse",overflow:"noWrap",size:"100",children:m._('View the playlist', 'web.closeup.musicAttibutionModal.entryPoint', 'Entry point for playlist modal')})]})})}):(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(i.JO,{inline:!0,accessibilityLabel:m._('Music icon', 'web.pin.closeup.musicicon', 'Music icon for Pin music attribution'),color:"inverse",icon:f?"music-off":"music-on",size:12}),(0,c.jsx)(i.xu,{marginStart:2,overflow:"hidden",children:(0,c.jsxs)("span",{className:P.length>=50?"marquee":void 0,style:{display:"inline-block",maxWidth:P.length>=50?"260px":void 0},children:[(0,c.jsx)(i.xv,{inline:!0,color:"inverse",overflow:"noWrap",size:"100",children:P}),(0,c.jsx)(u.Z,{unsafeCSS:"\n                  .marquee {\n                   animation: marquee ".concat("10s"," linear infinite;\n                   animation-delay: ").concat("2s",";\n                  }\n\n                  .marquee:hover {\n                      animation-play-state: paused;\n                  }\n\n\n                 @keyframes marquee {\n                   0% {\n                     transform: translateX(0%);\n                    }\n                  50% {\n                    transform: translateX(").concat("-100%",");\n                  }\n                  100% {\n                    transform: translateX(0%);\n                  }\n              }\n            ")})]})})]});return(0,c.jsxs)(r.Fragment,{children:[f?(0,c.jsx)(r.Fragment,{children:(0,c.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,c.jsx)(i.xu,{marginEnd:2,children:(0,c.jsx)(i.JO,{inline:!0,accessibilityLabel:m._('Music icon', 'web.closeup.musicMutedIcon', 'Music muted icon for Pin music attribution'),color:"inverse",icon:"music-off",size:12})}),(0,c.jsx)(i.xv,{inline:!0,color:"inverse",overflow:"noWrap",size:"100",children:m._('Audio not available in your location', 'web.closeup.musicAttribution', 'Informational message to tell user audio is not available in their location')})]})}):I,b&&(0,c.jsx)(a.ZP,{accessibilityModalLabel:m._('Artist and song title for this Pin', 'web.closeup.musicAttibutionModal', 'Artist and song title for Pin music attribution'),heading:(0,c.jsxs)(i.kC,{justifyContent:"between",children:[(0,c.jsx)(i.X6,{size:"500",children:m._('Playlist for this video', 'web.closeup.musicAttibutionModal.heading', 'Title for music attribution modal')}),(0,c.jsx)(i.hU,{accessibilityLabel:m._('Close modal button', 'web.closeup.musicAttibutionModal.closeButton', 'Close modal button for music attribution modal'),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:_,size:"sm"})]}),onDismiss:_,children:(0,c.jsx)(i.xu,{paddingX:5,marginBottom:5,paddingY:1,children:null==p?void 0:p.map(function(e,t){var n=e.isrc,r=e.thumbnail_image_url,o=e.title,a=e.artist;return(0,c.jsxs)(i.xu,{display:"flex",padding:1,children:[(0,c.jsx)(i.xu,{color:"darkWash",height:60,rounding:7,width:60,children:(0,c.jsx)(i.Ee,{alt:m._('Image of album art', 'web.closeup.musicAttibutionModal.albumArt', 'Alt text for image of album art for associated song'),color:"darkWash",naturalWidth:1,naturalHeight:1,src:r||""})}),(0,c.jsxs)(i.xu,{display:"flex",direction:"column",justifyContent:"center",paddingX:2,children:[(0,c.jsx)(i.xv,{weight:"bold",children:null!=o?o:""}),(0,c.jsx)(i.xv,{size:"100",children:null!=a?a:""})]})]},n||"".concat(t))})})})]})}},280348:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(76911),i=n(908390),o=n(238464),a=n(407043),l=n(898781),u=n(428258),c=n(515198);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(l,e);var t,n,r,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=v(l);if(t){var r=v(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return m(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(m(e=a.call.apply(a,[this].concat(n))),"startAudiblePlayTime",e.props.muted?null:new Date),e}return n=[{key:"componentDidUpdate",value:function(e){e.muted!==this.props.muted&&(this.startAudiblePlayTime=this.props.muted?null:new Date)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.musicRecordingId,n=e.muted,r=e.pinId,i=e.video;if(t&&!n&&this.startAudiblePlayTime&&new Date-this.startAudiblePlayTime>=2e3){var o,a,l,c,s,d,p,f=(0,u.ZP)({vEXP3:null===(o=i.video_list)||void 0===o?void 0:o.V_EXP3,vEXP4:null===(a=i.video_list)||void 0===a?void 0:a.V_EXP4,vEXP5:null===(l=i.video_list)||void 0===l?void 0:l.V_EXP5,vEXP6:null===(c=i.video_list)||void 0===c?void 0:c.V_EXP6,vEXP7:null===(s=i.video_list)||void 0===s?void 0:s.V_EXP7,v720P:null===(d=i.video_list)||void 0===d?void 0:d.V_720P,vHLSV3MOBILE:null===(p=i.video_list)||void 0===p?void 0:p.V_HLSV3_MOBILE})||{},y=f.hlsv3,m=f.mp4||y,v=(null==m?void 0:m.duration)||0;this.props.logContextEvent({event_type:8999,object_id_str:t,aux_data:{pin_id:r,story_pin_music_duration:v}})}}},{key:"render",value:function(){var e,t,n,r,a,l,s,d,p=this.props,f=p.activePageIndex,y=p.blockHeight,m=p.blockWidth,v=p.closeupStoryPinViewability,h=p.customEndCard,b=p.isPlaying,g=p.muted,_=p.onEnded,P=p.onUpdateVideoInfo,w=p.pageIndex,S=p.pinId,x=p.roundCorners,j=p.video,O=p.videoThumbnailStartTime,I=null!==(e=(0,u.ZP)({vEXP3:null===(t=j.video_list)||void 0===t?void 0:t.V_EXP3,vEXP4:null===(n=j.video_list)||void 0===n?void 0:n.V_EXP4,vEXP5:null===(r=j.video_list)||void 0===r?void 0:r.V_EXP5,vEXP6:null===(a=j.video_list)||void 0===a?void 0:a.V_EXP6,vEXP7:null===(l=j.video_list)||void 0===l?void 0:l.V_EXP7,v720P:null===(s=j.video_list)||void 0===s?void 0:s.V_720P,vHLSV3MOBILE:null===(d=j.video_list)||void 0===d?void 0:d.V_HLSV3_MOBILE}))&&void 0!==e?e:{},A=I.hlsv3,T=I.mp4,E=T||A;if(!E)return null;var k=E.height,C=E.thumbnail,D=E.width,R=(null!=D?D:1)/(null!=k?k:1),L={height:"100%",left:"0",top:"0",width:"100%"},M=m/y;if(Math.abs(M-R)>.01){if(M<R){var z=100*R/M;L.width="".concat(z,"%"),L.left="-".concat((z-100)/2,"%")}else if(M>R){var F=100*M/R;L.height="".concat(F,"%"),L.top="-".concat((F-100)/2,"%")}}var V="number"==typeof f&&w<=f+3;return(0,c.jsx)(i.xu,{height:y,overflow:"hidden",position:"relative",width:m,children:(0,c.jsx)(i.xu,{height:"100%",position:"absolute",width:"100%",children:V||b||O?(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:L},position:"absolute",children:(0,c.jsx)(o.Z,{loop:!1,autoplay:b,closeupStoryPinViewability:v,contextLogData:{component:0===w?227:228,element:10957,objectId:S,story_pin_page_id:w,view:3,viewParameter:157},customThumbnail:C,customEndCard:h,isPromoted:!1,muted:g,pinId:S,showControls:"never",variant:"storyPin",preferMp4:!!T,objectFit:T?"cover":void 0,roundingOverride:void 0===x||x?null:0,video:{id:j.id,hlsv3:A,mp4:T},onTimeChange:function(e){var t=e.time;P&&"number"==typeof E.duration&&E.duration>0&&P({currentTime:t,duration:E.duration/1e3})},onEnded:function(){_&&_(w)},videoThumbnailStartTime:O})}):(0,c.jsx)(i.Ee,{alt:this.props.i18n._('Video cover image', 'closeup.storyPin.videoCover', 'cover image displayed for a video'),fit:"cover",naturalHeight:null!=k?k:1,naturalWidth:null!=D?D:1,src:null!=C?C:""})})})}}],f(l.prototype,n),r&&f(l,r),Object.defineProperty(l,"prototype",{writable:!1}),l}(r.PureComponent);function _(e){var t=(0,a.v)().logContextEvent,n=(0,l.ZP)();return(0,c.jsx)(g,p(p({},e),{},{i18n:n,logContextEvent:t}))}},386352:function(e,t,n){"use strict";n.d(t,{_B:function(){return en},Xw:function(){return er},tD:function(){return ei},ZP:function(){return eu}}),n(704217);var r,i,o=n(908390),a=n(599689),l=n(407043),u=n(784590),c=n(252417),s=n(515198),d=function(e){var t=e.block,n=t.block_style,r=(n=void 0===n?{}:n).height,i=n.width,d=n.x_coord,p=n.y_coord,f=n.rotation,y=t.original_comment_id,m=e.pageAspectRatio,v=e.scaleFactor,h=(0,l.v)().logContextEvent,b=en/m,g=(0,a.useHistory)(),_=(0,u.Z)({name:"AggregatedCommentResource",options:{commentId:y,field_set_key:"comment_reply_sticker"}}).data;return(0,s.jsx)(o.xu,{display:"flex",dangerouslySetInlineStyle:{__style:{left:(void 0===d?0:d)*en*v/100,top:(void 0===p?0:p)*b*v/100,transform:"rotate(".concat(void 0===f?0:f,"deg)")}},height:(void 0===r?0:r)*b*v/100,position:"absolute",width:(void 0===i?0:i)*en*v/100,rounding:2,zIndex:c.B5,padding:1,margin:-1,children:(0,s.jsx)(o.iP,{onTap:function(){h({event_type:102,view_type:1,component:227,element:12541,aux_data:{comment_id:y}}),null!=_&&_.pin_id&&g.push("/pin/".concat(_.pin_id,"/comments/").concat(y||""))},rounding:"pill"})})},p=n(523657),f=n(902355);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=["src","fallbackSrc"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e){var t=e.src,n=e.fallbackSrc,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,m),i=(0,f.Z)(t);return(0,s.jsx)(p.Z,h(h({},r),{},{src:i?t:n}))}var g=n(506979);function _(e){var t=e.isUseCache,n=e.signature;return(0,g.useSelector)(function(e){var r=e.pinbuilder.storyPinItemBlocks;if(!t)return null;for(var i=0,o=Object.keys(r);i<o.length;i++){var a,l,u=o[i];if((null===(a=r[u].media)||void 0===a?void 0:a.signatureEdited)===n||(null===(l=r[u].media)||void 0===l?void 0:l.signature)===n)return r[u]}return null})}var P=n(76911),w=n(964569),S=n(237056),x=n(121151),j=n(898781),O=n(664569);function I(e,t,n,r,i,o,a){try{var l=e[o](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,i)}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var T=function(e){var t,n=e.aggregatedCommentId,r=e.onDismiss,i=(0,j.ZP)(),a=(0,S.Z)(),l=(0,w.Z)(),u=function(e){if(Array.isArray(e))return e}(t=(0,P.useState)(""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=u[0],d=u[1],p=(0,s.jsx)(o.kC,{justifyContent:"end",children:(0,s.jsx)(o.zx,{color:"red",disabled:!c,onClick:function(){var e;(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({fromUnifiedComment:!0,objectType:O.o.aggregatedComment,objectId:n,tags:"[]",text:c});case 2:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){I(o,r,i,a,l,"next",e)}function l(e){I(o,r,i,a,l,"throw",e)}a(void 0)})})(),r()},text:i._('Post', 'ideapin.questionsticker.replymodal.postbutton', 'Post reply to creator Q&A question')})});return(0,s.jsx)(x.ZP,{accessibilityModalLabel:"reply to creator Q and A question",align:"start",footer:p,heading:i._('Reply', 'ideapin.questionsticker.replymodal', 'Reply to creator Q&A question'),onDismiss:r,children:(0,s.jsx)(o.xu,{paddingX:8,paddingY:1,children:(0,s.jsx)(o.Kx,{id:"ideaPinQuestionStickerReplyModalTextArea",onChange:function(e){d(e.value)},placeholder:a?i._('Your reply will show up as a public comment on this Pin.', 'pin.questionsticker.replymodal.placeholder', 'Placeholder for creator Q&A reply textarea'):i._('Your reply will show up as a public comment on this Idea Pin.', 'ideapin.questionsticker.replymodal.placeholder', 'Placeholder for creator Q&A reply textarea'),value:c})})})},E=n(356997),k=n(916117),C=n(349700),D=n(773285),R=n(224496),L=n(148028);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var F=void 0!==r?r:r=n(884884);function V(e){var t,n=e.block,r=e.elementType,i=e.onFlyoutOpen,d=e.pageAspectRatio,p=e.pageIndex,f=e.pinKey,y=e.scaleFactor,m=e.tooltipElementType,v=e.videoPinProgress,h=(0,l.v)().logContextEvent,b=M((0,P.useState)(!1),2),g=b[0],_=b[1],w=M((0,P.useState)(!1),2),S=w[0],x=w[1],O=(0,P.useRef)(null),I=(0,a.useHistory)(),A=(0,j.ZP)(),z=(0,k.u)(F,f).data,V=(0,D.F)().checkExperiment,Z=n.block_style,N=(Z=void 0===Z?{}:Z).height,B=Z.width,H=Z.x_coord,U=Z.y_coord,W=Z.rotation,G=n.end_time,K=n.error_message,X=n.interactive_sticker_type,Y=void 0===X?null:X,q=n.is_removed,$=n.is_valid,J=n.start_time,Q=n.sticker_data,ee=n.type,et=null==z?void 0:z.entityId,eo=Q||{},ea=eo.board_id,el=eo.question_comment_id,eu=null!==(t=n.user)&&void 0!==t?t:{},ec=eu.image_small_url,es=eu.full_name,ed=eu.username,ep=null,ef=$&&5===Y&&!!ea,ey=$&&7===Y&&!!el,em=(0,u.Z)(ea&&ef?{name:"BoardResource",options:{field_set_key:"tagged_board_preview",board_id:ea}}:null),ev=em.data||{},eh=ev.is_collaborative,eb=ev.pin_count,eg=ev.url;ee===R.h8.PRODUCT_STICKER?ep=et?"/pin/".concat(et,"/"):"/":ee===R.h8.MENTION_STICKER?ep="/".concat(void 0===ed?"":ed,"/"):ef&&(ep=em.isLoaded?"".concat(eg):null);var e_=en/d,eP=(v||{}).currentTime,ew=!(0,L.Z)({currentTime:eP,endTime:G,startTime:J}),eS=function(){h({event_type:123,component:228,element:m,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:p}}),_(!1)},ex=function(e){var t=e.event;h({event_type:120,component:228,element:m,view_type:3,view_parameter:157,aux_data:{error_message:!$&&K?K:null,story_pin_page_id:p}}),_(!0),i&&(t.stopPropagation(),i())};(0,P.useEffect)(function(){return document.addEventListener("scroll",function(){_(!1)}),function(){return document.removeEventListener("scroll",function(){_(!1)})}},[]);var ej=function(){var e=null;switch(ee){case R.h8.PRODUCT_STICKER:var t=z||{},n=t.gridTitle,r=t.imageSpec_236x,i=t.richSummary,a=t.description,l=i||{},u=l.displayName,c=((l.products||[])[0]||{}).offerSummary||{},d=c||{},p=d.price,f=d.maxPrice,y=u||n||a;e=(0,s.jsxs)(P.Fragment,{children:[(0,s.jsx)(o.xu,{flex:"none",children:(0,s.jsx)(o.zd,{wash:!0,height:40,width:40,rounding:3,children:(0,s.jsx)(o.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:(null==r?void 0:r.url)||""})})}),(0,s.jsx)(o.xu,{flex:"grow",paddingX:2,children:c&&(p||f)?(0,s.jsxs)(o.kC,{alignContent:"center",alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"center",children:[(0,s.jsx)(o.xv,{size:"100",lineClamp:1,weight:"bold",color:"shopping",children:p}),(0,s.jsx)(o.xv,{size:"100",lineClamp:1,children:y})]}):(0,s.jsx)(o.xv,{size:"100",lineClamp:1,children:y})}),(0,s.jsx)(o.xu,{flex:"none",children:(0,s.jsx)(o.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case R.h8.MENTION_STICKER:e=(0,s.jsxs)(P.Fragment,{children:[(0,s.jsx)(o.xu,{flex:"none",children:(0,s.jsx)(E.qE,{size:"sm",name:null!=es?es:"",src:null!=ec?ec:void 0})}),(0,s.jsx)(o.xu,{flex:"grow",paddingX:2,children:(0,s.jsx)(o.xv,{weight:"bold",size:"200",lineClamp:1,children:es})}),(0,s.jsx)(o.xu,{flex:"none",children:(0,s.jsx)(o.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case R.h8.GENERIC_STICKER:e=[5].includes(Y)?$?em.isLoaded?(0,s.jsxs)(P.Fragment,{children:[(0,s.jsxs)(o.xu,{flex:"grow",paddingX:2,children:[(0,s.jsx)(o.xv,{weight:"bold",size:"100",lineClamp:1,children:eh?A._('Explore this group board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when group board tag flyout showing'):A._('Explore this board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when board tag flyout showing')}),(0,s.jsx)(o.xv,{size:"100",children:(!!eb||0===eb)&&(0,C.nk)(A.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', eb, 'closeup.StoryPin.stickerBlock.boardSticker.boardLabel', 'Caption when board tag flyout that showing number of Pins on board'),{pinCount:eb})})]}),(0,s.jsx)(o.xu,{flex:"none",children:(0,s.jsx)(o.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]}):(0,s.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingY:2,children:[(0,s.jsx)(o.xu,{marginEnd:1,paddingX:2,children:(0,s.jsx)(o.xv,{color:"subtle",size:"100",lineClamp:1,children:A._('Loading board...', 'closeup.StoryPin.stickerBlock.boardSticker.loadingText', 'Label explaining board sticker still loading')})}),(0,s.jsx)(o.$j,{accessibilityLabel:A._('Board is loading', 'closeup.StoryPin.stickerBlock.boardSticker.loadingSpinnerText', 'Accessibility label for board loading spinner'),size:"sm",show:!0})]}):(0,s.jsx)(o.xu,{paddingX:2,paddingY:2,children:(0,s.jsx)(o.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:K})}):(0,s.jsx)(o.xu,{paddingX:2,paddingY:2,children:(0,s.jsx)(o.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:A._('Sticker not supported yet', 'closeup.StoryPin.stickerBlock.genericStickerError', 'Label explaining this sticker has not been implemented yet')})});break;case R.h8.VTO_MAKEUP_STICKER:e=(0,s.jsx)(o.xv,{weight:"bold",size:"300",children:A._('Try this sticker on your phone!', 'closeup.storyPin.vtoMakeupSticker', 'Caption when @vitural-try-on-makeup tag is tapped for Web')})}return(0,s.jsx)(o.xu,{alignItems:"center","data-test-id":ee,display:"flex",justifyContent:"center",padding:ee===R.h8.PRODUCT_STICKER?1:3,width:"100%",children:q?(0,s.jsx)(o.xv,{color:"subtle",weight:"bold",size:"200",children:A._('Tag removed!', 'closeup.storyPin.stickerBlock', 'Caption when the tag is removed')}):e})};return(0,s.jsx)(P.Fragment,{children:ew?null:(0,s.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{left:(void 0===H?0:H)*en*y/100,top:(void 0===U?0:U)*e_*y/100,transform:"rotate(".concat(void 0===W?0:W,"deg)")}},"data-test-id":(ee||"")+"_container",display:"flex",height:(void 0===N?0:N)*e_*y/100+2*er,margin:-1,padding:1,position:"absolute",ref:O,rounding:2,width:(void 0===B?0:B)*en*y/100+2*er,zIndex:c.B5,children:[(0,s.jsx)(o.iP,{onTap:g?eS:function(e){var t=e.event;!ew&&(h({event_type:101,component:228,element:r,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:p}}),ey?V("web_question_sticker_display").anyEnabled&&x(!0):ex({event:t}))},rounding:"pill",disabled:ew}),g&&(0,s.jsx)(o.mh,{zIndex:ei,children:(0,s.jsx)(o.J2,{anchor:O.current,idealDirection:"up",onDismiss:eS,positionRelativeToAnchor:!1,_deprecatedShowCaret:!0,size:q?"flexible":"sm",children:q?ej():(0,s.jsx)(o.iP,{onTap:function(e){e.event.preventDefault(),q||(h({event_type:101,component:228,element:m,object_id_str:et,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:p}}),ep?I.push(ep):eS())},fullWidth:!0,children:ej()})})}),!!el&&S&&(0,s.jsx)(T,{aggregatedCommentId:el,onDismiss:function(){x(!1)}})]})})}var Z=n(775151),N=n(296342),B=n(854907),H=n(829084);function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function G(e){var t=e.block,n=e.fontsLoaded,r=e.pageAspectRatio,i=e.scaleFactor,a=e.thumbnail,l=t.block_style,u=t.style,c=void 0===u?R.Cc:u,d=t.text,p=c.alignment,f=c.font,y=c.font_size,m=c.highlight_color,v=c.vertical_alignment,h=void 0===v?R.Cc.vertical_alignment:v,b=(null!=c?c:{}).hex_color,g=void 0===b?R.Cc.hex_color:b,_=U((0,P.useState)(0),2),w=_[0],S=_[1],x=U((0,P.useState)([]),2),j=x[0],O=x[1],I=f||R.Cc.font,A=I.name,T=I.default_size,E=I.letter_spacing,k=I.line_height,C=(0,H.Z)(I),D=Math.round(100*((null==l?void 0:l.width)||100))/1e4,L=Math.round(100*((null==l?void 0:l.height)||100))/1e4,M=Math.round(100*((null==l?void 0:l.x_coord)||0))/1e4,z=Math.round(100*((null==l?void 0:l.y_coord)||0))/1e4;(0,P.useEffect)(function(){if(n){var e=(0,B.KV)({text:d,boxHeight:N.U*L,boxWidth:N.q8*D,font:C,startFontSize:Math.floor(y||T||24)});O(e.lines),S(e.fontSize)}},[n,d]);var F=w*i,V=m?(0,R.pE)(F,k):{x:0,y:0},W=D*N.q8*i+2*V.x,G=L*N.U*i+2*V.y,K=M*N.q8*i-V.x,X=a?"".concat(100*z,"%"):z*(N.q8/r)*i-V.y;return(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:K,top:X}},display:"flex",height:G,position:"absolute",width:W,children:(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:(0,Z.RK)({alignment:p,verticalAlignment:h})},children:(0,s.jsx)(o.xu,{display:"inlineBlock",maxWidth:"100%",children:(0,s.jsx)("p",{style:(0,Z.BN)({fontSize:F,hexColor:g,letterSpacing:E,lineHeight:k,name:A}),children:j.map(function(e,t){return(0,s.jsx)("span",{style:(0,Z.xm)({fontSize:F,hasText:e.text.length>0,highlightColor:m||null,lineHeight:k}),children:t===j.length-1?e.text:(0,s.jsxs)(P.Fragment,{children:[e.text," ",(0,s.jsx)("br",{})]})},"paragraphLine-".concat(t,"-").concat((null!=d?d:"").substr(0,9)))})})})})})}var K=n(280348),X=n(19121);function Y(e){var t=e.ownerId,n=(0,j.ZP)(),r=(0,X.Z)(),i=r.isAuth&&r.id===t;return(0,s.jsxs)(o.xu,{alignItems:"center",color:"tertiary",direction:"column",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:[(0,s.jsx)(o.xv,{color:"inverse",children:i?n._('Your video is processing!', 'closeup.storyPin.videoPlaceholder', 'Let user know that their video is still processing'):n._('This video is still processing!', 'closeup.storyPin.videoPlaceholder', 'Let user know that this video is still processing')}),(0,s.jsx)(o.xv,{color:"inverse",children:n._('Check back in a few minutes.', 'closeup.storyPin.videoPlaceholder', 'Let user know to come back in a couple of minutes to view the video')})]})}var q=n(276602),$=n(47168),J=n(387957);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==Q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Q(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Q(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var en=375,er=4,ei=new o.Ry(3);function eo(e){var t,n,r,i,o,a,l,u,c,d,f,y,m=e.block,v=e.isActive,h=e.pwtTrackImageLoad,g=e.thumbnail,P=(0,j.ZP)(),w=(null===(t=m.image)||void 0===t?void 0:null===(n=t.images)||void 0===n?void 0:n["750x"])||(null===(r=m.image)||void 0===r?void 0:null===(i=r.images)||void 0===i?void 0:i["474x"]),S=_({isUseCache:!0,signature:m.image_signature});if(!w&&!S)return null;var x=g?"cover":"none";return S?(0,s.jsx)(b,{alt:P._('Story pin image', 'closeup.storypin.renderer', 'Alt text for story pin image'),fallbackSrc:null!==(o=null===(a=S.media)||void 0===a?void 0:a.src)&&void 0!==o?o:"",isActive:v,naturalHeight:null!==(l=null==w?void 0:w.height)&&void 0!==l?l:1,naturalWidth:null!==(u=null==w?void 0:w.width)&&void 0!==u?u:1,src:null!==(c=null==w?void 0:w.url)&&void 0!==c?c:"",onLoad:h,fit:x}):(0,s.jsx)(p.Z,{alt:P._('Story pin image', 'closeup.storypin.renderer', 'Alt text for story pin image'),isActive:v,naturalHeight:null!==(d=null==w?void 0:w.height)&&void 0!==d?d:1,naturalWidth:null!==(f=null==w?void 0:w.width)&&void 0!==f?f:1,src:null!==(y=null==w?void 0:w.url)&&void 0!==y?y:"",onLoad:h,fit:x})}function ea(e){var t,n,r=e.activePageIndex,i=e.block,a=e.closeupStoryPinViewability,l=e.customEndCard,u=e.isActive,c=e.isSplitLayout,d=e.musicRecordingId,p=e.muted,f=e.onEnded,y=e.onUpdateVideoInfo,m=e.ownerId,v=e.pageAspectRatio,h=e.pageDimensions,b=e.pageIndex,g=e.pinId,P=e.scaleFactor,w=e.stillLoading,S=e.videoThumbnailStartTime,x=e.thumbnail,j=void 0!==x&&x,O=i.block_style,I=(O=void 0===O?{}:O).height,A=void 0===I?100:I,T=O.width,E=void 0===T?100:T,k=O.x_coord,C=void 0===k?0:k,D=O.y_coord,R=void 0===D?0:D,L=i.video,M=en/v,z=h.height,F=h.width,V=E*en*P/100,Z=A*M*P/100,N=(A<100?Math.min(Math.max(100,A)-Math.abs(R),A):Math.min(Math.max(A-Math.abs(R),0),100))*M*P/100,B=(E<100?Math.min(Math.max(100,E)-Math.abs(C),E):Math.min(Math.max(E-Math.abs(C),0),100))*en*P/100,H=Math.max(R,0)*M*P/100,U=Math.max(C,0)*en*P/100,W=_({isUseCache:!L,signature:i.video_signature});if(w)return null;var G=(W||{}).media||{},X=G.duration,q=G.src,$=!!q&&!!X;return L||$?!!((null==L?void 0:null===(t=L.video_list)||void 0===t?void 0:t.V_HLSV3_MOBILE)||(null==L?void 0:null===(n=L.video_list)||void 0===n?void 0:n.V_720P)||$)&&(0,s.jsx)(o.xu,{height:void 0!==c&&c?"50%":"100%",overflow:"hidden",position:"relative",children:(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:U,top:H}},height:j?z:N,overflow:"hidden",position:"absolute",width:j?F:B,children:(0,s.jsx)(K.Z,{activePageIndex:r,blockHeight:j?z:Z,blockWidth:j?F:V,closeupStoryPinViewability:a,customEndCard:l,isPlaying:u,musicRecordingId:d,muted:p,onEnded:f,onUpdateVideoInfo:y,pageIndex:b,pinId:g,roundCorners:Z>=z&&V>=F,video:L||{video_list:{V_EXP7:{duration:X?1e3*X:0,url:q}}},videoThumbnailStartTime:S})})}):(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:U,top:H}},height:N,position:"absolute",width:B,children:(0,s.jsx)(Y,{ownerId:m})})}var el=void 0!==i?i:i=n(360980);function eu(e){var t,n=e.activePageIndex,r=e.block,i=e.closeupStoryPinViewability,a=e.customEndCard,l=e.disableProductStickers,u=e.fontsLoaded,c=e.isActive,p=e.isSplitLayout,f=e.musicRecordingId,y=e.muteVideos,m=e.onEnded,v=e.onFlyoutOpen,h=e.onImageLoaded,b=e.onUpdateVideoInfo,g=e.ownerId,_=e.pageAspectRatio,P=e.pageHeight,w=e.pageIndex,S=e.pageWidth,x=e.pinId,j=e.previewOnly,O=e.pinKey,I=e.stillLoading,A=e.thumbnail,T=void 0!==A&&A,E=e.transform,C=e.videoPinProgress,D=e.videoThumbnailStartTime,L=(0,k.u)(el,O).data,M=r.block_style,z=(M=void 0===M?{}:M).height,F=void 0===z?100:z,Z=M.width,N=void 0===Z?100:Z,B=M.x_coord,H=M.y_coord,U=r.interactive_sticker_type,W=(0,$.g)(),K=(0,q.E)();if(0===F||0===N)return null;var X=S/en;switch(r.type){case R.h8.PARAGRAPH:case R.h8.HEADING:return(0,s.jsx)(G,{block:r,fontsLoaded:u,scaleFactor:X,pageAspectRatio:_,thumbnail:T});case R.h8.VIDEO:return(0,s.jsx)(ea,{activePageIndex:n,block:r,closeupStoryPinViewability:i,customEndCard:a,isActive:c,isSplitLayout:void 0!==p&&p,musicRecordingId:f,muted:y,onEnded:m,onUpdateVideoInfo:b,ownerId:g,pageAspectRatio:_,pageDimensions:{height:P,width:S},pageIndex:w,pinId:x,scaleFactor:X,stillLoading:void 0!==I&&I,videoThumbnailStartTime:D,thumbnail:T});case R.h8.IMAGE:var Y=E||{},Q=Y.scaleX,ee=Y.scaleY;return(0,s.jsx)(o.xu,{overflow:"hidden",position:"absolute",dangerouslySetInlineStyle:{__style:{height:"".concat(F,"%"),left:"".concat((void 0===B?0:B)*(void 0===Q?1:Q),"%"),top:"".concat((void 0===H?0:H)*(void 0===ee?1:ee),"%"),width:"".concat(N,"%")}},children:(0,s.jsx)(eo,{block:r,isActive:c,pwtTrackImageLoad:function(){W&&c&&(W.addBinaryAnnotation("pin.id",x,"STRING"),W.addBinaryAnnotation("video",!1,"BOOL"),W.stop()),K&&c&&(K.addBinaryAnnotation("pin.id",x,"STRING"),K.addBinaryAnnotation("video",!1,"BOOL"),K.removeConstraint(J._z),K.markConstraintComplete(J.pM)),h&&h()},thumbnail:T})});case R.h8.MENTION_STICKER:return!j&&(0,s.jsx)(V,{block:et({},r),elementType:12120,onFlyoutOpen:v,pageAspectRatio:_,pageIndex:w,scaleFactor:X,tooltipElementType:12121,videoPinProgress:C,pinKey:null});case R.h8.GENERIC_STICKER:return!j&&(t=5===(void 0===U?null:U),(0,s.jsx)(V,{block:et({},r),elementType:t?12827:12858,onFlyoutOpen:v,pageIndex:w,pageAspectRatio:_,scaleFactor:X,tooltipElementType:t?12828:12859,videoPinProgress:C,pinKey:null}));case R.h8.PRODUCT_STICKER:return!j&&!l&&(0,s.jsx)(V,{block:et({},r),elementType:12223,onFlyoutOpen:v,pageAspectRatio:_,pageIndex:w,pinKey:L,scaleFactor:X,tooltipElementType:12224,videoPinProgress:C});case R.h8.VTO_MAKEUP_STICKER:return!j&&(0,s.jsx)(V,{block:et({},r),elementType:12561,onFlyoutOpen:v,pageAspectRatio:_,pageIndex:w,pinKey:null,scaleFactor:X,tooltipElementType:12561,videoPinProgress:C});case R.h8.COMMENT_REPLY_STICKER:return r.type===R.h8.COMMENT_REPLY_STICKER&&!j&&(0,s.jsx)(d,{block:r,scaleFactor:X,pageAspectRatio:_});default:return null}}},233316:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(224496),i=[r.h8.COMMENT_REPLY_STICKER,r.h8.GENERIC_STICKER,r.h8.HEADING,r.h8.IMAGE,r.h8.MENTION_STICKER,r.h8.PARAGRAPH,r.h8.PRODUCT_STICKER,r.h8.VIDEO,r.h8.VTO_MAKEUP_STICKER];function o(e){var t=e.storyPinBlocks,n=e.blocksToRender,o=void 0===n?i:n,a=[],l=[],u=[];return(void 0===t?[]:t).forEach(function(e){o.includes(e.type)?e.type===r.h8.PARAGRAPH||e.type===r.h8.HEADING?l.push(e):u.push(e):a.push(e)}),u.push.apply(u,l),{nonRenderableBlocks:a,textBlocks:l,blocks:u}}},860507:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(773285);function i(){return["employees","enabled"].includes((0,(0,r.F)().checkExperiment)("web_product_tagging_on_shopping_module",{dangerouslySkipActivation:!0}).group)}},385937:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(826067),i=/^\/pin\/(.*[^\/])\/$/,o={"/":"feed_home","/homefeed":"feed_home","/pin/:id":"pin","/pin/:id/comments":"pin","/pin/:id/activity/tried":"pin","/pin/:id/activity/comments":"pin","/pin/:id/visual-search":"flashlight","/discover/article/:id":"explore_article","/discover/article/:title/:id":"explore_article","/topics/:interest":"feed_interest","/categories/:interest":"feed_category","/news_hub/:id":"notifications","/explore/:interest":"seo_auth","/search/:scope":"search","/following":"feed_following","/:username/pins":"user_pins","/:username/tried":"user_tries","/:username/:slug":"board","/:username/:slug/edit":"board","/:username/:slug/invite":"board","/:username/:slug/:section_slug":"board","/story_feed":"shop_feed"};function a(e,t){for(var n,a,l=["pin"],u=[],c=1,s="unknown",d="unknown",p=!0,f=e.length-1;f>0;f-=1){var y=function(e,t){if(t<=0)return"unknown";var n,i,a=e[t-1],l=(null==a?void 0:null===(n=a.match)||void 0===n?void 0:n.path)||"",u=["stela","stl"].includes((0,r.mB)(null==a?void 0:null===(i=a.location)||void 0===i?void 0:i.search).surfaceType);return l&&"/pin/:id/visual-search"===l&&u?"shop_feed":l?o[l]||"unknown":"feed_home"}(e,f);l.splice(0,0,y),p&&("pin"===(s=y)?c+=1:p=!1)}for(var m=e.length-2;m>=0;m-=1){var v,h,b=((null===(v=e[m])||void 0===v?void 0:null===(h=v.location)||void 0===h?void 0:h.pathname)||"").match(i);if(b&&2===b.length)u.splice(0,0,b[1].split("/")[0]);else break}return 1===l.length?(d="deep_linking",s="deep_linking"):(d=l[l.length-2],"pin"===s&&(s="deep_linking")),"seo_auth"!==d||t||(d="seo_unauth"),"seo_auth"!==s||t||(s="seo_unauth"),("search"===d||"search"===s)&&e.length>=c+1&&"/search/buyable_pins/"===((null===(n=e[e.length-c-1])||void 0===n?void 0:null===(a=n.location)||void 0===a?void 0:a.pathname)||"")&&(s="shop_feed","search"===d&&(d="shop_feed")),{trafficSource:d,topLevelTrafficSource:s,topLevelTrafficSourceDepth:c,contextPinIds:u}}},237056:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(773285),i=n(50286),o=n(19121),a=n(717615),l=n(231947),u=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function c(e){var t=(0,i.HG)(),n=(0,r.F)().checkExperiment,c=(0,a.Z)(),s=(0,o.Z)(),d=(0,l.lJ)(s,c),p=u[t?"dweb":"mweb"];return e&&!d&&(n("sce_lightswitch_organic"),n("sce_lightswitch_monetized")),!d&&(n(p.organic).anyEnabled||n(p.monetized).anyEnabled)}},799405:function(e,t,n){"use strict";n.d(t,{F:function(){return o},L:function(){return i}});var r=(0,n(425288).Z)("IdeaPinCategoriesContext"),i=r.Provider,o=r.useHook},97950:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(76911),i=n(908390),o=n(599689),a=n(799405),l=n(112690),u=n(999018),c=n(222704),s=n(515198);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t,n=e.categoryId,o=e.categoryPageIndex,p=e.height,f=e.isSelected,y=e.label,m=e.onCategoryClick,v=e.tagId,h=e.url,b=e.viewPageIndex,g=e.width,_=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),P=_[0],w=_[1],S=(0,l.Z)(),x=(0,a.F)(),j=x.categories,O=x.viewParameter,I=x.viewType,A=x.pin,T=(0,u.Z)({type:"deprecated",data:A})({default:{category_page_index:o,num_of_categories:j.length,tag_id:v,view_page_index:b}});return(0,r.useEffect)(function(){S({aux_data:T,component:13918,element:12656,event_type:120,view_parameter:O,view_type:I})},[]),(0,s.jsx)(i.xu,{marginEnd:2,children:(0,s.jsx)(i.iP,{onMouseDown:function(){S({aux_data:T,component:13918,element:12656,event_type:101,view_parameter:O,view_type:I}),m()},onMouseEnter:function(){return w(!0)},onMouseLeave:function(){return w(!1)},children:(0,s.jsxs)(i.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",paddingY:1,children:[(0,s.jsx)(i.xu,{minHeight:100,minWidth:100,overflow:"hidden",position:"relative",rounding:"circle",children:(0,s.jsx)(c.Z,{outlined:f,rounding:"circle",children:(0,s.jsx)(i.zd,{height:100,rounding:"circle",width:100,wash:!0,children:(0,s.jsx)(i.Ee,{alt:"",color:"white",naturalHeight:p,naturalWidth:g,src:h})})})}),(0,s.jsx)(i.xu,{marginTop:1,children:(0,s.jsx)(i.xv,{align:"center",size:"100",weight:"bold",children:y})}),(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:P?"rgba(0, 0, 0, 0.4)":void 0}},marginTop:1,minHeight:100,minWidth:100,position:"absolute",overflow:"hidden",rounding:"circle",top:!0})]})})},n)}function f(e){var t=e.height;return(0,s.jsx)(i.xu,{marginStart:4,marginEnd:6,children:(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #efefef"}},height:t})})}var y=n(924114);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e){var t,n=e.children,l=e.pageIndex,u=e.selectedCategoryId,c=e.trafficSource,d=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=d[0],h=d[1],b=(0,r.useRef)([]),g=(0,o.useHistory)(),_=(0,y.Ut)().setIdeaPinActivePage,P=(0,y.H8)().activePage,w=(0,a.F)()||{},S=w.categories,x=w.pinId;if((0,r.useEffect)(function(){b.current=S.map(function(e,t){return b.current[t]||(0,r.createRef)()})},[S]),(0,r.useEffect)(function(){if(P||0===P){var e,t=null===(e=b.current[P])||void 0===e?void 0:e.current;t&&(0===P&&v?t.scrollIntoView({behavior:"smooth",block:"nearest",inline:"end"}):t.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}))}},[P,v]),(0,r.useEffect)(function(){v&&h(!1)},[v]),!S)return null;var j=function(e){var t=e.categoryId,n=e.categoryPageIndex,r="/pin/".concat(x,"/idea-pin/related-products/?cat_id=").concat(t,"&page=").concat(n);c&&(r=r.concat("&rs=".concat(c))),g&&g.push(r),_(n)},O=0;return n({categoriesList:S.map(function(e,t){var n=e.pins[0].images["236x"]||{},o=n.height,a=n.width,c=n.url,d=e.category_id,y=e.id,m=e.label,v=e.page_index,h=(0,s.jsx)(p,{categoryId:d,categoryPageIndex:v,height:o,isSelected:d===u&&l===v,label:m,onCategoryClick:function(){return j({categoryId:d,categoryPageIndex:v})},tagId:y,url:c,viewPageIndex:l,width:a});return 0===t?(0,s.jsx)(i.xu,{ref:b.current[v],children:h}):t>0?v!==O?(O=v,(0,s.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,s.jsx)(f,{height:127}),(0,s.jsx)(i.xu,{ref:b.current[v],children:h})]},e.id)):(0,s.jsx)(r.Fragment,{children:h}):null})})}function h(e){var t=e.accessibilityLabel,n=e.arrowOnly,r=e.direction,o=e.isOpaque,a=e.marginEnd,l=e.marginStart,u=e.padding,c=e.onClick,d=e.show,p="back"===r;return(0,s.jsx)(i.xu,{position:"absolute",left:p,right:!p,top:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundImage:o?void 0:"linear-gradient(to ".concat(p?"left":"right",", transparent 0%, #fff 90%)"),left:null!=u?u:void 0}},marginEnd:a,marginStart:l,children:(0,s.jsx)(i.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:d&&(0,s.jsx)(i.hU,{accessibilityLabel:t,bgColor:void 0!==n&&n?"transparent":"white",icon:p?"arrow-back":"arrow-forward",iconColor:"darkGray",onClick:c,size:"lg"})})})}var b=n(251183);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function w(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return(t=j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(a,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=S(a);if(t){var r=S(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return w(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(w(e=o.call.apply(o,[this].concat(n))),"state",{hasLoggedScroll:!1,showBack:!1,showForward:!1}),x(w(e),"saveScrollBarRef",function(t){e.scrollbar=t}),x(w(e),"refreshArrows",function(){var t=e.state,n=t.showBack,r=t.showForward;if(e.scrollbar){var i=e.scrollbar,o=i.offsetWidth,a=i.scrollLeft,l=i.scrollWidth,u=a>0,c=a+o<l;(u!==n||c!==r)&&e.setState({showBack:u,showForward:c})}}),x(w(e),"scroll",function(t){var n=e.props.logScroll;e.scrollbar&&0!==t&&(n&&!e.state.hasLoggedScroll&&(n(),e.setState({hasLoggedScroll:!0})),e.scrollAnimationManager&&e.scrollAnimationManager.cancel(),e.scrollAnimationManager=(0,b.Z)(e.scrollbar,t,0,{onAnimationComplete:function(){e.refreshArrows(),e.scrollAnimationManager=null}}),e.scrollAnimationManager.start())}),x(w(e),"handleResizeOrScroll",function(){return e.refreshArrows()}),x(w(e),"handleBackArrowClick",function(){e.scrollbar&&e.scroll(-150)}),x(w(e),"handleForwardArrowClick",function(){e.scrollbar&&e.scroll(150)}),e}return n=[{key:"componentDidMount",value:function(){this.props.hideArrows||(window.addEventListener("resize",this.handleResizeOrScroll),this.refreshArrows())}},{key:"componentWillUnmount",value:function(){this.props.hideArrows||window.removeEventListener("resize",this.handleResizeOrScroll)}},{key:"render",value:function(){var e=this.props,t=e.accessibilityBackLabel,n=e.accessibilityForwardLabel,r=e.arrowOnly,o=void 0!==r&&r,a=e.columnWidth,l=e.gutterWidth,u=e.hideScrollbar,c=e.items,d=e.marginEnd,p=e.marginStart,f=e.paddingY,y=this.state,m=y.showBack,v=y.showForward;return(0,s.jsxs)("div",{className:"ShopCarousel-OuterScrollContainer",style:{position:"relative",width:a,background:"white"},children:[(0,s.jsx)("div",{onScroll:this.handleResizeOrScroll,id:"InnerScrollContainer",ref:this.saveScrollBarRef,className:"ShopCarousel-InnerScrollContainer",style:{__style:{overflowX:u?"hidden":"auto",cursor:"default"}},children:(0,s.jsx)(i.xu,{display:"flex",position:"relative",paddingY:f,children:c.map(function(e,t){var n={__style:{marginRight:t===c.length-1?0:l}};return(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:n,children:e},t)})})}),m&&(0,s.jsx)(h,{accessibilityLabel:t,arrowOnly:o,direction:"back",isOpaque:!0,marginStart:p,onClick:this.handleBackArrowClick,show:!0}),v&&(0,s.jsx)(h,{accessibilityLabel:n,arrowOnly:o,direction:"forward",isOpaque:!0,onClick:this.handleForwardArrowClick,marginEnd:d,show:!0})]})}}],_(a.prototype,n),r&&_(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component),I=n(898781);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==A(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(e){var t=e.columnWidth,n=e.marginStart,i=e.trafficSource,o=e.selectedCategoryId,c=(0,I.ZP)(),d=(0,l.Z)(),p=(0,y.H8)().activePage,f=(0,a.F)(),m=f.categories,h=f.viewParameter,b=f.viewType,g=f.pin,_=f.pinId,P={aux_data:(0,u.Z)({type:"deprecated",data:g})({default:{num_of_categories:m.length,view_page_index:p}}),component:13918,object_id_str:_,view_parameter:h,view_type:b};return(0,r.useEffect)(function(){d(E({event_type:120},P))},[]),(0,s.jsx)(v,{pageIndex:p,selectedCategoryId:o,trafficSource:i,children:function(e){var r=e.categoriesList;return(0,s.jsx)(O,{accessibilityBackLabel:c._('Previous products', 'ideaPin.carousel.previous', 'Label for previous product in the idea pin carousel'),accessibilityForwardLabel:c._('Next products', 'ideaPin.carousel.next', 'Label for next product in the idea pin carousel'),columnWidth:null!=t?t:void 0,gutterWidth:2,items:r,logScroll:function(){d(E({event_type:110},P))},marginEnd:6,marginStart:n||0})}})}},167137:function(e,t,n){"use strict";function r(){return["ideapinproductcategorytag.id","ideapinproductcategorytag.type","ideapinproductcategorytag.category_id","ideapinproductcategorytag.label","ideapinproductcategorytag.page_index","ideapinproductcategorytag.pins()","pin.id","pin.type","pin.images[236x,orig]"]}n.d(t,{Z:function(){return r}})},590670:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(790904),i=n(898781),o=n(334005),a=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e){var t=e.controllerOptions,n=e.iconColor,l=e.iconOnly,u=e.buttonText,s=e.tabIndex,d=void 0===s?0:s,p=(0,i.ZP)();return(0,a.jsx)(o.Z,c(c({},t),{},{children:function(e){var t=e.handleSendShareFlyoutButtonClick;return(0,a.jsx)(r.Z,{accessibilityLabel:p._('Send', 'Accessible label for button to send this pin', 'Accessible label for button to send this pin'),buttonText:u,handleClick:function(){return t()},icon:"share",iconColor:n,iconOnly:l,tabIndex:d,testId:"closeup-share-button"})}}))}},238464:function(e,t,n){"use strict";n.d(t,{Z:function(){return en}});var r=n(76911),i=n(908390),o=n(590670),a=n(407043),l=n(946984),u=n(898781),c=n(67347),s=n(515198);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}var _={overlay:{__style:{backgroundColor:"#000"}}},P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(a,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=h(a);if(t){var r=h(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),l=0;l<t;l++)n[l]=arguments[l];return b(v(e=r.call.apply(r,[this].concat(n))),"handleRestartVideo",function(t){var n,r,i=t.event;i.stopPropagation(),null===(n=(r=e.props).onRestartVideo)||void 0===n||n.call(r,{event:i}),(0,c.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"restart",variant:"enabled_send_first"}})}),b(v(e),"handleShareVideo",function(){var t=e.props,n=t.onToggleFlyout,r=t.isFlyoutOpen,i=t.pinId,o=t.requireAuth,a=t.logContextEvent;if(r&&(0,c.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"shareSheetOpen",variant:"enabled_send_first"}}),a({event_type:101,component:179,object_id_str:i,view_type:3,view_parameter:156,element:11731}),o){o();return}n&&n()}),b(v(e),"handleExternalSend",function(){(0,c.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"shareSheetOpen",variant:"enabled_send_first"}})}),b(v(e),"renderReplayButton",function(){return(0,s.jsx)(i.iP,{accessibilityLabel:e.props.i18n._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),onTap:e.handleRestartVideo,rounding:2,children:(0,s.jsxs)(i.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,s.jsx)(i.xu,{marginEnd:3,children:(0,s.jsx)(i.JO,{accessibilityLabel:e.props.i18n._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),icon:"refresh",color:"inverse",size:18})}),(0,s.jsx)(i.X6,{color:"light",overflow:"normal",size:"400",children:e.props.i18n._('Watch again', 'Clickable label when pressed restarts the video', 'Clickable label when pressed restarts the video')})]})})}),b(v(e),"renderShareButton",function(){var t=e.props,n=t.gridDescription,r=t.imageSrc,a=t.isFlyoutOpen,l=t.onFlyoutDismiss,u=t.pinId;return(0,s.jsx)(i.iP,{accessibilityLabel:e.props.i18n._('Send', 'end.video.send.icon.label', 'Clickable label when pressed opens share sheet after video is finished'),onTap:e.handleShareVideo,rounding:2,children:(0,s.jsxs)(i.xu,{alignItems:"center",display:"flex",padding:2,justifyContent:"center",children:[(0,s.jsx)(o.default,{controllerOptions:{flyoutDisplayOptions:{shownWithinMasonry:!0},loggingOptions:{component:179,element:72,onExternalSend:e.handleExternalSend,viewType:3},isFlyoutOpen:a,onFlyoutDismiss:l,onToggleFlyout:function(){},sendObject:{type:"pin",description:n,id:u,imageUrl:r,url:"/pin/".concat(u,"/")}},iconOnly:!0,iconColor:"white",tabIndex:-1}),(0,s.jsx)(i.xu,{children:(0,s.jsx)(i.X6,{color:"light",overflow:"normal",size:"400",children:e.props.i18n._('Send', 'end.video.send.icon.label', 'Clickable label when pressed opens share sheet after video is finished')})})]})})}),e}return y(a.prototype,[{key:"componentDidMount",value:function(){var e=this.props,t=e.pinId,n=e.logContextEvent;(0,c.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"land",variant:"enabled_send_first"}}),n({event_type:13,component:179,object_id_str:t,view_type:3,view_parameter:156,element:11731})}},{key:"render",value:function(){var e=this.props,t=e.backgroundImage,n=e.naturalHeight,r=e.naturalWidth,o=e.pinTitle;return(0,s.jsx)(i.xu,{children:(0,s.jsxs)(i.Ee,{alt:o||"",naturalHeight:n,naturalWidth:r,src:t,children:[(0,s.jsx)(i.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:_.overlay}),(0,s.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",direction:"column",children:(0,s.jsxs)(i.xu,{position:"absolute",children:[(0,s.jsx)(i.xu,{children:this.renderShareButton()}),(0,s.jsx)(i.xu,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}]),n&&y(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.PureComponent);function w(e){var t=(0,a.v)().logContextEvent,n=(0,u.ZP)(),r=(0,l.Z)();return(0,s.jsx)(P,f(f({},e),{},{i18n:n,requireAuth:r,logContextEvent:t}))}var S=function(e){var t=e.backgroundImage,n=e.naturalHeight,r=e.naturalWidth,o=e.onRestartVideo,a=e.pinTitle,l=(0,u.ZP)();return(0,s.jsx)(i.xu,{children:(0,s.jsxs)(i.Ee,{alt:a||"",naturalHeight:n,naturalWidth:r,src:t,children:[(0,s.jsx)(i.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:_.overlay}),(0,s.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",children:(0,s.jsx)(i.xu,{children:(0,s.jsx)(i.iP,{onTap:o,rounding:2,children:(0,s.jsxs)(i.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,s.jsx)(i.hU,{accessibilityLabel:l._('Replay', 'closeupVideo.endCard.ReplayButton', 'Button when pressed restarts the video'),icon:"refresh",iconColor:"white",size:"md"}),(0,s.jsx)(i.X6,{color:"light",overflow:"normal",size:"400",children:l._('Replay', 'closeupVideo.endCard.ReplayButton', 'Button when pressed restarts the video')})]})})})})]})})},x=n(366284),j=n(773285),O=n(466225),I=n(276602),A=n(47168),T=n(985271),E=n(780280),k=n(764537),C=n(646422),D=n(534611),R=n(224496),L=n(858416),M=n(704115),z=n(50286),F=n(179888),V=n(965900),Z=n(387957),N=n(944546),B=n(926749);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach(function(t){J(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q(r.key),r)}}function Y(e,t){return(Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function q(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t,n){return(t=Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){var t=function(e,t){if("object"!==H(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==H(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===H(t)?t:String(t)}var ee=function(e,t){var n,r;t({currentTime:null!==(n=null==e?void 0:e.currentTime)&&void 0!==n?n:0,duration:null!==(r=null==e?void 0:e.duration)&&void 0!==r?r:1})},et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}(a,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=$(a);if(t){var r=$(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return q(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return J(q(e=o.call.apply(o,[this].concat(n))),"state",{controls:"always"===e.props.showControls&&!e.props.disabled,fullscreen:!1,playing:!(0,x.G6)(e.props.requestContext.userAgent.browserName)&&!!e.props.autoplay&&!e.props.disabled,ready:!1,seeking:!1,showEndCard:!1,volume:e.props.muted||e.props.shouldMute?0:1,videoStartTime:e.props.videoStartTime||0}),J(q(e),"setVideoPwtLoadingStop",function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(T.Z){var n=e.props,r=n.storyPinStepStopwatch,i=n.pinId,o=n.pwtSurfaceContext;r&&(t||r.addAnnotation("video.startup.end"),r.addBinaryAnnotation("pin.id",i,"STRING"),r.addBinaryAnnotation("video",!0,"BOOL"),r.addBinaryAnnotation("preload",t,"BOOL"),r.addSubspan({name:"perceived_video_load",endTime:T.Z.now()}),r.stop()),o&&(t||o.addAnnotation("video.startup.end"),o.addBinaryAnnotation("pin.id",i,"STRING"),o.addBinaryAnnotation("video",!0,"BOOL"),o.markConstraintComplete(Z._z),o.addSubspan("perceived_video_load",null,T.Z.now()),"story_pin"===o.getMetricId().segment&&o.removeConstraint(Z.pM))}}),J(q(e),"componentDidMount",function(){var t,n=e.props,r=n.customThumbnail,i=n.video,o=n.preferMp4,a=i.mp4,l=i.hlsv3||i.hls||null,u=(o&&a||l||{}).thumbnail,c=(t=r||u)&&document.querySelector('video[poster="'.concat(t,'"]'))||null;(null==c?void 0:c.ready)===4&&(e.setState({ready:!0}),e.props.autoplay&&e.setVideoPwtLoadingStop(!0))}),J(q(e),"componentDidUpdate",function(t,n){e.props.videoStartTime&&e.props.videoStartTime!==t.videoStartTime&&e.setState({videoStartTime:e.props.videoStartTime}),!1===t.isPlaying&&e.props.isPlaying&&e.setState({playing:!0,controls:"never"!==e.props.showControls}),t.isPlaying&&!1===e.props.isPlaying&&e.setState({playing:!1}),t.autoplay!==e.props.autoplay&&(e.setState({playing:!!e.props.autoplay}),e.props.autoplay&&e.state.ready&&e.setVideoPwtLoadingStop(!0)),t.muted!==e.props.muted&&e.setState({volume:e.props.muted?0:1}),"never"===e.props.showControls&&n.controls&&e.setState({controls:!1}),(n.controls||n.playing)&&e.props.disabled&&e.setState({playing:!1,controls:!1}),!n.playing&&e.state.playing&&e.props.onPlay&&e.props.onPlay()}),J(q(e),"handleTouch",function(){var t=e.state.seeking,n=e.props.disabled;t||n||e.setState(function(e){return{playing:!e.playing}})}),J(q(e),"handleShowControls",function(){return e.setState({controls:!0})}),J(q(e),"handleHideControls",function(){return e.setState({controls:!1})}),J(q(e),"handleReady",function(){var t=e.state,n=t.ready,r=t.playing,i=e.props,o=i.autoplay,a=i.disabled;o&&!n&&e.setVideoPwtLoadingStop(),e.setState({ready:!0}),(0,x.G6)(e.props.requestContext.userAgent.browserName)&&!r&&o&&!a&&e.setState({playing:!0})}),J(q(e),"handleEnded",function(t){var n=t.event,r=e.props,i=r.customThumbnail,o=r.customEndCard,a=r.pinId,l=r.setCurrentVideo,u=r.loop,c=r.onEnded;n.stopPropagation(),!u&&(e.setState({playing:!1}),i&&i.endsWith(".gif")||o||(e.setState({showEndCard:!0,videoStartTime:0}),l({pinId:a,isPromoted:!1,currentTime:0})),e.state.fullscreen&&e.exitFullscreen()),c&&c()}),J(q(e),"handlePause",function(t){t.event.stopPropagation(),e.setState({playing:!1})}),J(q(e),"handlePlay",function(t){t.event.stopPropagation(),e.setState({playing:!0})}),J(q(e),"handleFullscreenChange",function(t){var n=t.event,r=t.fullscreen;n.stopPropagation(),e.setState({fullscreen:r})}),J(q(e),"handlePlayheadDown",function(){e.setState({seeking:!0})}),J(q(e),"handlePlayheadUp",function(){setTimeout(function(){e.setState({seeking:!1})},500)}),J(q(e),"handleRestartVideo",function(t){t.event.stopPropagation(),e.setState({playing:!0,showEndCard:!1})}),J(q(e),"handleShareRestartVideo",function(t){t.event.stopPropagation(),e.setState({playing:!0,showEndCard:!1})}),J(q(e),"handleVolumeChange",function(t){var n=t.event,r=t.volume,i=e.props.shouldMute;n.stopPropagation(),i||e.setState({volume:r})}),J(q(e),"exitFullscreen",function(){var e=window.document;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())}),J(q(e),"renderCloseupVideoEndCard",function(t,n,r,i){var o={backgroundImage:t,naturalHeight:n,naturalWidth:r,onRestartVideo:e.handleShareRestartVideo},a={backgroundImage:t,naturalHeight:n,naturalWidth:r,onRestartVideo:e.handleRestartVideo},l=e.props.flyoutShareProps,u={gridDescription:l?l.gridDescription:"",imageSrc:l?l.imageSrc:"",isFlyoutOpen:!!l&&l.isFlyoutOpen,onFlyoutDismiss:l?l.onFlyoutDismiss:function(){},onToggleFlyout:l?l.onToggleFlyout:function(){},pinId:l?l.pinId:""};return i?(0,s.jsx)(S,K({},a)):(0,s.jsx)(w,K(K({},u),o))}),e}return n=[{key:"render",value:function(){var e,t=this,n=this.props,r=n.autoplay,o=n.closeupStoryPinViewability,a=n.contextLogData,l=void 0===a?{component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156}:a,u=n.customThumbnail,c=n.isPromoted,d=n.loop,p=n.objectFit,f=n.preferMp4,y=n.preload,m=n.requestContext,v=n.roundingOverride,h=n.showControls,b=n.variant,g=n.video,_=n.captions,P=n.videoThumbnailStartTime,w=n.pinId,S=n.setProgressInfo,j=n.progressInfo,I=n.setPanelOpen,A=n.panelOpen,T=n.setMute,E=n.isMuted,L=n.captionsExpGroup,M=n.onTimeChange;l.is_closeup_video=!0;var z=this.state,V=z.controls,Z=z.fullscreen,H=z.playing,U=z.showEndCard,W=z.volume,G=z.videoStartTime,X=g.hlsv3||g.hls||null;if(!X&&!g.mp4)return null;var Y=g.mp4,q=f&&Y&&Y.url||X&&[{type:"video/m3u8",src:X.url}]||void 0,$=f&&Y||X||{},J=$.height,Q=$.thumbnail,et=$.width,en=u||Q;return e=null!=v?v:"default"===b?0:"storyPin"===b?R.yR:2,(0,s.jsxs)(i.zd,{willChangeTransform:!((0,x.G6)(m.userAgent.browserName)&&Z),rounding:e,wash:!0,children:[U?this.renderCloseupVideoEndCard(null!=en?en:"",null!=J?J:1,null!=et?et:1,c):(0,s.jsxs)(i.iP,{accessibilityLabel:this.props.i18n._('Pause or play video', 'pin.closeup.video.tap', 'tap area to pause or play video'),onMouseEnter:"hover"===h?this.handleShowControls:void 0,onMouseLeave:"hover"===h?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:[L&&(0,O.Z)(L)&&(0,s.jsx)(C.Z,{playing:H,zIndexValue:99}),(0,s.jsx)(B.ZP,{contextLogData:K(K({},l),{},{video_id:this.props.video.id}),aspectRatio:(null!=et?et:1)/(null!=J?J:1),closeupStoryPinViewability:o,captions:L&&(0,O.Z)(L)?_:"",controls:!(L&&(0,O.Z)(L))&&V,hlsConfig:{startLevel:N.V},isAutoPlay:!!r,objectFit:p,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onControlsPause:this.handlePause,onControlsPlay:this.handlePlay,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:"storyPin"===b?M:function(e){var t=e.time;ee&&"number"==typeof(null==Y?void 0:Y.duration)&&Y.duration>0&&S&&ee({currentTime:t,duration:Y.duration/F.gJ},S)},onVolumeChange:this.handleVolumeChange,preferMp4:f,playing:H,onPlay:function(){},onPlayError:function(){},preload:y,poster:en,src:q,videoStartTime:G||P,volume:W,loop:d})]}),(0,s.jsx)(i.xu,{paddingX:1,children:"storyPin"!==b&&L&&(0,O.Z)(L)&&(0,s.jsx)(i.xu,{display:"flex",position:"absolute",bottom:!0,width:"calc(100% - ".concat(4,"px)"),zIndex:R.Gf,paddingX:6,dangerouslySetInlineStyle:{__style:K(K({},k.l3),{},{flexDirection:"column-reverse"})},height:k.hy,children:(0,s.jsx)(D.Z,{activePageIndex:0,handleMute:function(){t.setState({volume:E?0:1}),T(!E)},handlePanelChange:function(){I&&I(!A)},handlePausePlay:function(){t.setState({playing:!H})},handlePause:function(){t.setState({playing:!0})},handlePlay:function(){t.setState({playing:!0})},handleWatchAgain:this.handleRestartVideo,isMuted:E,isPanelOpen:A,pageCount:1,pages:[],pinId:w,isPlaying:H,progressInfo:j,showEndCard:U,showVideoControls:"hover"===h,viewParameter:156,isStoryPin:!1,captionsUrl:_,captionsExpGroup:L})})})]})}}],X(a.prototype,n),r&&X(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);function en(e){var t,n,i=(0,u.ZP)(),o=(0,E.B)(),a=o.isAuthenticated,l=(0,A.g)(),c=(0,I.E)(),d=(0,L.Hx)().seekTime,p=e.pinId,f=e.isPromoted,y=e.video,m=e.muted,v=e.variant,h=(0,V.I)(),b=h.appUI,g=h.setCurrentVideo,_=b.videosAutoplaying,P=_.organicVideosAutoplaying,w=_.promotedVideosAutoplaying,S=o.locale.toLowerCase(),x=null!==(t=null===(n=y.mp4)||void 0===n?void 0:n.captions_urls)&&void 0!==t?t:{},O=S&&x[S]||Object.values(x)[0]||"",T=(0,j.F)().checkExperiment,k=(0,z.HG)(),C="storyPin"!==v&&O&&k&&a?T("auth_desktop_video_pin_captions").group:"",D=f?w[p]:P[p],R=parseInt((0,M.Z)().t||0,10),F=U((0,r.useState)((null==D?void 0:D.currentTime)||0),2),Z=F[0],N=F[1],B=U((0,r.useState)(null),2),H=B[0],W=B[1],G=U((0,r.useState)(!0),2),X=G[0],Y=G[1],q=U((0,r.useState)(!m),2),$=q[0],J=q[1];return(0,r.useEffect)(function(){var e=Z;R>0&&(e=R),d&&(e=d),N(e)},[d,R,Z]),(0,s.jsx)(et,K(K({},e),{},{i18n:i,isPlaying:!D||!D.paused,captions:String(O)||"",pwtSurfaceContext:c,requestContext:o,setCurrentVideo:g,storyPinStepStopwatch:l,videoStartTime:Z,progressInfo:H,setProgressInfo:W,panelOpen:X,setPanelOpen:Y,setMute:J,isMuted:$,captionsExpGroup:C}))}J(et,"defaultProps",{loop:!1,showControls:"hover"})},558068:function(e,t,n){"use strict";n.d(t,{Hv:function(){return m},aX:function(){return b},nK:function(){return g}});var r=n(76911),i=n(599689),o=n(425288),a=n(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=(0,o.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),y=f.Provider,m=f.useHook,v=function(e){return e&&e.pathname?e.pathname+(e.search||""):""};function h(e,t){var n,r={action:t.type,location:t.location,match:t.match};if(t.location===(null===(n=e.current)||void 0===n?void 0:n.location))return e;switch(t.type){case"POP":if(e.forward.length>0&&v(e.forward[0].location)===v(r.location))return p(p({},e),{},{forward:e.forward.slice(1),current:p(p({},e.forward[0]),{},{action:t.type}),previous:e.current?[].concat(u(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});return p(p({},e),{},{forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match}].concat(u(e.forward)):e.forward,current:p(p({},e.previous.slice(-1)[0]),{},{action:t.type}),previous:e.previous.slice(0,-1)});case"PUSH":return p(p({},e),{},{forward:e.forward.length>0?[]:e.forward,current:r,previous:e.current?[].concat(u(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});case"REPLACE":return p(p({},e),{},{current:r});default:return e}}function b(){var e=m(),t=e.current,n=e.previous;return(0,r.useMemo)(function(){return t?n.concat(t):n},[t,n])}function g(e){var t,n=e.children,o=(0,i.useHistory)(),l=(0,i.useLocation)(),u=(0,i.useRouteMatch)(),s={forward:[],current:{action:o.action,location:l,match:u},previous:[]},d=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(h,s))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||c(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=d[0],f=d[1];return(0,r.useEffect)(function(){f({type:o.action,location:l,match:u})},[l]),(0,a.jsx)(y,{value:p,children:n})}},391254:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}}),n(674631);var r=n(515198),i=["css","unsafeCSS"];function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=c(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function c(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var s=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}return e=[{key:"toString",value:function(){return this._private_safe_value}}],t=[{key:"factory",value:function(e){return e instanceof n?e:new n(String(e))}}],e&&u(n.prototype,e),t&&u(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}();function d(e){var t=e.css,n=e.unsafeCSS,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,i),l=String(t||"")||n||"";return l?(0,r.jsx)("style",a(a({},o),{},{dangerouslySetInnerHTML:{__html:String(s.factory(l))}})):null}},77601:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r="undefined"!=typeof window&&window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};function i(e){var t=e.window,n=e.duration,i=e.run,o=r(),a=0,l=null,u=function e(){var u=r()-o,c=u-a;if(n===1/0)i(0,u,c);else{var s=u/n;if(s>=1){i(1,u,c);return}i(s,u,c)}a=u,l=t.requestAnimationFrame(e)};return{start:function(){l=t.requestAnimationFrame(u)},cancel:function(){l&&(t.cancelAnimationFrame(l),l=null)}}}},827896:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(599689),i=n(768559),o=n(350118);function a(){var e=(0,o.S6)(),t=(0,r.useLocation)();return function(n,r){var o,a,l,u=e(n);if(null!=r&&r.shouldTrackForPrevLocation){var c=(null==u?void 0:u.tracking_params_map)||{},s=Object.keys(c).find(function(e){return"PinResource"!==e});u&&(o=s?c[s]:c.PinResource)}else u&&(o=(0,i.Z)({boardUrl:null===(a=u.board)||void 0===a?void 0:a.url,location:t,pinId:u.id,pinnerUserName:null===(l=u.pinner)||void 0===l?void 0:l.username,storyPinDataId:u.story_pin_data_id,trackingParams:u.tracking_params,trackingParamsMap:u.tracking_params_map}));return o}}},41861:function(e,t,n){"use strict";function r(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function e(t,n){if(null==t||"object"!==o(t)&&"function"!=typeof t)return t;var a,l=n.find(function(e){return e.value===t});if(l)return l.result;var u=Object.prototype.toString.call(t);switch(u){case"[object Array]":a=Array(t.length);break;case"[object Set]":a=new Set;break;case"[object Object]":case"[object Arguments]":a={};break;case"[object Map]":a=new Map;break;default:return t}var c=[].concat(function(e){if(Array.isArray(e))return i(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||r(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{value:t,result:a}]);switch(u){case"[object Array]":t.forEach(function(t,n){a[n]=e(t,c)});break;case"[object Set]":t.forEach(function(t){a.add(e(t,c))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(function(t){var n=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||r(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=n[0],o=n[1];a[i]=e(o,c)});break;case"[object Map]":t.forEach(function(t,n){a.set(n,e(t,c))})}return a}(e,[])}n.d(t,{Z:function(){return a}})},81226:function(e,t,n){"use strict";function r(e){var t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,{Z:function(){return r}})},594736:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(!a(e[r],t[r],n+1))return!1;return!0}function o(e,t,n){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!(r in t)||!a(e[r],t[r],n+1))return!1;return!0}function a(e,t,n){if(n>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!==r(e)&&"object"!==r(t))return e!=e&&t!=t;var a=Object.prototype.toString.call(e);if(a!==Object.prototype.toString.call(t))return!1;switch(a){case"[object Array]":return i(e,t,n);case"[object Set]":return i(Array.from(e).sort(),Array.from(t).sort(),n);case"[object Object]":case"[object Arguments]":return o(e,t,n);case"[object Map]":return o(Object.fromEntries(e),Object.fromEntries(t),n);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function l(e,t){return a(e,t,0)}n.d(t,{ZP:function(){return l}})},11363:function(e,t,n){"use strict";n.d(t,{Bx:function(){return i},N4:function(){return a},is:function(){return l},lt:function(){return r},oM:function(){return o}});var r=function(e){return e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in')},i=function(e){return e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.')},o=function(e){return e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.')},a=function(e){var t=e.i18n;return e.toFollow?t._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):t._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},l=function(e){return e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')}},946984:function(e,t,n){"use strict";var r=n(11363),i=n(898781),o=n(987318);t.Z=function(){var e=(0,o.H)(),t=e.loginForMore,n=e.viewer,a=e.limitedLoginModalSubheader,l=(0,i.ZP)();return"AUTH"===n.type?null:function(e){null==t||t.setVisible(!0),null==a||a.setText((null==e?void 0:e.loginModalHeader)||(0,r.lt)(l))}}},375571:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(76911),i=n(395164),o=n(67347);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(f,e);var t,n,r,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=s(f);if(t){var r=s(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function f(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(c(e=p.call.apply(p,[this].concat(n))),"state",{error:null,info:null}),d(c(e),"resetError",function(){e.setState({error:null,info:null})}),e}return n=[{key:"componentDidCatch",value:function(e,t){try{var n,r=this.props.name,a=this.props.type||"secondary";(0,i.T)({extraData:null!==(n=e.extraData)&&void 0!==n?n:{},errorBoundary:r,errorBoundaryType:a,message:e.message,name:e.name,stack:e.stack}),(0,o.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,o.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props.renderErrorState,t=this.state,n=t.error,r=t.info;return n&&r?e?e({error:n,info:r,resetError:this.resetError}):null:this.props.children}}],l(f.prototype,n),r&&l(f,r),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component)},319915:function(e,t,n){"use strict";var r=n(375571);t.Z=r.Z},441253:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(948337),i=n.n(r),o=n(67347);function a(e){if("undefined"==typeof window||!document.head)return(0,o.nP)("load_fonts.failure",{sampleRate:1,tags:{failure_reason:"window undefined"}}),Promise.reject(Error("Window is undefined or no head on the document. Unable to load fonts"));var t=document.head,n=[];return e.forEach(function(e){e.styles.forEach(function(r){var o,a,l,u=document.querySelector("#".concat(null!==(o=e.fontFamily)&&void 0!==o?o:"","-").concat(r.name));u||((u=document.createElement("style")).setAttribute("id","".concat(null!==(a=e.fontFamily)&&void 0!==a?a:"","-").concat(r.name)),t.appendChild(u),e.format&&r.fontUrl&&u&&u.sheet&&u.sheet.insertRule('\n            @font-face {\n              font-family: "'.concat(null!==(l=e.fontFamily)&&void 0!==l?l:"",'";\n              font-style: "').concat(r.fontStyle,'";\n              font-weight: "').concat(r.fontWeight,'";\n              src: url("').concat(r.fontUrl,'") format("').concat(e.format,'");\n            }\n          '),0),n.push(new(i())(e.fontFamily,{style:r.fontStyle,weight:r.fontWeight}).load()))})}),Promise.all(n).then(function(){Promise.resolve()}).catch(function(e){(0,o.nP)("load_fonts.failure",{sampleRate:1,tags:{failure_reason:"unsuccessful load"}}),Promise.reject(e)})}},301723:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(76911),i=n(908390),o=(0,r.createContext)(),a=n(515198);function l(e){(0,r.useContext)(o);var t=e.alt,n=e.color,l=e.children,u=e.crossOrigin,c=e.decoding,s=e.elementTiming,d=e.fetchPriority,p=e.fit,f=e.loading,y=e.naturalHeight,m=e.naturalWidth,v=e.onError,h=e.onLoad,b=e.role,g=e.sizes,_=e.src,P=e.srcSet;return(0,a.jsx)(i.Ee,{alt:t,color:n,crossOrigin:u,decoding:c,elementTiming:s,fetchPriority:d,fit:p,loading:f,naturalHeight:y,naturalWidth:m,onError:v,onLoad:h,role:b,sizes:g,src:_,srcSet:P,children:l})}},349700:function(e,t,n){"use strict";n.d(t,{Wc:function(){return u},bF:function(){return s},nk:function(){return l},r7:function(){return d}});var r=n(76911),i=n(515198);function o(e,t,n){return e.split(n).map(function(e){if(e.match(n)){var r=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,r))return t[r]}return e})}var a=/(\{\{\s*\w+\s*\}\})/g;function l(e,t){return o(e,t,a)}function u(e,t){return o(e,t,a).join("")}var c=/(\{\s*\w+\s*\})/g;function s(e,t){return o(e,t,c)}var d=function(e){var t=e.text;return Array.isArray(t)?t.map(function(e,t){return(0,i.jsx)(r.Fragment,{children:e},t)}):t}},543972:function(e,t,n){"use strict";var r=n(76911);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(p,e);var t,n,s,d=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=u(p);if(t){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return c(l(e=d.call.apply(d,[this].concat(n))),"ref",(0,r.createRef)()),c(l(e),"observer",null),c(l(e),"handleVisibilityChanged",function(t,n){e.props.onVisibilityChange(t,n)}),e}return n=[{key:"componentDidMount",value:function(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}},{key:"componentWillUnmount",value:function(){null!==this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}},{key:"render",value:function(){return this.props.children(this.ref)}}],o(p.prototype,n),s&&o(p,s),Object.defineProperty(p,"prototype",{writable:!1}),p}(r.Component);t.Z=d},767546:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},l=a(t,n);return void 0!==l?l:void 0===n?t:Array.isArray(t)&&Array.isArray(n)?n.reduce(function(t,r,i){return t[i]=e(t[i],n[i],a),t},function(e){if(Array.isArray(e))return o(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t&&"object"===i(t)&&n&&"object"===i(n)?Object.keys(n).reduce(function(t,r){return t[r]=e(t[r],n[r],a),t},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t)):n}}})},567450:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}var a=new(function(){var e,t;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}return e=[{key:"setExperiment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.inExp=e}},{key:"onSessionResume",value:function(e){return this.onResumeListeners.push(e),this}},{key:"onSessionPause",value:function(e){return this.onPauseListeners.push(e),this}},{key:"removeResumeListener",value:function(e){this.onResumeListeners.filter(function(t){return t!==e})}},{key:"removePauseListener",value:function(e){this.onPauseListeners=this.onPauseListeners.filter(function(t){return t!==e})}},{key:"getAppState",value:function(){return this.windowInFocus?0:void 0}}],r(n.prototype,e),t&&r(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}()),l=function(e){if(e.isHidden){var t=e.reason;a.windowInFocus=!1,a.onPauseListeners.forEach(function(e){return e(t)})}else a.windowInFocus=!0,a.onResumeListeners.forEach(function(e){return e()})};setTimeout(function(){window.addEventListener("beforeunload",function(){return l({isHidden:!0,reason:"beforeunload"})}),window.addEventListener("focus",function(){return l({isHidden:!1})}),window.addEventListener("blur",function(){return l({isHidden:!0,reason:"blur"})}),window.addEventListener("pageshow",function(){return l({isHidden:!1})}),window.addEventListener("pagehide",function(){return l({isHidden:!0,reason:"pagehide"})}),void 0!==document.hidden?document.addEventListener("visibilitychange",function(){return l(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})},!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",function(){return l(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})},!1)},0),t.Z=a},66743:function(e,t,n){"use strict";n.d(t,{NC:function(){return o},Rc:function(){return l},WK:function(){return c},X9:function(){return i},b9:function(){return r},f9:function(){return u},gu:function(){return a}});var r="pin-builder-font-faces",i="system-font-faces",o="pin-builder-education-font-faces",a="licensed",l="system",u="brand",c=4},466225:function(e,t){"use strict";t.Z=function(e){return e.startsWith("enabled")||e.startsWith("employee")}},523657:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(76911);n(908390);var i=n(301723),o=n(515198),a=function(e,t,n){var i=(0,r.useRef)(null),o=(0,r.useRef)(null);(0,r.useEffect)(function(){if(e!==i.current||n&&n!==o.current){i.current=e;var r=document.querySelector('img[src="'.concat(e,'"]'))||null;null!=r&&r.complete&&t()}o.current=n},[e,t,n])};function l(e){var t=e.alt,n=e.children,r=e.color,l=e.elementTiming,u=e.isActive,c=void 0!==u&&u,s=e.naturalHeight,d=e.naturalWidth,p=e.onLoad,f=e.src,y=e.fit;return a(f,p,c),(0,o.jsx)(i.Z,{alt:t,color:r,elementTiming:l,fit:void 0===y?"none":y,naturalHeight:s,naturalWidth:d,onLoad:p,src:f,children:n})}},584992:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(76911),i=n(425288),o=n(790348),a=n(198462),l=n(383434),u=n(543059),c=n(607150),s=n(638089),d=n(860273),p=n(453821),f=n(558775),y=n(505771),m=n(729524),v=n(169213),h=n(358864),b=n(985271);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){j(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e,t,n){var r;return(r=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===g(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=(0,l.XV)("PwtStopwatch"),I=function(e,t){if(b.Z){if("start"===t.type&&!e.isTiming){var n=t.name,r=t.startTime,i=t.navigationType;return(0,o.A9)("TIMING.".concat(n)),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof r?r:b.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:i},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming){if(t.bypassIsTimingCheck)O("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t);else{var a=t.name||e.name;return O("ignoring action - stopwatch is not actively timing",t),(0,o.A9)("WARN.".concat(a,".noTiming.").concat(t.type)),e}}if("annotate"===t.type){var l=b.Z.now();return O("adding annotation {".concat(t.label,": ").concat(l,"}")),x(x({},e),{},{annotations:e.annotations.concat([{label:t.label,timestamp:l}])})}if("binaryAnnotate"===t.type)return O("adding binary annotation {".concat(t.name,": ").concat(String(t.value),"}")),x(x({},e),{},{binaryAnnotations:x(x({},e.binaryAnnotations),j({},t.name,{value:t.value,type:t.annotationType}))});if("binaryAnnotateOperation"===t.type){var v=t.binaryAnnotationValueAndType,g=v.value,P=v.type;if(!e.binaryAnnotations[t.name])return x(x({},e),{},{binaryAnnotations:x(x({},e.binaryAnnotations),j({},t.name,{value:g,type:P}))});var w=e.binaryAnnotations[t.name].value||0;return O("operating on binary annotation {\n          name: ".concat(t.name,"\n          pervious value: ").concat(String(w),"\n          operand: ").concat(String(g),"\n        }")),x(x({},e),{},{binaryAnnotations:x(x({},e.binaryAnnotations),j({},t.name,{value:g?t.operation(w,g):w,type:P}))})}if("addSubspan"===t.type){O("adding subspan {".concat(t.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===t.name})&&O("WARNING: adding duplicate subspan name {".concat(t.name,"}"));var S=t.id||(0,h.Z)();-1!==e.spans.findIndex(function(e){return e.id===S})&&O("WARNING: adding duplicate subspan id {".concat(t.name,": ").concat(S,"}"));var I=0;return t.startTime?I=t.startTime:e.startTime?I=e.startTime:O("WARNING: adding subspan {".concat(t.name,"} without start time")),x(x({},e),{},{spans:[].concat(_(e.spans),[{name:t.name,id:S,startTime:I,endTime:t.endTime||1/0,annotationMap:x({},t.annotations),binaryAnnotationMap:x({},t.binaryAnnotations),parentId:t.parentId}])})}if("subspanStart"===t.type){O("starting subspan {".concat(t.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===t.name})&&O("WARNING: starting duplicate subspan name {".concat(t.name,"}"));var A,T=t.id||(0,h.Z)();-1!==e.spans.findIndex(function(e){return e.id===T})&&O("WARNING: starting duplicate subspan id {".concat(t.name,": ").concat(T,"}"));var E=t.parentName?null===(A=e.spans.find(function(e){return e.name===t.parentName}))||void 0===A?void 0:A.id:null;return x(x({},e),{},{spans:[].concat(_(e.spans),[{name:t.name,id:T,parentId:t.parentId||E,startTime:b.Z.now(),endTime:1/0,annotationMap:x({},t.annotations),binaryAnnotationMap:x({},t.binaryAnnotations)}])})}if("subspanStop"===t.type){O("stopping subspan {".concat(t.name,"}")),!t.id&&e.spans.reduce(function(e,n){return n.name===t.name?[].concat(_(e),[n]):e},[]).length>1&&(0,o.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type});var k=t.id?e.spans.findIndex(function(e){return e.id===t.id}):e.spans.findIndex(function(e){return e.name===t.name});return k>-1?(e.spans[k].endTime=b.Z.now(),t.annotations&&(e.spans[k].annotationMap=x(x({},e.spans[k].annotationMap),t.annotations)),t.binaryAnnotations&&(e.spans[k].binaryAnnotationMap=x(x({},e.spans[k].binaryAnnotationMap),t.binaryAnnotations))):(0,o.H)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){e.spans.reduce(function(e,n){return n.name===t.currentName?[].concat(_(e),[n]):e},[]).length>1&&(0,o.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});var C=e.spans.findIndex(function(e){return e.name===t.currentName});return C>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[].concat(_(e.spanNameUpdates),[{currentName:t.currentName,newName:t.newName}]):(O("renaming subspan {".concat(t.currentName,"} to {").concat(t.newName,"}")),e.spans[C].name=t.newName):(0,o.H)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){var D=e.startTime,R=e.metricId,L=e.pwtStaticContext,M=e.annotations,z=e.binaryAnnotations,F=e.isSampled,V=e.spans,Z=e.traceId;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),F){var N=t.stopTime||b.Z.now(),B=_(V.map(function(t){t.endTime===1/0&&(t.endTime=N);var n=e.spanNameUpdates.findIndex(function(e){return t.name===e.currentName});return n>-1&&(O("renaming subspan {".concat(t.name,"} to {").concat(e.spanNameUpdates[n].newName,"}")),t.name=e.spanNameUpdates[n].newName,e.spanNameUpdates=e.spanNameUpdates.filter(function(e){return e.newName!==t.name})),t}));if(t.manualAndResourceSpans||0===V.length){var H=(0,h.Z)();B.push.apply(B,[{name:"network_resources",id:H,startTime:D,endTime:N,annotationMap:{},binaryAnnotationMap:{},parentId:null}].concat(_((t.customStopwatchBuffer||[]).map(function(e){return(0,y.Z)((0,p.p)(e,[]),H)}).filter(Boolean))))}var U="initial_app_load"===R.navigationType&&(0,d.Z)(),W={type:"COMPLETE",traceId:Z,startTime:D,endTime:N,spans:B,annotationMap:x(x(x({},(0,m.Z)(M)),(0,c.jh)("browser_",U?(0,c.D3)(U):{})),(0,c.jh)("mark_",(0,u.gQ)())),binaryAnnotationMap:(0,s.ng)({metricId:R,pwtStaticContext:L,binaryAnnotations:z,performanceResourceTimings:t.customStopwatchBuffer||[]})};(0,f.Z)({metricId:R,pwtStaticContext:L,result:W})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,h.Z)(),spanNameUpdates:[]}}if("error"===t.type){var G=t.error,K=t.stopwatchPerformanceObserver;return G&&(0,o.H)(G),K&&K.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,h.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();var X=e.metricId,Y=e.pwtStaticContext,q=t.reason||"";return(0,f.Z)({metricId:X,pwtStaticContext:Y,result:{type:"ABORT",reason:q}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,h.Z)(),spanNameUpdates:[]}}}return e},A=function(e){var t,n=e.name,i=e.sampleRate,o=e.navigationType,l=e.manualAndResourceSpans,u=void 0!==l&&l,c=(0,a.N5)(),s=(0,r.useRef)([]),d=(0,r.useRef)(null),p=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(I,{isTiming:!1,name:n,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,h.Z)(),spanNameUpdates:[]}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||P(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=p[0],y=p[1];return c?{isTiming:f.isTiming,start:function(e){return window.PerformanceObserver&&(s.current=[],d.current=(0,v.Z)({entryTypes:["resource"]},function(e){s.current=s.current.concat(e.getEntries()),s.current.length>1e3&&(s.current=s.current.slice(-1e3))})),y({type:"start",startTime:e,name:n,navigationType:o,pwtStaticContext:c,isSampled:!i||Math.random()<i})},stop:function(e){return y({type:"stop",stopTime:e,stopwatchPerformanceObserver:d.current,customStopwatchBuffer:s.current,manualAndResourceSpans:u})},error:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){y({type:"error",stopwatchPerformanceObserver:d.current,error:e})}),abort:function(e){return y({type:"abort",stopwatchPerformanceObserver:d.current,customStopwatchBuffer:s.current,reason:e})},annotate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return y({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n})},binaryAnnotate:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return y({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:r,bypassIsTimingCheck:i})},binaryAnnotateOperation:function(e){var t=e.name,n=e.binaryAnnotationValueAndType,r=e.operation,i=e.parentId,o=e.bypassIsTimingCheck;return y({type:"binaryAnnotateOperation",name:t,binaryAnnotationValueAndType:n,operation:r,parentId:i,bypassIsTimingCheck:void 0!==o&&o})},addSubspan:function(e){var t=e.name,n=e.startTime,r=e.endTime,i=e.annotations,o=e.binaryAnnotations,a=e.parentId,l=e.id,u=e.bypassIsTimingCheck;return y({type:"addSubspan",name:t,startTime:n,endTime:r,annotations:void 0===i?{}:i,binaryAnnotations:void 0===o?{}:o,parentId:void 0===a?null:a,id:void 0===l?null:l,bypassIsTimingCheck:void 0!==u&&u})},subspanStart:function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,i=e.parentId,o=e.parentName,a=e.id,l=e.bypassIsTimingCheck;return y({type:"subspanStart",name:t,annotations:void 0===n?{}:n,binaryAnnotations:void 0===r?{}:r,parentId:void 0===i?null:i,parentName:void 0===o?null:o,id:void 0===a?null:a,bypassIsTimingCheck:void 0!==l&&l})},subspanStop:function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,i=e.id,o=e.parentId,a=e.bypassIsTimingCheck;return y({type:"subspanStop",name:t,annotations:n,binaryAnnotations:r,id:i,parentId:o,bypassIsTimingCheck:void 0!==a&&a})},subspanUpdateName:function(e){var t=e.currentName,n=e.newName,r=e.bypassIsTimingCheck,i=e.updateWhenStopwatchCompletes;return y({type:"subspanUpdateName",currentName:t,newName:n,bypassIsTimingCheck:r,updateWhenStopwatchCompletes:void 0===i||i})},getSpans:function(e,t){return f.spans.filter(function(n){return n[e]===t})},getTraceId:function(){return f.traceId}}:null},T=n(515198),E=function(e){var t=e.name,n=e.sampleRate,l=e.abortOnUnloadOrClientNavigation,u=void 0===l||l,c=e.navigationType,s=e.manualAndResourceSpans,d=void 0!==s&&s,p=(0,i.Z)("Stopwatch_".concat(t)),f=p.Provider;return{Provider:function(e){var i=e.children,l=A({name:t,sampleRate:n,navigationType:c,manualAndResourceSpans:d}),s=(0,a.fM)(),p=s?s.time:0,y=(0,r.useRef)(!1),m=null==l?void 0:l.isTiming,v=(0,r.useCallback)(function(e){y.current?(y.current=!1,null==l||l.abort(e)):(0,o.A9)("WARN.".concat(t,".noTiming.abort"))},[l]),h=(0,r.useCallback)(function(e,t){null==l||l.annotate(e,t)},[l]),b=(0,r.useCallback)(function(e,t,n,r){null==l||l.binaryAnnotate(e,t,n,r)},[l]),g=(0,r.useCallback)(function(e){var t=e.name,n=e.binaryAnnotationValueAndType,r=e.operation,i=e.parentId,o=e.bypassIsTimingCheck;null==l||l.binaryAnnotateOperation({name:t,binaryAnnotationValueAndType:n,operation:r,parentId:i,bypassIsTimingCheck:o})},[l]),_=(0,r.useCallback)(function(e){var t=e.name,n=e.startTime,r=e.endTime,i=e.annotations,o=e.binaryAnnotations,a=e.parentId,u=e.id,c=e.bypassIsTimingCheck;null==l||l.addSubspan({name:t,startTime:n,endTime:r,annotations:i,binaryAnnotations:o,parentId:a,id:u,bypassIsTimingCheck:c})},[l]),P=(0,r.useCallback)(function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,i=e.parentId,o=e.parentName,a=e.id,u=e.bypassIsTimingCheck;null==l||l.subspanStart({name:t,annotations:n,binaryAnnotations:r,parentId:i,parentName:o,id:a,bypassIsTimingCheck:u})},[l]),w=(0,r.useCallback)(function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,i=e.id,o=e.parentId,a=e.bypassIsTimingCheck;null==l||l.subspanStop({name:t,annotations:n,binaryAnnotations:r,id:i,parentId:o,bypassIsTimingCheck:a})},[l]),S=(0,r.useCallback)(function(e){var t=e.currentName,n=e.newName,r=e.bypassIsTimingCheck,i=e.updateWhenStopwatchCompletes;null==l||l.subspanUpdateName({currentName:t,newName:n,bypassIsTimingCheck:r,updateWhenStopwatchCompletes:i})},[l]),x=(0,r.useCallback)(function(e,t){return l?l.getSpans(e,t):[]},[l]),j=(0,r.useCallback)(function(){return l?l.getTraceId():0},[l]),O=(0,r.useCallback)(function(e){y.current?(y.current=!1,null==l||l.error(e)):(0,o.A9)("WARN.".concat(t,".noTiming.error"))},[l]),I=(0,r.useCallback)(function(e){y.current&&(null==l||l.abort("duplicated_init_stopwatch_action")),y.current=!0,null==l||l.start(e)},[l]),E=(0,r.useCallback)(function(e){y.current?(y.current=!1,null==l||l.stop(e)):(0,o.A9)("WARN.".concat(t,".noTiming.stop"))},[l]);(0,r.useEffect)(function(){return function(){u&&v("unloadOrClientNavigation")}},[p]);var k=(0,r.useMemo)(function(){return{isTiming:m,abort:v,addAnnotation:h,addBinaryAnnotation:b,binaryAnnotationOperation:g,addSubspan:_,subspanStart:P,subspanStop:w,getSpans:x,getTraceId:j,updateSubspanName:S,stop:E,error:O,start:I}},[m,v,h,b,g,_,P,w,x,j,S,E,O,I]);return(0,T.jsx)(f,{value:k,children:i})},useHook:p.useMaybeHook}}},47168:function(e,t,n){"use strict";n.d(t,{T:function(){return a},g:function(){return l}});var r=(0,n(584992).Z)({name:"story_pin_step",sampleRate:1}),i=r.Provider,o=r.useHook,a=i,l=o},729524:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,r){var i;return(i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===n(i)?i:String(i))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.Z=function(e){var t={};e.forEach(function(e){var n=e.label,r=e.timestamp;t=i(i({},t),{},o({},n,(t[n]||[]).concat([r])))});var n=Object.freeze({});return Object.keys(t).forEach(function(e){(t[e]||[]).forEach(function(t,r){var a=r?"".concat(e,"_").concat(r+1):e;n=i(i({},n),{},o({},a,t))})}),n}},311560:function(e,t){"use strict";t.Z=function(e){switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";case"AU":return"AU";case"IN":return"IN";default:return"OTHER"}}},995228:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(76911),i=n(515198);function o(e){var t=e.children,n=e.fallback;return(0,i.jsx)(r.Suspense,{fallback:n||null,children:t})}},947599:function(e,t,n){"use strict";var r=n(995228);t.Z=r.Z},251183:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(77601);function i(e){var t=e.scrollPosition,n=e.containerSize,r=e.contentSize,i=e.intendedDistance,o=e.extendToEdgeDistance,a=void 0===o?0:o,l=r-n,u=i;return u=Math.max(u=Math.min(u,l-t),-t),i>0&&l-(t+u)<=a?u=l-t:i<0&&t+u<=a&&(u=-t),u}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u={easingFunction:"ease-in-out",extendToEdgeDistanceX:0,extendToEdgeDistanceY:0,scrollSpeedPxPerMs:1.2,minScrollDuration:200},c={linear:function(e){return e},"ease-in":function(e){return e*e},"ease-out":function(e){return e*(2-e)},"ease-in-out":function(e){return e<.5?2*e*e:-1+(4-2*e)*e}};function s(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=l(l({},u),o),s=e.scrollLeft,d=e.scrollTop,p=e.scrollWidth,f=e.scrollHeight,y=e.clientWidth,m=e.clientHeight,v=i({scrollPosition:s,containerSize:y,contentSize:p,intendedDistance:t,extendToEdgeDistance:a.extendToEdgeDistanceX}),h=i({scrollPosition:d,containerSize:m,contentSize:f,intendedDistance:n,extendToEdgeDistance:a.extendToEdgeDistanceY}),b=Math.max(Math.abs(Math.floor(v/a.scrollSpeedPxPerMs)),Math.abs(Math.floor(h/a.scrollSpeedPxPerMs)));a.minScrollDuration&&(b=Math.max(b,a.minScrollDuration));var g=c[a.easingFunction]||c["ease-in-out"];return(0,r.Z)({window:window,duration:b,run:function(t){e.scrollLeft=s+v*g(t),e.scrollTop=d+h*g(t),1===t&&a.onAnimationComplete&&setTimeout(a.onAnimationComplete,0)}})}},764537:function(e,t,n){"use strict";n.d(t,{l3:function(){return eS},hy:function(){return eP},ZP:function(){return eI}});var r=n(76911),i=n(599689),o=n(908390),a=n(459263),l=n(386352),u=n(233316),c=n(860507),s=n(898781),d=n(224496),p=n(430323),f=n(515198);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t,n,i=e.activePageIndex,a=e.closeupStoryPinViewability,m=e.customEndCard,v=e.fontsLoaded,h=e.hideMute,b=e.isActive,g=e.isPreview,_=e.muteVideos,P=e.onChangeMuteVideo,w=e.onEnded,S=e.onFlyoutOpen,x=e.onUpdateVideoInfo,j=e.ownerId,O=e.page,I=e.pageAspectRatio,A=e.pageHeight,T=e.pageIndex,E=e.pageWidth,k=e.pinId,C=e.productPins,D=e.shouldLogTimeSpent,R=e.stillLoading,L=void 0!==R&&R,M=e.videoPinProgress,z=e.viewParameter,F=e.viewType,V=(0,s.ZP)(),Z=(0,c.Z)(),N=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),B=N[0],H=N[1],U=(O.style||{}).background_color,W=(0,u.Z)({storyPinBlocks:null!==(n=O.blocks)&&void 0!==n?n:[]}),G=W.nonRenderableBlocks,K=W.blocks,X=!!K.find(function(e){return e.type===d.h8.VIDEO}),Y=!!K.find(function(e){return!!e.video&&e.type===d.h8.VIDEO&&e.video_signature}),q=G.find(function(e){return e.type===d.h8.MUSIC}),$=(null==q?void 0:q.type)==="story_pin_music_block"?q.provider_recording_id:void 0,J=function(){return(0,f.jsx)(o.iP,{fullHeight:!0,onMouseEnter:function(){return H(!0)},onMouseLeave:function(){return H(!1)},children:(0,f.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{background:U||"#fff"}},height:"100%",children:[!g&&K.filter(function(e){return!X||Y||e.type===d.h8.VIDEO}).map(function(e,t){var n,r,o=(C||[]).find(function(t){return[t.id,t.cacheable_id].includes(e.pin_id)});return(0,f.jsx)(l.ZP,{activePageIndex:i,customEndCard:m,block:e,closeupStoryPinViewability:a,disableProductStickers:Z,fontsLoaded:v,isActive:b,isSplitLayout:3===O.layout,musicRecordingId:$,muteVideos:_,ownerId:j,onEnded:w,onFlyoutOpen:S,videoPinProgress:M,onUpdateVideoInfo:x,pageAspectRatio:I,pageIndex:T,pageHeight:A,pageWidth:E,pinId:k,pinKey:null!=o?{type:"deprecated",data:o}:null,stillLoading:L},"".concat(null!==(n=O.id)&&void 0!==n?n:"","-").concat(null!==(r=e.type)&&void 0!==r?r:"","-").concat(t))}),!h&&!g&&Y&&(B||_)?(0,f.jsx)(o.xu,{bottom:!0,left:!0,padding:4,position:"absolute",children:_?(0,f.jsx)(o.hU,{accessibilityLabel:V._('Click to unmute', 'closeup.storyPin.storyPinVideo.volume', 'Button to unmute the video'),bgColor:"white",icon:"mute",iconColor:"darkGray",onClick:function(){P(!1)},size:"md"}):(0,f.jsx)(o.hU,{accessibilityLabel:V._('Click to mute', 'closeup.storyPin.storyPinVideo.volume', 'Button to mute the video'),bgColor:"white",icon:"sound",iconColor:"darkGray",onClick:function(){return P(!0)},size:"md"})}):null]})})};return void 0===D||D?(0,f.jsx)(p.Z,{view:F,viewParameter:z,component:0===T?227:228,auxData:{story_pin_page_id:T},shouldUseGrandparentId:!0,children:J()}):J()}var v=n(182750),h=n(506979),b=n(287072),g=n(357787),_=n(350118),P=(0,g.Z)(function(e){var t=(0,s.ZP)(),n=e.sourceUrl,r=e.linkText,i=e.displayUrl,a=e.image,l=e.pageId,u=e.canonicalUrl,c=e.pinId,d=e.onTouch,p=e.onClickThrough,y=e.isLoading,m={story_pin_page_id:l,story_pin_data_id:(0,h.useSelector)(function(t){var n,r;return e.pinId&&(null===(n=t.pins)||void 0===n?void 0:null===(r=n[e.pinId])||void 0===r?void 0:r.story_pin_data_id)}),src_url:n,canonical_url:u},v=function(){p&&p({auxData:m})},g=(0,f.jsxs)(o.xu,{display:"flex",rounding:2,overflow:"hidden",alignItems:"center",borderStyle:"sm",children:[(0,f.jsx)(o.xu,{minWidth:80,width:80,height:80,flex:"none",display:"flex",alignItems:"center",justifyContent:"center",color:y||a&&a.url?void 0:"secondary",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid lightGray"}},children:y?(0,f.jsx)(o.$j,{accessibilityLabel:t._('Loading website', 'a11y for loading spinner', 'a11y for loading spinner'),show:!0}):function(e){if(a&&a.url){var n,r;return(0,f.jsx)(o.Ee,{fit:"cover",src:a.url,alt:e,naturalHeight:null!==(n=a.height)&&void 0!==n?n:1,naturalWidth:null!==(r=a.width)&&void 0!==r?r:1})}return(0,f.jsx)(o.JO,{icon:"link",accessibilityLabel:t._('Default link block icon', 'Icon for default link blocks without an image', 'Icon for default link blocks without an image'),color:"subtle",size:35})}(r)}),(0,f.jsxs)(o.xu,{paddingX:5,flex:"grow",overflow:"hidden",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},children:[(0,f.jsx)(o.xv,{lineClamp:1,weight:"bold",children:r}),(0,f.jsx)(o.xv,{size:"200",color:"shopping",children:i})]})]}),P=(0,_.S6)()(c),w=(0,b.Z)({href:n,target:"blank",externalData:P?{pin:P&&{attributionSourceId:P.attribution_source_id,board:P.board&&{url:P.board.url},campaignId:P.campaign_id,entityId:P.id,isDownstreamPromotion:P.is_downstream_promotion,isPromoted:P.is_promoted,pinner:P.pinner&&{username:P.pinner.username},pinPromotionId:P.pin_promotion_id,promoter:P.promoter&&{entityId:P.promoter.id},storyPinDataId:P.story_pin_data_id,trackingParams:P.tracking_params,trackingParamsMap:P.tracking_params_map,advertiserId:P.advertiser_id}}:void 0});return d?(0,f.jsx)(o.iP,{onTap:d,rounding:2,children:g}):(0,f.jsx)(o.Tg,{href:n,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),v(),w({event:t})},rel:"nofollow",rounding:2,target:"blank",children:g})}),w=n(407043),S=function(e){var t,n=e.block,r=e.pageId,i=e.pinId,a=e.onClickThrough,l=(0,w.v)().logContextEvent;switch(n.type){case d.h8.LINK:var u=n.canonical_url,c=n.image,s=n.normalized_url,p=n.src_url,y=n.text,m=null==c?void 0:null===(t=c.images)||void 0===t?void 0:t["345x"];if(c&&p&&s&&u)return(0,f.jsx)(o.xu,{marginTop:5,children:(0,f.jsx)(P,{canonicalUrl:u,displayUrl:s,image:m,linkText:void 0===y?"":y,onClickThrough:a,onVisibilityChanged:function(e){e&&l({event_type:120,view_type:3,view_parameter:157,component:228,element:11157,object_id_str:i,aux_data:{story_pin_page_id:r,srcUrl:p,canonicalUrl:u}})},pageId:r,pinId:i,sourceUrl:p})});return null;case d.h8.HEADING:var h=n.text;return(0,f.jsx)(o.xu,{marginBottom:4,paddingX:2,children:(0,f.jsx)(o.X6,{size:"500",overflow:"normal",accessibilityLevel:2,children:void 0===h?"":h})});case d.h8.PARAGRAPH:var b=n.text;return(0,f.jsx)(o.xu,{paddingX:2,dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},children:(0,f.jsx)(o.xv,{children:(0,f.jsxs)(v.Z,{children:[" ",void 0===b?"":b," "]})})});default:return null}},x=function(e){var t=e.blocks,n=e.pageId,r=e.pinId,i=e.onClickThrough;return(0,f.jsx)("div",{className:"StoryPinText",children:t.filter(function(e){return e}).map(function(e,t){return(0,f.jsx)(S,{block:e,pageId:n,pinId:r,onClickThrough:i},t)})})},j=n(280348);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var I=375*d.ap;function A(e){var t,n,i,a=(0,s.ZP)(),l=e.activePageIndex,u=e.hideText,c=e.isActive,d=e.isCoverPage,p=e.muteVideos,y=e.onClickThrough,m=e.page,v=m.image_adjusted,h=m.image,b=m.blocks,g=m.video,_=m.id,P=e.pageIndex,w=e.pageWidth,S=e.pinId,A=(v||h||{}).images,T=(void 0===A?{}:A)["750x"],E=(g||{}).video_list,k=void 0===E?{}:E,C=k.V_HLSV3_MOBILE||k.V_720P;if(!T&&!C)return null;var D=w/375;return(0,f.jsxs)(r.Fragment,{children:[!!g&&!!C&&(0,f.jsx)(j.Z,{activePageIndex:l,blockHeight:I*D,blockWidth:375*D,isPlaying:c,muted:p,pageIndex:P,pinId:S,video:g}),T&&!C&&(0,f.jsx)(o.Ee,{alt:function(e){var t,n,r,i="",o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(null!==(n=e.blocks)&&void 0!==n?n:[]);try{for(o.s();!(r=o.n()).done;){var a=r.value;[1,0].includes(a.block_type)&&(i=a.text?a.text:"")}}catch(e){o.e(e)}finally{o.f()}return null!==(t=i)&&void 0!==t?t:""}(e.page)||a._('Story pin image', 'Alt text for story pin image', 'Alt text for story pin image'),fit:d?"cover":"contain",naturalHeight:null!==(t=T.height)&&void 0!==t?t:1,naturalWidth:null!==(n=T.width)&&void 0!==n?n:1,src:null!==(i=T.url)&&void 0!==i?i:""}),b&&b.length>0&&!u&&(0,f.jsx)("div",{className:"StoryPinTextDrawer",children:(0,f.jsx)(x,{blocks:b,onClickThrough:y,pageId:_,pinId:S})})]})}var T=function(e){var t,n=e.page,i=n.image_adjusted,a=n.blocks,l=(i||{}).images,u=(void 0===l?{}:l)["750x"];if(!u)return null;var c=u.width,s=u.height;return(0,f.jsx)(r.Fragment,{children:u&&(0,f.jsx)(o.Ee,{src:null!==(t=u.url)&&void 0!==t?t:"",alt:(null!=a?a:[]).map(function(e){return e.text||""}).join(),naturalWidth:null!=c?c:1,naturalHeight:null!=s?s:1,fit:"contain"})})},E=n(441253),k=n(558068),C=n(784590),D=n(488789),R=n(92261),L=n(697335);function M(e){var t=e.children,n=e.closeupStoryPinViewability,r=e.productPins,i=e.viewParameter,o=e.viewType,a=(0,k.Hv)(),l=a.previous,u=a.forward,c=0===l.length&&0===u.length,s=(0,L.t)();return(0,f.jsx)(D.o,{closeupPaneWidth:R.Gg,headerHeight:s,isLandingPage:c,loadFonts:E.Z,renderStoryPinMediaLayout:function(e){var t=e.activePageIndex,n=e.hideText,r=e.isActive,i=e.isCoverPage,o=e.muteVideos,a=e.onClickThrough,l=e.page,u=e.pageIndex,c=e.pageWidth,s=e.pinId;return(0,f.jsx)(A,{activePageIndex:t,hideText:n,isActive:r,isCoverPage:i,muteVideos:o,onClickThrough:a,page:l,pageIndex:u,pageWidth:c,pinId:s})},renderStoryPinSplitLayout:function(e){var t=e.page;return(0,f.jsx)(T,{page:t})},renderStoryPinText:function(e){var t=e.blocks,n=e.onClickThrough,r=e.pageId,i=e.pinId;return(0,f.jsx)(x,{blocks:t,onClickThrough:n,pageId:r,pinId:i})},renderStoryPinPage:function(e){var t=e.activePageIndex,r=e.customEndCard,a=e.fontsLoaded,l=e.isActive,u=e.muteVideos,c=e.onChangeMuteVideo,s=e.onEnded,d=e.onFlyoutOpen,p=e.onUpdateVideoInfo,y=e.page,v=e.pageAspectRatio,h=e.pageHeight,b=e.pageWidth,g=e.ownerId,_=e.pinId,P=e.productPins,w=e.shouldLogTimeSpent,S=e.stillLoading,x=e.videoPinProgress;return(0,f.jsx)(m,{activePageIndex:t,closeupStoryPinViewability:n,fontsLoaded:a,isActive:l,customEndCard:r,muteVideos:u,onChangeMuteVideo:c,onEnded:s,onFlyoutOpen:d,videoPinProgress:x,onUpdateVideoInfo:p,ownerId:g,page:y,pageAspectRatio:v,pageIndex:t,pageHeight:h,pageWidth:b,productPins:P,pinId:_,shouldLogTimeSpent:w,stillLoading:S,hideMute:!0,viewType:o,viewParameter:i})},productPins:r,children:t})}function z(e){var t=e.children,n=e.isInStream,r=e.viewType,i=e.viewParameter;return n?t:(0,f.jsx)(p.Z,{view:r,viewParameter:i,component:85,children:t})}function F(e){var t=e.children,n=e.pin;return t({productPins:(0,C.Z)({name:"StoryPinTaggedProductsResource",options:{id:n.id},noCache:!0}).data||[]})}function V(e){var t,n=e.children,r=e.closeupStoryPinViewability,i=e.pin,o=e.isInStream,a=e.viewType,l=e.viewParameter,u=!!(null!==(t=i.story_pin_data)&&void 0!==t&&t.has_product_pins),c=function(e){var t=e.productPins;return(0,f.jsx)(M,{closeupStoryPinViewability:r,viewType:a,viewParameter:l,productPins:t,children:n})};return(0,f.jsx)(z,{isInStream:void 0!==o&&o,viewType:a,viewParameter:l,children:u?(0,f.jsx)(F,{pin:i,children:c}):c({productPins:[]})})}var Z=n(768559),N=n(827896),B=n(112690),H=n(319915),U=n(543972),W=n(623568),G=n(223008),K=n(692627),X=n(773285),Y=n(276602),q=n(47168),$=n(780280),J=n(947599),Q=n(483205),ee=n(52022);function et(e){var t=e.appConfig,n=(0,s.ZP)(),i=(0,ee.Z)(),a=(0,$.B)().isRTL;return(0,f.jsx)(r.Fragment,{children:(0,f.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:16}},"data-test-id":"back-button",left:!a,paddingX:4,position:"absolute",right:a,top:!0,children:"authDesktop"===t.type&&(0,f.jsx)(o.hU,{accessibilityLabel:n._('Back button', 'storyPin.closeup.back', 'Button label to navigate to previous page'),bgColor:"transparent",icon:"directional-arrow-left",iconColor:"darkGray",onClick:function(){i({action:"click",item:"back-button"}),t.onNavigateBack()},size:"lg"})})})}var en=n(646422),er=n(124364),ei=n(534611),eo=n(775151),ea=n(858416),el=n(700314),eu=n(829407),ec=n(179888),es=n(924114);function ed(e){return(ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==ed(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ed(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ed(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ey(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return em(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return em(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function em(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ev=(0,r.lazy)(function(){return n.e(3434).then(n.bind(n,79214))}),eh=(0,r.lazy)(function(){return n.e(50157).then(n.bind(n,247181))}),eb=(0,r.lazy)(function(){return Promise.all([n.e(97270),n.e(48937),n.e(41007),n.e(22555),n.e(43473)]).then(n.bind(n,666258))}),eg=(0,r.lazy)(function(){return Promise.all([n.e(11177),n.e(24859)]).then(n.bind(n,411177))}),e_=(0,r.lazy)(function(){return n.e(21408).then(n.bind(n,781099))}),eP=128,ew={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"32px 32px 0 0"},eS={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",borderRadius:"0 0 32px 32px",bottom:0},ex={backgroundImage:"linear-gradient(to bottom, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",borderRadius:"32px 32px 0 0",paddingTop:"30px",top:0},ej=[5,6,2];function eO(e){var t,n,i,l,u,c,p,y,m=e.appConfig,v=e.isInFocus,h=e.isInStream,b=void 0!==h&&h,g=e.isStreamMuted,_=e.isStreamPanelOpen,P=void 0===_||_,w=e.pin,S=e.storyPinData,x=e.onIdeaPinCloseupCommentClick,j=e.setStreamIsMuted,O=e.streamItemIndex,I=e.togglePanel,A=e.variant,T=e.viewType,E=void 0===T?3:T,k=e.viewParameterType,C=e.onTogglePanel,R=(0,D.c)(),L=(0,N.Z)(),M=(0,s.ZP)(),z=(0,B.Z)(),F=(0,q.g)(),V=(0,Y.E)(),Z=(0,es.Ut)(),U=Z.setIdeaPinActivePage,ee=Z.setIdeaPinDynamicWidth,ed=(0,es.H8)().activePage,ep=(0,ea.RC)().clearSeekTime,em=(0,ea.Hx)().seekTimes,eO=R||{},eI=eO.closeupPaneWidth,eA=eO.headerHeight,eT=eO.isLandingPage,eE=eO.renderStoryPinMediaLayout,ek=eO.renderStoryPinPage,eC=eO.renderStoryPinSplitLayout,eD=eO.renderStoryPinText,eR=eO.productPins,eL=w.id,eM=w.image_signature,ez=w.story_pin_data_id,eF=em&&em[w.id],eV=!!(null!=S&&S.is_deleted),eZ=null===(t=w.native_creator)||void 0===t?void 0:t.id,eN=S||{},eB=eN.pages,eH=void 0===eB?[]:eB,eU=eN.metadata,eW=void 0===eU?{}:eU,eG=eW.canvas_aspect_ratio,eK=eW.version,eX=null!=eG?eG:d.ap,eY=ey((0,r.useState)(0),2),eq=eY[0],e$=eY[1],eJ=(0,r.useRef)(0),eQ=(0,r.useRef)(null),e0=ey((0,r.useState)("closeup"===A&&v),2),e1=e0[0],e2=e0[1],e8=ey((0,r.useState)(375),2),e3=e8[0],e9=e8[1],e5="calc(100% - ".concat(32,"px)"),e7=(0,r.useRef)(null),e6=ey((0,r.useState)(!1),2),e4=e6[0],te=e6[1],tt=ey((0,r.useState)(!1),2),tn=tt[0],tr=tt[1],ti=ey((0,r.useState)(!0),2),to=ti[0],ta=ti[1];(0,r.useEffect)(function(){C&&C(to)},[to,C]),(0,r.useEffect)(function(){ta(P)},[P]);var tl=eH[eq],tu=tl.should_mute,tc=void 0===tu||tu,ts=tl.music_attributions,td=ey((0,r.useState)(eT||tc),2),tp=td[0],tf=td[1],ty=void 0!==j?j:tf,tm=void 0!==g?g:tp;(0,r.useEffect)(function(){tc&&ty(!0)},[tc,ty]);var tv=eH.filter(function(e){return!ej.includes(e.layout)}),th=tv.length,tb=tv[eq],tg=k||(0,K.Z)({hasPin:!!w,hasPinRichMetadata:!!w.rich_metadata,hasPinRichMetadataProducts:!!(null!==(n=w.rich_metadata)&&void 0!==n&&n.products),hasPinRichMetadataArticle:!!(null!==(i=w.rich_metadata)&&void 0!==i&&i.article),hasPinRichMetadataRecipe:!!(null!==(l=w.rich_metadata)&&void 0!==l&&l.recipe),hasPinStoryPinData:!!w.story_pin_data}),t_=eA+64,tP=(0,G.Z)({pinKey:{type:"deprecated",data:w},maxWidth:Q.RZ}).getNormalizedPinImage,tw="closeup"===A,tS=function(){if("undefined"!=typeof window){var e,t,n,r,i,o,a,l=window.innerWidth-(to?eI:0)-216;if(tw)e9((t=(e={availableWidth:l,pageAspectRatio:eX,unavailableHeight:t_,windowInnerHeight:window.innerHeight}).availableWidth,n=e.pageAspectRatio,r=e.unavailableHeight,o=(i=e.windowInnerHeight)-r,(a=Math.min(Math.max(650,Math.min((i-r)*n,t)),1e3))/n>=o&&(a=o*n),a));else{var u=tP().width;e9(u),ee(u)}}};(0,eu.Z)(function(){return window.addEventListener("resize",tS),tS(),function(){window.removeEventListener("resize",tS)}});var tx=ey((0,r.useState)(!1),2),tj=tx[0],tO=tx[1],tI=ey((0,r.useState)(null),2),tA=tI[0],tT=tI[1],tE=ey((0,r.useState)(!1),2),tk=tE[0],tC=tE[1];(0,r.useEffect)(function(){!tk&&v&&(z({event_type:7588,view_type:E,view_parameter:tg,component:13801,object_id_str:eL,aux_data:ef({},"number"==typeof O?{grid_index:O}:{})}),tC(!0))},[tk,v,z,eL,E,tg,O]);var tD=ey((0,r.useState)(!1),2),tR=tD[0],tL=tD[1];(0,r.useEffect)(function(){!tR&&v&&b&&(z({event_type:9314,view_type:E,view_parameter:tg,component:13801,aux_data:{grid_index:O,pin_id:eL,image_signature:eM,creator_id:eZ,story_pin_data_id:ez},clientTrackingParams:L(eL,{shouldTrackForPrevLocation:!0})}),tL(!0))},[L,eZ,eM,v,b,ez,E,tg,eL,tR,z,O]);var tM=(0,r.useCallback)(function(e){var t=(eH[e]||{}).blocks,n=null==t?void 0:t.find(function(e){return 3===e.block_type});e7.current&&e7.current instanceof el.B7&&(e7.current.clear(),e7.current=null),!n&&v&&(e7.current=new el.B7(function(e){tT({currentTime:e<1?e:1,duration:1})},function(){var t="closeup"===A?e:ed;t<th-1?(e7.current&&e7.current instanceof el.B7&&(e7.current.clear(),e7.current=null),tZ(t+1)):(te(!0),e2(!1))},W.oN))},[v,th,eH,ed,A]),tz=function(e){tT({currentTime:0,duration:1}),tM(e)};(0,r.useEffect)(function(){eJ.current=eq},[eq]),(0,r.useEffect)(function(){eQ.current=e1},[e1]),(0,eu.Z)(function(){return tz(eq),function(){e7.current&&e7.current instanceof el.B7&&eQ.current&&e7.current.clear()}});var tF=function(){V&&(V.addBinaryAnnotation("page.current.index",eq,"I16"),V.addBinaryAnnotation("page.count",eH.length,"I16"),V.addBinaryAnnotation("view.type",E,"I32"),V.addBinaryAnnotation("view.parameter",tg,"I32"))},tV=function(e){V&&V.abort("startNewPwt"),F&&(F.abort("startNewPwt"),F.start(),F.addBinaryAnnotation("page.current.index",e,"I16"),F.addBinaryAnnotation("page.count",eH.length,"I16"),F.addBinaryAnnotation("view.type",E,"I32"),F.addBinaryAnnotation("view.parameter",tg,"I32"))};(0,eu.Z)(function(){tF()});var tZ=function(e){e1||e2(!0),e4&&te(!1),tz(e),e!==eq&&ep(),e$(e),U(e),tV(e)};(0,r.useEffect)(function(){if(e4&&te(!1),e7.current&&eF){var e=e7.current;e.pause(),e.remaining=W.oN-eF*ec.gJ,tT({currentTime:eF/W.P6,duration:1})}},[eF]),(0,r.useEffect)(function(){U(ed)},[U,ed]),(0,r.useEffect)(function(){"related-products"===A&&(e$(ed),tZ(ed))},[ed,A]);var tN=function(){return e4?13799:0===eq?227:228},tB=function(){eq<th-1&&(tZ(eq+1),z({event_type:101,view_type:E,view_parameter:tg,component:tN(),element:12261,object_id_str:eL}))},tH=function(){eq===th-1&&e4?(tZ(eq),z({event_type:101,view_type:E,view_parameter:tg,component:tN(),element:12260,object_id_str:eL})):eq>0&&(tZ(eq-1),z({event_type:101,view_type:E,view_parameter:tg,component:tN(),element:12260,object_id_str:eL}))},tU=function(e){var t=e.keyCode,n=e.srcElement,r=n.isContentEditable||n.contentEditable&&"true"===n.contentEditable;37!==t||r?39!==t||r||tB():tH()};(0,r.useEffect)(function(){return document.addEventListener("keydown",tU),function(){return document.removeEventListener("keydown",tU)}},[eq]);var tW=(0,eo.tq)({hasPin:!!w,pages:eH}),tG=tW.fontsLoaded,tK=tW.mediaDataReceived,tX=eK?(0,el.n4)(eK,"0.8.0"):null,tY=null!=tX&&tX>=0,tq=function(e){var t=0===e.layout;switch(e.layout){case 0:case 1:return eE({activePageIndex:eq,hideText:t,isActive:!0,isCoverPage:t,muteVideos:tm,onClickThrough:m.onClickThrough,page:e,pageIndex:eq,pageWidth:e3,pinId:eL});case 4:return e.blocks.length>0&&eD({blocks:e.blocks,pageId:"text-".concat(eq),page:e,pinId:eL,onClickThrough:m.onClickThrough});case 3:return eC({page:e});default:return null}},t$=function(e){e===th-1&&(te(!0),e2(!1),U(0)),e===eq&&tB()},tJ=function(e){var t,n;tT({currentTime:null!==(t=null==e?void 0:e.currentTime)&&void 0!==t?t:0,duration:null!==(n=null==e?void 0:e.duration)&&void 0!==n?n:1})},tQ=function(){tr(!0),e2(!1),e7.current&&!e7.current.paused&&e7.current.pause()},t0=function(e){var t,n;return eH[e]?tY?ek({activePageIndex:eq,fontsLoaded:tG,customEndCard:!0,isActive:e===eq&&e1,muteVideos:tm,onChangeMuteVideo:ty,onEnded:t$,onFlyoutOpen:tQ,videoPinProgress:eq===e?tA:void 0,onUpdateVideoInfo:tJ,ownerId:null!==(t=null===(n=w.native_creator)||void 0===n?void 0:n.id)&&void 0!==t?t:"",page:eH[e],pageAspectRatio:eX,pageIndex:e,pageHeight:e3/eX,pageWidth:e3,pinId:w.id,productPins:eR,shouldLogTimeSpent:v,stillLoading:!tK}):tq(tb):null},t1=function(){e2(!1),e7.current&&e7.current.pause(),z({event_type:9324,view_type:E,view_parameter:tg,component:tN(),object_id_str:eL,aux_data:{story_pin_page_id:eq}})},t2=function(){if(e2(!0),e7.current){var e=e7.current;eF&&eF>0&&ep(),e.resume()}else tA||tz(eq);z({event_type:9323,view_type:E,view_parameter:tg,component:tN(),object_id_str:eL,aux_data:{story_pin_page_id:eq}})},t8=function(){e4||(tr(!1),e1?t1():t2())};(0,r.useEffect)(function(){"closeup"===A&&(!v||e4||e1?!v&&e1&&t1():t2())},[v,A]),(0,r.useEffect)(function(){"related-products"===A&&t1()},[]);var t3=function(){tZ(0)},t9=function(){b&&I?I():ta(!0)},t5=(0,$.B)().isAuthenticated,t7=(0,X.F)().checkExperiment,t6=t5&&t7("auth_plp_hide_back_button").anyEnabled;return(0,f.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:tw?{top:eA,height:"calc(100vh - ".concat(eA,"px)"),position:"sticky",pointerEvents:"none",minHeight:632,zIndex:to?"auto":3}:{}},display:"flex",left:!0,children:[(0,f.jsxs)(o.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},display:"flex",flex:"grow",justifyContent:"center",position:"relative",children:[tw&&(0,f.jsx)(o.xu,{bottom:!0,color:"secondary",left:!0,position:"absolute",right:!0,top:!0}),eV?(0,f.jsx)(er.Z,{height:e3/d.ap,rounding:d.yR,width:e3}):(0,f.jsxs)(r.Fragment,{children:[tK&&(0,f.jsx)(o.xu,{height:1,left:!0,marginTop:-1,overflow:"hidden",position:"absolute",top:!0,width:1,children:function(){for(var e=[],t=1;t<=eH.length;t+=1)eq+t<eH.length&&e.push(t0(eq+t));return e}()}),(0,f.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginLeft:tw?void 0:"".concat(d.YL,"px")}},display:"flex",onMouseLeave:function(){tO(!1)},onMouseOver:function(){return tO(!0)},position:"relative",children:(0,f.jsxs)(o.xu,{paddingX:4,children:[(0,f.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:ef(ef({},eS),{},{flexDirection:"column-reverse"})},display:"flex",height:eP,paddingX:6,position:"absolute",width:e5,zIndex:d.Gf,children:(0,f.jsx)(ei.Z,{activePageIndex:eq,handleMute:function(){tc||ty(!tm)},handlePanelChange:function(){ta(!to)},handlePause:t1,handlePausePlay:t8,handlePlay:t2,handleVideoScrubbingNewPage:function(e){e4&&te(!1),tz(e),e$(e),U(e),tV(e)},handleWatchAgain:t3,isMuted:tm,isPanelOpen:to,isPlaying:e1,onPageSelect:function(e){return tZ(e)},pageCount:th,pages:tv,pinId:w.id,progressInfo:tA,showEndCard:e4,showVideoControls:tj,viewParameter:tg})}),(0,f.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:ef(ef({},to?ex:{paddingLeft:"".concat(26,"px"),bottom:0}),{},{marginBottom:to?void 0:"88px"})},"data-test-id":"music-attribution",display:"flex",justifyContent:to?"center":"start",overflow:"hidden",paddingY:to?5:void 0,position:"absolute",width:e3,zIndex:d.Gf,children:(0,f.jsx)(a.Z,{handlePause:t1,handlePlay:t2,musicAttributions:void 0===ts?[]:ts,shouldMute:tc,showEndCard:e4})}),!e4&&!to&&(0,f.jsxs)(o.xu,{alignItems:"start",dangerouslySetInlineStyle:{__style:to?{}:ew},display:"flex",height:eP,justifyContent:"between",padding:4,position:"absolute",top:!0,width:e5,zIndex:d.Gf,children:[(0,f.jsxs)(o.kC,{alignItems:"stretch",direction:"row",children:[!to&&(0,f.jsx)(H.Z,{name:"SafeSuspense_IdeaPinCloseup_IdeaPinSecondarySendButton",children:(0,f.jsx)(J.Z,{children:(0,f.jsx)(e_,{imageSrc:null!==(u=w.image_url)&&void 0!==u?u:"",pinDescription:null!==(c=w.description)&&void 0!==c?c:"",pinId:w.id})})}),!to&&w.is_eligible_for_aggregated_comments&&(0,f.jsx)(H.Z,{name:"SafeSuspense_IdeaPinCloseup_CommentButton",children:(0,f.jsx)(J.Z,{children:(0,f.jsx)(ev,{onCommentClick:function(){z({event_type:101,view_type:E,view_parameter:tg,component:13801,element:10944,object_id_str:w.id}),t9(),x&&x();var e=document.getElementById("canonical-card-".concat(w.id));e&&e.scrollIntoView({behavior:"smooth",block:"end"})}})})}),!to&&(0,f.jsx)(H.Z,{name:"SafeSuspense_IdeaPinCloseup_ReactionPickerContainer",children:(0,f.jsx)(J.Z,{children:(0,f.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"pointer-events-wrapper",children:(0,f.jsx)(eg,{component:13801,iconColor:"white",pinId:w.id,reactionByMe:w.reaction_by_me,showTooltip:!0,viewParameter:tg,viewType:E})})})})]}),!to&&(0,f.jsx)(H.Z,{name:"SafeSuspense_IdeaPinCloseup_PinSaveButton",children:(0,f.jsx)(J.Z,{children:(0,f.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"pointer-events-wrapper",children:(0,f.jsx)(eb,{isCloseupPin:!0,onClickCallback:function(){z({event_type:101,view_type:E,view_parameter:tg,component:13801,element:0,object_id_str:w.id})},pinKey:{type:"deprecated",data:w},size:"lg",trackingParamsMap:w.tracking_params_map})})})})]}),(0,f.jsx)(o.xu,{"data-test-id":"story-pin-closeup-container",position:"relative",children:(0,f.jsx)(o.iP,{accessibilityLabel:e1?M._('Pause', 'storyPin.closeup.pauseButton.accessibilityLabel', 'Button label for pause tap area'):M._('Play', 'storyPin.closeup.playButton.accessibilityLabel', 'Button label for play tap area'),disabled:e4,onTap:t8,rounding:d.yR,children:(0,f.jsxs)(o.xu,{"data-test-id":"story-pin-closeup-page",height:e3/eX,overflow:"hidden",position:"relative",rounding:d.yR,width:e3,children:[t0(eq),!e4&&!tn&&!eF&&(0,f.jsx)(en.Z,{playing:e1}),"authDesktop"===m.type&&e4&&w.native_creator&&(0,f.jsx)(H.Z,{name:"IdeaPinCloseup_EndCard",children:(0,f.jsx)(J.Z,{children:(0,f.jsx)(o.xu,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,rounding:d.yR,top:!0,zIndex:d.s5,children:(0,f.jsx)(eh,{imageSrc:null!==(p=w.image_url)&&void 0!==p?p:"",pinDescription:null!==(y=w.description)&&void 0!==y?y:"",pinId:w.id,watchAgain:t3})})})})]})})})]})})]}),!b&&!t6&&tw&&(0,f.jsx)(et,{appConfig:m})]}),to&&tw&&(0,f.jsx)(o.xu,{flex:"none",height:"100%",position:"relative",width:eI,children:"duplo"===m.type&&m.storyPinDetails})]})}function eI(e){var t,n,a,l=e.pin,u=e.viewType,c=void 0===u?3:u,s=e.viewParameterType,d=ey((0,r.useState)({isInFocus:!0,viewability:0}),2),y=d[0],m=d[1],v=y.isInFocus,h=y.viewability,b=s||(0,K.Z)({hasPin:!!l,hasPinRichMetadata:!!l.rich_metadata,hasPinRichMetadataProducts:!!(null!==(t=l.rich_metadata)&&void 0!==t&&t.products),hasPinRichMetadataArticle:!!(null!==(n=l.rich_metadata)&&void 0!==n&&n.article),hasPinRichMetadataRecipe:!!(null!==(a=l.rich_metadata)&&void 0!==a&&a.recipe),hasPinStoryPinData:!!l.story_pin_data}),g=(0,i.useLocation)();return(0,f.jsx)(q.T,{children:(0,f.jsx)(U.Z,{onVisibilityChange:function(e){if(e&&e.length>0){var t=e[0].intersectionRatio;m({isInFocus:t>.5,viewability:t})}},options:{threshold:[0,.5,.8,.99,1]},children:function(t){var n,r;return(0,f.jsx)(o.xu,{ref:t,children:(0,f.jsx)(V,{closeupStoryPinViewability:h,pin:l,viewParameter:b,viewType:c,children:v?(0,f.jsx)(p.Z,{clientTrackingParams:(0,Z.Z)({boardUrl:null===(n=l.board)||void 0===n?void 0:n.url,location:g,pinId:l.id,pinnerUserName:null===(r=l.pinner)||void 0===r?void 0:r.username,storyPinDataId:l.story_pin_data_id,trackingParams:l.tracking_params,trackingParamsMap:l.tracking_params_map}),component:13801,objectId:l.id,view:c,viewParameter:b,children:(0,f.jsx)(eO,ef({},ef(ef({},e),{},{isInFocus:v})))}):(0,f.jsx)(eO,ef({},ef(ef({},e),{},{isInFocus:v})))})})}})})}},646422:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(76911),i=n(908390),o=n(391254),a=n(224496),l=n(252417),u=n(515198);function c(e){var t=e.playing,n=e.zIndexValue;return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(o.Z,{unsafeCSS:"#story-pin-closeup-pause-play-overlay svg { filter: drop-shadow( 0px 0px 8px rgba(0,0,0,0.1));}"}),(0,u.jsx)(i.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"story-pin-closeup-pause-play-overlay",display:"flex",id:"story-pin-closeup-pause-play-overlay",justifyContent:"center",left:!0,opacity:.8,position:"absolute",right:!0,rounding:a.yR,top:!0,zIndex:n?new i.Ry(n):l.lt,children:!t&&(0,u.jsx)(i.JO,{accessibilityLabel:"Play",color:"light",icon:"play",size:48})})]})}},124364:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(908390),i=n(898781),o=n(515198);function a(e){var t=e.height,n=e.isDenseView,a=e.rounding,l=e.width,u=e.color,c=(0,i.ZP)();return(0,o.jsx)(r.xu,{alignItems:"center",color:u||"default","data-test-id":"unavailable-pin",display:"flex",height:t,justifyContent:"center",overflow:"hidden",position:"relative",rounding:a,width:l,children:(0,o.jsxs)(r.kC,{alignItems:"center",direction:"column",children:[(0,o.jsx)(r.xu,{paddingY:n?2:4,children:(0,o.jsx)(r.JO,{accessibilityLabel:c._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,o.jsx)(r.xv,{weight:"bold",children:c._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!n&&(0,o.jsx)(r.xu,{paddingY:1,children:(0,o.jsx)(r.xv,{children:c._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},534611:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(76911),i=n(908390),o=n(898781),a=n(623568),l=n(773285),u=n(466225),c=n(780280),s=n(654579),d=n(224496),p=n(858416),f=n(50286),y=n(179888),m=n(994320),v=n(515198),h=function(e){var t=e.accessibilityLabel,n=e.dataTestId,r=e.disable,o=e.handleTap,a=e.icon;return(0,v.jsx)(i.xu,{"data-test-id":n,opacity:r?.5:void 0,children:(0,v.jsx)(i.iP,{disabled:r,onTap:o,children:(0,v.jsx)(i.JO,{accessibilityLabel:t,color:"light",icon:a,size:16})})})};function b(e){var t,n,b,g,_=e.activePageIndex,P=e.handlePanelChange,w=e.handlePlay,S=e.handlePause,x=e.handlePausePlay,j=e.handleMute,O=e.handleVideoScrubbingNewPage,I=e.handleWatchAgain,A=e.isPlaying,T=e.isMuted,E=e.isPanelOpen,k=e.pages,C=e.pageCount,D=e.pinId,R=void 0===D?"":D,L=e.progressInfo,M=e.showEndCard,z=e.showVideoControls,F=void 0!==z&&z,V=e.viewParameter,Z=e.isStoryPin,N=void 0===Z||Z,B=e.captionsUrl,H=e.captionsExpGroup,U=(0,o.ZP)(),W=(L||{}).currentTime,G=(0,p.Hx)().seekTimes,K=(0,c.B)(),X=(0,m.r)(),Y=(0,l.F)().checkExperiment,q=(0,f.HG)(),$=K.isAuthenticated,J=X.captionsEnabled,Q=k[_],ee=(Q||T).should_mute,et=Object.keys(G).includes(R)&&G[R]?G[R]:W,en=(0,r.useMemo)(function(){return k.map(function(e){var t,n,r,i,o,l,u,c=null===(t=e.blocks)||void 0===t?void 0:t.find(function(e){return 3===e.block_type}),s=(null==c?void 0:null===(n=c.video)||void 0===n?void 0:null===(r=n.video_list)||void 0===r?void 0:null===(i=r.V_HLSV3_MOBILE)||void 0===i?void 0:i.duration)||(null==c?void 0:null===(o=c.video)||void 0===o?void 0:null===(l=o.video_list)||void 0===l?void 0:null===(u=l.V_720P)||void 0===u?void 0:u.duration);return s?{duration:s,isVideo:!0}:{duration:a.oN,isVideo:!1}})},[k]),er=[{duration:(null==L?void 0:L.duration)||0,isVideo:!0}],ei=N?en:er,eo=null===(t=(Q&&(null===(g=Q.blocks)||void 0===g?void 0:g[0])||{}).video)||void 0===t?void 0:null===(n=t.video_list)||void 0===n?void 0:null===(b=n.V_HLSV3_MOBILE)||void 0===b?void 0:b.captions_urls,ea=!1;(eo&&0!==Object.keys(eo).length||(void 0===B?"":B))&&(ea=!0);var el=N&&ea&&q?Y($?"auth_desktop_idea_pin_captions":"unauth_desktop_idea_pin_captions").group:"",eu=(void 0===H?"":H)||el,ec=(0,u.Z)(eu),es=(0,r.useMemo)(function(){return ei.reduce(function(e,t){return e+(t.duration||0)},0)/(N?y.gJ:1)},[ei,N]),ed=(0,r.useMemo)(function(){return ei.filter(function(e,t){return t<_}).reduce(function(e,t){return e+(t.duration||0)},0)/y.gJ},[ei,_]),ep=ei.length>0&&ei[_].isVideo?et+ed:5*W+ed,ef=U._('Hide captions', 'gestalt.video.accessibilityHideCaptionsLabel', 'ARIA label for hide captions button'),ey=U._('Show captions', 'gestalt.video.accessibilityShowCaptionsLabel', 'ARIA label for show captions button');return(0,v.jsxs)(i.xu,{alignContent:"evenly",alignItems:"baseline",dangerouslySetInlineStyle:{__style:{gap:"18.5px",pointerEvents:"auto"}},direction:"column",display:"flex",justifyContent:"between",width:"100%",children:[(0,v.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:F||!A?1:0,transition:"all .1s"}},direction:"row",display:"flex",justifyContent:"between",width:"99%",children:[(0,v.jsxs)(i.kC,{alignItems:"center",direction:"row",gap:5,children:[(0,v.jsx)(h,{accessibilityLabel:A?U._('Pause', 'closeup.IdeaPinVideo.Pause', 'Pause button on Idea Pin video'):U._('Play', 'closeup.IdeaPinVideo.Play', 'Play button on Idea Pin video'),dataTestId:"story-pin-closeup-".concat(A?"pause":"play"),handleTap:M&&I?I:x,icon:A?"pause":"play"}),L&&(0,v.jsxs)(i.xu,{"data-test-id":"time-display",children:[(0,v.jsx)(i.xv,{align:"end",color:"inverse",inline:!0,overflow:"normal",size:"300",weight:"bold",children:"".concat((0,d.Lc)(ep))})," ",(0,v.jsx)(i.xu,{display:"inlineBlock",opacity:.6,children:(0,v.jsx)(i.xv,{align:"end",color:"inverse",inline:!0,overflow:"normal",size:"300",weight:"bold",children:"/ ".concat((0,d.Lc)(es))})})]})]}),(0,v.jsxs)(i.kC,{direction:"row",gap:5,children:[(eu.startsWith("enabled_captions")||eu.startsWith("employees"))&&ea&&(0,v.jsx)(h,{accessibilityLabel:J?ey:ef,dataTestId:"story-pin-closeup-captions",handleTap:function(){X.setCaptionsEnabled(!J)},icon:J?"captions":"captions-outline"}),(0,v.jsx)(h,{accessibilityLabel:T?U._('Unmute', 'closeup.IdeaPinVideo.unmute', 'Unmute button on Idea Pin video'):U._('Mute', 'closeup.IdeaPinVideo.mute', 'Mute button on Idea Pin video'),dataTestId:"story-pin-closeup-".concat(T?"unmute":"mute"),disable:ee,handleTap:j,icon:T?"mute":"sound"}),(0,v.jsx)(h,{accessibilityLabel:E?U._('Maximize', 'closeup.IdeaPinVideo.maximize', 'Maximize button on Idea Pin video'):U._('Minimize', 'closeup.IdeaPinVideo.minimize', 'Minimize button on Idea Pin video'),dataTestId:"story-pin-closeup-".concat(E?"maximize":"minimize"),handleTap:P,icon:E?"maximize":"minimize"})]})]}),(0,v.jsx)(s.ZP,{activePageCurrentTime:et,activePageIndex:_,currentTime:ep,duration:es,handlePause:S,handlePlay:w,handleVideoScrubbingNewPage:O,isPlaying:A,pageCount:C,pageDurations:ei,pinId:R,progressInfo:L,shouldShowPlayhead:!0,showEndCard:M,showVideoControls:F,videoControlsExp:ec,videoDurations:ei,viewParameter:V})]})}},654579:function(e,t,n){"use strict";n.d(t,{$E:function(){return g},$:function(){return _},ZP:function(){return S}});var r=n(76911),i=n(908390),o=n(112690),a=n(898781),l=n(773285),u=n(780280),c=n(623568),s=n(179888),d=n(515198);function p(e){var t,n,r=e.activePageCurrentTime,o=e.pillHeight,a=e.progressInfo,l=e.videoDuration,u=null!==(t=null==a?void 0:a.currentTime)&&void 0!==t?t:0,p=null!==(n=null==a?void 0:a.duration)&&void 0!==n?n:c.P6,f="".concat(null!=l&&l.isVideo?Math.floor(1e4*(r||u)/(l.duration/s.gJ))/100:u/p*100,"%");return(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:g}},height:o,overflow:"hidden",rounding:"pill",children:(0,d.jsx)(i.xu,{color:_,dangerouslySetInlineStyle:{__style:{width:f}},height:"100%",rounding:"pill"})})}var f=n(224496),y=n(858416),m=n(50286),v=n(19121);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var g="rgba(255,255,255,0.24)",_="light",P=function(){},w=function(e){var t=e.children,n=e.setHoveringChange,r=e.handleMouseDown,o=e.handleMouseLeave,l=e.handleTouchStart,u=e.playhead,c=e.isPlaying,s=e.showVideoControls,p=e.videoControlsExp,f=(0,a.ZP)(),y=!(0,m.HG)();return p?(0,d.jsx)(i.iP,{children:(0,d.jsx)(i.xu,{ref:u,alignItems:"center","aria-label":f._('Video scrubber progress bar', 'ideaPin.closeupvideo.videoScrubberLabel', 'Accessibility label for video scrubber progress bar on video idea pins.'),dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",touchAction:"none"}},"data-test-id":"bullet-video-progress-bar",display:"flex",flex:"grow",justifyContent:y?"center":"start",marginBottom:y?0:6,minHeight:"8px",onFocus:n(!0),onMouseDown:r,onMouseLeave:o,onMouseOver:n(!0),onTouchEnd:function(e){return e.preventDefault()},onTouchStart:l,opacity:p&&(s||!c)?1:0,paddingY:y?6:0,position:"relative",role:"progressbar",width:"100%",children:t})}):(0,d.jsx)(i.xu,{ref:u,alignItems:"center","aria-label":f._('Video scrubber progress bar', 'ideaPin.closeupvideo.videoScrubberLabel', 'Accessibility label for video scrubber progress bar on video idea pins.'),dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",touchAction:"none"}},"data-test-id":"bullet-video-progress-bar",display:"flex",flex:"grow",justifyContent:y?"center":"start",marginBottom:y?0:6,minHeight:"8px",onFocus:n(!0),onMouseDown:r,onMouseLeave:o,onMouseOver:n(!0),onTouchEnd:function(e){return e.preventDefault()},onTouchStart:l,paddingY:y?6:0,position:"relative",role:"progressbar",width:"100%",children:t})};function S(e){var t=e.activePageIndex,n=e.activePageCurrentTime,a=e.pageCount,c=e.progressInfo,s=e.showEndCard,f=e.duration,b=void 0===f?0:f,g=e.currentTime,S=e.pageDurations,j=void 0===S?[]:S,O=e.handlePlay,I=void 0===O?P:O,A=e.handlePause,T=void 0===A?P:A,E=e.handleVideoScrubbingNewPage,k=void 0===E?P:E,C=e.videoDurations,D=void 0===C?[]:C,R=e.viewParameter,L=e.isInactiveStreamPin,M=void 0!==L&&L,z=e.isPlaying,F=void 0!==z&&z,V=e.setVideoProgress,Z=e.shouldShowPlayhead,N=e.showVideoControls,B=void 0===N||N,H=e.pinId,U=void 0===H?"":H,W=e.videoControlsExp,G=void 0!==W&&W,K=!(0,m.HG)(),X=(0,r.useRef)(null),Y=(0,l.F)().checkExperiment,q=(0,u.B)().isRTL,$=h((0,r.useState)(!1),2),J=$[0],Q=$[1],ee=h((0,r.useState)(F),2),et=ee[0],en=ee[1],er=h((0,r.useState)(),2),ei=er[0],eo=er[1],ea=(0,o.Z)(),el=(0,y.Hx)().isSeekingIdeaPin,eu=(0,y.RC)(),ec=eu.updateSeekTime,es=eu.updateSeekingIdeaPin,ed=(0,v.Z)().isAuth,ep=(0,r.useCallback)(function(e,n){if(!M&&n<=a){if(n!==t&&k(n),V){var r;V({currentTime:e/1e3,duration:D[n].isVideo?null!==(r=null==c?void 0:c.duration)&&void 0!==r?r:1:5,pinId:U})}ec(e/1e3,U)}ea({event_type:101,view_type:3,view_parameter:R,component:14302})},[t,k,M,ea,a,U,null==c?void 0:c.duration,V,ec,D,R]),ef="".concat((void 0===g?0:g)/b*100,"%"),ey=j.map(function(e){return"".concat((e.duration||0)/b/10,"%")}),em=(0,r.useMemo)(function(){var e=0;return j.map(function(t){var n=t.duration+e,r={min:e,max:n};return e=n,r})},[j]),ev=K&&Y(ed?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,eh=J?"0 1.2px":"0 1px",eb=function(e){return function(){return Q(e)}},eg=(0,r.useCallback)(function(e){if(X.current){var t=X.current.getBoundingClientRect(),n=t.left,r=t.right,i=t.width,o=void 0===i?0:i,a=(q?Math.max(0,Math.min(((void 0===r?0:r)-e)/o,1)):Math.max(0,Math.min((e-(void 0===n?0:n))/o,1)))*b*1e3,l=em.findIndex(function(e){return a>=e.min&&a<=e.max});ep(a-em[-1!==l?l:0].min,0)}},[b,ep,em,q]),e_=function(){el||(en(F||s),es(!0))},eP=(0,r.useCallback)(function(e){el&&eg(e.pageX)},[eg,el]),ew=(0,r.useCallback)(function(e){if(el){e.preventDefault();var t=Array.from(e.changedTouches).find(function(e){return e.identifier===ei});t&&eg(t.pageX)}},[el,eg,ei]),eS=(0,r.useCallback)(function(){es(!1),eb(!1),eo(void 0),et&&I()},[es,I,et]),ex=(0,r.useCallback)(function(e){Array.from(e.changedTouches).find(function(e){return e.identifier===ei})&&(es(!1),eb(!1),eo(void 0)),et&&I()},[I,et,ei,es]);return(0,r.useEffect)(function(){return el&&!M&&(window.addEventListener("mousemove",eP),window.addEventListener("mouseup",eS),window.addEventListener("touchmove",ew),window.addEventListener("touchend",ex)),function(){window.removeEventListener("mousemove",eP),window.removeEventListener("mouseup",eS),window.removeEventListener("touchmove",ew),window.removeEventListener("touchend",ex)}},[eP,eS,ex,ew,M,el,eg,ei]),(0,d.jsxs)(w,{handleMouseDown:function(e){e_(),F&&T(),eg(e.pageX)},handleMouseLeave:function(){eb(!1)},handleTouchStart:function(e){e_(),eb(!0);var t=e.changedTouches[0];eo(t.identifier),F&&T(),eg(t.pageX)},isPlaying:F,playhead:X,setHoveringChange:eb,showVideoControls:B,videoControlsExp:G,children:[void 0!==Z&&Z&&(B&&G||J||el||K)&&(0,d.jsx)(x,{currentTime:n,inRemoveRelatedStreamsExp:ev,isMobile:K,isRTL:q,isSeeking:el,scrubberWidth:ef,videoControlsExp:G}),Array(a).fill().map(function(e,r){return(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{margin:eh}},flex:"grow",width:ey.length===a?ey[r]:"auto",children:(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{transition:"all .1s"}},"data-test-id":"idea-pin-video-progress-bar",rounding:"pill",children:r<t||s?(0,d.jsx)(i.xu,{color:_,height:4,rounding:"pill"}):t===r&&c?(0,d.jsx)(p,{activePageCurrentTime:n,pillHeight:4,progressInfo:c,videoDuration:D[r]}):(0,d.jsx)(i.xu,{color:_,dangerouslySetInlineStyle:{__style:{opacity:.24}},height:4,rounding:"pill"})})},"".concat(U,"-").concat(r))})]})}var x=function(e){var t=e.currentTime,n=void 0===t?0:t,r=e.inRemoveRelatedStreamsExp,o=e.isMobile,a=e.isRTL,l=e.isSeeking,u=e.scrubberWidth,c=e.videoControlsExp;return(0,d.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:a?{right:u}:{left:u}},"data-test-id":"video-progress-bar",position:"relative",children:[o&&l&&!r&&(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{top:"-32px"}},marginStart:-3,position:"absolute",children:(0,d.jsx)(i.xv,{color:"light",size:"100",children:(0,f.Lc)(n)})}),(0,d.jsx)(i.xu,{color:_,height:4,position:"absolute",rounding:"pill",children:(0,d.jsx)(i.xu,{color:"light",dangerouslySetInlineStyle:{__style:{marginTop:l&&c?-8:-6}},height:l&&c?16:12,marginStart:-2,rounding:"circle",width:l&&c?16:12})})]})}},858416:function(e,t,n){"use strict";n.d(t,{Wr:function(){return f},Hx:function(){return m},RC:function(){return y}});var r=n(76911),i=n(425288),o=n(924687),a=n(311541),l=n(515198);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=function(){return Promise.resolve().then(n.bind(n,924687))},s=(0,i.Z)("IdeaPinVideoPlayer"),d=s.Provider,p=s.useHook;function f(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,a.Z)(c,o.initialState))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=i[0],p=i[1],f=(0,r.useMemo)(function(){return{dispatch:p,ideaPinVideoPlayerControls:s}},[p,s]);return(0,l.jsx)(d,{value:f,children:n})}function y(){var e=p().dispatch;return(0,r.useMemo)(function(){return{updateSeekTime:function(t,n){e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:n||""}})},clearSeekTime:function(t){e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})},updateSeekingIdeaPin:function(t){t?e({type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t}}):e({type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:function(t){e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:function(t){e({type:"UPDATE_DURATION",payload:{duration:t}})}}},[e])}function m(){return p().ideaPinVideoPlayerControls}},924687:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){var i;return(i=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===r(i)?i:String(i))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,{default:function(){return u},initialState:function(){return l}});var l={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEEK_TIME":return o(o({},e),{},{seekTimes:o(o({},e.seekTimes),{},a({},t.payload.pinId,t.payload.seekTime)),seekTime:t.payload.seekTime});case"CLEAR_SEEK_TIME":return o(o({},e),{},{seekTimes:{},seekTime:void 0});case"UPDATE_SEEKING_IDEA_PIN":return o(o({},e),{},{isSeekingIdeaPin:t.payload.isSeekingIdeaPin});case"UPDATE_CURRENT_TIME":return o(o({},e),{},{currentProgressInfo:o(o({},e.currentProgressInfo),{},{currentTime:t.payload.currentTime})});case"UPDATE_DURATION":return o(o({},e),{},{currentProgressInfo:o(o({},e.currentProgressInfo),{},{duration:t.payload.duration})});default:return e}}},488789:function(e,t,n){"use strict";n.d(t,{c:function(){return l},o:function(){return a}});var r=n(76911),i=n(515198),o=(0,r.createContext)(null);function a(e){var t=e.children,n=e.closeupPaneWidth,a=e.headerHeight,l=e.isLandingPage,u=e.loadFonts,c=e.renderStoryPinMediaLayout,s=e.renderStoryPinSplitLayout,d=e.renderStoryPinText,p=e.renderStoryPinPage,f=e.productPins,y=(0,r.useMemo)(function(){return{closeupPaneWidth:n,headerHeight:a,isLandingPage:l,loadFonts:u,renderStoryPinMediaLayout:c,renderStoryPinSplitLayout:s,renderStoryPinText:d,renderStoryPinPage:p,productPins:f}},[n,a,l,u,c,s,d,p,f]);return(0,i.jsx)(o.Provider,{value:y,children:t})}var l=function(){return(0,r.useContext)(o)}},224496:function(e,t,n){"use strict";n.d(t,{Cc:function(){return v},DL:function(){return p},Gf:function(){return _},LX:function(){return l},Lc:function(){return P},Ls:function(){return h},Rf:function(){return d},YL:function(){return s},ap:function(){return u},h8:function(){return y},pE:function(){return f},s5:function(){return g},tQ:function(){return m},yR:function(){return c}});var r=n(908390);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l={w:9,h:16},u=l.w/l.h,c=8,s=10,d=5e3,p=2e3;function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(t-1)}}var y={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},m=[y.IMAGE,y.VIDEO],v=a(a({},{alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1}),{},{font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28}),h=new r.Ry(1),b=new r.Ry(5),g=new r.H3([b]),_=new r.H3([g]),P=function(e){var t=Math.floor(e||0),n=Math.floor(t/60),r=t-60*n,i=r<10?"0".concat(r):r;return"".concat(n<10?"".concat(n):n,":").concat(i)}},775151:function(e,t,n){"use strict";n.d(t,{BN:function(){return m},RK:function(){return y},d3:function(){return h},tq:function(){return b},xm:function(){return v}});var r=n(76911),i=n(441253),o=n(224496),a=n(700314),l=n(829407);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=function(e,t){var n=(0,o.pE)(e,t);return"".concat(n.y,"px ").concat(n.x,"px")},y=function(e){var t=e.alignment,n=e.verticalAlignment,r={alignItems:"flex-start",display:"flex",height:"100%",justifyContent:"start",textAlign:"left",width:"100%"};return 1===n?r.alignItems="center":2===n&&(r.alignItems="flex-end"),1===t&&(r.justifyContent="center",r.textAlign="center"),r},m=function(e){var t=e.fontSize,n=e.hexColor,r=e.highlightColor,i=e.letterSpacing,o=e.lineHeight;return p({fontSize:t,letterSpacing:i,color:n,fontFamily:e.name,margin:0,maxHeight:"100%",textShadow:!r&&n&&"#ffffff"===n.toLowerCase()?"0px 1px 4px rgba(0, 0, 0, 0.2)":void 0,wordBreak:"break-word"},r?{backgroundColor:r,borderRadius:t/5,padding:f(t,o)}:{})},v=function(e){var t=e.fontSize,n=e.hasText,r=e.highlightColor,i=e.lineHeight;return p({},r?{backgroundColor:n?r:void 0,borderRadius:t/5,padding:f(t,i)}:{})},h=function(e){var t=e.letterSpacing,n=e.lineHeight;return{fontFamily:e.name,fontGroup:"",fontOverrides:{letterSpacing:t,lineHeight:n,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:e.url}]}},b=function(e){var t=e.hasPin,n=e.pages,u=e.limitToSingleFont,s=c((0,r.useState)(!1),2),d=s[0],p=s[1],f=c((0,r.useState)(function(){return!!t&&(0,a.X7)(n)}),2),y=f[0],m=f[1],v=function(){var e=n.reduce(function(e,t){var n,r=(null==t?void 0:null===(n=t.blocks)||void 0===n?void 0:n.filter(function(e){return[o.h8.PARAGRAPH,o.h8.HEADING].includes(e.type)}))||[];return u&&r.length>1&&(r=[r[0]]),r.forEach(function(t){var n,r=(null===(n=t.style)||void 0===n?void 0:n.font)||o.Cc.font,i=r.name,a=void 0===i?"":i;e[a]||(e[a]=r)}),e},{});if(Object.keys(e).length>0){var t=Object.keys(e).map(function(t){var n=e[t];return h({letterSpacing:n.letter_spacing,lineHeight:n.line_height,name:n.name,url:n.url})});(0,i.Z)(t),p(!0)}};return(0,l.Z)(function(){v()}),(0,l.Z)(function(){y||v()}),(0,r.useEffect)(function(){y||m((0,a.X7)(n))},[y,n]),{fontsLoaded:d,mediaDataReceived:y}}},148028:function(e,t,n){"use strict";function r(e){var t=e.currentTime,n=e.endTime,r=e.startTime;return"number"!=typeof r||"number"!=typeof n||!(r>=0)||!(n>0)||!(r<n)||r<=t&&t<=n}n.d(t,{Z:function(){return r}})},700314:function(e,t,n){"use strict";n.d(t,{B7:function(){return c},X7:function(){return s},n4:function(){return u}});var r=n(224496);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function a(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var u=function(e,t){var n=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(!(null!=e&&e.match(n))||!(null!=t&&t.match(n)))return null;for(var r=null==e?void 0:e.split("."),i=null==t?void 0:t.split("."),o=Math.max((null!=r?r:"").length,(null!=i?i:"").length),a=0;a<o;a+=1){var l,u,c=a<(null!==(l=null==r?void 0:r.length)&&void 0!==l?l:0)?parseInt(null==r?void 0:r[a],10):0,s=a<(null!==(u=null==i?void 0:i.length)&&void 0!==u?u:0)?parseInt(null==i?void 0:i[a],10):0;if(c<s)return -1;if(c>s)return 1}return 0},c=function(){var e,t;function n(e,t,r){var i=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),a(this,"start",Date.now()),a(this,"paused",!1),this.onProgress=e,this.onComplete=t,this.duration=r,this.remaining=r,"undefined"!=typeof window&&(this.intervalId=window.setInterval(function(){var e=i.paused?i.duration-i.remaining:i.duration-i.remaining+(Date.now()-i.start);i.onProgress(e/i.duration)},500),this.resume())}return e=[{key:"currentTime",value:function(){return this.duration-this.remaining}},{key:"pause",value:function(){this.paused=!0,window.clearTimeout(this.timerId),this.remaining-=Date.now()-this.start;var e=this.duration-this.remaining;this.onProgress(e/this.duration)}},{key:"resume",value:function(){this.paused=!1,this.start=Date.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(this.onComplete,this.remaining)}},{key:"clear",value:function(){window.clearTimeout(this.timerId),window.clearInterval(this.intervalId)}}],o(n.prototype,e),t&&o(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(),s=function(e){return e.some(function(e){var t;return(null!==(t=null==e?void 0:e.blocks)&&void 0!==t?t:[]).some(function(e){return e.type===r.h8.IMAGE&&!!e.image||e.type===r.h8.VIDEO&&(!!e.video||!!e.video_signature)})})}},70061:function(e,t,n){"use strict";function r(e){return e.replace(/[_.-](\w|$)/g,function(e,t){return t.toUpperCase()})}n.d(t,{Z:function(){return r}})},52022:function(e,t,n){"use strict";n.d(t,{S:function(){return l},Z:function(){return u}});var r=n(76911),i=n(599689),o=n(53987),a=n(867820),l=function(e){return(0,o.L6)(e)?"pin":(0,o.am)(e)?"board":(0,o.Xn)(e)?"login":(0,o.C$)(e)?"home":(0,o.cD)(e)?"profile":(0,o.dr)(e)?"ideas":(0,o.gT)(e)?"ideas-root":(0,o.tZ)(e)?"videos":(0,o.Q0)(e)?"videos-category":(0,o.$Y)(e)?"article":(0,o.E0)(e)?"shopping-spotlight":(0,o.Zz)(e)?"today":(0,o.j8)(e)?"unauth-profile":(0,o.f1)(e)?"shopping-root":(0,o.OX)(e)?"shopping-category":"other"};function u(){var e=(0,i.useLocation)();return(0,r.useCallback)(function(t){var n=t.action,r=t.item,i=t.within,o=l(e);(0,a.My)("logged_out_product.interaction.".concat(o,".").concat(n),{item:r||"none",within:i||"none"})},[e])}},149230:function(e,t,n){"use strict";var r=n(954931);t.Z=function(e){var t=e.url;return!!(t&&t.match(/^https{0,1}:\/\//)&&!(0,r.Z)(t))}},508847:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(567831),i=function(e){var t=e.url,n=(0,r.Z)("/");return 0===t.lastIndexOf(n,0)?t.substr(n.length-1):t}},311541:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(76911);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||o(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=(0,r.useRef)([]),l=i((0,r.useState)(),2),u=l[0],c=l[1],s=i((0,r.useReducer)(null!=u?u:function(){return t},t),2),d=s[0],p=s[1],f=(0,r.useCallback)(function(t){if(u)p(t);else{var r;n.current.length||e().then(function(e){c(function(){return e.default})}),n.current=[].concat(function(e){if(Array.isArray(e))return a(e)}(r=n.current)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||o(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t])}},[e,u]);return(0,r.useEffect)(function(){u&&(n.current.forEach(p),n.current=[])},[u]),[d,f]}},999018:function(e,t,n){"use strict";n.d(t,{Y:function(){return m}});var r,i=n(76911);n(704217);var o=n(681669);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){var r;return(r=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===a(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=void 0!==r?r:r=n(124495),f=function(e,t){var n=Symbol("SKIP"),r=function(e){return Object.entries(e).filter(function(e){return s(e,2)[1]!==n}).reduce(function(e,t){var n=s(t,2),r=n[0],i=n[1];return u(u({},e),{},c({},r,i))},{})};if("deprecated"!==e.type){var i,o,a,l,d,p,f,y,m,v=e.data;return r(u(u({},v.isEligibleForPdpPlus||v.isEligibleForPdp||v.isOosProduct||v.isStaleProduct?u(u({},function(e,r,i,o,a,l,u,c,s){if(!t)return{image_count:n,image_index:n};var d=null===(e=v.richMetadata)||void 0===e?void 0:null===(r=e.products)||void 0===r?void 0:r[0];return{is_pdpplus:!0,carousel_image_count:n,brand_signature:(null==d?void 0:null===(i=d.brand)||void 0===i?void 0:i.signature)||n,free_shipping_price:(null==d?void 0:null===(o=d.shippingInfo)||void 0===o?void 0:o.freeShippingPrice)||n,free_shipping_value:(null==d?void 0:null===(a=d.shippingInfo)||void 0===a?void 0:a.freeShippingValue)||n,num_variants:(null==d?void 0:null===(l=d.variantSet)||void 0===l?void 0:null===(u=l.variants)||void 0===u?void 0:u.length)||n,total_dimension_option_count:(null==d?void 0:null===(c=d.variantSet)||void 0===c?void 0:null===(s=c.dimensionMetadata)||void 0===s?void 0:s.length)||n,valid_dimension_option_count:n}}()),{},{pin_show_pdp_oos:!!v.isOosProduct||n,pin_show_pdp_stale:!!v.isStaleProduct||n,pin_show_pdp:!!v.isEligibleForPdp||n}):{}),{},{pin_is_shop_the_look:!!(null!==(i=v.shoppingFlags)&&void 0!==i&&i.includes(2)||null!==(o=v.aggregatedPinData)&&void 0!==o&&o.isShopTheLook)||n,is_available:!!(null!==(a=v.shoppingFlags)&&void 0!==a&&a.includes(1))||n,is_product_pin_v2:!!(null!==(l=v.shoppingFlags)&&void 0!==l&&l.includes(5))||n,is_rich_product_pin:!!(null!==(d=v.shoppingFlags)&&void 0!==d&&d.includes(6))||n,is_organic_product_carousel:n,item_id:((null===(p=v.richSummary)||void 0===p?void 0:null===(f=p.products)||void 0===f?void 0:f[0])||{}).itemId||n,item_set_id:((null===(y=v.richSummary)||void 0===y?void 0:null===(m=y.products)||void 0===m?void 0:m[0])||{}).itemSetId||n,story_pin_id:v.storyPinData?v.storyPinDataId:n}))}var h,b,g,_,P,w,S,x,j,O,I,A,T=e.data;return T?r(u(u({},T.is_eligible_for_pdp_plus||T.is_eligible_for_pdp||T.is_oos_product||T.is_stale_product?u(u({},function(e,r,i,o,a,l,u,c,s,d,p,f,y,m,v){var h=null===(e=T.rich_metadata||T.rich_summary)||void 0===e?void 0:null===(r=e.products)||void 0===r?void 0:r[0],b=null!=h&&null!==(i=h.additional_images)&&void 0!==i&&i.length?{imageCount:(T.images?1:0)+h.additional_images.length,imageIndex:(null===(o=T.carousel_data)||void 0===o?void 0:o.index)||0}:T.carousel_data&&{imageCount:null===(a=T.carousel_data.carousel_slots)||void 0===a?void 0:a.length,imageIndex:T.carousel_data.index};if(!t)return b?{image_count:b.imageCount,image_index:b.imageIndex}:{};var g=null===(l=T.rich_metadata)||void 0===l?void 0:null===(u=l.products)||void 0===u?void 0:u[0],_=null!==(c=null==g?void 0:null===(s=g.variant_set)||void 0===s?void 0:s.variants)&&void 0!==c?c:[];return{is_pdpplus:!0,carousel_image_count:b?b.imageCount:n,brand_signature:(null==g?void 0:null===(d=g.brand)||void 0===d?void 0:d.signature)||n,free_shipping_price:(null==g?void 0:null===(p=g.shipping_info)||void 0===p?void 0:p.free_shipping_price)||n,free_shipping_value:(null==g?void 0:null===(f=g.shipping_info)||void 0===f?void 0:f.free_shipping_value)||n,num_variants:_.length||n,total_dimension_option_count:(null==g?void 0:null===(y=g.variant_set)||void 0===y?void 0:null===(m=y.dimension_metadata)||void 0===m?void 0:m.length)||n,valid_dimension_option_count:((null==g?void 0:null===(v=g.variant_set)||void 0===v?void 0:v.dimension_metadata)||[]).reduce(function(e,t){var n=t.name,r=t.values;return e+(n&&r||[]).filter(function(e){return _.some(function(t){var r;return(null===(r=t.dimensions)||void 0===r?void 0:r[null!=n?n:""])===e})}).length},0)||n}}()),{},{pin_show_pdp_oos:!!T.is_oos_product||n,pin_show_pdp_stale:!!T.is_stale_product||n,pin_show_pdp:!!T.is_eligible_for_pdp||n}):{}),{},{pin_is_shop_the_look:!!(null!==(h=T.shopping_flags)&&void 0!==h&&h.includes(2)||null!==(b=T.aggregated_pin_data)&&void 0!==b&&b.is_shop_the_look)||n,is_available:!!(null!==(g=T.shopping_flags)&&void 0!==g&&g.includes(1))||n,is_product_pin_v2:!!(null!==(_=T.shopping_flags)&&void 0!==_&&_.includes(5))||n,is_rich_product_pin:!!(null!==(P=T.shopping_flags)&&void 0!==P&&P.includes(6))||n,is_organic_product_carousel:!!(null!==(w=T.shopping_flags)&&void 0!==w&&w.includes(10)||((null===(S=T.product_pin_data)||void 0===S?void 0:null===(x=S.items)||void 0===x?void 0:x[0])||{}).additional_images)||n,item_id:((null===(j=T.rich_summary)||void 0===j?void 0:null===(O=j.products)||void 0===O?void 0:O[0])||{}).item_id||n,item_set_id:((null===(I=T.rich_summary)||void 0===I?void 0:null===(A=I.products)||void 0===A?void 0:A[0])||{}).item_set_id||n,story_pin_id:T.story_pin_data?T.story_pin_data_id:n})):{}},y=function(e){var t=(0,o.Zm)(p,null==e?{type:"deprecated",data:null}:e,{useGraphQLAdapter:function(e){return e},useLegacyAdapter:function(e){return e}}).childDataKey__DEPRECATED,n=(0,i.useRef)(t);return(0,i.useEffect)(function(){n.current=t}),(0,i.useCallback)(function(e){var t;return 0===Object.keys(t=u(u(u({},null==e?void 0:e.default),f(n.current,!!(null!=e&&e.isPdpPlus))),null==e?void 0:e.override)).length?{}:{commerce_data:JSON.stringify(t)}},[])},m=function(e){return(0,e.children)(y(e.pinKey))};t.Z=y},807609:function(e,t,n){"use strict";var r=n(76911),i=function(){return function(){}},o=function(){return!1},a=function(){return!0};t.Z=function(){return(0,r.useSyncExternalStore)(i,o,a)}},902355:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(76911);function i(e,t,n,r,i,o,a){try{var l=e[o](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,u,"next",e)}function u(e){i(a,r,o,l,u,"throw",e)}l(void 0)})}}function a(){return(a=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){var r=document.createElement("img");r.onerror=function(){return n(Error("Image failed to load with src ".concat(t)))},r.onload=function(){return e(!0)},r.src=t}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(){return(l=o(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"HEAD"});case 3:return n=e.sent,e.next=6,n.blob();case 6:r=e.sent.type.startsWith("image/"),e.next=12;break;case 12:return e.next=14,function(e){return a.apply(this,arguments)}(t);case 14:return i=e.sent,e.abrupt("return",r&&i);case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",!1);case 21:case"end":return e.stop()}},e,null,[[0,18]])}))).apply(this,arguments)}function u(e,t,n,r,i,o,a){try{var l=e[o](a),u=l.value}catch(e){n(e);return}l.done?t(u):Promise.resolve(u).then(r,i)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=n[0],o=n[1];return(0,r.useEffect)(function(){function t(){var n;return n=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(e){return l.apply(this,arguments)}(e);case 2:o(t.sent);case 4:case"end":return t.stop()}},t)}),(t=function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function a(e){u(o,r,i,a,l,"next",e)}function l(e){u(o,r,i,a,l,"throw",e)}a(void 0)})}).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[e]),i}},357787:function(e,t,n){"use strict";var r=n(76911),i=n(945790),o=n(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var y=new Map,m=null,v=function(e){e.forEach(function(e){var t=y.get(e.target);t&&t(e)})},h=function(e){m.unobserve(e),y.delete(e)},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-64px 0px 0px 0px",n=arguments.length>2?arguments[2]:void 0,r={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};m=m||new window.IntersectionObserver(v,r),y.set(e,n),m.observe(e)};t.Z=function(e){var t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(v,t);var n,r,f,m=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=d(v);if(n){var r=d(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function v(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,v);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(s(e=m.call.apply(m,[this].concat(n))),"seen",!1),p(s(e),"enter",function(t){var n=t.intersectionRatio>0||t.isIntersecting;e.seen=n,e.seen&&e.props.onVisibilityChanged(!0)}),p(s(e),"leave",function(){var t=e._node;t&&y.has(t)&&e.seen&&(e.props.onVisibilityChanged(!1),e.seen=!1)}),p(s(e),"observe",function(t){try{e._node=i.findDOMNode(s(e))}catch(e){return}if(e._node){var n=e.props.inAdsDesktopVideoExperiment,r=e._node;b(r,t,function(t){if(y.has(r)){var i=n?t.intersectionRatio>=.5:t.intersectionRatio>0||t.isIntersecting,o=e.props.trackFullVisible?t.intersectionRatio>=1:i,a=e.props.trackFullVisible?0===t.intersectionRatio:!o;!e.seen&&o?e.enter(t):e.seen&&a&&e.leave()}})}}),e}return r=[{key:"componentDidMount",value:function(){var e=this.props.rootMargin;this.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this._node;e&&(this.leave(),h(e))}},{key:"render",value:function(){return(0,o.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.props))}}],u(v.prototype,r),f&&u(v,f),Object.defineProperty(v,"prototype",{writable:!1}),v}(r.Component);return p(t,"displayName","DeprecatedWithVisibilityChanged(".concat(e.displayName||e.name,")")),t}},428258:function(e,t,n){"use strict";n.d(t,{Q6:function(){return o},ZP:function(){return l},t2:function(){return a}});var r=["vHLSV3MOBILE"],i=function(){var e;return!(null!==(e=window)&&void 0!==e&&e.devicePixelRatio)||window.devicePixelRatio<=1?"1x":"2x"},o=function(){var e,t,n,r="undefined"!=typeof window?null===(e=window.navigator)||void 0===e?void 0:null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0,o=i();return r?"4g"===r?n="40-80":(o="1x",n="0-1"):n="unknown",{downloadSpeedGroup:n,screenDimension:o}};function a(e){var t=e.vEXP3,n=e.vEXP4,r=e.vEXP5,i=e.vEXP6,a=e.vEXP7,l=e.v720P,u=o(),c=u.downloadSpeedGroup,s=u.screenDimension,d={"1x":t,"2x":r},p={"1x":a,"2x":a};return({unknown:d,"0-1":d,"1-5":{"1x":n,"2x":r},"5-10":{"1x":r,"2x":r},"10-20":{"1x":i,"2x":i},"20-40":p,"40-80":p,"80_or_above":p})[c][s]||l||void 0}function l(e){var t=e.vHLSV3MOBILE,n=a(function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,r)),i=t||void 0;return n?{hlsv3:i,mp4:n}:{hlsv3:i}}},869899:function(e,t,n){"use strict";n.r(t),n.d(t,{RoleBasedAccessControlProvider:function(){return A},useRoleBasedAccessControlContext:function(){return I}});var r=n(76911),i=n(425288),o=n(773285),a=n(784590),l=n(19121),u=n(389643),c=n(339363),s=n(70061);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function e(t){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&("object"!==f(t[r])||null===t[r]||Array.isArray(t[r])?n[(0,s.Z)(r)]=t[r]:n[(0,s.Z)(r)]=e(t[r]));return n},m=function(e,t){var n=[];for(var r in e)r!==t&&n.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:r},y(e[r])));var i,o=n.sort(function(e,t){var n=e.user.businessName,r=t.user.businessName;return n.localeCompare(r)}),a=new Map,l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(o);try{for(l.s();!(i=l.n()).done;){var u=i.value;a.set(u.id,u)}}catch(e){l.e(e)}finally{l.f()}return a};function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},P=function(e,t){switch(t.type){case"LOAD_PROFILES":return g(g({},e),{},{profiles:t.payload});case"SET_ACTIVE_PROFILE":return g(g({},e),{},{activeProfile:t.payload});case"TOGGLE_HEADER_VISIBILITY":return g(g({},e),{},{headerVisible:t.payload});case"TOGGLE_ORBAC_VISIBILITY":return g(g({},e),{},{orbacVisibility:t.payload});case"TOGGLE_DISABLE_PROFILE_CHANGER":return g(g({},e),{},{disableProfileChanger:t.payload});default:return e}},w=function(e){var t=e.dispatch,n=e.isEnabled,i=e.state,o=i.orbacVisibility,a=i.disableProfileChanger,l=i.headerVisible;return{changeProfile:(0,r.useCallback)(function(e){n&&t({type:"SET_ACTIVE_PROFILE",payload:e})},[n,t]),toggleORBACVisibility:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=e?e:!o})},[n,t,o]),toggleDisableProfileChanger:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=e?e:!a})},[n,t,a]),toggleHeaderVisibility:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=e?e:!l})},[n,t,l])}},S=function(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(P,_))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=n[0],o=n[1],a=w({dispatch:o,isEnabled:e,state:i}),l=i.activeProfile,u=i.orbacVisibility;return(0,r.useEffect)(function(){var e=(0,c.qn)("orbacActiveProfile",!1);e&&o({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,r.useEffect)(function(){var e=(0,c.qn)("orbacVisibilty",!1);e&&o({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,r.useEffect)(function(){(0,c.Nh)("orbacVisibility",u)},[u]),(0,r.useEffect)(function(){(0,c.Nh)("orbacActiveProfile",l)},[l]),{state:i,actions:a,receiveProfiles:(0,r.useCallback)(function(e,t){o({type:"LOAD_PROFILES",payload:m(e,t)})},[o])}},x=n(515198),j=(0,i.Z)("RoleBasedAccessControlContext"),O=j.Provider,I=j.useMaybeHook,A=function(e){var t,n=e.children,i=(0,o.F)().checkExperiment,c=(0,l.Z)(),s=!!(c.isAuth&&c.isPartner&&i("web_m10n_business_access_orbac_www").anyEnabled),d=S(s),p=d.state,f=d.actions,y=d.receiveProfiles,m=p.activeProfile,v=p.headerVisible,h=p.profiles,b=void 0===h?[]:h,g=b?Array.from(b.values()):[],_=(0,u.Z)(g),P=!!c.isAuth&&g.length>0&&_,w=c.isAuth?c.id:"",j=c.isAuth?c.username:"",I=f.changeProfile,A=f.toggleORBACVisibility,T=f.toggleDisableProfileChanger,E=f.toggleHeaderVisibility;(0,r.useEffect)(function(){if(s){if("string"==typeof _){I(_);return}m||I(w)}},[_,w,s,I,m]),(0,r.useEffect)(function(){s&&(P&&!v&&E(!0),!P&&v&&E(!1))},[E,P,s,v,b]);var k=(0,a.Z)(s?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null).data,C=null==k?void 0:k.profiles;c&&c.isAuth&&p.activeProfile===c.id?t={id:c.id,permissions:["OWNER"],user:{username:j,businessName:c.fullName,imgUrl:c.imageSmallUrl}}:m&&p.profiles&&(t=p.profiles.get(m)),(0,r.useEffect)(function(){C&&y(C,w)},[y,C,w]);var D=p.profiles?Array.from(p.profiles.values()):[];return(0,x.jsx)(O,{value:{profiles:D,headerVisible:p.headerVisible,activeProfile:t,changeProfile:I,toggleORBACVisibility:A,toggleDisableProfileChanger:T,toggleHeaderVisibility:E},children:n})}},717615:function(e,t,n){"use strict";var r=n(773285),i=n(869899),o=n(389643);t.Z=function(){var e=(0,r.F)().checkExperiment,t=(0,i.useRoleBasedAccessControlContext)(),n=(t||{}).activeProfile,a=e("web_m10n_business_access_orbac_www").anyEnabled,l=(0,o.Z)((null==t?void 0:t.profiles)||[]),u=e("useorbacroutematcher_in_useorbacactingas").anyEnabled;return a&&(!u||l)&&n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({})}},389643:function(e,t,n){"use strict";var r=n(599689),i=n(53987),o=n(773285),a=n(19121),l=n(350118);t.Z=function(e){var t,n,u,c,s=(0,r.useLocation)(),d=(0,a.Z)(),p=(0,l.S6)(),f=(0,o.F)().checkExperiment("web_m10n_business_access_orbac_www").anyEnabled,y=(0,r.useRouteMatch)("/:username"),m=null==y?void 0:null===(t=y.params)||void 0===t?void 0:t.username,v=(0,r.useRouteMatch)("/pin/:id"),h=null!=v&&null!==(n=v.params)&&void 0!==n&&!!n.id&&(null===(u=p(v.params.id))||void 0===u?void 0:null===(c=u.pinner)||void 0===c?void 0:c.id);if((0,i.ej)(s))return!1;if((0,i.RU)(s))return!0;if((0,i.mY)(s))return f;var b=e.concat(d.isAuth?{user:{username:d.username},id:d.id}:{}).find(function(e){var t=e||{},n=t.user,r=t.id,i=(void 0===n?{}:n).username;return(!!i&&!!m||!!h&&!!r)&&(i===m||h===r)});return!!b&&b.id}},231947:function(e,t,n){"use strict";n.d(t,{D3:function(){return c},DX:function(){return l},KY:function(){return s},Ms:function(){return r},N1:function(){return d},_P:function(){return a},lJ:function(){return o},nl:function(){return i},q6:function(){return u}});var r=function(e,t){var n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},i=function(e,t){return!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool)},o=function(e,t){return e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:""},a=function(e,t,n){var r;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null===(r=e.advertiser)||void 0===r?void 0:r.merchant_id},l=function(e,t,n){return n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0},u=function(e,t,n){return!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t)},c=function(e,t,n){return!!(u(e,t,n)||e&&e.isAuth&&t===e.id)},s=function(e,t,n){return c(e,t&&t.owner&&t.owner.id||"",n)};function d(e,t,n){return c(e,t?t.id:"",n)}},965900:function(e,t,n){"use strict";n.d(t,{g:function(){return h},I:function(){return v}});var r=n(76911),i=n(425288),o=n(567450),a=n(41861);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return c(c({},e),{},{showTypeaheadOverlay:t.payload});if("SET_CURRENT_VIDEO"===t.type){var n=t.payload,r=n.pinId,i=n.isPromoted,o=n.currentTime,l=e.videosAutoplaying,u=l.currentlyPlayingOrganicVideoId,d=l.promotedVideosAutoplaying,p=l.organicVideosAutoplaying,f=(0,a.Z)(d),y=(0,a.Z)(p);return!i&&u?e:(i?f[r]={pinId:r,currentTime:o,paused:!1}:y[r]={pinId:r,currentTime:o,paused:!1},c(c({},e),{},{videosAutoplaying:{currentlyPlayingOrganicVideoId:i?u:r,promotedVideosAutoplaying:f,organicVideosAutoplaying:y}}))}if("SET_IS_AUTOPLAY"===t.type)return c(c({},e),{},{isAutoplay:t.payload});if("PAUSE_CURRENT_VIDEO"===t.type){var m=t.payload,v=m.pinId,h=m.isPromoted,b=m.currentTime,g=e.videosAutoplaying,_=g.promotedVideosAutoplaying,P=g.organicVideosAutoplaying,w=(0,a.Z)(_),S=(0,a.Z)(P);return h?w[v]=c(c({},w[v]),{},{paused:!0,currentTime:b}):S[v]=c(c({},S[v]),{},{paused:!0,currentTime:b}),c(c({},e),{},{videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:w,organicVideosAutoplaying:S}})}if("SET_APP_FOCUS_STATE"===t.type)return c(c({},e),{},{appInFocus:t.payload});if("SET_VIEWPORT_SIZE"===t.type)return c(c({},e),{},{viewportSize:t.payload});if("SET_FOOTER_VISIBILITY_STATE"===t.type)return c(c({},e),{},{footerPlusButtonVisible:t.payload});return e},p=n(515198);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y=(0,i.Z)("AppUI"),m=y.Provider,v=y.useHook;function h(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(d,s))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],l=i[1],u=(0,r.useCallback)(function(e){return l({type:"PAUSE_CURRENT_VIDEO",payload:e})},[]),c=(0,r.useCallback)(function(e){return l({type:"SET_APP_FOCUS_STATE",payload:e})},[]),y=(0,r.useCallback)(function(e){return l({type:"SET_CURRENT_VIDEO",payload:e})},[]),v=(0,r.useCallback)(function(e){return l({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})},[]),h=(0,r.useCallback)(function(e){return l({type:"SET_IS_AUTOPLAY",payload:e})},[]),b=(0,r.useCallback)(function(e){return l({type:"SET_VIEWPORT_SIZE",payload:e})},[]),g=(0,r.useCallback)(function(e){return l({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})},[]),_=(0,r.useMemo)(function(){return{pauseAutoplay:u,setCurrentVideo:y,setFooterPlusButtonVisible:v,setIsAutoplay:h,setViewportSize:b,toggleTypeaheadOverlay:g,setAppFocusState:c,appUI:a}},[u,y,v,h,b,g,c,a]);return(0,r.useEffect)(function(){o.Z.onSessionResume(function(){c(!0)}).onSessionPause(function(){c(!1)})},[c]),(0,p.jsx)(m,{value:_,children:n})}},924114:function(e,t,n){"use strict";n.d(t,{H8:function(){return m},Ut:function(){return y},fr:function(){return f}});var r=n(76911),i=n(425288),o=n(311541),a=n(839377),l=n(515198);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=function(){return n.e(67891).then(n.bind(n,367891))},s=(0,i.Z)("IdeaPin"),d=s.Provider,p=s.useHook;function f(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,o.Z)(c,a.Z))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=i[0],p=i[1],f=(0,r.useMemo)(function(){return{dispatch:p,ideaPin:s}},[p,s]);return(0,l.jsx)(d,{value:f,children:n})}function y(){var e=p().dispatch;return(0,r.useMemo)(function(){return{setIdeaPinActivePage:function(t){e({type:"IDEA_PIN_ACTIVE_PAGE",payload:{activePage:t}})},setIdeaPinDynamicWidth:function(t){e({type:"IDEA_PIN_DYNAMIC_WIDTH",payload:{dynamicWidth:t}})}}},[e])}function m(){return p().ideaPin}},839377:function(e,t){"use strict";t.Z={activePage:0,dynamicWidth:0}},861411:function(e,t,n){"use strict";n.d(t,{fv:function(){return C},fS:function(){return F},Vi:function(){return k},Hs:function(){return R},Mv:function(){return T},uc:function(){return E},dL:function(){return A},qS:function(){return D},Y4:function(){return z},HE:function(){return M},Cy:function(){return L}});var r=n(76911),i=n(945790),o=n(407043),a=n(124580),l=n(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(l,e);var t,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=y(l);if(t){var r=y(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(f(e=o.call.apply(o,[this].concat(n))),"observe",function(){try{if(e.node=(0,i.findDOMNode)(f(e)),e.node instanceof HTMLElement){var t=e.props.eventData,n=t.pinIdStr,r=t.newsIdStr;a.Z.start(e.node).onExitViewport(e.logImpression).setDebugId(n||r||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),m(f(e),"logImpression",function(t){e.props.logImpression({viewData:e.props.viewData||{},viewType:e.props.viewType,viewParameter:e.props.viewParameter,eventType:e.props.eventType,impressionType:e.props.impressionType,auxData:e.props.auxData,component:e.props.component,objectIdStr:e.props.objectIdStr,eventData:s({endTime:t.endTime,time:t.startTime},e.props.eventData)})}),e}return d(l.prototype,[{key:"componentDidMount",value:function(){this.props.isPaused||this.observe()}},{key:"componentDidUpdate",value:function(e){e.isPaused&&!this.props.isPaused&&this.observe()}},{key:"componentWillUnmount",value:function(){this.node instanceof HTMLElement&&a.Z.stop(this.node)}},{key:"render",value:function(){return r.Children.only(this.props.children)}}]),n&&d(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(r.Component);function b(e){var t=(0,o.v)().logImpression;return(0,l.jsx)(h,s(s({},e),{},{logImpression:t}))}var g=n(337815),_=n(780280),P=n(807609);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){var t=e.auxData,n=e.component,i=e.eventData,l=e.eventType,u=e.impressionType,c=e.isPaused,s=e.objectIdStr,d=e.viewData,p=e.viewType,f=e.viewParameter,y=(0,r.useRef)(null),m=(0,o.v)().logImpression,v=(0,P.Z)(),h=(0,_.B)(),b=(0,r.useCallback)(function(){try{if(y.current instanceof HTMLElement){var e=i.pinIdStr,r=i.newsIdStr;a.Z.start(y.current).onExitViewport(function(e){m({viewData:d||{},viewType:p,viewParameter:f,eventType:l,impressionType:u,auxData:t,component:n,objectIdStr:s,eventData:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==w(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===w(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({endTime:e.endTime,time:e.startTime,pinCellWidth:(null===(r=y.current)||void 0===r?void 0:r.getBoundingClientRect().width)||0,pinCellHeight:(null===(o=y.current)||void 0===o?void 0:o.getBoundingClientRect().height)||0,windowWidth:null===(a=window)||void 0===a?void 0:a.innerWidth,windowHeight:null===(c=window)||void 0===c?void 0:c.innerHeight},i)});var r,o,a,c,b,_,P=i.attributionSourceId,x=i.campaignId,j=i.isPromoted,O=i.link,I=i.advertiserId;"pinImpressions"===u&&j&&!v&&null!==(b=window.document.featurePolicy)&&void 0!==b&&b.allowsFeature("attribution-reporting")&&(0,g.YS)(u,j,null!=P?P:null,O,x,{appType:h.appTypeDetailed,osType:(0,g.eF)(null!==(_=h.userAgent.osName)&&void 0!==_?_:"Unknown")},null!=I?I:null)}).setDebugId(e||r||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[y.current]);return(0,r.useEffect)(function(){c||b();var e=y.current;return function(){e instanceof HTMLElement&&a.Z.stop(e)}},[c,b]),y}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var A=function(e){var t=x({eventData:I(I({},e.impressionData||{}),{},{pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},T=function(e){var t=x({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},E=function(e){var t=x({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},k=function(e){return(0,l.jsx)(b,{eventData:I(I({},e.impressionData||{}),{},{articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children})},C=function(e){var t=x({eventData:I(I({},e.impressionData||{}),{},{articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},D=function(e){var t=x({eventData:I(I({},e.impressionData||{}),{},{storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},R=function(e){return(0,l.jsx)(b,{eventData:I(I({},e.impressionData||{}),{},{storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children})},L=function(e){var t=x({eventData:I(I({},e.impressionData||{}),{},{userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0}),auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},M=function(e){var t=x({eventData:I(I({},e.impressionData||{}),{},{topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0}),auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},z=function(e){var t=x({eventData:I(I({},e.impressionData||{}),{},{clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},F=function(e){var t=x({eventData:I(I({},e.impressionData||{}),{},{clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex}),auxData:e.auxData||{},component:e.component,eventType:3700,impressionType:"boardImpressions",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})}},334005:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(76911),i=n(908390),o=n(946984),a=n(121151),l=n(604356),u=n(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=new i.Ry(1);function f(e){var t,n,r=e.anchor,o=e.children,l=e.displayOptions,c=e.onFlyoutDismiss;return null!=l&&l.shownWithinMasonry||null!=l&&l.shownWithinProfileHeader?(0,u.jsx)(i.mh,{zIndex:l.shownWithinProfileHeader?p:void 0,children:(0,u.jsx)(i.xu,{zIndex:l.inModal?a.b7:void 0,position:l.inModal?"absolute":void 0,top:!!l.inModal||void 0,children:(0,u.jsx)(i.J2,{anchor:r,idealDirection:null!==(t=l.idealDirection)&&void 0!==t?t:"down",onDismiss:function(){c()},_deprecatedShowCaret:l.showCaret,size:"flexible",positionRelativeToAnchor:!1,children:o})})}):(0,u.jsx)(i.J2,{anchor:r,idealDirection:null!==(n=null==l?void 0:l.idealDirection)&&void 0!==n?n:"down",onDismiss:function(){c()},_deprecatedShowCaret:null==l?void 0:l.showCaret,size:"flexible",children:o})}function y(e){var t=e.children,n=e.flyoutDisplayOptions,a=e.isFlyoutOpen,c=e.loggingOptions,s=e.onClick,p=e.onFlyoutDismiss,y=e.onToggleFlyout,m=e.sendObject,v=(0,r.useRef)(null),h=(0,o.Z)();return(0,u.jsxs)(i.xu,{ref:v,dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,u.jsx)(i.xu,{children:t({handleSendShareFlyoutButtonClick:function(){if(h){h();return}y()}})}),a&&(0,u.jsx)(f,{anchor:v.current,displayOptions:n,onFlyoutDismiss:p,children:(0,u.jsx)(l.Z,{element:c.element,component:c.component,onHide:function(){null==s||s(),p()},onExternalSend:c.onExternalSend,sendType:m.type,sharedObject:d(d({},m),{},{type:"user"===m.type?"pinner":m.type}),viewParameter:c.viewParameter,viewType:c.viewType})})]})}},92261:function(e,t,n){"use strict";n.d(t,{$T:function(){return v},CI:function(){return o},Ch:function(){return l},Gb:function(){return u},Gg:function(){return r},Ie:function(){return p},KP:function(){return f},Kn:function(){return a},Uj:function(){return c},bx:function(){return y},d2:function(){return d},g9:function(){return m},iB:function(){return h},u6:function(){return i},zT:function(){return s}});var r=508,i=1016,o=488,a=992,l=672,u=1176,c=.6,s=.84,d=40,p=72,f=740,y=912,m=32,v=24,h={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},387957:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{GL:function(){return u},_z:function(){return a},d0:function(){return s},hO:function(){return c},pM:function(){return l}});var o,a="video",l="image",u=new Map([["DEFAULT",new Set(["button"])],["story_pin",new Set([a])],["product_detail_page",new Set(["description","shopButton","thumbnailsLoaded"])],["product_detail_page_plus",new Set(["description","shopButton","thumbnailsLoaded"])]]),c=(o=new Set,u.forEach(function(e){o=new Set([].concat(r(o),r(e)))}),o),s=new Set([].concat(r(c),[l,"resource"]))},361115:function(e,t,n){"use strict";n.d(t,{J1:function(){return c},Uw:function(){return u},Yg:function(){return d},ib:function(){return f}});var r=n(773285),i=n(780280),o=n(50286),a=n(67347),l=function(){var e=(0,i.B)(),t=e.isAuthenticated;return e.isBot?"bot":t?"auth":"unauth"},u=function(e){var t=e.isDesktop,n=e.viewerType;return"bot"===n?"seo_graphql_pin_page":"auth"===n?t?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page":t?"unauth_dweb_graphql_pin_page":"unauth_mweb_graphql_pin_page"},c=function(){return u({isDesktop:(0,o.HG)(),viewerType:l()})},s=function(e){var t=e.checkExperiment,n=e.isAuthMweb&&t("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0}).group;return n?function(e){return(0,a.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:n}})}:null},d=function(){var e=(0,i.B)().isAuthenticated,t=(0,o.HG)();return s({checkExperiment:(0,r.F)().checkExperiment,isAuthMweb:e&&!t})},p=0,f=function(e){var t=s({checkExperiment:e.checkExperiment,isAuthMweb:e.isAuthMweb});t&&(p+=1)<10&&t("repin_".concat(p))}},222704:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(908390),i=n(515198);function o(e){var t,n,o=e.children,a=e.color,l=e.outlined,u=e.type,c=e.rounding,s=void 0===c?4:c;return(0,i.jsxs)(r.xu,{position:"relative",children:[(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},rounding:s,overflow:"hidden","data-test-id":"outline-content",children:o}),l&&(0,i.jsx)(r.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,rounding:s,color:"transparent",dangerouslySetInlineStyle:{__style:(n=(t={color:a,type:void 0===u?"bold":u}).color,"solid"===t.type?{boxShadow:"inset 0 0 0 2px ".concat(null!=n?n:"#000"),WebkitBoxShadow:"inset 0 0 0 2px ".concat(null!=n?n:"#000"),MozBoxShadow:"inset 0 0 0 2px ".concat(null!=n?n:"#000")}:{boxShadow:"inset 0 0 0 2px ".concat(null!=n?n:"#000",", inset 0 0 0 4px #fff"),WebkitBoxShadow:"inset 0 0 0 2px ".concat(null!=n?n:"#000",", inset 0 0 0 4px #fff"),MozBoxShadow:"inset 0 0 0 2px ".concat(null!=n?n:"#000",", inset 0 0 0 4px #fff")})},"data-test-id":"outline-box"})]})}},865607:function(e,t,n){"use strict";n.d(t,{O:function(){return c},Z:function(){return s}});var r=n(76911),i=n(908390),o=n(898781),a=n(966113),l=n(515198),u={xs:12,sm:16,md:20,lg:24};function c(e){var t=e.children,n=(0,o.ZP)();return(0,l.jsx)(i.u,{link:(0,l.jsx)(i.rU,{href:a.vBy,target:"blank",children:(0,l.jsx)(i.xv,{color:"inverse",size:"100",weight:"bold",children:n._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:n._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:t})}function s(e){var t=e.hasVerifiedIdentity,n=e.iconOnly,a=e.isVerifiedMerchant,s=e.showText,d=e.size,p=(0,o.ZP)(),f=(0,l.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(i.JO,{accessibilityLabel:p._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:u[d]}),s&&(0,l.jsx)(i.xu,{marginStart:2,children:(0,l.jsx)(i.xv,{color:"shopping",inline:!0,weight:"bold",children:p._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,l.jsxs)(r.Fragment,{children:[a&&!n&&(0,l.jsx)(c,{children:f}),a&&n&&f,t&&!a&&(0,l.jsx)(i.JO,{accessibilityLabel:p._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:u[d]})]})}},987318:function(e,t,n){"use strict";n.d(t,{H:function(){return o},o:function(){return i}});var r=(0,n(425288).Z)("LimitedLogin"),i=r.Provider,o=r.useHook},252417:function(e,t,n){"use strict";n.d(t,{Ai:function(){return O},B5:function(){return h},CR:function(){return f},Cc:function(){return c},HG:function(){return w},R_:function(){return d},Wz:function(){return s},_P:function(){return P},dP:function(){return I},dX:function(){return x},gx:function(){return y},h8:function(){return l},hk:function(){return p},lp:function(){return g},lt:function(){return v},oe:function(){return S},r4:function(){return _},rM:function(){return j},tD:function(){return m}});var r=n(908390);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},u={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},c=a(a({},u),{},{font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28}),s=a(a({},u),{},{font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48}),d=64,p=64,f=48,y=48,m=new r.Ry(5),v=new r.H3([m]),h=new r.H3([v]),b=new r.H3([m]),g=new r.H3([b]),_=4;function P(e){return e?{paddingX:0,paddingY:0}:{paddingX:2,paddingY:_}}var w=6,S=47,x=8,j=4,O=5,I=3},854907:function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){u=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e){var t,n=[],i="",o=r(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(i){var l=!!a.match(/\s/),u=!!i.match(/\s/);if(l===u)i+=a;else if(!u&&i.includes("-")){for(var c=0,s=0;s<i.length;s+=1)"-"===i[s]&&(n.push(i.substring(c,s+1)),c=s+1);n.push(i.substring(c)),i=a}else n.push(i),i=a}else i=a}}catch(e){o.e(e)}finally{o.f()}return i.length&&n.push(i),n}function a(e){var t,n,i=e.boxHeight,a=e.boxWidth,l=e.font,u=e.startFontSize,c=e.text;if("undefined"==typeof document||!document.body)return{fontSize:u,lines:[]};var s=document.body,d=document.createElement("div");s.appendChild(d);var p=null==c?void 0:c.split(/\r?\n/g),f=u,y={letterSpacing:(null===(t=l.fontOverrides)||void 0===t?void 0:t.letterSpacing)!=null?"".concat(l.fontOverrides.letterSpacing,"px"):void 0,lineHeight:String((null===(n=l.fontOverrides)||void 0===n?void 0:n.lineHeight)||1.1),fontFamily:l.fontFamily,fontSize:"".concat(f,"px"),position:"absolute",visibility:"hidden",width:"".concat(a,"px")};Object.assign(d.style,y);var m=document.createElement("div");for(m.style.display="inline",d.appendChild(m),(null!=p?p:[]).forEach(function(e,t){var n=document.createElement("span");n.style.wordBreak="break-word",m.appendChild(n),n.appendChild(document.createTextNode(e)),t!==(null!=c?c:"").length-1&&n.appendChild(document.createElement("br"))});(m.offsetHeight>i||m.offsetWidth>a)&&f>0;)f-=1,d.style.fontSize="".concat(f,"px");return m.remove(),d.remove(),{fontSize:f,lines:f>0?function(e){var t=e.font,n=e.fontSize,i=e.textList,a=e.width;if("undefined"==typeof document||!document.body||a<=0||n<=0)return[];var l=document.body,u=document.createElement("div");l.appendChild(u);var c={letterSpacing:(null===(p=t.fontOverrides)||void 0===p?void 0:p.letterSpacing)!=null?"".concat(t.fontOverrides.letterSpacing,"px"):void 0,lineHeight:String((null===(f=t.fontOverrides)||void 0===f?void 0:f.lineHeight)||1.1),fontFamily:t.fontFamily,fontSize:"".concat(n,"px"),visibility:"hidden"};Object.assign(u.style,c);var s=document.createElement("div");s.style.display="inline",u.appendChild(s);var d=document.createTextNode("");s.appendChild(d);var p,f,y,m=[],v="",h=function(e){var t=e.trim();return d.textContent=t,{text:t,width:s.offsetWidth}},b=function e(t){var n=!!t.match(/\s/),i=0===v.length;if(d.textContent="".concat(v).concat(t),s.offsetWidth>a){if(n)m.push(h(v)),v="";else if(i){var o,l=r(t);try{for(l.s();!(o=l.n()).done;){var u=o.value;e(u)}}catch(e){l.e(e)}finally{l.f()}}else m.push(h(v)),v="",e(t)}else v+=t},g=r(null!=i?i:[]);try{for(g.s();!(y=g.n()).done;){var _=y.value;0===_.length&&m.push(h(v)),o(_).forEach(function(e){return b(e)}),v.length&&(m.push(h(v)),v="")}}catch(e){g.e(e)}finally{g.f()}return s.remove(),u.remove(),m}({font:l,fontSize:f,textList:p,width:a}):[]}}function l(e){var t=window.getComputedStyle(e,null),n=parseFloat(t.getPropertyValue("height").replace("px","")),r=parseFloat(t.getPropertyValue("font-size").replace("px","")),i=parseFloat(t.getPropertyValue("line-height").replace("px",""));return Number.isNaN(i)&&(i=1.2*r),Math.ceil(n/i)}n.d(t,{KV:function(){return a},Yd:function(){return o},xW:function(){return l}})},829084:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(66743);function i(e){var t;return{defaultStyle:0,fontFamily:null!==(t=e.name)&&void 0!==t?t:"",fontGroup:r.gu,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}},296342:function(e,t,n){"use strict";n.d(t,{Af:function(){return s},Ei:function(){return u},II:function(){return P},Lh:function(){return h},U:function(){return m},UC:function(){return d},Zy:function(){return l},dD:function(){return o},er:function(){return v},hb:function(){return g},in:function(){return c},j7:function(){return b},kX:function(){return f},me:function(){return p},mx:function(){return _},n5:function(){return a},q8:function(){return y},xH:function(){return i}});var r=n(224496),i=1048576,o=3,a=20,l=3,u=10,c=50,s=10,d=720,p=1080,f=1200,y=375,m=375/r.ap,v=1200,h="#FFFFFF",b={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},g=420,_=325,P=768},678205:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var r=n(599689),i=n(661675),o=n(76911),a=n(908390),l=n(385937),u=n(167137),c=n(799405),s=n(97950),d=n(278716),p=n(372169),f=n(898781),y=n(784590),m=n(8742),v=n(515198);function h(e){var t=e.categoryId,n=e.pageIndex,r=e.pinId,i=(0,f.ZP)(),o=(0,y.Z)({name:"IdeaPinStelaResultsResource",options:{pin_id:r,category_id:t,page_index:n}}),l=o.isLoaded,u=o.data,c=o.fetchMore,s=o.isAtEnd,h=o.isFetching;return l&&u?(0,v.jsx)(d.Z,{fetchMore:c,isAtEnd:s,isFetching:h,items:u,leftAlign:!0,loadingLabel:i._('Loading related producs', 'IdeaPin.stela.loading', 'Accessibility label for spinner when loading user Related Products for an Idea Pin'),renderItem:function(e){var t=e.item,n=e.itemIdx;return(0,v.jsx)(a.xu,{margin:p.iO,width:p.jh,children:(0,v.jsx)(m.ZP,{pin:t,pinId:t.id,authDesktopSurface:"ShoppingGridShippedMetadata",auxData:{commerce_data:{category_id:t.category_id,idea_pin_id:t.id}},componentType:0,duploQueryRef:null,slotIndex:n,viewParameter:3633,viewType:1})},"pin-".concat(t.id,"-").concat(n))}}):null}var b=n(764537);function g(e){var t=e.pin,n=(t||{}).story_pin_data;return n?(0,v.jsx)(a.xu,{position:"fixed",children:(0,v.jsx)(b.ZP,{appConfig:{type:"authDesktop",onClickThrough:function(){},onNavigateBack:function(){}},pin:t,storyPinData:n,variant:"related-products",viewType:1,viewParameterType:3633})}):null}var _=n(288562),P=n(988177),w=n(558068),S=n(224496),x=n(700380),j=n(19121),O=n(924114);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var A=128+S.YL,T=24+S.YL;function E(e){var t,n=e.categoryId,r=e.pageIndex,i=e.pinId,d=(0,j.Z)(),p=(0,w.aX)(),f=(0,O.H8)().dynamicWidth,m=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=m[0],S=m[1],E=(0,x.Z)(function(){window&&S(window.innerWidth)},100);(0,o.useEffect)(function(){window&&S(window.innerWidth)},[]),(0,o.useEffect)(function(){return window&&window.addEventListener("resize",E),function(){window&&window.removeEventListener("resize",E)}},[b,E]);var k=(0,l.Z)(p,d.isAuth).trafficSource,C=(0,y.Z)({name:"PinResource",options:{id:i,field_set_key:"detailed",fetch_visual_search_objects:!0}}),D=C.isLoaded,R=C.data,L=(0,y.Z)({name:"ApiResource",options:{url:"/v3/storypins/".concat(i,"/stela/tags/"),data:{fields:(0,u.Z)()}}}),M=L.isLoaded,z=L.data,F=(0,o.useMemo)(function(){return{categories:z,pin:R,pinId:null==R?void 0:R.id,viewType:1,viewParameter:3633}},[R,z]);return D&&R&&M&&z?(0,v.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:P.lI}},"data-test-id":"idea-pin-related-products",display:"flex",direction:"column",children:[(0,v.jsx)(_.Z,{pinId:i,variant:"closeup-shop-idea-pin",viewParameter:3633,viewType:1}),(0,v.jsxs)(a.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[(0,v.jsx)(g,{pin:R}),(0,v.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:f+A}},direction:"column",display:"flex",height:"100%",width:"100%",children:[(0,v.jsx)(a.xu,{color:"default",dangerouslySetInlineStyle:{__style:{top:140,paddingBottom:"32px"}},position:"fixed",zIndex:new a.Ry(1),children:(0,v.jsx)(c.L,{value:F,children:(0,v.jsx)(s.Z,{columnWidth:b?b-f-A:void 0,selectedCategoryId:n.toString(),trafficSource:k})})}),(0,v.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:140+T}},"data-test-id":"idea-pin-stela-feed",children:(0,v.jsx)(h,{categoryId:n,pageIndex:r,pinId:i})})]})]})]}):null}var k=n(780280),C=n(418614),D=n(826067),R=function(){var e=(0,k.B)().isAuthenticated,t=(0,r.useParams)().id,n=(0,r.useLocation)(),o=(0,D.mB)(n.search),a=o.cat_id,l=o.page;return((0,C.Z)({name:"PinResource",getOptions:function(e){return{id:e.routeData.params.id,field_set_key:"detailed"}}}),(0,C.Z)({name:"IdeaPinStelaResultsResource",getOptions:function(e){var t=e.routeData,n=t.params.id,r=t.parsedSearch,i=r.cat_id,o=r.page;return{pin_id:n,category_id:parseInt(i,10),page_index:parseInt(o,10)}}}),(0,C.Z)({name:"ApiResource",getOptions:function(e){var t=e.routeData.params.id;return t?{url:"/v3/storypins/".concat(t,"/stela/tags/"),data:{fields:["ideapinproductcategorytag.id","ideapinproductcategorytag.type","ideapinproductcategorytag.category_id","ideapinproductcategorytag.label","ideapinproductcategorytag.page_index","ideapinproductcategorytag.pins()","pin.id","pin.type","pin.images[236x,orig]"]}}:{}}}),e)?(0,v.jsx)(E,{categoryId:parseInt(a,10),pageIndex:parseInt(l,10),pinId:t||""}):(0,v.jsx)(i.l_,{to:"/pin/".concat(null!=t?t:"","/")})}},948337:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=n.nmd(e),function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function o(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function a(e,n){function r(){o(i)&&i.a.parentNode&&n(i.g)}var i=e;t(e.b,r),t(e.c,r),o(e)}function l(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var u=null,c=null,s=null,d=null;function p(){return null===d&&(d=!!document.fonts),d}function f(e,t){return[e.style,e.weight,!function(){if(null===s){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}s=""!==e.style.font}return s}()?"":e.stretch,"100px",t].join(" ")}l.prototype.load=function(e,t){var r=this,o=e||"BESbswy",l=0,s=t||3e3,d=new Date().getTime();return new Promise(function(e,t){if(p()&&!function(){if(null===c){if(p()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);c=!!e&&603>parseInt(e[1],10)}else c=!1}return c}()){var y,m=new Promise(function(e,t){!function n(){new Date().getTime()-d>=s?t(Error(""+s+"ms timeout exceeded")):document.fonts.load(f(r,'"'+r.family+'"'),o).then(function(t){1<=t.length?e():setTimeout(n,25)},t)}()});Promise.race([new Promise(function(e,t){l=setTimeout(function(){t(Error(""+s+"ms timeout exceeded"))},s)}),m]).then(function(){clearTimeout(l),e(r)},t)}else y=function(){function c(){var t;(t=-1!=v&&-1!=h||-1!=v&&-1!=b||-1!=h&&-1!=b)&&((t=v!=h&&v!=b&&h!=b)||(null===u&&(u=!!(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent))&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=u&&(v==g&&h==g&&b==g||v==_&&h==_&&b==_||v==P&&h==P&&b==P)),t=!t),t&&(w.parentNode&&w.parentNode.removeChild(w),clearTimeout(l),e(r))}var p=new n(o),y=new n(o),m=new n(o),v=-1,h=-1,b=-1,g=-1,_=-1,P=-1,w=document.createElement("div");w.dir="ltr",i(p,f(r,"sans-serif")),i(y,f(r,"serif")),i(m,f(r,"monospace")),w.appendChild(p.a),w.appendChild(y.a),w.appendChild(m.a),document.body.appendChild(w),g=p.a.offsetWidth,_=y.a.offsetWidth,P=m.a.offsetWidth,function e(){if(new Date().getTime()-d>=s)w.parentNode&&w.parentNode.removeChild(w),t(Error(""+s+"ms timeout exceeded"));else{var n=document.hidden;(!0===n||void 0===n)&&(v=p.a.offsetWidth,h=y.a.offsetWidth,b=m.a.offsetWidth,c()),l=setTimeout(e,50)}}(),a(p,function(e){v=e,c()}),i(p,f(r,'"'+r.family+'",sans-serif')),a(y,function(e){h=e,c()}),i(y,f(r,'"'+r.family+'",serif')),a(m,function(e){b=e,c()}),i(m,f(r,'"'+r.family+'",monospace'))},document.body?y():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),y()}):document.attachEvent("onreadystatechange",function e(){("interactive"==document.readyState||"complete"==document.readyState)&&(document.detachEvent("onreadystatechange",e),y())})})},"object"===r(e)?e.exports=l:(window.FontFaceObserver=l,window.FontFaceObserver.prototype.load=l.prototype.load)}()},444314:function(e,t,n){"use strict";n.r(t),t.default=function(e,t){}}},function(e){e.O(0,[67513],function(){[97270,48937,41007,22555,43473].map(e.E)},5),e.O(0,[97270,8390,71827,99689,26067,17492,48327,16117,13254,17197,83521,87072,99961,90123,27405,58103,85547,48083,94699,79035,62817],function(){return e(e.s=430470)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/idea-pin/related-products-77fc900b593f243f.js.map