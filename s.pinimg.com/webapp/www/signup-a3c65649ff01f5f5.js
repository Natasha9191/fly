(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[25874],{479563:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/business/signup"]=function(){return r(518012).Z}},721289:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/business/signup/step[step]"]=function(){return r(355501).Z}},459327:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/linked/signup/step[step]"]=function(){return r(808295).Z}},374807:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/signup"]=function(){return r(413837).Z}},881644:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/signup/step[step]"]=function(){return r(943157).Z}},924196:function(e,t){"use strict";t.Z={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},904431:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}var o=function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t)}return e=[{key:"reportGoogleConversion",value:function(e,r,n,i){if(!i){if(void 0===window.gtag_report_conversion){t.queuedGoogleConversions.push({id:e,label:r,url:n});return}window.gtag_report_conversion(e,r,n)}}},{key:"reportFacebookConversion",value:function(e,r,n){if(void 0===window.fbq){t.queuedFacebookConversions.push({id:e,event:r,data:n});return}n?window.fbq("track",r,n):window.fbq("track",r)}},{key:"reportCustomFacebookConversion",value:function(e,r,n){if(void 0===window.fbq){t.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:r,data:n});return}n?window.fbq("trackCustom",r,n):window.fbq("trackCustom",r)}},{key:"reportPinterestConversion",value:function(e,r,n){if(void 0===window.pintrk){t.queuedPinterestConversions.push({id:e,event:r,data:n});return}n?window.pintrk("track",r,n):window.pintrk("track",r)}},{key:"reportTheTradeDeskConversion",value:function(e,t){var r=document.createElement("img");r.setAttribute("height","1"),r.setAttribute("width","1"),r.setAttribute("role","presentation"),r.style.borderStyle="none",r.style.position="absolute",r.setAttribute("src","//insight.adsrvr.org/track/conv/?adv=".concat(e,"&ct=0:").concat(t,"&fmt=3")),document.body.insertBefore(r,document.body.lastChild)}},{key:"reportLinkedInConversion",value:function(e,t){var r=document.createElement("img");r.setAttribute("width","1"),r.setAttribute("height","1"),r.setAttribute("role","presentation"),r.setAttribute("src","https://dc.ads.linkedin.com/collect/?pid=".concat(e)+"&conversionId=".concat(t,"&fmt=gif")),r.style.display="none",document.body.insertBefore(r,document.body.lastChild)}},{key:"reportDoubleClickConversion",value:function(e,t,r){var n=document.createElement("iframe");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("frameborder","0"),n.setAttribute("src","https://".concat(e,".fls.doubleclick.net/activityi;src=").concat(e,";\n    type=").concat(t,";cat=").concat(r,";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=").concat(1e13*Math.random(),"?")),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}},{key:"insertGoogleAdWordsTag",value:function(e,r){var n=document.createElement("script");r||(n.setAttribute("async",""),n.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=AW-".concat(e)),n.onload=function(){window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,r){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,r){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==r&&window.location.assign(r)}}),!1};for(var n=t.queuedGoogleConversions,i=0;i<n.length;i+=1){var o=n[i];o.id===e&&t.reportGoogleConversion(o.id,o.label,o.url,r)}}),document.body.insertBefore(n,document.body.firstChild)}},{key:"insertFacebookPixelTag",value:function(e){var r,n,i,o,a,s;r=window,n=document,i="script",r.fbq||(o=r.fbq=function(){"function"==typeof o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},r._fbq||(r._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],(a=n.createElement(i)).async=!0,a.src="//connect.facebook.net/en_US/fbevents.js",(s=n.getElementsByTagName(i)[0]).parentNode.insertBefore(a,s)),window.fbq("init",e),window.fbq("track","PageView");for(var u=t.queuedFacebookConversions,l=0;l<u.length;l+=1){var c=u[l];c.id===e&&(c.isCustomEvent?t.reportCustomFacebookConversion(e,c.event,c.data):t.reportFacebookConversion(e,c.event,c.data))}}},{key:"insertPinterestTag",value:function(e){(function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var t=window.pintrk;t.queue=[],t.version="3.0";var r=document.createElement("script");r.async=!0,r.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(r,n)}})("https://s.pinimg.com/ct/core.js"),window.pintrk("load",e),window.pintrk("page");for(var r=t.queuedPinterestConversions,n=0;n<r.length;n+=1){var i=r[n];i.id===e&&t.reportPinterestConversion(e,i.event,i.data)}}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();n(o,"queuedGoogleConversions",[]),n(o,"queuedFacebookConversions",[]),n(o,"queuedPinterestConversions",[]),t.Z=o},743847:function(e,t,r){"use strict";r.d(t,{Z:function(){return i},z:function(){return o}});var n=r(326216);function i(e){var t=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2===t.length){var r=t[1],i=r&&-1!==r.indexOf(".")?r.split("."):[];if(i.length>=2&&"gmail"===i[0]&&"com"!==i.slice(1).join("."))return!0;var o=(0,n.Z)(r,"gmail.com");if("g"===r.charAt(0)&&(1===o||2===o))return!0}return!1}function o(e,t){var r=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2!==r.length)return!1;var i=r[1],o=i&&-1!==i.indexOf(".")?i.split("."):[],a=o[0];if(a===t&&o.length>3)return!0;if(o.length>=2){var s=(0,n.Z)(a,t);return a.charAt(0)===t.charAt(0)&&(1===s||2===s)}return(2!==o.length||a!==t||2!==o[1].length&&"com"!==o[1])&&(o.length,!1)}},65189:function(e,t,r){"use strict";function n(e,t){var r=e.split("@")[0],n="";return(n=(n=r.includes(".")?r.replace("."," "):r.includes("_")?r.replace("_"," "):r).replace(/[0-9]/g,""),"GB"===t)?"User_"+n.split("").sort(function(){return .5-Math.random()}).join(""):n.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}r.d(t,{Z:function(){return n}})},326216:function(e,t,r){"use strict";function n(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var r,n,i=[];for(r=0;r<=t.length;r+=1)i[r]=[r];for(n=0;n<=e.length;n+=1)i[0][n]=n;for(r=1;r<=t.length;r+=1)for(n=1;n<=e.length;n+=1)t.charAt(r-1)===e.charAt(n-1)?i[r][n]=i[r-1][n-1]:i[r][n]=Math.min(i[r-1][n-1]+1,Math.min(i[r][n-1]+1,i[r-1][n]+1));return i[t.length][e.length]}r.d(t,{Z:function(){return n}})},248975:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){var i;return(i=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===n(i)?i:String(i))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=e.embedSrc,r=e.embedType,n=e.imagesUrls,i=e.preferredResolution,s=e.excludeOriginals;if(!t&&!r&&!n)return"";if("gif"===r)return t||"";if(!n)return"";if(i){var u="474x"===i&&n["474x"]||"236x"===i&&n["236x"]||n["736x"];if(u)return u}var l=Object.keys(n).reduce(function(e,t){try{var r=t.split("x")[0];if(Number.isNaN(Number(r)))return o(o({},e),{},a({},t,n[t]));return o(o({},e),{},a({},r,n[t]))}catch(t){return e}},{}),c=Object.keys(l);return s&&"orig"===c[c.length-1]&&c.pop(),l[c.pop()]||""}r.d(t,{Z:function(){return s}})},874103:function(e,t,r){"use strict";r.d(t,{OA:function(){return c},f$:function(){return _},rY:function(){return u},sk:function(){return h},wQ:function(){return p},xW:function(){return d},yc:function(){return l},ys:function(){return f}});var n=r(67347),i="onloadRecaptchaJsCallback",o="6Ldx7ZkUAAAAAF3SZ05DRL2Kdh911tCa3qFP0-0r",a="recaptcha-enterprise-src",s=function(e,t,r){(0,n.nP)("recaptcha_v3.request_token.attempt",{sampleRate:.1,tags:{action:r}}),void 0===window.grecaptcha||void 0===window.grecaptcha.enterprise?(t(Error("Error loading reCAPTCHA Enterprise")),(0,n.nP)("recaptcha_v3.request_token.js_loading_error",{sampleRate:.1,tags:{action:r}})):window.grecaptcha.enterprise.ready(function(){try{window.grecaptcha.enterprise.execute(o,{action:r}).then(e).catch(t)}catch(e){(0,n.nP)("recaptcha_v3.request_token.exec_error",{sampleRate:.1,tags:{action:r}}),t(e)}})},u=function(e,t,r){if(window[i]=function(){return s(e,t,r)},document.getElementById(a))s(e,t,r);else{var n=document.createElement("script");n.id=a,n.src="".concat("https://www.recaptcha.net/recaptcha/enterprise.js","?onload=").concat(i,"&render=").concat(o);var u=document.getElementsByTagName("script")[0];u.parentNode&&u.parentNode.insertBefore(n,u)}},l=105e3,c=8e3,p="mweb_auth",d="mweb_login",f="mweb_signup",_="web_auth",h="web_unauth"},807609:function(e,t,r){"use strict";var n=r(76911),i=function(){return function(){}},o=function(){return!1},a=function(){return!0};t.Z=function(){return(0,n.useSyncExternalStore)(i,o,a)}},350118:function(e,t,r){"use strict";r.d(t,{AF:function(){return u},H0:function(){return l},S6:function(){return c},_S:function(){return p}});var n=r(506979),i=r(425288),o=r(515198),a=(0,i.Z)("Pins"),s=a.Provider,u=a.useHook,l=a.useMaybeHook;function c(){var e=u();return function(t){return e[t]}}function p(e){var t=e.children,r=(0,n.useSelector)(function(e){return e.pins},n.shallowEqual);return(0,o.jsx)(s,{value:r,children:t})}},964229:function(e,t,r){"use strict";r.d(t,{X:function(){return c},m:function(){return l}});var n=r(76911),i=r(425288),o=r(515198);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=(0,i.Z)("Session"),u=s.Provider,l=s.useHook;function c(e){var t,r=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(void 0))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=i[0],l=i[1],c=(0,n.useMemo)(function(){return{unauthBoardInvite:s,setUnauthBoardInvite:l}},[s]);return(0,o.jsx)(u,{value:c,children:r})}},322251:function(e,t,r){"use strict";r.d(t,{J5:function(){return d},Zd:function(){return p},dD:function(){return f}});var n=r(339363),i=r(826067),o=r(67347);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(n.key),n)}}function l(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var c="adcredits",p=function(){if(!window)return!1;var e=(0,i.mB)(window.location.search).utm_medium;return!!e&&e===c},d=function(){function e(){s(this,e),this.key="paid.campaign.".concat(c)}return l(e,[{key:"markEligible",value:function(){(0,n.Nh)(this.key,"true"),(0,o.nP)("partner.paid.ad_credits.seen",{sampleRate:1,tags:{platform:"mobile"}})}},{key:"isEligible",value:function(){return"true"===(0,n.qn)(this.key)}},{key:"claim",value:function(){(0,n.Nh)(this.key,"false"),(0,o.nP)("partner.paid.ad_credits.claimed",{sampleRate:1,tags:{platform:"mobile"}})}}]),e}(),f=function(){function e(){s(this,e),this.key="paid.marketingoffer"}return l(e,[{key:"markEligible",value:function(e){(0,n.Nh)(this.key,e),(0,o.nP)("partner.paid.marketingoffer.".concat(e,".seen"),{sampleRate:1,tags:{platform:"mobile"}})}},{key:"isEligible",value:function(){return null!=(0,n.qn)(this.key)}},{key:"getOfferId",value:function(){return(0,n.qn)(this.key)}},{key:"claim",value:function(){if(this.isEligible()){var e=(0,n.qn)(this.key);(0,n.Nh)(this.key,null),(0,o.nP)("partner.paid.marketingoffer.".concat(e,".claimed"),{sampleRate:1,tags:{platform:"mobile"}})}}}]),e}()},252873:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{B:function(){return c},Z:function(){return l}});var i="gmail.com",o="yahoo.com",a="hotmail.com",s="icloud.com",u={AR:[i,a,"yahoo.com.ar"],AU:[i,a,"bigpond.com"],BR:[i,a,"yahoo.com.br"],CA:[i,a,o],DE:[i,"web.de","gmx.de"],ES:[i,a,"hotmail.es"],FR:[i,"hotmail.fr","orange.fr"],GB:[i,"hotmail.co.uk","hotmail.com"],IN:[i,o,"rediffmail.com"],IT:[i,"libero.it","hotmail.it"],JP:[i,"yahoo.co.jp","ezweb.ne.jp"],MX:[i,a,"outlook.com"],US:[i,a,o],KR:[i,"naver.com","hanmail.net","nate.com","daum.net"],ID:[i,o,"yahoo.co.id","ymail.com","rocketmail.com"],PH:[i,o,"yahoo.com.ph",s,"ymail.com"],TH:[i,a,"hotmail.co.th",o,s],VN:[i,o,"yahoo.com.vn",s,a],DEFAULT:[i,a,o]};function l(e){return e&&e.toUpperCase() in u?u[e.toUpperCase()]:u.DEFAULT}function c(e){var t,r=function(e){if(Array.isArray(e))return e}(t=e.split("@"))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=r[0],o=r[1],a="",s=i.length;return a=s>3?i.substring(0,3)+i.substring(3,s).replace(/\w/g,"*"):i.replace(/\w/g,"*"),"".concat(a,"@").concat(o)}},675003:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(908390),i=r(780280),o=r(807609),a=r(63552),s=r(252873),u=r(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d={emailSuggestionDropdown:{border:"1px solid rgb(181, 181, 181)",zIndex:1}};function f(e){var t=e.email,r=e.emailFieldElement,l=e.handleEmailSuggestionClick,c=e.showUsername,f=(0,i.B)().country,_=(0,s.Z)(f),h=function(e){if((0,o.Z)())return{width:void 0,top:void 0};if(!e)return{width:window.innerWidth-32,top:void 0};var t=e.getBoundingClientRect();return{width:t.width,top:t.y+t.height}}(r),m=h.width,g=h.top;return(0,u.jsx)(n.xu,{color:"default",dangerouslySetInlineStyle:{__style:p(p({},d.emailSuggestionDropdown),{},{top:g})},direction:"column",display:"flex",position:"absolute",width:m,children:_.map(function(e){var r=c?t.concat(e):e;return(0,u.jsx)(n.xu,{children:(0,u.jsx)("div",{role:"button",onMouseDown:function(){l(t.concat(e))},tabIndex:0,children:(0,u.jsx)(a.Z,{pressState:"none",children:(0,u.jsx)(n.xu,{paddingX:3,paddingY:2,children:(0,u.jsx)(n.xv,{children:r})})})})},r)})})}},699865:function(e,t,r){"use strict";r.d(t,{Z:function(){return tc}});var n=r(76911),i=r(506979),o=r(599689),a=r(908390),s=r(214494),u=r(56641),l=r(78714),c=r(204324),p=r(306775),d=r(904431),f=r(924196),_=r(112690),h=r(231486),m=r(226198),g=r(816068),b=r(186656),y=r(894738),v=r(121151),S=r(499128),E=r(898781),w=r(65189),P=r(542554),A=r(584595),T=r(432300),O=r(830269),x=r(773285),j=r(874103),I=r(780280),R=r(80816),D=r(867820),C=r(343341),L=r(826067),N=r(50286),k=r(348584),B=r(19121),U=r(323468),z=r(134906),Z=r(964229),F=r(322251),M=r(962482),V=r(529195),W=r(332215),H=r(574724),G=r(155949),q=r(275926),Y=r(122485),K=r(639952),Q=r(205992),X=r(90326),J=r(81636),$=r(626515),ee=r(515198);function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function er(e){var t,r=e.disabled,i=e.getFocusFieldRef,o=e.handleChangePassword,s=e.handlePasswordReset,u=e.isReducedHeader,l=e.password,c=e.setValidState,p=e.error,d=void 0===p?"":p,f=e.showPLPBanner,_=e.viewType,h=(0,E.ZP)(),m=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(d))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return et(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return et(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),g=m[0],b=m[1];(0,J.Q)({view_type:_,view_parameter:3207}),(0,n.useEffect)(function(){return b(d)},[d]),(0,n.useEffect)(function(){l?c(""):c("Missing password")},[l]);var y=h._('Looks like you\'re already on Pinterest', 'Heading indicating that the user is already registered on Pinterest', 'Heading indicating that the user is already registered on Pinterest');return(0,ee.jsxs)(a.xu,{marginTop:3,children:[(0,ee.jsx)(a.xu,{marginBottom:2,children:(0,ee.jsx)($.Z,{minHeight:60,children:(0,ee.jsx)(a.X6,{size:u||void 0!==f&&f?"500":"600",overflow:"normal",children:y})})}),(0,ee.jsx)(a.xu,{alignItems:"center",display:"flex",marginTop:2,children:(0,ee.jsx)(a.xu,{flex:"grow",children:(0,ee.jsx)(a.nv,{disabled:r,errorMessage:g,id:"password",onChange:function(e){o(e.value).then(function(){g&&b("")})},placeholder:h._('Enter your password', 'Enter password field label', 'Enter password field label'),ref:i,size:"lg",type:"password",value:l})})}),(0,ee.jsx)(a.xu,{marginTop:1,"data-test-id":"reset-password",children:(0,ee.jsx)(a.xv,{size:"100",inline:!0,weight:"bold",children:(0,ee.jsx)(a.rU,{href:"/password/reset",onClick:s,display:"inlineBlock",underline:"hover",children:h._('Forgot your password?', 'Link to the password reset page', 'Link to the password reset page')})})})]})}var en=r(934979),ei=r(526277),eo=r(743847),ea=r(349700),es=r(675003);function eu(e){return(eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function el(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ec(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?el(Object(r),!0).forEach(function(t){em(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):el(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ep(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ed(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eg(n.key),n)}}function ef(e,t){return(ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e_(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eh(e){return(eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function em(e,t,r){return(t=eg(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eg(e){var t=function(e,t){if("object"!==eu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eu(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eu(t)?t:String(t)}var eb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ef(e,t)}(o,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eh(o);if(t){var n=eh(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eu(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return e_(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return em(e_(e=i.call.apply(i,[this].concat(r))),"state",{email:e.props.email,emailFieldElement:null,error:"",shouldShowEmailSuggestions:!1}),em(e_(e),"onBlur",function(t){var r=t.value;e.props.emailError||e.validate(r,!e.props.checkExperiment("pcons_double_login_on_signup_page").anyEnabled)}),em(e_(e),"onChange",function(t){var r=t.value;if(e.props.setEmailError(null),e.props.handleChangeEmail(r).then(e.validate(r,!1)),e.state.shouldShowEmailSuggestions)e.setState({shouldShowEmailSuggestions:!1});else if(r.endsWith("@")){var n=e.emailTextFieldInput;e.setState({shouldShowEmailSuggestions:!0,emailFieldElement:n})}e.setState({email:r})}),em(e_(e),"showEmailDomainTypoError",function(t,r){var n,i=e.state.email,o=(function(e){if(Array.isArray(e))return e}(n=(i||"").includes("@")?i.split("@"):[])||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(n,2)||function(e,t){if(e){if("string"==typeof e)return ep(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ep(e,t)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];("gmail"===r?"gmail.com"===o:(o||"").startsWith("".concat(r,".")))||(e.setState({error:""}),e.props.setEmailError({type:"domainTypo",fixedEmail:"".concat(t,"@").concat(r,".com")}),e.props.setValidState("".concat(r," error")),(0,D.My)("unauth_mweb.signup.".concat(r,"_suggestion.shown")))}),em(e_(e),"validate",function(t,r){var n=e.props,i=n.setValidState,o=n.validateEmailExists,a=(t||"").includes("@")?t.split("@"):[];if((0,eo.Z)(t)){var s=a[0];o(t).then(function(t){t.resource_response.data?(e.setState({error:""}),e.props.setEmailError(null),i()):e.showEmailDomainTypoError(s,"gmail")}).catch(function(t){A.Cx.includes(t.api_error_code)?e.setState({error:t.message}):e.showEmailDomainTypoError(s,"gmail")});return}var u=!1;["yahoo","hotmail"].forEach(function(r){if((0,eo.z)(t,r)){u=!0;var n=a[0];o(t).then(function(t){t.resource_response.data?(e.setState({error:""}),e.props.setEmailError(null),i()):e.props.checkExperiment("mweb_yahoo_hotmail_autocorrection").anyEnabled&&e.showEmailDomainTypoError(n,r)}).catch(function(t){A.Cx.includes(t.api_error_code)?e.setState({error:t.message}):e.props.checkExperiment("mweb_yahoo_hotmail_autocorrection").anyEnabled&&e.showEmailDomainTypoError(n,r)})}}),u||e.props.setEmailError(null);var l=(0,z.a3)(t,[(0,z.aH)({message:e.props.i18n._('You missed a spot! Don\'t forget to add your email.', 'Email validation error', 'Email validation error')}),(0,z.GT)({message:e.props.i18n._('Not a valid email.', 'Email field validation error message', 'Email field validation error message')})]);l&&r&&(0,z.a3)(t,[(0,z.oR)({message:"Contains non-ASCII characters"})])&&(0,D.My)("mweb_unauth.signup.error.CLIENT_ERROR.nonasciiemail"),e.setState({error:r?l:""}),i(l)}),em(e_(e),"handleEmailSuggestionClick",function(t){(0,D.My)("mweb_unauth_email_suggestions.signup_page.tap"),e.onChange({value:t})}),em(e_(e),"getHeadingSize",function(){var t=e.props,r=t.showModernizedNuxUI,n=t.isReducedHeader,i=t.showPLPBanner;return r?"400":n||i?"500":"600"}),e}return r=[{key:"componentDidMount",value:function(){this.validate(this.props.email,!1)}},{key:"render",value:function(){var e=this,t=this.props,r=t.i18n,n=t.disabled,i=t.getFocusFieldRef,o=t.hideLabel,s=t.showModernizedNuxUI,u=t.showPLPBanner,l=t.emailError,c=this.state,p=c.error,d=c.email;return(0,ee.jsxs)(a.xu,{marginTop:3,children:[!o&&(0,ee.jsx)(a.__,{htmlFor:"email",children:(0,ee.jsx)(a.xu,{marginBottom:u?3:10,children:(0,ee.jsx)($.Z,{minHeight:60,center:s,children:(0,ee.jsx)(a.X6,{size:this.getHeadingSize(),overflow:"normal",accessibilityLevel:1,children:r._('What\'s your email?', 'Sign up page field label', 'Sign up page field label')})})})}),(0,ee.jsxs)(a.xu,{marginTop:2,children:[(0,ee.jsx)(a.nv,{autoComplete:this.state.shouldShowEmailSuggestions?"off":"on",disabled:n,errorMessage:this.state.shouldShowEmailSuggestions?"":p,id:"email",onBlur:this.onBlur,onChange:this.onChange,placeholder:s?r._('Enter your email address', 'signup.email_step.email_input.placeholder', 'placeholder for email input'):r._('Email address', 'Field label', 'Field label'),ref:function(t){e.emailTextFieldInput=t,i(t)},size:"lg",type:"email",value:d}),!!l&&(0,ee.jsx)(a.xu,{marginTop:1,"data-test-id":"invalid-email-container",children:"domainTypo"===l.type?(0,ee.jsx)(a.iP,{onTap:function(){e.onChange({value:l.fixedEmail}),e.props.setEmailError(null),e.props.setValidState(),(0,D.My)("unauth_mweb.signup.gmail_suggestion.click")},children:(0,ee.jsx)(a.xv,{color:"error",children:(0,ea.nk)(r._('Did you mean {{ emailElement }}?', 'Email suggestion when user tries to sign up with a email account that has a typo (like abc@hotmail.con)', 'Email suggestion when user tries to sign up with a email account that has a typo (like abc@hotmail.con)'),{emailElement:(0,ee.jsx)(a.xv,{color:"error",inline:!0,weight:"bold",children:l.fixedEmail})})})}):(0,ee.jsx)(a.xv,{color:"error",children:r._('Sorry, this doesn\'t look like a valid email', 'register.email.error.message', 'Email error by backend validation')})}),this.state.shouldShowEmailSuggestions?(0,ee.jsx)(es.Z,{email:this.state.email,emailFieldElement:this.state.emailFieldElement,handleEmailSuggestionClick:this.handleEmailSuggestionClick,showUsername:!0}):null]})]})}}],ed(o.prototype,r),n&&ed(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.PureComponent);function ey(e){var t=(0,E.ZP)(),r=(0,i.useDispatch)(),n=(0,x.F)().checkExperiment;(0,J.Q)({view_type:e.viewType,view_parameter:3146});var o=e.showModernizedNuxUI;return(0,ee.jsx)(eb,ec(ec({validateEmailExists:function(e){return r((0,X.OF)(e))}},e),{},{i18n:t,checkExperiment:n,showModernizedNuxUI:o}))}var ev=r(825100),eS=r(587880);function eE(e){return(eE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(t){ej(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eI(n.key),n)}}function eT(e,t){return(eT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eO(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ex(e){return(ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ej(e,t,r){return(t=eI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eI(e){var t=function(e,t){if("object"!==eE(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eE(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eE(t)?t:String(t)}var eR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eT(e,t)}(o,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ex(o);if(t){var n=ex(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eE(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eO(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return ej(eO(e=i.call.apply(i,[this].concat(r))),"state",{error:""}),ej(eO(e),"onBlur",function(t){var r=t.value;e.validate(r,!0)}),ej(eO(e),"onChange",function(t){var r=t.value;e.props.handleChangeName(r).then(e.validate(r,!1))}),ej(eO(e),"validate",function(t,r){var n=(0,z.a3)(t,[(0,z.aH)({message:e.props.i18n._('Required', 'Required field validation error message', 'Required field validation error message')})]);e.setState({error:r?n:""}),e.props.setValidState(n)}),e}return r=[{key:"componentDidMount",value:function(){this.validate(this.props.name,!1)}},{key:"render",value:function(){var e=this.props,t=e.isBusiness,r=e.disabled,n=e.getFocusFieldRef,i=e.name,o=this.state.error;return(0,ee.jsxs)(a.xu,{marginTop:3,children:[(0,ee.jsx)(a.__,{htmlFor:"name",children:(0,ee.jsx)(a.X6,{size:"500",overflow:"normal",accessibilityLevel:1,children:t?this.props.i18n._('What\'s your business name?', 'Sign up page field label', 'Sign up page field label'):this.props.i18n._('What\'s your name?', 'Sign up page field label', 'Sign up page field label')})}),(0,ee.jsx)(a.xu,{marginTop:2,"data-test-id":"name-field",children:(0,ee.jsx)(a.nv,{disabled:r,errorMessage:o,id:"name",onBlur:this.onBlur,onChange:this.onChange,placeholder:t?this.props.i18n._('Business name', 'Textfield placeholder', 'Textfield placeholder'):this.props.i18n._('Full name', 'Textfield placeholder', 'Textfield placeholder'),ref:n,size:"lg",type:"text",value:i})})]})}}],eA(o.prototype,r),n&&eA(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.PureComponent);function eD(e){var t=(0,E.ZP)();return(0,J.Q)({view_type:e.viewType,view_parameter:3148}),(0,ee.jsx)(eR,eP(eP({},e),{},{i18n:t}))}function eC(e){return(eC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eL(Object(r),!0).forEach(function(t){eZ(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ek(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eF(n.key),n)}}function eB(e,t){return(eB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eU(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ez(e){return(ez=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eZ(e,t,r){return(t=eF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eF(e){var t=function(e,t){if("object"!==eC(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eC(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eC(t)?t:String(t)}var eM=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eB(e,t)}(o,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ez(o);if(t){var n=ez(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eC(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eU(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eZ(eU(e=i.call.apply(i,[this].concat(r))),"state",{error:""}),eZ(eU(e),"onBlur",function(t){var r=t.value;e.validate(r,!0)}),eZ(eU(e),"onChange",function(t){var r=t.value;e.props.handleChangePassword(r).then(e.validate(r,!0))}),eZ(eU(e),"validate",function(t,r){var n=(0,z.oR)({message:e.props.i18n._('Use only a mix of letters, numbers and special characters (for example: ?, !, $).', 'PasswordStep.password.onlyASCII', 'Only ASCII characters are allowed for password')}),i=(0,z.a3)(t,[(0,U.NewPassword)({blackPassStr:e.props.i18n._('Please try using a stronger password', 'Blacklisted password validation error', 'Blacklisted password validation error'),samePasswordStr:e.props.i18n._('Password and username can\'t match', 'Matching password validation error', 'Matching password validation error'),shortPassStr:e.props.i18n._('Oops! Your password needs 6+ characters.', 'Too short password validation error', 'Too short password validation error')}),n]);e.setState({error:r?i:""}),e.props.setValidState(i),(0,z.a3)(t,[n])&&r&&(0,D.My)("mweb_unauth.signup.error.CLIENT_ERROR.nonasciipwd")}),eZ(eU(e),"getHeadingSize",function(){var t=e.props,r=t.showModernizedNuxUI,n=t.isReducedHeader,i=t.showPLPBanner;return r?"400":n||i?"500":"600"}),e}return r=[{key:"componentDidMount",value:function(){this.validate(this.props.password,!1)}},{key:"render",value:function(){var e=this.props,t=e.i18n,r=e.disabled,n=e.getFocusFieldRef,i=e.password,o=e.showModernizedNuxUI,s=e.showPLPBanner,u=this.state.error;return(0,ee.jsxs)(a.xu,{marginTop:3,children:[(0,ee.jsx)(a.__,{htmlFor:"password",children:(0,ee.jsx)(a.xu,{marginBottom:s?3:10,children:(0,ee.jsx)($.Z,{minHeight:60,center:o,children:(0,ee.jsx)(a.X6,{size:this.getHeadingSize(),overflow:"normal",accessibilityLevel:1,children:t._('Create a password', 'Sign up page field label', 'Sign up page field label')})})})}),(0,ee.jsx)(a.xu,{marginTop:2,position:"relative","data-test-id":"password-field",children:(0,ee.jsx)(a.nv,{disabled:r,errorMessage:u,id:"password",autoComplete:"new-password",onBlur:this.onBlur,onChange:this.onChange,helperText:t._('Password with 6 or more characters', 'Placeholder text on the password input field on the mobile Password step page', 'Placeholder text on the password input field on the mobile Password step page'),placeholder:t._('Enter your password', 'signup.email_step.password_input.placeholder', 'placeholder for password input'),ref:n,size:"lg",type:"password",value:i})})]})}}],ek(o.prototype,r),n&&ek(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.PureComponent);function eV(e){var t=(0,E.ZP)(),r=(0,_.Z)(),n=e.showModernizedNuxUI;return(0,J.Q)({view_type:e.viewType,view_parameter:3147}),(0,ee.jsx)(eM,eN(eN({},e),{},{i18n:t,logContextEvent:r,showModernizedNuxUI:n}))}var eW=r(595492),eH=r(28920),eG=r(112324),eq=r(260093),eY=r(806440),eK=r(67347),eQ=["passwordValidationError"];function eX(e){return(eX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eJ(e){return function(e){if(Array.isArray(e))return e0(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||e$(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e$(e,t){if(e){if("string"==typeof e)return e0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e0(e,t)}}function e0(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e1(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){r(e);return}s.done?t(u):Promise.resolve(u).then(n,i)}function e3(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){e1(o,n,i,a,s,"next",e)}function s(e){e1(o,n,i,a,s,"throw",e)}a(void 0)})}}function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e8(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(t){e7(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,te(n.key),n)}}function e4(e,t){return(e4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e9(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e5(e){return(e5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e7(e,t,r){return(t=te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function te(e){var t=function(e,t){if("object"!==eX(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eX(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eX(t)?t:String(t)}var tt={EMAIL_STEP:1,PASSWORD_STEP:2,NAME_STEP:3,BIRTHDAY_STEP:4,ALREADY_HAS_PASSWORD_STEP:5,WEBSITE_STEP:6,INTENT_STEP:7,SALES_CONTACT_STEP:8,BUSINESS_TYPE_STEP:9},tr=[tt.EMAIL_STEP,tt.PASSWORD_STEP,tt.BIRTHDAY_STEP],tn=[tt.EMAIL_STEP,tt.PASSWORD_STEP,tt.BIRTHDAY_STEP],ti=[tt.EMAIL_STEP,tt.PASSWORD_STEP,tt.NAME_STEP,tt.BUSINESS_TYPE_STEP,tt.WEBSITE_STEP,tt.INTENT_STEP,tt.BIRTHDAY_STEP],to=[tt.NAME_STEP,tt.BUSINESS_TYPE_STEP,tt.WEBSITE_STEP,tt.INTENT_STEP],ta=[tt.PASSWORD_STEP,tt.NAME_STEP,tt.BIRTHDAY_STEP],ts=new F.J5,tu=new F.dD,tl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e4(e,t)}(o,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=e5(o);if(t){var n=e5(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eX(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return e9(e)}(this,e)});function o(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),e7(e9(r=i.call(this,e)),"handleBack",function(e){return r.setState({stepToRender:e})}),e7(e9(r),"getStepFromMatchParams",function(e){return parseInt(e.match.params.step||1,10)||0}),e7(e9(r),"getSteps",function(){var e=r.props,t=e.isBusiness,n=e.isGroupBoardSignup,i=e.isLBA;return n?tr:i?to:t?ti:tn}),e7(e9(r),"setIsExistingUser",function(e,t){e?r.setState({isExistingUser:e,steps:[tt.EMAIL_STEP,tt.ALREADY_HAS_PASSWORD_STEP]},t):r.setState({isExistingUser:e,steps:r.getSteps()},t)}),e7(e9(r),"setValidState",function(e){r.setState({isValid:!e})}),e7(e9(r),"getCurrentActionName",function(){switch(r.state.stepToRender){case tt.EMAIL_STEP:return"email";case tt.PASSWORD_STEP:case tt.ALREADY_HAS_PASSWORD_STEP:return"password";case tt.NAME_STEP:return"name";case tt.BIRTHDAY_STEP:return"birthday";case tt.WEBSITE_STEP:return"website";case tt.INTENT_STEP:return"intent";case tt.SALES_CONTACT_STEP:return"sales_contact";case tt.BUSINESS_TYPE_STEP:return"business_type_step";default:return"undefined"}}),e7(e9(r),"getNextButtonText",function(){var e=r.state,t=e.steps,n=e.stepToRender,i=r.props.isGroupBoardSignup,o=r.props.i18n._('Accept invite', 'Accept the invite and move through the signup/login process', 'Accept the invite and move through the signup/login process');return n===tt.ALREADY_HAS_PASSWORD_STEP?i?o:r.props.i18n._('Log in', 'Button to login for existing user', 'Button to login for existing user'):t[t.length-1]===n?i?o:r.props.i18n._('Done', 'Go to next step account signup', 'Go to next step account signup'):null}),e7(e9(r),"getViewParameterType",function(){switch(r.state.stepToRender){case tt.EMAIL_STEP:return 3146;case tt.PASSWORD_STEP:return 3147;case tt.NAME_STEP:return 3148;case tt.ALREADY_HAS_PASSWORD_STEP:return 3207;case tt.BIRTHDAY_STEP:return 3737;case tt.WEBSITE_STEP:return 3376;case tt.INTENT_STEP:return 3377;case tt.SALES_CONTACT_STEP:return 3378;case tt.BUSINESS_TYPE_STEP:return 3406;default:return}}),e7(e9(r),"getInferredUserInfo",function(){return{connected_to_facebook:!1,connected_to_google:!1,email:r.state.email,first_name:(0,w.Z)(r.state.email,r.props.country),has_password:!1,large_image_url:"",medium_image_url:"",small_image_url:"",xlarge_image_url:""}}),e7(e9(r),"navigateToStep",function(e){r.setState(function(t){return{stepToRender:t.steps[e-1],canEditCurrentTextField:!0}},function(){var t,n,i="/signup/step".concat(e,"/"),o=r.props,a=o.history,s=o.isBusiness,u=o.isLBA,l=o.location,c=o.isGroupBoardSignup,p=r.state,d=(p.passwordValidationError,function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(p,eQ)),f=null===(t=l.state)||void 0===t?void 0:t.attributionLabel,_=(0,L.mB)(l.search).next||(null===(n=l.state)||void 0===n?void 0:n.next);s?i="/business/signup/step".concat(e,"/"):u&&(i="/linked/signup/step".concat(e,"/")),a.push({pathname:i,state:c?e8(e8(e8({},l.state),d),{},{attributionLabel:f,next:_}):e8(e8(e8({},l.state),d),{},{attributionLabel:f})})})}),e7(e9(r),"shouldSkipIntentStep",function(e){var t=r.state,n=t.steps,i=t.businessType;return n.length>e+1&&n[e+1]===tt.INTENT_STEP&&"influencer_public_figure_or_celebrity"===i}),e7(e9(r),"nextSignupStep",e3(regeneratorRuntime.mark(function e(){var t,n,i,o,a,s,u,l,c,p,d,f,_,g,y,v,E,P,T,O,x,j,I,R;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(n=r.props).history,o=n.isLimitedLoginUser,a=n.location,s=n.loggedOutUserInfo,u=n.showToast,l=n.validateEmailExists,c=n.isGroupBoardSignup,p=n.isLBA,f=(d=r.state).email,_=d.intent,g=d.steps,y=d.stepToRender,v=r.getStepFromMatchParams(r.props),E=null===(t=a.state)||void 0===t?void 0:t.attributionLabel,"1"!==h.U2(m.It)){e.next=8;break}return r.setState({isLoading:!1}),u(function(e){var t=e.hideToast;return(0,ee.jsx)(S.ZP,{duration:3e3,type:"error",text:r.props.i18n._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'Signup.AgeStep.underageError', 'Underage error during signup'),onHide:t})}),e.abrupt("return");case 8:if(r.shouldSkipIntentStep(v)&&(P=[].concat(eJ(g.slice(0,v+1)),eJ(g.slice(v+2))),r.setState({steps:P})),y!==tt.EMAIL_STEP){e.next=13;break}return l(r.state.email).then(function(){var e=e3(regeneratorRuntime.mark(function e(t){var n,u,l,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t.resource_response.data){e.next=8;break}if(r.setState({isLoading:!1}),!(!s&&!o&&!c)){e.next=6;break}return i.replace({pathname:a.pathname,state:e8(e8({},a.state),{},{email:f,attributionLabel:E})}),i.push({pathname:"/login",state:{switch_account:null===(n=a.state)||void 0===n?void 0:n.switch_account,secondary_account:null===(u=a.state)||void 0===u?void 0:u.secondary_account,next:null===(l=a.state)||void 0===l?void 0:l.next,userInfo:r.getInferredUserInfo(),attributionLabel:E}}),e.abrupt("return");case 6:return r.setIsExistingUser(!0,function(){return r.navigateToStep(v+1)}),e.abrupt("return");case 8:return e.next=10,(0,b.Z)({url:"/v3/email/validation/",data:{email:r.state.email}});case 10:d=(p=(e.sent.resource_response||{}).data)&&p.is_valid,r.setState({isLoading:!1}),d?(r.setState(function(e){var t=e.email;return{fullName:r.props.isBusiness?"":(0,w.Z)(t,r.props.country)}}),r.navigateToStep(v+1)):r.setState({canEditCurrentTextField:!0,isValid:!1,emailError:{type:"invalid"}});case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){r.setState({isLoading:!1}),A.Cx.includes(e.api_error_code)&&null!=e&&e.message&&u(function(t){var r=t.hideToast;return(0,ee.jsx)(S.ZP,{duration:3e3,type:"error",text:e.message,onHide:r})})}),r.setState({isLoading:!0}),e.abrupt("return");case 13:if(y!==tt.ALREADY_HAS_PASSWORD_STEP){e.next=16;break}return r.loginUser(),e.abrupt("return");case 16:if(!(y===tt.INTENT_STEP&&r.isCountryUS())){e.next=44;break}if(T=(0,eS.x)(r.props.i18n),O=!1,e.t0=_===T.NOT_SURE.value,!e.t0){e.next=24;break}return e.next=23,r.isLeadScoringEligible("mweb_not_sure_intent");case 23:e.t0=e.sent;case 24:if(!e.t0){e.next=26;break}O=!0;case 26:if(e.t1=_===T.YES.value,!e.t1){e.next=31;break}return e.next=30,r.isLeadScoringEligible("mweb_yes_intent");case 30:e.t1=e.sent;case 31:if(x=e.t1,!(-1===g.indexOf(tt.SALES_CONTACT_STEP)&&(O||x))){e.next=39;break}return(j=ti).push(tt.SALES_CONTACT_STEP),r.setState({steps:j},function(){r.navigateToStep(v+1)}),e.abrupt("return");case 39:if(!(_!==T.YES.value&&-1!==g.indexOf(tt.SALES_CONTACT_STEP))){e.next=44;break}return(I=ti.slice()).pop(),r.setState({steps:I},function(){r.registerUser()}),e.abrupt("return");case 44:R=g[g.length-1],y===R?p?r.updateLBA():r.registerUser():r.navigateToStep(v+1);case 46:case"end":return e.stop()}},e)}))),e7(e9(r),"handleChangeEmail",function(e){return new Promise(function(t){return r.setState({email:e},t)})}),e7(e9(r),"handleChangePassword",function(e){return new Promise(function(t){return r.setState({password:e},t)})}),e7(e9(r),"handleChangeFullName",function(e){return new Promise(function(t){return r.setState({fullName:e},t)})}),e7(e9(r),"handleChangeWebsite",function(e){return new Promise(function(t){return r.setState({website:e},t)})}),e7(e9(r),"handleChangeIntent",function(e){return new Promise(function(t){return r.setState({intent:e},t)})}),e7(e9(r),"handleChangePhone",function(e){return new Promise(function(t){return r.setState({phone:e},t)})}),e7(e9(r),"handleChangeSalesName",function(e){return new Promise(function(t){return r.setState({salesName:e},t)})}),e7(e9(r),"handleChangeBusinessType",function(e){return new Promise(function(t){return r.setState({businessType:e},t)})}),e7(e9(r),"handleChangeBirthday",function(e){return new Promise(function(t){return r.setState({birthdayString:e},t)})}),e7(e9(r),"loginUser",function(){var e=r.props,t=e.history,n=e.isAuthenticated,i=e.isLimitedLoginUser,o=e.location,a=e.login,s=e.isGroupBoardSignup,u=r.state,l=u.email,c=u.password,p="";if(s){var d=o&&o.state&&o.state.next;p=d?"".concat(d,"&").concat((0,L.XP)({accept_invite:!0,seamless:!0})):""}a({username_or_email:l,password:c},t,o.state?p||o.state.next:"",void 0,{event_type:7534,view_type:10,view_parameter:3203,aux_data:e8(e8({},n?{login_state:i?T.Z.LIMITED:T.Z.DEFAULT}:{}),{},{signup_login_method:O.Z.EMAIL})}).catch(function(e){r.setState({isLoading:!1,passwordValidationError:e.message,canEditCurrentTextField:!0})}),r.setState({isLoading:!0,passwordValidationError:""})}),e7(e9(r),"registerUser",function(){var e,t,n,i=r.state,o=i.birthdayString,a=i.email,s=i.fullName,c=i.password,p=i.steps,_=i.gender,b=i.customGender,y=i.website,v=i.intent,E=i.phone,w=i.salesName,P=i.businessType,x=i.recaptchaV3Token,I=r.props,R=I.i18n,C=I.isAuthenticated,N=I.isLimitedLoginUser,k=I.isBusiness,B=I.register,U=I.showToast,z=I.setNumSignupSteps,Z=I.location,F=I.isGroupBoardSignup,M=I.navigateAfterLoginStatusChange,V=I.pixelBlocked,W=I.thirdPartyMarketingTrackingEnabled,H=I.saveWebsite,G=I.saveBusinessType,q=I.saveIntent,Y=I.isRedirectToNextParamAfterSignup,K=I.isAppFactoryOAuth,Q=I.userId,X=o?(0,g.Z)(o):void 0;if(void 0===X){r.setState({canEditCurrentTextField:!0}),U(function(e){var t=e.hideToast;return(0,ee.jsx)(S.ZP,{duration:3e3,type:"error",text:R._('We need to know your age to provide you this service.', 'userRegistration.missingAgeError', 'Error message shown when age is required and it is missing'),onHide:t})});return}if(k)n=s;else{var J,$=function(e){if(Array.isArray(e))return e}(J=s.trim().split(" "))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw i}}return s}}(J,2)||e$(J,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();e=$[0],t=$[1]}z(p.length+1);var et="unspecified"===_?{custom_gender:b}:{},er=F?e8({gender:_},et):{};r.setState({isLoading:!0}),(0,D.Rp)({event:"signup_api_call_start",provider:"email"}),B(e8({type:"email",business_name:n,birthday:X,email:a,first_name:e,last_name:t,password:c,has_ads_credits:ts.isEligible(),recaptchaV3Token:x},er),{signupAttemptContextEvent:{event_type:7537,view_type:10,view_parameter:3203,aux_data:e8(e8({},C?{login_state:N?T.Z.LIMITED:T.Z.DEFAULT}:{}),{},{signup_login_method:O.Z.EMAIL})}}).then(function(){var e,t;if((0,D.NC)("signup_via_email_signup_page"),(0,D.Rp)({event:"signup_api_call_success",provider:"email"}),k&&((0,eK.nP)("mweb_business_create_unauth_register_business",{sampleRate:1}),q(parseInt(v,10),function(){return(0,eK.nP)("mweb_business_create_unauth_save_intent_success",{sampleRate:1})},function(){return(0,eK.nP)("mweb_business_create_unauth_save_intent_fail",{sampleRate:1})},Q),H(y,function(){return(0,eK.nP)("mweb_business_create_unauth_save_website_success",{sampleRate:1})},function(){return(0,eK.nP)("mweb_business_create_unauth_save_website_fail",{sampleRate:1})},Q),G(P,function(){return(0,eK.nP)("mweb_business_create_unauth_save_business_type_success",{sampleRate:1})},function(){return(0,eK.nP)("mweb_business_create_unauth_save_business_type_fail",{sampleRate:1})},Q),w&&E&&(r.setState({isSubmitting:!0}),r.reportToPropel()),W&&(d.Z.reportFacebookConversion(f.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/create"}),d.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),d.Z.reportGoogleConversion(f.Z.GOOGLE_ADWORDS_ID,f.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE,void 0,V),d.Z.reportLinkedInConversion(f.Z.LINKEDIN_PARTNER_ID,f.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT))),K&&null!==(e=Z.state)&&void 0!==e&&e.next)(0,u.Z)(Z.state.next);else if(tu.isEligible()){var n=tu.getOfferId();M("/business/offer/".concat(n))}else if(r._shouldShowFirstAdUpsellPage())(0,l.Z)("/business/install_app");else if(F){var i={},o=Z&&Z.state&&Z.state.next;i.pathname=o||"/",i.search=o?"?".concat(o[1],"&").concat((0,L.XP)({accept_invite:!0,seamless:!0})):"",r.props.setGenderStepComplete(),M(i.pathname)}else Y&&null!==(t=Z.state)&&void 0!==t&&t.next?M((0,L.Jx)(Z.state.next)):M("/")}).catch(function(e){r.setState({isLoading:!1,canEditCurrentTextField:!0});var t=[A.tz,A.dj,A.tL,A.NF];if((0,D.Rp)({event:"signup_api_call_failure",provider:"email"}),t.includes(e.api_error_code)){if(e.api_error_code===A.tz){h.t8(m.It,"1",(0,h.kZ)(m.It)),(0,D.My)("email_register_step_show_underage_confirmation"),r.setState({isUnderageModalOpen:!0});return}if(e.api_error_code===A.dj){r.setState({birthdayErrorMessage:e.message});return}U(function(t){var r=t.hideToast;return(0,ee.jsx)(S.ZP,{duration:3e3,type:"error",text:e.message,onHide:r})})}else U(function(t){var n=t.hideToast;return(0,ee.jsx)(S.ZP,{duration:3e3,type:"error",text:e.api_error_code&&e.message?e.message:r.props.i18n._('Oops! Something went wrong\u2026 Tap Done to try again.', 'Error during signup', 'Error during signup'),onHide:n})});(0,j.rY)(function(e){return r.setState({recaptchaV3Token:e})},function(){},j.ys)})}),e7(e9(r),"reportToPropel",function(){var e=r.state,t=e.email,n=e.fullName,i=e.website,o=e.phone,a=e.salesName,u=e.intent,l=r.props.country,c=a.trim().split(" ").filter(function(e){return!!e}),p=c[0],d=c.length>1?c.slice(1).join(" "):"",f="self_serve_mweb_create";u===(0,eS.x)(r.props.i18n).NOT_SURE.value&&(f+="_not_sure");var _={lead_email:t,lead_first_name:p,lead_last_name:d,lead_website:i,lead_phone:o,country:l,lead_source_detail:f,lead_source_type:"business_create",lead_company:n};(0,eK.nP)("mweb_business_create_unauth_report_to_propel_request",{sampleRate:1}),s.Z.create("PropelFormResource",_).callCreate({showError:!1}).then(function(){return(0,eK.nP)("mweb_business_create_unauth_report_to_propel_success",{sampleRate:1})}).catch(function(){return(0,eK.nP)("mweb_business_create_unauth_report_to_propel_fail",{sampleRate:1})})}),e7(e9(r),"isLeadScoringEligible",(t=e3(regeneratorRuntime.mark(function e(t){var n,i,o,a,s,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=(n=r.state).website,o=n.businessType,a=n.intent,s={key:t,email:n.email,business_name:n.fullName,is_create:!0,locale:r.props.locale,account_type:o,advertising_intent:parseInt(a,10),website:i},e.next=5,(0,b.Z)({url:"/v3/business/lead/score/above_threshold/",data:s});case 5:if("success"!==(u=e.sent).resource_response.status){e.next=11;break}return l=u.resource_response.data,e.abrupt("return",!0===l);case 11:return(0,eK.nP)("mweb_business_create_unauth_lead_score_fail",{sampleRate:1}),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),e7(e9(r),"handleSkipStep",function(){var e=r.state,t=e.isValid,n=e.stepToRender;(0,D.My)("mweb.signup.step.".concat(r.getCurrentActionName(),".skip")),r.props.logContextEvent({element:1150,event_type:102,view_type:10,view_parameter:r.getViewParameterType()}),n!==tt.WEBSITE_STEP||t||r.setState({website:""}),r.nextSignupStep()}),e7(e9(r),"handlePasswordReset",function(){var e=r.props,t=e.history,n=e.logContextEvent,i=r.state.email;n({view_type:10,view_parameter:r.getViewParameterType(),element:10881,event_type:102}),n({event_type:51,view_type:10,view_parameter:r.getViewParameterType()}),(0,b.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:i}}).then(function(){t.replace({pathname:"/password/reset/sent/",state:{destinationEmail:i}}),r.setState({isLoading:!1})}),r.setState({isLoading:!0})}),e7(e9(r),"nextSignupStepWithValidation",function(e){e&&e.preventDefault(),r.setState({canEditCurrentTextField:!1},function(){if(r.validate()){var e;switch((0,D.My)("mweb.signup.step.".concat(r.getCurrentActionName(),".completed")),r.getCurrentActionName()){case"email":e="submit_email";break;case"password":e="submit_password";break;case"birthday":e="submit_birthday"}e&&(0,D.Rp)({event:e,provider:"email"}),r.nextSignupStep()}else(0,D.My)("mweb.signup.step.".concat(r.getCurrentActionName(),".error")),r.setState({canEditCurrentTextField:!0})})}),e7(e9(r),"trackStepViewed",function(){(0,D.My)("mweb.signup.step.".concat(r.getCurrentActionName(),".viewed"))}),e7(e9(r),"validate",function(){var e=r.state,t=e.email,n=e.fullName,i=e.password,o=e.stepToRender,a=e.website,s=e.intent,u=e.phone,l=e.salesName,c=e.businessType;switch(o){case tt.EMAIL_STEP:return!(0,z.a3)(t,[r.requiredValidator(),(0,z.GT)({message:r.props.i18n._('Not a valid email.', 'Email field validation error message', 'Email field validation error message')})]);case tt.PASSWORD_STEP:return!(0,z.a3)(i,[(0,U.NewPassword)({blackPassStr:r.props.i18n._('Please try using a stronger password', 'Blacklisted password validation error', 'Blacklisted password validation error'),samePasswordStr:r.props.i18n._('Password and username can\'t match', 'Matching password validation error', 'Matching password validation error'),shortPassStr:r.props.i18n._('Oops! Your password needs 6+ characters.', 'Too short password validation error', 'Too short password validation error')})]);case tt.ALREADY_HAS_PASSWORD_STEP:return!(0,z.a3)(i,[r.requiredValidator()]);case tt.NAME_STEP:return!(0,z.a3)(n,[r.requiredValidator()]);case tt.BIRTHDAY_STEP:return r.state.stepToRender===tt.BIRTHDAY_STEP||!(0,z.a3)(n,[r.requiredValidator(),(0,z.Gy)({max:30,maxErrorString:r.props.i18n._('Hmm, that\'s a few characters too long. Try a nickname instead?', 'Name exceeds 30 character maximum error', 'Name exceeds 30 character maximum error')})]);case tt.WEBSITE_STEP:return!(0,z.a3)(a,[(0,z.Jx)({message:r.props.i18n._('Please use a valid URL', 'Invalid website validation error', 'Invalid website validation error')})]);case tt.INTENT_STEP:return!(0,z.a3)(s,[r.requiredValidator(),r.numberValidator()]);case tt.SALES_CONTACT_STEP:return!(0,z.a3)(u,[(0,z.Bh)({message:r.props.i18n._('Please use a valid phone number', 'Invalid phone number validation error', 'Invalid phone number validation error')})])&&!(0,z.a3)(l,[r.requiredValidator()]);case tt.BUSINESS_TYPE_STEP:return!(0,z.a3)(c,[r.requiredValidator()]);default:return!0}}),e7(e9(r),"numberValidator",function(){return(0,z.qA)({message:r.props.i18n._('Not a number.', 'Number field validation error message', 'Number field validation error message')})}),e7(e9(r),"requiredValidator",function(){return(0,z.aH)({message:r.props.i18n._('Required', 'Required field validation error message', 'Required field validation error message')})}),e7(e9(r),"_shouldShowFirstAdUpsellPage",function(){var e=r.props,t=e.country,n=e.isBusiness,i=e.isLBA;if(n||i){if(ts.isEligible())return ts.claim(),!0;if((0,p.Fl)(t))return!0}return!1}),e7(e9(r),"isStepSkipable",function(){var e=r.state.stepToRender;return -1!==[tt.WEBSITE_STEP,tt.SALES_CONTACT_STEP].indexOf(e)});var t,r,n={},a=e.isBusiness,c=e.isLBA,_=e.location;return c&&(n=e8({isExistingUser:!0,showLoginButtons:!1,stepToRender:tt.NAME_STEP},_.state)),_.state&&(n=_.state.isSignUpFromLoginError?e8({fullName:a||c?"":(0,w.Z)(_.state.email,e.country),steps:a||c?[tt.NAME_STEP]:[tt.BIRTHDAY_STEP],stepToRender:a||c?tt.NAME_STEP:tt.BIRTHDAY_STEP,isSignUpFromLoginError:!1},_.state):_.state.isFromSignupEmailExistError?e8({email:_.state.email,steps:[tt.ALREADY_HAS_PASSWORD_STEP],stepToRender:tt.ALREADY_HAS_PASSWORD_STEP,isSignUpFromLoginError:!1},_.state):e8({},_.state)),r.state=e8({birthdayString:"",birthdayErrorMessage:"",email:"",fullName:"",isExistingUser:!1,isLoading:!1,isUnderageModalOpen:!1,isValid:!1,password:"",showLoginButtons:!1,steps:r.getSteps(),stepToRender:tt.EMAIL_STEP,isSignUpFromLoginError:!1,isFromSignupEmailExistError:!1,emailError:null,canEditCurrentTextField:!0,isSubmitting:!1,gender:"",customGender:"",website:"",intent:"",phone:"",salesName:"",businessType:"",recaptchaV3Token:"default"},n),r}return r=[{key:"componentDidMount",value:function(){var e=this;this.trackStepViewed(),this.props.isBusiness&&this.isCountryUS()&&(0,eK.nP)("mweb_business_create_unauth_visits_sales_steps",{sampleRate:1});var t=function(){(0,j.rY)(function(t){return e.setState({recaptchaV3Token:t})},function(){},j.ys)};t(),setInterval(t,j.yc)}},{key:"componentDidUpdate",value:function(e,t){var r=this.getStepFromMatchParams(e),n=this.getStepFromMatchParams(this.props);this.state.isExistingUser&&e.location!==this.props.location&&2!==n&&this.setIsExistingUser(!1,void 0),r!==n&&this.handleBack(t.steps[n-1]),t.stepToRender!==this.state.stepToRender&&this.trackStepViewed()}},{key:"isCountryUS",value:function(){return"US"===this.props.country}},{key:"updateLBA",value:function(){var e=this.state,t=e.fullName,r=e.website,n=e.intent,i=e.businessType,o=this.props;(0,o.saveWebsite)(r,function(){return(0,eK.nP)("mweb_business_create_unauth_save_website_success",{sampleRate:1})},function(){return(0,eK.nP)("mweb_business_create_unauth_save_website_fail",{sampleRate:1})},o.userId),s.Z.create("UserSettingsResource",{advertising_intent:n,business_name:t,account_type:i,surface_tag:R.i.REGISTRATION}).callUpdate().then(function(){return(0,u.Z)("/me")})}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.isBusiness,i=r.history,o=r.i18n,s=r.location,u=r.inSmbSalesCopyChangeExperiment,l=r.isLBA,c=r.isAppFactoryOAuth,p=r.isGroupBoardSignup,d=this.getStepFromMatchParams(this.props);if(Number.isNaN(d)||d<1||d>10)return i.replace("/"),null;var f=this.state,_=f.birthdayString,g=f.birthdayErrorMessage,b=f.canEditCurrentTextField,S=f.isSubmitting,E=f.email,w=f.fullName,A=f.businessType,T=f.website,O=f.intent,x=f.phone,j=f.salesName,I=f.emailError,R=f.isExistingUser,D=f.isLoading,C=f.isUnderageModalOpen,L=f.isValid,N=f.password,k=f.passwordValidationError,B=f.showLoginButtons,U=f.steps,z=f.stepToRender,Z=U.length,F=H.tr,W=l?to.length:n?ti.length:Z+F,q=(0,V.Ff)({i18n:o,location:s}),Y=q.showPLPBanner,K=q.pinForBanner,Q=!(n||l||c),X=Q&&!ta.includes(z),J=Q&&z===tt.EMAIL_STEP,$=n||l?void 0:"300";$&&ta.includes(z)&&($="200");var et=n||l?156:10,eo=this.getViewParameterType(),ea=!n&&!l,es=!n&&!l&&!p,eu=null===(e=s.state)||void 0===e?void 0:e.attributionLabel;return(0,ee.jsxs)(P.default,{hasFixedHeader:!1,hasGutter:!Y,children:[!!eo&&(0,ee.jsx)(eq.Z,{currentIndex:d-1,numSteps:W,showPLPBanner:Y,viewType:et,viewParameter:eo}),(0,ee.jsx)(a.xu,{"data-test-id":"signup-page-form",marginStart:"auto",marginEnd:"auto",maxWidth:400,children:(0,ee.jsxs)("form",{onSubmit:this.nextSignupStepWithValidation,children:[Y&&K&&(0,ee.jsx)(eG.Z,{pin:K}),(0,ee.jsxs)(a.xu,{paddingX:Y?4:0,children:[z===tt.EMAIL_STEP&&(0,ee.jsx)(ey,{disabled:!b,email:E,getFocusFieldRef:y.Z,handleChangeEmail:this.handleChangeEmail,isReducedHeader:ea,setEmailError:function(e){return t.setState({emailError:e})},setValidState:this.setValidState,emailError:I,showPLPBanner:Y,showModernizedNuxUI:es,viewType:et}),z===tt.PASSWORD_STEP&&(0,ee.jsx)(eV,{disabled:!b,getFocusFieldRef:y.Z,handleChangePassword:this.handleChangePassword,isReducedHeader:ea,password:N,setValidState:this.setValidState,showPLPBanner:Y,showModernizedNuxUI:es,viewType:et}),z===tt.ALREADY_HAS_PASSWORD_STEP&&(0,ee.jsx)(er,{disabled:!b,error:k,getFocusFieldRef:y.Z,handleChangePassword:this.handleChangePassword,handlePasswordReset:this.handlePasswordReset,isReducedHeader:ea,password:N,setValidState:this.setValidState,showPLPBanner:Y,viewType:et}),z===tt.NAME_STEP&&(0,ee.jsx)(eD,{isBusiness:n,name:w,getFocusFieldRef:y.Z,handleChangeName:this.handleChangeFullName,setValidState:this.setValidState,disabled:!b,viewType:et}),z===tt.BIRTHDAY_STEP&&(0,ee.jsx)(en.Z,{disabled:!b,handleChangeBirthday:this.handleChangeBirthday,handleChangeName:this.handleChangeFullName,name:w,setValidState:this.setValidState,birthdayErrorMessage:g,viewType:et}),z===tt.BUSINESS_TYPE_STEP&&(0,ee.jsx)(ei.Z,{businessType:A,handleChangeBusinessType:this.handleChangeBusinessType,disabled:!b,setValidState:this.setValidState,viewType:et}),z===tt.WEBSITE_STEP&&(0,ee.jsx)(eH.Z,{website:T,getFocusFieldRef:y.Z,handleChangeWebsite:this.handleChangeWebsite,setValidState:this.setValidState,disabled:!b,viewType:et}),z===tt.INTENT_STEP&&(0,ee.jsx)(eS.b,{intent:O,handleChangeIntent:this.handleChangeIntent,setValidState:this.setValidState,disabled:!b,viewType:et}),z===tt.SALES_CONTACT_STEP&&(0,ee.jsx)(eW.Z,{phone:x,name:j,handleChangePhone:this.handleChangePhone,handleChangeName:this.handleChangeSalesName,setValidState:this.setValidState,disabled:!b,inCopyChangeExp:u,viewType:et}),(0,ee.jsx)(a.xu,{marginBottom:6}),(0,ee.jsx)(ev.Z,{allowSkip:this.isStepSkipable(),handleSkipStep:this.handleSkipStep,isBusiness:n||l,location:s,loginLink:$,nextButtonText:this.getNextButtonText(),nextDisabled:!L||S,nextPageForLogin:s.state?s.state.next:"",showBusinessSignup:J,showSocialSignUpButtons:X,showTextDivider:B,showTos:!0,viewParameter:this.getViewParameterType(),attributionLabel:eu})]})]})}),(0,ee.jsx)(v.ZP,{accessibilityModalLabel:"",isOpen:C,mobileAccessibilityCloseIconLabel:o._('Close', 'modal.underage.close', 'Label for underage modal close button'),mobileHideCloseIcon:!0,onDismiss:function(){},children:(0,ee.jsx)(eY.Z,{birthday:_,onEditBirthday:function(){h.t8(m.It,"0",(0,h.kZ)(m.It)),t.setState({isUnderageModalOpen:!1})}})}),D&&(z!==U[U.length-1]||R?(0,ee.jsx)(M.Z,{}):(0,ee.jsx)(G.Z,{isReducedHeader:ea}))]})}}],e6(o.prototype,r),n&&e6(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.PureComponent);function tc(e){var t,r,n,a,s,u,l,p,d=(0,o.useHistory)(),f=(0,o.useLocation)(),h=null===(t=f.state)||void 0===t?void 0:t.attributionLabel,m=(0,o.useRouteMatch)(),g=(0,E.ZP)(),b=(0,i.useDispatch)(),y=(0,x.F)().checkExperiment,v=(0,C.F9)().showToast,S=(0,o.useLocation)().pathname,w=(0,B.Z)(),P=w.isLimitedLogin,A=w.id,T=w.third_party_marketing_tracking_enabled,O=y("mweb_smb_sales_handraiser_copy_change_unauth").anyEnabled,j=(0,Y.m)(),D=(0,q.f)(),L=(0,c.Z)(),U=(0,_.Z)(),z=(0,I.B)(),F=z.country,M=z.isAuthenticated,V=z.locale,H=(0,i.useSelector)(function(e){return e.session}),G=H.loggedOutUserInfo,J=H.userId,$=null!==(r=(0,i.useSelector)(function(e){return e.users}))&&void 0!==r?r:{},et=(0,W.xT)($[J]),er=(0,N.ZP)(),en=f.pathname.startsWith("/business/"),ei=f.pathname.startsWith("/linked/"),eo=(0,Z.m)().unauthBoardInvite,ea=null!==(n=null!==(a=null===(s=f.state)||void 0===s?void 0:s.isFromGroupBoardsInvite)&&void 0!==a?a:!!eo)&&void 0!==n&&n,es=null!==(u=(0,k.Z)())&&void 0!==u&&u,eu=null!==(l=null===(p=f.state)||void 0===p?void 0:p.isRedirectToNextParamAfterSignup)&&void 0!==l&&l,el=y("ppm_p_gate").anyEnabled;return S.startsWith("/business/")&&P||"desktop"===er?(0,ee.jsx)(o.Redirect,{to:"/"}):(0,ee.jsx)(tl,e8(e8({},e),{},{country:F,history:d,i18n:g,inSmbSalesCopyChangeExperiment:O,isAppFactoryOAuth:es,isAuthenticated:M,isBusiness:en,isGroupBoardSignup:ea,isLBA:ei,isLimitedLoginUser:et,isRedirectToNextParamAfterSignup:eu,locale:V,location:f,logContextEvent:U,loggedOutUserInfo:G,login:D,match:m,navigateAfterLoginStatusChange:L,pixelBlocked:el,thirdPartyMarketingTrackingEnabled:T,register:j,saveBusinessType:function(e,t,r,n){return b((0,Q._L)({field:"account_type",value:e,onSettingSavedHn:t,showErrorHn:r,surfaceTag:R.i.REGISTRATION,userId:n}))},saveIntent:function(e,t,r,n){return b((0,Q._L)({field:"advertising_intent",value:e,onSettingSavedHn:t,showErrorHn:r,surfaceTag:R.i.REGISTRATION,userId:n}))},saveWebsite:function(e,t,r,n){return b((0,Q._L)({field:"website_url",value:e,onSettingSavedHn:t,showErrorHn:r,surfaceTag:R.i.REGISTRATION,userId:n}))},setGenderStepComplete:function(){return b((0,X.Q_)("COMPLETED_GENDER_SIGNUP",1))},setNumSignupSteps:function(e){return b((0,K.e0)(e))},showToast:v,userId:null!=A?A:"",validateEmailExists:function(e){return b((0,X.OF)(e))},attributionLabel:h}))}},90326:function(e,t,r){"use strict";r.d(t,{Ge:function(){return d},JS:function(){return l},OF:function(){return v},P_:function(){return c},Q_:function(){return h},b8:function(){return m},eR:function(){return y},h2:function(){return f},h6:function(){return _}});var n,i=r(214494),o=r(186656),a=r(735422);function s(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){r(e);return}s.done?t(u):Promise.resolve(u).then(n,i)}function u(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,u,"next",e)}function u(e){s(o,n,i,a,u,"throw",e)}a(void 0)})}}function l(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}var c=function(e,t){return{type:"USER_FOLLOW",payload:{id:e,value:t}}},p=function(e,t){return{type:"USER_BLOCK",payload:{id:e,value:t}}},d=function(e){var t,r=e.id,n=e.orbacSubjectId,o=e.blockSource,a=e.blockContext,s=e.logContextEvent;return t=u(regeneratorRuntime.mark(function e(t){var u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(p(r,!0)),e.next=3,i.Z.create("UserBlockResource",{blocked_user_id:r,orbac_subject_id:n,block_source:o,block_context:a}).callCreate().catch(function(){return t(p(r,!1))});case 3:return u=e.sent,s({event_type:54,object_id_str:r}),e.abrupt("return",u);case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},f=function(e,t){var r;return r=u(regeneratorRuntime.mark(function r(n){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n(p(e,!1)),r.next=3,i.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(function(){return n(p(e,!0))});case 3:return o=r.sent,t({event_type:55,object_id_str:e}),r.abrupt("return",o);case 6:case"end":return r.stop()}},r)})),function(e){return r.apply(this,arguments)}};function _(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}var h=function(e,t){return function(){return i.Z.create("UserStateResource",{state:e,value:t}).callCreate()}},m=function(e,t,r){return function(n,i){(0,o.Z)({url:"/v3/users/me/",method:"POST"}).then(function(){r({event_type:48,object_id_str:i().session.userId}),e(),(0,a.Dm)()},t)}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"150x150";return e&&"https://i.pinimg.com/".concat(t,"/").concat(e.substring(0,2),"/").concat(e.substring(2,4),"/").concat(e.substring(4,6),"/").concat(e,".jpg")||""},b=(n=u(regeneratorRuntime.mark(function e(t,r,n){var o,a,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.create("VIPResource",{upload_ids:[t]}).callGet();case 2:(o=e.sent).resource_response.data[t]?(s=(a=o.resource_response.data[t]).status,l=a.signature,"processing"===s||"registered"===s?setTimeout(u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b(t,r,n);case 1:case"end":return e.stop()}},e)})),5e3):"succeeded"===s?r(g(l)):n()):n();case 4:case"end":return e.stop()}},e)})),function(e,t,r){return n.apply(this,arguments)}),y=function(e){return new Promise(function(t,r){if("string"==typeof e){if(e.startsWith("data")){var n;(n=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,r=e.split(";"),n=r[0].split(":")[1],i=atob(r[1].split(",")[1]),o=[],a=0;a<i.length;a+=t){for(var s=i.slice(a,a+t),u=Array(s.length),l=0;l<s.length;l+=1)u[l]=s.charCodeAt(l);var c=new Uint8Array(u);o.push(c)}return new Blob(o,{type:n})}(e),new Promise(function(e,t){var r,o,a;r=function(){},o=function(t){e(t)},a=function(e){t(e)},new FormData().append("img",n),i.Z.create("VIPResource",{type:"pinimage"}).callCreate().then(function(e){if(e.resource_response.data){var t=e.resource_response.data,i=t.upload_id,s=t.upload_url,u=t.upload_parameters,l=new XMLHttpRequest;l.open("POST",s,!0),l.onload=function(){var e;(e=l.status)>=200&&e<400?(r(100),b(i,o,a)):a()},l.upload.onprogress=function(e){r(Math.round(100*e.loaded/e.total))};var c=new FormData;for(var p in u)c.append(p,u[p]);c.append("file",n),l.send(c)}},function(){a()})})).then(function(e){return t(e)})}}else r("Invalid Image")})},v=function(e){return function(){return(0,o.Z)({url:"/v3/register/exists/",data:{email:e}})}}},112324:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(506979),i=r(599689),o=r(898781),a=r(248975),s=r(780280),u=r(350118),l=r(76911),c=r(908390),p=r(515198),d=function(e){var t,r=e.pin,n=r.image,i=r.pinDescription,o=r.dominantColor,a=r.bannerCopy;return(0,p.jsx)(l.Fragment,{children:(0,p.jsxs)(c.xu,{display:"flex",alignItems:"center",justifyContent:"center",margin:4,children:[(0,p.jsx)(c.xu,{width:30,height:40,margin:4,children:(0,p.jsx)(c.zd,{width:"100%",height:"100%",rounding:2,children:(0,p.jsx)(c.Ee,{src:null!==(t=(n||{}).url)&&void 0!==t?t:"",alt:i||"",naturalHeight:(n||{}).height||1,naturalWidth:(n||{}).width||1,color:o||"",fit:"cover"})})}),(0,p.jsx)(c.xv,{children:a})]})})};function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t,r){var n;return(n=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===f(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){var t=e.pin,r=(0,o.ZP)(),l=(0,n.useSelector)(function(e){var t=e.session;return t&&t.unauthSavePinId}),c=(0,u.S6)()(null!=l?l:""),f=(0,s.B)(),_=f.isBot,g=f.isSocialBot,b=(0,i.useLocation)();if(!t&&!l)return null;var y=b.pathname.startsWith("/signup");if(!(b.pathname.startsWith("/login")||y))return null;if(c){var v,S,E=b.pathname.startsWith("/signup"),w={url:(0,a.Z)({imagesUrls:c.images?Object.keys(c.images).reduce(function(e,t){var r,n;return t&&null!==(r=c.images)&&void 0!==r&&null!==(n=r[t])&&void 0!==n&&n.url?h(h({},e),{},m({},t,c.images[t].url)):e},{}):void 0,embedSrc:null===(v=c.embed)||void 0===v?void 0:v.src,embedType:null===(S=c.embed)||void 0===S?void 0:S.type,excludeOriginals:!_&&!g}),height:1,width:1},P=c.description||"",A=c.dominant_color||"",T=E?r._('Finish signing up to save this idea', 'mweb.unauth.save.flow.signup.banner', 'Sign up banner shown in signup page after user attempting to save the pin'):r._('Finish logging in to save this idea', 'mweb.unauth.save.flow.login.banner', 'Login banner shown in login page after user attempting to save the pin');return(0,p.jsx)(d,{pin:{image:w,pinDescription:P,dominantColor:A,bannerCopy:T}})}return t?(0,p.jsx)(d,{pin:t}):null}},518012:function(e,t,r){"use strict";var n=r(699865);t.Z=n.Z},355501:function(e,t,r){"use strict";var n=r(699865);t.Z=n.Z},808295:function(e,t,r){"use strict";var n=r(699865);t.Z=n.Z},413837:function(e,t,r){"use strict";var n=r(699865);t.Z=n.Z},943157:function(e,t,r){"use strict";var n=r(699865);t.Z=n.Z}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[97270,8390,99689,26067,17492,48327,66312,99246,13254,17197,87072,31583,22485,65610,46537,71526,24070,75632,49639,74917],function(){return t(721289),t(479563),t(459327),t(374807),t(881644)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/signup-a3c65649ff01f5f5.js.map