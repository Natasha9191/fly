(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[16102,55378,28543,58789,38049,21093,6331,89251,34177,72621,67419,41703,41692,20224,70943,22312,86593,26110,48994,46760,59472,29062],{174566:function(e){"use strict";var t,r,n,o,i,a={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"FullPageSignupIconPinQuery",selections:[{alias:null,args:r=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},o={alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},i={alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FullPageSignupIconPinQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n,o,i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"352a5e60aedea45f1bf7be68da02cb782e8556623ba25c0de3716842fb3a3b99",metadata:{},name:"FullPageSignupIconPinQuery",operationKind:"query",text:null}};a.hash="3e1016dfcba0fbbb6d9d96227b9486bd",e.exports=a,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(a)},802333:function(e){"use strict";var t,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinsPaneHelperGetPinTitle_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},t],type:"Pin",abstractKey:null};r.hash="594842fa993e078b47ba30a204789923",e.exports=r},387399:function(e){"use strict";var t,r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinsPaneHelperGetProductPrice_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:t=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null};r.hash="7c716add671f3d56448cd9d81ab6cc81",e.exports=r},644551:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/idea-ads-tool"]=function(){return r(714922).Z}},367677:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/idea-pin-builder"]=function(){return r(216834).Z}},61746:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin-creation-tool"]=function(){return r(76510).Z}},302667:function(e,t,r){"use strict";r.d(t,{X_:function(){return l},Xo:function(){return f},Xv:function(){return d},fW:function(){return p},h_:function(){return u},vF:function(){return c}});var n=r(67347);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var a=function(e,t){var r="client.partner.quick_promote_button.".concat(e);(0,n.nP)(r,{sampleRate:1,tags:{app_type:"web",location:t}})},l=function(e){e&&e.utm_campaign&&(0,n.nP)("client.partner.account.convert_attempt.utm_campaign.exists",{sampleRate:1,tags:e})},s=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;a({event_type:e,component:t,element:10148,view_type:r,aux_data:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},n)})},c=function(e,t,r,n,o,i){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};a(t,r),s(n,o,i,l,e)},u=function(e){e({event_type:8217})},d=function(){(0,n.nP)("client.partner.biz_nux_v3.nux_start",{sampleRate:1,tags:{app_type:"web"}})},f=function(){(0,n.nP)("client.partner.biz_nux_v3.nux_end",{sampleRate:1,tags:{app_type:"web"}})},p=function(e){var t="client.partner.biz_nux_v3.render.".concat(e);(0,n.nP)(t,{sampleRate:1,tags:{app_type:"web"}})}},480542:function(e,t,r){"use strict";r.d(t,{Z:function(){return b}});var n=r(76911),o=r(908390),i=r(251183),a=r(700380),l=r(515198);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){y(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var g={gradientBackground:{left:{backgroundImage:"linear-gradient(to left, rgba(255, 255, 255, 0), #fff)",pointerEvents:"none"},right:{backgroundImage:"linear-gradient(to right, rgba(255, 255, 255, 0), #fff)",pointerEvents:"none"}},innerScrollContainer:{marginBottom:-17,overflowX:"auto",overflowY:"hidden",paddingBottom:17}},b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(m,e);var t,r,n,c=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=h(m);if(t){var n=h(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function m(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,m);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(p(e=c.call.apply(c,[this].concat(r))),"state",{canScrollLeft:!1,canScrollRight:!1,isContainerHover:!1,isLeftHover:!1,isRightHover:!1}),y(p(e),"scroll",function(t){var r=p(e).scrollbar,n=e.props,o=n.extendToEdgeDistanceX,a=n.scrollSpeedPxPerMs,l=n.minScrollDuration,s=n.easingFunction;r&&0!==t&&(e.scrollAnimationManager&&e.scrollAnimationManager.cancel(),e.scrollAnimationManager=(0,i.Z)(r,t,0,{easingFunction:s,extendToEdgeDistanceX:o,scrollSpeedPxPerMs:a,minScrollDuration:l,onAnimationComplete:function(){e.refreshScroll(),e.scrollAnimationManager=null}}),e.scrollAnimationManager.start())}),y(p(e),"refreshScroll",function(){var t=e.state,r=t.canScrollLeft,n=t.canScrollRight;if(e.scrollbar){var o=e.scrollbar,i=o.scrollLeft,a=o.scrollWidth,l=o.clientWidth,s={};if(l<a){var c=i>0,u=i<a-l;(r!==c||n!==u)&&(s.canScrollLeft=c,s.canScrollRight=u)}else(r||n)&&(s.canScrollLeft=!1,s.canScrollRight=!1);Object.keys(s).length&&e.setState(s)}}),y(p(e),"refreshScrollThrottled",(0,a.Z)(e.refreshScroll,50)),y(p(e),"handleLeftArrowClick",function(){return e.handleArrowClick("left")}),y(p(e),"handleRightArrowClick",function(){return e.handleArrowClick("right")}),y(p(e),"handleArrowClick",function(t){if(e.scrollbar){var r=e.props,n=r.scrollDistanceRatio,o=r.scrollDistanceMin,i=e.scrollbar.clientWidth;e.scroll(("left"===t?-1:1)*Math.max(Math.floor(n*i),o))}}),y(p(e),"handleContainerMouseEnter",function(){e.setState({isContainerHover:!0})}),y(p(e),"handleContainerMouseLeave",function(){e.setState({isContainerHover:!1})}),y(p(e),"handleLeftArrowMouseEnter",function(){return e.handleArrowHover("left",!0)}),y(p(e),"handleLeftArrowMouseLeave",function(){return e.handleArrowHover("left",!1)}),y(p(e),"handleRightArrowMouseEnter",function(){return e.handleArrowHover("right",!0)}),y(p(e),"handleRightArrowMouseLeave",function(){return e.handleArrowHover("right",!1)}),y(p(e),"handleArrowHover",function(t,r){e.setState(y({},"left"===t?"isLeftHover":"isRightHover",r))}),y(p(e),"saveScrollBarRef",function(t){e.scrollbar=t}),y(p(e),"Style",u(u({},g),{},{arrowBackground:{backgroundColor:"wide"===e.props.variant?"rgba(255, 255, 255, .97)":"rgba(0, 0, 0, .1)",boxShadow:"wide"===e.props.variant?"0 1px 20px 0 rgba(0, 0, 0, .1)":void 0},arrow:{default:{position:"absolute",top:"50%",transform:"wide"===e.props.variant?"translateY(-115%)":"translateY(-50%)"},left:{left:"wide"===e.props.variant?-84:-12},right:{right:"wide"===e.props.variant?-72:-12}}})),y(p(e),"renderArrow",function(t){var r,n=e.state,i=n.canScrollLeft,a=n.canScrollRight,s="wide"===e.props.variant,c=("left"===t?e.state.isLeftHover:e.state.isRightHover)?"darkGray":"gray";s&&(c="left"===t&&i||"right"===t&&a?"darkGray":"gray");var d="left"===t?"arrow-back":"arrow-forward",f="left"===t?e.Style.arrow.left:e.Style.arrow.right;return(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:u(u({},e.Style.arrow.default),f)},children:(0,l.jsx)(o.iP,{onMouseEnter:"left"===t?e.handleLeftArrowMouseEnter:e.handleRightArrowMouseEnter,onMouseLeave:"left"===t?e.handleLeftArrowMouseLeave:e.handleRightArrowMouseLeave,onTap:"left"===t?e.handleLeftArrowClick:e.handleRightArrowClick,rounding:"circle",children:(0,l.jsx)(o.xu,{padding:1,rounding:"circle",dangerouslySetInlineStyle:{__style:e.Style.arrowBackground},children:(0,l.jsx)(o.Sj,{icon:d,iconColor:null!==(r=c)&&void 0!==r?r:"gray",bgColor:"white",size:s?"lg":"sm"})})},t)})}),e}return r=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.refreshScrollThrottled),this.refreshScroll()}},{key:"componentDidUpdate",value:function(){this.refreshScroll()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.refreshScrollThrottled),this.scrollAnimationManager&&this.scrollAnimationManager.cancel()}},{key:"render",value:function(){var e=this.state,t=e.canScrollLeft,r=e.canScrollRight,n=e.isContainerHover,i=this.props,a=i.alwaysShowArrows,s=i.children,c=!i.showArrowsOnlyOnHover||n,u=t&&c,d=r&&c;return(0,l.jsxs)(o.xu,{onMouseEnter:this.handleContainerMouseEnter,onMouseLeave:this.handleContainerMouseLeave,position:"relative",children:[(0,l.jsx)(o.xu,{overflow:"hidden",children:(0,l.jsx)(o.xu,{ref:this.saveScrollBarRef,onScroll:this.refreshScrollThrottled,dangerouslySetInlineStyle:{__style:this.Style.innerScrollContainer},children:s})}),u&&!a&&(0,l.jsx)(o.xu,{position:"absolute",top:!0,bottom:!0,left:!0,width:60,dangerouslySetInlineStyle:{__style:this.Style.gradientBackground.left}}),d&&!a&&(0,l.jsx)(o.xu,{position:"absolute",top:!0,bottom:!0,right:!0,width:60,dangerouslySetInlineStyle:{__style:this.Style.gradientBackground.right}}),(u||a)&&this.renderArrow("left"),(d||a)&&this.renderArrow("right")]})}}],d(m.prototype,r),n&&d(m,n),Object.defineProperty(m,"prototype",{writable:!1}),m}(n.PureComponent);y(b,"defaultProps",{easingFunction:"ease-in-out",extendToEdgeDistanceX:160,minScrollDuration:200,scrollDistanceMin:200,scrollDistanceRatio:3/4,scrollSpeedPxPerMs:1.2,showArrowsOnlyOnHover:!0,variant:"default"})},261130:function(e,t,r){"use strict";var n=r(602118),o=r.n(n);t.Z=RegExp(/^(https?:\/\/){0,1}/.source+"("+o().source+"){1,}"+/(\.){1,}/.source+"("+o().source+"){1,}"+/(\/){0,1}/.source,"gi")},464657:function(e,t,r){"use strict";var n=r(76911),o="undefined"!=typeof document?document:{};t.Z=function(){var e=(0,n.useRef)(),t=o.documentElement,r=o.body;return t?[function(){if(r&&r.style&&!e.current){var n=window.innerWidth-t.clientWidth,o=parseInt(window.getComputedStyle(r).getPropertyValue("padding-right"),10)||0;t.style.position="relative",t.style.overflow="hidden",r.style.position="relative",r.style.overflow="hidden",r.style.paddingRight="".concat(o+n,"px"),e.current=!0}},function(){r&&r.style&&e.current&&(t.style.position="",t.style.overflow="",r.style.position="",r.style.overflow="",r.style.paddingRight="",e.current=!1)}]:[]}},915206:function(e,t,r){"use strict";r.d(t,{Z:function(){return A}});var n=r(76911),o=r(506979),i=r(908390),a=r(214494),l=r(579014),s=r(858472),c=r(898781),u=r(780280),d=r(19121),f=r(76696),p=r(333206),h=r(846760),y=r(505132),m=r(515198);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){j(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,r){return(t=S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==g(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}var w={dropdown:{alignItems:"center",backgroundColor:"#efefef",border:"none",cursor:"pointer",display:"flex",flexGrow:1,height:40,justifyContent:"space-between",minWidth:0,outline:0,padding:"0 14px",position:"relative"},button:{backgroundColor:s.x7,border:"none",cursor:"pointer",flex:"none",height:40,outline:0,padding:"0 14px"}},E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(c,e);var t,r,o,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=O(c);if(t){var n=O(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return P(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return j(P(e=s.call.apply(s,[this].concat(r))),"state",{selectedBoard:null,showBoardCreate:!1,showFlyout:!1,suggestedBoardName:""}),j(P(e),"_setDefaultBoard",function(){a.Z.create("BoardPickerBoardsResource",{field_set_key:"board_picker",sort:"last_pinned_to",onlyFetchBoards:!0}).callGet({showError:!1}).then(function(t){var r=(((t||{}).resource_response||{}).data||{}).all_boards;if(r&&r.length>0){var n=r[0],o=n.id,i=n.image_cover_url,a=n.owner,l=n.privacy,s=n.name,c=n.url;if(e.props.selectedItem)return;e.handleItemChosen({boardId:o,imageCoverUrl:i,ownerUsername:null==a?void 0:a.username,privacy:l,title:s||"",url:c},!1)}})}),j(P(e),"setButtonRef",function(t){e.buttonRef=t}),j(P(e),"handleBoardDropdownClick",function(){e.setState(function(e){return{showFlyout:!e.showFlyout}})}),j(P(e),"handleSaveButtonClick",function(){var t=e.props,r=t.onSaveClick,n=t.selectedItem,o=t.disabledBoardPicker;(n||o)&&r?r():e.setState({showFlyout:!0})}),j(P(e),"handleFlyoutClose",function(){e.setState({showFlyout:!1})}),j(P(e),"handleItemChosen",function(t){var r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];(0,e.props.onItemChosen)(t),r&&e.handleFlyoutClose()}),j(P(e),"handleCreateSection",function(t){var r=e.state.selectedBoard;if(r){var n=r.id,o=r.privacy,i=t.id,a=t.title;e.handleItemChosen({boardId:n,privacy:o,sectionId:i,title:a||""})}e.handleBoardCreateClose()}),j(P(e),"handleBoardCreateShow",function(t){var r=t.title;e.setState({showBoardCreate:!0,showFlyout:!1,suggestedBoardName:r})}),j(P(e),"handleBoardCreateClose",function(){e.setState({showBoardCreate:!1,selectedBoard:null})}),j(P(e),"handleBoardCreate",function(t){e.props.invalidateBoardPickerBoardsResource();var r=t.id,n=t.name,o=t.privacy,i=t.url;e.handleItemChosen({boardId:r,privacy:o,title:n||"",url:i}),e.handleBoardCreateClose()}),j(P(e),"handleSetBoardWithSection",function(t){e.setState({selectedBoard:t})}),e}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedItem,r=e.useDefaultBoard,n=e.disableDefaultBoard;void 0!==n&&n||(void 0!==r&&r?this._setDefaultBoard():t||this._setDefaultBoard())}},{key:"render",value:function(){var e=this.props,t=e.accessibilityLabelText,r=e.buttonText,o=e.customItem,a=e.disabled,s=e.disabledBoardPicker,c=e.flyoutSize,u=e.flyoutZIndex,d=e.hasError,f=e.idealDirection,g=e.onSaveClick,b=e.placeholder,v=e.requestContext,x=e.selectedItem,P=e.showBoardCover,O=e.showButton,j=e.showCreateBoardButton,S=e.showFlyoutSaveButton,E=e.showSections,A=e.showSectionSaveButton,I=e.boardFilter,C=e.useLayer,T=e.useStoryboardStyle,D=e.useCreateModalWithNoLayer,k=e.showSaveToProfile,R=this.state,z=R.selectedBoard,L=R.showBoardCreate,M=R.showFlyout,N=R.suggestedBoardName,B=v.isRTL,F=T?16:8,Z="".concat(F,"px 0 0 ").concat(F,"px"),U="0 ".concat(F,"px ").concat(F,"px 0"),H=(x||{}).title,V=P&&!!x&&H,G=a||s,W=_(_({},T?({dropdown:{alignItems:"center",backgroundColor:"".concat(G?"#efefef":"#ffffff"),border:"2px solid ".concat(d?l.op:l.iX),cursor:"pointer",display:"flex",flexGrow:1,height:48,justifyContent:"space-between",minWidth:0,outline:0,position:"relative",borderRadius:16}}).dropdown:w.dropdown),{},{borderRadius:M||!O?F:B?U:Z,padding:V?"0 14px 0 7px":"0 14px",cursor:G?"default":"pointer",pointerEvents:G?"none":"auto"}),Y=_(_(_({},w.button),{},{borderRadius:B?Z:U},a?{backgroundColor:"#efefef",cursor:"default"}:{}),{},{pointerEvents:a?"none":"auto"});return(0,m.jsxs)(i.xu,{column:12,position:"relative",dangerouslySetInlineStyle:{__style:{borderRadius:8,boxShadow:d&&!T?"0 0 0 1px #e60023":void 0,zIndex:M?u:void 0}},children:[(0,m.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",width:"100%",children:[(0,m.jsxs)("button",{style:W,onClick:this.handleBoardDropdownClick,ref:this.setButtonRef,"data-test-id":"board-dropdown-select-button",disabled:a,"aria-disabled":a,children:[(0,m.jsxs)(i.xu,{"data-test-id":x?"board-dropdown-item-selected":"board-dropdown-placeholder",marginEnd:2,minWidth:0,overflow:"hidden",display:"flex",alignItems:"center",children:[V&&(0,m.jsx)(i.xu,{marginEnd:2,children:(0,m.jsx)(i.zd,{height:32,width:32,rounding:2,children:null!=x&&x.imageCoverUrl?(0,m.jsx)(i.Ee,{alt:this.props.i18n._('Board cover', 'boardDropdown.button.selectedBoard.boardCover', 'Board cover image for selected board'),color:"lightGray",naturalHeight:1,naturalWidth:1,src:x.imageCoverUrl||"",fit:"cover"}):(0,m.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"})})}),(0,m.jsx)(i.xv,{lineClamp:1,children:(0,m.jsx)("span",{style:{color:x?"#111":"#6c6c6c"},children:x&&H?H:b})})]}),(0,m.jsx)(i.xu,{flex:"none",marginEnd:-1,children:(0,m.jsx)(i.JO,{accessibilityLabel:this.props.i18n._('Choose a board', 'Instructions to open board picker', 'Instructions to open board picker'),color:G?"subtle":"default",icon:"arrow-down",size:12})})]}),!M&&O&&(0,m.jsx)("button",{style:Y,onClick:this.handleSaveButtonClick,"data-test-id":"board-dropdown-save-button",disabled:a,"aria-disabled":a,children:(0,m.jsx)(i.xv,{color:a?"subtle":"inverse",weight:"bold",children:r||this.props.i18n._('Save', 'Button to create new Pin', 'Button to create new Pin')})})]}),M&&(0,m.jsx)(i.J2,{anchor:this.buttonRef,idealDirection:f||"down",onDismiss:this.handleFlyoutClose,size:c,children:(0,m.jsx)(h.sR,{accessibilityLabelText:t,buttonText:r,customItem:o&&(0,n.cloneElement)(o,{onItemChosen:this.handleFlyoutClose}),onBoardCreate:this.handleBoardCreateShow,onButtonClick:g,onItemChosen:this.handleItemChosen,paneWidth:"number"==typeof c?c:void 0,setBoardWithSection:this.handleSetBoardWithSection,showCreateBoardButton:j,showFlyoutSaveButton:S,showSections:E,showSectionSaveButton:A,boardFilter:I,useStoryboardStyle:T,useLegoLayout:!1,showSaveToProfile:k})}),L&&!z&&(0,m.jsx)(p.Z,{onBoardCreate:this.handleBoardCreate,onClose:this.handleBoardCreateClose,suggestedBoardName:N,useModalWithNoLayer:D,showSecretBoardCreateToggle:"public"===I}),L&&!!z&&(0,m.jsx)(y.Z,{selectedBoard:z,onClose:this.handleBoardCreateClose,onSectionCreate:this.handleCreateSection,useLayer:C})]})}}],v(c.prototype,r),o&&v(c,o),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.Component);function A(e){var t=(0,c.ZP)(),r=(0,o.useDispatch)(),n=(0,d.Z)(),i=(0,f.Z)();return(0,m.jsx)(E,_(_({},e),{},{invalidateBoardPickerBoardsResource:function(){return r((0,h.DR)(n,i))},requestContext:(0,u.B)(),i18n:t}))}j(E,"defaultProps",{flyoutSize:"lg",flyoutZIndex:1,showButton:!0,disabled:!1})},668627:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}t.Z=function(e,t,o){return function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach(function(t){var n,i;n=t,i=o[t],(n=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}({id:e,field_set_key:"auth_web_main_pin",add_fields:o?o.join(","):void 0,client_tracking_params:void 0,noCache:!0,fetch_visual_search_objects:!0},t?{orbac_subject_id:t}:Object.freeze({}))}},237056:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(773285),o=r(50286),i=r(19121),a=r(717615),l=r(231947),s=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function c(e){var t=(0,o.HG)(),r=(0,n.F)().checkExperiment,c=(0,a.Z)(),u=(0,i.Z)(),d=(0,l.lJ)(u,c),f=s[t?"dweb":"mweb"];return e&&!d&&(r("sce_lightswitch_organic"),r("sce_lightswitch_monetized")),!d&&(r(f.organic).anyEnabled||r(f.monetized).anyEnabled)}},14798:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(773285),o=r(50286),i=Object.freeze({mitigationBundleExp:"web_sce_multi_upload_and_redirect_to_drafts",dWebPinBuilderDepExp:"web_sce_organic_pinbuilder_dep",mWebPinBuilderDepExp:"mweb_sce_organic_pinbuilder_dep",parentExp:"sce_lightswitch_organic"}),a=new Set(["enabled3","enabled4","enabled5","enabled6"]);function l(e){var t=e.bypass,r=e.skipActivation,l=(0,o.HG)(),s=(0,n.F)().checkExperiment,c=i.parentExp,u=i.mitigationBundleExp;if(t)return!1;r||s(c);var d={dangerouslySkipActivation:r},f=s(u,d).anyEnabled,p=s(i[l?"dWebPinBuilderDepExp":"mWebPinBuilderDepExp"],d).group;return f||a.has(p)}},382891:function(e,t,r){"use strict";r.d(t,{m:function(){return a}});var n=r(719286),o=r(709622);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a=["female","male","unknown"];t.Z=function(e){var t,r=e.interests,l=e.ages,s=e.genders,c=e.country;return{AGE_BUCKET:l||[],APPTYPE:n.jz,GENDER:s||a,INTEREST:(r||[]).map(function(e){return e.topic_id}),LOCATION:function(e){if(Array.isArray(e))return i(e)}(t=new Set((c||o.UF).split("+")))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},460985:function(e,t,r){"use strict";r.d(t,{xT:function(){return E},cX:function(){return A},ZP:function(){return I}});var n=r(76911),o=r(908390),i=r(444445),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;return function(n){var o=n.target;t>0&&(setTimeout(function(){o.src="".concat(e,"?").concat(Date.now()).concat(t)},r),t-=1,r*=2)}},l=r(152028),s=r(515198),c=function(e){var t=e.skipImageReloadOnError,r=e.video,c=e.rounding,u=e.image,d=(0,n.createRef)();(0,n.useEffect)(function(){d.current&&r&&(d.current.currentTime=r.thumbnail)},[r,d]);var f=void 0===e.containerWidth?i.yF:e.containerWidth,p=e.imgHeight||void 0;if(r){var h=r.customCoverImg;return(0,s.jsxs)(o.xu,{position:"relative",overflow:"hidden",display:"flex",direction:"column",justifyContent:"center",width:f,children:[(0,s.jsx)(o.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:h?(0,s.jsx)(o.Ee,{alt:h.name,naturalHeight:h.height,naturalWidth:h.width,src:h.src}):(0,s.jsx)(o.nk,{autoplay:!0,aspectRatio:r.width/r.height,captions:"",onPlay:function(){},onPlayError:function(){},src:r.src})}),(0,s.jsx)(o.xu,{bottom:!0,left:!0,right:!0,top:!0,alignItems:"end",display:"flex",justifyContent:"start",padding:2,position:"absolute",children:(0,s.jsx)(l.Z,{duration:1e3*r.duration})})]})}if(u){var y=u.altText,m=u.dominantColor,g=u.height,b=u.url,_=u.width;return(0,s.jsx)(o.xu,{rounding:null!=c?c:2,overflow:"hidden",display:"flex",direction:"column",justifyContent:"center",width:f,height:p,children:(0,s.jsx)(o.Ee,{alt:null!=y?y:"",color:m||"#efefef",naturalWidth:null!=_?_:1,naturalHeight:null!=g?g:1,onError:void 0!==t&&t?function(){}:function(){a(null!=b?b:"",5)},src:null!=b?b:"",fit:p?"cover":"none"})})}return null},u=r(987765),d=r(356997),f=r(898781),p=r(883561);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){P(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,r){return(t=O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==h(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}var j={base:function(e){var t=e.rounding;return{borderRadius:t?4*t:4,display:"flex",flexDirection:"column",height:e.height,outline:"none",padding:8,transition:"background-color 0.25s cubic-bezier(0.31, 1, 0.34, 1)"}},focused:function(){return{padding:4,border:"4px solid rgba(0, 132, 255, 0.5)"}},hovered:function(){return{backgroundColor:"rgba(0, 0, 0, 0.05)",cursor:"pointer"}},selected:function(){return{padding:6,border:"2px solid #e60023"}}},S=function(e,t){var r=((e.rich_summary||{}).displayName||"").trim(),n=(e.description||"").trim(),o=(e.title||"").trim();return(0,p.ZP)(o||r||n,t)},w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(l,e);var t,r,n,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=x(l);if(t){var n=x(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return P(v(e=a.call.apply(a,[this].concat(r))),"state",{isHovered:!1,isFocused:!1}),P(v(e),"getIsActionable",function(){return!!e.props.onSelect}),P(v(e),"getStyle",function(){var t=e.state,r=t.isFocused,n=t.isHovered,o=e.props.selected,i=e.getIsActionable();return Object.entries({base:!0,focused:i&&r,hovered:i&&n,selected:o}).reduce(function(t,r){var n=function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(r,2)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=n[0],i=n[1];return m(m({},t),i?j[o](e.props):{})},{})}),P(v(e),"handleMouseEnter",function(){e.setState({isHovered:!0})}),P(v(e),"handleMouseLeave",function(){e.setState({isHovered:!1})}),P(v(e),"handleClick",function(){var t=e.props,r=t.onSelect,n=t.pin;r&&r(n)}),P(v(e),"handleKeyPress",function(t){"Enter"===t.key&&e.handleClick()}),P(v(e),"handleFocus",function(){e.setState({isFocused:!0})}),P(v(e),"handleBlur",function(){e.setState({isFocused:!1})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.pin,r=e.imageHeight,n=e.hideAuthorAttribution,a=e.maxDescriptionLength,l=e.promoted,u=e.showDescription,d=e.skipImageReloadOnError,f=e.width,p=e.video,h=e.rounding,y=e.isMobile,g=void 0!==y&&y,b=S(t,a),_=this.props.i18n._('No description available', '[m10n]quickPromote.pin.noDescription', '[m10n] Accessibility label when there is no description available'),v=this.getIsActionable()?{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleClick,onKeyPress:this.handleKeyPress,onFocus:this.handleFocus,onBlur:this.handleBlur,role:"button",tabIndex:0}:{},x=(null==t?void 0:t.images)&&(t.images.orig||t.images["236x"]||t.images["474x"]||t.images["736x"]);return(0,s.jsxs)("div",m(m({style:this.getStyle()},v),{},{"aria-label":b||_,children:[(0,s.jsx)(c,{image:t&&x&&{altText:t.altText,dominantColor:t.dominant_color,url:x.url,width:x.width,height:x.height},video:p,imgHeight:r,containerWidth:f,rounding:h,skipImageReloadOnError:d}),!l&&t.video_signature&&(0,s.jsx)(o.xu,{marginTop:1,children:(0,s.jsx)(o.JO,{icon:"play",accessibilityLabel:this.props.i18n._('Video play button', '[m10n] Accessibility label for a video play icon', '[m10n] Accessibility label for a video play icon'),color:"default",size:12,inline:!0})}),l&&!n&&!g&&(0,s.jsx)(E,{name:l.businessName}),u&&b.length>0&&(0,s.jsx)(o.xu,{padding:l?1:void 0,paddingX:l?void 0:1,paddingY:l?void 0:4,maxWidth:f||i.yF,children:(0,s.jsx)(o.xv,{size:g?"100":"200",weight:"bold",children:b})}),l&&(0,s.jsx)(A,{isMobile:g,avatarUrl:l.avatarImageSmallUrl,businessName:l.businessName})]}))}}],b(l.prototype,r),n&&b(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);P(w,"defaultProps",{showDescription:!0});var E=function(e){var t=e.name,r=(0,f.ZP)();return(0,s.jsxs)(o.xu,{display:"flex",padding:1,children:[(0,s.jsx)(o.xu,{marginEnd:1,children:(0,s.jsx)(o.JO,{accessibilityLabel:r._('Pin link arrow', 'Accessibility label for pin preview link icon', 'Accessibility label for pin preview link icon'),icon:"arrow-up-right",color:"default",inline:!0,size:10})}),(0,s.jsx)(o.xu,{children:(0,s.jsx)(o.xv,{inline:!0,size:"200",children:t})})]})},A=function(e){var t=e.avatarUrl,r=e.businessName,n=e.isMobile,i=void 0!==n&&n,a=(0,f.ZP)();return(0,s.jsxs)(o.xu,{display:"flex",justifyContent:i?"evenly":"start",alignItems:"center",paddingY:1,children:[(0,s.jsx)(o.xu,{children:(0,s.jsx)(d.qE,{name:r,src:t,size:i?"xs":"sm"})}),(0,s.jsxs)(o.xu,{marginStart:i?0:1,children:[(0,s.jsx)(u.Z,{size:i?"100":"200",weight:"bold",children:a._('Promoted by', 'Label for who promoted the pin', 'Label for who promoted the pin')}),(0,s.jsx)(o.xv,{size:i?"100":"200",children:r})]})]})},I=function(e){var t=(0,f.ZP)(),r=e.badgeMessage;return(0,s.jsxs)(o.xu,{children:[(0,s.jsx)(w,m(m({},e),{},{i18n:t})),r&&(0,s.jsx)(o.xu,{"data-test-id":"recommended-pins",display:"inlineBlock",padding:4,position:"absolute",left:!0,top:!0,children:(0,s.jsx)(o.Ct,{text:r})})]})}},28956:function(e,t,r){"use strict";r.d(t,{Z:function(){return ra}});var n=r(76911),o=r(908390),i=r(480542),a=r(237056),l=r(506979),s=r(186656),c=r(898781),u=r(177471),d=r(780280),f=r(19121),p=r(356997),h=function(e,t,r){var n=e.name.toLocaleLowerCase(),o=t.name.toLocaleLowerCase();return n<o?r?-1:1:n>o?r?1:-1:0},y=function(e,t,r){return e.lastModified||t.lastModified?e.lastModified?t.lastModified?e.lastModified<t.lastModified?r?-1:1:e.lastModified>t.lastModified?r?1:-1:h(e,t,!0):1:-1:h(e,t,!0)},m=r(515198);function g(e){var t=e.path,r=void 0===t?"":t,n=e.rootName,i=void 0===n?"Home":n,a=e.onChangeDirectory,l=r;r&&"/"!==r.charAt(0)&&(l="/".concat(l)),r&&"/"===r.charAt(r.length-1)&&(l=l.substring(0,r.length-1));var s=l.split("/");return(0,m.jsx)(o.kC,{alignItems:"start",justifyContent:"start",children:s.map(function(e,t){var r=s.slice(0,t+1).join("/");return(0,m.jsxs)(o.xu,{display:"flex",children:[t>0&&(0,m.jsx)(o.xu,{paddingX:1,children:(0,m.jsx)(o.xv,{color:"subtle",children:">"})}),(0,m.jsx)(o.xu,{paddingX:1,children:(0,m.jsx)(o.iP,{onTap:function(){return a(r)},children:(0,m.jsx)(o.xv,{color:t===s.length-1?"default":"subtle",children:0===t?i:e})})})]},r)})})}var b=r(795067);function _(e){return -1===e.indexOf(".")?"":e.trim().split(".").pop().toLowerCase()}var v=r(531245);function x(e){var t=_(e.name);return"dropboxFolder"===e.type||!!t&&v.P7.includes(t)||!!t&&v.sc.includes(t)}function P(e,t){var r=e.lastIndexOf(".")-3,n=e.substr(r);return e.length>t&&r-3>=1?"".concat(e.substr(0,t-(n.length+3)),"...").concat(n):e}var O=r(938999);function j(e){var t=e.item,r=t.name,n=t.type,i=t.thumbnail?"data:image/jpeg;base64,".concat(t.thumbnail):"",a=x(t);return(0,m.jsx)(o.zd,{rounding:2,height:"100%",width:"100%",children:(0,m.jsx)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:a&&i?(0,m.jsx)(o.Ee,{alt:r||"",fit:"cover",src:i,naturalHeight:1,naturalWidth:1}):(0,m.jsx)(o.JO,{icon:"dropboxFolder"===n?"folder":"file-unknown",accessibilityLabel:"dropboxFolder"===n?"Folder icon":"Unknown file icon",size:"60%"})})})}function S(e){var t=e.color,r=e.duration,i=e.type,a=(0,c.ZP)();return(0,m.jsx)(o.xu,{color:t,display:"flex",rounding:"pill",paddingX:2,paddingY:1,children:"localVideo"===i||"dropboxVideo"===i?(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(o.JO,{accessibilityLabel:a._('Video icon', 'Icon label to tell if media type is a video', 'Icon label to tell if media type is a video'),color:"inverse",icon:"video-camera"}),!!r&&(0,m.jsx)(o.xu,{marginStart:1,children:(0,m.jsx)(o.xv,{color:"inverse",size:"200",children:r})})]}):(0,m.jsx)(o.xv,{color:"inverse",size:"200",children:a._('GIF', 'Text to represent media is a GIF image', 'Text to represent media is a GIF image')})})}function w(e){var t=e.number;return(0,m.jsx)(o.xu,{alignItems:"center",color:"primary",display:"flex",height:24,justifyContent:"center",margin:3,right:!0,position:"absolute",rounding:"circle",top:!0,width:24,"data-test-id":"number-overlay",children:(0,m.jsx)(o.xv,{color:"inverse",size:"200",weight:"bold",children:t})})}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var A={paddingInlineStyle:{__style:{padding:6}},disabledOverlayInlineStyle:{__style:{padding:2,opacity:.5}},marginInlineStyle:{margin:2},thumbnailInlineStyle:{padding:2,cursor:"pointer"}};function I(e){var t,r=e.item,i=e.onClick,a=e.selected,l=e.selectedIndex,s=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],u=s[1],d=(0,n.useCallback)(function(){return i(r)},[r,i]),f=(0,n.useCallback)(function(){return u(!0)},[u]),p=(0,n.useCallback)(function(){return u(!1)},[u]),h=x(r),y=(0,b.Z)(r),g=(0,m.jsxs)(o.xu,{rounding:2,height:153,width:153,position:"relative",display:"flex",alignItems:"center",justifyContent:"center",color:c?"lightWash":"secondary",children:[(0,m.jsx)(j,{item:r}),l>=0&&(0,m.jsx)(w,{number:l+1}),!!y&&(0,m.jsx)(o.xu,{bottom:!0,left:!0,margin:1,position:"absolute",children:(0,m.jsx)(S,{color:"transparentDarkGray",type:y})})]}),_=(0,m.jsxs)(o.xu,{paddingY:2,children:[(0,m.jsx)(o.xv,{size:"200",lineClamp:1,children:P(r.name,20)}),(0,m.jsxs)(o.xu,{paddingY:1,children:[!!r.items&&(0,m.jsx)(o.xv,{size:"100",lineClamp:1,children:"".concat(r.items," items")}),!!r.size&&(0,m.jsx)(o.xv,{size:"100",lineClamp:1,children:r.size})]})]});return(0,m.jsx)(O.Z,{onClick:h?d:void 0,rounded:!0,style:A.marginInlineStyle,children:(0,m.jsx)(o.xu,{rounding:2,width:168,dangerouslySetInlineStyle:h?A.paddingInlineStyle:A.disabledOverlayInlineStyle,children:h?(0,m.jsxs)(o.st,{onMouseEnter:f,onMouseLeave:p,children:[(0,m.jsx)(O.Z,{selected:a,rounded:!0,style:A.thumbnailInlineStyle,children:g}),_]}):(0,m.jsxs)(n.Fragment,{children:[g,_]})})})}function C(e){var t=e.items,r=e.selected,n=e.onClick;return(0,m.jsx)(o.Rk,{renderItem:function(e){var t=e.data,o=r.map(function(e){return e.id});return(0,m.jsx)(I,{item:t,onClick:n,selected:o.includes(t.id),selectedIndex:o.indexOf(t.id)},t.id)},columnWidth:168,layout:"uniformRow",gutterWidth:4,items:t,minCols:5})}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){B(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F(n.key),n)}}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function M(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,r){return(t=F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==T(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===T(t)?t:String(t)}var Z=["grid","list"],U={grid:0,list:1},H={__style:{zIndex:1e3}},V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=N(a);if(t){var n=N(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return M(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return B(M(e=i.call.apply(i,[this].concat(r))),"state",{view:e.props.initialView,sort:"newest",query:"",isFlyoutOpen:!1}),B(M(e),"handleSearch",function(t){var r=t.value;return e.setState({query:r})}),B(M(e),"handleChangeView",function(t){var r=t.activeIndex;e.setState({view:Z[r]})}),B(M(e),"handleSort",function(t){var r=t.value;return e.setState({sort:r})}),B(M(e),"handleSetRef",function(t){e._ref=t}),B(M(e),"handleAvatarClick",function(){var t=e.props.onFlyoutChange,r=e.state.isFlyoutOpen;e.setState({isFlyoutOpen:!r}),t&&t(!r)}),B(M(e),"handleFlyoutDismiss",function(){var t=e.props.onFlyoutChange;e.setState({isFlyoutOpen:!1}),t&&t(!1)}),B(M(e),"options",[{label:e.props.i18n._('Newest', 'Dropdown option to sort by newest', 'Dropdown option to sort by newest'),value:"newest"},{label:e.props.i18n._('Oldest', 'Dropdown option to sort by oldest', 'Dropdown option to sort by oldest'),value:"oldest"},{label:e.props.i18n._('A to Z', 'Dropdown option to sort by descending alphabetical order', 'Dropdown option to sort by descending alphabetical order'),value:"a-z"},{label:e.props.i18n._('Z to A', 'Dropdown option to sort by ascending alphabetical order', 'Dropdown option to sort by ascending alphabetical order'),value:"z-a"}]),B(M(e),"getSort",function(e){switch(e){case"oldest":return function(e,t){return y(e,t,!0)};case"a-z":return function(e,t){return h(e,t,!0)};case"z-a":return function(e,t){return h(e,t,!1)};default:return function(e,t){return y(e,t,!1)}}}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.path,r=e.items,n=e.selected,i=e.name,a=e.avatarUrl,l=e.onChangeDirectory,s=e.onFileClick,c=e.onLogout,u=this.state,d=u.view,f=u.sort,h=u.query,y=u.isFlyoutOpen,b=((function(e){if(Array.isArray(e))return R(e)})(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}}(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(this.getSort(f)),_=h.length>0?b.filter(function(e){return e.name.toLocaleLowerCase().includes(h.toLocaleLowerCase())}):b;return(0,m.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:"100%",children:[(0,m.jsxs)(o.xu,{direction:"row",display:"flex",paddingY:2,marginStart:-1,marginEnd:-1,children:[(0,m.jsx)(o.xu,{paddingX:2,ref:this.handleSetRef,children:(0,m.jsx)(o.iP,{onTap:this.handleAvatarClick,rounding:"circle",children:(0,m.jsx)(p.qE,{size:"sm",name:i,src:a})})}),(0,m.jsx)(o.xu,{flex:"grow",paddingX:2,children:(0,m.jsx)(o.Um,{accessibilityLabel:this.props.i18n._('Search', 'Accessibility label for the searching through dropbox items and folders', 'Accessibility label for the searching through dropbox items and folders'),id:"dropbox-search-field",onChange:this.handleSearch,placeholder:this.props.i18n._('Search', 'Placeholder for search field', 'Placeholder for search field'),size:"lg",value:h})}),(0,m.jsx)(o.xu,{paddingX:2,children:(0,m.jsx)(o.sY,{items:[(0,m.jsx)(o.JO,{icon:"view-type-default",accessibilityLabel:"Switch to Grid View"}),(0,m.jsx)(o.JO,{icon:"view-type-list",accessibilityLabel:"Switch to List View"})],selectedItemIndex:U[d],onChange:this.handleChangeView})}),(0,m.jsx)(o.xu,{paddingX:2,width:174,children:(0,m.jsx)(o.EI,{id:"asset-picker-dropbox-sort-select-list",onChange:this.handleSort,value:f,children:this.options.map(function(e){var t=e.label,r=e.value;return(0,m.jsx)(o.EI.Option,{label:t,value:r},t)})})})]}),(0,m.jsx)(o.xu,{paddingY:2,children:(0,m.jsx)(g,{path:t,rootName:"Dropbox",onChangeDirectory:l})}),(0,m.jsx)(o.xu,{marginStart:-2,marginEnd:-2,width:0,children:(0,m.jsx)(C,{items:_,selected:n,onClick:s})}),y&&(0,m.jsx)(o.mh,{children:(0,m.jsx)(o.xu,{position:"absolute",top:!0,dangerouslySetInlineStyle:H,children:(0,m.jsx)(o.J2,{anchor:this._ref,onDismiss:this.handleFlyoutDismiss,idealDirection:"down",positionRelativeToAnchor:!1,children:(0,m.jsx)(o.xu,{width:"100%",padding:4,children:(0,m.jsxs)(o.xu,{width:"100%",display:"flex",direction:"column",justifyContent:"center",marginTop:-2,marginBottom:-2,children:[(0,m.jsxs)(o.xu,{display:"flex",paddingY:2,alignItems:"center",children:[(0,m.jsx)(p.qE,{size:"sm",name:i,src:a}),(0,m.jsx)(o.xu,{paddingX:2,children:(0,m.jsx)(o.xv,{children:i})})]}),(0,m.jsx)(o.iz,{}),(0,m.jsxs)(o.xu,{paddingY:2,children:[(0,m.jsx)(o.xu,{paddingY:2,children:(0,m.jsx)(o.rU,{href:"https://www.dropbox.com",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,m.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,m.jsx)(o.xv,{weight:"bold",children:this.props.i18n._('Go to Dropbox', 'Link to redirect to Dropbox index page', 'Link to redirect to Dropbox index page')}),(0,m.jsx)(o.JO,{icon:"visit",color:"default",accessibilityLabel:this.props.i18n._('Go to Dropbox', 'Link to redirect to Dropbox index page', 'Link to redirect to Dropbox index page')})]})})}),(0,m.jsx)(o.xu,{paddingY:2,children:(0,m.jsx)(o.rU,{href:"#",onClick:function(e){var t=e.event,r=e.dangerouslyDisableOnNavigation;t.preventDefault(),r(),c()},children:(0,m.jsx)(o.xv,{weight:"bold",children:this.props.i18n._('Sign out', 'Button to unlink user from their Dropbox account', 'Button to unlink user from their Dropbox account')})})})]})]})})})})})]})}}],z(a.prototype,r),n&&z(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function G(e){var t=(0,c.ZP)();return(0,m.jsx)(V,k(k({},e),{},{i18n:t}))}B(V,"defaultProps",{items:[],selected:[],initialView:"grid",path:"",name:"Dropbox User",avatarUrl:""});var W=r(870479);function Y(e){var t=e.onClick;return(0,m.jsx)(o.xu,{height:"100%",children:(0,m.jsxs)(o.xu,{height:"100%",alignItems:"center",direction:"column",display:"flex",justifyContent:"center",padding:3,children:[W.Z,(0,m.jsx)(o.xu,{paddingY:5,children:(0,m.jsx)(o.xv,{weight:"bold",children:"Connect to your Dropbox account"})}),(0,m.jsx)(o.zx,{text:"Sign in",color:"gray",onClick:t})]})})}var X=r(205992);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(t){er(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,en(n.key),n)}}function Q(e,t){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t,r){return(t=en(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function en(e){var t=function(e,t){if("object"!==q(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==q(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===q(t)?t:String(t)}var eo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=et(a);if(t){var n=et(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ee(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return er(ee(e=i.call.apply(i,[this].concat(r))),"state",{path:"",userName:"",userAvatarURL:"",items:[],isLoading:!1}),er(ee(e),"_isMounted",!1),er(ee(e),"startDropboxAuthorization",function(){var t=e.props,r=t.socialManager,n=t.updateSocialNetwork,o=t.setError;r.handleConnect("dropbox",!0,{success:function(){e._isMounted&&(n("dropbox",!0),e.setState({isLoading:!0},e.getUserAccountInfo))},error:function(){e._isMounted&&o(e.props.i18n._('Hmm... your Dropbox sign in didn\'t work. Give it another try.', 'Error message to indicate that there was error happened while signing into Dropbox', 'Error message to indicate that there was error happened while signing into Dropbox'))}},e.props.i18n)}),er(ee(e),"listPathContent",function(){var t=e.props.setError,r=e.state.path;(0,s.Z)({url:"/v3/dropbox/folder/",data:{path:r}}).then(function(t){var r=t.resource_response.data.entries,n=r.map(function(e){return e.id}),o=r.reduce(function(e,t){return"file"===t[".tag"]?e[t.id]={id:t.id,type:"dropboxFile",name:t.name,size:function(e,t){var r=t?1e3:1024;if(Math.abs(e)<r)return e+" B";var n=["KB","MB","GB","TB","PB","EB","ZB","YB"],o=-1;do e/=r,o+=1;while(Math.abs(e)>=r&&o<n.length-1);var i=e.toFixed(1);return i.endsWith(".0")&&(i=i.substring(0,i.length-2)),i+" "+n[o]}(t.size,!1),lastModified:new Date(t.client_modified),isDownloadable:t.is_downloadable}:e[t.id]={id:t.id,type:"dropboxFolder",name:t.name},e},{});(0,s.Z)({url:"/v3/dropbox/files/",data:{paths:n,add_fields:["dropboxfile.thumbnail"]}}).then(function(e){return e.resource_response.data.forEach(function(e){"success"===e.thumbnail[".tag"]&&(o[e.id]=$($({},o[e.id]),{},{thumbnail:e.thumbnail.thumbnail}))}),Promise.all(Object.values(o).filter(function(e){return"dropboxFolder"===e.type}).map(function(e){return(0,s.Z)({url:"/v3/dropbox/folder/",data:{path:e.id}})}))}).then(function(e){e.forEach(function(e){var t=e.resource_response.data;o[t.path].items=t.size})}).then(function(){if(e._isMounted){var t=Object.values(o);e.setState({items:t},function(){return e.setState({isLoading:!1})})}})}).catch(function(r){e._isMounted&&e.setState({isLoading:!1},function(){return t(e.props.i18n._('Hmm... your files from Dropbox didn\'t upload. Try again.', 'Error message to indicate that there was error happened while retrieving files in user\u2019s Dropbox', 'Error message to indicate that there was error happened while retrieving files in user\u2019s Dropbox'))})})}),er(ee(e),"handleClick",function(t){var r=e.props.onSelect,n=e.state.path;"dropboxFolder"===t.type?e.handleChangeDirectory("".concat(n,"/").concat(t.name)):r(t)}),er(ee(e),"handleChangeDirectory",function(t){e.setState({path:t,isLoading:!0},e.listPathContent)}),er(ee(e),"getUserAccountInfo",function(){(0,s.Z)({url:"/v3/dropbox/users/me/"}).then(function(t){if(e._isMounted){var r=t.resource_response.data;e.setState({userName:r.name.display_name,userAvatarURL:r.profile_photo_url},e.listPathContent)}}).catch(function(t){(0,e.props.setError)("Hmm... We didn't get your Dropbox account information. Try again.")})}),er(ee(e),"handleLogout",function(){(0,e.props.updateSocialNetwork)("dropbox",!1),(0,s.Z)({url:"/v3/connect/dropbox/",method:"DELETE"})}),e}return r=[{key:"componentDidMount",value:function(){var e=this.props.viewer;this._isMounted=!0,e.isAuth&&e.socialNetwork.dropbox.connected&&this.setState({isLoading:!0},this.getUserAccountInfo)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.props,t=e.viewer,r=e.visible,n=e.selectedAssets,i=e.onFlyoutChange,a=this.state,l=a.items,s=a.path,c=a.userName,u=a.userAvatarURL,d=a.isLoading,f=t.isAuth&&t.socialNetwork.dropbox.connected;return(0,m.jsxs)(o.xu,{column:12,height:"100%",display:r?"block":"none",padding:3,children:[(0,m.jsx)(o.xu,{height:"100%",paddingX:3,paddingY:1,children:f?(0,m.jsx)(G,{initialView:"grid",items:l,selected:n,name:c,avatarUrl:u,path:s,onChangeDirectory:this.handleChangeDirectory,onFileClick:this.handleClick,onFlyoutChange:i,onLogout:this.handleLogout}):(0,m.jsx)(Y,{onClick:this.startDropboxAuthorization})}),d&&(0,m.jsx)(o.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",children:(0,m.jsx)(o.$j,{show:!0,accessibilityLabel:this.props.i18n._('Dropbox Loading Spinner', 'description for loading spinner inside AssetPicker Dropbox tab', 'description for loading spinner inside AssetPicker Dropbox tab')})})]})}}],J(a.prototype,r),n&&J(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function ei(e){var t=(0,l.useDispatch)(),r=(0,c.ZP)(),n=(0,u.k)();return(0,m.jsx)(eo,$($({},e),{},{i18n:r,socialManager:n,updateSocialNetwork:function(e,r){return t((0,X.V6)(e,r))},viewer:(0,f.Z)(),requestContext:(0,d.B)()}))}var ea=r(784590),el=r(717615),es=r(596505),ec=r(81226),eu=r(299295),ed=r(665866),ef=r(925797),ep=r(454074),eh=r(281139);function ey(e){return function(e){if(Array.isArray(e))return em(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return em(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return em(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function em(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eg(e){var t=e.addAssets,r=(0,c.ZP)(),i=(0,n.useCallback)(function(e){return t?t(e):function(){}},[t]);return(0,m.jsx)(o.xu,{height:160,marginBottom:4,rounding:2,width:160,children:(0,m.jsx)(eh.Z,{accept:[].concat(ey(v.xl),ey(v.ss)).join(","),allowMultipleFiles:!0,id:"asset-empty-view-upload",onChange:function(e){i(Array.from(e.target.files))},onDrop:function(e){i((0,ep.Z)(e.dataTransfer))},children:function(){return(0,m.jsx)(o.xu,{alignItems:"center",color:"secondary",display:"flex",height:"100%",justifyContent:"center",rounding:2,children:(0,m.jsx)(o.JO,{accessibilityLabel:r._('Add assets', 'Accessibility label for adding images and videos', 'Accessibility label for adding images and videos'),icon:"add-circle",size:32})})}})})}var eb=r(382415);function e_(e){var t=e.height,r=e.image,n=e.width,i=r.height,a=r.src,l=r.width;return(0,m.jsxs)(o.zd,{rounding:2,height:"100%",width:"100%",children:[(0,m.jsx)(o.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,m.jsx)(eb.Z,{color:"rgba(0, 0, 0, 0.12)"})}),(0,m.jsx)(o.Ee,{alt:r.name||"",fit:t||n?"cover":void 0,naturalHeight:t||i||1,src:a,naturalWidth:n||l||1})]})}function ev(e){var t=e.height,r=e.width,n=e.title,i=e.description,a=e.image236x,l=e.image474x||a||{},s=l.height,c=l.width,u=l.url;return(0,m.jsx)(o.zd,{rounding:2,height:t||"100%",width:r||"100%",children:(0,m.jsx)(o.Ee,{alt:n||i||"",fit:t||r?"cover":void 0,naturalHeight:null!=s?s:1,naturalWidth:null!=c?c:1,src:null!=u?u:""})})}function ex(e){var t=e.height,r=e.width,n=e.video.customCoverImg;return(0,m.jsx)(o.zd,{height:t,rounding:2,width:r,children:(0,m.jsx)(o.Ee,{alt:n&&n.name||"",fit:t||r?"cover":void 0,naturalHeight:t||n&&n.height||0,src:n&&n.src||"",naturalWidth:r||n&&n.width||0})})}function eP(e){var t,r,n=e.asset,o=e.height,i=e.width;return"localImage"===n.type||"webImage"===n.type?(0,m.jsx)(e_,{image:n,height:o,width:i}):"pin"===n.type?(0,m.jsx)(ev,{title:n.title,description:n.description,image236x:null!==(t=n.images)&&void 0!==t&&t["236x"]?{height:n.images["236x"].height,url:n.images["236x"].url,width:n.images["236x"].width}:void 0,image474x:null!==(r=n.images)&&void 0!==r&&r["474x"]?{height:n.images["474x"].height,url:n.images["474x"].url,width:n.images["474x"].width}:void 0,height:o,width:i}):"localVideo"===n.type?(0,m.jsx)(ex,{height:o,width:i,video:n}):"dropboxFile"===n.type||"dropboxFolder"===n.type?(0,m.jsx)(j,{item:n}):null}var eO=r(984268);function ej(e){var t=e.addAssets,r=e.asset,i=e.onSelect,a=e.selected,l=e.selectedIndex,s=(0,n.useCallback)(function(){return i(r)},[r]);if("blank"===r.type)return(0,m.jsx)(eg,{addAssets:t});var c="localVideo"===r.type?1e3*r.duration:void 0,u=("pin"===r.type&&r.videos?r.videos:{}).video_list,d=(u&&u.V_720P||{}).duration,f=(0,b.Z)(r),p=c||d?(0,ec.Z)(c||d||0):void 0;return(0,m.jsxs)(o.xu,{"data-group-id":"asset-picker-view-grid-group-item",column:12,children:[(0,m.jsxs)(O.Z,{onClick:s,rounded:!0,selected:a,children:[(0,m.jsxs)(o.xu,{position:"relative","data-test-id":"asset-picker-view-item",children:[(0,m.jsx)(eP,{asset:r}),!!f&&(0,m.jsx)(o.xu,{bottom:!0,left:!0,margin:1,position:"absolute",children:(0,m.jsx)(S,{color:"transparentDarkGray",duration:p,type:f})})]}),l>=0&&(0,m.jsx)(w,{number:l+1})]}),ed.Z.enabled("shop_the_pin")&&"pin"===r.type&&(0,m.jsxs)(o.xu,{children:[(0,m.jsx)(eO.dV,{input:{type:"deprecated",data:r},children:function(e){return!!e&&(0,m.jsx)(o.xu,{children:(0,m.jsx)(o.xu,{paddingY:1,display:"flex",children:(0,m.jsx)(ef.Z,{text:e,icon:"tag"})})})}}),(0,m.jsx)(eO.v2,{input:{type:"deprecated",data:r},children:function(e){return!!e&&(0,m.jsx)(o.xu,{width:eu.MN,children:(0,m.jsx)(o.xv,{overflow:"breakWord",size:"200",weight:"bold",children:e})})}})]}),!!r.name&&(0,m.jsx)(o.xu,{paddingY:1,title:r.name,children:(0,m.jsx)(o.xv,{size:"200",children:P(String(r.name),20)})})]})}function eS(e){var t=e.assets,r=e.loadItems,n=e.scrollContainer;return(0,m.jsx)(o.Rk,{renderItem:function(t){var r,n=t.data,o=t.itemIdx,i=e.addAssets,a=e.onSelect,l=e.selectedAssets,s=e.showAddAssetButton,c=(void 0===s||s)&&0===o;return(0,m.jsx)(ej,{addAssets:i,asset:c?{id:"pinbuilder_asset_picker_blank",type:"blank"}:n,onSelect:c?function(){}:a,selected:!c&&(!!l.includes(n)||!!l.find(function(e){return n.id===e.id})),selectedIndex:c?-1:(r=l.indexOf(n))>-1?r:l.findIndex(function(e){return e.id===n.id})})},columnWidth:158,gutterWidth:16,items:t,loadItems:r,scrollContainer:n,minCols:5})}function ew(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eE(e){var t,r=e.onSelect,i=e.pins,a=e.selectedAssets,l=e.shouldShowProductsOnly,s=e.searchFilterText,u=e.addAssets,d=(0,c.ZP)(),f=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ew(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ew(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=f[0],h=f[1];(0,n.useEffect)(function(){return h(i&&!i.isLoaded)});var y=l?eO.VX:eO.Bc,g=i&&i.data&&i.data.reduce(function(e,t){return t&&"pin"===t.type&&y(t)&&(0,eO.ir)(t,s)&&e.push(t),e},[])||[];return(0,m.jsxs)(o.xu,{alignItems:"center",display:"flex","data-test-id":"asset-picker-pins-pane",height:p?"100%":void 0,justifyContent:"center",children:[(0,m.jsx)(o.$j,{accessibilityLabel:d._('Loading...', 'Loading', 'Loading'),show:p}),i&&i.data&&i.data.length>0&&(0,m.jsx)(eS,{addAssets:u,assets:g,onSelect:r,loadItems:i.fetchMore,scrollContainer:function(){return window},selectedAssets:a,showAddAssetButton:!1})]})}function eA(e){var t=e.addAssets,r=e.onSelect,n=e.searchFilterText,o=e.selectedAssets,i=e.shouldShowProductsOnly,a=e.username,l=(0,ea.Z)({name:"UserPinsResource",options:{field_set_key:"detailed",username:a,prepend:!1,include_protected_pins:!0,limit:1e3,page_size:150}});return(0,m.jsx)(eE,{addAssets:t,onSelect:r,pins:l,searchFilterText:n,selectedAssets:o,shouldShowProductsOnly:i})}function eI(e){return(eI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eC(Object(r),!0).forEach(function(t){eL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eM(n.key),n)}}function ek(e,t){return(ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eR(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ez(e){return(ez=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eL(e,t,r){return(t=eM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eM(e){var t=function(e,t){if("object"!==eI(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eI(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eI(t)?t:String(t)}var eN={PRODUCTS:"PRODUCTS",ALL_PINS:"ALL_PINS"},eB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ek(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ez(a);if(t){var n=ez(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eI(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eR(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eL(eR(e=i.call.apply(i,[this].concat(r))),"state",{shouldShowProductsOnly:!0,searchText:"",showDropdownFlyout:!1,currentSelection:eN.PRODUCTS}),eL(eR(e),"setContainerRef",function(t){e.containerRef=t}),eL(eR(e),"handleHideDropdownFlyout",function(t){t.target instanceof HTMLElement&&e.setState(function(r){return{showDropdownFlyout:!!(e.containerRef&&t.target instanceof HTMLElement&&e.containerRef.contains(t.target))&&!r.showDropdownFlyout}})}),eL(eR(e),"dropdownOnChange",function(t){t&&e.setState({shouldShowProductsOnly:t.value===eN.PRODUCTS,showDropdownFlyout:!1,currentSelection:t.value})}),eL(eR(e),"handleSearchQueryUpdates",function(t){e.setState({searchText:t.value})}),eL(eR(e),"handleAssetSelect",function(t){(0,e.props.onSelect)(t)}),e}return r=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleHideDropdownFlyout,{capture:!0})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleHideDropdownFlyout,{capture:!0})}},{key:"render",value:function(){var e,t=this.props,r=t.selectedAssets,n=t.visible,i=t.viewer,a=t.user.data,l=this.state,s=l.shouldShowProductsOnly,c=l.searchText,u=l.showDropdownFlyout,d=l.currentSelection,f=(e=this.props.i18n,new Map([[eN.PRODUCTS,e._('Product Pins', 'Dropdown filter to show products only', 'Dropdown filter to show products only')],[eN.ALL_PINS,e._('All Pins', 'Dropdown filter to show all pins', 'Dropdown filter to show all pins')]])),p=(a?a.username:i&&i.isAuth&&i.username)||"";return this.props.orbacActingAs&&this.props.orbacActingAs.user&&this.props.orbacActingAs.user.username&&(p=this.props.orbacActingAs.user.username),(0,m.jsxs)(o.xu,{column:12,height:"100%",display:n?"block":"none",padding:3,"data-test-id":"asset-picker-tagging-pane",children:[(0,m.jsx)(o.xu,{marginStart:4,children:(0,m.jsx)(o.X6,{size:"500",children:this.props.i18n._('Use your Pins', 'Select products to the collection/STL selected in Pin Builder.', 'Select products to the collection/STL selected in Pin Builder.')})}),(0,m.jsx)(o.xu,{marginStart:4,marginTop:3,children:(0,m.jsx)(o.xv,{children:this.props.i18n._('Keep it simple\u2014use your existing Pins to add products to your image. Add products in the order you want people to see them.', 'Description of the functionalities in the pins picker tab', 'Description of the functionalities in the pins picker tab')})}),(0,m.jsxs)(o.xu,{margin:4,alignItems:"center",direction:"row",display:"flex",children:[(0,m.jsx)(o.xu,{rounding:2,column:10,children:(0,m.jsx)(o.nv,{id:"search",onChange:this.handleSearchQueryUpdates,placeholder:this.props.i18n._('Search Pin title or description', 'Placeholder search bar text to search the pins', 'Placeholder search bar text to search the pins'),size:"lg",type:"text",value:c})}),(0,m.jsx)(o.xu,{ref:this.setContainerRef,children:(0,m.jsx)(o.xu,{column:3,rounding:2,marginStart:4,"data-test-id":"pins-filter-dropdown",children:(0,m.jsx)(es.Z,{onOpen:this.dropdownOnChange,onClose:this.dropdownOnChange,isOpen:u,onChange:this.dropdownOnChange,options:Object.keys(eN).map(function(e){return eN[e]}).map(function(e){return{label:f.get(e),value:e}}),value:{label:f.get(d),value:{currentSelection:d}}})})})]}),(0,m.jsx)(o.xu,{children:n&&(0,m.jsx)(eA,{addAssets:void 0,onSelect:this.handleAssetSelect,selectedAssets:r,username:p,shouldShowProductsOnly:s,searchFilterText:c})})]})}}],eD(a.prototype,r),n&&eD(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.PureComponent);function eF(e){var t=(0,l.useSelector)(function(e){return e.advertiser}),r=(0,c.ZP)(),n=(0,f.Z)(),o=(0,el.Z)(),i=(0,ea.Z)({name:"UserResource",options:{field_set_key:"grid_item",user_id:!!t&&t.owner_user_id||n.isAuth&&n.id||""}});return(0,m.jsx)(eB,eT(eT({},e),{},{advertiser:t,i18n:r,user:i,viewer:n,orbacActingAs:o}))}var eZ=r(66699),eU=r(966113),eH=r(77891),eV=r(916655),eG=r(407043);function eW(e){return(eW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eX(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eY(Object(r),!0).forEach(function(t){e1(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eY(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eq(e){return function(e){if(Array.isArray(e))return eK(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return eK(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eK(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eK(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e2(n.key),n)}}function eJ(e,t){return(eJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eQ(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e0(e){return(e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e1(e,t,r){return(t=e2(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e2(e){var t=function(e,t){if("object"!==eW(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eW(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eW(t)?t:String(t)}var e8={__style:{zIndex:eu.v9}},e3=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eJ(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=e0(a);if(t){var n=e0(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eW(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eQ(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e1(eQ(e=i.call.apply(i,[this].concat(r))),"state",{sort:"newest",query:""}),e1(eQ(e),"handleSearch",function(t){e.props.logContextEvent({event_type:7472,component:13392,element:11270}),e.setState({query:t.value})}),e1(eQ(e),"getSort",function(e){switch(e){case"oldest":return function(){return -1};case"a-z":return function(e,t){var r=e.name.toLocaleLowerCase(),n=t.name.toLocaleLowerCase();return r<n?-1:r>n?1:0};case"z-a":return function(e,t){var r=e.name.toLocaleLowerCase(),n=t.name.toLocaleLowerCase();return r>n?-1:r<n?1:0};default:return function(){return 0}}}),e1(eQ(e),"handleSort",function(t){var r=t.value;e.props.logContextEvent({event_type:3828,component:13392,element:11273}),e.setState({sort:r})}),e1(eQ(e),"options",[{label:e.props.i18n._('Newest', 'Dropdown option to sort by newest', 'Dropdown option to sort by newest'),value:"newest"},{label:e.props.i18n._('Oldest', 'Dropdown option to sort by oldest', 'Dropdown option to sort by oldest'),value:"oldest"},{label:e.props.i18n._('A to Z', 'Dropdown option to sort by descending alphabetical order', 'Dropdown option to sort by descending alphabetical order'),value:"a-z"},{label:e.props.i18n._('Z to A', 'Dropdown option to sort by ascending alphabetical order', 'Dropdown option to sort by ascending alphabetical order'),value:"z-a"}]),e1(eQ(e),"handleDrop",function(t){var r=e.props,n=r.addAssets,o=r.logContextEvent,i=(0,ep.Z)(t.dataTransfer);o({event_type:3502,component:13392,element:11275}),n(i)}),e1(eQ(e),"handleSearchFieldFocus",function(){e.props.logContextEvent({event_type:101,component:13392,element:11270})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.addAssets,r=e.assets,n=e.onSelect,i=e.selectedAssets,a=this.state,l=a.sort,s=a.query,c=eq(r).sort(this.getSort(l)),u=s.length>0?c.filter(function(e){return e.name.toLocaleLowerCase().includes(s.toLocaleLowerCase())}):c;return(0,m.jsxs)(o.xu,{"data-test-id":"asset-picker-uploaded-pane",direction:"column",display:"flex",height:"100%",children:[(0,m.jsxs)(o.xu,{"data-test-id":"uploaded-pane-filter-box",display:"flex",padding:2,children:[(0,m.jsx)(o.xu,{flex:"grow",paddingX:1,children:(0,m.jsx)(o.Um,{accessibilityLabel:this.props.i18n._('Search', 'Accessibility label for the searching through uploaded images and videos', 'Accessibility label for the searching through uploaded images and videos'),id:"asset-search-field",onChange:this.handleSearch,onFocus:this.handleSearchFieldFocus,placeholder:this.props.i18n._('Search', 'Placeholder for search field', 'Placeholder for search field'),size:"lg",value:s})}),(0,m.jsx)(o.xu,{paddingX:1,width:168,children:(0,m.jsx)(o.EI,{id:"asset-picker-sort-select-list",onChange:this.handleSort,value:l,children:this.options.map(function(e){var t=e.label,r=e.value;return(0,m.jsx)(o.EI.Option,{label:t,value:r},t)})})})]}),(0,m.jsx)(o.xu,{height:"100%",position:"relative",width:"100%",children:(0,m.jsx)(eh.Z,{accept:[].concat(eq(v.xl),eq(v.ss)).join(","),allowMultipleFiles:!0,color:"white",id:"asset-picker-upload-pane",onDrop:this.handleDrop,children:function(e){return(0,m.jsx)(o.xu,{dangerouslySetInlineStyle:e?void 0:e8,paddingY:2,position:"relative",children:(0,m.jsx)(eS,{addAssets:t,assets:[{id:"pinbuilder_asset_picker_blank",type:"blank"}].concat(eq(u)),onSelect:n,selectedAssets:i})})}})})]})}}],e$(a.prototype,r),n&&e$(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function e5(e){var t=(0,eG.v)().logContextEvent,r=(0,c.ZP)();return(0,m.jsx)(e3,eX(eX({},e),{},{i18n:r,logContextEvent:t}))}var e6=r(353356),e4=r(69183),e9=r(623320);function e7(e){return(e7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==e7(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==e7(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e7(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tr=r(474394);function tn(e){return function(e){if(Array.isArray(e))return ti(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||to(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function to(e,t){if(e){if("string"==typeof e)return ti(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ti(e,t)}}function ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ta(e){var t,r=e.onSelect,i=(e.setLoading,e.setError),s=e.selectedAssets,u=e.visible,d=(0,c.ZP)(),f=(0,a.Z)(),p=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(""))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||to(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=p[0],y=p[1],g=(0,l.useDispatch)(),b=(0,l.useSelector)(function(e){return e.pinbuilder.assets}),_=function(e){return i(""),y(""),(0,eH.Z)({i18n:d,ideaPinRenamingEnabled:f,files:e,options:{allowVideo:!0}}).then(function(e){return Promise.all(e.reduce(function(e,t){return"localVideo"===t.type?[].concat(tn(e),[(0,e4.v)(t,0).then(function(e){return tt(tt({},t),{},{customCoverImg:{id:(0,e6.Z)(),fileSrc:t.fileSrc,name:t.name,size:(0,e9.Mi)(e).size,src:e,width:t.width,height:t.height,type:"localImage"}})})]):"localImage"===t.type||"error"===t.type?[].concat(tn(e),[Promise.resolve(t)]):e},[])).then(function(e){var t=e.reduce(function(e,t){return"error"===t.type?[].concat(tn(e),[t]):e},[]),n=e.reduce(function(e,t){return"error"!==t.type?[].concat(tn(e),[t]):e},[]);t.length>0&&((b.length>0||n.length>0)&&i((0,eZ.Z)(d.ngettext('Sorry, {{numOfErrors}} file could not be uploaded.', 'Sorry, {{numOfErrors}} files could not be uploaded.', t.length, 'Error message saying how many files could not be uploaded', 'Error message saying how many files could not be uploaded'),{numOfErrors:t.length}),null,(0,m.jsx)(o.rU,{target:"blank",href:eU.CmU,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,m.jsx)(o.zx,{color:"transparent",text:d._('Learn more', 'Learn more about error', 'Learn more about error')})})),y(t[0].message)),n.forEach(function(e){g((0,tr.addPinBuilderAsset)(e)),r(e)})})})};return(0,m.jsx)(o.xu,{column:12,height:"100%",display:u?"block":"none",children:b.length>0?(0,m.jsx)(o.xu,{height:"100%",paddingY:1,paddingX:3,children:(0,m.jsx)(e5,{addAssets:_,assets:b,onSelect:r,selectedAssets:s})}):(0,m.jsx)(o.xu,{height:"100%",padding:3,children:(0,m.jsx)(eV.Z,{addAssets:_,errorMessage:h})})})}var tl=r(121151),ts=r(123463),tc=r(566101),tu=r(231947);function td(e){return(td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tf(Object(r),!0).forEach(function(t){tb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tf(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function th(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t_(n.key),n)}}function ty(e,t){return(ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tm(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tg(e){return(tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tb(e,t,r){return(t=t_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t_(e){var t=function(e,t){if("object"!==td(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==td(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===td(t)?t:String(t)}var tv={border:"none",bottom:0,borderRadius:"0px 16px 16px 0px",height:"100%",width:"40px"},tx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ty(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tg(a);if(t){var n=tg(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===td(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tm(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return tb(tm(e=i.call.apply(i,[this].concat(r))),"state",{value:e.props.initialValue||""}),tb(tm(e),"handleOnChange",function(t){var r=t.value;e.setState({value:r})}),tb(tm(e),"handleOnSubmit",function(t){var r=e.props.onSubmit,n=e.state.value;t.preventDefault(),r({event:t,value:n})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.id,r=e.placeholder,n=e.type,i=this.state.value;return(0,m.jsx)(o.xu,{color:"secondary",rounding:4,children:(0,m.jsx)("form",{onSubmit:this.handleOnSubmit,noValidate:!0,children:(0,m.jsxs)(o.xu,{marginStart:-1,marginEnd:-1,display:"flex",children:[(0,m.jsx)(o.xu,{position:"relative",width:"100%",paddingX:1,flex:"grow",children:(0,m.jsx)(o.nv,{id:t,onChange:this.handleOnChange,placeholder:r,size:"lg",type:n,value:i})}),(0,m.jsx)(o.kC,{alignItems:"center",justifyContent:"center",children:(0,m.jsx)("button",{style:tv,type:"submit",right:"",children:(0,m.jsx)(o.JO,{accessibilityLabel:this.props.i18n._('Submit', 'Icon Button for submitting a text field value', 'Icon Button for submitting a text field value'),icon:"arrow-forward",inline:!0})})})]})})})}}],th(a.prototype,r),n&&th(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function tP(e){var t=(0,c.ZP)();return(0,m.jsx)(tx,tp(tp({},e),{},{i18n:t}))}function tO(e){return(tO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tj(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==tO(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tO(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tO(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tw(e){var t=e.itemId,r=e.onSelect,n=e.onSubmit,i=e.selectedAssets,a=(0,c.ZP)(),l=(0,d.B)(),s=(0,el.Z)(),u=(0,f.Z)(),p=(0,tu.lJ)(u,s)||u.isAuth&&u.id,h=(0,ea.Z)({name:"ProductGroupItemIdPinResource",options:tS(tS({merchantId:(0,tu._P)(l,u,s)},p!==u.id?{orbacSubjectId:p}:{}),{},{itemId:t,filters:{1:[t]}})}),y=h.data;if(!h.isLoaded)return(0,m.jsx)(o.$j,{accessibilityLabel:a._('Loading...', 'Loading', 'Loading'),show:!0});var g=(null!=y?y:[]).reduce(function(e,t){if(t){if(t.type="pin",t.rich_metadata){var r=t.rich_metadata.url||t.rich_metadata.id;(0,tc.Z)({url:r||""})&&(t.link=r)}e.push(t)}return e},[]);return(0,m.jsxs)(o.xu,{children:[(0,m.jsx)(o.xu,{paddingX:3,marginBottom:4,children:(0,m.jsx)(tP,{id:"asset-picker-itemid",initialValue:t,onSubmit:n,placeholder:a._('Enter product item ID', 'Placeholder for entering an item ID for a product from a catalog', 'Placeholder for entering an item ID for a product from a catalog')})}),g.length>0?(0,m.jsx)(eS,{assets:g,onSelect:r,selectedAssets:i,showAddAssetButton:!1}):(0,m.jsx)(o.xu,{padding:5,maxWidth:468,children:(0,m.jsx)(o.xv,{align:"center",color:"error",size:"200",children:a._('Hmm, there\u2019s no Pin for that. Correct any item ID formatting errors and try again.', 'Error message when no pins are returned after searching via catalogs item ID', 'Error message when no pins are returned after searching via catalogs item ID')})})]})}function tE(e){return(tE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(t){tR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tz(n.key),n)}}function tT(e,t){return(tT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tD(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tk(e){return(tk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tR(e,t,r){return(t=tz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tz(e){var t=function(e,t){if("object"!==tE(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tE(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tE(t)?t:String(t)}var tL=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tT(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tk(a);if(t){var n=tk(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===tE(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tD(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return tR(tD(e=i.call.apply(i,[this].concat(r))),"state",{itemId:"",validationError:null}),tR(tD(e),"handleOnSubmit",function(t){var r=t.value.trim().toLowerCase();r?(e.props.logContextEvent({event_type:7472,component:13392,element:11451}),e.setState({itemId:r,validationError:""})):e.setState({validationError:e.props.i18n._('Hmm, there\u2019s no Pin for that. Correct any item ID formatting errors and try again.', 'AssetPickerCatalogTab.NoPinError', 'Error message when no pins are returned after searching via catalogs item ID')})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.onSelect,r=e.selectedAssets,n=e.visible,i=this.state,a=i.itemId,l=i.validationError;return(0,m.jsx)(o.xu,{column:12,height:"100%",display:n?"block":"none",padding:3,children:a.length>0?(0,m.jsx)(tw,{itemId:a,onSubmit:this.handleOnSubmit,onSelect:t,selectedAssets:r}):(0,m.jsxs)(o.xu,{alignItems:"center",direction:"column",display:"flex",height:"100%",justifyContent:"center",padding:4,children:[(0,m.jsxs)(o.xu,{marginBottom:3,children:[(0,m.jsx)(o.xv,{align:"center",weight:"bold",children:this.props.i18n._('Add a product with its item ID', 'Prompt for adding a product from a catalog using an item ID', 'Prompt for adding a product from a catalog using an item ID')}),(0,m.jsx)(o.xv,{align:"center",children:this.props.i18n._('Product item IDs can be found in your data source', 'Helper text for where to find a product\'s item ID in a catalog', 'Helper text for where to find a product\'s item ID in a catalog')})]}),(0,m.jsx)(o.xu,{width:486,children:(0,m.jsx)(tP,{id:"asset-picker-itemid",onSubmit:this.handleOnSubmit,placeholder:this.props.i18n._('Enter product item ID', 'Placeholder for entering an item ID for a product from a catalog', 'Placeholder for entering an item ID for a product from a catalog')})}),l&&(0,m.jsx)(o.xu,{padding:5,maxWidth:468,children:(0,m.jsx)(o.xv,{align:"center",color:"error",size:"200",children:l})})]})})}}],tC(a.prototype,r),n&&tC(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function tM(e){var t=(0,eG.v)().logContextEvent,r=(0,c.ZP)();return(0,m.jsx)(tL,tI(tI({},e),{},{i18n:r,logContextEvent:t}))}var tN=r(134906);function tB(e){var t=e.onSubmit,r=e.title,n=e.description,i=e.validationError,a=(0,c.ZP)();return(0,m.jsxs)(o.xu,{alignItems:"center",direction:"column",display:"flex",height:"100%",justifyContent:"center",padding:4,children:[(0,m.jsxs)(o.xu,{marginBottom:3,children:[(0,m.jsx)(o.xv,{align:"center",weight:"bold",children:r||a._('Upload an image from your website', 'Prompt for scraping media from site', 'Prompt for scraping media from site')}),n&&(0,m.jsx)(o.xv,{children:n})]}),(0,m.jsx)(o.xu,{width:486,children:(0,m.jsx)(tP,{id:"asset-picker-url",onSubmit:t,placeholder:a._('Enter your website URL', 'Placeholder for entering website URL', 'Placeholder for entering website URL'),type:"url"})}),i&&(0,m.jsx)(o.xu,{padding:5,maxWidth:468,children:(0,m.jsx)(o.xv,{align:"center",color:"error",size:"200",children:i})})]})}var tF=r(122097),tZ=r(954931),tU=r(131555);function tH(e){var t=e.allowPinFetch,r=e.onSelect,n=e.onSubmit,i=e.selectedAssets,a=e.url,l=e.validationError,s=(0,c.ZP)(),u=(0,tZ.Z)(a)?/\/pin\/([\w-]+)\/?$/.exec(a):null;return(0,m.jsx)(o.xu,{height:"100%","data-test-id":"asset-picker-scraping-pane",children:u&&t?(0,m.jsx)(tU.Z,{pinId:u[1],fieldSetKey:"images_only_item",children:function(e){var t=e.pin,l=e.error;return e.loading&&!l?(0,m.jsxs)(o.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,m.jsx)(o.$j,{accessibilityLabel:s._('Loading', 'Accessibility label for spinner loading', 'Accessibility label for spinner loading'),show:!0}),(0,m.jsx)(o.xu,{padding:2,children:(0,m.jsx)(o.xv,{children:s._('Loading image', 'Loading message for image loading', 'Loading message for image loading')})})]}):(0,m.jsxs)(o.xu,{children:[(0,m.jsx)(o.xu,{paddingX:3,marginBottom:4,children:(0,m.jsx)(tP,{id:"asset-picker-url",initialValue:a,onSubmit:n,placeholder:s._('Enter your website URL', 'Placeholder for entering website URL', 'Placeholder for entering website URL'),type:"url"})}),l?(0,m.jsx)(o.xu,{padding:5,maxWidth:468,children:(0,m.jsx)(o.xv,{align:"center",color:"error",size:"200",children:s._('Hmm, that link didn\u2019t work. Try entering it again or use a different link.', 'Error message when scraping a link does not work.', 'Error message when scraping a link does not work.')})}):(0,m.jsx)(eS,{assets:t?[t]:[],onSelect:r,selectedAssets:i,showAddAssetButton:!1})]})}}):(0,m.jsx)(tF.Z,{source:"product_tags",url:a,children:function(e){var t=e.images,c=e.loading,u=e.error;return!c||l||u?(t.forEach(function(e){return Object.assign(e,{id:e.url,src:e.url,type:"webImage",sourceURL:a})}),(0,m.jsxs)(o.xu,{children:[(0,m.jsx)(o.xu,{paddingX:3,marginBottom:4,children:(0,m.jsx)(tP,{id:"asset-picker-url",initialValue:a,onSubmit:n,placeholder:s._('Enter your website URL', 'Placeholder for entering website URL', 'Placeholder for entering website URL'),type:"url"})}),l||u?(0,m.jsx)(o.xu,{padding:5,maxWidth:468,"data-test-id":"scrape-validation-error",children:(0,m.jsx)(o.xv,{align:"center",color:"error",size:"200",children:l||u})}):(0,m.jsx)(eS,{assets:t,onSelect:r,selectedAssets:i,showAddAssetButton:!1})]})):(0,m.jsxs)(o.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,m.jsx)(o.$j,{accessibilityLabel:s._('Loading', 'Accessibility label for spinner loading', 'Accessibility label for spinner loading'),show:!0}),(0,m.jsx)(o.xu,{padding:2,children:(0,m.jsx)(o.xv,{children:s._('Loading images', 'Loading message for image loading', 'Loading message for image loading')})})]})}})})}function tV(e){return(tV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tG(Object(r),!0).forEach(function(t){t$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tG(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tJ(n.key),n)}}function tX(e,t){return(tX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tq(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tK(e){return(tK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function t$(e,t,r){return(t=tJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tJ(e){var t=function(e,t){if("object"!==tV(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tV(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tV(t)?t:String(t)}var tQ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tX(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tK(a);if(t){var n=tK(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===tV(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tq(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return t$(tq(e=i.call.apply(i,[this].concat(r))),"state",{url:"",validationError:null}),t$(tq(e),"validateUrl",function(t){var r=e.props.usedUrls;return e.validateWebsiteUrl(t)||(r.includes(t)?e.props.i18n._('You can\'t tag from the same page twice.', 'AssetPickerScrapeTab.repeatedURL', 'Error message for using the same product link twice on a Pin tag'):null)}),t$(tq(e),"validateWebsiteUrl",function(t){var r=e.props.i18n._('Please enter a valid URL', 'AssetPickerScrapeTab.invalidURL', 'Error message for invalid/empty url');if(!t)return r;var n=(0,tN.Jx)({message:r});return(0,tN.a3)(t,[n])}),t$(tq(e),"handleOnSubmit",function(t){var r=t.value;e.props.logContextEvent({event_type:7472,component:13392,element:11267,aux_data:{url:r}});var n=r.trim(),o=e.validateUrl(n);e.setState({url:n,validationError:o})}),t$(tq(e),"handleOnSelect",function(t){var r=e.props,n=r.resetOnSelect,o=r.onSelect;void 0!==n&&n&&e.setState({url:""}),o(t)}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.selectedAssets,r=e.visible,n=e.title,i=e.description,a=this.state,l=a.url,s=a.validationError;return(0,m.jsx)(o.xu,{column:12,height:"100%",display:r?"block":"none",padding:3,children:l.length>0?(0,m.jsx)(tH,{onSelect:this.handleOnSelect,allowPinFetch:!0,onSubmit:this.handleOnSubmit,selectedAssets:t,url:l,validationError:s}):(0,m.jsx)(tB,{onSubmit:this.handleOnSubmit,title:n,description:i,validationError:s})})}}],tY(a.prototype,r),n&&tY(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function t0(e){var t=(0,eG.v)().logContextEvent,r=(0,c.ZP)();return(0,m.jsx)(tQ,tW(tW({},e),{},{i18n:r,logContextEvent:t}))}var t1=r(725108),t2=r(265696);function t8(e){return(t8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t5(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?t3(Object(r),!0).forEach(function(t){rr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t3(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function t6(e){return function(e){if(Array.isArray(e))return t4(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return t4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t4(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t4(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function t9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rn(n.key),n)}}function t7(e,t){return(t7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function re(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rr(e,t,r){return(t=rn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rn(e){var t=function(e,t){if("object"!==t8(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==t8(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===t8(t)?t:String(t)}var ro=function(e){var t=e.condition,r=e.children;return t?(0,m.jsx)(o.xu,{position:"absolute",zIndex:tl.b7,children:r}):r},ri=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t7(e,t)}(c,e);var t,r,a,l=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=rt(c);if(t){var n=rt(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===t8(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return re(e)}(this,e)});function c(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c),rr(re(t=l.call(this,e)),"state",{activeTabIndex:t.props.initialTab&&t.props.shownTabs?t.props.shownTabs.indexOf(t.props.initialTab):0,assets:t.props.selectedPins||[],isLoading:!1,isDropboxFlyoutOpen:!1,error:null,usedUrls:[]}),rr(re(t),"downloadDropboxAssets",function(){var e=t.state.assets,r=t.props,n=r.i18n,o=r.ideaPinRenamingEnabled;return Promise.all(e.map(function(e){return"dropboxFile"===e.type?(0,s.Z)({url:"/v3/dropbox/files/",data:{paths:[e.id],add_fields:["dropboxfile.file_base64"]}}).then(function(t){var r=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,n=atob(e),o=[],i=0;i<n.length;i+=r){for(var a=n.slice(i,i+r),l=Array(a.length),s=0;s<a.length;s+=1)l[s]=a.charCodeAt(s);var c=new Uint8Array(l);o.push(c)}return new Blob(o,{type:t})}(t.resource_response.data[0].file_base64);return(0,ts.Z)({i18n:n,ideaPinRenamingEnabled:o,file:new File([r],e.name,{type:function(e){switch(e){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";case"bmp":return"image/bmp";case"tiff":return"image/tiff";case"webp":return"image/webp";case"mp4":return"video/mp4";case"m4v":return"video/x-m4v";case"mov":return"video/quicktime";default:return""}}(_(e.name)),lastModified:e.lastModified.getTime()}),options:{allowVideo:!0}})}).catch(function(){return null}):e}))}),rr(re(t),"handleChangeTab",function(e){var r=e.activeTabIndex,n=e.event;(0,e.dangerouslyDisableOnNavigation)(),n.preventDefault(),t.setState({activeTabIndex:r})}),rr(re(t),"handleAssetSelect",function(e){t.props.logContextEvent({event_type:101,component:13392,element:11272});var r=t.props.maxAssetsToSelect,n=t.state,o=n.assets,i=n.usedUrls;if(e.id){if(o.some(function(t){return t.id===e.id}))t.setState({assets:o.filter(function(t){return t.id!==e.id}),usedUrls:i.filter(function(r){return r!==t.getUrl(e)})});else if(r<=0||o.length<r){var a=t.getUrl(e);t.setState({assets:[].concat(t6(o),[e]),usedUrls:a?[].concat(t6(i),[a]):i})}}}),rr(re(t),"getUrl",function(e){switch(e.type){case"pin":return e.link;case"webImage":return e.sourceURL;default:return null}}),rr(re(t),"handleSecondaryAction",function(){var e=t.props,r=e.onSecondaryAction,n=e.onDismiss,o=e.logContextEvent,i=t.state.assets;r&&(o({event_type:101,component:13392,element:11271,aux_data:{pin_builder_data:JSON.stringify({media_types:i.map(function(e){return e.type})})}}),t.setState({isLoading:!0},function(){t.downloadDropboxAssets().then(function(e){if(e){var t=e.filter(function(e){return!!e&&"error"!==e.type});t.length>0&&r(t)}n()})}))}),rr(re(t),"handlePrimaryAction",function(){var e=t.props,r=e.onPrimaryAction,n=e.onDismiss;(0,e.logContextEvent)({event_type:101,component:13392,element:11269,aux_data:{pin_builder_data:JSON.stringify({media_types:t.state.assets.map(function(e){return e.type})})}}),t.setState({isLoading:!0},function(){t.downloadDropboxAssets().then(function(e){if(e){var t=e.filter(function(e){return!!e&&"error"!==e.type});t.length>0&&r(t)}n()})})}),rr(re(t),"handleRemoveAsset",function(e){if(t.props.logContextEvent({event_type:101,component:13392,element:11274}),e.id){var r=t.getUrl(e),n=r?[].concat(t6(t.state.usedUrls),[r]):t.state.usedUrls;t.setState(function(t){return{assets:t.assets.some(function(t){return t.id===e.id})?t.assets.filter(function(t){return t.id!==e.id}):[].concat(t6(t.assets),[e]),usedUrls:t.usedUrls.some(function(e){return e===r})?t.usedUrls.filter(function(e){return e!==r}):n}})}}),rr(re(t),"removeError",function(){t.props.logContextEvent({event_type:101,component:13392,element:11264}),t.setState({error:null})}),rr(re(t),"handleSetLoading",function(e,r){r?t.setState({isLoading:e},r):t.setState({isLoading:e})}),rr(re(t),"handleSetError",function(e,r,n){if(e||r||n){var i=(0,m.jsx)(o.zx,{color:"white",onClick:t.removeError,text:t.props.i18n._('Got it', 'Button text to indicate a user understands action', 'Button text to indicate a user understands action')});t.setState({error:(0,m.jsx)(t1.Z,{errorMessage:e,primaryAction:r||i,secondaryAction:n})})}else t.setState({error:null})}),rr(re(t),"handleDismiss",function(){var e=t.props.onDismiss;t.state.isDropboxFlyoutOpen||e()}),rr(re(t),"handleDropboxFlyoutChange",function(e){return t.setState({isDropboxFlyoutOpen:e})}),rr(re(t),"defaultPrimaryText",function(e){return(0,eZ.Z)(t.props.i18n.ngettext('Create Pin', 'Create {{ numPins }} Pins', e, 'Button to create Pins out of selected assets', 'Button to create Pins out of selected assets'),{numPins:e})}),(0,t2.Z)(),t}return r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.selectedPins?this.props.selectedPins.map(function(t){return e.getUrl(t)||""}).filter(function(e){return e.length>0}):[];this.setState({usedUrls:t})}},{key:"render",value:function(){var e=this,t=this.props,r=t.closeOnOutsideClick,a=t.isSecondaryButtonDisabled,l=t.onSecondaryAction,s=t.primaryButtonText,c=void 0===s?this.defaultPrimaryText:s,u=t.pinItemId,d=t.resetScrapeOnSelect,f=t.scrapeDescription,p=t.scrapeTitle,h=t.secondaryButtonText,y=t.useModalWithNoLayer,g=void 0!==y&&y,_=this.props.shownTabs?this.props.shownTabs:["upload","scrape"],v=this.state,x=v.activeTabIndex,P=v.assets,O=v.usedUrls,j=v.isLoading,w=v.error,E="string"==typeof c?c:c(P.length),A=h||this.props.i18n._('Create carousel Pin', 'Button to create carousel Pin out of selected assets', 'Button to create carousel Pin out of selected assets'),I=[];_.includes("product_pins")&&I.push({text:this.props.i18n._('Your Pins', 'Tab on asset picker to select from user\'s product pins.', 'Tab on asset picker to select from user\'s product pins.'),href:"#"}),_.includes("upload")&&I.push({text:this.props.i18n._('Assets', 'Tab on asset picker to select from uploaded assets', 'Tab on asset picker to select from uploaded assets'),href:"#"}),_.includes("scrape")&&I.push({text:this.props.i18n._('URL', 'Tab on asset picker to select from scraped URL', 'Tab on asset picker to select from scraped URL'),href:"#"}),_.includes("dropbox")&&I.push({text:this.props.i18n._('Dropbox', 'Tab on asset picker to select from Dropbox', 'Tab on asset picker to select from Dropbox'),href:"#"}),_.includes("catalog")&&I.push({text:this.props.i18n._('Catalog', 'Tab on asset picker to upload pin from product catalog', 'Tab on asset picker to upload pin from product catalog'),href:"#"});var C=g?o.u_:tl.ZP;return(0,m.jsx)(ro,{condition:!!g,children:(0,m.jsx)(C,{accessibilityModalLabel:this.props.i18n._('Select assets', 'Label to describe the asset picker', 'Label to describe the asset picker'),closeOnOutsideClick:r,heading:(0,m.jsx)(o.xu,{padding:4,display:"flex",alignItems:"center",justifyContent:"center","data-test-id":"tabs-header-list",children:(0,m.jsx)(o.mQ,{tabs:I,activeTabIndex:x,onChange:this.handleChangeTab})}),onDismiss:this.handleDismiss,footer:(0,m.jsxs)(o.xu,{display:"flex",marginBottom:-4,children:[(0,m.jsx)(o.xu,{display:"flex",flex:"grow",height:"100%",marginEnd:8,children:(0,m.jsx)(o.xu,{width:"100%",marginTop:-4,children:(0,m.jsx)(i.Z,{showArrowsOnlyOnHover:!1,children:(0,m.jsx)(o.xu,{display:"flex",height:48,paddingY:1,"data-group-id":"asset-picker-thumbnails-carousel-group",children:P.map(function(t,r){var n=(0,b.Z)(t);return(0,m.jsxs)(o.xu,{"data-test-id":"asset-picker-thumbnail",display:"flex",flex:"none",height:44,padding:1,position:"relative",width:44,children:[(0,m.jsx)(eP,{asset:t,height:40,width:40}),(0,m.jsx)(o.xu,{color:"tertiary",height:16,marginEnd:-1,marginTop:-1,padding:1,position:"absolute",right:!0,rounding:"circle",top:!0,width:16,children:(0,m.jsx)(o.iP,{fullHeight:!0,fullWidth:!0,onTap:function(){return e.handleRemoveAsset(t)},children:(0,m.jsx)(o.JO,{color:"inverse",icon:"cancel",size:8,accessibilityLabel:e.props.i18n._('Remove Asset', 'Icon button to remove selected media file', 'Icon button to remove selected media file')})})}),!!n&&(0,m.jsx)(o.xu,{bottom:!0,left:!0,position:"absolute",children:(0,m.jsx)(S,{type:n})})]},"asset-picker-thumbnail-".concat(r))})})})})}),(0,m.jsxs)(o.xu,{display:"flex",flex:"none",margin:-3,marginTop:1,children:[!!l&&(0,m.jsx)(o.xu,{"data-test-id":"asset-picker-secondary-action-button",paddingX:1,children:(0,m.jsx)(o.zx,{color:"gray",disabled:!!a&&(P.length<2||P.length>eu.dS||P.some(function(e){return"localImage"!==e.type})),onClick:this.handleSecondaryAction,text:A})}),(0,m.jsx)(o.xu,{"data-test-id":"asset-picker-primary-action-button",paddingX:1,children:(0,m.jsx)(o.zx,{color:"red",disabled:0===P.length,onClick:this.handlePrimaryAction,text:E})})]})]}),size:912,children:(0,m.jsxs)(n.Fragment,{children:[(0,m.jsxs)(o.xu,{height:460,overflow:"auto",children:[!!w&&w,_.includes("upload")&&(0,m.jsx)(ta,{onSelect:this.handleAssetSelect,setError:this.handleSetError,setLoading:this.handleSetLoading,selectedAssets:P,visible:x===_.indexOf("upload")}),_.includes("scrape")&&(0,m.jsx)(t0,{onSelect:this.handleAssetSelect,selectedAssets:P,visible:x===_.indexOf("scrape"),title:p,description:f,resetOnSelect:d,usedUrls:O}),_.includes("dropbox")&&(0,m.jsx)(ei,{onSelect:this.handleAssetSelect,setError:this.handleSetError,selectedAssets:P,visible:x===_.indexOf("dropbox"),onFlyoutChange:this.handleDropboxFlyoutChange}),_.includes("product_pins")&&(0,m.jsx)(eF,{onSelect:this.handleAssetSelect,selectedAssets:P,visible:x===_.indexOf("product_pins"),pinItemId:u}),_.includes("catalog")&&(0,m.jsx)(tM,{onSelect:this.handleAssetSelect,selectedAssets:P,visible:x===_.indexOf("catalog")})]}),j&&(0,m.jsx)(o.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",children:(0,m.jsx)(o.$j,{show:!0,accessibilityLabel:"Dropbox Loading Spinner"})})]})})})}}],t9(c.prototype,r),a&&t9(c,a),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.Component);function ra(e){var t=(0,c.ZP)(),r=(0,a.Z)(),n=(0,eG.v)().logContextEvent;return(0,m.jsx)(ri,t5(t5({},e),{},{i18n:t,ideaPinRenamingEnabled:r,logContextEvent:n}))}rr(ri,"defaultProps",{shownTabs:["upload","scrape"],maxAssetsToSelect:0})},519325:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(506979),o=r(908390),i=r(510476),a=r(898781),l=r(349700),s=r(515198);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(){var e;return((function(e){if(Array.isArray(e))return c(e)})(e=Array(8))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e,t){return(0,s.jsx)(o.xu,{borderStyle:"sm",height:105,marginEnd:3===t||7===t?0:2,marginTop:t>=4?4:0,rounding:3,width:105},t)})}var d=r(490072);function f(e){var t=(0,a.ZP)(),r=e.pinTagId,c=e.taggedObjects,f=(0,n.useSelector)(function(t){return(0,d.Xe)(t,e)}),p=c.length>0,h=(0,l.nk)(t._('{{ count }}/8', 'pinbuilder.taggedProducts.count', 'The number of tagged products'),{count:c.length}).join(""),y="collectionsTag"===f;return(0,s.jsxs)(o.xu,{column:12,"data-test-id":"stl-tagged-items-grid",children:[(!r||r&&0===c.length)&&y&&(0,s.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",wrap:!0,children:(0,s.jsx)(u,{})}),!y&&(0,s.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,s.jsx)(o.xv,{size:"100",children:t._('Tag up to 8 products in the scene', 'pinbuilder.taggedProducts.limit', 'Users can tag the image with up to 8 products')}),(0,s.jsx)(o.xv,{size:"100",children:h})]}),(0,s.jsx)(o.xu,{marginTop:p?10:0,marginBottom:p?10:void 0,display:"flex",wrap:!0,width:445,children:!!r&&p&&c.map(function(e,t){return(0,s.jsx)(o.xu,{children:(0,s.jsx)(i.Z,{index:t,pinTagId:e.pinTagId,size:"md",status:e.status,taggedObjectId:e.taggedObjectId})},e.taggedObjectId)})})]})}},146173:function(e,t,r){"use strict";r.r(t),r.d(t,{PinBuilderEditor:function(){return tG},default:function(){return tW}});var n=r(76911),o=r(506979),i=r(908390),a=r(237056),l=r(214494),s=r(28956),c=r(407043),u=r(898781),d=r(299295),f=r(966113),p=r(531245),h=r(281139),y=r(77891),m=r(515198);function g(e){var t,r,n,o,a=e.isSelected,l=e.disabled,s=e.onClick,c=e.ratio,u=e.width,d=void 0===u?84:u,f={width:d,backgroundColor:a?"#fff":"#efefef",border:a?"2px solid #e50c29":"2px solid #efefef",borderRadius:8,boxSizing:"border-box",cursor:l?"default":"pointer",height:d*(null!==(t=c.h)&&void 0!==t?t:1)/(null!==(r=c.w)&&void 0!==r?r:1),outline:"none",opacity:l?.5:void 0,padding:0};return(0,m.jsx)("button",{onClick:s,disabled:l,style:f,children:(0,m.jsx)(i.xu,{rounding:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,m.jsx)(i.xv,{color:"default",size:"200",weight:"bold",children:"".concat(null!==(n=c.w)&&void 0!==n?n:1,":").concat(null!==(o=c.h)&&void 0!==o?o:1)})})})}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function x(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A(n.key),n)}}function j(e,t){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,r){return(t=A(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==b(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=w(a);if(t){var n=w(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return S(e)}(this,e)});function a(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),E(S(t=o.call(this,e)),"onClickAspectRatio",function(e){var r=t.props,n=r.aspectRatioIndex,o=r.aspectRatios,i=r.canDeselectAspectRatio,a=r.onSelectAspectRatioIndex,l=r.numImages,s=r.pinCanvas,c=r.logContextEvent;if(s){var u,d,f=o[e],p=e===n&&i&&1===l;p?(s.setAspectRatio(null),a(null)):(s.setAspectRatio(f),a(e)),c({event_type:101,component:13780,element:12137,aux_data:{aspect_ratio:f?"".concat(null!==(u=f.w)&&void 0!==u?u:1,":").concat(null!==(d=f.h)&&void 0!==d?d:1):null,selected:!p}})}}),E(S(t),"onClickRotateImage",function(){var e=t.props,r=e.pinCanvas,n=e.logContextEvent;r&&r.rotateImage("clockwise"),n({event_type:101,component:13780,element:12138,aux_data:{editor_option:"rotate"}})}),E(S(t),"onClickFlipImageHorizontal",function(){var e=t.props,r=e.pinCanvas,n=e.logContextEvent;r&&r.flipImage("horizontal"),n({event_type:101,component:13780,element:12138,aux_data:{editor_option:"horizontal_flip"}})}),E(S(t),"onClickFlipImageVertical",function(){var e=t.props,r=e.pinCanvas,n=e.logContextEvent;r&&r.flipImage("vertical"),n({event_type:101,component:13780,element:12138,aux_data:{editor_option:"vertical_flip"}})}),E(S(t),"onClickScaleImage",function(){var e=t.props,r=e.isScalingMode,n=e.pinCanvas,o=e.logContextEvent;n&&(r?n.exitScalingMode():n.enterScalingMode()),o({event_type:101,component:13780,element:12138,aux_data:{editor_option:"scale_mode_".concat(r?"exit":"enter")}})}),E(S(t),"onClickAddImage",function(){var e=t.props,r=e.numImages,n=e.logContextEvent;t.setState({isAssetPickerOpen:!0,isReplace:!1,maxAssetsToSelect:d.Xy-r}),n({event_type:101,component:13780,element:12139,aux_data:{editor_option:"add_image"}})}),E(S(t),"onClickReplaceImage",function(){t.setState({isAssetPickerOpen:!0,isReplace:!0}),t.props.logContextEvent({event_type:101,component:13780,element:12139,aux_data:{editor_option:"replace_image"}})}),E(S(t),"onClickDeleteImage",function(){var e=t.props,r=e.pinCanvas,n=e.logContextEvent;r&&r.removeImage(),n({event_type:101,component:13780,element:12139,aux_data:{editor_option:"delete_image"}})}),E(S(t),"onAddImageInputChange",function(e){var r=t.props,n=r.i18n,o=r.ideaPinRenamingEnabled,i=Array.from(e.target.files);(0,y.Z)({i18n:n,ideaPinRenamingEnabled:o,files:i,options:{allowVideo:!1}}).then(function(e){var r=e.reduce(function(e,t){return"error"!==t.type?[].concat(x(e),[t]):e},[]);t.handleAddImage(r)}),t.props.logContextEvent({event_type:101,component:13780,element:12139,aux_data:{editor_option:"add_image"}})}),E(S(t),"onReplaceImageInputChange",function(e){var r=t.props,n=r.i18n,o=r.ideaPinRenamingEnabled,i=Array.from(e.target.files);(0,y.Z)({i18n:n,ideaPinRenamingEnabled:o,files:i,options:{allowVideo:!1}}).then(function(e){var r=e.reduce(function(e,t){return"error"!==t.type?[].concat(x(e),[t]):e},[]);t.handleReplaceImage(r)}),t.props.logContextEvent({event_type:101,component:13780,element:12139,aux_data:{editor_option:"replace_image"}})}),E(S(t),"handleAddImage",function(e){var r=t.props.pinCanvas,n=e.reduce(function(e,t){return t.src?[].concat(x(e),[t.src]):e},[]);r&&n.length>0&&n.forEach(function(e){r.addImage(e)})}),E(S(t),"handleReplaceImage",function(e){var r=t.props.pinCanvas,n=e.reduce(function(e,t){return t.src?[].concat(x(e),[t.src]):e},[]);r&&n.length>0&&r.replaceImage(n[0])}),E(S(t),"handleDismiss",function(){t.setState({isAssetPickerOpen:!1})}),E(S(t),"onClickReset",function(){var e=t.props,r=e.aspectRatios,n=e.canDeselectAspectRatio,o=e.pinCanvas,i=e.onReset,a=e.logContextEvent;o&&(o.resetCrop(),o.setAspectRatio(n?null:r[0]),i()),a({event_type:101,component:13780,element:12135,aux_data:{editor_mode:"crop"}})}),t.state={isAssetPickerOpen:!1,isReplace:!1,maxAssetsToSelect:0},t}return r=[{key:"render",value:function(){var e=this,t=this.props,r=t.aspectRatioIndex,n=t.aspectRatios,o=t.isImageSelected,a=t.isScalingMode,l=t.numImages,c=t.mediaType,u=t.videoStartText,y=t.videoEndText,b=t.validateStartTime,_=t.validateEndTime,v=t.handleEndTimeChange,P=t.handleStartTimeChange,O=this.state,j=O.isAssetPickerOpen,S=O.isReplace,w=O.maxAssetsToSelect,E=!o,A=l>1&&a,I=this.props.i18n._('Rotate 90\xB0', 'Rotate the angle of the image by 90 degrees', 'Rotate the angle of the image by 90 degrees'),C=this.props.i18n._('Flip image horizontally', 'Flip the image on the horizontal axis', 'Flip the image on the horizontal axis'),T=this.props.i18n._('Flip image vertically', 'Flip the image on the vertical axis', 'Flip the image on the vertical axis'),D=this.props.i18n._('Resize image', 'Resize an image in the collage Pin', 'Resize an image in the collage Pin'),k=this.props.i18n._('Add image', 'Add image to the collage Pin', 'Add image to the collage Pin'),R=this.props.i18n._('Replace image', 'Replace image in the collage Pin', 'Replace image in the collage Pin'),z=this.props.i18n._('Delete image', 'Delete image from the collage Pin', 'Delete image from the collage Pin');return(0,m.jsxs)(i.xu,{column:12,display:"flex",direction:"column",children:[(0,m.jsxs)(i.xu,{padding:8,flex:"grow",position:"relative",overflow:"auto",children:[(0,m.jsx)(i.xu,{marginBottom:3,children:(0,m.jsx)(i.X6,{size:"500",children:"video"===c?this.props.i18n._('Trim & Crop', 'cropPane.heading', 'Trim and crop the video selected in Pin Builder.'):this.props.i18n._('Crop', 'cropPane.heading', 'Crop the image selected in Pin Builder.')})}),(0,m.jsx)(i.xu,{marginBottom:8,children:(0,m.jsx)(i.xv,{children:this.props.i18n._('Crop and adjust your image to focus on the most interesting part', 'Describing what this tool is about.', 'Describing what this tool is about.')})}),(0,m.jsxs)(i.xu,{children:[(0,m.jsx)(i.xv,{size:"200",weight:"bold",children:this.props.i18n._('Aspect ratio', 'Adjust the aspect ratio of the cropping.', 'Adjust the aspect ratio of the cropping.')}),(0,m.jsx)(i.xu,{paddingY:1,children:(0,m.jsx)(i.xv,{color:"subtle",size:"200",children:this.props.i18n._('We recommend a 2:3 aspect ratio for most Pins on Pinterest', 'Recommendation for the best aspect ratio for an image on Pinterest', 'Recommendation for the best aspect ratio for an image on Pinterest')})}),(0,m.jsx)(i.xu,{display:"flex",marginTop:2,marginStart:-2,marginEnd:-2,children:n.map(function(t,n){return(0,m.jsx)(i.xu,{"data-test-id":"pinbuilder-editor-aspect-ratio-crop-button",flex:"none",paddingX:2,children:(0,m.jsx)(g,{disabled:A,isSelected:n===r,onClick:function(){return e.onClickAspectRatio(n)},ratio:t})},n)})})]}),(0,m.jsxs)(i.xu,{marginTop:8,children:[(0,m.jsx)(i.xv,{size:"200",weight:"bold",children:this.props.i18n._('Adjust', 'Adjust the rotation of the image', 'Adjust the rotation of the image')}),(0,m.jsxs)(i.xu,{display:"flex",marginTop:4,marginStart:-1,marginEnd:-1,children:[(0,m.jsx)(i.xu,{"data-test-id":"pinbuilder-editor-rotate-right-button",paddingX:1,children:(0,m.jsx)(i.u,{text:I,children:(0,m.jsx)(i.hU,{accessibilityLabel:I,bgColor:"lightGray",disabled:E,icon:"rotate",iconColor:"darkGray",onClick:this.onClickRotateImage,size:"md"})})}),"video"!==c&&(0,m.jsx)(i.xu,{"data-test-id":"pinbuilder-editor-flip-button-horizontal",paddingX:1,children:(0,m.jsx)(i.u,{text:C,children:(0,m.jsx)(i.hU,{accessibilityLabel:C,bgColor:"lightGray",disabled:E,icon:"flipHorizontal",iconColor:"darkGray",onClick:this.onClickFlipImageHorizontal,size:"md"})})}),"video"!==c&&(0,m.jsx)(i.xu,{"data-test-id":"pinbuilder-editor-flip-button-vertical",paddingX:1,children:(0,m.jsx)(i.u,{text:T,children:(0,m.jsx)(i.hU,{accessibilityLabel:T,bgColor:"lightGray",disabled:E,icon:"flipVertical",iconColor:"darkGray",onClick:this.onClickFlipImageVertical,size:"md"})})}),"video"!==c&&(0,m.jsx)(i.xu,{"data-test-id":"pinbuilder-editor-move-button",paddingX:1,children:(0,m.jsx)(i.u,{text:D,children:(0,m.jsx)(i.hU,{accessibilityLabel:D,bgColor:a?"transparentDarkGray":"lightGray",disabled:1===l||!o,icon:"scale",iconColor:a?"white":"darkGray",onClick:this.onClickScaleImage,size:"md"})})})]})]}),"video"!==c&&(0,m.jsxs)(i.xu,{marginTop:8,children:[(0,m.jsx)(i.xv,{size:"200",weight:"bold",children:this.props.i18n._('Change an image', 'Heading for buttons that add, replace and remove an image', 'Heading for buttons that add, replace and remove an image')}),(0,m.jsxs)(i.xu,{display:"flex",marginTop:4,marginStart:-1,marginEnd:-1,children:[(0,m.jsx)(i.xu,{"data-test-id":"pinbuilder-editor-add-image-button",paddingX:1,children:(0,m.jsx)(i.u,{text:k,children:l<d.Xy?(0,m.jsx)(h.Z,{accept:x(p.xl).join(","),allowMultipleFiles:!0,color:"white",id:"layouts-add-image-input",onChange:this.onAddImageInputChange,children:function(){return(0,m.jsx)(i.hU,{accessibilityLabel:k,bgColor:"lightGray",disabled:l>=d.Xy,icon:"add-layout",iconColor:"darkGray",size:"md"})}}):(0,m.jsx)(i.hU,{accessibilityLabel:k,bgColor:"lightGray",disabled:l>=d.Xy,icon:"add-layout",iconColor:"darkGray",onClick:this.onClickAddImage,size:"md"})})}),(0,m.jsx)(i.xu,{"data-test-id":"pinbuilder-editor-replace-image-button",paddingX:1,children:(0,m.jsx)(i.u,{text:R,children:E?(0,m.jsx)(i.hU,{accessibilityLabel:R,bgColor:"lightGray",disabled:E,icon:"replace",iconColor:"darkGray",onClick:this.onClickReplaceImage,size:"md"}):(0,m.jsx)(h.Z,{accept:x(p.xl).join(","),allowMultipleFiles:!1,color:"white",id:"layouts-replace-image-input",onChange:this.onReplaceImageInputChange,children:function(){return(0,m.jsx)(i.hU,{accessibilityLabel:R,bgColor:"lightGray",disabled:E,icon:"replace",iconColor:"darkGray",size:"md"})}})})}),(0,m.jsx)(i.xu,{"data-test-id":"pinbuilder-editor-delete-image-button",paddingX:1,children:(0,m.jsx)(i.u,{text:z,children:(0,m.jsx)(i.hU,{accessibilityLabel:z,bgColor:"lightGray",disabled:E||1===l,icon:"trash-can",iconColor:"darkGray",onClick:this.onClickDeleteImage,size:"md"})})})]})]}),"video"===c&&(0,m.jsxs)(i.xu,{marginTop:8,children:[(0,m.jsx)(i.xv,{size:"200",weight:"bold",children:this.props.i18n._('Trim', 'Adjust the start and end time of the video', 'Adjust the start and end time of the video')}),(0,m.jsx)(i.xu,{paddingY:1,children:(0,m.jsxs)(i.xv,{color:"subtle",size:"200",children:[this.props.i18n._('Video Pins 1 to 2 minutes long work best. Video ads 6 to 15 seconds long work best. ', 'Recommendation for the best video length for video on Pinterest', 'Recommendation for the best video length for video on Pinterest'),(0,m.jsx)(i.rU,{display:"inlineBlock",href:f.Moe,target:"blank",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},underline:"hover",children:this.props.i18n._('Learn More.', 'Link to Pinterest help center about creative best practices', 'Link to Pinterest help center about creative best practices')})]})}),(0,m.jsxs)(i.xu,{display:"flex",marginTop:4,marginStart:-1,marginEnd:-1,children:[(0,m.jsxs)(i.xu,{paddingX:2,children:[(0,m.jsx)(i.xu,{children:(0,m.jsx)(i.__,{htmlFor:"videoStartText",children:(0,m.jsx)(i.xv,{size:"100",children:"Start"})})}),(0,m.jsx)(i.nv,{errorMessage:u?b(u):"",id:"videoStartText",onChange:P,size:"lg",type:"text",value:u})]}),(0,m.jsxs)(i.xu,{children:[(0,m.jsx)(i.xu,{children:(0,m.jsx)(i.__,{htmlFor:"videoEndText",children:(0,m.jsx)(i.xv,{size:"100",children:"End"})})}),(0,m.jsx)(i.nv,{errorMessage:y?_(y):"",id:"videoEndText",onChange:v,size:"lg",type:"text",value:y})]})]})]})]}),(0,m.jsxs)(i.xu,{display:"flex",direction:"column",column:12,children:[(0,m.jsx)(i.iz,{}),(0,m.jsx)(i.xu,{"data-tutorial-id":"pin-builder-editor-reset-button",paddingY:2,paddingX:8,children:(0,m.jsx)(i.zx,{fullWidth:!0,accessibilityLabel:this.props.i18n._('Reset', ' - ', ' -- '),color:"white",text:"video"===c?this.props.i18n._('Clear crop', 'Resets cropping changes', 'Resets cropping changes'):this.props.i18n._('Reset', 'Resets all the changes.', 'Resets all the changes.'),onClick:this.onClickReset})})]}),j&&(0,m.jsx)(s.Z,{onPrimaryAction:S?this.handleReplaceImage:this.handleAddImage,onDismiss:this.handleDismiss,primaryButtonText:S?this.props.i18n._('Use image', 'Button text for use another image to replace the selected image in the collage Pin.', 'Button text for use another image to replace the selected image in the collage Pin.'):this.props.i18n._('Add image', 'Button text for adding some other images to the collage Pin', 'Button text for adding some other images to the collage Pin'),maxAssetsToSelect:w})]})}}],O(a.prototype,r),n&&O(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function C(e){var t=(0,c.v)().logContextEvent,r=(0,u.ZP)(),n=(0,a.Z)(),i=(0,o.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId].type});return(0,m.jsx)(I,v(v({},e),{},{i18n:r,ideaPinRenamingEnabled:n,logContextEvent:t,type:i}))}var T=r(66743),D=r(665866),k=r(309256),R=r(984244),z=r(780280),L=r(414327),M=r(784590),N=r(415480),B=r(815542);function F(e){var t=e.marginIndex,r=e.onSelectMargin,n=(0,u.ZP)(),o=n._('Apply narrow margins', 'Adjust the margin to small.', 'Adjust the margin to small.'),a=n._('Apply medium margins', 'Adjust the margin to medium.', 'Adjust the margin to medium.'),l=n._('Apply wide margins', 'Adjust the margin to large.', 'Adjust the margin to large.'),s=[(0,m.jsx)(i.xu,{"data-group-id":"pinbuilder-editor-margins-size-button","data-test-id":"pinbuilder-editor-margins-small-button",children:(0,m.jsx)(i.u,{text:o,children:(0,m.jsx)(i.JO,{accessibilityLabel:o,icon:"margins-small",color:0===t?"default":"subtle",size:18})})}),(0,m.jsx)(i.xu,{"data-group-id":"pinbuilder-editor-margins-size-button","data-test-id":"pinbuilder-editor-margins-medium-button",children:(0,m.jsx)(i.u,{text:a,children:(0,m.jsx)(i.JO,{accessibilityLabel:a,icon:"margins-medium",color:1===t?"default":"subtle",size:18})})}),(0,m.jsx)(i.xu,{"data-group-id":"pinbuilder-editor-margins-size-button","data-test-id":"pinbuilder-editor-margins-large-button",children:(0,m.jsx)(i.u,{text:l,children:(0,m.jsx)(i.JO,{accessibilityLabel:l,icon:"margins-large",color:2===t?"default":"subtle",size:18})})})];return(0,m.jsx)(i.sY,{selectedItemIndex:t,onChange:r,items:s})}var Z=r(594736),U=r(454074);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach(function(t){$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J(n.key),n)}}function X(e,t){return(X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function q(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t,r){return(t=J(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(e){var t=function(e,t){if("object"!==H(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==H(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===H(t)?t:String(t)}var Q={__style:{tabindex:0,margin:2}},ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=K(a);if(t){var n=K(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return q(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return $(q(e=o.call.apply(o,[this].concat(r))),"handleLoadFiles",function(t){var r=e.props,n=r.i18n,o=r.ideaPinRenamingEnabled,i=r.onLoadLogos,a={minHeight:d.P0,minWidth:d.zr};(0,y.Z)({i18n:n,ideaPinRenamingEnabled:o,files:t,options:a}).then(function(e){i(e.reduce(function(e,t){return"localImage"===t.type?[].concat(function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t]):e},[]))})}),$(q(e),"handleDrop",function(t){var r=(0,U.Z)(t.dataTransfer);e.handleLoadFiles(r)}),$(q(e),"handleChange",function(t){var r=Array.from(t.target.files);e.handleLoadFiles(r)}),e}return r=[{key:"render",value:function(){var e=this,t=this.props,r=t.width,n=t.height;return(0,m.jsx)(i.xu,{height:n,rounding:2,width:r,dangerouslySetInlineStyle:Q,children:(0,m.jsx)(h.Z,{accept:p.xl.join(","),allowMultipleFiles:!0,id:"add-button-placeholder",onChange:this.handleChange,onDrop:this.handleDrop,children:function(){return(0,m.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:2,children:(0,m.jsx)(i.JO,{accessibilityLabel:e.props.i18n._('Import local images', 'Add local images to Pin builder', 'Add local images to Pin builder'),icon:"add-circle",size:24})})}})})}}],Y(a.prototype,r),n&&Y(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function et(e){var t=(0,u.ZP)(),r=(0,a.Z)();return(0,m.jsx)(ee,G(G({},e),{},{i18n:t,ideaPinRenamingEnabled:r}))}$(ee,"defaultProps",{height:147,width:147});var er=r(938999);function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(r),!0).forEach(function(t){eu(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ea(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ed(n.key),n)}}function el(e,t){return(el=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function es(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ec(e){return(ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eu(e,t,r){return(t=ed(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ed(e){var t=function(e,t){if("object"!==en(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==en(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===en(t)?t:String(t)}var ef={__style:{padding:"2px"}},ep=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&el(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ec(a);if(t){var n=ec(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===en(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return es(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eu(es(e=o.call.apply(o,[this].concat(r))),"state",{isHovering:!1}),eu(es(e),"handleMouseEnter",function(){e.setState({isHovering:!0})}),eu(es(e),"handleMouseLeave",function(){e.setState({isHovering:!1})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.imgSrc,r=e.imgWidth,n=e.imgHeight,o=e.fit,a=e.title,l=e.selected,s=e.onClick,c=e.onDelete,u=this.state.isHovering;return(0,m.jsxs)(i.xu,{"data-test-id":"pinbuilder-asset-preview",position:"relative",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,dangerouslySetInlineStyle:ef,children:[(0,m.jsx)(er.Z,{selected:l,onClick:s,children:(0,m.jsxs)(i.xu,{rounding:2,color:"secondary",position:"relative",width:r,height:n,overflow:"hidden",children:[(0,m.jsx)(i.Ee,{alt:a||"",src:t,fit:o,naturalWidth:1,naturalHeight:1}),a&&(0,m.jsx)(i.xu,{marginTop:2,marginBottom:1,children:(0,m.jsx)(i.xv,{lineClamp:1,size:"100",children:a})})]})}),u&&(0,m.jsx)(i.xu,{color:"tertiary","data-test-id":"remove-asset-icon-button",height:16,padding:1,marginEnd:-1,marginTop:-1,position:"absolute",right:!0,rounding:"circle",top:!0,width:16,children:(0,m.jsx)(i.iP,{fullHeight:!0,fullWidth:!0,onTap:c,children:(0,m.jsx)(i.JO,{color:"inverse",icon:"cancel",size:8,accessibilityLabel:this.props.i18n._('Remove Asset', 'Icon button to remove selected media file', 'Icon button to remove selected media file')})})})]})}}],ea(a.prototype,r),n&&ea(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function eh(e){var t=(0,u.ZP)();return(0,m.jsx)(ep,ei(ei({},e),{},{i18n:t}))}function ey(e){return(ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function em(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eP(n.key),n)}}function eb(e,t){return(eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e_(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ev(e){return(ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ex(e,t,r){return(t=eP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eP(e){var t=function(e,t){if("object"!==ey(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ey(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ey(t)?t:String(t)}var eO=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eb(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ev(a);if(t){var n=ev(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===ey(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return e_(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return ex(e_(e=o.call.apply(o,[this].concat(r))),"state",{selectedIndex:void 0}),ex(e_(e),"onSelectLogo",function(t){(0,e.props.onSelectLogo)(t),e.setState(function(e){return{selectedIndex:e.selectedIndex===t?null:t}})}),e}return r=[{key:"shouldComponentUpdate",value:function(e,t){return!(0,Z.ZP)(this.props.logos,e.logos)||!(0,Z.ZP)(this.props.logoIndex,e.logoIndex)||!(0,Z.ZP)(this.state.selectedIndex,t.selectedIndex)}},{key:"render",value:function(){var e=this,t=this.props.logos;return(0,m.jsx)(i.xu,{column:12,minHeight:70,maxHeight:165,paddingY:1,overflow:"scroll",children:(0,m.jsx)(i.Rk,{renderItem:function(t){var r=t.data,n=t.itemIdx,o=e.props,i=o.logoIndex,a=o.onAddNewLogos,l=o.onDeleteLogo,s=i!==e.state.selectedIndex?i:e.state.selectedIndex;return"placeholder"===r.type?(0,m.jsx)(et,{onLoadLogos:a,width:58,height:58}):(0,m.jsx)(eh,{imgSrc:r.src,imgWidth:58,imgHeight:58,fit:"contain",onClick:function(){return e.onSelectLogo(n-1)},onDelete:function(){return l(n-1)},selected:s===n-1})},items:[{type:"placeholder"}].concat(function(e){if(Array.isArray(e))return em(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return em(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return em(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),columnWidth:62,gutterWidth:9})})}}],eg(a.prototype,r),n&&eg(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function ej(e){var t=e.logoPositionIndex,r=e.onSelectLogoPosition,n=(0,u.ZP)(),o=n._('Position top left', 'Adjust the location of the logo to top left.', 'Adjust the location of the logo to top left.'),a=n._('Position top center', 'Adjust the location of the logo to top center.', 'Adjust the location of the logo to top center.'),l=n._('Position top right', 'Adjust the location of the logo to top right.', 'Adjust the location of the logo to top right.'),s=n._('Position bottom left', 'Adjust the location of the logo to bottom left.', 'Adjust the location of the logo to bottom left.'),c=n._('Position bottom center', 'Adjust the location of the logo to bottom center.', 'Adjust the location of the logo to bottom center.'),d=n._('Position bottom right', 'Adjust the location of the logo to bottom right.', 'Adjust the location of the logo to bottom right.'),f=[(0,m.jsx)(i.xu,{"data-group-id":"pinbuilder-editor-logo-position-picker-button","data-test-id":"pinbuilder-editor-logo-position-top-left-button",children:(0,m.jsx)(i.u,{text:o,children:(0,m.jsx)(i.JO,{accessibilityLabel:o,icon:"align-top-left",color:0===t?"default":"subtle",size:18})})}),(0,m.jsx)(i.xu,{"data-group-id":"pinbuilder-editor-logo-position-picker-button","data-test-id":"pinbuilder-editor-logo-position-top-center-button",children:(0,m.jsx)(i.u,{text:a,children:(0,m.jsx)(i.JO,{accessibilityLabel:a,icon:"align-top-center",color:1===t?"default":"subtle",size:18})})}),(0,m.jsx)(i.xu,{"data-group-id":"pinbuilder-editor-logo-position-picker-button","data-test-id":"pinbuilder-editor-logo-position-top-right-button",children:(0,m.jsx)(i.u,{text:l,children:(0,m.jsx)(i.JO,{accessibilityLabel:l,icon:"align-top-right",color:2===t?"default":"subtle",size:18})})}),(0,m.jsx)(i.xu,{"data-group-id":"pinbuilder-editor-logo-position-picker-button","data-test-id":"pinbuilder-editor-logo-position-bottom-left-button",children:(0,m.jsx)(i.u,{text:s,children:(0,m.jsx)(i.JO,{accessibilityLabel:s,icon:"align-bottom-left",color:3===t?"default":"subtle",size:18})})}),(0,m.jsx)(i.xu,{"data-group-id":"pinbuilder-editor-logo-position-picker-button","data-test-id":"pinbuilder-editor-logo-position-bottom-center-button",children:(0,m.jsx)(i.u,{text:c,children:(0,m.jsx)(i.JO,{accessibilityLabel:c,icon:"align-bottom-center",color:4===t?"default":"subtle",size:18})})}),(0,m.jsx)(i.xu,{"data-group-id":"pinbuilder-editor-logo-position-picker-button","data-test-id":"pinbuilder-editor-logo-position-bottom-right-button",children:(0,m.jsx)(i.u,{text:d,children:(0,m.jsx)(i.JO,{accessibilityLabel:d,icon:"align-bottom-right",color:5===t?"default":"subtle",size:18})})})];return(0,m.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,m.jsx)(i.xu,{marginBottom:2,children:(0,m.jsx)(i.xv,{size:"200",weight:"bold",children:n._('Position', 'Adjust the position of the logo', 'Adjust the position of the logo')})}),(0,m.jsx)(i.sY,{selectedItemIndex:t,onChange:r,items:f,responsive:!0})]})}function eS(e){return(eS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(t){eD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ek(n.key),n)}}function eI(e,t){return(eI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eC(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eT(e){return(eT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eD(e,t,r){return(t=ek(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ek(e){var t=function(e,t){if("object"!==eS(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eS(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eS(t)?t:String(t)}var eR=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eI(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eT(a);if(t){var n=eT(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eS(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eC(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eD(eC(e=o.call.apply(o,[this].concat(r))),"onReset",function(){var t=e.props,r=t.pinCanvas,n=t.onReset,o=t.logContextEvent;n(),r&&r.removeLogo(),o({event_type:101,component:13780,element:12135,aux_data:{editor_mode:"logo"}})}),eD(eC(e),"onDeleteLogo",function(t){var r=e.props,n=r.pinCanvas,o=r.onDeleteLogo,i=r.logo,a=r.logContextEvent;o(t),i.logoIndex===t&&n&&n.removeLogo(),a({event_type:101,component:13780,element:12142})}),eD(eC(e),"setLogo",function(t){var r=e.props,n=r.pinCanvas,o=r.logo,i=r.logoImages;n&&(null!=t?n.setLogo({assetId:i[t].assetId,src:i[t].src,size:o.logoSize,margin:d.mt[o.logoMarginIndex],position:d.n_[o.logoPositionIndex],backgroundColor:o.logoBackgroundColor,backgroundOpacity:d.AQ[o.logoTransparencyIndex]}):n.removeLogo())}),eD(eC(e),"onSelectLogo",function(t){var r=e.props,n=r.pinCanvas,o=r.onSelectLogo,i=r.logo,a=r.logContextEvent;o(t),i.logoIndex===t?n&&n.removeLogo():n&&e.setLogo(t),a({event_type:101,component:13780,element:12141})}),eD(eC(e),"onChangeLogoSize",function(t){var r=e.props,n=r.pinCanvas,o=r.onChangeLogoSize,i=r.logContextEvent;o(t),n&&n.setLogoSize(t),i({event_type:3828,component:13780,element:12147,aux_data:{value:t}})}),eD(eC(e),"onSelectLogoMargin",function(t){var r=t.activeIndex,n=e.props,o=n.pinCanvas,i=n.onSelectLogoMargin,a=n.logContextEvent,l=d.mt[r];i(r),o&&o.setLogoMargin(l),a({event_type:101,component:13780,element:12148,aux_data:{value:l}})}),eD(eC(e),"onSelectLogoPosition",function(t){var r=t.activeIndex,n=e.props,o=n.pinCanvas,i=n.onSelectLogoPosition,a=n.logContextEvent,l=d.n_[r];i(r),o&&o.setLogoPosition(l),a({event_type:101,component:13780,element:12149,aux_data:{value:l}})}),eD(eC(e),"onSelectLogoBackgroundColor",function(t){var r=t.value,n=e.props,o=n.pinCanvas,i=n.onSelectLogoBackgroundColor,a=n.logContextEvent,l=r.startsWith("#")||""===r?r.toLowerCase():"#".concat(r).toLowerCase();i(l),o&&o.setLogoBackgroundColor(l),a({event_type:8721,component:13780,element:12150,aux_data:{editor_option:"color",value:l}})}),eD(eC(e),"onSelectLogoTransparency",function(t){var r=t.activeIndex,n=e.props,o=n.pinCanvas,i=n.onSelectLogoTransparency,a=n.logContextEvent,l=d.AQ[r];i(r),o&&o.setLogoBackgroundOpacity(l),a({event_type:8721,component:13780,element:12150,aux_data:{editor_option:"transparency",value:l}})}),e}return r=[{key:"componentDidUpdate",value:function(e){var t=e.logo,r=e.logoImages,n=this.props,o=n.logo,i=n.logoImages;(t.logoIndex!==o.logoIndex||r.length!==i.length)&&this.setLogo(o.logoIndex)}},{key:"render",value:function(){var e=this.props,t=e.logo,r=e.logoImages,n=e.onUploadLogos,o=e.pinCanvas,a=t.logoIndex,l=t.logoSize,s=t.logoMarginIndex,c=t.logoPositionIndex,u=t.logoBackgroundColor,d=t.logoTransparencyIndex;return(0,m.jsxs)(i.xu,{column:12,display:"flex",direction:"column",children:[(0,m.jsxs)(i.xu,{paddingY:8,flex:"grow",overflow:"auto",children:[(0,m.jsx)(i.xu,{paddingX:8,children:(0,m.jsx)(i.X6,{size:"500",children:this.props.i18n._('Logo', 'Add a logo to the image selected in Pin Builder.', 'Add a logo to the image selected in Pin Builder.')})}),(0,m.jsx)(i.xu,{paddingX:8,marginTop:3,children:(0,m.jsx)(i.xv,{children:this.props.i18n._('Add your logo to make this Pin feel official', ' - ', ' -- ')})}),(0,m.jsx)(i.xu,{paddingX:8,marginTop:6,children:(0,m.jsx)(eO,{logos:r,logoIndex:a,onAddNewLogos:n,onDeleteLogo:this.onDeleteLogo,onSelectLogo:this.onSelectLogo})}),(0,m.jsxs)(i.xu,{paddingX:8,marginTop:10,display:"flex",justifyContent:"between",position:"relative",children:[(0,m.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",width:84,children:[(0,m.jsx)(i.xu,{marginBottom:2,children:(0,m.jsx)(i.xv,{size:"200",weight:"bold",children:this.props.i18n._('Size', 'Adjust the size of the logo', 'Adjust the size of the logo')})}),(0,m.jsx)(N.Z,{id:"pinbuilder-editor-logo-size-text-field",minValue:20,maxValue:80,step:10,iconName:"logo-large",value:l,onChange:this.onChangeLogoSize})]}),(0,m.jsxs)(i.xu,{children:[(0,m.jsx)(i.xu,{marginBottom:2,children:(0,m.jsx)(i.xv,{size:"200",weight:"bold",children:this.props.i18n._('Margins', 'Adjust the position of the text overlay', 'Adjust the position of the text overlay')})}),(0,m.jsx)(F,{marginIndex:s,onSelectMargin:this.onSelectLogoMargin})]})]}),(0,m.jsx)(i.xu,{paddingX:8,marginTop:10,position:"relative",children:(0,m.jsx)(ej,{logoPositionIndex:c,onSelectLogoPosition:this.onSelectLogoPosition})}),(0,m.jsxs)(i.xu,{paddingX:8,marginTop:10,children:[(0,m.jsx)(i.xu,{marginBottom:2,children:(0,m.jsx)(i.xv,{size:"200",weight:"bold",children:this.props.i18n._('Color fill', 'Pick the background color', 'Pick the background color')})}),(0,m.jsx)(B.ZP,{id:"pinbuilder-editor-logo-background-color-picker",imagePalette:o&&o.getColorPalette(),width:96,showNoFillControl:!0,showTransparencyControl:!0,colorSelected:u,onSelectColor:this.onSelectLogoBackgroundColor,transparencyIndex:d,onSelectTransparency:this.onSelectLogoTransparency})]})]}),(0,m.jsxs)(i.xu,{display:"flex",direction:"column",column:12,children:[(0,m.jsx)(i.iz,{}),(0,m.jsx)(i.xu,{"data-tutorial-id":"pin-builder-editor-reset-button",paddingY:2,paddingX:8,children:(0,m.jsx)(i.zx,{fullWidth:!0,accessibilityLabel:this.props.i18n._('Reset', ' - ', ' -- '),color:"white",text:this.props.i18n._('Reset', 'Resets all the changes.', 'Resets all the changes.'),onClick:this.onReset})})]})]})}}],eA(a.prototype,r),n&&eA(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function ez(e){var t=(0,c.v)().logContextEvent,r=(0,u.ZP)();return(0,m.jsx)(eR,eE(eE({},e),{},{i18n:r,logContextEvent:t}))}function eL(e){return(eL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eM(Object(r),!0).forEach(function(t){eH(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eV(n.key),n)}}function eF(e,t){return(eF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eZ(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eU(e){return(eU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eH(e,t,r){return(t=eV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eV(e){var t=function(e,t){if("object"!==eL(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eL(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eL(t)?t:String(t)}var eG={flyoutStyle:{__style:{maxHeight:"516px"}}},eW=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eF(e,t)}(l,e);var t,r,o,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eU(l);if(t){var n=eU(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eL(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eZ(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eH(eZ(e=a.call.apply(a,[this].concat(r))),"state",{hoveredOption:null,showFlyout:!1}),eH(eZ(e),"setFlyoutAnchor",function(t){e.anchor=t}),eH(eZ(e),"handleTouch",function(){e.setState(function(e){return{showFlyout:!e.showFlyout}})}),eH(eZ(e),"handleFlyoutClose",function(){e.setState({showFlyout:!1})}),eH(eZ(e),"handleSelectOption",function(t){(0,e.props.onSelect)(t),e.handleFlyoutClose()}),eH(eZ(e),"handleMouseEnter",function(t){e.setState({hoveredOption:t})}),eH(eZ(e),"handleMouseLeave",function(){e.setState({hoveredOption:null})}),e}return r=[{key:"getFlyoutHeight",value:function(){if(window&&this.anchor){var e=Math.min(516,window.innerHeight-this.anchor.getBoundingClientRect().top-100);return"".concat(e,"px")}return"".concat(516,"px")}},{key:"render",value:function(){var e=this,t=this.props,r=t.placeholder,o=t.selectedOption,a=t.optionGroups,l=this.state,s=l.hoveredOption,c=l.showFlyout,u=o?a.find(function(e){return e.groupName===o.groupName}):null,d=u&&o?u.options.find(function(e){return e.optionName===o.optionName}):null;return(0,m.jsxs)(i.xu,{column:12,"data-test-id":"styled-dropdown-list",children:[(0,m.jsx)(i.iP,{onTap:this.handleTouch,rounding:2,children:(0,m.jsxs)(i.xu,{rounding:2,overflow:"hidden",width:"100%",height:40,display:"flex",alignItems:"center",justifyContent:"between",color:"secondary",paddingX:3,ref:this.setFlyoutAnchor,children:[(0,m.jsx)(i.xu,{marginEnd:2,minWidth:0,overflow:"hidden",flex:"grow",children:(0,m.jsx)(i.xv,{children:d?(0,m.jsx)("div",{style:d.style,children:d.optionLabel}):r||this.props.i18n._('Select', 'Select an option from the dropdown list', 'Select an option from the dropdown list')})}),(0,m.jsx)(i.xu,{flex:"none",children:(0,m.jsx)(i.JO,{accessibilityLabel:this.props.i18n._('Open dropdown list', 'Instructions to open the dropdown list', 'Instructions to open the dropdown list'),color:"default",icon:"arrow-down",size:12})})]})}),c&&(0,m.jsx)(i.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:this.handleFlyoutClose,size:"md",children:(0,m.jsx)(i.xu,{width:"100%",paddingY:4,dangerouslySetInlineStyle:{__style:eN(eN({},eG.flyoutStyle.__style),{},{maxHeight:this.getFlyoutHeight()})},children:a.map(function(t,r){return(0,m.jsxs)(n.Fragment,{children:[a.length>1&&r>0&&(0,m.jsx)(i.xu,{paddingY:2,paddingX:4,children:(0,m.jsx)(i.iz,{})}),a.length>1&&(0,m.jsx)(i.xu,{paddingY:1,paddingX:4,children:(0,m.jsx)(i.xv,{size:"100",color:"subtle",children:t.groupLabel})}),t.options.map(function(r){return(0,m.jsx)(i.xu,{padding:1,color:d===r||s===r?"secondary":"default",children:(0,m.jsx)(i.iP,{onMouseEnter:function(){return e.handleMouseEnter(r)},onMouseLeave:e.handleMouseLeave,onTap:function(){return e.handleSelectOption({groupName:t.groupName,optionName:r.optionName})},children:(0,m.jsx)(i.xu,{width:"100%",paddingX:3,paddingY:1,children:(0,m.jsx)(i.xv,{children:(0,m.jsx)("div",{style:r.style,children:r.optionLabel})})})})},"".concat(t.groupName,"_").concat(r.optionName))}),t.groupFooter&&(0,m.jsx)(i.xu,{paddingX:4,paddingY:1,children:t.groupFooter()})]},t.groupName)})})})]})}}],eB(l.prototype,r),o&&eB(l,o),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function eY(e){var t=(0,u.ZP)();return(0,m.jsx)(eW,eN(eN({},e),{},{i18n:t}))}function eX(e){var t=e.selectedIndex,r=e.onSelect,n=(0,u.ZP)(),o=n._('Left align', 'Adjust the text to left alignment.', 'Adjust the text to left alignment.'),a=n._('Center align', 'Adjust the text to center alignment.', 'Adjust the text to center alignment.'),l=[(0,m.jsx)(i.xu,{"data-group-id":"pinbuilder-editor-text-align-button","data-test-id":"pinbuilder-editor-text-align-left-button",children:(0,m.jsx)(i.u,{text:o,children:(0,m.jsx)(i.JO,{accessibilityLabel:o,icon:"text-align-left",color:0===t?"default":"subtle",size:18})})}),(0,m.jsx)(i.xu,{"data-group-id":"pinbuilder-editor-text-align-button","data-test-id":"pinbuilder-editor-text-align-center-button",children:(0,m.jsx)(i.u,{text:a,children:(0,m.jsx)(i.JO,{accessibilityLabel:a,icon:"text-align-center",color:1===t?"default":"subtle",size:18})})})];return(0,m.jsx)(i.sY,{selectedItemIndex:t,onChange:r,items:l})}function eq(e){var t=e.selectedIndex,r=e.onSelect,n=(0,u.ZP)(),o=n._('Position text on top', 'Adjust the location of the text to top.', 'Adjust the location of the text to top.'),a=n._('Position text in middle', 'Adjust the location of the text to middle.', 'Adjust the location of the text to middle.'),l=n._('Position text on bottom', 'Adjust the location of the text to bottom.', 'Adjust the location of the text to bottom.'),s=[(0,m.jsx)(i.xu,{"data-group-id":"pinbuilder-editor-text-position-button","data-test-id":"pinbuilder-editor-text-position-top-button",children:(0,m.jsx)(i.u,{text:o,children:(0,m.jsx)(i.JO,{accessibilityLabel:o,icon:"align-top",color:0===t?"default":"subtle",size:18})})}),(0,m.jsx)(i.xu,{"data-group-id":"pinbuilder-editor-text-position-button","data-test-id":"pinbuilder-editor-text-position-middle-button",children:(0,m.jsx)(i.u,{text:a,children:(0,m.jsx)(i.JO,{accessibilityLabel:a,icon:"align-middle",color:1===t?"default":"subtle",size:18})})}),(0,m.jsx)(i.xu,{"data-group-id":"pinbuilder-editor-text-position-button","data-test-id":"pinbuilder-editor-text-position-bottom-button",children:(0,m.jsx)(i.u,{text:l,children:(0,m.jsx)(i.JO,{accessibilityLabel:l,icon:"align-bottom",color:2===t?"default":"subtle",size:18})})})];return(0,m.jsx)(i.sY,{selectedItemIndex:t,onChange:r,items:s})}function eK(e){var t=e.selectedIndex,r=e.onSelect,n=(0,u.ZP)(),o=n._('Sentence case', 'Transform the text to sentence case.', 'Transform the text to sentence case.'),a=n._('Uppercase', 'Transform the text to all uppercase.', 'Transform the text to all uppercase.'),l=[(0,m.jsx)(i.xu,{"data-group-id":"pinbuilder-editor-text-transform-button","data-test-id":"pinbuilder-editor-text-sentence-case-button",children:(0,m.jsx)(i.u,{text:o,children:(0,m.jsx)(i.JO,{accessibilityLabel:o,icon:"text-sentence-case",color:0===t?"default":"subtle",size:18})})}),(0,m.jsx)(i.xu,{"data-group-id":"pinbuilder-editor-text-transform-button","data-test-id":"pinbuilder-editor-text-all-caps-button",children:(0,m.jsx)(i.u,{text:a,children:(0,m.jsx)(i.JO,{accessibilityLabel:a,icon:"text-all-caps",color:1===t?"default":"subtle",size:18})})})];return(0,m.jsx)(i.sY,{selectedItemIndex:t,onChange:r,items:l})}function e$(e){return(e$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eJ(Object(r),!0).forEach(function(t){e3(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eJ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e0(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e5(n.key),n)}}function e1(e,t){return(e1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e2(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e8(e){return(e8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e3(e,t,r){return(t=e5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e5(e){var t=function(e,t){if("object"!==e$(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==e$(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e$(t)?t:String(t)}var e6={fontColor:{__style:{zIndex:d.v9}},fontFamily:{__style:{zIndex:d.v9+1}}},e4=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e1(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=e8(a);if(t){var n=e8(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===e$(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return e2(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e3(e2(e=o.call.apply(o,[this].concat(r))),"_getTextConfigs",function(t){var r=t.fontFamilyName,n=t.fontStyleName,o=t.fontWeight,i=t.fontSize,a=t.textColor,l=t.lineHeight,s=t.letterSpacing,c=t.transformIndex,u=t.alignmentIndex,f=t.marginIndex,p=t.backgroundColor,h=t.backgroundTransparencyIndex,y=t.positionIndex,m=e.props.fontGroups,g=(0,k.$D)(m,r);return{fontFamily:r,fontStyle:(g&&g.styles.find(function(e){return e.name===n})||{}).fontStyle,fontSize:i,fontWeight:o,textColor:a,lineHeight:l,backgroundColor:p,characterSpacing:s,transform:d.np[c],alignment:d.aj[u],margin:d.mt[f],backgroundOpacity:d.AQ[h],position:d.yb[y]}}),e3(e2(e),"onReset",function(){var t=e.props,r=t.getDefaultTextState,n=t.pinCanvas,o=t.onReset,i=t.logContextEvent;if(o(),n){n.removeTextLayer();var a=e._getTextConfigs(r());n.addTextLayer(a)}i({event_type:101,component:13780,element:12135,aux_data:{editor_mode:"text"}})}),e3(e2(e),"onSelectFontFamily",function(t){var r=e.props,n=r.fontGroups,o=r.pinCanvas,i=r.onSelectFontFamily,a=r.logContextEvent;if(o){var l=(0,k.$D)(n,t.optionName);if(l){var s=l.fontFamily,c=l.fontOverrides,u=l.defaultStyle,d=l.styles[u],f=d.fontStyle,p=d.fontWeight;if(c){var h=c.textTransform?1:0;e.onSelectTransform({activeIndex:h}),c.lineHeight&&e.onChangeLineHeight(c.lineHeight),c.letterSpacing&&e.onChangeLetterSpacing(c.letterSpacing)}o.setFontFamily(null!=s?s:""),o.setFontStyle(f),o.setFontWeight(p)}}i(t),a({event_type:3828,component:13780,element:12151,aux_data:{value:"".concat(t.groupName,": ").concat(t.optionName)}})}),e3(e2(e),"onSelectTextColor",function(t){var r=t.value,n=e.props,o=n.pinCanvas,i=n.onSelectTextColor,a=n.logContextEvent;o&&o.setTextColor(r),i(r),a({event_type:8721,component:13780,element:12153,aux_data:{value:r}})}),e3(e2(e),"onChangeFontSize",function(t){var r=e.props,n=r.pinCanvas,o=r.onChangeFontSize,i=r.logContextEvent;n&&n.setFontSize(t),o(t),i({event_type:3828,component:13780,element:12152,aux_data:{value:t}})}),e3(e2(e),"onChangeLineHeight",function(t){var r=e.props,n=r.pinCanvas,o=r.onChangeLineHeight,i=r.logContextEvent;n&&n.setTextLineHeight(t),o(t),i({event_type:3828,component:13780,element:12161,aux_data:{value:t}})}),e3(e2(e),"onChangeLetterSpacing",function(t){var r=e.props,n=r.pinCanvas,o=r.onChangeLetterSpacing,i=r.logContextEvent;n&&n.setTextCharacterSpacing(10*t),o(t),i({event_type:3828,component:13780,element:12162,aux_data:{value:t}})}),e3(e2(e),"onSelectTransform",function(t){var r=t.activeIndex,n=e.props,o=n.pinCanvas,i=n.onSelectTransform,a=n.logContextEvent,l=d.np[r];o&&o.setTextTransform(l),i(r),a({event_type:3828,component:13780,element:12163,aux_data:{value:l}})}),e3(e2(e),"onSelectAlignment",function(t){var r=t.activeIndex,n=e.props,o=n.pinCanvas,i=n.onSelectAlignment,a=n.logContextEvent,l=d.aj[r];o&&o.setTextAlignment(l),i(r),a({event_type:101,component:13780,element:12154,aux_data:{value:l}})}),e3(e2(e),"onSelectMargin",function(t){var r=t.activeIndex,n=e.props,o=n.pinCanvas,i=n.onSelectMargin,a=n.logContextEvent,l=d.mt[r];o&&o.setTextMargin(l),i(r),a({event_type:101,component:13780,element:12155,aux_data:{value:l}})}),e3(e2(e),"onSelectBackgroundColor",function(t){var r=t.value,n=e.props,o=n.pinCanvas,i=n.onSelectBackgroundColor,a=n.logContextEvent;o&&o.setTextBackgroundColor(r),i(r),a({event_type:8721,component:13780,element:12156,aux_data:{editor_option:"color",value:r}})}),e3(e2(e),"onSelectBackgroundTransparency",function(t){var r=t.activeIndex,n=e.props,o=n.pinCanvas,i=n.onSelectBackgroundTransparency,a=n.logContextEvent,l=d.AQ[r];o&&o.setTextBackgroundOpacity(l),i(r),a({event_type:8721,component:13780,element:12156,aux_data:{editor_option:"transparency",value:l}})}),e3(e2(e),"onSelectPosition",function(t){var r=t.activeIndex,n=e.props,o=n.pinCanvas,i=n.onSelectPosition,a=n.logContextEvent,l=d.yb[r];o&&o.setTextPosition(l),i(r),a({event_type:101,component:13780,element:12157,aux_data:{value:l}})}),e3(e2(e),"getFontFamilyOptions",function(){return e.props.fontGroups.map(function(e){return{groupLabel:e.groupLabel,groupName:e.groupName,groupFooter:e.groupFooter,options:e.fonts.map(function(e){var t,r;return{optionName:null!==(t=e.fontFamily)&&void 0!==t?t:"",optionLabel:null!==(r=e.fontFamily)&&void 0!==r?r:"",style:{fontFamily:e.fontFamily,fontStyle:e.styles[e.defaultStyle].fontStyle,fontWeight:e.styles[e.defaultStyle].fontWeight}}})}})}),e}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.pinCanvas,r=e.text;if(t){var n=this._getTextConfigs(r);t.addTextLayer(n)}}},{key:"render",value:function(){var e=this.props,t=e.text,r=e.onToggleShowMoreOptions,n=e.pinCanvas,o=t.fontGroupName,a=t.fontFamilyName,l=t.fontSize,s=t.textColor,c=t.marginIndex,u=t.alignmentIndex,d=t.positionIndex,f=t.backgroundColor,p=t.backgroundTransparencyIndex,h=t.lineHeight,y=t.letterSpacing,g=t.transformIndex,b=t.showMoreOptions,_=this.getFontFamilyOptions(),v=o===T.f9,x=n?n.getColorPalette():null;return(0,m.jsxs)(i.xu,{column:12,display:"flex",direction:"column",children:[(0,m.jsxs)(i.xu,{paddingY:8,flex:"grow",overflow:"auto",children:[(0,m.jsx)(i.xu,{paddingX:8,children:(0,m.jsx)(i.X6,{size:"500",children:this.props.i18n._('Text Overlay', 'Add text to the image selected in Pin Builder.', 'Add text to the image selected in Pin Builder.')})}),(0,m.jsx)(i.xu,{paddingX:8,marginTop:4,children:(0,m.jsx)(i.xv,{children:this.props.i18n._('Add text directly onto your Pin', ' - ', ' -- ')})}),(0,m.jsx)(i.xu,{paddingX:8,marginTop:6,children:(0,m.jsx)(i.xv,{size:"200",weight:"bold",children:this.props.i18n._('Style', 'Text font style', 'Text font style')})}),(0,m.jsx)(i.xu,{paddingX:8,marginTop:4,position:"relative",dangerouslySetInlineStyle:e6.fontFamily,children:(0,m.jsx)(eY,{placeholder:this.props.i18n._('Select font family', ' - ', ' -- '),optionGroups:_,selectedOption:{groupName:o,optionName:a},onSelect:this.onSelectFontFamily})}),(0,m.jsxs)(i.xu,{paddingX:8,marginTop:4,display:"flex",children:[(0,m.jsxs)(i.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:84,children:[(0,m.jsx)(N.Z,{id:"pinbuilder-editor-font-size-text-field",minValue:18,maxValue:64,iconName:"text-size",value:l,onChange:this.onChangeFontSize}),(0,m.jsx)(i.xu,{marginTop:2,children:(0,m.jsx)(i.xv,{size:"100",children:this.props.i18n._('Size', 'Text font size', 'Text font size')})})]}),(0,m.jsxs)(i.xu,{marginStart:4,display:"flex",direction:"column",alignItems:"center",width:84,position:"relative",dangerouslySetInlineStyle:e6.fontColor,children:[(0,m.jsx)(B.ZP,{colorSelected:s,id:"pinbuilder-editor-text-color-picker",imagePalette:x,onSelectColor:this.onSelectTextColor}),(0,m.jsx)(i.xu,{marginTop:2,children:(0,m.jsx)(i.xv,{size:"100",children:this.props.i18n._('Color', 'Text color', 'Text color')})})]})]}),v&&(0,m.jsxs)(i.xu,{paddingX:8,marginTop:4,position:"relative",children:[(0,m.jsx)(i.iz,{}),(0,m.jsxs)(i.xu,{paddingY:4,children:[(0,m.jsx)(i.iP,{onTap:r,children:(0,m.jsx)(i.xv,{color:"subtle",size:"100",weight:"bold",children:b?"- "+(this.props.i18n._('Hide options', 'Hide text adjustment options.', 'Hide text adjustment options.')):"+ "+(this.props.i18n._('Show more options', 'Show more text adjustment options.', 'Show more text adjustment options.'))})}),b&&(0,m.jsxs)(i.xu,{marginTop:4,display:"flex",children:[(0,m.jsxs)(i.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:84,children:[(0,m.jsx)(N.Z,{iconName:"text-line-height",id:"pinbuilder-editor-text-line-height",minValue:.5,maxValue:2.5,step:.1,value:h,onChange:this.onChangeLineHeight}),(0,m.jsx)(i.xu,{marginTop:2,children:(0,m.jsx)(i.xv,{size:"100",children:this.props.i18n._('Line', 'Line height of the text', 'Line height of the text')})})]}),(0,m.jsxs)(i.xu,{marginStart:3,display:"flex",direction:"column",alignItems:"center",width:84,children:[(0,m.jsx)(N.Z,{id:"pinbuilder-editor-text-spacing-text-field",iconName:"text-spacing",minValue:-10,maxValue:50,step:1,value:y,onChange:this.onChangeLetterSpacing}),(0,m.jsx)(i.xu,{marginTop:2,children:(0,m.jsx)(i.xv,{size:"100",children:this.props.i18n._('Letter', 'Letter spaceing of the text', 'Letter spaceing of the text')})})]}),(0,m.jsxs)(i.xu,{marginStart:3,display:"flex",direction:"column",alignItems:"center",width:84,children:[(0,m.jsx)(eK,{selectedIndex:g,onSelect:this.onSelectTransform}),(0,m.jsx)(i.xu,{marginTop:2,children:(0,m.jsx)(i.xv,{size:"100",children:this.props.i18n._('Transform', 'Text transform between normal and all uppercase', 'Text transform between normal and all uppercase')})})]})]})]}),(0,m.jsx)(i.iz,{})]}),(0,m.jsxs)(i.xu,{paddingX:8,marginTop:10,display:"flex",justifyContent:"between",position:"relative",children:[(0,m.jsxs)(i.kC,{direction:"column",justifyContent:"start",children:[(0,m.jsx)(i.xu,{marginBottom:2,children:(0,m.jsx)(i.xv,{size:"200",weight:"bold",children:this.props.i18n._('Alignment', 'Adjust text alignment', 'Adjust text alignment')})}),(0,m.jsx)(eX,{selectedIndex:u,onSelect:this.onSelectAlignment})]}),(0,m.jsxs)(i.kC,{direction:"column",justifyContent:"start",children:[(0,m.jsx)(i.xu,{marginBottom:2,children:(0,m.jsx)(i.xv,{size:"200",weight:"bold",children:this.props.i18n._('Margins', 'Adjust the margin.', 'Adjust the margin.')})}),(0,m.jsx)(F,{marginIndex:c,onSelectMargin:this.onSelectMargin})]})]}),(0,m.jsxs)(i.xu,{paddingX:8,marginTop:10,display:"flex",justifyContent:"between",children:[(0,m.jsxs)(i.kC,{direction:"column",justifyContent:"start",children:[(0,m.jsx)(i.xu,{marginBottom:2,children:(0,m.jsx)(i.xv,{size:"200",weight:"bold",children:this.props.i18n._('Background', 'Adjust the background of the text overlay', 'Adjust the background of the text overlay')})}),(0,m.jsx)(B.ZP,{id:"pinbuilder-editor-text-background-color-picker",imagePalette:x,width:96,showNoFillControl:!0,showTransparencyControl:!0,colorSelected:f,onSelectColor:this.onSelectBackgroundColor,transparencyIndex:p,onSelectTransparency:this.onSelectBackgroundTransparency})]}),(0,m.jsxs)(i.kC,{direction:"column",justifyContent:"start",children:[(0,m.jsx)(i.xu,{marginBottom:2,children:(0,m.jsx)(i.xv,{size:"200",weight:"bold",children:this.props.i18n._('Position', 'Adjust the position of the text overlay', 'Adjust the position of the text overlay')})}),(0,m.jsx)(eq,{selectedIndex:d,onSelect:this.onSelectPosition})]})]})]}),(0,m.jsxs)(i.xu,{display:"flex",direction:"column",column:12,children:[(0,m.jsx)(i.iz,{}),(0,m.jsx)(i.xu,{"data-tutorial-id":"pin-builder-editor-reset-button",paddingY:2,paddingX:8,children:(0,m.jsx)(i.zx,{fullWidth:!0,accessibilityLabel:this.props.i18n._('Reset', ' - ', ' -- '),color:"white",text:this.props.i18n._('Reset', 'Resets all the changes.', 'Resets all the changes.'),onClick:this.onReset})})]})]})}}],e0(a.prototype,r),n&&e0(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function e9(e){var t=(0,c.v)().logContextEvent,r=(0,u.ZP)();return(0,m.jsx)(e4,eQ(eQ({},e),{},{i18n:r,logContextEvent:t}))}var e7=r(623320);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e){return function(e){if(Array.isArray(e))return tr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return tr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tr(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(r),!0).forEach(function(t){tc(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ti(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tu(n.key),n)}}function ta(e,t){return(ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tl(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ts(e){return(ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tc(e,t,r){return(t=tu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tu(e){var t=function(e,t){if("object"!==te(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==te(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===te(t)?t:String(t)}var td="#efefef",tf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ta(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ts(a);if(t){var n=ts(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===te(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tl(e)}(this,e)});function a(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),tc(tl(t=o.call(this,e)),"_getInitialAspectRatioIndex",function(){var e=t.props,r=e.canDeselectAspectRatio,n=e.canvasJson,o=e.type;if(!n)return r?null:0;var i=(0,R.Z)(o).findIndex(function(e){var t=e.w,r=e.h;return n.aspectRatio&&t===n.aspectRatio.w&&r===n.aspectRatio.h});return -1===i?null:i}),tc(tl(t),"_getToolPanes",function(e){var r=t.props.mediaType,n=[{icon:"crop",label:t.props.i18n._('Crop & rotate', 'Button to enter cropping tool', 'Button to enter cropping tool'),name:"crop"}];return"video"!==r&&(n.push({icon:"star",label:t.props.i18n._('Logo', 'Button to enter logo tool', 'Button to enter logo tool'),name:"logo"}),e.length>0&&n.push({icon:"overlay-text",label:t.props.i18n._('Text overlay', 'Button to enter text overlay tool', 'Button to enter text overlay tool'),name:"text"})),n}),tc(tl(t),"_getBrandFontDefaultTextState",function(e,t){var r=t.find(function(e){return e.groupName===T.f9});if(r){var n,o=r.fonts[0];return to(to({},e),{},{fontFamilyName:null!==(n=o.fontFamily)&&void 0!==n?n:"",fontGroupName:o.fontGroup,fontStyleName:o.styles[0].name})}return e}),tc(tl(t),"getTextState",function(e,r){var n=t.props.canvasJson;if(n&&n.text){var o,i=n.text,a=i.fontFamily,l=i.fontStyle,s=i.fontWeight,c=(0,k.$D)(r,a);if(c)return to(to({},e),{},{fontFamilyName:null!==(o=c.fontFamily)&&void 0!==o?o:"",fontGroupName:c.fontGroup,fontStyleName:(0,k.CP)(c,l,s)})}return t._getBrandFontDefaultTextState(e,r)}),tc(tl(t),"getDefaultTextState",function(){var e=t.props.requestContext.locale;return t._getBrandFontDefaultTextState((0,k.bs)(e),t.state.fontGroups)}),tc(tl(t),"onIconClick",function(e){var r=t.state.currentToolPane,n=t.props,o=n.pinCanvas,i=n.logContextEvent;e!==r&&o&&("text"===r&&o.removeTextLayer(!0),["crop","logo","text"].includes(e))&&(o.setEditingMode(e),i({event_type:101,component:13780,element:{crop:12132,logo:12133,text:12134}[e]})),t.setState({currentToolPane:e})}),tc(tl(t),"onSelectAspectRatioIndex",function(e){var r=t.props,n=r.onAspectRatioChange,o=r.type;t.setState({aspectRatioIndex:e}),void 0!==e&&n(null!==e?(0,R.Z)(o)[e]:null)}),tc(tl(t),"onCropReset",function(){t.setState({aspectRatioIndex:t._getInitialAspectRatioIndex()})}),tc(tl(t),"onDeleteLogo",function(e){var r=t.props.invalidateStickerResource,n=t.state,o=n.logo,i=n.logoImages[e].assetId;if(i){l.Z.create("StickerAssetResource",{assetId:i}).callDelete().then(r);var a=(o||{}).logoIndex,s=a===e||null==a?null:a>e?a-1:a;t.setState(function(t){return{logo:to(to({},t.logo),{},{logoIndex:s}),logoImages:t.logoImages.filter(function(t,r){return r!==e})}})}}),tc(tl(t),"onUploadLogos",function(e){var r=t.props,n=r.invalidateStickerResource,o=r.logContextEvent;Promise.all(e.map(function(e){return(0,e7.zp)(e.src).then(function(e){return l.Z.create("StickerAssetResource",{binary_data:e}).callCreate()})})).then(function(r){if(r){var o=r.map(function(t,r){var n=t.resource_response.data,o=e[r];return{id:n.assetId,height:o.height,width:o.width,src:o.src,type:"assetImage",assetId:n.assetId}});t.setState(function(e){return{logoImages:[].concat(tt(o),tt(e.logoImages)),logo:to(to({},e.logo),{},{logoIndex:0})}}),n()}}),o({event_type:101,component:13780,element:12140})}),tc(tl(t),"onLogoReset",function(){t.setState({logo:{logoIndex:null,logoSize:50,logoMarginIndex:1,logoPositionIndex:0,logoBackgroundColor:"",logoTransparencyIndex:0}})}),tc(tl(t),"onSelectLogo",function(e){t.setState(function(t){return{logo:to(to({},t.logo),{},{logoIndex:t.logo.logoIndex===e?null:e})}})}),tc(tl(t),"onChangeLogoSize",function(e){t.setState(function(t){return{logo:to(to({},t.logo),{},{logoSize:e})}})}),tc(tl(t),"onSelectLogoMargin",function(e){t.setState(function(t){return{logo:to(to({},t.logo),{},{logoMarginIndex:e})}})}),tc(tl(t),"onSelectLogoPosition",function(e){t.setState(function(t){return{logo:to(to({},t.logo),{},{logoPositionIndex:e})}})}),tc(tl(t),"onSelectLogoBackgroundColor",function(e){t.setState(function(t){return{logo:to(to({},t.logo),{},{logoBackgroundColor:e})}})}),tc(tl(t),"onSelectLogoTransparency",function(e){t.setState(function(t){return{logo:to(to({},t.logo),{},{logoTransparencyIndex:e})}})}),tc(tl(t),"onSelectFontFamily",function(e){var r=t.state.fontGroups,n=(0,k.$D)(r,e.optionName);if(n){var o=n.styles[n.defaultStyle].name,i=n.fontOverrides,a=i&&i.textTransform?1:0,l=i&&i.lineHeight||1.2,s=i&&i.letterSpacing||0;t.setState(function(t){return{text:to(to({},t.text),{},{fontGroupName:e.groupName,fontFamilyName:e.optionName,fontStyleName:o,letterSpacing:s,lineHeight:l,transformIndex:a})}})}}),tc(tl(t),"onSelectTextColor",function(e){t.setState(function(t){return{text:to(to({},t.text),{},{textColor:e})}})}),tc(tl(t),"onChangeFontSize",function(e){t.setState(function(t){return{text:to(to({},t.text),{},{fontSize:e})}})}),tc(tl(t),"onChangeLineHeight",function(e){t.setState(function(t){return{text:to(to({},t.text),{},{lineHeight:e})}})}),tc(tl(t),"onChangeLetterSpacing",function(e){t.setState(function(t){return{text:to(to({},t.text),{},{letterSpacing:e})}})}),tc(tl(t),"onSelectTransform",function(e){t.setState(function(t){return{text:to(to({},t.text),{},{transformIndex:e})}})}),tc(tl(t),"onSelectAlignment",function(e){t.setState(function(t){return{text:to(to({},t.text),{},{alignmentIndex:e})}})}),tc(tl(t),"onSelectMargin",function(e){t.setState(function(t){return{text:to(to({},t.text),{},{marginIndex:e})}})}),tc(tl(t),"onSelectBackgroundColor",function(e){t.setState(function(t){return{text:to(to({},t.text),{},{backgroundColor:e})}})}),tc(tl(t),"onSelectBackgroundTransparency",function(e){t.setState(function(t){return{text:to(to({},t.text),{},{backgroundTransparencyIndex:e})}})}),tc(tl(t),"onSelectPosition",function(e){t.setState(function(t){return{text:to(to({},t.text),{},{positionIndex:e})}})}),tc(tl(t),"onToggleShowMoreOptions",function(){var e=t.props.logContextEvent;t.setState(function(t){var r=!t.text.showMoreOptions;return e({event_type:101,component:13780,element:12158,aux_data:{value:r}}),{text:to(to({},t.text),{},{showMoreOptions:r})}})}),tc(tl(t),"onTextReset",function(){t.setState({text:t.getDefaultTextState()})});var t,r=e.canDeselectAspectRatio,n=e.canvasJson,i=e.requestContext.locale;if(t.state={aspectRatioIndex:r?null:0,brandFontsLoaded:!1,currentToolPane:"crop",fontGroups:[],isImageSelected:!1,isScalingMode:!1,logoImagesLoaded:!1,logo:{logoBackgroundColor:"",logoIndex:null,logoMarginIndex:1,logoPositionIndex:0,logoSize:50,logoTransparencyIndex:0},logoImages:[],numImages:0,text:(0,k.bs)(i)},n){if(t.state=to(to({},t.state),{},{aspectRatioIndex:t._getInitialAspectRatioIndex()}),n.logo){var s=n.logo,c=s.size,u=s.margin,f=s.position,p=s.backgroundColor,h=s.backgroundOpacity;t.state=to(to({},t.state),{},{logo:to(to({},t.state.logo),{},{logoBackgroundColor:p,logoMarginIndex:d.mt.indexOf(u),logoPositionIndex:d.n_.indexOf(f),logoSize:c,logoTransparencyIndex:d.AQ.indexOf(h)})})}if(n.text){var y=n.text,m=y.alignment,g=y.backgroundColor,b=y.backgroundOpacity,_=y.characterSpacing,v=y.fontSize,x=y.fontWeight,P=y.lineHeight,O=y.margin,j=y.position,S=y.textColor,w=y.transform;t.state=to(to({},t.state),{},{text:to(to({},t.state.text),{},{backgroundColor:g,fontSize:v,fontWeight:x,textColor:S,alignmentIndex:d.aj.indexOf(m),backgroundTransparencyIndex:d.AQ.indexOf(b),letterSpacing:_||t.state.text.letterSpacing,lineHeight:P||t.state.text.lineHeight,marginIndex:d.mt.indexOf(O),positionIndex:d.yb.indexOf(j),showMoreOptions:!1,transformIndex:d.np.indexOf(w)})})}}return t}return r=[{key:"componentDidMount",value:function(){var e=this;if(D.Z.enabled("systemFonts")){var t=this.props.requestContext.locale;(0,k.vK)().then(function(){return e.setState(function(r){var n=(0,k.j1)(),o=[].concat(tt(r.fontGroups.filter(function(e){return e.groupName===T.f9})),[{groupName:T.gu,groupLabel:e.props.i18n._('Suggested', 'Suggested fonts we expose to the user', 'Suggested fonts we expose to the user'),fonts:n.filter(function(e){return e.fontGroup===T.gu&&!e.localeFilter||e.localeFilter===t})},{groupName:T.Rc,groupLabel:e.props.i18n._('Additional', 'Additional fonts we expose to the user', 'Additional fonts we expose to the user'),groupFooter:function(){return(0,m.jsx)(i.xv,{size:"100",color:"subtle",children:(0,m.jsx)(i.rU,{href:"https://www.pinterest.com/_/_/help/business/article/build-a-pin",target:"blank",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:e.props.i18n._('Licence info', 'Link to legal information about system fonts', 'Link to legal information about system fonts')})})},fonts:n.filter(function(e){return e.fontGroup===T.Rc})}]);return{fontGroups:o,text:e.getTextState(r.text,o)}})})}}},{key:"componentDidUpdate",value:function(e){var t=this,r=this.props,n=r.canvasJson,o=r.pinCanvas,i=r.fontAssetResource,a=i.data,l=i.isLoaded,s=r.stickerAssetResource.data,c=this.state,u=c.brandFontsLoaded,d=c.logoImagesLoaded;if(o&&!e.pinCanvas&&o.on("after:render",this.onCanvasUpdate.bind(this)),l&&a&&a.length>0&&!u&&(0,k.KV)(a).then(function(){return t.setState(function(e){var r=[{fonts:a,groupName:T.f9,groupLabel:t.props.i18n._('Uploaded Fonts', 'fonts uploaded by the user', 'fonts uploaded by the user')}].concat(tt(e.fontGroups.filter(function(e){return e.groupName!==T.f9})));return{fontGroups:r,brandFontsLoaded:!0,text:t.getTextState(e.text,r)}})}),s&&s.length>0&&!d){var f=s.map(function(e){return{id:e.assetId,type:"assetImage",src:e.source,width:e.width,height:e.height,assetId:e.assetId}}),p=(n||{}).logo,h=p?f.findIndex(function(e){return e.assetId===p.assetId}):null;this.setState(function(e){return{logoImages:f,logoImagesLoaded:!0,logo:to(to({},e.logo),{},{logoIndex:h})}})}}},{key:"componentWillUnmount",value:function(){var e=this.props.pinCanvas;e&&e.off("after:render")}},{key:"onCanvasUpdate",value:function(){var e=this.props.pinCanvas;e&&this.setState({numImages:e.getNumOfImages(),isImageSelected:e.isImageSelected(),isScalingMode:e.isScalingMode()})}},{key:"render",value:function(){var e=this,t=this.state,r=t.aspectRatioIndex,n=t.currentToolPane,o=t.fontGroups,a=t.isImageSelected,l=t.isScalingMode,s=t.logo,c=t.logoImages,u=t.numImages,f=t.text,p=this.props,h=p.canDeselectAspectRatio,y=p.pinCanvas,g=p.pinDraftId,b=p.type,_=p.mediaType,v=p.videoDuration,x=p.videoStartText,P=p.videoEndText,O=p.validateStartTime,j=p.validateEndTime,S=p.handleStartTimeChange,w=p.handleEndTimeChange,E=(0,R.Z)(b),A=this._getToolPanes(o);return(0,m.jsxs)(i.xu,{minWidth:d.wj,width:d.wj,height:"100%",display:"flex",direction:"row",color:"default",flex:"none",children:[(0,m.jsx)(i.xu,{width:56,height:"100%",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid ".concat(td)}},display:"flex",direction:"column",color:"default",children:A.map(function(t,r){return(0,m.jsx)(i.xu,{"data-test-id":"pinbuilder-editor-".concat(t.name,"-pane-button"),"data-tutorial-id":"pinbuilder-editor-".concat(t.name,"-pane-button"),width:56,padding:2,dangerouslySetInlineStyle:{__style:{borderRight:n===t.name?"1px solid #fff":void 0,borderTop:0!==r&&n===t.name?"1px solid ".concat(td):"1px solid transparent",borderBottom:n===t.name?"1px solid ".concat(td):"1px solid transparent"}},children:(0,m.jsx)(i.u,{text:t.label,children:(0,m.jsx)(i.hU,{icon:t.icon,accessibilityLabel:t.label,onClick:function(){return e.onIconClick(t.name)},iconColor:n===t.name?"darkGray":"gray",size:"md"})})},t.name)})}),"crop"===n&&(0,m.jsx)(C,{aspectRatioIndex:r,aspectRatios:E,canDeselectAspectRatio:h,isImageSelected:a,isScalingMode:l,numImages:u,onReset:this.onCropReset,onSelectAspectRatioIndex:this.onSelectAspectRatioIndex,pinCanvas:y,pinDraftId:g,mediaType:_,videoDuration:v,videoStartText:x,videoEndText:P,validateStartTime:O,validateEndTime:j,handleStartTimeChange:S,handleEndTimeChange:w}),"logo"===n&&(0,m.jsx)(ez,{pinCanvas:y,logo:s,logoImages:c,onUploadLogos:this.onUploadLogos,onDeleteLogo:this.onDeleteLogo,onReset:this.onLogoReset,onSelectLogo:this.onSelectLogo,onChangeLogoSize:this.onChangeLogoSize,onSelectLogoMargin:this.onSelectLogoMargin,onSelectLogoPosition:this.onSelectLogoPosition,onSelectLogoBackgroundColor:this.onSelectLogoBackgroundColor,onSelectLogoTransparency:this.onSelectLogoTransparency}),"text"===n&&(0,m.jsx)(e9,{fontGroups:o,pinCanvas:y,text:f,getDefaultTextState:this.getDefaultTextState,onReset:this.onTextReset,onSelectFontFamily:this.onSelectFontFamily,onSelectTextColor:this.onSelectTextColor,onChangeFontSize:this.onChangeFontSize,onChangeLineHeight:this.onChangeLineHeight,onChangeLetterSpacing:this.onChangeLetterSpacing,onSelectTransform:this.onSelectTransform,onSelectAlignment:this.onSelectAlignment,onSelectMargin:this.onSelectMargin,onSelectBackgroundColor:this.onSelectBackgroundColor,onSelectBackgroundTransparency:this.onSelectBackgroundTransparency,onSelectPosition:this.onSelectPosition,onToggleShowMoreOptions:this.onToggleShowMoreOptions})]})}}],ti(a.prototype,r),n&&ti(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function tp(e){var t=(0,c.v)().logContextEvent,r=(0,u.ZP)(),n=(0,o.useDispatch)(),i=e.pinDraftId,a=e.type,l=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[i]}).pinItemIndex,s=(0,M.Z)({name:"FontAssetResource"}),d=(0,M.Z)({name:"StickerAssetResource"});return(0,m.jsx)(tf,to(to({},e),{},{canDeselectAspectRatio:"carousel"!==a&&!("story"===a&&0===l),fontAssetResource:s,invalidateStickerResource:function(){return n((0,L.jB)("StickerAssetResource"))},requestContext:(0,z.B)(),stickerAssetResource:d,i18n:r,logContextEvent:t}))}var th=r(724565),ty=r(734765),tm=r(223815),tg=r(829407),tb=r(19121),t_=r(939853),tv=r(634449),tx=r(537339),tP=r(833991),tO=r(977558),tj=r(333312),tS=9/16,tw=function(e){var t=e.height,r=e.onClick,o=e.selected,a=e.src,l=e.width,s=(0,u.ZP)(),c=(0,n.useRef)(null);return t||a||l?(0,m.jsxs)(i.xu,{"data-test-id":"pinbuilder-editor-thumbnail",flex:"grow",height:"100%",marginStart:1,marginEnd:1,maxWidth:(null!=l?l:1)/(null!=t?t:1)>tS?40:20,minHeight:40,children:[o&&(0,m.jsx)(tj.default,{anchor:c.current,experienceIds:[501067],idealDirection:"up",placementId:1000135}),(0,m.jsx)(i.xu,{ref:c,children:(0,m.jsx)(er.Z,{onClick:r,rounded:!0,selected:o,children:(0,m.jsx)(i.zd,{rounding:2,children:(0,m.jsx)(i.Ee,{alt:s._('Carousel thumbnail', 'Description text for carousel image thumbnail when editing', 'Description text for carousel image thumbnail when editing'),naturalHeight:null!=t?t:1,naturalWidth:null!=l?l:1,src:a})})})})]},"carousel-thumbnail-".concat(a)):null},tE=r(456463),tA=r(699109),tI=r(955625),tC=r(382964),tT=r(305782);function tD(e){return(tD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tR(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function tz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tz(Object(r),!0).forEach(function(t){tZ(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tU(n.key),n)}}function tN(e,t){return(tN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tB(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tF(e){return(tF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tZ(e,t,r){return(t=tU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tU(e){var t=function(e,t){if("object"!==tD(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tD(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tD(t)?t:String(t)}var tH={__style:{zIndex:tO.fe+1e3}},tV=RegExp("\\d\\d:\\d\\d:\\d\\d"),tG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tN(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tF(a);if(t){var n=tF(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===tD(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tB(e)}(this,e)});function a(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),tZ(tB(n=o.call(this,e)),"updateCachedItems",function(e){var t=n.state,r=t.selectedId,o=t.cachedItems,i=o[r].media,a=n.pinCanvas?tL(tL({},i),n.pinCanvas.getCanvasOutput()):i,l=n.pinCanvas?n.pinCanvas.toJSON():null;l&&"localImage"===a.type&&n.setState({selectedId:e,cachedItems:tL(tL({},o),{},tZ({},r,tL(tL({},o[r]),{},{media:a,canvasJson:l})))})}),tZ(tB(n),"setCarouselItem",function(e){var t=n.props.pinItemIds,r=n.state,o=r.selectedId,i=r.cachedItems,a=t[e],l=i[a],s=l.canvasJson,c=l.media;a!==o&&i&&(n.updateCachedItems(a),n.pinCanvas&&s?n.pinCanvas.loadFromJSON(s):n.pinCanvas&&c&&c.src&&n.pinCanvas.setImage(c.src))}),tZ(tB(n),"onResize",function(){if(n._canvasContainer){var e=n._canvasContainer.getBoundingClientRect(),t=e.width,r=e.height;n.pinCanvas&&n.pinCanvas.resize(t,r)}}),tZ(tB(n),"isVideo",function(e){return!!e&&("localVideo"===e.type||"webVideo"===e.type)}),tZ(tB(n),"onSaveChanges",function(){var e,t=n.props,r=t.onDismiss,o=t.pinDraftId,i=t.updatePinItemImages,a=t.logContextEvent,l=n.state,s=l.selectedId,c=l.cachedItems,u=l.isVideoPlaying,d=l.videoStartText,f=l.videoEndText,p=(c[s]||{}).media,h=null;n.pinCanvas&&(n.pinCanvas.removeTextLayer(!0),null!==(e=n.pinCanvas)&&void 0!==e&&e.isScalingMode&&(n.pinCanvas.exitScalingMode(),h={aux_data:{editor_option:"scale_mode_exit"}}));var y=n.pinCanvas?tL(tL(tL({},p),n.pinCanvas.getCanvasOutput({width:p&&p.width||tI.IU,maxImageSize:89478485})),{},{signature:n.isVideo(p)&&p&&p.signature?p.signature:null}):p;i(o,s,c,n.isVideo(p)&&p?tL(tL({},y),{},{src:p.src,trimmedStartTime:(0,th.SD)(d),trimmedEndTime:(0,th.SD)(f)}):y,n.pinCanvas?n.pinCanvas.toJSON():null);var m=tB(n).pinCanvas;m&&n.isVideo(p)&&u&&m.playOrPauseVideo(),r(),a(tL(tL({},{event_type:101,component:13780,element:12130}),h))}),tZ(tB(n),"onCancelChanges",function(){var e=n.props,t=e.onDismiss,r=e.logContextEvent,o=n.state,i=o.selectedId,a=o.cachedItems,l=o.isVideoPlaying,s=(a[i]||{}).media,c=tB(n).pinCanvas;c&&n.isVideo(s)&&l&&c.playOrPauseVideo(),t(),r({event_type:101,component:13780,element:12131})}),tZ(tB(n),"onAspectRatioChange",function(e){var t=n.props,r=t.pinItemIds;"carousel"===t.type&&e&&(0,tA.Z)(r,n.state.cachedItems,e).then(function(e){var t=r.reduce(function(t,r,n){return tL(tL({},t),{},tZ({},r,e[n]))},{});n.setState({cachedItems:t})})}),tZ(tB(n),"timeFormatError",function(){return n.props.i18n._('Time must be in the format 00:00:00', 'Error message for incorrect time format', 'Error message for incorrect time format')}),tZ(tB(n),"timeRangeError",function(){return n.props.i18n._('Video must be at least 4 seconds long.', 'Error message indicating that video is too short', 'Error message indicating that video is too short')}),tZ(tB(n),"validateEndTime",function(e){if(!tV.test(e))return n.timeFormatError();var t=n.state.videoStartText;return tV.test(t)&&(0,th.SD)(e)-(0,th.SD)(t)<4?n.timeRangeError():""}),tZ(tB(n),"validateStartTime",function(e){if(!tV.test(e))return n.timeFormatError();var t=n.state.videoEndText;return tV.test(t)&&(0,th.SD)(t)-(0,th.SD)(e)<4?n.timeRangeError():""}),tZ(tB(n),"handleEndTimeChange",function(e){var t=e.value;if(n.setState({videoEndText:t}),n.props.logContextEvent({event_type:97,component:13780,element:12144,aux_data:{value:t}}),tV.test(t)){var r=n.state.videoDuration,o=(0,th.SD)(t),i=!!r&&o>r;i&&n.setState({videoEndText:r?(0,th.to)(r):""}),n.pinCanvas&&n.pinCanvas.setVideoTrimmerTimeRange({videoEndTime:i?r:o})}}),tZ(tB(n),"handleStartTimeChange",function(e){var t=e.value;n.setState({videoStartText:t}),n.props.logContextEvent({event_type:97,component:13780,element:12143,aux_data:{value:t}}),tV.test(t)&&n.pinCanvas&&n.pinCanvas.setVideoTrimmerTimeRange({videoStartTime:(0,th.SD)(t)})}),tZ(tB(n),"onVideoTrimmerUpdate",function(){if(n.pinCanvas){var e=n.pinCanvas.getVideoTrimmerTimeRange(),t=e.videoStartTime,r=e.videoEndTime,o=(0,th.to)(t),i=(0,th.to)(r);n.setState({videoStartText:o,videoEndText:i}),n.props.logContextEvent({event_type:104,component:13780,element:12146,aux_data:{value:"start=".concat(o,",end=").concat(i)}})}}),tZ(tB(n),"onTogglePlayState",function(){n.pinCanvas&&n.pinCanvas.playOrPauseVideo(),n.props.logContextEvent({event_type:101,component:13780,element:12145})}),tZ(tB(n),"setCanvasContainerRef",function(e){n._canvasContainer=e,n.onResize()}),tZ(tB(n),"handleKeyupEvents",function(e){27===e.keyCode&&n.onCancelChanges()}),tZ(tB(n),"onPinCanvasLoaderLoaded",(t=regeneratorRuntime.mark(function e(t){var r,o,i,a,l,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=23;break}if(o=(r=n.state).selectedId,a=(i=r.cachedItems[o]||{}).canvasJson,s=((l=i.media)||{}).src,c=n.isVideo(l)?"video":"image",n.pinCanvas=t,t.on("trimmer:dragged",n.onVideoTrimmerUpdate),t.on("video:play",function(){return n.setState({isVideoPlaying:!0})}),t.on("video:pause",function(){return n.setState({isVideoPlaying:!1})}),!a){e.next=14;break}return e.next=12,t.loadFromJSON(a);case 12:case 17:e.next=21;break;case 14:if(!D.Z.enabled("videoEditing")){e.next=19;break}return e.next=17,t.setMedia(s,c);case 19:return e.next=21,t.setImage(s);case 21:n.forceUpdate(),n.onResize();case 23:case"end":return e.stop()}},e)}),r=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){tR(i,n,o,a,l,"next",e)}function l(e){tR(i,n,o,a,l,"throw",e)}a(void 0)})},function(e){return r.apply(this,arguments)}));var t,r,n,i=e.pinItemId,l=e.pinItems,s=l[i].media,c=s&&s.duration?s.duration:0;return n.state={selectedId:i,cachedItems:l,videoDuration:c,videoStartText:(0,th.to)(0),videoEndText:c?(0,th.to)(c):(0,th.to)(0),isVideoPlaying:!0},n}return r=[{key:"componentDidMount",value:function(){var e=this.props.footerContext,t=e.setEducationId,r=e.setPaddingRight,n=e.setZIndex;document.addEventListener("keyup",this.handleKeyupEvents,!1),window.addEventListener("resize",this.onResize),t(d.jh),r(400),n(1e3)}},{key:"componentWillUnmount",value:function(){var e=this.props.footerContext,t=e.setEducationId,r=e.setPaddingRight,n=e.setZIndex;document.removeEventListener("keyup",this.handleKeyupEvents,!1),window.removeEventListener("resize",this.onResize),t(null),r(null),n(null)}},{key:"render",value:function(){var e=this,t=this.props,r=t.pinDraftId,n=t.pinItemIds,o=t.type,a=t.isRTL,l=this.state,s=l.selectedId,c=l.cachedItems,u=l.videoDuration,f=l.videoStartText,p=l.videoEndText,h=l.isVideoPlaying,y=c[s]||{},g=y.canvasJson,b=y.media,_=this.isVideo(b)?"video":"image";return(0,m.jsx)(i.mh,{children:(0,m.jsxs)(tm.Z,{allowClickAndDrag:!0,children:[(0,m.jsx)(i.xu,{position:"fixed",top:!0,right:!0,bottom:!0,left:!0,dangerouslySetInlineStyle:tH,children:(0,m.jsxs)(i.xu,{display:"flex",direction:"row",color:"secondary",height:"100%",children:[(0,m.jsxs)(i.xu,{ref:this.setCanvasContainerRef,display:"flex",flex:"grow",height:"100%",justifyContent:"center",alignItems:"center",overflow:"hidden",position:"relative",children:[(0,m.jsxs)(i.xu,{position:"absolute",top:!0,left:a,right:!a,marginTop:3,marginStart:4,marginEnd:4,dangerouslySetInlineStyle:{__style:{zIndex:d.v9}},children:[(0,m.jsx)(i.xu,{marginStart:2,marginEnd:2,display:"inlineBlock","data-test-id":"cancel-edit-button",children:(0,m.jsx)(i.zx,{name:"cancel",text:this.props.i18n._('Cancel', 'Cancel pin edit', 'Cancel pin edit'),size:"md",onClick:this.onCancelChanges})}),(0,m.jsx)(i.xu,{marginStart:2,marginEnd:2,display:"inlineBlock","data-test-id":"save-edit-button","data-tutorial-id":"pin-builder-editor-save-edit-button",children:(0,m.jsx)(i.zx,{name:"saveChanges",disabled:this.isVideo(b)&&(this.validateStartTime(f).length>0||this.validateEndTime(p).length>0),text:this.props.i18n._('Update changes', 'Update changes in pin edit', 'Update changes in pin edit'),size:"md",color:"red",onClick:this.onSaveChanges})})]}),(0,m.jsxs)(i.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,m.jsx)(tC.Z,{onLoaded:this.onPinCanvasLoaderLoaded}),"carousel"===o&&(0,m.jsx)(i.xu,{bottom:!0,display:"flex",flex:"grow",justifyContent:"center",marginBottom:10,position:"absolute",width:196,children:n.map(function(t,r){var n=(c&&c[t]||{}).media||{},o=n.height,i=n.src,a=n.width;return(0,m.jsx)(tw,{height:o,src:i,selected:s===t,onClick:function(){return e.setCarouselItem(r)},width:a},"carousel-thumbnail-".concat(t))})}),"video"===_&&(0,m.jsx)(i.xu,{bottom:!0,left:!0,flex:"none",rounding:"circle",marginBottom:6,marginStart:6,position:"absolute",children:(0,m.jsx)(i.hU,{icon:h?"pause":"play",accessibilityLabel:h?this.props.i18n._('Play', 'Play video', 'Play video'):this.props.i18n._('Pause', 'Pause video', 'Pause video'),iconColor:"darkGray",size:"sm",bgColor:"white",onClick:this.onTogglePlayState})})]})]}),(0,m.jsx)(tp,{pinCanvas:this.pinCanvas,pinDraftId:r,canvasJson:g,onAspectRatioChange:this.onAspectRatioChange,type:o,mediaType:_,videoDuration:u,videoStartText:f,videoEndText:p,validateStartTime:this.validateStartTime,validateEndTime:this.validateEndTime,handleStartTimeChange:this.handleStartTimeChange,handleEndTimeChange:this.handleEndTimeChange})]})}),(0,m.jsx)(tv.Z,{children:function(t){var r,n=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tk(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=n[0],i=n[1];return o===d.jh&&(0,m.jsx)(tx.Z,{steps:(0,tE.Z)((r=e.props.i18n,[{selector:'[data-tutorial-id="pinbuilder-editor-crop-pane-button"]',id:"guide-pin-builder-aspect",description:r._('Crop your image - a 2:3 aspect ratio works best!', 'EditingTourConfig.AspectRatioGuide', 'Text describing the cropping functionality and the best aspect ratio for it'),padding:0},{selector:'[data-tutorial-id="pinbuilder-editor-logo-pane-button"]',id:"guide-pin-builder-logo",description:r._('Add a logo to showcase your brand. Try a transparent .png file.', 'EditingTourConfig.Logo', 'Text describing ability to add logo and a best practice for adding logos'),padding:0},{selector:'[data-tutorial-id="pinbuilder-editor-text-pane-button"]',id:"guide-pin-builder-text",description:r._('Tell a story with a text overlay. Keep it snappy, and try a background color if it\'s hard to read.', 'EditingTourConfig.TextOverlay', 'Text describing the ability to add text to images and a best practice for adding text'),padding:0},{selector:'[data-tutorial-id="pin-builder-editor-reset-button"]',id:"guide-pin-builder-edit-reset",description:r._('Want a refresh? Clear any changes you\'ve made to start over.', 'EditingTourConfig.ClearChanges', 'Text describing the ability to reset changes'),padding:0},{selector:'[data-tutorial-id="pin-builder-editor-save-edit-button"]',id:"guide-pin-builder-edit-done",description:r._('Finished? Tap Update Changes to apply your changes.', 'EditingTourConfig.UpdateChanges', 'Text describing the ability to save changes'),padding:0}])),onComplete:function(){return i(t_.I)},onDismiss:function(){return i(t_.I)}})}})]})})}}],tM(a.prototype,r),n&&tM(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function tW(e){var t=(0,c.v)().logContextEvent,r=(0,ty.Z)(),n=(0,u.ZP)(),i=(0,z.B)().isRTL,l=(0,a.Z)(),s=(0,o.useDispatch)(),d=(0,tb.Z)(),f=d.isAuth?d.id:"",p=d.isAuth?d.country:"",h=e.pinDraftId,y=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[h].type}),g=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[h].pinItemIds}),b=g[(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[h].pinItemIndex})],_=(0,o.useSelector)(function(e){var t=e.pinbuilder;return"story"===y?t.storyPinItems:t.pinItems}),v=_[b],x=v.canvasJson,P=v.media;return(0,tg.Z)(function(){t({event_type:120,component:13780})}),(0,m.jsx)(tG,tL(tL({},e),{},{canvasJson:x,footerContext:(0,tP.YW)(),media:P,pinItemId:b,pinItemIds:g,pinItems:_,type:y,updatePinItemImages:function(e,o,i,a,c){return s((0,tT.KF)({pinDraftId:e,selectedId:o,cachedItems:i,editedMedia:a,canvasJson:c,userId:f,country:p,i18n:n,logContextEvent:t,siteType:r,ideaPinRenamingEnabled:l}))},i18n:n,isRTL:i,logContextEvent:t}))}},892831:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(784590);function o(e){var t=(0,n.Z)({name:"ApiResource",options:{url:"/v3/users/".concat(e),data:{fields:["user.eligible_for_ad_only_pins"]}}}).data;return!!t&&t.eligible_for_ad_only_pins}},248060:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(76911),o=r(506979),i=r(908390),a=r(407043),l=r(898781),s=r(305782),c=r(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=m(a);if(t){var n=m(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return g(y(e=o.call.apply(o,[this].concat(r))),"handleChange",function(t){var r=t.checked,n=e.props,o=n.setShareable,i=n.logContextEvent;o(r),i({event_type:101,component:13308,element:12125,aux_data:{is_checked:r}})}),e}return r=[{key:"render",value:function(){var e=this.props.checked,t="pin-draft-carousel-control";return(0,c.jsxs)(i.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,c.jsx)(i.XZ,{checked:e,id:t,onChange:this.handleChange,size:"sm"}),(0,c.jsx)(i.__,{htmlFor:t,children:(0,c.jsx)(i.xu,{paddingX:2,children:(0,c.jsx)(i.xv,{size:"200",children:this.props.i18n._('Use the same text and URL for each image', 'Option to select if user wants to copy text and link to all carousel items', 'Option to select if user wants to copy text and link to all carousel items')})})})]})}}],p(a.prototype,r),n&&p(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function v(e){var t=(0,a.v)().logContextEvent,r=(0,l.ZP)(),n=(0,o.useDispatch)(),i=(0,o.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId].pinItemShareable});return(0,c.jsx)(_,f(f({},e),{},{checked:i,i18n:r,logContextEvent:t,setShareable:function(t){return n((0,s.u9)(e.pinDraftId,t))}}))}},912820:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(506979),o=r(908390),i=r(515198);function a(e){var t,r,a,l=e.taggedObjectId,s=(0,n.useSelector)(function(e){return e.pinbuilder.taggedObjects[l].media});return s?(0,i.jsx)(o.xu,{paddingX:1,display:"inlineBlock",position:"relative",children:(0,i.jsx)(o.zd,{height:90,rounding:2,wash:!0,width:90,children:(0,i.jsx)(o.Ee,{alt:"",naturalHeight:null!==(t=s.height)&&void 0!==t?t:1,naturalWidth:null!==(r=s.width)&&void 0!==r?r:1,src:null!==(a=s.url)&&void 0!==a?a:"",fit:"cover"})})}):null}},84769:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(76911),o=r(506979),i=r(908390),a=r(630767),l=r(969759),s=r(176326),c=r(898781),u=r(299295),d=r(829407),f=r(305782),p=r(515198);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){x(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,r){return(t=P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==h(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(c,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=v(c);if(t){var n=v(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return _(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return x(_(e=o.call.apply(o,[this].concat(r))),"handleScheduledDateChange",function(t){var r=e.props,n=r.scheduledTime,o=r.setScheduledDate,i=r.setScheduledDateError,a=r.setScheduledTime,l=r.setScheduledTimeError,s=(t||{}).value;o(s),i(null);var c=function(){a(null),l(null)},u=new Date;if(n&&s&&s.toDateString()===u.toDateString()){if(n.getHours()>u.getHours())c(),a(n);else{var d=u.getHours()+1,f=new Date(n.setHours(d));d>23&&o(f),c(),a(f)}}}),x(_(e),"handleScheduledTimeChange",function(t){var r=e.props,n=r.setScheduledTime,o=r.setScheduledTimeError;n(t.value),o(null)}),x(_(e),"handleSwitchScheduleOption",function(t){return function(){var r=e.props,n=r.setDefaultDateTimeToTomorrow,o=r.setScheduledDate,i=r.setScheduledDateError,a=r.setPublishOption,l=r.setScheduledTime,s=r.setScheduledTimeError;a(t),"publish-immediately"===t?(o(null),i(null),l(null),s(null)):n()}}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.displaySwitchUi,r=e.inStlToolingExp,n=e.pinDraftId,o=e.publishOption,c=e.scheduledDate,d=e.scheduledDateError,f=e.scheduledTime,h=e.scheduledTimeError,y=new Date,m=(0,l.Z)(y,u.TZ);y.getMinutes()>=30?y.setHours(y.getHours()+1,0,0,0):y.setHours(y.getHours(),30,0,0);var g=c&&c.toDateString()===y.toDateString()?y:void 0,b="pin-draft-schedule-publish-immediately-".concat(n),_="pin-draft-schedule-publish-later-".concat(n);return(0,p.jsxs)(i.xu,{children:[t?(0,p.jsxs)(i.xu,{"data-test-id":"pin-draft-switch-group",display:"flex",paddingY:6,children:[(0,p.jsx)(i.rs,{id:"pin-draft-switch-group",onChange:this.handleSwitchScheduleOption("publish-later"===o?"publish-immediately":"publish-later"),switched:"publish-later"===o}),(0,p.jsx)(i.xu,{marginStart:2,children:(0,p.jsx)(i.__,{htmlFor:"pin-draft-switch-group",children:(0,p.jsx)(i.xv,{children:this.props.i18n._('Publish at a later date', 'pinbuilder.switchButton.pinDraft', 'Switch label that by clicking allows user to schedule a date and time to publish the Pin later')})})})]}):(0,p.jsx)(i.FX,{id:"pin-draft-radio-group",legend:this.props.i18n._('Pin draft', 'pinbuilder.radioButton.pin_draft', 'Radio button legend to pin draft module'),legendDisplay:"hidden",direction:"row",children:(0,p.jsxs)(i.xu,{display:"flex",paddingY:4,justifyContent:r?"between":void 0,children:[(0,p.jsxs)(i.xu,{display:"flex",paddingX:1,children:[(0,p.jsx)(i.FX.RadioButton,{checked:"publish-immediately"===o,id:b,onChange:this.handleSwitchScheduleOption("publish-immediately"),size:"sm",value:"publish-immediately"}),(0,p.jsx)(i.xu,{children:(0,p.jsx)(i.__,{htmlFor:b,children:(0,p.jsx)(i.xu,{paddingX:2,children:(0,p.jsx)(i.xv,{size:"200",children:r?this.props.i18n._('Publish now', 'pinbuilder.radioButton.publishNow', 'Radio button label for publishing the pin now'):this.props.i18n._('Publish immediately', 'Radio button label for publishing the pin immediately', 'Radio button label for publishing the pin immediately')})})})})]}),(0,p.jsxs)(i.xu,{display:"flex",paddingX:1,children:[(0,p.jsx)(i.FX.RadioButton,{checked:"publish-later"===o,id:_,onChange:this.handleSwitchScheduleOption("publish-later"),size:"sm",value:"publish-later"}),(0,p.jsx)(i.xu,{children:(0,p.jsx)(i.__,{htmlFor:_,children:(0,p.jsx)(i.xu,{paddingX:2,children:(0,p.jsx)(i.xv,{size:"200",children:r?this.props.i18n._('Publish later', 'pinbuilder.radioButton.publishLater', 'Radio button label by clicking which user will schedule a date and time to publish later'):this.props.i18n._('Publish at a later date', 'Radio button label by clicking which user will schedule a date and time to publish the pin later', 'Radio button label by clicking which user will schedule a date and time to publish the pin later')})})})})]})]})}),"publish-later"===o&&(0,p.jsxs)(i.xu,{display:"flex",justifyContent:"between",marginEnd:-1,marginStart:-1,children:[(0,p.jsx)(i.xu,{column:6,paddingX:1,children:(0,p.jsx)(s.Mt,{errorMessage:d&&"string"==typeof d?d:void 0,id:"pin-draft-schedule-date-field-".concat(n),idealDirection:"up",maxDate:m,minDate:y,onChange:this.handleScheduledDateChange,value:c||void 0})}),(0,p.jsx)(i.xu,{column:6,paddingX:1,children:(0,p.jsx)(a.Z,{error:h,id:"pin-draft-schedule-time-field-".concat(n),idealDirection:"up",minTime:g,onChange:this.handleScheduledTimeChange,placeholder:this.props.i18n._('Time', 'Placeholder for time field', 'Placeholder for time field'),value:f,maxHeight:"30vh"})})]})]})}}],g(c.prototype,r),n&&g(c,n),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.Component);function j(e){var t=(0,c.ZP)(),r=e.pinDraftId,n=(0,o.useDispatch)(),i=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[r].publishOption}),a=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[r].scheduledDate}),s=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[r].scheduledDateError}),u=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[r].scheduledTime}),h=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[r].scheduledTimeError}),y=function(e){n((0,f.WT)(r)),n((0,f.$K)(r,e))},g=function(e){n((0,f.WT)(r)),n((0,f.I0)(r,e))},b=function(){var e=(0,l.Z)(new Date,1);g(e);var t=new Date(e);t.setHours(12,0,0,0),y(t)};return(0,d.Z)(function(){var e=new Date().getTime();a&&a.getTime()<e&&b()}),(0,p.jsx)(O,m(m({},e),{},{i18n:t,publishOption:i,scheduledDate:a,scheduledDateError:s,scheduledTime:u,scheduledTimeError:h,setDefaultDateTimeToTomorrow:b,setPublishOption:function(e){return n((0,f.RR)(r,e))},setScheduledDate:g,setScheduledDateError:function(e){return n((0,f.Yr)(r,e))},setScheduledTime:y,setScheduledTimeError:function(e){return n((0,f.Ve)(r,e))}}))}},898246:function(e,t,r){"use strict";r.d(t,{ZP:function(){return ei}});var n=r(76911),o=r(506979),i=r(908390),a=r(214494),l=r(407043),s=r(766935),c=r(333312),u=r(898781),d=r(349700),f=r(755742),p=r(206134),h=r.n(p),y=r(858472),m=r(515198);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){O(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,r){return(t=j(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==g(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=P(a);if(t){var n=P(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return r=[{key:"render",value:function(){var e=this.props,t=e.value,r=e.onDelete,n=e.readOnly;return(0,m.jsxs)(i.xu,{rounding:2,color:"secondary",display:"flex",justifyContent:"center",alignItems:"center",padding:2,dangerouslySetInlineStyle:{__style:{userSelect:"none"}},children:[(0,m.jsx)(i.xv,{size:"200",weight:"bold",children:t}),!n&&(0,m.jsx)(i.xu,{marginStart:2,children:(0,m.jsx)(i.iP,{fullHeight:!1,fullWidth:!1,onTap:r,rounding:"circle",children:(0,m.jsx)(i.xu,{display:"flex",justifyContent:"center",alignItems:"center",color:"default",padding:1,rounding:"circle",children:(0,m.jsx)(i.JO,{accessibilityLabel:this.props.i18n._('Delete Tag', 'delete this tag', 'delete this tag'),icon:"cancel",color:"default",size:8,inline:!0})})})})]})}}],v(a.prototype,r),n&&v(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.PureComponent);function w(e){var t=(0,u.ZP)();return(0,m.jsx)(S,_(_({},e),{},{i18n:t}))}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}}function I(e,t){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t,r){return(t=k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==E(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}O(S,"defaultProps",{readOnly:!1});var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(l,e);var t,r,o,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=T(l);if(t){var n=T(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return C(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return D(C(e=a.call.apply(a,[this].concat(r))),"handleChange",function(t){(0,e.props.onChange)({value:t.target.value})}),D(C(e),"handleDeleteTag",function(t){return function(){(0,e.props.onRemoveTag)(t)}}),D(C(e),"getColor",function(){var t=e.props,r=t.errorMessage,n=t.focused,o=t.showOnBlur,i=t.value;return r?y.x7:n?"#0074e8":i&&!o?"transparent":"rgba(142, 142, 142, 0.5)"}),e}return r=[{key:"textField",get:function(){return this._textField}},{key:"componentDidUpdate",value:function(){this._textField&&this.props.focused&&this._textField.focus()}},{key:"render",value:function(){var e=this,t=this.props,r=t.disabled,o=t.errorMessage,a=t.id,l=t.onKeyDown,s=t.placeholder,c=t.size,u=t.showOnBlur,d=t.value,f=void 0===d?"":d,p=t.tags,y=t.focused,g={__style:{boxShadow:"0 ".concat(y||o?"2px":"1px"," 0 0 ").concat(this.getColor()),paddingTop:8}};return(0,m.jsxs)(i.xu,{column:12,display:"flex",direction:"column",children:[(0,m.jsxs)(i.xu,{display:"flex",alignItems:"end",marginStart:-2,marginTop:-2,wrap:!0,children:[p&&p.map(function(t,r){var n=t.id,o=t.value;return(0,m.jsx)(i.xu,{marginStart:2,marginTop:2,marginBottom:-1,children:(0,m.jsx)(w,{value:o,onDelete:e.handleDeleteTag(n)})},r)}),!r&&(0,m.jsx)(i.xu,{flex:"grow",marginTop:2,marginStart:2,children:(0,m.jsx)("input",{ref:function(t){return e._textField=t},type:"text",className:h()("TextArea__textArea",{TextArea__dark:!0,TextArea__disabled:r,TextArea__enabled:!r,TextArea__large:"lg"===c,TextArea__medium:"md"===c,TextArea__wrap:!1,TextArea__nowrap:!0}),id:a,onChange:this.handleChange,onKeyDown:l,placeholder:s,value:f,maxLength:30,style:{height:"21px"}})})]}),(y||u||o||!f)&&(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(i.xu,{column:12,dangerouslySetInlineStyle:g}),(0,m.jsx)(i.xu,{column:12,marginTop:1,minHeight:15,children:(y||u||o)&&(0,m.jsx)(i.xu,{column:12,display:"flex",justifyContent:"between",children:(0,m.jsx)(i.xu,{flex:"grow",children:(0,m.jsx)(i.xv,{size:"100",color:"error",children:o})})})})]})]})}}],A(l.prototype,r),o&&A(l,o),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(t){U(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H(n.key),n)}}function B(e,t){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function F(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,r){return(t=H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H(e){var t=function(e,t){if("object"!==z(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==z(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===z(t)?t:String(t)}D(R,"defaultProps",{disabled:!1,size:"md",tags:[],focused:!1});var V={component:{display:"flex",position:"relative"},flyout:{backgroundColor:"#fff",border:"1px solid #efefef",borderRadius:"8px",boxShadow:"0px 4px 8px 0px rgba(0, 0, 0, 0.1)",boxSizing:"border-box",display:"flex",flexDirection:"column",maxHeight:220,overflow:"scroll",position:"absolute",padding:"16px 0",width:"100%"}},G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=Z(a);if(t){var n=Z(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return F(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return U(F(e=o.call.apply(o,[this].concat(r))),"state",{value:"",hoveredValue:"",flyoutHeight:0,hoveredSuggestionIndex:null,focused:!1}),U(F(e),"handleKeyDown",function(t){var r=e.state.value,n=e.props.tags;if(t.keyCode===f.Z.BACKSPACE&&""===r&&n.length>0){var o=n[n.length-1].id;e.handleRemoveTag(o)}}),U(F(e),"handleChange",function(t){var r=t.value,n=e.props.onChange;e.setState({value:r,hoveredValue:""}),n(r)}),U(F(e),"handleSuggestionMouseEnter",function(t){var r=e.props.suggestions[t];e.setState({hoveredSuggestionIndex:t,hoveredValue:r.tagValue||r.value})}),U(F(e),"handleSuggestionMouseLeave",function(){e.setState({hoveredSuggestionIndex:null,hoveredValue:""})}),U(F(e),"handleAddTag",function(t){(0,e.props.onAddTag)(t),e.setState({value:"",hoveredValue:""}),e._textFieldRef&&e._textFieldRef.textField&&e._textFieldRef.textField.focus()}),U(F(e),"handleRemoveTag",function(t){(0,e.props.onRemoveTag)(t)}),U(F(e),"handleClick",function(t){if(e._componentRef&&t){var r=e.props.onChange,n=t.target instanceof Node&&e._componentRef.contains(t.target);n?e.setState({focused:n}):(e.setState({focused:n,value:"",hoveredValue:"",hoveredSuggestionIndex:null}),r(""))}}),U(F(e),"setTextFieldRef",function(t){e._textFieldRef=t}),U(F(e),"renderFlyout",function(t){var r=e.state,n=r.flyoutHeight,o=r.hoveredSuggestionIndex;return(0,m.jsxs)("div",{ref:function(t){e._flyoutRef=t},style:M(M({},V.flyout),{},{top:-1*n-10}),children:[(0,m.jsx)(i.xu,{paddingX:4,marginBottom:2,children:(0,m.jsx)(i.xv,{size:"200",color:"subtle",children:(0,d.nk)(e.props.i18n.ngettext('Pick relevant tags ({{ count }} result)', 'Pick relevant tags ({{ count }} results)', t.length, 'Number of matching tags to the query.', 'Number of matching tags to the query.'),{count:t.length})})}),t.map(function(t,r){var n=r===o;return(0,m.jsx)(i.iP,{onMouseEnter:function(){return e.handleSuggestionMouseEnter(r)},onMouseLeave:e.handleSuggestionMouseLeave,onTap:function(){return e.handleAddTag(t)},children:(0,m.jsx)(i.xu,{paddingX:4,paddingY:2,color:n?"secondary":"transparent","data-test-id":"TaggableFieldFlyout-".concat(r),children:(0,m.jsx)(i.xv,{size:"200",weight:"bold",children:t.value})})},r)})]})}),e}return r=[{key:"componentDidMount",value:function(){"undefined"!=typeof window&&window.document.addEventListener("mousedown",this.handleClick.bind(this))}},{key:"componentWillUnmount",value:function(){"undefined"!=typeof window&&window.document.addEventListener("mousedown",this.handleClick.bind(this))}},{key:"componentDidUpdate",value:function(e,t){if(this._flyoutRef){var r=this._flyoutRef.getBoundingClientRect().height;t.flyoutHeight!==r&&this.setState({flyoutHeight:r})}}},{key:"render",value:function(){var e=this,t=this.props,r=t.disabled,n=t.errorMessage,o=t.pinDraftId,i=t.placeholder,a=t.suggestions,l=t.tags,s=this.state,c=s.focused,u=s.hoveredValue,d=s.value,f=l.map(function(e){return{value:e.tagValue?e.tagValue:e.value,id:e.id}}),p=r||!c&&l.length>0;return(0,m.jsxs)("div",{ref:function(t){e._componentRef=t},style:V.component,children:[d&&!r&&c&&a.length>0&&this.renderFlyout(a),(0,m.jsx)(R,{ref:this.setTextFieldRef,disabled:p,focused:c,id:"".concat(o,"-TaggableTextField"),errorMessage:n,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onRemoveTag:this.handleRemoveTag,placeholder:i,value:u||d,tags:f,showOnBlur:!0})]})}}],N(a.prototype,r),n&&N(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);U(G,"defaultProps",{suggestions:[]});var W=function(e){var t=(0,u.ZP)();return(0,m.jsx)(G,M(M({},e),{},{i18n:t}))},Y=r(305782);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach(function(t){er(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,en(n.key),n)}}function Q(e,t){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t,r){return(t=en(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function en(e){var t=function(e,t){if("object"!==X(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==X(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===X(t)?t:String(t)}var eo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(l,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=et(l);if(t){var n=et(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===X(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ee(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return er(ee(e=o.call.apply(o,[this].concat(r))),"state",{suggestions:[],noSuggestionsFromQuery:!1,containerRef:null}),er(ee(e),"_hasStartTypingContextLogFired",!1),er(ee(e),"saveRef",function(t){e.setState({containerRef:t})}),er(ee(e),"onAddTag",function(t){(0,e.props.addInterestTag)(t),e.setState({suggestions:[],noSuggestionsFromQuery:!1})}),er(ee(e),"onRemoveTag",function(t){(0,e.props.removeInterestTag)(t)}),er(ee(e),"onChange",(0,s.Z)(function(t){if(t){var r=e.props,n=r.pinDraftId,o=r.logContextEvent;a.Z.create("InterestTaggingResource",{query:t,minLevel:1}).callGet().then(function(t){var r=t.resource_response.data.suggestions.map(function(e){return{id:e.id,value:e.name,tagValue:e.interest_name}}),n=e._getUnselectedSuggestions(r);e.setState({suggestions:r,noSuggestionsFromQuery:0===n.length})}),e._hasStartTypingContextLogFired||(e._hasStartTypingContextLogFired=!0,o({event_type:7383,component:13209,element:11449,aux_data:{pin_draft_id:n}}))}else e.setState({suggestions:[],noSuggestionsFromQuery:!1})},250)),er(ee(e),"_getUnselectedSuggestions",function(t){var r=e.props.interestTags.map(function(e){return e.id});return t.reduce(function(e,t){return r.includes(t.id)?e:[].concat(function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t])},[])}),er(ee(e),"getErrorMessage",function(){var t=e.props.interestTags,r=e.state.noSuggestionsFromQuery;return 10===t.length?e.props.i18n._('You have reached the maximum number of tags allowed.', 'The maximum number of tags user can add to a pin is reached.', 'The maximum number of tags user can add to a pin is reached.'):r?e.props.i18n._('There are no tags that match your query.', 'No suggested results found based on the user query.', 'No suggested results found based on the user query.'):""}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.interestTags,r=e.pinDraftId,n=this.state,o=n.containerRef,a=n.suggestions,l=this._getUnselectedSuggestions(a),s=this.getErrorMessage(),u=t.length>0?"":this.props.i18n._('Add tags', 'text area placeholder to prompt user to tags to the pin.', 'text area placeholder to prompt user to tags to the pin.');return(0,m.jsxs)(i.xu,{ref:this.saveRef,children:[(0,m.jsx)(W,{disabled:10===t.length,pinDraftId:r,errorMessage:s,placeholder:u,suggestions:l,tags:t,onAddTag:this.onAddTag,onRemoveTag:this.onRemoveTag,onChange:this.onChange}),(0,m.jsx)(c.default,{experienceIds:[501388],placementId:1000135,anchor:o,idealDirection:"up",flyoutSize:"lg",textOverflow:"normal"})]})}}],J(l.prototype,r),n&&J(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function ei(e){var t=(0,l.v)().logContextEvent,r=(0,u.ZP)(),n=(0,o.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId].interestTags}),i=(0,o.useDispatch)();return(0,m.jsx)(eo,K(K({},e),{},{i18n:r,logContextEvent:t,interestTags:n,addInterestTag:function(t){return i((0,Y.YN)(e.pinDraftId,t))},removeInterestTag:function(t){return i((0,Y.Ug)(e.pinDraftId,t))}}))}},347700:function(e,t,r){"use strict";r.d(t,{ZP:function(){return nH}});var n=r(76911),o=r(506979),i=r(599689),a=r(908390),l=r(237271),s=r(237056),c=r(469823),u=r(313580),d=r(898781),f=r(299295),p=r(515198);function h(e){var t=e.coverImageHeight,r=e.pinDraftId,n=(0,d.ZP)();return(0,p.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",width:"100%",children:[(0,p.jsx)(a.xu,{paddingY:4,children:(0,p.jsx)(a.xv,{lineClamp:1,weight:"bold",align:"center",children:n._('Select more images', 'pinBuilder.pinDraftBodyExternalView.multiselect.subheader.text', 'Asking users to select more images on offsite pin creation')})}),(0,p.jsx)(a.xu,{height:f.sD-(null!=t?t:0)-48,children:(0,p.jsx)(u.Z,{pinDraftId:r})})]})}var y=r(945212),m=r(407043),g=r(720224),b=r(349700),_=r(373695),v=r(54574),x=r(665866),P=r(616672),O=r(773285),j=r(780280),S=r(734765),w=r(19121),E=r(333206),A=r(846760),I=r(505132),C=r(305782),T=r(838548),D=r(350118),k=r(67347);function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var L={__style:{paddingTop:f.XB}};function M(e){var t,r,l,u,z=e.pinDraftId,M=e.pinItemId,N=(0,d.ZP)(),B=(0,s.Z)(),F=(0,m.v)().logContextEvent,Z=(0,o.useDispatch)(),U=(0,j.B)(),H=(0,i.useHistory)(),V=(0,w.Z)(),G=V.isAuth?V.id:"",W=V.isAuth?V.country:"",Y=V.isAuth&&V.isPartner,X=R((0,n.useState)(!1),2),q=X[0],K=X[1],$=R((0,n.useState)(null),2),J=$[0],Q=$[1],ee=R((0,n.useState)(""),2),et=ee[0],er=ee[1],en=(0,S.Z)(),eo=(0,O.F)().checkExperiment,ei=(0,o.useSelector)(function(e){var t=e.pinbuilder,r=t.pinDrafts,n=t.pinItems[r[z].pinItemIds[0]].media;return n?(0,P.Z)(n):f.sD}),ea=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[z].pinId}),el=(0,D.S6)()(null!=ea?ea:""),es=(0,o.useSelector)(function(e){var t=e.pinbuilder.pinDrafts;return ea&&"create"===t[z].mode?el:null}),ec=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[z].websiteDefaultImageUrl||""}),eu=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[z].websiteLink}),ed=(0,v.Z)({url:eu}),ef=!!x.Z.enabled("offsite_pin_creation_multi_select")&&((null===(u=ed.data)||void 0===u?void 0:u.items.length)||0)>0;(0,n.useEffect)(function(){(0,k.nP)("offsite_pin_creation.view",{sampleRate:1,tags:{type:x.Z.enabled("offsite_pin_creation_multi_select")?"multi_pin":"single_pin"}})},[]),(0,n.useEffect)(function(){if(es){var e=setTimeout(window.close,1e4);return function(){e&&clearTimeout(e)}}},[es]);var ep=function(e){Z((0,C.Nv)(z,e)),x.Z.enabled("offsite_pin_creation_multi_select")?Z((0,C.m_)({pinDraftId:z,userId:G,country:W,isPartner:Y,i18n:N,logContextEvent:F,orbacSubjectId:void 0,checkExperiment:eo,siteType:en,ideaPinRenamingEnabled:B})):Z((0,T.Z)({pinDraftId:z,userId:G,orbacSubjectId:void 0,country:W,isPartner:Y,i18n:N,logContextEvent:F,ideaPinRenamingEnabled:B})),(0,k.nP)("offsite_pin_creation.create_pin",{sampleRate:1,tags:{type:x.Z.enabled("offsite_pin_creation_multi_select")?"multi_pin":"single_pin"}})},eh=function(){Q(null),K(!1)},ey=f.LM,em=function(e){return"number"!=typeof e.height||"number"!=typeof e.width?{width:e.width,height:e.height}:e.height>=e.width?{width:227/e.height*e.width,height:227}:{width:ey,height:ey/e.width*e.height}};return(0,p.jsxs)(a.xu,{display:"flex",direction:"row","data-test-id":"pindraft-external-body",marginTop:x.Z.enabled("offsite_pin_creation_multi_select")?8:0,children:[(0,p.jsx)(a.xu,{paddingX:5,display:"flex",direction:"column",alignItems:x.Z.enabled("offsite_pin_creation_multi_select")?"end":"center",justifyContent:"center",children:x.Z.enabled("offsite_pin_creation_multi_select")?(0,p.jsx)(a.xu,{width:f.LM,children:(0,p.jsx)(_.Z,{url:ec,children:function(e){var t,r=e.image;return(0,p.jsx)(n.Fragment,{children:r&&r.length>0&&(0,p.jsx)(n.Fragment,{children:(0,p.jsxs)(a.xu,{width:f.LM,children:[(0,p.jsx)(a.xu,{"data-test-id":"media-image-view",width:em(r[0]).width,height:em(r[0]).height,marginStart:"auto",marginEnd:"auto",overflow:"hidden",rounding:2,children:(0,p.jsx)(a.Ee,{alt:N._('Uploaded image', 'pinbuilder.PinDraftBodyExternalView.image', 'Label for a user uploaded image on Pin create'),src:null!==(t=r[0].url)&&void 0!==t?t:"",naturalHeight:r[0].height||1,naturalWidth:r[0].width||1,fit:"cover"})}),ef&&(0,p.jsx)(h,{coverImageHeight:em(r[0]).height,pinDraftId:z})]})})})}},ec)}):(0,p.jsx)(c.Z,{height:ei,pinDraftId:z,pinItemId:M})}),(0,p.jsx)(a.xu,{color:"secondary",width:2,marginTop:-5}),U.isAuthenticated?es?(r=es?null===(t=es.board)||void 0===t?void 0:t.name:"",(0,p.jsxs)(a.kC,{alignItems:"center",direction:"column",height:530,justifyContent:"center",width:"100%",children:[(0,p.jsx)(a.xu,{padding:6,children:(0,p.jsx)(a.xv,{lineClamp:1,weight:"bold",children:(0,b.nk)(N._('Saved 1 idea to {{ boardName }}! ', 'Tell user number of pins that he/she saved in a board', 'Tell user number of pins that he/she saved in a board'),{boardName:r})})}),(0,p.jsx)(a.xu,{padding:2,width:300,children:(0,p.jsx)(a.zx,{fullWidth:!0,color:"red",text:N._('See it now', 'Button label for navigating to the scheduled pins', 'Button label for navigating to the scheduled pins'),size:"lg",onClick:function(){return ea?H.push("/pin/".concat(ea,"/")):H.push("/pins/")}})}),(0,p.jsx)(a.xu,{padding:2,width:300,children:(0,p.jsx)(a.zx,{fullWidth:!0,color:"gray",text:N._('Share this pin', 'Button label for sharing this pin', 'Button label for sharing this pin'),size:"lg",onClick:function(){return ea?H.push("/pin/".concat(ea,"/?share=true")):H.push("/pins/")}})})]})):(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(a.xu,{flex:"grow",minHeight:Math.max(ei,f.sD),paddingX:5,width:"100%",dangerouslySetInlineStyle:L,children:(0,p.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,p.jsx)(a.xu,{paddingY:1,children:(0,p.jsx)(a.xv,{lineClamp:1,weight:"bold",children:N._('Choose a board', 'pinbuilder.PinDraftBodyExternalView.renderBoardPicker', 'Board picker title for saving images from offsite')})}),(0,p.jsx)(A.uC,{onBoardCreate:function(e){er(e.title),K(!0)},onItemChosen:ep,paneWidth:430,displayShortlistMostRecentBoard:!0,useLegoLayout:!1,setBoardWithSection:function(e){Q(e)}})]})}),q&&!J&&(0,p.jsx)(E.Z,{onBoardCreate:function(e){Z((0,A.DR)(V)),ep({boardId:e.id,url:e.url,title:e.name||""}),eh()},onClose:eh,suggestedBoardName:et}),q&&!!J&&(0,p.jsx)(I.Z,{selectedBoard:J,onClose:eh,onSectionCreate:function(e){J&&ep({boardId:J.id,title:e.title||"",sectionId:e.id}),eh()}})]}):(0,p.jsx)(a.xu,{"data-test-id":"unauth-offsite-pin-creation-signup",children:(0,p.jsx)(g.default,{container:"pinBookmarklet",signupSource:"pinBookmarklet",signupFlow:{type:"login"},nextUrlParam:"undefined"!=typeof window?(l="".concat(y.r,"=").concat(y.O),encodeURIComponent("".concat(window.location.href,"&").concat(l))):""})})]})}var N=r(245569),B=r(323201),F=r(854156),Z=r(519325),U=r(248060),H=r(206134),V=r.n(H),G=r(858472),W=r(717615),Y=r(231947),X=r(857752);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(t){er(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,en(n.key),n)}}function Q(e,t){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t,r){return(t=en(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function en(e){var t=function(e,t){if("object"!==q(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==q(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===q(t)?t:String(t)}var eo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=et(i);if(t){var n=et(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ee(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return er(ee(e=o.call.apply(o,[this].concat(r))),"state",{focused:!1}),er(ee(e),"handleBlur",function(t){e.setState({focused:!1});var r=e.props.onBlur;r&&r(t)}),er(ee(e),"handleFocus",function(){e.setState({focused:!0});var t=e.props.onFocus;t&&t()}),er(ee(e),"getColor",function(){var t=e.props,r=t.errorMessage,n=t.warningMessage,o=t.showOnBlur,i=t.showWarningOnBlur,a=t.value,l=e.state.focused;return r?G.x7:l||i&&n?"#0074e8":a&&!o?"transparent":"rgba(142, 142, 142, 0.5)"}),er(ee(e),"handleTextChange",function(t){var r=t.text,n=t.mentions;e.props.onChange({value:r,userMentionTags:n})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.bold,r=e.disabled,n=e.errorMessage,o=e.warningMessage,i=e.height,l=e.helperMessage,s=e.id,c=e.instanceId,u=e.maxLength,d=e.placeholder,f=e.requestContext,h=e.size,y=e.showOnBlur,m=e.showWarningOnBlur,g=e.value,b=void 0===g?"":g,_=e.viewer,v=e.wrap,P=e.logContextEvent,O=e.orbacActingAs,j=this.state.focused,S={__style:{boxShadow:"0 ".concat(j||n||m&&o?"2px":"1px"," 0 0 ").concat(this.getColor()),paddingTop:8}},w=(0,Y.nl)(_,O)&&"ad_creation"!==x.Z.scenario()&&f.experimentsClient.checkExperiment("web_stl_tooling").anyEnabled;return(0,p.jsxs)(a.xu,{column:12,display:"flex",direction:"column",children:[(0,p.jsx)(a.xu,{column:12,position:"relative",children:(0,p.jsx)("div",{id:s,className:V()("TextArea__".concat(w?"experimentalTextArea":"textArea"),"TextArea__dark",{TextArea__bold:t,TextArea__large:"lg"===h,TextArea__medium:"md"===h,TextArea__wrap:v,TextArea__nowrap:!v,TextArea__smHeight:"sm"===i,TextArea__mdHeight:"md"===i}),children:(0,p.jsx)(X.Z,{onAddMention:function(){P({event_type:8905,element:116,aux_data:{tag_type:1}})},onBlur:this.handleBlur,onChange:this.handleTextChange,onFocus:this.handleFocus,onSearchMentionCancel:function(){P({event_type:8908,element:116,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:function(){P({event_type:8907,element:116,aux_data:{tag_type:1}})},initialMentions:[],initialText:b,instanceId:c,placeholder:d,readOnly:r})})}),(0,p.jsxs)("div",{className:j||y||n||m&&o||!b?"":"TextArea__hidden",children:[!w&&(0,p.jsx)(a.xu,{column:12,dangerouslySetInlineStyle:S}),(0,p.jsx)(a.xu,{column:12,marginTop:w?0:1,minHeight:15,children:(j||y||!!n||m&&!!o)&&(0,p.jsxs)(a.xu,{column:12,display:"flex",justifyContent:"between",children:[!!n&&(0,p.jsx)(a.xu,{flex:"grow","data-test-id":"text-area-error",children:(0,p.jsx)(a.xv,{size:"100",color:"error",children:n})}),(m||j)&&!n&&!!o&&(0,p.jsx)(a.xu,{flex:"grow","data-test-id":"text-area-warning",children:(0,p.jsx)(a.xv,{size:"100",color:"subtle",children:o})}),(y||j)&&!n&&!o&&(0,p.jsx)(a.xu,{flex:"grow","data-test-id":"text-area-helper",children:(0,p.jsx)(a.xv,{size:"100",color:"subtle",children:l})}),j&&null!=u&&(0,p.jsx)(a.xu,{flex:"none",children:(0,p.jsx)(a.xv,{size:"100",color:n?"error":"default",children:u-b.length})})]})})]})]})}}],J(i.prototype,r),n&&J(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function ei(e){var t=(0,m.v)().logContextEvent;return(0,p.jsx)(eo,$($({},e),{},{requestContext:(0,j.B)(),viewer:(0,w.Z)(),logContextEvent:t,orbacActingAs:(0,W.Z)()}))}er(eo,"defaultProps",{bold:!1,disabled:!1,size:"md",wrap:!0,value:"",orbacActingAs:{}});var ea=r(66699),el=r(841064),es=r(451105),ec=r(827628),eu=r(472278);function ed(e){return(ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ef(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ep(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(r),!0).forEach(function(t){eb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ef(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e_(n.key),n)}}function ey(e,t){return(ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function em(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eg(e){return(eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eb(e,t,r){return(t=e_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e_(e){var t=function(e,t){if("object"!==ed(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ed(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ed(t)?t:String(t)}var ev=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ey(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eg(i);if(t){var n=eg(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===ed(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return em(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eb(em(e=o.call.apply(o,[this].concat(r))),"defaultHelperMessage",e.props.i18n._('People will usually see the first 50 characters when they click on your Pin', 'pinbuilder.input.pinDraftDescription.helper', 'Helper education text for description on Pin creation')),eb(em(e),"defaultPlaceholder",e.props.i18n._('Tell everyone what your Pin is about', 'pinbuilder.input.pinDraftDescription.placeholder', 'Placehold text for description on Pin creation')),eb(em(e),"handleChange",function(t){var r=t.value,n=t.userMentionTags,o=void 0===n?[]:n,i=e.props,a=i.i18n,l=i.ideaPinRenamingEnabled,s=i.logContextEvent,c=i.setDescriptionData,u=i.setStoryPinDescription,d=i.setStoryPinDescriptionError,p=i.setUserMentionTags,h=i.type;o.length<e.props.userMentionTags.length&&s({event_type:8906,element:116,aux_data:{tag_type:1}});var y=null;r.length>f.JO?y=(0,es.ZP)({errorId:"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT",i18n:a,ideaPinRenamingEnabled:l}).message:o&&o.length>f.iR&&(y=(0,es.ZP)({errorId:"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT",i18n:a,ideaPinRenamingEnabled:l}).message),"story"===h?(u(r),d(y)):(c({description:r,descriptionError:y}),o&&p({userMentionTags:o}))}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.helperMessage,r=void 0===t?this.defaultHelperMessage:t,n=e.description,o=e.descriptionError,i=e.disabled,a=e.editorInstanceId,l=e.pinDraftId,s=e.placeholder,c=void 0===s?this.defaultPlaceholder:s,u=e.pinType,d=e.requestContext,h=e.validateDescription,y=e.viewer,m=e.orbacActingAs,g=(0,Y.nl)(y,m)&&"ad_creation"!==x.Z.scenario()&&d.experimentsClient.checkExperiment("web_stl_tooling").anyEnabled,b=x.Z.enabled("pinQuality");return"carousel"!==u?(0,p.jsx)(ei,{height:g?"md":void 0,disabled:i,id:"pin-draft-description-".concat(l),instanceId:a,errorMessage:o,warningMessage:b&&n.length<f.G9?(0,ea.Z)(this.props.i18n.ngettext('We recommend at least {{ length }} character', 'We recommend at least {{ length }} characters', f.G9, 'pinbuilder.input.pinDraftDescription.warning', 'Warning message to notify user our recommendation for description length of pin'),{length:f.G9}):null,helperMessage:r||this.defaultHelperMessage,maxLength:f.JO,onBlur:h,onChange:this.handleChange,placeholder:c||this.defaultPlaceholder,value:n}):(0,p.jsx)(el.Z,{height:g?"md":void 0,disabled:i,id:"pin-draft-description-".concat(l),errorMessage:o,warningMessage:b&&n.length<f.G9?(0,ea.Z)(this.props.i18n.ngettext('We recommend at least {{ length }} character', 'We recommend at least {{ length }} characters', f.G9, 'pinbuilder.input.pinDraftDescription.warning', 'Warning message to notify user our recommendation for description length of pin'),{length:f.G9}):null,helperMessage:r||this.defaultHelperMessage,maxLength:f.JO,onChange:this.handleChange,onBlur:h,placeholder:c||this.defaultPlaceholder,value:n,viewer:y})}}],eh(i.prototype,r),n&&eh(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function ex(e){var t=(0,m.v)().logContextEvent,r=(0,d.ZP)(),n=(0,s.Z)(),i=e.pinDraftId,a=e.pinItemId,l=(0,o.useDispatch)(),c=(0,o.useSelector)(function(e){return e.pinbuilder}),u=c.pinDrafts,f=c.pinItems,h=c.storyPinItems,y=u[i],g=y.type,b=y.mode,_="story"===g,v=_?h[a]:f[a],x=v.description,P=v.descriptionError,O=[],S="";return _||(O=f[a].userMentionTags,S=f[a].editorInstanceId),(0,p.jsx)(ev,ep(ep({},e),{},{description:x,descriptionError:P,disabled:"create"!==b,editorInstanceId:S,pinType:g,requestContext:(0,j.B)(),setDescriptionData:function(e){return l((0,C.to)(i,e))},setStoryPinDescription:function(e){return l((0,eu.kh)(a,e))},setStoryPinDescriptionError:function(e){return l((0,eu.j8)(a,e))},setUserMentionTags:function(e){return l((0,C.to)(i,e))},userMentionTags:O,validateDescription:function(){return l((0,ec.Z)({pinDraftId:i,validationKey:"signal",i18n:r,ideaPinRenamingEnabled:n,logContextEvent:t,options:{fieldToCheck:"description"}})).catch(function(){})},viewer:(0,w.Z)(),i18n:r,orbacActingAs:(0,W.Z)(),logContextEvent:t,ideaPinRenamingEnabled:n}))}var eP=r(261130),eO=r(766935),ej=r(186656),eS=r(502890);function ew(e){return(ew="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eE(Object(r),!0).forEach(function(t){ek(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eR(n.key),n)}}function eC(e,t){return(eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eT(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eD(e){return(eD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ek(e,t,r){return(t=eR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eR(e){var t=function(e,t){if("object"!==ew(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ew(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ew(t)?t:String(t)}var ez=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eC(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eD(i);if(t){var n=eD(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===ew(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eT(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return ek(eT(e=o.call.apply(o,[this].concat(r))),"_debouncedCheckLinkIsTaggable",(0,eO.Z)(function(t){var r=e.props,n=r.advertiser,o=r.orbacActingAs,i=r.viewer,a=(0,Y.lJ)(i,o);(0,ej.Z)({url:"/v3/visual_links/can_tag/",data:eA({url:t,is_native:!t,for_advertiser_id:n&&n.owner_user_id},a?{orbac_subject_id:a}:Object.freeze({}))}).then(function(t){(0,e.props.setTaggable)(t.resource_response.data)})},300)),ek(eT(e),"handleChange",function(t){var r=t.value,n=e.props,o=n.setLink,i=n.setLinkError;o(r),i(null),r&&r.match(eP.Z)&&e._debouncedCheckLinkIsTaggable(r)}),ek(eT(e),"handleFocus",function(){e.props.logContextEvent({event_type:101,component:13308,element:11616})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.disabled,r=e.link,n=e.linkError,o=e.media,i=e.pinDraftId,a=e.requestContext,l=e.validateLink,s=e.viewer,c=e.orbacActingAs,u=(0,Y.nl)(s,c)&&"ad_creation"!==x.Z.scenario()&&a.experimentsClient.checkExperiment("web_stl_tooling").anyEnabled,d={disabled:t,id:"pin-draft-link-".concat(i),errorMessage:n,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:l,placeholder:u?this.props.i18n._('www.website.com', 'pinbuilder.destinationLink.label', 'label for destination link input'):this.props.i18n._('Add a destination link', 'Placeholder text for link on Pin creation', 'Placeholder text for link on Pin creation'),spellCheck:!1,value:r,wrap:!1},f=x.Z.enabled("pinQuality");return(0,p.jsx)(el.Z,eA(eA({},d),{},{height:u?"sm":void 0,warningMessage:f&&o&&!r?this.props.i18n._('We recommend a destination link', 'pinbuilder.input.pinDraftLink.warning', 'Warning message to notify user our recommendation for having a link for pin'):null,viewer:s,showOnBlur:!0,hideScrollbars:!0}))}}],eI(i.prototype,r),n&&eI(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function eL(e){var t=(0,m.v)().logContextEvent,r=(0,d.ZP)(),n=(0,s.Z)(),i=e.pinDraftId,a=e.pinItemId,l=(0,o.useDispatch)(),c=(0,o.useSelector)(function(e){return e.advertiser}),u=(0,o.useSelector)(function(e){return e.pinbuilder}),f=u.pinDrafts,h=u.pinItems,y=f[i].mode,g=h[a],b=g.link,_=g.linkError,v=g.media,x=(0,O.F)().checkExperiment("web_m10n_business_access_orbac_www").anyEnabled,P=(0,W.Z)();return(0,p.jsx)(ez,eA(eA({},e),{},{advertiser:c,disabled:"create"!==y||!!v&&"webImage"===v.type,link:b,linkError:_,media:v,requestContext:(0,j.B)(),setLink:function(e){return l((0,C.to)(i,{link:e}))},setLinkError:function(e){return l((0,eS.lZ)(a,e))},setTaggable:function(e){return l((0,eS.kf)(a,e))},validateLink:function(){return l((0,ec.Z)({pinDraftId:i,validationKey:"link",i18n:r,ideaPinRenamingEnabled:n,logContextEvent:t})).catch(function(){})},viewer:(0,w.Z)(),i18n:r,logContextEvent:t,orbacActingAs:x?P:{}}))}var eM=r(480542),eN=r(912820),eB=r(562501),eF=r(957025);function eZ(e){return(eZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eU(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==eZ(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eZ(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eZ(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eV(e){var t=e.taggedObjectIds,r=(0,d.ZP)();return(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(a.xu,{marginBottom:3,children:(0,p.jsx)(a.xv,{color:"default",lineClamp:1,weight:"bold",children:(0,b.nk)(r.ngettext('{{ numProducts }} product', '{{ numProducts }} products', t.length, 'Heading for carousel of products you\u2019ve tagged with count', 'Heading for carousel of products you\u2019ve tagged with count'),{numProducts:t.length})})}),(0,p.jsx)(a.xu,{marginStart:-1,marginEnd:-1,children:(0,p.jsx)(eM.Z,{children:(0,p.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:t.map(function(e){return(0,p.jsx)(eN.Z,{taggedObjectId:e},e)})})})})]})}function eG(e){var t=(0,eB.jk)(),r=(0,eF.A$)(),n=(0,o.useSelector)(function(t){return(0,eB.M)(t,e)}),i=(0,o.useSelector)(function(o){return n?r(o,{pinTagId:n}):t(o,e)});return(0,p.jsx)(eV,eH(eH({},e),{},{taggedObjectIds:i}))}var eW=r(84769);function eY(e){return(eY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eX(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==eY(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eY(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eY(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eX(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eK(e){var t=e.setTitleData,r=e.setStoryPinTitle,n=e.setStoryPinTitleError,o=e.type,i=e.disabled,l=e.helperMessage,c=e.pinDraftId,u=e.placeholder,h=e.title,y=e.titleError,m=e.validateTitle,g=(0,d.ZP)(),b=(0,s.Z)(),_=(0,w.Z)(),v=(0,O.F)().checkExperiment,P=(0,W.Z)(),j=(0,Y.nl)(_,P)&&"ad_creation"!==x.Z.scenario()&&v("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled,S=g._('Your first 40 characters are what usually show up in feeds', 'pinbuilder.input.pinDraftTitle.helper', 'Helper education text for title on Pin creation'),E=g._('Add your title', 'pinbuilder.input.pinDraftTitle.placeholder', 'Placeholder text for title on Pin creation'),A=g._('Pin title', 'pinbuilder.input.title.placeholder', 'Experimental placeholder text for title on Pin creation'),I=x.Z.enabled("pinQuality");return(0,p.jsx)(a.xu,{"data-test-id":"pin-draft-title-text-area-container",children:(0,p.jsx)(el.Z,{height:j?"sm":void 0,bold:!j||void 0,disabled:i,errorMessage:y,warningMessage:I&&h.length<f.bA?(0,ea.Z)(g.ngettext('We recommend at least {{ length }} character', 'We recommend at least {{ length }} characters', f.bA, 'pinbuilder.input.pinDraftTitle.warning', 'Warning message to notify user our recommendation for title length of pin'),{length:f.bA}):null,helperMessage:l||S,id:"pin-draft-title-".concat(c),maxLength:f.Ke,onChange:function(e){var i=e.value.replace(/\n/g," "),a=i.length>f.Ke?(0,es.ZP)({errorId:"TITLE_OVER_MAX_CHARACTER_LIMIT",i18n:g,ideaPinRenamingEnabled:b}).message:null;"story"===o?(r(i),n(a)):t({title:i,titleError:a})},onBlur:m,placeholder:u||(j?A:E),size:j?"md":"lg",value:h,viewer:_})})}function e$(e){var t=(0,d.ZP)(),r=(0,s.Z)(),n=(0,m.v)().logContextEvent,i=(0,o.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId]}),a=i.mode,l=i.type,c=(0,o.useSelector)(function(t){return"story"===l?t.pinbuilder.storyPinItems[e.pinItemId]:t.pinbuilder.pinItems[e.pinItemId]}),u=c.title,f=c.titleError,h=(0,o.useDispatch)();return(0,p.jsx)(eK,eq(eq({},e),{},{i18n:t,ideaPinRenamingEnabled:r,logContextEvent:n,title:u,titleError:f,disabled:"create"!==a,setTitleData:function(t){return h((0,C.to)(e.pinDraftId,t))},setStoryPinTitle:function(t){return h((0,eu.Dt)(e.pinItemId,t))},setStoryPinTitleError:function(t){return h((0,eu.h4)(e.pinItemId,t))},validateTitle:function(){return h((0,ec.Z)({pinDraftId:e.pinDraftId,validationKey:"signal",i18n:t,ideaPinRenamingEnabled:r,logContextEvent:n,options:{fieldToCheck:"title"}})).catch(function(){})}}))}var eJ=r(784590),eQ=r(312918);function e0(){var e=(0,W.Z)(),t=(0,o.useSelector)(function(e){return e.advertiser}),r=(0,w.Z)(),n=(0,eJ.Z)({name:"UserResource",options:{field_set_key:"grid_item",user_id:!!e.id&&e.id||!!t&&t.owner_user_id||r.isAuth&&r.id||""}}).data||{},i=n.full_name,l=n.image_medium_url,s=n.follower_count,c=n.verified_identity,u=i||(t?t.name:r.isAuth&&r.fullName)||"",d=l||(t?"":r.isAuth&&r.imageMediumUrl)||"",f=c&&c.verified;return(0,p.jsx)(a.xu,{"data-test-id":"pin-draft-user",children:(0,p.jsx)(eQ.Z,{followerCount:s||0,fullName:u,imageUrl:d,verified:f})})}var e1=r(898246),e2=r(424624),e8=r(596284);function e3(e){return(e3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e5(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==e3(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==e3(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e3(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e5(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e4(e){var t=e.pinDraftId,r=e.pinItemId,n=e.pinTagId,o=e.pinTags,i=e.pinTagIds,l=e.showCarouselControl,s=e.showProductCarousel,c=e.showScheduleControl,u=e.showVideoTagging,f=e.unfilteredTaggedObjects,h=(0,d.ZP)(),y=(0,w.Z)(),m=(0,W.Z)(),g=(0,O.F)().checkExperiment,b=(0,Y.nl)(y,m)&&"ad_creation"!==x.Z.scenario()&&g("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled,_=h._('Destination link', 'pinbuilder.destination.link.label', 'label for destination link input'),v=(0,e2.Z)({pinTagIds:i,pinTags:o,taggedObjects:f});return(0,p.jsx)(a.Zf,{overflow:"visible",children:(0,p.jsxs)(a.xu,{column:12,height:"100%",display:"flex",direction:"column",overflow:"visible",children:[(0,p.jsxs)(a.xu,{"data-tutorial-id":"pin-builder-title-and-description",height:b?void 0:"100%",width:"100%",children:[(0,p.jsxs)(a.xu,{column:12,marginTop:8,children:[b&&(0,p.jsx)(a.xu,{marginStart:1,marginBottom:1,children:(0,p.jsx)(a.xv,{size:"100",color:"default",children:h._('Title', 'pinbuilder.title.input.label', 'label for title input')})}),(0,p.jsx)(e$,{pinDraftId:t,pinItemId:r})]}),!b&&(0,p.jsx)(a.xu,{column:12,marginTop:4,children:(0,p.jsx)(e0,{})}),b&&(0,p.jsx)(a.xu,{marginStart:1,marginBottom:1,marginTop:6,children:(0,p.jsx)(a.xv,{size:"100",color:"default",children:h._('Description', 'pinbuilder.descriptoin.input.label', 'label for description input')})}),(0,p.jsx)(a.xu,{column:12,marginTop:b?0:6,flex:"grow",display:"flex",children:(0,p.jsx)(ex,{pinDraftId:t,pinItemId:r})}),(0,p.jsx)(e8.Z,{pinDraftId:t})]}),s&&!b&&(0,p.jsx)(a.xu,{column:12,marginTop:6,children:(0,p.jsx)(eG,{pinItemId:r})}),s&&b&&(0,p.jsx)(Z.Z,{pinDraftId:t,pinItemId:r,pinTagId:n,taggedObjects:v}),u&&(0,p.jsx)(a.xu,{column:12,marginTop:4,children:(0,p.jsx)(e1.ZP,{pinDraftId:t})}),(0,p.jsxs)(a.xu,{"data-test-id":"pin-draft-link","data-tutorial-id":"pin-builder-destination-link",column:12,marginTop:b?"auto":4,children:[b&&(0,p.jsx)(a.xu,{marginStart:1,marginBottom:1,children:(0,p.jsx)(a.xv,{size:"100",color:"default",children:_})}),(0,p.jsx)(eL,{pinDraftId:t,pinItemId:r})]}),l&&(0,p.jsx)(a.xu,{column:12,marginTop:6,children:(0,p.jsx)(U.Z,{pinDraftId:t})}),c&&(0,p.jsx)(a.xu,{column:12,marginTop:4,children:(0,p.jsx)(eW.Z,{inStlToolingExp:b,pinDraftId:t})})]})})}function e9(e){var t=(0,eB.jk)(),r=(0,eB.vd)(),n=(0,o.useSelector)(function(t){return(0,eB.Bg)(t,e)}),i=(0,o.useSelector)(function(t){return r(t,e)}),a=(0,o.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId].type}),l=x.Z.enabled("scheduling"),s=(0,o.useSelector)(function(e){return e.pinbuilder.taggedObjects}),c=(0,o.useSelector)(function(e){return e.pinbuilder.pinTags}),u=(null==n?void 0:n.type)==="localVideo"&&x.Z.enabled("videoTagging"),d="single"===a&&l&&(!n||0===i.length&&("localImage"===n.type||"localVideo"===n.type)),f=(0,o.useSelector)(function(t){return t.pinbuilder.pinItems[e.pinItemId].selectedPinTagId||i.length>0?i[0]:null}),h=(0,o.useSelector)(function(r){return t(r,e).length>0});return(0,p.jsx)(e4,e6(e6({},e),{},{pinTagId:f,pinTags:c,pinTagIds:i,showScheduleControl:d,showVideoTagging:u,showCarouselControl:"carousel"===a,showProductCarousel:h,unfilteredTaggedObjects:s}))}var e7=r(47615);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==te(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==te(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===te(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tn(e){var t=e.height,r=e.pinDraftId,o=e.pinItemId;return(0,p.jsx)(n.Fragment,{children:(0,p.jsxs)(a.xu,{display:"flex",dangerouslySetInlineStyle:{__style:{paddingBottom:f.uR}},children:[(0,p.jsx)(a.xu,{paddingX:5,children:(0,p.jsx)(c.Z,{height:t,pinDraftId:r,pinItemId:o})}),(0,p.jsx)(a.xu,{flex:"grow",minHeight:Math.max(t,f.sD),paddingX:5,width:"100%",children:(0,p.jsx)(e9,{pinDraftId:r,pinItemId:o})})]})})}function to(e){var t=(0,o.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId]}).pinItemIds,r=(0,o.useSelector)(function(e){return e.pinbuilder.pinItems[t[0]]}).media,n=r?(0,P.Z)(r,f.LM,(0,e7.Sl)(r)&&(0,e7.PG)(r)?0:3):f.sD;return(0,p.jsx)(tn,tr(tr({},e),{},{height:n}))}var ti=r(444445),ta=r(343341),tl=r(76696),ts=r(970576),tc=r(798477),tu=r(850760);function td(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tf(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var tp={__style:{paddingTop:f.XB}};function th(e){var t=e.pinDraftId,r=(0,m.v)().logContextEvent,i=(0,d.ZP)(),l=(0,s.Z)(),c=(0,o.useDispatch)(),u=(0,w.Z)(),h=(0,tl.Z)(),y=(0,Y.lJ)(u,h),g=(0,S.Z)(),b=(0,O.F)().checkExperiment,_=u.isAuth?u.id:"",v=u.isAuth?u.country:"",x=u.isAuth&&u.isPartner,j=td((0,n.useState)(!1),2),D=j[0],k=j[1],R=td((0,n.useState)(null),2),z=R[0],L=R[1],M=td((0,n.useState)(""),2),N=M[0],B=M[1],F=(0,o.useSelector)(function(e){var r=e.pinbuilder.pinDrafts[t].websiteMedia;return r.length>0?r:[]}),Z=(0,o.useSelector)(function(e){var r=e.pinbuilder,n=r.pinDrafts,o=r.pinItems[n[t].pinItemIds[0]].media;return o?(0,P.Z)(o):f.sD}),U=function(e){c((0,C.Nv)(t,e)),F.length>1?c((0,C.m_)({pinDraftId:t,userId:_,country:v,isPartner:x,i18n:i,logContextEvent:r,orbacSubjectId:y,checkExperiment:b,siteType:g,ideaPinRenamingEnabled:l})):c((0,T.Z)({pinDraftId:t,userId:_,orbacSubjectId:y,country:v,isPartner:x,i18n:i,logContextEvent:r,ideaPinRenamingEnabled:l}))},H=function(){L(null),k(!1)};return(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(a.xu,{flex:"grow",minHeight:Math.max(Z,f.sD),paddingX:5,width:"100%",dangerouslySetInlineStyle:tp,children:(0,p.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,p.jsx)(a.xu,{paddingY:1,children:(0,p.jsx)(a.xv,{lineClamp:1,weight:"bold",align:"center",children:i._('Choose a board', 'pinbuilder.PinDraftBoardView.boardPickerTitle', 'Board picker title for saving images from site')})}),(0,p.jsx)(A.sR,{onBoardCreate:function(e){B(null==e?void 0:e.title),k(!0)},onItemChosen:U,paneWidth:430,displayShortlistMostRecentBoard:!0,useLegoLayout:!1,setBoardWithSection:function(e){L(e)}})]})}),D&&!z&&(0,p.jsx)(E.Z,{onBoardCreate:function(e){var t,r,n;c((0,A.DR)(u,h)),U({boardId:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"",url:null!==(r=null==e?void 0:e.url)&&void 0!==r?r:"",title:null!==(n=null==e?void 0:e.name)&&void 0!==n?n:""}),H()},onClose:H,suggestedBoardName:N}),D&&!!z&&(0,p.jsx)(I.Z,{selectedBoard:z,onClose:H,onSectionCreate:function(e){z&&U({boardId:z.id,title:e.title||"",sectionId:e.id}),H()}})]})}function ty(e){var t=e.data,r=(0,d.ZP)();return(0,p.jsx)(a.xu,{"data-test-id":"media-image-view",dangerouslySetInlineStyle:{__style:{padding:"2px"}},children:(0,p.jsx)(a.zd,{rounding:4,wash:!0,children:(0,p.jsx)(a.Ee,{alt:r._('Image saved from site', 'pinbuilder.PinDraftBoardView.savedImage', 'Label for a saved image from site on Pin create'),naturalHeight:t.height,naturalWidth:t.width,src:t.src})})})}function tm(e){var t,r=e.pinDraftId,i=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[r].websiteLink}),l=(0,eJ.Z)({name:"DomainResource",options:{domain:i,field_set_key:"owner"}}),s=l.data,c=l.isLoaded,u=(0,eJ.Z)(c?{name:"UserResource",options:{user_id:(null==s?void 0:null===(t=s.official_user)||void 0===t?void 0:t.id)||""}}:null),d=u.data,f=u.refresh;return((0,n.useEffect)(function(){f()},[c,f]),d)?(0,p.jsxs)(a.xu,{padding:2,children:[(0,p.jsx)(tu.Z,{user:d}),";"]}):null}function tg(e){var t=e.pinDraftId,r=(0,d.ZP)(),i=(0,o.useDispatch)(),l=(0,n.useRef)(null),s=i((0,C.By)(t)),c=f.LM,u=function(e,t){return e>=t?{width:350/e*t,height:350}:{width:c,height:c/t*e}};return 1===s.length?(0,p.jsx)(a.xu,{"data-test-id":"media-image-view",width:u(s[0].height,s[0].width).width,height:u(s[0].height,s[0].width).height,marginStart:"auto",marginEnd:"auto",overflow:"hidden",rounding:4,children:(0,p.jsx)(a.Ee,{alt:r._('Image saved from site', 'pinbuilder.PinDraftBoardView.savedImage', 'Label for a saved image from site on Pin create'),naturalHeight:s[0].height,naturalWidth:s[0].width,src:s[0].src,fit:"contain"})}):(0,p.jsx)(a.xu,{marginTop:2,height:420,ref:l,overflow:"auto",children:l&&(0,p.jsx)(a.Rk,{renderItem:function(e){var t=e.data;return(0,p.jsx)(ty,{data:t})},columnWidth:f.eZ,items:s,minCols:2,gutterWidth:ti.lX,scrollContainer:function(){return l.current||window},virtualize:!0,layout:"flexible"})})}function tb(e){var t=e.pinDraftId,r=e.pinItemId,l=(0,o.useDispatch)(),s=(0,i.useHistory)(),c=(0,ta.F9)(),u=l((0,C.By)(t)),d=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[t].pinId}),h=(0,D.S6)()(null!=d?d:""),y=(0,o.useSelector)(function(e){var r=e.pinbuilder.pinDrafts;return d&&"create"===r[t].mode?h:null}),m=.1*f.sD;(0,n.useEffect)(function(){if(y){var e=setTimeout(window.close,1e4);return function(){e&&clearTimeout(e)}}},[y]);var g=function(){if(1===u.length)d?s.push("/pin/".concat(d,"/")):s.push("/");else if(y){var e=y.board?y.board.url:"";s.push("".concat(e||""))}else s.push("/")};return y&&function(){if(y&&y.board){var e=y.board.name,r=y.board.url,n=y.images?y.images["236x"]:null,o=n?n.url:"";l((0,tc.Z)(t)),c.showOneToast(function(t){var n=t.hideToast;return(0,p.jsx)(ts.Z,{boardName:e,boardUrl:r,isFromPinBuilder:!0,onHide:n,onVisitButtonClick:g,pinImageUrl:o||""})}),s.push("/")}}(),(0,p.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,p.jsxs)(a.xu,{display:"flex",direction:"column",alignItems:"center",paddingX:5,children:[(0,p.jsx)(a.xu,{height:m,children:(0,p.jsx)(tm,{pinDraftId:t,pinItemId:r})}),(0,p.jsx)(a.xu,{height:450,marginTop:4,width:344,children:(0,p.jsx)(tg,{pinDraftId:t,pinItemId:r})})]}),(0,p.jsx)(a.xu,{color:"secondary",width:2,marginTop:-5}),!y&&(0,p.jsx)(th,{pinDraftId:t,pinItemId:r})]})}var t_=r(134906);function tv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tx(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tP(e){var t=e.pinDraftId,r=(0,d.ZP)(),i=(0,o.useDispatch)(),l=tv((0,n.useState)(""),2),s=l[0],c=l[1],u=tv((0,n.useState)(""),2),h=u[0],y=u[1],m=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[t].view}),g=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[t].websiteLink}),b=r._('Enter a website link', 'pinbuilder.searchView.placeholdertext', 'Placeholder text for searching for a website to save ideas from');return(0,p.jsxs)(a.xu,{paddingY:2,height:"scrape"===m?f.i2:f.UU,children:[(0,p.jsx)(a.xu,{position:"relative",children:(0,p.jsx)(a.Um,{accessibilityLabel:g?r._('Enter a website link', '[m10n] pinbuilder.searchView.searchField.accessibilityLabel', 'Accessibility label for search field'):"",accessibilityClearButtonLabel:r._('Clear search field', '[m10n] pinbuilder.searchView.clearButton.accessibilityLabel', 'Accessibility label for clear button'),errorMessage:""!==h?r._('No images found. Please check your URL and try again.', 'pinbuilder.searchView.errorMessage', 'Error message for invalid URL entered by user'):"",id:"save-from-site",onChange:function(e){c(e.value)},onKeyDown:function(e){"Enter"===e.event.key&&(y(""===s||(0,t_.CB)(s)?"":(0,es.q0)(r)),i((0,C.f9)(t,s,h)),""!==s&&""===h&&i((0,C.c8)(t,"scrape")))},placeholder:g||b,size:"lg",value:s})}),"search"===m&&(0,p.jsx)(a.xu,{padding:2,children:(0,p.jsx)(a.xv,{color:"subtle",size:"100",children:r._('Example: http://www.websitename.com', 'pinbuilder.PinDraftSearchView.searchFieldExample', 'Example of website URL to guide user search')})})]})}var tO=r(490072);function tj(e){return(tj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==tj(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tj(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tj(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tE(e){var t=e.pinDraftId,r=e.pinItemId,n=e.view;switch(n){case"upload":return(0,p.jsx)(to,{pinDraftId:t,pinItemId:r});case"search":return(0,p.jsx)(tP,{pinDraftId:t});case"scrape":return(0,p.jsx)(B.Z,{pinDraftId:t});case"board":return(0,p.jsx)(tb,{pinDraftId:t,pinItemId:r});case"tag":case"selectTag":return(0,p.jsx)(F.Z,{pinDraftId:t,pinItemId:r,view:n});case"collectionsTag":return(0,p.jsx)(l.Z,{pinDraftId:t,pinItemId:r});case"reorder":return(0,p.jsx)(N.C,{pinDraftId:t});case"external":return(0,p.jsx)(M,{pinDraftId:t,pinItemId:r});default:return null}}function tA(e){var t=(0,tO.nL)(),r=(0,o.useSelector)(function(t){return(0,tO.Xe)(t,e)}),n=(0,o.useSelector)(function(r){return t(r,e)});return(0,p.jsx)(tE,tw(tw({},e),{},{view:r,pinItemId:n}))}function tI(e){return(tI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tC(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==tI(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tI(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tI(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tk(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tR(e){e.pinDraftId;var t,r=e.websiteLink,o=e.setWebsiteLink,i=(0,m.v)().logContextEvent,l=(0,d.ZP)(),s=tD((0,n.useState)(!1),2),c=s[0],u=s[1],f=tD((0,n.useState)(r),2),h=f[0],y=f[1],g=tD((0,n.useState)(""),2),b=g[0],_=g[1],v=function(){if(c){var e=h&&!(0,t_.CB)(h)?(0,es.q0)(l):"";_(e),h&&!e&&(o(h,e),u(!1),t&&(t.style.background="#EFEFEF"),i({event_type:101,component:13308,element:10969,aux_data:{url:h}}))}else y(""),t&&t.focus()};return(0,p.jsxs)(a.xu,{position:"relative",children:[(0,p.jsx)(a.nv,{id:"scrape-view-website-link",errorMessage:b,placeholder:l._('Enter website', 'pinBuilder.pinDraftHeaderScrapeView.pinDraftWebsiteLinkButton.placeholder.text', 'Placeholder text to enter website url'),ref:function(e){(t=e)&&(t.style.height="44px",t.style.borderRadius="24px",t.style.paddingRight="48px",t.style.background=c?"":"#EFEFEF")},size:"lg",type:"url",value:h,onChange:function(e){y(e.value)},onFocus:function(){u(!0),t&&(t.style.background="")},onKeyDown:function(e){"Enter"===e.event.key&&v()}}),(0,p.jsx)(a.xu,{position:"absolute",top:!0,right:!0,margin:2,children:(0,p.jsx)(a.hU,{onClick:v,bgColor:"lightGray",icon:c?"arrow-forward":"cancel",iconColor:"darkGray",accessibilityLabel:l._('Submit', 'pinBuilder.pinDraftHeaderScrapeView.pinDraftWebsiteLinkButton.submit.text', 'Submit website button to scrape images'),size:"sm"})})]})}function tz(e){var t=(0,o.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId].websiteLink}),r=(0,o.useDispatch)();return(0,p.jsx)(tR,tT(tT({},e),{},{websiteLink:t,setWebsiteLink:function(t,n){return r((0,C.f9)(e.pinDraftId,t,n))}}))}var tL=r(558068),tM=r(323716),tN=r(388619);function tB(e){var t=e.pinDraftId,r=(0,m.v)().logContextEvent,n=(0,d.ZP)(),l=(0,s.Z)(),c=(0,j.B)(),u=(0,o.useDispatch)(),h=(0,i.useHistory)(),y=(0,tL.Hv)().previous,g=function(){var e=(0,tN.Z)({url:(0,tM.Z)()}).tab;u((0,C.q0)(t,"upload",e===f.ro?"IDEA_PIN":"PIN"))},b=function(){(0,tN.Z)({url:(0,tM.Z)()}).tab===f.ro?0===y.length?h.push(l?"/pin-creation-tool":"/idea-pin-builder"):h.goBack():(u((0,C.hb)(t)),u((0,C.f9)(t,"")),u((0,C.c8)(t,"upload")))},_=0===(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[t].websiteMedia}).length,v=!!c.isRTL;return x.Z.enabled("multi_pin")||x.Z.enabled("multi_pin_pinner")||x.Z.enabled("offsite_pin_creation_multi_select")?(0,p.jsxs)(a.xu,{paddingX:2,display:"flex",direction:"column",alignItems:"center",children:[(0,p.jsx)(a.xu,{position:"absolute",top:!0,left:!v,right:v,marginTop:8,marginStart:8,"data-test-id":"scrape-view-cancel-button",children:(0,p.jsx)(a.hU,{onClick:b,size:"lg",icon:"directional-arrow-left",accessibilityLabel:n._('Cancel', 'pinBuilder.pinDraftHeaderScrapeView.cancel.text', 'Cancel selection of images from web on Pin create'),iconColor:"gray"})}),(0,p.jsx)(a.X6,{size:"400",children:n._('Save ideas from website', 'pinBuilder.pinDraftHeaderScrapeView.multiselect.header.text', 'Directions to select scraped image on Pin creation')}),(0,p.jsx)(a.xu,{marginTop:1,children:(0,p.jsx)(a.xv,{size:"200",children:n._('Select up to ten images', 'pinBuilder.pinDraftHeaderScrapeView.multiselect.subheader.text', 'Limit the number of scraped images that can be selected')})}),(0,p.jsx)(a.xu,{marginTop:6,paddingX:8,width:"90%",children:(0,p.jsx)(tz,{pinDraftId:t})})]}):(0,p.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",children:[(0,p.jsx)(a.X6,{size:"400",children:n._('Upload from the web', 'pinBuilder.pinDraftHeaderScrapeView.header.text', 'Directions to select scraped image on Pin creation')}),(0,p.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,p.jsx)(a.xu,{paddingX:5,"data-test-id":"scrape-view-cancel-button",children:(0,p.jsx)(a.zx,{onClick:b,text:n._('Cancel', 'pinBuilder.pinDraftHeaderScrapeView.cancel.text', 'Cancel selection of images from web on Pin create')})}),(0,p.jsx)(a.xu,{"data-test-id":"scrape-view-add-button",children:(0,p.jsx)(a.zx,{color:"red",disabled:_,onClick:function(){r({event_type:101,component:13308,element:10970}),g()},text:n._('Add to Pin', 'pinBuilder.pinDraftHeaderScrapeView.addToPin.text', 'Add selected image from web to Pin create')})})]})]})}var tF=r(344948),tZ=r(214494),tU=r(915206),tH=r(892831),tV=r(573545),tG=r(680241),tW=r(940765);function tY(e){return(tY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tX(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tX(Object(r),!0).forEach(function(t){t0(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tX(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t1(n.key),n)}}function t$(e,t){return(t$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tJ(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tQ(e){return(tQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function t0(e,t,r){return(t=t1(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t1(e){var t=function(e,t){if("object"!==tY(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tY(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tY(t)?t:String(t)}var t2=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t$(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tQ(i);if(t){var n=tQ(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===tY(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tJ(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return t0(tJ(e=o.call.apply(o,[this].concat(r))),"handleSaveClick",function(){var t=e.props,r=t.logContextEvent,n=t.orbacActingAs,o=t.savePinDraft,i=t.viewerId;r({event_type:101,component:13308,element:10973}),o(n.id&&n.id!==i?n.id:void 0)}),t0(tJ(e),"handleItemChosen",function(t){var r=e.props,n=r.selectItem,o=r.isPartner;(0,r.logContextEvent)({event_type:101,component:13308,element:10965}),(0,k.nP)("pin_builder.board_picker.board_selected",{sampleRate:1,tags:{source:(0,tV.Z)(o)}}),n(t)}),t0(tJ(e),"handleAdOnlyPinSwitch",function(t){var r=t.value,n=e.props,o=n.updateIsAdOnlyPin,i=n.selectItem;(0,n.logContextEvent)({event_type:101,component:13308,element:13834,aux_data:{is_ads_only_pin:r}}),i(null),o(r)}),e}return r=[{key:"render",value:function(){var e=this,t=this.props,r=t.altTextError,n=t.boardError,o=t.hasErrors,i=t.isPartner,l=t.pinDraftId,s=t.selectedItem,c=t.pinIsAdsOnly,u=t.isAdsOnlyPinCreationEnabled,d=function(t){return(0,p.jsx)(tU.Z,{buttonText:i?e.props.i18n._('Publish', 'pinbuilder.pindraft.upload.dropdown.button.partner', 'Button text to create new Pin for Partners'):e.props.i18n._('Save', 'pinbuilder.pindraft.upload.dropdown.button.pinner', 'Button text to create new Pin for Pinners'),accessibilityLabelText:i?e.props.i18n._('Publish', 'pinbuilder.pindraft.upload.dropdown.button.accessibilityLabel.partner', 'Accessibility label text to create new Pin for Partners'):e.props.i18n._('Save', 'pinbuilder.pindraft.upload.dropdown.button.accessibilityLabel.pinner', 'Accessibility label text to create new Pin for Pinners'),hasError:!!n,disabled:t,disabledBoardPicker:c,onItemChosen:e.handleItemChosen,onSaveClick:e.handleSaveClick,placeholder:c?e.props.i18n._('Ad-only board', 'pinbuilder.pindraft.upload.dropdown.placeholder.adOnlyPinsBoard', 'Placeholder text for board dropdown to indicate pin will be saved in the Ad-only Pins board'):e.props.i18n._('Select', 'pinbuilder.pindraft.upload.dropdown.placeholder', 'Placeholder text for board dropdown to select board'),selectedItem:c?null:s})},f=x.Z.enabled("pinQuality");return(0,p.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",children:[(0,p.jsx)(a.kC,{alignItems:"center",justifyContent:"start",minWidth:311,children:(x.Z.enabled("multi_pin")||x.Z.enabled("multi_pin_pinner")||x.Z.enabled("offsite_pin_creation_multi_select"))&&(0,p.jsx)(tW.Z,{pinDraftId:l})}),(0,p.jsxs)(a.xu,{"data-tutorial-id":"pin-builder-publish-to-board",alignItems:"center",display:"flex",flex:"grow",justifyContent:u?"between":"end",paddingX:5,minHeight:40,children:[u&&(0,p.jsx)(tG.Z,{pinIsAdsOnly:c,pinDraftId:l,onChange:this.handleAdOnlyPinSwitch}),(0,p.jsxs)(a.xu,{position:"relative",width:236,children:[f&&o||r?(0,p.jsx)(a.u,{text:this.props.i18n._('You must fix the highlighted issues before publishing the pin.', 'pinbuilder.pindraft.upload.dropdown.tooltip', 'Tooltip text for disabled board dropdown and save button due to errors in pin draft'),children:d(!0)}):d(!1),!!n&&(0,p.jsx)(a.xu,{left:!0,marginTop:1,position:"absolute",right:!0,children:(0,p.jsx)(a.xv,{color:"error",size:"100",children:n})})]})]})]})}}],tK(i.prototype,r),n&&tK(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.PureComponent);function t8(e){var t=(0,m.v)().logContextEvent,r=(0,d.ZP)(),i=(0,s.Z)(),a=e.pinDraftId,l=e.pinItemId,c=(0,w.Z)(),u=c.isAuth?c.id:"",f=c.isAuth?c.country:"",h=c.isAuth&&c.isPartner,y=(0,o.useDispatch)(),g=(0,W.Z)(),b=g.user?g.user.username:void 0,_=(0,O.F)().checkExperiment,v=(0,S.Z)(),x=g.id&&g.id!==u?g.id:u,P=(0,tH.Z)(x),j=(0,n.useCallback)(function(e){return y((0,C.Nv)(a,e))},[y,a]),E=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[a].altTextError}),A=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[a].boardError}),I=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[a].showcaseBannerError}),D=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[a].selectedItem}),k=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[a].pinIsAdsOnly}),R=null==D?void 0:D.ownerUsername,z=(0,o.useSelector)(function(e){var t=e.pinbuilder,r=t.pinDrafts,n=t.pinItems,o=r[a],i=o.mediaError,s=o.scheduledDateError,c=o.scheduledTimeError,u=n[l];return[i,s,c,u.titleError,u.descriptionError,u.linkError].some(function(e){return!!e})});return(0,n.useEffect)(function(){b&&R&&b!==R&&tZ.Z.create("BoardPickerBoardsResource",{field_set_key:"board_picker",sort:"last_pinned_to",onlyFetchBoards:!0,username:b}).callGet({showError:!1}).then(function(e){var t,r,n=null===(t=e.resource_response.data)||void 0===t?void 0:t.all_boards;n&&n.length>0&&j({boardId:n[0].id,url:n[0].url,title:n[0].name||"",imageCoverUrl:n[0].image_cover_url,ownerUsername:null===(r=n[0].owner)||void 0===r?void 0:r.username})})},[j,b,R]),(0,p.jsx)(t2,tq(tq({},e),{},{altTextError:E,boardError:A,showcaseBannerError:I,hasErrors:z,i18n:r,isPartner:c.isAuth&&c.isPartner,logContextEvent:t,orbacActingAs:g,savePinDraft:function(e){return y((0,T.Z)({pinDraftId:a,userId:u,orbacSubjectId:e,country:f,isPartner:h,i18n:r,logContextEvent:t,checkExperiment:_,siteType:v,ideaPinRenamingEnabled:i}))},selectItem:j,selectedItem:D,viewerId:c.isAuth?c.id:"",pinIsAdsOnly:k,updateIsAdOnlyPin:function(e){return y((0,C.rS)(a,e))},isAdsOnlyPinCreationEnabled:P}))}function t3(e){return(t3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?t5(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==t3(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==t3(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===t3(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t5(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function t4(e){var t=e.pinDraftId,r=e.pinItemId;switch(e.view){case"upload":return(0,p.jsx)(a.xu,{marginBottom:5,children:(0,p.jsx)(t8,{pinDraftId:t,pinItemId:r})});case"scrape":return(0,p.jsx)(a.xu,{marginBottom:5,children:(0,p.jsx)(tB,{pinDraftId:t})});case"tag":case"selectTag":case"collectionsTag":return(0,p.jsx)(a.xu,{marginBottom:5,children:(0,p.jsx)(tF.Z,{pinDraftId:t,pinItemId:r})});default:return null}}function t9(e){var t=(0,tO.nL)(),r=(0,o.useSelector)(function(t){return(0,tO.Xe)(t,e)}),n=(0,o.useSelector)(function(r){return t(r,e)});return(0,p.jsx)(t4,t6(t6({},e),{},{view:r,pinItemId:n}))}var t7=r(510476),re=r(956069),rt=r(327096);function rr(e){var t=e.children,r=e.showTooltip,n=(0,d.ZP)();return r?(0,p.jsx)(a.u,{inline:!0,text:n._('Collection product limit reached. To add another item, remove one or more products.', 'PinDraftFooter.AddRelatedProductsButton.tooltipText', 'Tooltip text that appears when user hovers over "Add related products" button and has already added the maximum number of related products allowed'),children:t}):t}function rn(e){var t,r,i,l=(0,d.ZP)(),s=e.pinDraftId,c=(0,rt.f)().setCurrentPinDraftId,u=(0,eB.vd)(),f=(0,o.useSelector)(function(t){return u(t,e)})||[],h=null!==(t=(0,o.useSelector)(function(e){return e.pinbuilder}))&&void 0!==t?t:{},y=null!==(r=h.pinTags)&&void 0!==r?r:{},m=null!==(i=h.taggedObjects)&&void 0!==i?i:{},g=(0,e2.n)({pinTagIds:f,pinTags:y,taggedObjects:m}),b=g.length,_=b>6,v=b>0,x=b>=re.tN;return(0,p.jsx)(n.Fragment,{children:(0,p.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",maxWidth:606,width:606,children:[(0,p.jsx)(a.xu,{marginStart:"auto",marginEnd:"auto",marginTop:5,marginBottom:5,"data-test-id":"collections-button",children:(0,p.jsx)(rr,{showTooltip:x,children:(0,p.jsx)(a.zx,{disabled:x,onClick:function(){return c(s)},text:l._('Make a collection', 'PinDraftInputView.addCollection', 'Button text to make a collection Pin')})})}),(0,p.jsxs)(a.xu,{display:"flex",paddingX:6,justifyContent:"center",width:"100%",marginBottom:5,children:[(0,p.jsx)(a.xu,{marginStart:v?"auto":0,children:(0,p.jsx)(a.xv,{size:"100",children:l._('Add up to 24 products to be displayed below your image', 'pinbuilder.relatedproducts.max.tagProducts', 'The maximum number of related products the user can tag')})}),v&&(0,p.jsx)(a.xu,{marginStart:"auto",children:(0,p.jsx)(a.xv,{size:"100",children:"".concat(b,"/24")})})]}),v&&(0,p.jsx)(eM.Z,{showArrowsOnlyOnHover:!1,alwaysShowArrows:_,variant:"wide",children:(0,p.jsx)(a.xu,{display:"flex",direction:"row",marginBottom:5,width:"100%",justifyContent:_?void 0:"center",children:g.map(function(e,t){var r=e.pinTagId,n=e.status,o=e.taggedObjectId;return(0,p.jsx)(a.xu,{children:(0,p.jsx)(t7.Z,{index:t,isRelatedProducts:!0,pinTagId:r,size:"sm",status:n,taggedObjectId:o},o)},o)})})})]})})}var ro=r(353356),ri=r(892819);function ra(e){return(ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rl(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==ra(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ra(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ra(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rc(e){var t=e.image,r=e.link,o=e.onClick,i=e.productDetails,l=e.selected,s=(0,ri.Z)(),c=(0,j.B)().locale,u=t.height,d=t.width,f=t.url,h=i||{},y=h.name,m=(h.offers||[])[0]||{},g=m.price_value,b=m.price_currency;return(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(a.iP,{fullWidth:!1,onTap:function(){var e,n,i,a,l,s;return o((l=(e={image:t,link:r}).image,s=e.link,rs(rs({},l),{},{id:null!==(n=l.url)&&void 0!==n?n:"",link:s,sourceURL:null!==(i=l.url)&&void 0!==i?i:"",src:null!==(a=l.url)&&void 0!==a?a:"",type:"webImage"})))},rounding:re.i9,children:(0,p.jsx)(a.zd,{rounding:re.i9,wash:!0,children:(0,p.jsx)(a.Ee,{alt:null!=f?f:"",naturalHeight:null!=u?u:1,naturalWidth:null!=d?d:1,src:null!=f?f:"",children:(0,p.jsx)(a.xu,{"data-test-id":"stl-scraped-item",dangerouslySetInlineStyle:{__style:l?{border:"solid red",borderRadius:4*re.i9}:{}},height:"100%",width:"100%"})})})}),g||y?(0,p.jsxs)(a.xu,{marginTop:2,children:[!!g&&g>0&&(0,p.jsx)(a.xu,{display:"flex",marginBottom:y?1:void 0,children:(0,p.jsx)(a.xv,{size:"200",weight:"bold",children:s(c,g,{currency:b,maximumFractionDigits:0,style:"currency"})})}),y&&(0,p.jsx)(a.xu,{width:"100%",children:(0,p.jsx)(a.xv,{overflow:"breakWord",size:"200",weight:"bold",children:y})})]}):null]})}function ru(e){var t=e.images,r=e.link,n=e.onItemClick,o=e.productDetails,i=e.selectedAssetIds;return(0,p.jsx)(a.xu,{marginTop:4,children:(0,p.jsx)(a.Rk,{columnWidth:re.Py,renderItem:function(e){var t=e.data;return(0,p.jsx)(rc,{image:t,link:r,onClick:n,productDetails:o,selected:i.includes(t.url)})},gutterWidth:re.op,items:t})})}var rd=r(984268),rf=function(e){var t=e.children,r=e.item;return"pin"===r.type?(0,p.jsx)(rd.v2,{input:{type:"deprecated",data:r},children:function(e){return t(null!=e?e:r.description)}}):t(r.url)};function rp(e){var t=e.item,r=e.onRemoveClick,n=(0,d.ZP)();if("pin"===t.type){var o,i,l,s,c,u,f,h=null!==(s=null!==(c=null===(u=t.images)||void 0===u?void 0:u["474x"])&&void 0!==c?c:null===(f=t.images)||void 0===f?void 0:f["236x"])&&void 0!==s?s:{};o=h.height,i=h.width,l=h.url}else o=t.height,i=t.width,l=t.url;return(0,p.jsxs)(a.xu,{position:"relative",children:[(0,p.jsx)(a.zd,{rounding:2,wash:!0,children:(0,p.jsx)(rf,{item:t,children:function(e){var t,r,n;return(0,p.jsx)(a.xu,{height:48,id:e,width:48,children:(0,p.jsx)(a.Ee,{alt:null!=e?e:"",naturalHeight:null!==(t=o)&&void 0!==t?t:1,naturalWidth:null!==(r=i)&&void 0!==r?r:1,src:null!==(n=l)&&void 0!==n?n:"",fit:"cover"})})}})}),(0,p.jsx)(a.xu,{position:"absolute",top:!0,right:!0,marginTop:-2,marginEnd:-2,children:(0,p.jsx)(a.hU,{accessibilityLabel:n._('Remove', 'StlTaggingCarouselRep.removeButton.accessibilityLabel', 'Accessibility label for button to remove the tagged object from the Pin'),bgColor:"gray",icon:"cancel",onClick:function(){return r(t)},size:"xs"})})]})}function rh(e){var t=e.onDismissStart,r=e.onRemove,n=e.onSubmit,o=e.selectedResults,i=(0,d.ZP)(),l=o.length;return(0,p.jsxs)(a.xu,{direction:"column",display:"flex",marginTop:-8,children:[l>0&&(0,p.jsx)(eM.Z,{children:(0,p.jsx)(a.xu,{display:"flex",paddingY:4,alignItems:"end",children:o.map(function(e,t){return(0,p.jsx)(a.xu,{marginStart:0===t?void 0:2,children:(0,p.jsx)(rp,{item:e,onRemoveClick:r})},e.id)})})}),(0,p.jsxs)(a.xu,{display:"flex",justifyContent:"end",marginTop:8,children:[(0,p.jsx)(a.zx,{onClick:t,text:i._('Cancel', 'StlTaggingSheetFooter.cancel', 'Button text to cancel adding product tags to a Pin')}),(0,p.jsx)(a.xu,{marginStart:2,"data-test-id":"add-products-button",children:(0,p.jsx)(a.zx,{color:"red",disabled:0===l,onClick:function(){n(),t()},text:0===l?i._('Add products', 'StlTaggingSheetFooter.addProducts', 'Button text to add product tags to a Pin'):(0,b.nk)(i.ngettext('Add {{ tagQuantity }} product', 'Add {{ tagQuantity }} products', l, 'Button text to add product tags to a Pin', 'Button text to add product tags to a Pin'),{tagQuantity:l}).join("")})})]})]})}var ry=r(121093),rm=r(869636),rg=r(437730),rb=r(566101),r_=r(977558);function rv(){var e=(0,d.ZP)();return(0,p.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:12,width:"100%",children:(0,p.jsx)(a.$j,{accessibilityLabel:e._('Search results are loading', 'StlTaggingSheet.searchLoadingSpinner.accessibilityLabel', 'Accessibility label for spinner shown when search results are loading'),show:!0})})}function rx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rP(e){var t,r=e.onClear,o=e.onLinkClick,i=e.onSubmit,l=e.showCatalogLink,s=e.type,c=(0,m.v)().logContextEvent,u=(0,d.ZP)(),f=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(""))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return rx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rx(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=f[0],y=f[1],g={titleUrl:{target:"catalogId",text:u._('Find a product by catalog ID instead', 'StlTaggingSearchField.link.titleUrl', 'Text on link to search for a product by catalog ID')},catalogId:{target:"titleUrl",text:u._('Find a product by Pin title or URL instead', 'StlTaggingSearchField.link.catalogId', 'Text on link to search for a product by Pin title or URL')}},b={titleUrl:u._('Search by product title or enter URL', 'StlTaggingSearchField.placeholder.titleUrl', 'Placeholder text on input to search for a product by product title or URL'),catalogId:u._('Enter catalog ID', 'StlTaggingSearchField.placeholder.catalogId', 'Placeholder text on input to search for a product by catalog ID')};return(0,p.jsxs)(a.xu,{color:"default",dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},direction:"column",display:"flex",children:[(0,p.jsx)("form",{onSubmit:function(e){e.preventDefault(),i(h)},role:"search",children:(0,p.jsx)(a.Um,{accessibilityLabel:b[s],autoComplete:"off",id:"STLTaggingSearchField",onChange:function(e){var t=e.value;y(t),""===t&&r()},onFocus:function(){c({event_type:101,component:13762,element:227,view_type:212})},placeholder:b[s],size:"lg",value:h})}),l&&(0,p.jsx)(a.xu,{display:"flex",justifyContent:"center",marginTop:2,children:(0,p.jsx)(a.iP,{fullWidth:!1,onTap:function(){return o(g[s].target)},children:(0,p.jsx)(a.xv,{align:"center",color:"shopping",inline:!0,size:"200",children:(0,p.jsx)("span",{style:{textDecoration:"underline"},children:g[s].text})})})})]})}function rO(e){var t,r=e.onClick,n=e.pin,o=e.selected,i=(0,rd.jy)({type:"deprecated",data:n}),l=(0,rd.LG)({type:"deprecated",data:n}),s=n.description,c=n.images,u=(null==c?void 0:c["474x"])||(null==c?void 0:c["236x"])||{},d=u.height,f=u.width,h=u.url;return(0,p.jsxs)(a.xu,{direction:"column",display:"flex","data-test-id":"stl-tagging-pin-rep",children:[(0,p.jsx)(a.iP,{fullWidth:!1,onTap:function(){return r(n)},rounding:re.i9,children:(0,p.jsx)(a.zd,{rounding:re.i9,wash:!0,children:(0,p.jsx)(a.Ee,{alt:null!==(t=null!=i?i:s)&&void 0!==t?t:"",naturalHeight:null!=d?d:1,naturalWidth:null!=f?f:1,src:null!=h?h:"",children:(0,p.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:o?{border:"solid red",borderRadius:4*re.i9}:{}},height:"100%",width:"100%"})})})}),l||i?(0,p.jsxs)(a.xu,{marginTop:2,children:[l&&(0,p.jsx)(a.xu,{display:"flex",marginBottom:i?1:void 0,children:(0,p.jsx)(a.xv,{size:"200",weight:"bold",children:l})}),i&&(0,p.jsx)(a.xu,{width:"100%",children:(0,p.jsx)(a.xv,{overflow:"breakWord",size:"200",weight:"bold",children:i})})]}):null]})}function rj(e){var t=e.onItemClick,r=e.results,n=e.selectedAssetIds;return(0,p.jsx)(a.xu,{marginTop:2,children:(0,p.jsx)(a.Rk,{columnWidth:re.Py,renderItem:function(e){var r=e.data;return(0,p.jsx)(rO,{onClick:t,pin:r,selected:n.includes(r.id)})},gutterWidth:re.op,items:r})})}function rS(e){var t=e.hasResults,r=e.query,o=e.searchFieldType,i=(0,m.v)().logContextEvent,l=(0,d.ZP)();if((0,n.useEffect)(function(){t&&i({event_type:60,component:13762,view_type:212,aux_data:{has_search_results:!!t}})},[i,t]),!r)return(0,p.jsx)(a.xv,{color:"subtle",inline:!0,weight:"bold",size:"400",children:l._('Choose image to create a new Pin', 'StlTaggingSearchResults', 'Title for grid showing images scraped from URL that user can choose to create a new Pin while tagging products for an existing Pin')});var s=t?l._('Results for {{ searchQuery }}', 'StlTaggingSearchResults.query.results', 'Text for display of search results for given query'):l._('No results found for {{ searchQuery }}', 'StlTaggingSearchResults.query.noResults', 'Text for display of no search results for given query');return"catalogId"===o&&(s=t?l._('Catalog match for {{ searchQuery }}', 'StlTaggingSearchResults.query.catalogId.results', 'Text for display of search results for given query'):l._('No catalog matches for {{ searchQuery }}', 'StlTaggingSearchResults.query.noResults', 'Text for display of no search results for given query')),(0,p.jsx)(a.xv,{color:"subtle",inline:!0,weight:"bold",size:"400",children:(0,b.nk)(s,{searchQuery:(0,p.jsx)(a.xv,{inline:!0,weight:"bold",size:"400",children:'"'.concat(r,'"')},r)})})}var rw=r(277348);function rE(e){return(rE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rA(e){return function(e){if(Array.isArray(e))return rz(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rR(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rI(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function rC(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){rI(i,n,o,a,l,"next",e)}function l(e){rI(i,n,o,a,l,"throw",e)}a(void 0)})}}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==rE(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rE(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rE(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||rR(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rR(e,t){if(e){if("string"==typeof e)return rz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rz(e,t)}}function rz(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var rL=new a.Ry(r_.fe),rM=function(e){var t,r,i,l,s=(0,m.v)().logContextEvent,c=(0,d.ZP)(),u=(0,rt.f)(),f=u.setCurrentPinDraftId,h=u.setStlTaggedCoord,y=u.setMostRecentTaggedObjectId,g=u.shopTheLook;(0,rm.Z)(1000335);var b=e.pinItemId,v=rk((0,n.useState)("titleUrl"),2),x=v[0],P=v[1],O=rk((0,n.useState)([]),2),S=O[0],E=O[1],A=rk((0,n.useState)(null),2),I=A[0],C=A[1],T=rk((0,n.useState)(!1),2),D=T[0],k=T[1],R=rk((0,n.useState)(null),2),z=R[0],L=R[1],M=rk((0,n.useState)(null),2),N=M[0],B=M[1],F=rk((0,n.useState)(),2),Z=F[0],U=F[1],H=(0,W.Z)(),V=rk((0,n.useState)(null),2),G=V[0],X=V[1],q=(0,o.useDispatch)(),K=(0,j.B)(),$=(0,w.Z)(),J=(0,Y.lJ)($,H)||$.isAuth&&$.id,Q=(0,Y._P)(K,$,H),ee=S.map(function(e){return e.id}),et=g.stlTaggedCoords,er=!et,en=(0,eB.vd)(),eo=null!==(i=(0,o.useSelector)(function(t){return en(t,e)}))&&void 0!==i?i:[],ei=null!==(l=(0,o.useSelector)(function(e){return e.pinbuilder}))&&void 0!==l?l:{},ea=ei.closeupImageSignature,el=ei.pinTags,es=ei.taggedObjects,ec=(0,e2.n)({pinTagIds:eo,pinTags:el,taggedObjects:es}),eu=re.tN-ec.length,ed=ee.length>=eu,ef=function(){L(null),C(null),B(null)},ep=function(){f(null),h(null)};(0,n.useEffect)(function(){s({event_type:13,component:13762,view_type:212,aux_data:rD({},ea?{image_signature:ea}:{})})},[]),(0,n.useEffect)(function(){return function(){ep()}},[]);var eh=function(e){s({event_type:60,component:13762,element:227,view_type:212,aux_data:{search_query:e.query,search_type:e.searchType}})},ey=function(e){X(null),eh({query:e,searchType:"url"});var t=(0,rg.Z)({url:e});(0,ej.Z)({url:"/v3/products/find/",data:rD({fields:["productmetadata.name","productmetadata.offers"],url:t,source:er?"collection":"merchant"},J!==$.id?{orbac_subject_id:J}:{})}).then(function(e){var r=(e.resource_response||{}).data;B(t),U(r)}).catch(function(e){X({title:e.message_detail||e.message})})},em=(t=rC(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(k(!0),L(t),eh({query:t,searchType:"title"}),!J){e.next=11;break}return r=tZ.Z.create("BaseSearchResource",{user:J,query:t,commerce_only:!0}),e.next=7,r.callGet();case 7:C(e.sent.resource_response.data.results.filter(function(e){return"pin"===e.type}));case 11:k(!1);case 12:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),eg=(r=rC(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return eh({query:t,searchType:"id"}),k(!0),L(t),r=tZ.Z.create("ProductGroupItemIdPinResource",rD({merchantId:Q,filters:{1:[t]},itemId:t},J!==$.id?{orbacSubjectId:J}:{})),e.next=7,r.callGet();case 7:C(e.sent.resource_response.data.reduce(function(e,t){if(t){if(t.type="pin",t.rich_metadata){var r,n=null!==(r=t.rich_metadata.url)&&void 0!==r?r:t.rich_metadata.id;(0,rb.Z)({url:n})&&(t.link=n)}return[].concat(rA(e),[t])}return e},[])),k(!1);case 12:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),eb=function(e){ef();var t=e.trim();"catalogId"===x?eg(t):(0,rb.Z)({url:t})?ey(t):em(t)},e_=function(e){if(X(null),ee.includes(e.id))E(S.filter(function(t){return t.id!==e.id}));else{if(ed){X({title:c._('Related product limit reached', 'StlTaggingSheet.relatedProducts.limitErrorTitle', 'Title for error message that the user has already entered the maximum number of related products'),message:c._('To add another item, remove one or more related products', 'StlTaggingSheet.relatedProducts.limitErrorMessage', 'Message for error message that the user has already entered the maximum number of related products')});return}E(function(t){return[].concat(rA(t),[e])})}},ev=function(e,t,r){t&&r&&q((0,rw.uM)(e,t,r))},ex=function(e,t){var r,n,o=null==et?void 0:et.xPercent,i=null==et?void 0:et.yPercent;if("webImage"===t.type){q((0,rw.mz)(e,t.link||t.sourceURL,null)),ev(e,o,i);var a={height:t.height,width:t.width,url:t.src};q((0,rw.Dn)(e,t.id,{media:a,type:t.type,pin:t}))}else"pin"===t.type&&(q((0,rw.mz)(e,null!==(r=t.link)&&void 0!==r?r:"",null)),ev(e,o,i),y(t.id),q((0,rw.Dn)(e,t.id,{media:null===(n=t.images)||void 0===n?void 0:n["474x"],type:t.type,pin:t})));q((0,eS.C_)(b,e))},eP=function(){var e=(0,ro.Z)();return q((0,eS.oe)(b,e)),e},eO=function(e,t){ex(eP(),e),t()},ew=function(){var e=eP();S.forEach(function(t){return ex(e,t)})},eE=(0,n.useMemo)(function(){return new a.H3([rL])},[rL]),eA=(0,n.useMemo)(function(){return new a.H3([eE])},[eE]),eI=(0,n.useRef)(null),eC=N&&!!Z&&Z.images.length>0&&Z.images.find(function(e){return!e.toLowerCase().includes("svg")});return(0,p.jsx)(a.mh,{zIndex:eE,children:(0,p.jsx)(a.To,{accessibilityDismissButtonLabel:c._('Cancel tagging products', 'StlTaggingSheet.Sheet.accessibilityDismissButtonLabel', 'Accessibility label for button to cancel tagging products and close the sheet'),accessibilityLabel:c._('Tag products for this Pin', 'StlTaggingSheet.Sheet.accessibilitySheetLabel', 'Accessibility label for the sheet to tag products for a Pin'),closeOnOutsideClick:!1,footer:function(e){var t=e.onDismissStart;return er?(0,p.jsx)(rh,{onDismissStart:t,onRemove:e_,onSubmit:ew,selectedResults:S}):null},heading:er?c._('Make a collection', 'StlTaggingSheet.sheet.header.relatedProducts', 'Heading for sheet allowing user to tag related products shown in this Pin'):c._('Tag this product', 'StlTaggingSheet.sheet.header.coordinates', 'Heading for sheet allowing user to tag products shown in this Pin'),onDismiss:ep,size:"sm",subHeading:(0,p.jsx)(a.xu,{paddingX:8,children:(0,p.jsx)(rP,{onClear:ef,onLinkClick:function(e){P(e),ef()},onSubmit:function(e){eb(e)},showCatalogLink:!!Q,type:x},x)}),children:function(e){var t,r=e.onDismissStart;return(0,p.jsxs)(a.xu,{ref:eI,children:[(0,p.jsx)(ry.Z,{placementId:1000335,eligibleIds:[502964],children:function(e){var t=e.complete;return(0,p.jsx)(a.Li,{zIndex:eA,anchor:eI.current,idealDirection:"down",onDismiss:t,message:c._('Collections make it easier for people to find products and bring their inspiration to life. Add up to 24 more items for display under your image', 'pinbuilder.shopTheLook.collections', 'Flyout to help merchants understand why they should use Collections'),primaryAction:{href:"https://pinterest.com/_/_/help/business/article/shop-the-look-product-tagging",target:"blank",text:c._('Learn more', 'pinbuilder.shopTheLook.learnMoreButton', 'Learn more about collections'),role:"link"}})}}),G&&(0,p.jsx)(a.xu,{marginTop:-4,children:(0,p.jsx)(a.ci,{dismissButton:{accessibilityLabel:c._('Dismiss', 'StlTaggingSheet.Callout.dismissButton.accessibilityLabel', 'Accessibility label for button to dismiss error callout'),onDismiss:function(){return X(null)}},iconAccessibilityLabel:c._('Error', 'StlTaggingSheet.Callout.iconAccessibilityLabel', 'Accessibility label for error icon'),message:null!==(t=G.message)&&void 0!==t?t:"",title:G.title,type:"error"})}),z&&!D||N?(0,p.jsx)(a.xu,{marginTop:G?4:-4,children:(0,p.jsx)(rS,{hasResults:I?I.length>0:void 0,query:z,searchFieldType:x})}):null,z&&(0,p.jsxs)(n.Fragment,{children:[D&&(0,p.jsx)(rv,{}),(0,p.jsx)(rj,{onItemClick:er?e_:function(e){return eO(e,r)},results:null!=I?I:[],selectedAssetIds:ee})]}),N&&!!Z&&Z.images.length>0&&eC&&(0,p.jsx)(_.Z,{url:eC,children:function(e){var t,o=e.image;return(0,p.jsx)(n.Fragment,{children:o&&(0,p.jsx)(ru,{onItemClick:er?e_:function(e){return eO(e,r)},images:o,link:N,productDetails:null==Z?void 0:null===(t=Z.products)||void 0===t?void 0:t[0],selectedAssetIds:ee})})}},eC)]})}})})},rN=r(82596);function rB(e){var t=e.pinDraftId;return(0,p.jsx)(a.xu,{height:64,width:64,rounding:2,children:(0,p.jsx)(rN.Z,{pinDraftId:t,type:"square"})})}var rF=r(298361),rZ=r(170168),rU=r(438112),rH=r(580189);function rV(e){return(rV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rG(Object(r),!0).forEach(function(t){r$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rG(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rJ(n.key),n)}}function rX(e,t){return(rX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rq(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rK(e){return(rK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r$(e,t,r){return(t=rJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rJ(e){var t=function(e,t){if("object"!==rV(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rV(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rV(t)?t:String(t)}var rQ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rX(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=rK(i);if(t){var n=rK(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===rV(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return rq(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r$(rq(e=o.call.apply(o,[this].concat(r))),"handleActionClick",function(t){return function(r){var n=t.elementType,o=t.onClick;n&&e.props.logContextEvent({event_type:101,component:13308,element:n}),o&&o(r)}}),e}return r=[{key:"render",value:function(){var e,t,r=this.props,n=r.primary,o=r.secondary,i=null!==(e=n.linkUrl)&&void 0!==e?e:null,l=null!==(t=null==o?void 0:o.linkUrl)&&void 0!==t?t:null;return(0,p.jsxs)(a.xu,{display:"flex",marginStart:-1,marginEnd:-1,children:[!!o&&(0,p.jsx)(a.xu,{paddingX:1,children:l?(0,p.jsx)(a.ZP,{color:"white",text:o.text,onClick:this.handleActionClick(o),href:l,target:"blank"}):(0,p.jsx)(a.zx,{color:"white",text:o.text,onClick:this.handleActionClick(o)})}),(0,p.jsx)(a.xu,{paddingX:1,children:i?(0,p.jsx)(a.ZP,{text:n.text,onClick:this.handleActionClick(n),href:i,target:"blank"}):(0,p.jsx)(a.zx,{text:n.text,onClick:this.handleActionClick(n)})})]})}}],rY(i.prototype,r),n&&rY(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function r0(e){var t=(0,m.v)().logContextEvent;return(0,p.jsx)(rQ,rW(rW({},e),{},{logContextEvent:t}))}function r1(e){var t=e.onClear,r=(0,d.ZP)(),n=r._('Clear', 'Tooltip shown explaining button to clear published Pin', 'Tooltip shown explaining button to clear published Pin');return(0,p.jsx)(a.u,{text:n,children:(0,p.jsx)(a.iP,{fullWidth:!1,onTap:t,rounding:"circle",children:(0,p.jsx)(a.JO,{accessibilityLabel:n,color:"default",icon:"clear",size:20})})})}var r2={__style:{borderRadius:2}};function r8(e){var t=e.subtitle,r=e.title,n=(0,d.ZP)();return(0,p.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,p.jsx)(a.X6,{color:r?"default":"subtle",size:"400",children:r||n._('No title', 'Fallback title shown if none is provided on Pin create', 'Fallback title shown if none is provided on Pin create')}),!!t&&(0,p.jsx)(a.xu,{marginTop:1,children:"progress"===t.type?(0,p.jsx)(a.xu,{color:"secondary",dangerouslySetInlineStyle:r2,height:6,overflow:"hidden",position:"relative",width:316,children:(0,p.jsx)(a.xu,{bottom:!0,left:!0,top:!0,color:"primary",dangerouslySetInlineStyle:r2,position:"absolute",width:"".concat(t.progress,"%")})}):(0,p.jsx)(a.xv,{size:"100",children:t.text})})]})}function r3(e){var t=e.color,r=e.text;return(0,p.jsx)(a.xv,{color:t,italic:!0,children:r})}function r5(e){var t=e.status,r=(0,d.ZP)();if("default"===t)return(0,p.jsx)(a.xu,{width:20,height:20,color:"tertiary",rounding:"circle"});var n={error:{accessibilityLabel:r._('Error', 'Screen reader label for failed Pin create', 'Screen reader label for failed Pin create'),color:"error",icon:"alert"},warning:{accessibilityLabel:r._('Alert', 'Screen reader label for Pin create with message', 'Screen reader label for Pin create with message'),color:"warning",icon:"check-circle"},success:{accessibilityLabel:r._('Success', 'Screen reader label for success Pin create', 'Screen reader label for success Pin create'),color:"success",icon:"check-circle"}}[t],o=n.accessibilityLabel,i=n.color,l=n.icon;return(0,p.jsx)(a.JO,{accessibilityLabel:o,color:i,icon:l,size:20})}var r6=r(923490);function r4(e){return(r4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function r7(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?r9(Object(r),!0).forEach(function(t){no(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r9(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ni(n.key),n)}}function nt(e,t){return(nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nr(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function no(e,t,r){return(t=ni(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ni(e){var t=function(e,t){if("object"!==r4(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==r4(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r4(t)?t:String(t)}var na=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nt(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=nn(i);if(t){var n=nn(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===r4(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return nr(e)}(this,e)});function i(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i),no(nr(t=o.call(this,e)),"_timeSuccessUpdated",new Date),no(nr(t),"handleMouseEnter",function(){t.setState({hovered:!0})}),no(nr(t),"handleMouseLeave",function(){t.setState({hovered:!1})}),no(nr(t),"getSubtitleText",function(){var e=t.props,r=e.videoErrorMsg,n=e.pin,o=e.scheduledPin;if(o)return(0,b.nk)(t.props.i18n._('Scheduled {{ elapsedTime }}', 'Text shown notifying user how long ago a Pin was schedule', 'Text shown notifying user how long ago a Pin was schedule'),{elapsedTime:t.props.getHumanizedTimeSince(o.created_at,!0)}).join("");if(n){var i=t.props.getHumanizedTimeSince(n.created_at,!0);return 3===n.video_status?(0,b.nk)(t.props.i18n._('Uploaded {{ elapsedTime }}', 'Text shown notifying user how long ago a video Pin was uploaded', 'Text shown notifying user how long ago a video Pin was uploaded'),{elapsedTime:i}).join(""):(0,b.nk)(t.props.i18n._('Published {{ elapsedTime }}', 'Text shown notifying user how long ago a Pin was created', 'Text shown notifying user how long ago a Pin was created'),{elapsedTime:i}).join("")}if(r)return(0,b.nk)(t.props.i18n._('Attempted {{ elapsedTime }}', 'Text shown notifying user how long ago a video Pin upload was attempted', 'Text shown notifying user how long ago a video Pin upload was attempted'),{elapsedTime:t.props.getHumanizedTimeSince(t._timeSuccessUpdated.toString(),!0)}).join("")}),no(nr(t),"getSubtitle",function(){var e=t.props.videoUploadProgress,r=t.state.subtitleText;return null!=e?{progress:e,type:"progress"}:r?{text:r,type:"text"}:void 0}),no(nr(t),"getText",function(){var e=t.props,r=e.pin,n=e.requestContext,o=e.scheduledPin;return null!=e.videoUploadProgress?t.props.i18n._('Uploading', 'Text shown notifying user video is still uploading', 'Text shown notifying user video is still uploading'):r&&3===r.video_status?t.props.i18n._('In review', 'Text shown notifying user video is uploaded but not live', 'Text shown notifying user video is uploaded but not live'):o?(0,ea.Z)(t.props.i18n._('This Pin will publish on {{ scheduledDate }}', 'Text shown notifying user when Pin is scheduled to create', 'Text shown notifying user when Pin is scheduled to create'),{scheduledDate:new Date(1e3*o.scheduled_ts).toLocaleDateString(n.locale,{weekday:"long",month:"numeric",day:"numeric"})}):void 0}),no(nr(t),"getActions",function(){var e,r=t.props,n=r.experimentsClient,o=r.pin,i=r.retryUpload,a=r.requestContext,l=r.siteType,s=r.videoErrorMsg,c={elementType:11334,text:t.props.i18n._('See it', 'Button to see created Pin', 'Button to see created Pin'),linkUrl:(0,rH.Z)({currentSiteType:l,destinationSiteType:0,inputPath:o?"/pin/".concat(o.id):""})},u=a.advertiser,d=n.checkExperiment,f=(0,rU.aI)(n)&&(null==u?void 0:null===(e=u.segment_metadata)||void 0===e?void 0:e.sales_channel)!=="ENTERPRISE"&&(null==u?void 0:u.has_valid_billing_profile),p=u&&f&&d("adv_growth_pinbuilder_acf_entrypoint").anyEnabled,h=o&&o.is_quick_promotable?{elementType:11335,text:t.props.i18n._('Promote', 'Button to quick promote created Pin', 'Button to quick promote created Pin'),linkUrl:p?"".concat(rZ.vI,"/automated/ads/create?pinId=").concat(o.id):(0,rH.Z)({currentSiteType:l,destinationSiteType:0,inputPath:"/pin/".concat(o.id,"/promote")})}:void 0,y=s?{elementType:11333,text:t.props.i18n._('Try again?', 'Button to try video upload again', 'Button to try video upload again'),onClick:i}:null;return{primary:y||h||c,secondary:!y&&h?c:void 0}}),no(nr(t),"getStatus",function(){var e=t.props,r=e.pin,n=e.scheduledPin,o=e.videoErrorMsg;return null!=e.videoUploadProgress?"default":n||r&&3===r.video_status?"warning":o?"error":"success"}),t.state={hovered:!1,subtitleText:t.getSubtitleText()},t}return r=[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){return e.setState({subtitleText:e.getSubtitleText()})},6e4)}},{key:"componentDidUpdate",value:function(e){(e.pin!==this.props.pin||e.videoErrorMsg!==this.props.videoErrorMsg)&&(this._timeSuccessUpdated=new Date,this.setState({subtitleText:this.getSubtitleText()}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.clearPinDraft,r=e.pinDraftId,n=e.title,o=e.videoErrorMsg,i=e.videoUploadProgress,l=this.state.hovered,s=this.getText(),c=o||s;return(0,p.jsxs)(a.xu,{alignItems:"center","data-test-id":"pin-draft-success",display:"flex",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,paddingX:2,paddingY:5,children:[(0,p.jsx)(a.xu,{flex:"none",paddingX:3,children:(0,p.jsx)(rB,{pinDraftId:r})}),(0,p.jsx)(a.xu,{flex:"grow",paddingX:3,children:(0,p.jsx)(r8,{subtitle:this.getSubtitle(),title:n})}),(0,p.jsxs)(a.xu,{alignItems:"center",display:"flex",flex:"none",marginEnd:-3,marginStart:-3,paddingX:2,children:[!!c&&(0,p.jsx)(a.xu,{paddingX:3,children:(0,p.jsx)(r3,{color:o?"error":"subtle",text:c})}),!s&&(0,p.jsx)(a.xu,{paddingX:3,children:(0,p.jsx)(r0,r7({},this.getActions()))})]}),(0,p.jsx)(a.xu,{flex:"none",paddingX:3,children:l&&null==i?(0,p.jsx)(r1,{onClear:t}):(0,p.jsx)(r5,{status:this.getStatus()})})]})}}],ne(i.prototype,r),n&&ne(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function nl(e){var t=e.pinDraftId,r=e.pinItemId,n=(0,m.v)().logContextEvent,i=(0,d.ZP)(),a=(0,s.Z)(),l=(0,rF.Z)(),c=(0,o.useDispatch)(),u=(0,w.Z)(),f=u.isAuth?u.id:"",h=u.isAuth?u.country:"",y=(0,S.Z)(),g=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[t].scheduledPin}),b=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[t].mediaError}),_=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[t].status}),v=(0,o.useSelector)(function(e){var r=e.pinbuilder,n=r.pinDrafts;return r.pinItems[n[t].pinItemIds[n[t].pinItemIndex]].title}),x=(0,o.useSelector)(function(e){var r=e.pinbuilder,n=r.pinDrafts;return r.pinItems[n[t].pinItemIds[n[t].pinItemIndex]].media}),P=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[t].pinId}),E=(0,O.F)().checkExperiment,A=(0,D.S6)(),I=P?A(P):null,C=x&&"localVideo"===x.type?b:null,T=x&&"localVideo"===x.type&&"uploading"===_?x.uploadProgress||0:null;return(0,p.jsx)(na,r7(r7({},e),{},{requestContext:(0,j.B)(),clearPinDraft:function(){return c((0,tc.Z)(t))},retryUpload:function(){return c((0,r6.d)({pinDraftId:t,pinItemId:r,userId:f,country:h,i18n:i,logContextEvent:n,checkExperiment:E,ideaPinRenamingEnabled:a}))},getHumanizedTimeSince:l,i18n:i,siteType:y,scheduledPin:g,title:v,pin:I,videoErrorMsg:C,videoUploadProgress:T,experimentsClient:(0,O.F)()}))}var ns=r(302667),nc=r(460985),nu=r(639410),nd=r(121151),nf=r(641692);function np(e){return(np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ny(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nh(Object(r),!0).forEach(function(t){nv(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nx(n.key),n)}}function ng(e,t){return(ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nb(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n_(e){return(n_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nv(e,t,r){return(t=nx(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nx(e){var t=function(e,t){if("object"!==np(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==np(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===np(t)?t:String(t)}var nP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ng(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=n_(i);if(t){var n=n_(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===np(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return nb(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return nv(nb(e=o.call.apply(o,[this].concat(r))),"state",{showModal:!0}),nv(nb(e),"handlePromoteButtonClick",function(){var t=e.props,r=t.inPinBuilderAcfEntrypointExp,n=t.onComplete,o=t.logContextEvent;(0,ns.vF)(o,nf.NH.CLICK,nf.Xc.PIN_CREATE_SUCCESS,101,207),r||n()}),nv(nb(e),"handleDismiss",function(){var t=e.props.onDismiss;e.setState({showModal:!1}),t()}),nv(nb(e),"renderDoneButton",function(){var t=e.props.promoteUrl;return(0,p.jsx)(a.xu,{paddingX:1,children:(0,p.jsx)(a.ZP,{color:"red",href:t,onClick:e.handlePromoteButtonClick,text:e.props.i18n._('Promote Pin', '[m10n] button text for promote link in promote modal', '[m10n] button text for promote link in promote modal')})})}),e}return r=[{key:"componentDidMount",value:function(){(0,ns.vF)(this.props.logContextEvent,nf.NH.RENDER,nf.Xc.PIN_CREATE_SUCCESS,120,207),(0,k.nP)("web.pin_create.success.promote.upsell")}},{key:"renderModalContent",value:function(){var e=this.props,t=e.pin,r=e.video,n=t.pinner;return(0,p.jsxs)(a.xu,{position:"relative",maxWidth:804,overflow:"hidden",display:"flex",color:"default",rounding:2,maxHeight:"calc(100vh - 32px)",children:[(0,p.jsx)(a.xu,{display:"flex",justifyContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid #EFEFEF"}},children:(0,p.jsx)(a.xu,{display:"flex",maxHeight:"700px",paddingX:8,paddingY:10,children:(0,p.jsx)(nc.ZP,{pin:t,video:r,maxDescriptionLength:60,promoted:{businessName:n.full_name,avatarImageSmallUrl:n.image_small_url}})})}),(0,p.jsx)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:(0,p.jsxs)(a.xu,{paddingY:10,children:[(0,p.jsx)(a.xu,{marginStart:10,display:"flex",children:(0,p.jsx)(a.X6,{children:this.props.i18n._('You created a Pin!', 'pin create success message for modal title', 'pin create success message for modal title')})}),(0,p.jsx)(a.xu,{marginStart:10,marginTop:6,children:(0,p.jsx)(a.xv,{weight:"bold",children:this.props.i18n._('Promote your Pin to reach more people', '[m10n] header for promote pin upsell', '[m10n] header for promote pin upsell')})}),(0,p.jsx)(a.xu,{marginStart:10,marginTop:3,marginBottom:8,children:(0,p.jsx)(a.xv,{children:(0,b.nk)(this.props.i18n._('{{ mauText }} people come to Pinterest every month to find new things to buy, make and do. Promote your Pin to find your audience.', '[m10n] body copy for promote pin upsell. MAU_TEXT is a string of xxx million', '[m10n] body copy for promote pin upsell. MAU_TEXT is a string of xxx million'),{mauText:(0,p.jsx)(nu.Z,{})})})}),this.renderButtons()]})}),(0,p.jsx)(a.xu,{paddingY:2,paddingX:2,children:(0,p.jsx)(a.hU,{accessibilityLabel:"dismiss",bgColor:"transparent",icon:"cancel",iconColor:"gray",onClick:this.handleDismiss,size:"md"})})]})}},{key:"renderButtons",value:function(){var e=this.props,t=e.onDismiss,r=e.pinUrl;return(0,p.jsxs)(a.xu,{marginStart:9,display:"flex",children:[(0,p.jsx)(a.xu,{paddingX:1,"data-test-id":"seeItNow",children:(0,p.jsx)(a.ZP,{href:r,onClick:t,text:this.props.i18n._('See your Pin', '[m10n] button text for pin link button in promote modal', '[m10n] button text for pin link button in promote modal')})}),this.renderDoneButton()]})}},{key:"render",value:function(){return this.state.showModal?(0,p.jsx)(a.xu,{position:"fixed",justifyContent:"center",alignItems:"center",display:"flex",column:12,height:"100%",width:"100%",left:!0,top:!0,dangerouslySetInlineStyle:{__style:{boxSizing:"border-box"}},children:(0,p.jsx)(nd.ZP,{accessibilityModalLabel:this.props.i18n._('Your saved Pin.', 'Label for a modal showing the pin the user just created.', 'Label for a modal showing the pin the user just created.'),onDismiss:this.handleDismiss,size:"md",children:this.renderModalContent()})}):null}}],nm(i.prototype,r),n&&nm(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function nO(e){var t,r=e.pin,n=(0,d.ZP)(),o=(0,m.v)().logContextEvent,i=(0,O.F)(),a=(0,j.B)().advertiser,l=i.checkExperiment,s=(0,rU.aI)(i)&&(null==a?void 0:null===(t=a.segment_metadata)||void 0===t?void 0:t.sales_channel)!=="ENTERPRISE"&&(null==a?void 0:a.has_valid_billing_profile)&&l("adv_growth_pinbuilder_acf_entrypoint").anyEnabled,c="";return a&&s&&(c="".concat(rZ.vI,"/advertiser/").concat(a.id,"/automated/ads/create/?pinId=").concat(r.id)),(0,p.jsx)(nP,ny(ny({},e),{},{i18n:n,inPinBuilderAcfEntrypointExp:s,logContextEvent:o,promoteUrl:s?c:e.promoteUrl}))}var nj=r(248740),nS=r(709773),nw=r(21353),nE=r(497529),nA=(0,r(784450).Z)(14,function(e){return{pin_id:e.pinId}})(function(e){var t,r=e.boardName,n=e.color,o=e.description,i=e.eligibleForExtensionUpsell,l=e.experience,s=e.imageUrl,c=e.isFromPinBuilder,u=e.link,f=e.onClose,h=e.openNewTab,y=e.pin,m=void 0===y?void 0:y,g=e.pinId,_=e.sectionName,v=e.siteType,x=e.video,P=e.websiteMedia,j=(0,d.ZP)(),S=(0,w.Z)(),E=(0,nE.Z)(),A=(0,O.F)().checkExperiment,I=(0,nw.Z)(),C=function(){return l&&[501001].includes(l.experience_id)},T=(0,rH.Z)({currentSiteType:v,destinationSiteType:0,inputPath:"/pin/".concat(g)}),D=A("advertiser_growth_quick_promote_direct_redirect").anyEnabled;if(t=3===v?"".concat(I("quick_promote"),"?pinId=").concat(m.id):(0,rH.Z)({currentSiteType:v,destinationSiteType:0,inputPath:D?"/advertiser/quick-promote/?pinId=".concat(g):"/pin/".concat(g,"/promote")}),S.isPartner&&m&&m.is_quick_promotable)return(0,p.jsx)(nO,{pin:m,pinUrl:T,promoteUrl:t,onDismiss:function(){C()&&E.dismissExperience(l.placement_id,l.experience_id),f()},onComplete:function(){C()&&E.completeExperience(l.placement_id,l.experience_id),f()},siteType:v,video:x});var k=m&&r?m.board.url:"",R=_?"".concat(k).concat(m.section.slug,"/"):"";if(c&&i){var z=(null==m?void 0:m.id)||"";return(0,p.jsx)(a.xu,{"data-test-id":"browser-extension-upsell-modal_".concat(z),children:(0,p.jsx)(nd.ZP,{accessibilityModalLabel:j._('Get the Pinterest browser extension', 'label.extensionUpsellModal.addPinDropdown', 'Accesibility label for browser extension upsell modal'),onDismiss:f,size:"sm",children:(0,p.jsx)(nj.Z,{isExtensionInstalled:!1,isFromPinBuilder:!0,onHide:f,onInstall:f})})})}return(0,p.jsx)(nd.ZP,{accessibilityModalLabel:j._('Your saved Pin.', 'Label for a modal showing the pin the user just created.', 'Label for a modal showing the pin the user just created.'),onDismiss:f,heading:(0,p.jsx)(a.xu,{padding:8,children:(0,p.jsx)(a.X6,{align:"center",size:"500",children:_?(0,b.nk)(j._('Saved to {{ sectionName }} in {{ boardName }}', 'pinCreateSuccess.Option2Modal.savedToSection', 'Text and link for section and board that pin was saved to.'),{boardName:(0,p.jsx)(a.rU,{href:R,display:"inlineBlock",underline:"hover",children:_},"sectionLink"),sectionName:(0,p.jsx)(a.rU,{href:k,display:"inlineBlock",underline:"hover",children:r},"boardLink")}):(0,b.nk)(j._('Saved to {{ boardName }}', 'pinCreateSuccessModal.Option2Modal.savedToBoard', 'Text and link for board that pin was saved to.'),{boardName:(0,p.jsx)(a.rU,{href:k,display:"inlineBlock",underline:"hover",children:r},"boardLink")})})}),size:"md",children:(0,p.jsx)(nS.Z,{hideHeader:!0,boardName:r,color:n,description:o,imageUrl:s,link:u,onClose:f,openNewTab:h,pin:m,pinId:g,sectionName:_,siteType:v,video:x,websiteMedia:P})})}),nI=r(299487),nC=r(844974),nT=r(339363),nD=r(704115),nk=r(782534);function nR(e){var t=e.image,r=e.localMedia,n=e.title,o=e.videos;return t&&r?o?(0,p.jsx)(a.nk,{aspectRatio:t.width/t.height,autoplay:!0,captions:n,loop:!0,onPlay:function(){},onPlayError:function(){},src:r}):(0,p.jsx)(a.Ee,{alt:n||"",color:"lightGray",naturalHeight:t.height,naturalWidth:t.width,src:r}):null}function nz(e){var t=e.onDismiss,r=e.scheduledPin,n=(0,d.ZP)(),o=(0,w.Z)(),i=(0,j.B)(),l=(0,W.Z)(),s=(0,Y.Ms)(o,l),c=r.image,u=r.localMedia,f=r.scheduled_ts,h=r.title,y=r.videos,m=new Date(1e3*f),g=c&&c["236x"];return(0,p.jsx)(nd.ZP,{accessibilityModalLabel:n._('Your scheduled pin.', 'Label for a modal showing the pin the user just scheduled.', 'Label for a modal showing the pin the user just scheduled.'),onDismiss:t,heading:n._('Pin Scheduled', 'Header of modal for scheduling a pin successfully', 'Header of modal for scheduling a pin successfully'),size:"md",footer:(0,p.jsx)(a.kC,{alignItems:"stretch",justifyContent:"end",children:(0,p.jsx)(a.xu,{paddingX:1,"data-test-id":"see-scheduled-pin-button",children:(0,p.jsx)(a.ZP,{color:"red",href:"".concat(rZ.C0,"/").concat(s,"/scheduled-pins/"),text:n._('See Scheduled Pins', 'pinBuilder.seeScheduledPin.buttonTitle', 'Button label for navigating to the scheduled pins')})})}),children:(0,p.jsxs)(a.xu,{padding:8,children:[(0,p.jsx)(a.xv,{children:(0,b.nk)(n._('Scheduled to publish on {{ scheduledDate }} at {{ scheduledTime }}.', ' - ', ' -- '),{scheduledDate:(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,p.jsx)(nk.Z,{value:m,dateFormatType:nk.k.SHORT_WEEKDAY_DATE,useUTC:!1})},"scheduledPinDate"),scheduledTime:(0,p.jsx)(a.xv,{inline:!0,weight:"bold",children:m.toLocaleTimeString(i.locale,{hour:"2-digit",minute:"2-digit"})},"scheduledPinTime")})}),(0,p.jsx)(a.xu,{paddingX:12,paddingY:4,children:(0,p.jsx)(nR,{image:g,localMedia:u,title:h,videos:y})})]})})}function nL(e){return(nL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nM(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==nL(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==nL(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nL(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nB(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var nF=["succeeded","attempted","uploading"],nZ=["succeeded","uploading"];function nU(e){var t,r=e.currentPinItemId,o=e.media,l=e.onComplete,s=e.pin,c=e.pinDraftId,u=e.removePinDraft,d=e.scheduledPin,h=e.showSuccess,y=e.type,m=e.view,g=e.websiteMedia,b=(0,w.Z)(),_=(0,rt.f)().shopTheLook.currentPinDraftId,v=(0,O.F)().checkExperiment,P=(0,W.Z)(),E=(0,Y.nl)(b,P)&&"ad_creation"!==x.Z.scenario()&&v("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled,A=(0,i.useHistory)(),I=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return nB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nB(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),C=I[0],T=I[1],D=(0,i.useLocation)(),k=(0,S.Z)(),R=(0,nw.Z)(),z=v("web_offsite_pin_creation_multi_select",{dangerouslySkipActivation:!0}).group.startsWith("enabled_redirect_to_hf"),L=x.Z.enabled("suppressSuccessModal")||z,M=(0,ta.F9)(),N=function(){u()},B=(0,j.B)().userAgent.browserName;(0,n.useEffect)(function(){(s||d)&&L&&N()},[s,d,L]),(0,n.useEffect)(function(){if(s&&z){var e;A.push({pathname:"/",state:{from:D.pathname,boardName:s.board.name,imageUrl:(null===(e=s.images["236x"])||void 0===e?void 0:e.url)||""}})}},[s]),(0,n.useEffect)(function(){var e=!!(document.body&&document.body.hasAttribute("data-pinterest-extension-installed")),t=nI.Z.isBrowserExtensionSupported(B),r=!!(0,nT.qn)("seenUpsellFromAddPinDropdown"),n=!!(0,nC.qn)("seenUpsellFromPinbuilder");!s||e||!t||r||n||T(!0)},[B,s]),(0,n.useEffect)(function(){if(s&&C){var e,t,r,n,o,i,a=null!==(e=null===(t=s.board)||void 0===t?void 0:t.name)&&void 0!==e?e:"",l=null!==(r=null===(n=s.board)||void 0===n?void 0:n.url)&&void 0!==r?r:"",c=null!==(o=null===(i=s.images["236x"])||void 0===i?void 0:i.url)&&void 0!==o?o:"";M.showOneToast(function(e){var t=e.hideToast;return(0,p.jsx)(ts.Z,{boardName:a,boardUrl:l,onHide:t,pinImageUrl:c})}),(0,nC.Nh)("seenUpsellFromPinbuilder",!0)}},[s,C]),(0,n.useEffect)(function(){l&&h&&s&&l(s)},[l,s,h]);var F=function(){if(s){var e=R("quick_promote_on_www");A.push("".concat(e,"?pinId=").concat(s.id))}N()},Z=function(){if(!s||!o||x.Z.enabled("suppressSuccessModal"))return null;var e=s.section,t=s.id,r=s.board.name,n=nN(nN({},o),{},{url:o.src});return Object.assign(s.images,{"236x":n,"474x":n,"564x":n,orig:n}),(0,p.jsx)(a.xu,{"data-test-id":"pin-draft-create-success-modal",children:(0,p.jsx)(nA,{isFromPinBuilder:!0,boardName:r,eligibleForExtensionUpsell:C,imageUrl:o.src,onClose:N,pin:s,pinId:t,sectionName:e?e.title:null,siteType:k,video:"localVideo"===o.type?o:void 0,websiteMedia:g})})},U=h&&(x.Z.enabled("multi_pin")||x.Z.enabled("multi_pin_pinner")),H=x.Z.enabled("multi_pin")||x.Z.enabled("multi_pin_pinner")?f.sG:f.XB,V=x.Z.enabled("multi_pin")||x.Z.enabled("multi_pin_pinner")?f.GX:f.bo;U&&(V=0);var G="carousel"===y&&x.Z.enabled("carousel");return(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(a.xu,{color:"default",dangerouslySetInlineStyle:{__style:{paddingTop:U||x.Z.enabled("offsite_pin_creation_multi_select")?void 0:H}},"data-test-id":"pin-builder-draft",display:"flex",direction:"column",paddingX:V,rounding:E?8:4,width:f.of,children:U?(0,p.jsx)(nl,{pinDraftId:c,pinItemId:r}):(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(t9,{pinDraftId:c}),(0,p.jsx)(a.xu,{position:E?"relative":"static",children:(0,p.jsx)(tA,{pinDraftId:c})}),E&&o&&!G&&(0,p.jsxs)(a.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,p.jsx)(a.xu,{color:"secondary",height:2,dangerouslySetInlineStyle:{__style:{marginLeft:"-".concat(4*V,"px")}},width:f.of+8*V}),(0,p.jsx)(rn,{pinDraftId:c,pinItemId:r})]})]})}),function(){var e=h&&(x.Z.enabled("multi_pin")||x.Z.enabled("multi_pin_pinner")),t="true"===(0,nD.Z)().quick_promote_pinrep;if(s&&s.is_quick_promotable&&!e&&t)F();else if(s&&!e&&"board"!==m)return Z();return null}(),!!d&&!U&&(0,p.jsx)(a.xu,{"data-test-id":"scheduled-pin-create-success-modal",children:(0,p.jsx)(nz,{scheduledPin:d,onDismiss:N})}),E&&c===_&&(0,p.jsx)(rM,{pinItemId:r})]})}function nH(e){var t=(0,tO.nL)(),r=(0,o.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId]}),n=r.mode,i=r.pinId,a=r.pinItemIds,l=r.scheduledPin,s=r.status,c=r.type,u=r.view,d=r.websiteMedia,f=(0,o.useSelector)(function(r){return t(r,e)}),h=a[0],y=(0,o.useSelector)(function(e){var t;return null===(t=e.pinbuilder.pinItems[f])||void 0===t?void 0:t.media}),m=(0,o.useSelector)(function(e){var t;return null===(t=e.pinbuilder.pinItems[h])||void 0===t?void 0:t.media}),g=(0,o.useSelector)(function(e){return i&&"create"===n?e.pins[i]:null}),b=(0,o.useSelector)(function(e){return e.pinbuilder.pinDraftIds.length>1&&(nZ.includes(s)||!!y&&"localVideo"===y.type&&nF.includes(s))}),_=(0,o.useDispatch)();return(0,p.jsx)(nU,nN(nN({},e),{},{currentPinItemId:f,media:"carousel"===c?m:y,pin:g,scheduledPin:l&&"create"===n?l:null,showSuccess:b,type:c,view:u,websiteMedia:d,removePinDraft:function(){return _((0,tc.Z)(e.pinDraftId))}}))}},510476:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(506979),o=r(908390),i=r(453451),a=r(898781),l=r(883561),s=r(277348),c=r(327096),u=r(515198),d={sm:{imageRepSize:147,imageSize:93},md:{imageRepSize:159,imageSize:99}};function f(e){var t,r,f,p,h,y=e.index,m=e.isRelatedProducts,g=e.pinTagId,b=e.size,_=e.taggedObjectId,v=(0,n.useDispatch)(),x=(0,a.ZP)(),P=(0,c.f)().setStlHoveredTaggedObjectId,O=null!==(r=(null!==(t=(0,n.useSelector)(function(e){return e.pinbuilder.taggedObjects}))&&void 0!==t?t:{})[_])&&void 0!==r?r:{},j=O.media,S=O.pin,w=(0,n.useSelector)(function(e){return e.pinbuilder.pinTags})[g],E=w.x,A=w.y,I=null!=j?j:{},C=I.height,T=I.width,D=I.url,k=null!=S?S:{},R=k.grid_title,z=k.rich_summary,L=null!==(f=(null!==(p=(null!==(h=(null!=z?z:{}).products)&&void 0!==h?h:[])[0])&&void 0!==p?p:{}).offer_summary)&&void 0!==f?f:{},M=L.price,N=L.max_price,B=function(e){P(e)},F=d[b].imageSize;return(0,u.jsxs)(o.xu,{"data-test-id":"stl-product-item",direction:"column",display:"flex",marginEnd:!m&&[3,7].includes(y)?0:2,marginTop:!m&&y>=4?4:0,width:F,position:"relative",overflow:"auto",onMouseEnter:function(){return B(_)},onMouseLeave:function(){return B(null)},children:[(0,u.jsx)(o.xu,{rounding:5,overflow:"hidden",minHeight:F,maxHeight:F,width:F,minWidth:F,children:(0,u.jsx)(o.zd,{wash:!0,height:F,width:F,children:(0,u.jsx)(o.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:C||1,naturalWidth:T||1,src:D||""})})}),!!(M||N)&&(0,u.jsx)(o.xu,{marginTop:2,children:(0,u.jsx)(i.Z,{productDetails:L,showSalesPrice:!0,type:"text"})}),R&&(0,u.jsx)(o.xu,{marginTop:1,children:(0,u.jsx)(o.xv,{size:"100",children:(0,l.ZP)(R,30)})}),(0,u.jsx)(o.xu,{position:"absolute",top:!0,right:!0,margin:2,children:(0,u.jsx)(o.hU,{accessibilityLabel:x._('Remove tagged product', 'shopTheLook.remove.taggedPin', 'button to remove tagged product'),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:function(){E&&A?v((0,s.Cf)(g,"deleted")):(v((0,s.Go)(g,_)),v((0,s.Cf)(g,"edited")))},size:"sm"})})]})}},237271:function(e,t,r){"use strict";r.d(t,{Z:function(){return $}});var n=r(506979),o=r(908390),i=r(76911),a=r(353356),l=r(28956),s=r(519325),c=r(258821),u=r(898781),d=r(299295),f=r(515198),p={width:d.MN,backgroundColor:"#efefef",borderRadius:8,borderStyle:"none",boxSizing:"border-box",height:d.MN,outline:"none",padding:0};function h(){var e=(0,u.ZP)();return(0,f.jsx)("button",{style:p,children:(0,f.jsx)(o.xu,{rounding:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,f.jsx)(o.JO,{accessibilityLabel:e._('Add product tag', 'Accessibility label for the product tag icon', 'Accessibility label for the product tag icon'),icon:"add-circle",color:"subtle",size:24,inline:!0})})})}var y=r(562501);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _(e){var t=e.handleClick,r=e.pinTagId,n=e.taggedObjectIds;return(0,f.jsx)(o.xu,{column:12,"data-test-id":"tagged-items-grid",children:(0,f.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",wrap:!0,children:[(0,f.jsx)(o.xu,{padding:1,marginStart:-1,marginEnd:-1,children:(0,f.jsx)(o.iP,{mouseCursor:"grab",onTap:t,rounding:2,children:(0,f.jsx)(o.xu,{"data-test-id":"add-tags-button",children:(0,f.jsx)(h,{})})})}),!!r&&n.map(function(e,t){return(0,f.jsx)(o.xu,{padding:1,children:(0,f.jsx)(c.Z,{disabled:!1,pinTagId:r,taggedObjectId:e})},e)})]})})}function v(e){var t=(0,y.jk)(),r=(0,n.useSelector)(function(r){return e.pinTagId&&r.pinbuilder.pinTags&&Object.keys(r.pinbuilder.pinTags).length>0?t(r,e):[]});return(0,f.jsx)(_,b(b({},e),{},{taggedObjectIds:r}))}var x=r(874412),P=r(424624),O=r(407043),j=r(349700),S=r(780280),w=r(19121),E=r(717615),A=r(231947);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach(function(t){L(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M(n.key),n)}}function k(e,t){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,r){return(t=M(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==I(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===I(t)?t:String(t)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(u,e);var t,n,i,c=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=z(u);if(t){var n=z(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return R(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return L(R(e=c.call.apply(c,[this].concat(r))),"state",{isAssetPickerOpen:!1,taggedPins:[]}),L(R(e),"handleClick",function(){e.setState({isAssetPickerOpen:!0}),e.props.logContextEvent({event_type:101,component:13308,element:12126})}),L(R(e),"handleDismiss",function(){e.setState({isAssetPickerOpen:!1})}),L(R(e),"handleAddTaggedPinsToPinDraft",function(t){var r=e.props,n=r.saveTaggedObject,o=r.removeTaggedObject,i=r.createPinTag,l=r.pinTagId,s=e.state.taggedPins,c=l||(0,a.Z)();c!==l&&i(c),t.forEach(function(e,t){t<d.Pn&&!s.includes(e)&&("pin"===e.type||"webImage"===e.type)&&n(e.id,c,e)}),s.filter(function(e){return!t.includes(e)}).forEach(function(e){o(e.id,c)}),e.setState({taggedPins:t}),e.handleDismiss()}),L(R(e),"primaryButtonText",function(t){return e.props.i18n.ngettext('Save product', 'Save products', t, 'Button text for adding/saving products to a Collections pin', 'Button text for adding/saving products to a Collections pin')}),e}return n=[{key:"componentDidMount",value:function(){var e=this.props.taggedObjects.map(function(e){var t,n,o;return r.g.isNaN(e.id)?{type:"webImage",id:e.id||"",height:(null===(t=e.media)||void 0===t?void 0:t.height)||1,width:(null===(n=e.media)||void 0===n?void 0:n.width)||1,src:(null===(o=e.media)||void 0===o?void 0:o.url)||"",sourceURL:e.link}:{type:"pin",id:e.id||"",images:{"474x":e.media},description:"",title:"",videos:null,link:e.link}});this.setState({taggedPins:e})}},{key:"componentDidUpdate",value:function(e){var t=this;if(e.taggedObjectIds!==this.props.taggedObjectIds){var r=this.state.taggedPins.filter(function(e){return t.props.taggedObjectIds.includes(e.id)});r&&this.setState({taggedPins:r})}}},{key:"render",value:function(){var e=this.props,t=e.pinDraftId,r=e.pinItemId,n=e.pinTagId,i=e.pinTagIds,a=e.pinTags,c=e.requestContext,u=e.unfilteredTaggedObjects,p=e.useModalWithNoLayer,h=e.taggedObjectIds,y=e.inStlToolingExp,m=e.orbacActingAs,g=e.viewer,b=this.state,_=b.isAssetPickerOpen,x=b.taggedPins,O=["product_pins","scrape"];(0,A._P)(c,g,m)&&O.push("catalog");var S=(0,P.Z)({pinTagIds:i,pinTags:a,taggedObjects:u}),w=S.length,E=h.length;return(0,f.jsxs)(o.xu,{display:"flex",direction:"column",height:"100%",column:12,children:[(0,f.jsxs)(o.xu,{flex:"none",marginBottom:6,children:[(0,f.jsx)(o.xu,{marginBottom:y?2:1,children:y?(0,f.jsx)(o.X6,{size:"400",children:this.props.i18n._('Update products', 'pinbuilder.editProducts.header', 'Edit products in the collection/STL selected in Pin Builder.')}):(0,f.jsx)(o.X6,{size:"400",children:this.props.i18n._('Add products', 'Add products to the collection/STL selected in Pin Builder.', 'Add products to the collection/STL selected in Pin Builder.')})}),(0,f.jsx)(o.xu,{marginBottom:y?2:1,children:y?(0,f.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,f.jsx)(o.xv,{children:this.props.i18n._('Tag up to 8 products in the scene', 'pinbuilder.editProducts.description', 'Description of editing pins in the collection')}),(0,f.jsx)(o.xv,{size:"200",weight:"bold",children:(0,j.nk)(this.props.i18n._('{{ numXyTaggedProducts }}/8', 'pinbuilder.editProducts.taggedProducts.count', 'Text display the total number of products tagged and the max number of products that can be tagged'),{numXyTaggedProducts:w})})]}):(0,f.jsx)(o.xv,{children:this.props.i18n._('Add products to your image to build a Pin people can shop', 'Description of adding pins to a collection', 'Description of adding pins to a collection')})}),!y&&(0,f.jsx)(o.xu,{"data-test-id":"num-product-count",display:"flex",children:(0,f.jsx)(o.xv,{size:"200",weight:"bold",children:(0,j.nk)(this.props.i18n.ngettext('{{ numProducts }} product', '{{ numProducts }} products', E, 'Text displaying the total number of products across all tags on a Pin', 'Text displaying the total number of products across all tags on a Pin'),{numProducts:E})})})]}),(0,f.jsx)(o.kC,{alignItems:"stretch",direction:"column",flex:"grow",overflow:"auto",width:y?445:void 0,children:(0,f.jsxs)(o.xu,{marginBottom:5,children:[y?(0,f.jsx)(s.Z,{pinDraftId:t,pinItemId:r,pinTagId:n,taggedObjects:S}):(0,f.jsx)(v,{pinItemId:r,pinTagId:n,handleClick:this.handleClick}),_&&(0,f.jsx)(l.Z,{useModalWithNoLayer:p,closeOnOutsideClick:!1,onPrimaryAction:this.handleAddTaggedPinsToPinDraft,onSecondaryAction:this.handleDismiss,onDismiss:this.handleDismiss,shownTabs:O,pinItemId:r,primaryButtonText:this.primaryButtonText,secondaryButtonText:this.props.i18n._('Cancel', 'PinBuilder.Modal.PinDraftInputCollectionTagView.buttonText', 'Button text for camcelling and dismissing the asset picker modal'),isSecondaryButtonDisabled:!1,selectedPins:x,maxAssetsToSelect:d.Pn,scrapeTitle:this.props.i18n._('Use a link', 'Prompt for scraping an image from site', 'Prompt for scraping an image from site'),scrapeDescription:this.props.i18n._('Pick one item from a product link\u2014it\u2019ll create a product Pin for the item, and add it to your image', 'Detail about how to pick a product from scraping a URL for a Collections pin', 'Detail about how to pick a product from scraping a URL for a Collections pin'),resetScrapeOnSelect:!0})]})})]})}}],D(u.prototype,n),i&&D(u,i),Object.defineProperty(u,"prototype",{writable:!1}),u}(i.Component);function B(e){var t=e.pinItemId,r=e.stlTaggedCoords,n=(0,u.ZP)(),o=(0,O.v)().logContextEvent,i=(0,S.B)(),a=(0,w.Z)(),l=(0,E.Z)(),s=(0,x.Z)({pinItemId:t,stlTaggedCoords:r}),c=s.createPinTag,d=s.inStlToolingExp,p=s.pinTagId,h=s.pinTagIds,y=s.pinTags,m=s.removeTaggedObject,g=s.saveTaggedObject,b=s.taggedObjectIds,_=s.taggedObjects,v=s.unfilteredTaggedObjects;return(0,f.jsx)(N,T(T({},e),{},{createPinTag:c,i18n:n,inStlToolingExp:d,logContextEvent:o,orbacActingAs:l,pinTagId:p,pinTagIds:h,pinTags:y,removeTaggedObject:m,requestContext:i,saveTaggedObject:g,taggedObjectIds:b,taggedObjects:_,unfilteredTaggedObjects:v,viewer:a}))}var F=r(469823),Z=r(665866),U=r(616672),H=r(773285),V=r(490072),G=r(327096);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==W(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==W(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===W(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var q={__style:{paddingBottom:d.uR}};function K(e){var t=e.height,r=e.pinDraftId,n=e.pinItemId,i=e.paddingX,a=e.useModalWithNoLayer,l=(0,u.ZP)(),s=(0,w.Z)(),c=(0,G.f)().shopTheLook.stlTaggedCoords,p=(0,H.F)().checkExperiment,h=(0,E.Z)(),y=(0,A.nl)(s,h)&&"ad_creation"!==Z.Z.scenario()&&p("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled;return(0,f.jsxs)(o.xu,{display:"flex",direction:"row",dangerouslySetInlineStyle:q,children:[(0,f.jsxs)(o.xu,{paddingX:y?0:void 0===i?5:i,children:[(0,f.jsx)(F.Z,{height:t,pinDraftId:r,pinItemId:n,view:"collectionsTag"}),!y&&(0,f.jsx)(o.xu,{width:260,children:(0,f.jsx)(o.xv,{align:"center",size:"200",weight:"bold",children:l._('Hint: make sure products you add match items in your image! You can add up to 24.', 'Hint explaining the maximum number of products that can be added to a Collections Pin', 'Hint explaining the maximum number of products that can be added to a Collections Pin')})})]}),(0,f.jsx)(o.xu,{flex:"grow",height:t,minHeight:d.sD,paddingX:y?0:5,marginStart:y?5:0,width:"100%",children:(0,f.jsx)(B,{useModalWithNoLayer:a,inStlToolingExp:y,pinDraftId:r,pinItemId:n,stlTaggedCoords:c})})]})}function $(e){var t=(0,n.useSelector)(function(t){return(0,V.OK)(t,e.pinDraftId)}),r=(0,n.useSelector)(function(e){return e.pinbuilder.pinItems[t.pinItemIds[0]].media}),o=r?(0,U.Z)(r,271):418;return(0,f.jsx)(K,X(X({},e),{},{height:o}))}},874412:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(506979),o=r(599689),i=r(53987),a=r(665866),l=r(773285),s=r(19121),c=r(717615),u=r(231947),d=r(502890),f=r(277348),p=r(472278),h=r(562501),y=r(122668);function m(e){var t=e.pinItemId,r=e.stlTaggedCoords,m={pinItemId:t},g=(0,o.useLocation)(),b=(0,s.Z)(),_=(0,c.Z)(),v=(0,n.useDispatch)(),x=(0,l.F)().checkExperiment,P=(0,u.nl)(b,_)&&"ad_creation"!==a.Z.scenario()&&x("web_stl_tooling").anyEnabled,O=(0,i.mY)(g),j=O?(0,y.i3)():(0,h.jk)(),S=O?(0,y.iD)():(0,h.CQ)(),w=(0,n.useSelector)(function(e){var t=e.pinbuilder,r=t.pinItems,n=t.storyPinItems;return(O?n:r)[m.pinItemId]}),E=(0,n.useSelector)(function(e){return e.pinbuilder.pinTags}),A=(0,n.useSelector)(function(e){return e.pinbuilder.taggedObjects}),I=w.selectedPinTagId||w.pinTagIds.length>0?w.pinTagIds[0]:null,C=(0,n.useSelector)(function(e){return j(e,m)}),T=(0,n.useSelector)(function(e){return S(e,m)});return{createPinTag:function(e){return v((O?p.EH:d.oe)(m.pinItemId,e))},inStlToolingExp:P,pinTagId:I,pinTagIds:w.pinTagIds,pinTags:E,removeTaggedObject:function(e,t){v((0,f.Go)(t,e)),v((0,f.Cf)(t,"edited"))},saveTaggedObject:function(e,t,n){var o,i,a=n.type||"",l=r||{},s=l.x,c=l.y;if("webImage"===n.type&&n.sourceURL){v((0,f.mz)(t,n.sourceURL,null)),P&&v((0,f.uM)(t,s||0,c||0));var u={height:n.height,width:n.width,url:n.src};v((0,f.Dn)(t,e,{media:u,type:a,pin:n}))}else v((0,f.mz)(t,null!==(o=n.link)&&void 0!==o?o:"",null)),P&&v((0,f.uM)(t,s||0,c||0)),v((0,f.Dn)(t,e,{media:null===(i=n.images)||void 0===i?void 0:i["474x"],type:a,pin:n}));v((O?p.Gm:d.C_)(m.pinItemId,t))},taggedObjectIds:C,taggedObjects:T,unfilteredTaggedObjects:A}}},469823:function(e,t,r){"use strict";r.d(t,{Z:function(){return oa}});var n=r(76911),o=r(506979),i=r(908390),a=r(407043),l=r(898781),s=r(305782),c=r(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var _={__style:{padding:6}},v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=m(a);if(t){var n=m(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return g(y(e=o.call.apply(o,[this].concat(r))),"handleEllipsisClick",function(t,r){return function(){var n=e.props,o=n.setCarouselItem,i=n.logContextEvent;r&&i({event_type:101,component:13308,element:11126}),o(t)}}),g(y(e),"handleBackClick",function(){var t=e.props,r=t.pinItemIndex,n=t.setCarouselItem;(0,t.logContextEvent)({event_type:101,component:13308,element:12170}),n(r-1)}),g(y(e),"handleForwardClick",function(){var t=e.props,r=t.pinItemIndex,n=t.setCarouselItem;(0,t.logContextEvent)({event_type:101,component:13308,element:12169}),n(r+1)}),e}return r=[{key:"render",value:function(){var e=this,t=this.props,r=t.pinItemIds,n=t.pinItemIndex,o=t.showAdd,a=r.length-1,l=this.props.i18n._('Back', 'Button to advance to previous carousel image', 'Button to advance to previous carousel image'),s=this.props.i18n._('Forward', 'Button to advance to next carousel image', 'Button to advance to next carousel image');return(0,c.jsxs)(i.kC,{alignItems:"center",justifyContent:"between",children:[(0,c.jsx)(i.xu,{display:"flex",alignItems:"center",marginStart:-1,marginEnd:-1,children:r.map(function(t,r){return(0,c.jsx)(i.xu,{children:r===a&&o?(0,c.jsx)(i.xu,{"data-test-id":"add-item-to-carousel-button",children:(0,c.jsx)(i.hU,{accessibilityLabel:e.props.i18n._('Add', 'Button to add image to carousel', 'Button to add image to carousel'),bgColor:"transparent",icon:"add",iconColor:r===n?"darkGray":"gray",onClick:e.handleEllipsisClick(r,!0),size:"xs"})}):(0,c.jsx)(i.xu,{"data-test-id":"carousel-control-button",paddingX:1,children:(0,c.jsx)(i.iP,{onTap:e.handleEllipsisClick(r),rounding:"circle",children:(0,c.jsx)(i.xu,{color:r===n?"dark":"tertiary",height:12,rounding:"circle",width:12})})})},t)})}),(0,c.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[n>0?(0,c.jsx)(i.hU,{accessibilityLabel:l,bgColor:"transparent",icon:"arrow-back",iconColor:"darkGray",onClick:this.handleBackClick,size:"xs"}):(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:_,children:(0,c.jsx)(i.JO,{accessibilityLabel:l,color:"subtle",icon:"arrow-back",size:12})}),n<a?(0,c.jsx)(i.hU,{accessibilityLabel:s,bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",onClick:this.handleForwardClick,size:"xs"}):(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:_,children:(0,c.jsx)(i.JO,{accessibilityLabel:s,color:"subtle",icon:"arrow-forward",size:12})})]})]})}}],p(a.prototype,r),n&&p(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function x(e){var t=(0,a.v)().logContextEvent,r=(0,l.ZP)(),n=(0,o.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId]}),i=n.pinItemIds,u=n.pinItemIndex,d=i[i.length-1],p=(0,o.useSelector)(function(e){return!e.pinbuilder.pinItems[d].media}),h=(0,o.useDispatch)();return(0,c.jsx)(v,f(f({},e),{},{i18n:r,logContextEvent:t,pinItemIds:i,pinItemIndex:u,showAdd:p,setCarouselItem:function(t){return h((0,s.Cj)(e.pinDraftId,t))}}))}var P=r(237056),O=r(28956),j=r(333312),S=r(497529),w=r(665866),E=r(773285),A=r(19121),I=r(134906),C=r(43898),T=r(451105),D=r(353356),k=r(299295),R=r(388628),z=r(699109),L=r(174807),M=r(448994),N=r(502890),B=r(20064);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(t){H(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function H(e,t,r){var n;return(n=function(e,t){if("object"!==F(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==F(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===F(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e){var t=e.assets,r=e.i18n,n=e.isEmployee,o=e.pinDraftId;return function(e,i){var a=i(),l=o||(0,D.Z)(),s=a.pinbuilder.pinDrafts[l]&&a.pinbuilder.pinDrafts[l].pinItemIds||[],c=s.length,u=(a.pinbuilder.pinItems[s[0]]||{}).media,d=a.pinbuilder.pinItems[s[c-1]],f=t.length>0&&"localImage"===t[0].type?t[0]:{},p=f.width,h=f.height,y=s[c-1],m=t.reduce(function(e){return e.push((0,D.Z)()),e},d?[y]:[]),g=(0,R.Z)(u&&u.width||p,u&&u.height||h),b=0===c?c:c-1,_=t.slice(0,k.dS-b).reduce(function(e,t){return U(U({},e),{},H({},(0,D.Z)(),U(U({},B.E),{},{media:"localImage"===t.type?t:null})))},{});(0,z.Z)(Object.keys(_),_,g).then(function(t){var i=t.map(function(t,r){var n=m[r]||(0,D.Z)();return n===y?e((0,N.nh)(n,t)):e((0,L.Z)(l,n,t)),n});if(t.length+b<k.dS){var a=(0,D.Z)();e((0,L.Z)(l,a,null,{saveIndex:!0})),i.push(a)}o||e((0,M.Z)({i18n:r,isEmployee:n,pinDraft:{pinItemIds:i},pinDraftId:l,storyPinPublishStopwatch:void 0}))})}}var G=r(537929),W=r(474394);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach(function(t){ee(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,et(n.key),n)}}function $(e,t){return($=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function J(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e,t,r){return(t=et(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function et(e){var t=function(e,t){if("object"!==Y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Y(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Y(t)?t:String(t)}var er=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$(e,t)}(l,e);var t,r,o,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=Q(l);if(t){var n=Q(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Y(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return J(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return ee(J(e=a.call.apply(a,[this].concat(r))),"state",{hasFocus:!1,isAssetPickerOpen:!1,websiteLinkButtonRef:null}),ee(J(e),"setWebsiteLinkButtonRef",function(t){e.setState({websiteLinkButtonRef:t})}),ee(J(e),"setTextFieldInput",function(t){e.textFieldInput=t}),ee(J(e),"handleBlur",function(){var t=e.props,r=t.setWebsiteLink,n=t.websiteLink,o=t.i18n;n?r(n,(0,I.CB)(n)?"":(0,T.q0)(o)):e.setState({hasFocus:!1})}),ee(J(e),"handleTouch",function(){var t=e.props,r=t.logContextEvent,n=t.setWebsiteLink,o=t.submitWebsiteLink,i=t.websiteLink,a=t.i18n;if(!i){n(i,null);return}var l=(0,I.CB)(i)?"":(0,T.q0)(a);n(i,l),l||(o(),r({event_type:101,component:13308,element:10969,aux_data:{url:i}}))}),ee(J(e),"handleChange",function(t){var r=t.value;e.props.setWebsiteLink(r)}),ee(J(e),"handleKeyDown",function(t){"Enter"===t.event.key&&e.handleTouch()}),ee(J(e),"handleClick",function(){var t=e.props,r=t.disabledPinCreation,n=t.experience,o=t.experienceClient,i=t.logContextEvent,a=t.setShowDisabledPinCreationBanner;if(r){a();return}i({event_type:101,component:13308,element:10968}),n&&501924===n.experience_id&&o.completeExperience(1000135,501924),e.setState({hasFocus:!0})}),ee(J(e),"handleDismiss",function(){e.setState({isAssetPickerOpen:!1})}),e}return r=[{key:"componentDidUpdate",value:function(e,t){this.textFieldInput&&!t.hasFocus&&this.textFieldInput.focus()}},{key:"render",value:function(){var e=this.props,t=e.createCarouselPinDraft,r=e.createPinDrafts,o=e.websiteLink,a=e.websiteLinkError,l=this.state,s=l.hasFocus,u=l.isAssetPickerOpen,d="pin-draft-website-link";return s?(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(i.xu,{rounding:2,children:(0,c.jsx)(i.xu,{padding:1,color:"secondary",rounding:2,children:(0,c.jsxs)(i.xu,{marginStart:-1,marginEnd:-1,display:"flex",children:[(0,c.jsx)(i.xu,{paddingX:1,flex:"grow",children:(0,c.jsx)(i.nv,{hasError:!!a,id:d,onBlur:this.handleBlur,onChange:this.handleChange,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Enter website', 'Placeholder text to enter website url', 'Placeholder text to enter website url'),ref:this.setTextFieldInput,size:"lg",type:"text",value:o})}),(0,c.jsx)(i.xu,{children:(0,c.jsx)(i.iP,{onTap:this.handleTouch,fullHeight:!0,children:(0,c.jsx)(i.xu,{paddingX:1,height:"100%",children:(0,c.jsx)(i.xu,{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,"data-test-id":"website-link-submit-button",children:(0,c.jsx)(i.JO,{accessibilityLabel:this.props.i18n._('Submit', 'Submit website button to scrape images', 'Submit website button to scrape images'),size:20,icon:"arrow-forward"})})})})})]})})}),!!a&&(0,c.jsx)(C.Z,{errorMessage:a,htmlFor:d})]}):(0,c.jsxs)(i.xu,{"data-test-id":"save-from-site-button",children:[(0,c.jsxs)(i.xu,{ref:this.setWebsiteLinkButtonRef,children:[(0,c.jsx)(i.zx,{fullWidth:!0,onClick:this.handleClick,size:"lg",text:this.props.i18n._('Save from site', 'Save from site button', 'Save from site button')}),u&&(0,c.jsx)(O.Z,{onPrimaryAction:r,onSecondaryAction:w.Z.enabled("carousel")?t:void 0,onDismiss:this.handleDismiss,initialTab:"scrape"})]}),(0,c.jsx)(j.default,{experienceIds:[501924],placementId:1000135,anchor:this.state.websiteLinkButtonRef,idealDirection:"up",flyoutSize:"md"})]})}}],K(l.prototype,r),o&&K(l,o),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function en(e){var t=(0,a.v)().logContextEvent,r=(0,l.ZP)(),n=(0,P.Z)(),i=e.pinDraftId,u=(0,o.useDispatch)(),d=(0,A.Z)(),f=d.isAuth&&d.isEmployee,p=d.isAuth?d.id:"",h=d.isAuth?d.country:"",y=(0,S.Z)(),m=(0,E.F)().checkExperiment,g=w.Z.enabled("disabledPinCreation");return(0,c.jsx)(er,q(q({},e),{},{createPinDrafts:function(e){return u((0,G.Z)({assets:e,checkExperiment:m,country:h,i18n:r,ideaPinRenamingEnabled:n,inCoverImageQualityExp:!1,isEmployee:f,logContextEvent:t,userId:p}))},createCarouselPinDraft:function(e){return u(V({assets:e,pinDraftId:void 0,isEmployee:f,i18n:r}))},disabledPinCreation:g,experienceClient:y,i18n:r,logContextEvent:t,setShowDisabledPinCreationBanner:function(){return u((0,W.setShowDisabledPinCreationBanner)(!0))},setWebsiteLink:function(e,t){return u((0,s.f9)(i,e,t))},submitWebsiteLink:function(){return u((0,s.c8)(i,"scrape"))},websiteLink:(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[i].websiteLink}),websiteLinkError:(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[i].websiteLinkError})}))}var eo=r(599689),ei=r(349700);function ea(e){var t=e.currentIndex,r=e.numPinItems,n=(0,l.ZP)();return(0,c.jsx)(i.xu,{position:"absolute",top:!0,right:!0,margin:3,children:(0,c.jsx)(i.xu,{rounding:"pill",paddingY:2,paddingX:3,color:"transparentDarkGray",children:(0,c.jsx)(i.xv,{color:"inverse",size:"200",weight:"bold",children:(0,ei.nk)(n._('{{ current }}/{{ total }}', 'Text denoting the current item number a user is viewing in a carousel', 'Text denoting the current item number a user is viewing in a carousel'),{current:t,total:r})})})})}function el(e){var t=(0,o.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId]}),r=t.pinItemIds,n=t.pinItemIndex,i=(0,o.useSelector)(function(e){return r.filter(function(t){return!!e.pinbuilder.pinItems[t].media}).length});return(0,c.jsx)(ea,{currentIndex:n+1,numPinItems:i})}function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ec=r(858472),eu=r(121151),ed=r(265696),ef=r(955625);function ep(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ef.IU;return(0,ed.Z)().then(function(r){var n=new r(document.createElement("div")),o=e.filter(function(e){return"localImage"===e.type}).map(function(e){return e.src});return n.setImages(o).then(function(){return{media:n.getCanvasOutput({width:t}),canvasJson:n.toJSON()}})})}function eh(e){return(eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ey(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ey(Object(r),!0).forEach(function(t){eP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ey(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eO(n.key),n)}}function e_(e,t){return(e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ev(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ex(e){return(ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eP(e,t,r){return(t=eO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eO(e){var t=function(e,t){if("object"!==eh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eh(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eh(t)?t:String(t)}var ej=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e_(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ex(a);if(t){var n=ex(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eh(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ev(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eP(ev(e=o.call.apply(o,[this].concat(r))),"state",{media:null}),e}return r=[{key:"componentDidMount",value:function(){var e=this;ep(this.props.assets.reduce(function(e,t){return"localImage"===t.type?[].concat(function(e){if(Array.isArray(e))return eg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return eg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eg(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t]):e},[]).slice(0,5)).then(function(t){var r=t.media;e.setState({media:r})})}},{key:"render",value:function(){var e=this.state.media,t=e?k.Uw/(e.width>e.height?e.width:e.height):0;return(0,c.jsxs)(i.xu,{display:"flex",direction:"column",alignItems:"center",padding:2,justifyContent:"center",height:"100%",children:[(0,c.jsx)(i.xu,{marginBottom:6,width:k.Uw,children:(0,c.jsx)(i.xv,{align:"center",children:this.props.i18n._('Create a collage', 'Instructing the user that all the images selected will be combined into 1 image', 'Instructing the user that all the images selected will be combined into 1 image')})}),(0,c.jsx)(i.xu,{height:"100%",children:e&&(0,c.jsx)(i.xu,{"data-test-id":"layout-picker-collage-preview",width:e.width*t,height:e.height*t,rounding:2,overflow:"hidden",children:(0,c.jsx)(i.Ee,{alt:this.props.i18n._('A collage image combined from selected images', 'Preview of how the collage would look.', 'Preview of how the collage would look.'),naturalHeight:e.height,naturalWidth:e.width,src:e.src})})})]})}}],eb(a.prototype,r),n&&eb(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function eS(e){return(eS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(t){eD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ek(n.key),n)}}function eI(e,t){return(eI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eC(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eT(e){return(eT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eD(e,t,r){return(t=ek(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ek(e){var t=function(e,t){if("object"!==eS(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eS(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eS(t)?t:String(t)}var eR=[{component:function(e){var t=e.assets,r=(0,l.ZP)(),n=t.reduce(function(e,t){return"localImage"===t.type?[].concat(function(e){if(Array.isArray(e))return es(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return es(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return es(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t]):e},[]).slice(0,5);if(n.length>0){var o=n[0],a=k.Uw/(o.width>o.height?o.width:o.height);return(0,c.jsxs)(i.xu,{display:"flex",direction:"column",alignItems:"center",padding:2,height:"100%",children:[(0,c.jsx)(i.xu,{marginBottom:6,width:k.Uw,children:(0,c.jsx)(i.xv,{align:"center",children:r._('Create a carousel', 'Instructing the user that all the images selected will be combined into a carousel', 'Instructing the user that all the images selected will be combined into a carousel')})}),(0,c.jsxs)(i.xu,{"data-test-id":"layout-picker-carousel-preview",display:"flex",direction:"column",height:"100%",justifyContent:"center",children:[(0,c.jsx)(i.xu,{width:o.width*a,height:o.height*a,rounding:2,overflow:"hidden",children:(0,c.jsx)(i.Ee,{alt:r._('A carousel image.', 'Preview of how the carousel would look.', 'Preview of how the carousel would look.'),naturalHeight:o.height,naturalWidth:o.width,src:o.src,children:(0,c.jsx)(ea,{currentIndex:1,numPinItems:n.length})})}),(0,c.jsx)(i.xu,{display:"flex",alignItems:"center",marginStart:-1,marginEnd:-1,marginTop:2,children:n.map(function(e,t){return(0,c.jsx)(i.xu,{paddingX:1,children:(0,c.jsx)(i.xu,{color:0===t?"dark":"tertiary",height:10,rounding:"circle",width:10})},e.src)})})]})]})}return null},name:"carousel"},{component:function(e){var t=(0,l.ZP)();return(0,c.jsx)(ej,em(em({},e),{},{i18n:t}))},name:"layout"}],ez=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eI(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eT(a);if(t){var n=eT(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eS(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eC(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eD(eC(e=o.call.apply(o,[this].concat(r))),"state",{selectedLayout:null,hoveredLayout:null}),eD(eC(e),"handleSelect",function(t){return function(){e.setState({selectedLayout:t})}}),eD(eC(e),"handleOnMouseEnter",function(t){return function(){e.setState({hoveredLayout:t})}}),eD(eC(e),"handleOnMouseLeave",function(){return function(){e.setState({hoveredLayout:null})}}),e}return r=[{key:"render",value:function(){var e=this,t=this.props,r=t.assets,n=t.onDismiss,o=t.onPrimaryAction,a=t.primaryButtonText,l=this.state,s=l.selectedLayout,u=l.hoveredLayout,d=a||this.props.i18n._('Create Pin', 'Button to create either a carousel Pin or Pin with multiple images', 'Button to create either a carousel Pin or Pin with multiple images');return(0,c.jsx)(eu.ZP,{accessibilityModalLabel:this.props.i18n._('Pick a Pin', 'Label to describe the Pin format picker', 'Label to describe the Pin format picker'),heading:(0,c.jsx)(i.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,c.jsx)(i.X6,{size:"500",children:this.props.i18n._('Pick a Pin', 'Label to of the Pin format picker.', 'Label to of the Pin format picker.')})}),onDismiss:n,footer:(0,c.jsxs)(i.xu,{display:"flex",justifyContent:"between",alignItems:"center",paddingX:4,children:[(0,c.jsx)(i.xu,{width:"50%",children:(0,c.jsx)(i.xv,{color:"subtle",size:"200",overflow:"normal",children:this.props.i18n._('Psst...you can edit and reorder your images later', 'Information for the Pin format picker model, choosing between carousel and collage.', 'Information for the Pin format picker model, choosing between carousel and collage.')})}),(0,c.jsx)(i.xu,{"data-test-id":"layout-picker-action-button",display:"flex",flex:"none",marginStart:-1,marginEnd:-1,marginTop:1,children:(0,c.jsx)(i.zx,{color:"red",disabled:!s,onClick:function(){return o(e.state.selectedLayout)},text:d})})]}),size:912,children:(0,c.jsx)(i.xu,{display:"flex",justifyContent:"center",paddingX:4,paddingY:8,height:460,children:eR.map(function(t,n){var o=t.component,a=t.name;return(0,c.jsx)(i.xu,{height:380,width:350,marginEnd:1===n?3:0,marginStart:1===n?3:0,rounding:2,color:u===a?"secondary":"default",dangerouslySetInlineStyle:{__style:{border:"2px solid",borderColor:s===a?ec.x7:"#efefef"}},onMouseEnter:e.handleOnMouseEnter(a),onMouseLeave:e.handleOnMouseLeave(),children:(0,c.jsx)(i.iP,{fullHeight:!0,onTap:e.handleSelect(a),rounding:2,children:(0,c.jsx)(i.xu,{height:"100%",paddingY:4,children:o&&(0,c.jsx)(o,{assets:r})})})},n)})})})}}],eA(a.prototype,r),n&&eA(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function eL(e){var t=(0,l.ZP)();return(0,c.jsx)(ez,eE(eE({},e),{},{i18n:t}))}var eM=r(385740),eN=r(454074),eB=r(780280),eF=r(784590),eZ=r(957161),eU=r(966113),eH=r(531245),eV=r(281139),eG=r(77891),eW=r(151416),eY=r(66699),eX=r(977558),eq=function(e,t){return(0,eY.Z)(t.ngettext('{{ length }} px', '{{ length }} px', 200, 'PinBuilder.PinQualityDrawer.pixel', 'length in pixel'),{length:e})},eK=function(e,t,r){return(0,eY.Z)(r.ngettext('{{ min }}-{{ max }} char', '{{ min }}-{{ max }} chars', 100, 'PinBuilder.PinQualityDrawer.charsLengthRange', 'range of string length in unit of characters'),{min:e,max:t})},e$=function(e,t){return(0,eY.Z)(t.ngettext('{{ min }}+ char', '{{ min }}+ chars', 100, 'PinBuilder.PinQualityDrawer.lengthAtLeastChars', 'string length to be at least how many characters'),{min:100})},eJ=(0,n.memo)(function(e){var t=e.onDismiss,r=(0,l.ZP)(),n=r._('None', 'PinBuilder.PinQualityDrawer.none', 'there is no requirement or suggestion for this field');return(0,c.jsx)(i.mh,{zIndex:{index:function(){return eX.fe+1}},children:(0,c.jsx)(i.To,{accessibilityLabel:r._('Pin creation quality recommentations', 'PinBuilder.PinQualityDrawer.SheetLabel', 'Pin builder quality recommentations'),accessibilityDismissButtonLabel:r._('Dismiss', 'PinBuilder.PinQualityDrawer.Dismiss', 'Dismiss the quality drawer'),onDismiss:t,size:"lg",heading:r._('Maximize engagement with high quality pins.', 'PinBuilder.PinQualityDrawer.title', 'The title of the Pin Quality Drawer which introduces our recommendations for pin creation'),subHeading:(0,c.jsx)(i.xu,{marginStart:8,children:(0,c.jsx)(i.xv,{children:r._('Follow these recommendations to achieve the highest quality pins.', 'PinBuilder.PinQualityDrawer.description', 'The description of the Pin Quality Drawer which introduces our recommendations for pin creation')})}),footer:(0,c.jsx)(i.xu,{display:"flex",justifyContent:"end",alignItems:"end",color:"default",children:(0,c.jsx)(i.zx,{text:r._('Got it', 'PinBuilder.PinQualityDrawer.close', 'The close button of the drawer'),color:"red",accessibilityLabel:r._('Close', 'PinBuilder.PinQualityDrawer.close', 'Close'),onClick:t})}),children:(0,c.jsxs)(i.xu,{children:[(0,c.jsxs)(i.xu,{marginBottom:8,children:[(0,c.jsx)(i.xu,{marginBottom:3,children:(0,c.jsx)(i.X6,{size:"500",children:r._('Photo quality', 'PinBuilder.PinQualityDrawer.title.photo', 'The title of the photo section of Pin Quality Drawer')})}),(0,c.jsxs)(i.iA,{accessibilityLabel:r._('List of image qualities', 'PinQualityDrawer.image.accessibilityLabel', 'Accessibility label for table of image qualities'),children:[(0,c.jsx)(i.iA.Header,{children:(0,c.jsxs)(i.iA.Row,{children:[(0,c.jsx)(i.iA.HeaderCell,{children:(0,c.jsx)(i.xv,{size:"100",weight:"bold",children:r._('Content Attribute', 'PinBuilder.PinQualityDrawer.table.headerCell.contentAttribute', 'Header cell for column content attribute of photo quality table')})}),(0,c.jsx)(i.iA.HeaderCell,{children:(0,c.jsx)(i.xv,{size:"100",weight:"bold",children:r._('Minimum Requirement', 'PinBuilder.PinQualityDrawer.table.headerCell.minimumRequirement', 'Header cell for column Minimum Requirement of photo quality table')})}),(0,c.jsx)(i.iA.HeaderCell,{children:(0,c.jsx)(i.xv,{size:"100",weight:"bold",children:r._('Recommendation', 'PinBuilder.PinQualityDrawer.table.headerCell.Recommendation', 'Header cell for column Recommendation of photo quality table')})})]})}),(0,c.jsxs)(i.iA.Body,{children:[(0,c.jsxs)(i.iA.Row,{children:[(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:r._('Resolution', 'PinBuilder.PinQualityDrawer.title.resolution', 'the resolution of pin')})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:(0,eY.Z)(r._('{{ width }} wide x {{ height }} tall', 'PinBuilder.PinQualityDrawer.resolution', 'minimum requirement of pin photo resolution'),{width:eq(200,r),height:eq(300,r)})})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:(0,eY.Z)(r._('{{ width }} wide x {{ height }} tall (or larger)', 'PinBuilder.PinQualityDrawer.resolution.orLarger', 'recommendation of pin photo resolution'),{width:eq(1e3,r),height:eq(1500,r)})})})]}),(0,c.jsxs)(i.iA.Row,{children:[(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:r._('Aspect Ratio', 'PinBuilder.PinQualityDrawer.title.ratio', 'aspect ratio of photo pin')})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:(0,eY.Z)(r._('{{ widthRatio }} wide : {{ heightRatio }} tall (or more wide, less tall)', 'PinBuilder.PinQualityDrawer.ratio', 'the aspect ratio of pin'),{widthRatio:3,heightRatio:2})})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:(0,eY.Z)(r._('{{ widthRatio }} wide : {{ heightRatio }} tall (or less wide, more tall)', 'PinBuilder.PinQualityDrawer.ratio', 'the aspect ratio of pin'),{widthRatio:2,heightRatio:3})})})]}),(0,c.jsxs)(i.iA.Row,{children:[(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:r._('Title Length', 'PinBuilder.PinQualityDrawer.title.titleLength', 'the length of the title of this pin')})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:n})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:eK(k.bA,k.Ke,r)})})]}),(0,c.jsxs)(i.iA.Row,{children:[(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:r._('Description Length', 'PinBuilder.PinQualityDrawer.title.descriptionLength', 'the length of the description of this pin')})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:n})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:e$(100,r)})})]}),(0,c.jsxs)(i.iA.Row,{children:[(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:r._('Destination Link', 'PinBuilder.PinQualityDrawer.title.link', 'the destination link of this pin')})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:n})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:r._('Have a destination link', 'PinBuilder.PinQualityDrawer.link.recommendation', 'Recommended to have a destination link for the pin to create')})})]})]})]})]}),(0,c.jsxs)(i.xu,{children:[(0,c.jsx)(i.xu,{marginBottom:3,children:(0,c.jsx)(i.X6,{size:"500",children:r._('Video quality', 'PinBuilder.PinQualityDrawer.title', 'The title of the video section of Pin Quality Drawer')})}),(0,c.jsxs)(i.iA,{accessibilityLabel:r._('List of video qualities', 'PinQualityDrawer.video.accessibilityLabel', 'Accessibility label for table of video qualities'),children:[(0,c.jsx)(i.iA.Header,{children:(0,c.jsxs)(i.iA.Row,{children:[(0,c.jsx)(i.iA.HeaderCell,{children:(0,c.jsx)(i.xv,{size:"100",weight:"bold",children:r._('Content Attribute', 'PinBuilder.PinQualityDrawer.table.headerCell.contentAttribute', 'Header cell for column content attribute of photo quality table')})}),(0,c.jsx)(i.iA.HeaderCell,{children:(0,c.jsx)(i.xv,{size:"100",weight:"bold",children:r._('Minimum Requirement', 'PinBuilder.PinQualityDrawer.table.headerCell.minimumRequirement', 'Header cell for column Minimum Requirement of photo quality table')})}),(0,c.jsx)(i.iA.HeaderCell,{children:(0,c.jsx)(i.xv,{size:"100",weight:"bold",children:r._('Recommendation', 'PinBuilder.PinQualityDrawer.table.headerCell.Recommendation', 'Header cell for column Recommendation of photo quality table')})})]})}),(0,c.jsxs)(i.iA.Body,{children:[(0,c.jsxs)(i.iA.Row,{children:[(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:r._('Resolution', 'PinBuilder.PinQualityDrawer.title.resolution', 'resolution of pin video')})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:(0,eY.Z)(r._('{{ width }} wide x {{ height }} tall', 'PinBuilder.PinQualityDrawer.resolution', 'minimum requirement of pin photo resolution'),{width:eq(200,r),height:eq(300,r)})})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:(0,eY.Z)(r._('{{ width }} wide x {{ height }} tall (or larger)', 'PinBuilder.PinQualityDrawer.resolution.orLarger', 'recommendation of pin photo resolution'),{width:eq(540,r),height:eq(960,r)})})})]}),(0,c.jsxs)(i.iA.Row,{children:[(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:r._('Duration', 'PinBuilder.PinQualityDrawer.title.duration', 'duration of the pin video')})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:(0,eY.Z)(r.ngettext('{{ duration }} second', '{{ duration }} seconds', 4, 'PinBuilder.PinQualityDrawer.duration', 'pin video\'s duration in unit of seconds'),{duration:4})})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:(0,eY.Z)(r.ngettext('At least {{ duration }} second', 'At least {{ duration }} seconds', 4, 'PinBuilder.PinQualityDrawer.duration.atLeast', 'pin video\'s duration at least how many seconds'),{duration:4})})})]}),(0,c.jsxs)(i.iA.Row,{children:[(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:r._('Aspect Ratio', 'PinBuilder.PinQualityDrawer.title.ratio', 'aspect ratio of this pin video')})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:(0,eY.Z)(r._('{{ widthRatio }} wide : {{ heightRatio }} tall (or more wide, less tall)', 'PinBuilder.PinQualityDrawer.ratio', 'the aspect ratio of pin'),{widthRatio:3,heightRatio:2})})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:(0,eY.Z)(r._('{{ widthRatio }} wide : {{ heightRatio }} tall (or less wide, more tall)', 'PinBuilder.PinQualityDrawer.ratio', 'the aspect ratio of pin'),{widthRatio:2,heightRatio:3})})})]}),(0,c.jsxs)(i.iA.Row,{children:[(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:r._('Title Length', 'PinBuilder.PinQualityDrawer.title.titleLength', 'the length of the title of this pin')})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:n})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:eK(k.bA,k.Ke,r)})})]}),(0,c.jsxs)(i.iA.Row,{children:[(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:r._('Description Length', 'PinBuilder.PinQualityDrawer.title.descriptionLength', 'the length of the description of this pin')})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:n})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:e$(100,r)})})]}),(0,c.jsxs)(i.iA.Row,{children:[(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:r._('Destination Link', 'PinBuilder.PinQualityDrawer.title.link', 'the destination link of this pin')})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:n})}),(0,c.jsx)(i.iA.Cell,{children:(0,c.jsx)(i.xv,{size:"100",children:r._('Have a destination link', 'PinBuilder.PinQualityDrawer.link.recommendation', 'Recommended to have a destination link for the pin to create')})})]})]})]})]})]})})})}),eQ=r(798477);function e0(e){return(e0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e1(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==e0(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==e0(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e0(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e1(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var e8=r(709113);function e3(e){return(e3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e6(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e5(Object(r),!0).forEach(function(t){ti(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e5(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e4(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function e9(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||e7(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e7(e,t){if(e){if("string"==typeof e)return te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return te(e,t)}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ta(n.key),n)}}function tr(e,t){return(tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tn(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function to(e){return(to=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ti(e,t,r){return(t=ta(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ta(e){var t=function(e,t){if("object"!==e3(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==e3(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e3(t)?t:String(t)}var tl={__style:{zIndex:k.v9}},ts={__style:{border:"dashed 2px #dadada",borderRadius:6}},tc={__style:{border:"dashed 2px #CC0000"}},tu={color:"#6c6c6c"},td=16/9;function tf(e,t,r){r({event_type:101,component:13308,element:12171,view_type:e,view_parameter:t})}var tp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tr(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=to(a);if(t){var n=to(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===e3(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tn(e)}(this,e)});function a(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),ti(tn(t=o.call(this,e)),"state",{isAssetPickerOpen:!1,isLayoutPickerOpen:!1,assets:[],isDrawerOpen:!1}),ti(tn(t),"handleAddMediaToPinDraft",function(e){var r=t.props,n=r.addMediaToPinDraft,o=r.pinDraftId;n(e,"carousel"===r.type?o:void 0)}),ti(tn(t),"handleOpenLayoutPicker",function(e){t.setState({isLayoutPickerOpen:!0,assets:e})}),ti(tn(t),"handleChange",function(e){var r=t.props,n=r.processFiles,o=r.type,i=r.logContextEvent,a=Array.from(e.target.files);w.Z.enabled("carousel")&&w.Z.enabled("layouts")&&"carousel"!==o&&a.length>1?t.openLayoutPickerForFiles(a):n(a),i({event_type:101,component:13308,element:10967,view_type:t.props.viewType,view_parameter:t.props.viewParameter,aux_data:{pin_builder_data:JSON.stringify({media_types:a.map(function(e){return e.type})})}}),e.target.value=""}),ti(tn(t),"handleClick",function(){t.props.logContextEvent({event_type:101,component:13308,element:10966,view_type:t.props.viewType,view_parameter:t.props.viewParameter})}),ti(tn(t),"handleDismiss",function(){var e=t.state,r=e.isAssetPickerOpen,n=e.isLayoutPickerOpen;r?(t.setState({isAssetPickerOpen:!1}),t.props.logContextEvent({event_type:123,component:13392,view_type:t.props.viewType,view_parameter:t.props.viewParameter})):n&&t.setState({isLayoutPickerOpen:!1})}),ti(tn(t),"handleDrawerDismiss",function(){t.setState({isDrawerOpen:!1})}),ti(tn(t),"handleDrop",function(e){var r=t.props,n=r.processFiles,o=r.logContextEvent,i=(0,eN.Z)(e.dataTransfer);o({event_type:3502,component:13308,element:10966,view_type:t.props.viewType,view_parameter:t.props.viewParameter,aux_data:{pin_builder_data:JSON.stringify({media_types:i.map(function(e){return e.type})})}}),w.Z.enabled("carousel")&&i.length>1?t.openLayoutPickerForFiles(i):n(w.Z.enabled("carousel")?i:i.slice(0,1))}),ti(tn(t),"handleLayoutSelected",function(e){if("layout"===e)(0,t.props.createLayoutPinDraft)(t.state.assets),t.setState({isLayoutPickerOpen:!1});else if("carousel"===e){var r=t.props,n=r.addMediaToPinDraft,o=r.pinDraftId;n(t.state.assets,o)}}),ti(tn(t),"getPrimaryAction",function(){var e=t.props,r=e.createPinDrafts;return"carousel"===e.type?t.handleAddMediaToPinDraft:r}),ti(tn(t),"getSecondaryAction",function(){var e=t.props.type;if(t.state.isAssetPickerOpen&&"single"===e)return t.handleOpenLayoutPicker}),ti(tn(t),"getText",function(){var e,r=t.props,n=r.type,o=r.mediaError,i=null===(e=r.userResource.data)||void 0===e?void 0:e.video_upload_allowed,a="carousel"===n,l=w.Z.enabled("carousel"),s=!a&&i;return o?o:a?t.props.i18n._('Upload another image to create a carousel', 'pinbuilder.pindraft.media.mediaEmptyView.carouselText', 'Label on drag and drop area for uploading a Pin.'):l&&s?t.props.i18n._('Drag and drop or click to upload images or a video', 'Label on drag and drop area for uploading a Pin.', 'Label on drag and drop area for uploading a Pin.'):l?t.props.i18n._('Drag and drop or click to upload your images', 'Label on drag and drop area for uploading a Pin.', 'Label on drag and drop area for uploading a Pin.'):s?t.props.i18n._('Drag and drop or click to upload your image or video', 'Label on drag/drop area for uploading a pin', 'Label on drag/drop area for uploading a pin'):t.props.i18n._('Drag and drop or click to upload', 'Label on drag/drop area for uploading a pin', 'Label on drag/drop area for uploading a pin')}),w.Z.enabled("layouts")&&(0,ed.Z)(),t}return r=[{key:"openLayoutPickerForFiles",value:function(e){var t=this,r=this.props,n=r.i18n,o=r.ideaPinRenamingEnabled,i=r.processFiles,a=r.pinDraftId,l=r.setPinDraftAssetError;(0,eG.Z)({i18n:n,ideaPinRenamingEnabled:o,files:e,options:{allowVideo:!1}}).then(function(r){var n=r.reduce(function(e,t){return"error"!==t.type?[].concat(e9(e),[t]):e},[]);n.length>1&&n.length<=5?t.setState({isLayoutPickerOpen:!0,assets:n}):n.length>5?l(a,t.props.i18n._('Uh oh, your files could not be uploaded. Please make sure to select five files or less.', 'pinbuilder.pindraft.media.mediaEmptyView.validateFiles.error', 'Error message notifying User their selected files could not be uploaded due to quantity')):i(e)})}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.aspectRatio,o=r.isPartner,a=r.mediaError,l=r.type,s=r.pinDraftId,u=r.logContextEvent,d=r.checkExperiment,f=r.userResource,p=this.state,h=p.assets,y=p.isDrawerOpen,m=p.isAssetPickerOpen,g=p.isLayoutPickerOpen,b=null===(e=f.data)||void 0===e?void 0:e.video_upload_allowed,_=w.Z.enabled("carousel"),v="carousel"!==l&&(b||["story","storyFARLandscape","storyFARPortrait"].includes(l)),x=[].concat(e9(eH.xl),e9(v?eH.ss:[])).join(","),P=["upload","scrape"],j=d&&d("aid_exp_pin_builder_a11y_image_recommendation").anyEnabled,S=(0,ei.nk)(this.props.i18n._('We recommend using high quality .jpg files less than {{max_image_size_mb}}MB', 'Pinbuilder.HelpText.Image', 'Help text on Pin creation specifying best practices for images'),{max_image_size_mb:20}),A=(0,ei.nk)(this.props.i18n._('We recommend using high quality .jpg files less than {{max_image_size_mb}}MB or .mp4 files less than {{max_video_size_gb}}GB', 'Pinbuilder.HelpText.Media', 'Help text on Pin creation specifying best practices for images or videos'),{max_image_size_mb:20,max_video_size_gb:2}),I=w.Z.enabled("pinQuality");return(0,c.jsx)(eW.lE,{children:function(e){var r=e.openHelpTextInNewWindow;return(0,c.jsx)(i.xu,{height:"100%",width:"100%",children:(0,c.jsx)(eV.Z,{accept:x,allowMultipleFiles:_,hasError:!!a,id:"media-upload-input-"+s,onChange:t.handleChange,onClick:t.handleClick,onDrop:t.handleDrop,isAriaHidden:!1,accessibilityLabel:t.props.i18n._('File upload', '[m10n] pinbuilder.mediaEmptyView.fileUpload.accessibilityLabel', 'Accessibility label for file upload'),experimentsClient:(0,E.F)(),children:function(){return(0,c.jsxs)(i.xu,{column:12,"data-test-id":"media-empty-view",height:"100%",overflow:"hidden",padding:4,position:"relative",rounding:3,display:"flex",alignItems:"center",justifyContent:"center",children:[(0,c.jsxs)(i.xu,{alignItems:"center",column:12,dangerouslySetInlineStyle:a?tc:ts,direction:"column",display:"flex",width:241,height:"100%",justifyContent:j?"start":"center",rounding:3,margin:1,children:[(0,c.jsx)(i.xu,{padding:2,marginTop:n>=td?0:j?4:-12,"data-test-id":"media-empty-view-upload-error",children:(0,c.jsx)(i.JO,{accessibilityLabel:a?t.props.i18n._('Upload error', 'Error alert icon shown when file upload fails', 'Error alert icon shown when file upload fails'):t.props.i18n._('Add an image or video', 'Add an image or video as part of the pin', 'Add an image or video as part of the pin'),color:a?"error":"subtle",icon:a?"workflow-status-problem":"arrow-circle-up",size:24})}),n<=1&&(0,c.jsx)(i.xu,{column:12,marginTop:4,paddingX:j?10:12,width:270,children:(0,c.jsx)(i.xv,{align:"center",color:"default",overflow:"normal",weight:"bold",size:j?"400":"200",children:t.getText()})})]}),n<=td&&(0,c.jsxs)(i.xu,{bottom:!0,left:!0,margin:8,paddingY:j?7:0,overflow:"hidden",position:"absolute",right:!0,children:[(0,c.jsx)(i.xv,{align:"center",overflow:"normal",size:j?"300":"100",children:v?A:S}),o&&(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:tl,marginTop:j?6:2,marginBottom:j?-3:0,overflow:"hidden",position:"relative","data-test-id":"pin-help-link",children:(0,c.jsx)(i.xv,{align:"center",color:a?"error":"default",overflow:"normal",size:"200",weight:"bold",children:I?(0,c.jsx)(i.rU,{href:eU.Moe,target:"blank",onClick:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),tf(t.props.viewType,t.props.viewParameter,u),r||(n.preventDefault(),t.setState({isDrawerOpen:!0}))},children:(0,c.jsx)(i.xv,{inline:!0,size:j?"300":"100",underline:!0,lineClamp:2,align:"center",children:t.props.i18n._('Review Pin best practices', 'PinBuilder.link.showGuidelineDrawer.full', 'The text including a link to open the drawer which introduces our guideline for creating pins. This is a concatenation of 2 strings, the first part is a bold clickable link reads "See guidelines"')})}):(0,c.jsx)(i.rU,{href:eU.Moe,target:"blank",onClick:function(e){(0,e.dangerouslyDisableOnNavigation)(),tf(t.props.viewType,t.props.viewParameter,u)},children:(0,c.jsx)("span",{style:tu,children:v?t.props.i18n._('View image and video specs', 'Link text to Pinterest product specs', 'Link text to Pinterest product specs'):t.props.i18n._('View image specs', 'Link text to Pinterest product specs', 'Link text to Pinterest product specs')})})})})]}),I&&y&&(0,c.jsx)(eJ,{onDismiss:t.handleDrawerDismiss}),m&&(0,c.jsx)(O.Z,{onDismiss:t.handleDismiss,onPrimaryAction:t.getPrimaryAction(),onSecondaryAction:t.getSecondaryAction(),primaryButtonText:"carousel"===l?t.props.i18n._('Add to Pin', 'Button text for adding media to Pin like adding another image to a carousel Pin', 'Button text for adding media to Pin like adding another image to a carousel Pin'):void 0,secondaryButtonText:t.props.i18n._('Combine into 1 Pin', 'Button to create either a carousel Pin or Pin with multiple images', 'Button to create either a carousel Pin or Pin with multiple images'),shownTabs:P}),g&&(0,c.jsx)(eL,{assets:h,onDismiss:t.handleDismiss,onPrimaryAction:t.handleLayoutSelected,primaryButtonText:t.props.i18n._('Create Pin', 'Button text for create a carousel Pin or single Pin with layout image.', 'Button text for create a carousel Pin or single Pin with layout image.')})]})}})})}})}}],tt(a.prototype,r),n&&tt(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function th(e){var t,r=(0,a.v)().logContextEvent,i=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||e7(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=i[0],d=i[1],f=(0,l.ZP)(),p=(0,P.Z)(),h=e.pinDraftId,y=(0,o.useDispatch)(),m=(0,A.Z)(),g=(0,E.F)().checkExperiment,b=m.isAuth&&m.isEmployee,_=m.isAuth&&m.isPartner,v=m.isAuth?m.id:"",x=m.isAuth?m.country:"",O=(0,eF.Z)({name:"UserResource",options:{username:m.isAuth&&m.username,field_set_key:"profile"}}),j=(0,o.useSelector)(function(e){var t=e.pinbuilder,r=t.pinDrafts,n=t.pinItems[r[h].pinItemIds[0]].media;return n?n.width/n.height:0}),S=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[h].pinItemIds}),w=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[h].mediaError}),I=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[h].type}),C=(0,eM.SU)(),T=C.viewType,k=C.viewParameter;return(0,n.useEffect)(function(){var t;(t=regeneratorRuntime.mark(function t(){var r,n,o,i,a,l,c,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((r=eZ.Z.getItem(e8.iR))&&!u)){t.next=14;break}return d(!0),eZ.Z.removeItem(e8.iR),(n=JSON.parse(r)).pin&&(y((0,N.nh)(S[0],{description:n.pin.description,title:n.pin.title,link:n.pin.link})),y((0,s.DL)(h,n.pin.alt_text)),y((0,s.Nv)(h,{boardId:null===(o=n.pin.board)||void 0===o?void 0:o.id,title:null===(i=n.pin.board)||void 0===i?void 0:i.name,privacy:null===(a=n.pin.board)||void 0===a?void 0:a.privacy})),y((0,s.$k)(h,{promptId:n.promptId,parentPinId:n.pin.id,parentPinLink:n.pin.link,imageSignature:n.imageSignature,isParentPinProductPin:!!n.pin.product_metadata}))),t.next=8,fetch(n.image);case 8:return l=t.sent,t.next=11,l.blob();case 11:c=t.sent,f=new File([c],"image.png",{type:"image/png"}),e.processFiles([f]);case 14:case"end":return t.stop()}},t)}),function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){e4(i,n,o,a,l,"next",e)}function l(e){e4(i,n,o,a,l,"throw",e)}a(void 0)})})()},[y,u,h,S,e]),(0,c.jsx)(tp,e6(e6({},e),{},{addMediaToPinDraft:function(e,t){return y(V({assets:e,pinDraftId:t,isEmployee:b,i18n:f}))},aspectRatio:j,createPinDrafts:function(e){return y((0,G.Z)({assets:e,checkExperiment:g,country:x,i18n:f,ideaPinRenamingEnabled:p,inCoverImageQualityExp:!1,isEmployee:b,logContextEvent:r,userId:v}))},createLayoutPinDraft:function(e){var t,r,n,o;return y((r=(t={assets:e,isEmployee:b,i18n:f}).assets,n=t.i18n,o=t.isEmployee,function(e,t){var i=t(),a=i.pinbuilder.pinDraftIds;ep(r).then(function(t){var r=t.media,i=t.canvasJson,a=(0,D.Z)(),l=(0,D.Z)();e((0,L.Z)(a,l,{media:e2(e2({},r),{},{id:(0,D.Z)(),name:"",type:"localImage",isLayout:!0}),canvasJson:i})),e((0,M.Z)({i18n:n,isEmployee:o,pinDraft:{pinItemIds:[l]},pinDraftId:a,storyPinPublishStopwatch:void 0}))}).then(function(){var t=a.findIndex(function(e){return!(0,W._isPristine)(i,e)});a.slice(0,t>=0?t:void 0).forEach(function(t){return e((0,eQ.Z)(t))})})}))},isPartner:_,mediaError:w,requestContext:(0,eB.B)(),checkExperiment:g,type:I,i18n:f,ideaPinRenamingEnabled:p,setPinDraftAssetError:function(e,t){return y((0,s._B)(e,t))},viewType:T,viewParameter:k,logContextEvent:r,userResource:O}))}var ty=r(146173),tm=r(424624),tg=r(209064),tb=r(121093),t_=r(485142),tv=r(795067),tx=r(829407),tP=r(717615),tO=r(231947),tj=r(277348),tS=r(647117),tw=r(562501);function tE(e){return(tE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==tE(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tE(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tE(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tT(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tD(e){var t=e.addCarouselItem,r=e.isDeletable,s=e.isEditable,u=e.isEditingEnabled,d=e.isReorderable,f=e.isTaggable,p=e.mediaType,h=e.onClickDelete,y=e.onClickDeleteInterestTags,m=e.onClickReorder,g=e.onClickTag,b=e.onClickCollectionsTag,_=e.pinDraftId,v=(e.pinItemId,e.showCarouselCreateButton),x=e.type,P=e.pinTagIds,O=e.pinTags,S=e.unfilteredTaggedObjects,I=e.deletePinTagTaggedObject,C=e.setPinTagStatus,T=e.setTaggedObjectStatus,D=e.deleteText,k=e.editText,R=e.reorderText,z=e.tagText,L=(0,a.v)().logContextEvent,M=(0,l.ZP)(),N=(0,A.Z)(),B=(0,E.F)().checkExperiment,F=(0,tP.Z)(),Z=(0,tO.nl)(N,F)&&"ad_creation"!==w.Z.scenario()&&B("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled,U=(0,n.useRef)(null),H=(0,o.useDispatch)(),V=tC((0,n.useState)(!1),2),G=V[0],Y=V[1],X=tC((0,n.useState)(!1),2),q=X[0],K=X[1],$=(0,eW.V3)(),J=$.shouldRenderPinEditorStandalone,Q=$.campaignObjectiveType,ee=$.conversionTagEvent,et=s&&w.Z.enabled("editing"),er=tC((0,n.useState)(!1),2),en=er[0],eo=er[1];(0,tx.Z)(function(){return eo(!0)}),D=void 0!==D?D:M._('Delete media', 'Button to delete the media from the Pin', 'Button to delete the media from the Pin'),k=void 0!==k?k:M._('Edit Pin', 'Button for editing the Pin image', 'Button for editing the Pin image'),R=void 0!==R?R:M._('Reorder images', 'Button for reordering the images in a carousel', 'Button for reordering the images in a carousel'),z=void 0!==z?z:M._('Tag products', 'Button for tagging products in a Pin', 'Button for tagging products in a Pin');var ei=M._('Create carousel', 'pinbuilder.create.carousel', 'create carousel pins'),ea=M._('Create carousel (this removes tagged products)', 'pinbuilder.carousel.warning', 'create carousel pins with warning text'),el=(0,n.useCallback)(function(){Y(!1)},[]),es=(0,n.useCallback)(function(){J?H((0,W.setPinEditorPinDraft)(_)):Y(!0)},[]),ec=(0,n.useCallback)(function(){L({event_type:101,component:13308,element:11244}),es()},[]),eu=(0,n.useCallback)(function(){switch(p){case"gif":return M._('GIFs can\'t be edited', 'Button indicating gif images cannot be edited', 'Button indicating gif images cannot be edited');case"webImage":return M._('Upload images to make edits', 'Button indicating scraped images cannot be edited', 'Button indicating scraped images cannot be edited');case"localVideo":if(w.Z.enabled("videoEditing"))return M._('Videos can be edited after upload finishes', 'Button indicating videos can be edited after uploading finishes', 'Button indicating videos can be edited after uploading finishes');return M._('Videos can\'t be edited', 'Button indicating videos cannot be edited', 'Button indicating videos cannot be edited');default:return M._('Cannot edit', 'Button indicating media cant be edited', 'Button indicating media cant be edited')}},[]),ed=(0,tm.Z)({pinTagIds:P,pinTags:O,taggedObjects:S}).concat((0,tm.n)({pinTagIds:P,pinTags:O,taggedObjects:S})),ef=function(e,t){var r=O[e],n=r.x,o=r.y;"deleted"!==r.status&&(n&&o?C(e,"deleted"):(I(e,t),C(e,"edited")))},ep=u?k:eu(),eh=ed&&q?ea:ei;return(0,c.jsx)(i.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,display:"flex",alignItems:"center",children:(0,c.jsxs)(i.xu,{color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",marginLeft:Z?-60:0}},display:"flex",direction:"column",marginStart:-6,padding:1,rounding:"pill",children:[et&&(0,c.jsxs)(i.xu,{"data-test-id":"edit-button",children:[(0,c.jsx)(i.u,{text:ep,idealDirection:Z?"left":"down",children:(0,c.jsx)(i.hU,{accessibilityLabel:ep,disabled:!u,iconColor:"darkGray",icon:"edit",onClick:ec,size:"md"})}),G&&(0,c.jsx)(ty.default,{onDismiss:el,pinDraftId:_})]}),f&&w.Z.enabled("tagging")&&!Z&&(0,c.jsxs)(i.xu,{"data-test-id":"tag-button",children:[(0,c.jsx)(i.xu,{children:(0,c.jsx)(i.u,{text:z,idealDirection:Z?"left":"down",children:(0,c.jsx)(i.hU,{accessibilityLabel:z,iconColor:"darkGray",icon:"tag",onClick:function(){L({event_type:101,component:13308,element:10908}),w.Z.enabled("shop_the_pin")?b():g()},size:"md",ref:U})})}),Q===tg.Ob.WEB_CONVERSION&&"CHECKOUT"===ee&&B("adv_growth_product_tagging_guidance").anyEnabled&&(0,c.jsx)(tb.Z,{placementId:1000451,eligibleIds:[505392],children:function(e){var t=e.complete,r=e.experience.display_data;return en&&(0,c.jsx)(i.mh,{children:(0,c.jsx)(i.Li,{anchor:U.current,idealDirection:"down",onDismiss:function(){},message:r.message,primaryAction:{onClick:function(){eo(!1),t()},text:r.primaryActionText}})})}}),(0,c.jsx)(j.default,{anchor:U.current,experienceIds:[500912],idealDirection:"down",placementId:1000135})]}),v&&Z&&"image"===x&&(0,c.jsx)(i.xu,{"data-test-id":"create-carousel-button",onMouseEnter:function(){return K(!0)},onMouseLeave:function(){return K(!1)},children:(0,c.jsx)(i.xu,{ref:U,children:(0,c.jsx)(i.u,{text:eh,idealDirection:Z?"left":"down",children:(0,c.jsx)(i.hU,{accessibilityLabel:eh,dangerouslySetSvgPath:{__path:t_.Z},iconColor:"darkGray",onClick:function(){L({event_type:101,component:13308,element:11123}),ed.length&&ed.forEach(function(e){ef(e.pinTagId,e.taggedObjectId),T(e.pinTagId)}),t()},size:"md"})})})}),d&&(0,c.jsx)(i.xu,{"data-test-id":"reorder-button",children:(0,c.jsx)(i.u,{text:R,idealDirection:Z?"left":"down",children:(0,c.jsx)(i.hU,{accessibilityLabel:R,iconColor:"darkGray",icon:"reorder-images",onClick:function(){L({event_type:101,component:13308,element:11124}),m()},size:"md"})})}),r&&(0,c.jsx)(i.xu,{"data-test-id":"trash-button",children:(0,c.jsx)(i.u,{text:D,idealDirection:Z?"left":"down",children:(0,c.jsx)(i.hU,{accessibilityLabel:D,iconColor:"darkGray",icon:"trash-can",onClick:function(){L({event_type:101,component:13308,element:11125}),"localVideo"===p&&w.Z.enabled("videoTagging")&&y(),h()},size:"md"})})})]})})}function tk(e){var t=(0,tw.vd)(),r=(0,o.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId]}),n=r.mode,i=r.publishOption,a=r.type,l=r.isFirstPinCreate,u=r.view,d=(0,o.useSelector)(function(t){return t.pinbuilder.pinItems[e.pinItemId]}).media,f=d?(0,tv.Z)(d)||d.type:null,p=(0,o.useSelector)(function(t){return t.pinbuilder.pinItems[e.pinItemId]}).pinTagIds,h=(0,o.useSelector)(function(e){return e.pinbuilder}).pinTags,y=(0,o.useSelector)(function(e){return e.pinbuilder.taggedObjects}),m=(0,o.useSelector)(function(r){return"single"===a&&!l&&((0,tw.wc)(r,e)||t(r,e).length>0)&&!!d&&("localImage"===d.type||"localVideo"===d.type)&&"publish-immediately"===i}),g="localImage"===f||"localVideo"===f&&!!d&&!!d.signature&&w.Z.enabled("videoEditing"),b="carousel"===a&&w.Z.enabled("carousel"),_=(0,o.useDispatch)();return(0,c.jsx)(tD,tI(tI({},e),{},{isTaggable:m,isDeletable:"create"===n&&"external"!==u,isEditable:!l,isEditingEnabled:g,isReorderable:b,mediaType:f,pinTagIds:p,pinTags:h,unfilteredTaggedObjects:y,addCarouselItem:function(){return _((0,L.Z)(e.pinDraftId,(0,D.Z)()))},onClickDelete:function(){return _((0,s.kp)(e.pinDraftId,e.pinItemId))},onClickDeleteInterestTags:function(){return _((0,s.c_)(e.pinDraftId))},onClickReorder:function(){return _((0,s.c8)(e.pinDraftId,"reorder"))},onClickTag:function(){return _((0,s.c8)(e.pinDraftId,"tag"))},onClickCollectionsTag:function(){return _((0,s.c8)(e.pinDraftId,"collectionsTag"))},setPinTagStatus:function(e,t){return _((0,tj.Cf)(e,t))},deletePinTagTaggedObject:function(e,t){return _((0,tj.Go)(e,t))},setTaggedObjectStatus:function(e){return _((0,tS.k)(e,"deleted"))}}))}var tR=r(957025);function tz(e){return(tz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tL(Object(r),!0).forEach(function(t){tU(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tH(n.key),n)}}function tB(e,t){return(tB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tF(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tZ(e){return(tZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tU(e,t,r){return(t=tH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tH(e){var t=function(e,t){if("object"!==tz(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tz(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tz(t)?t:String(t)}var tV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tB(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tZ(a);if(t){var n=tZ(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===tz(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tF(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return tU(tF(e=o.call.apply(o,[this].concat(r))),"setTextFieldInput",function(t){e.textfieldInput=t}),tU(tF(e),"getLinkError",function(){var t=e.props,r=t.link,n=t.linksUsed,o=t.i18n;return r?n.includes(r)?o._('You can\'t tag from the same page twice.', 'Error message for using the same product link twice on a Pin tag', 'Error message for using the same product link twice on a Pin tag'):(0,I.CB)(r)?null:(0,T.q0)(o):null}),tU(tF(e),"handleBlur",function(t){var r=t.value;(0,e.props.setLink)(r,e.getLinkError())}),tU(tF(e),"handleChange",function(t){var r=t.value;(0,e.props.setLink)(r)}),tU(tF(e),"handleClick",function(){var t=e.props,r=t.link,n=t.mode,o=t.openSelectTagView,i=t.setLink,a=e.getLinkError();i(r,a),a&&e.props.logContextEvent({event_type:7503,component:13308,element:10909,aux_data:{method:n}}),r&&!a&&(o(),e.props.logContextEvent({event_type:3811,component:13308,element:10909,aux_data:{method:n}}))}),tU(tF(e),"handleSubmit",function(t){t.preventDefault(),e.handleClick()}),e}return r=[{key:"componentDidMount",value:function(){var e=this;window.setTimeout(function(){e.textfieldInput&&e.textfieldInput.focus()},0)}},{key:"render",value:function(){var e=this.props,t=e.link,r=e.linkError,n="pin-draft-affiliate-link";return(0,c.jsxs)(i.xu,{paddingX:2,paddingY:3,column:12,children:[(0,c.jsx)("form",{autoComplete:"off",noValidate:!0,onSubmit:this.handleSubmit,children:(0,c.jsxs)(i.xu,{display:"flex",column:12,children:[(0,c.jsx)(i.xu,{flex:"grow",paddingX:1,children:(0,c.jsx)(i.nv,{hasError:!!r,id:n,onBlur:this.handleBlur,onChange:this.handleChange,placeholder:this.props.i18n._('Enter product or affiliate link', 'Input field for a website link to a product', 'Input field for a website link to a product'),ref:this.setTextFieldInput,size:"lg",type:"url",value:t})}),(0,c.jsx)(i.xu,{flex:"none",paddingX:1,children:(0,c.jsx)(i.zx,{color:"red",name:"pin-draft-affiliate-link-button",onClick:this.handleClick,text:this.props.i18n._('Next', 'Button to submit affiliate link to find products', 'Button to submit affiliate link to find products')})})]})}),!!r&&(0,c.jsx)(i.xu,{paddingX:1,column:12,children:(0,c.jsx)(C.Z,{errorMessage:r,htmlFor:n})})]})}}],tN(a.prototype,r),n&&tN(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function tG(e){var t=(0,a.v)().logContextEvent,r=(0,l.ZP)(),n=(0,tR.A$)(),i=(0,o.useSelector)(function(t){return t.pinbuilder.pinTags[e.pinTagId].link}),u=(0,o.useSelector)(function(t){return t.pinbuilder.pinTags[e.pinTagId].linkError}),d=(0,o.useSelector)(function(t){return n(t,e).map(function(e){return t.pinbuilder.taggedObjects[e].link})}),f=(0,o.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId].mode}),p=(0,o.useDispatch)();return(0,c.jsx)(tV,tM(tM({},e),{},{i18n:r,logContextEvent:t,link:i,linkError:u,linksUsed:d,mode:f,openSelectTagView:function(){return p((0,s.c8)(e.pinDraftId,"selectTag"))},setLink:function(t,r){return p((0,tj.mz)(e.pinTagId,t,r))}}))}var tW=r(403368),tY=r(616672),tX=r(223815);function tq(e){return(tq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t8(n.key),n)}}function t$(e,t){return(t$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tJ(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tQ(e){return(tQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function t0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t1(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?t0(Object(r),!0).forEach(function(t){t2(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t0(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function t2(e,t,r){return(t=t8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t8(e){var t=function(e,t){if("object"!==tq(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tq(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tq(t)?t:String(t)}var t3={cursor:"grab",transition:"opacity 0.15s ease"},t5=t1(t1({},t3),{},{cursor:"grabbing",opacity:.5}),t6=t1(t1({},t3),{},{cursor:"pointer"}),t4=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t$(e,t)}(l,e);var t,r,o,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tQ(l);if(t){var n=tQ(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===tq(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tJ(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return t2(tJ(e=a.call.apply(a,[this].concat(r))),"state",{pinTagDotRef:null}),t2(tJ(e),"setPinTagDotRef",function(t){e.setState({pinTagDotRef:t})}),t2(tJ(e),"handleMouseDown",function(){var t=e.props,r=t.editable,n=t.isAtTaggedObjectLimit,o=t.startMoving,i=t.selectPinTag,a=t.setTagError;i(),r&&(o(),a(n?e.props.i18n._('You\'ve reached the maximum number of products for a tag.', 'Error message when user attempts to add more than 8 products to a tag', 'Error message when user attempts to add more than 8 products to a tag'):null))}),t2(tJ(e),"handleMouseUp",function(t){var r=e.props,n=r.editable,o=r.stopMoving;t.stopPropagation(),n&&o()}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.editable,r=e.isAtTaggedObjectLimit,o=e.isGrabbing,a=e.isSelected,l=e.isSelectingTag,s=e.pinDraftId,u=e.pinTagId,d=e.pinTagKey,f=e.x,p=e.y,h=this.state.pinTagDotRef,y=t?o?t5:t3:t6;return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(tW.Z,{backdropDiameter:40,dotDiameter:k.yI,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,ref:this.setPinTagDotRef,selected:a,style:y,text:t?d:void 0,x:f,y:p}),a&&!r&&!o&&!l&&t&&!!h&&(0,c.jsx)(i.mh,{children:(0,c.jsx)(tX.Z,{children:(0,c.jsx)(i.J2,{anchor:h,idealDirection:"down",onDismiss:function(){},positionRelativeToAnchor:!1,size:"xl",shouldFocus:!1,children:(0,c.jsx)(tG,{pinDraftId:s,pinTagId:u})})})})]})}}],tK(l.prototype,r),o&&tK(l,o),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function t9(e){var t=(0,l.ZP)(),r=(0,tR.A$)(),n=(0,o.useSelector)(function(e){return e.pinbuilder}),i=n.pinDrafts,a=n.pinItems,s=n.pinTags,u=a[e.pinItemId],d=s[e.pinTagId],f=d.x,p=d.y,h=(0,o.useSelector)(function(t){return r(t,e)}),y=(0,o.useDispatch)();return(0,c.jsx)(t4,t1(t1({},e),{},{i18n:t,x:f*k.LM,y:u.media?p*(0,tY.Z)(u.media):-1,isAtTaggedObjectLimit:h.length===k.qY,isSelected:u.selectedPinTagId===e.pinTagId,isSelectingTag:"selectTag"===i[e.pinDraftId].view,selectPinTag:function(){return y((0,N.C_)(e.pinItemId,e.pinTagId))},setTagError:function(t){return y((0,N.OD)(e.pinItemId,t))}}))}function t7(e){return(t7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach(function(t){ra(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rl(n.key),n)}}function rn(e,t){return(rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ro(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ri(e){return(ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ra(e,t,r){return(t=rl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rl(e){var t=function(e,t){if("object"!==t7(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==t7(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===t7(t)?t:String(t)}var rs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rn(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ri(a);if(t){var n=ri(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===t7(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ro(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return ra(ro(e=o.call.apply(o,[this].concat(r))),"state",{isMovingPinTag:!1}),ra(ro(e),"getAnchorCoordinates",function(e){var t=e.pageX,r=e.pageY,n=e.currentTarget.getBoundingClientRect(),o=n.height,i=n.top;return{x:(t-n.left)/n.width,y:(r-i)/o}}),ra(ro(e),"isIntersecting",function(t,r){var n=e.props,o=n.height;return n.unselectedPinTags.some(function(e){return Math.pow((t-e.x)*k.LM,2)+Math.pow((r-e.y)*o,2)<k.$4})}),ra(ro(e),"handleMouseMove",function(t){var r=e.props,n=r.editable,o=r.movePinTag,i=r.selectedPinTagId;if(n&&e.state.isMovingPinTag&&i){var a=e.getAnchorCoordinates(t),l=a.x,s=a.y;e.isIntersecting(l,s)||o(i,l,s)}}),ra(ro(e),"handleMouseUp",function(t){var r=e.props,n=r.closeTagGrid,o=r.createPinTag,i=r.deselectPinTag,a=r.editable,l=r.mode,s=r.pinTagIds,c=r.selectedPinTagId,u=r.setTagError,d=r.logContextEvent;if(c||!a)a&&n(),i();else{var f=s.length;if(f<k.YM){0===f&&d({event_type:7501,component:13308,element:10910,aux_data:{method:l}}),d({event_type:101,component:13308,element:10910,aux_data:{method:l}});var p=e.getAnchorCoordinates(t);o(p.x,p.y)}u(f>=k.YM?e.props.i18n._('You\'ve reached the maximum number of tags.', 'Error message when user attempts to add more than 8 tags to a Pin', 'Error message when user attempts to add more than 8 tags to a Pin'):null)}}),ra(ro(e),"startMovingPinTag",function(){return e.setState({isMovingPinTag:!0})}),ra(ro(e),"stopMovingPinTag",function(){return e.setState({isMovingPinTag:!1})}),e}return r=[{key:"render",value:function(){var e=this,t=this.props,r=t.editable,n=t.forwardRef,o=t.pinDraftId,a=t.pinItemId,l=t.pinTagIds,s=t.selectedPinTagId,u=this.state.isMovingPinTag;return(0,c.jsx)(i.xu,{bottom:!!r||!!s||void 0,left:!0,onMouseLeave:this.stopMovingPinTag,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,overflow:r?"hidden":void 0,position:"absolute",ref:n,right:!0,top:!0,children:l.map(function(t,n){return(0,c.jsx)(t9,{editable:r,isGrabbing:u&&t===s,pinDraftId:o,pinItemId:a,pinTagId:t,pinTagKey:n+1,startMoving:e.startMovingPinTag,stopMoving:e.stopMovingPinTag},t)})})}}],rr(a.prototype,r),n&&rr(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function rc(e){var t=(0,a.v)().logContextEvent,r=(0,l.ZP)(),n=(0,tw.vd)(),i=(0,o.useSelector)(function(e){return e.pinbuilder}),u=i.pinDrafts,d=i.pinItems,f=i.pinTags,p=(0,o.useSelector)(function(t){return(0,tw.M)(t,e)}),h=(0,o.useSelector)(function(t){return n(t,e)}),y=d[e.pinItemId].media,m=y?(0,tY.Z)(y):0,g=u[e.pinDraftId].mode,b=h.filter(function(e){return e!==p}).map(function(e){return f[e]}),_=(0,o.useDispatch)();return(0,c.jsx)(rs,rt(rt({},e),{},{i18n:r,logContextEvent:t,pinTagIds:h,selectedPinTagId:p,height:m,mode:g,unselectedPinTags:b,closeTagGrid:function(){return _((0,s.c8)(e.pinDraftId,"tag"))},createPinTag:function(t,r){return _((0,N.hL)(e.pinItemId,t,r))},deselectPinTag:function(){return _((0,N.yV)(e.pinItemId))},movePinTag:function(e,t,r){return _((0,tj.uM)(e,t,r))},setTagError:function(t){return _((0,N.OD)(e.pinItemId,t))}}))}function ru(e){return(ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rd(Object(r),!0).forEach(function(t){rg(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rb(n.key),n)}}function rh(e,t){return(rh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ry(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rm(e){return(rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rg(e,t,r){return(t=rb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rb(e){var t=function(e,t){if("object"!==ru(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ru(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ru(t)?t:String(t)}var r_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rh(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=rm(a);if(t){var n=rm(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===ru(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ry(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return rg(ry(e=o.call.apply(o,[this].concat(r))),"state",{containerRef:null}),rg(ry(e),"saveRef",function(t){e.setState({containerRef:t})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.editable,r=e.pinDraftId,n=e.pinItemId,o=e.showStepTwoExperience,a=e.showStepThreeExperience,l=this.state.containerRef;return(0,c.jsx)(i.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,c.jsxs)(i.xu,{position:"relative",height:"100%",column:12,children:[(0,c.jsx)(rc,{pinDraftId:r,pinItemId:n,forwardRef:this.saveRef,editable:t}),t&&o&&(0,c.jsx)(j.default,{anchor:l,experienceIds:[500915],idealDirection:"right",placementId:1000135}),t&&a&&(0,c.jsx)(j.default,{anchor:l,experienceIds:[500916],idealDirection:"right",placementId:1000135})]})})}}],rp(a.prototype,r),n&&rp(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function rv(e){var t=(0,tw.vd)(),r=(0,tw.jk)(),n=(0,o.useSelector)(function(r){return 0===t(r,e).length}),i=(0,o.useSelector)(function(t){return r(t,e).length>0});return(0,c.jsx)(r_,rf(rf({},e),{},{showStepTwoExperience:n,showStepThreeExperience:i}))}var rx=r(770065),rP=r(483205),rO=r(325016),rj=r(327096);function rS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rw(e){var t,r,a,l=null!==(a=(0,o.useSelector)(function(t){return(0,tw.Bg)(t,e)}))&&void 0!==a?a:{},s=(0,rj.f)(),u=s.shopTheLook,d=s.setMostRecentTaggedObjectId,f=u.mostRecentTaggedObjectId,p=u.stlHoveredTaggedObjectId,h=e.height,y=e.isHovering,m=e.taggedObject,g=e.width,b=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)("inOut"))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return rS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rS(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=b[0],v=b[1],x=(0,n.useCallback)(function(){"inOut"===_&&v("none"),d(null)}),P=f===m.id,O=p===m.id;(0,n.useEffect)(function(){(y||O)&&(v("none"),d(null))},[y,O]);var j=m.pins[0].closeup_image_signature||(r=l.src.split("/"))[r.length-1].split(".")[0],S=P||O?(0,c.jsx)(i.xu,{position:"absolute",width:g,height:h,children:(0,c.jsx)(rx.Z,{closeupImageSignature:j,displayHeight:h,displayWidth:g,flyoutAnimationType:y||O?void 0:_,onAnimationComplete:x,onStlFlyoutHover:function(){},taggedItem:m,isPinbuilder:!0,isHovering:!0})}):(0,c.jsx)(i.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:m.y_percent/100*h-rP.b9/2,left:m.x_percent/100*g-rP.b9/2}},children:(0,c.jsx)(rO.Z,{})});return(0,c.jsxs)(n.Fragment,{children:[!y&&(0,c.jsx)(i.xu,{"data-test-id":"stl-dot-or-flyout",children:S}),(0,c.jsx)(i.xu,{position:"absolute",width:g,height:h,children:(0,c.jsx)(rx.Z,{closeupImageSignature:j,displayHeight:h,displayWidth:g,flyoutAnimationType:void 0,isHovering:y,isPinbuilder:!0,onAnimationComplete:x,onStlFlyoutHover:function(){},taggedItem:m})})]})}function rE(e){var t=e.isHovering,r=e.styleOverride,n=(0,l.ZP)(),o=n._('Click anywhere to tag', 'pinbuilder.product.tagging.icon', 'Click to tag products');return(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:void 0===r?{}:r},"data-test-id":"stl-overlay-text",height:"100%",position:"absolute",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",children:(0,c.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:t?void 0:"rgba(0, 0, 0, 0.4)"}},"data-test-id":"text-and-icon-wrapper",display:"flex",justifyContent:"center",rounding:"pill",paddingX:4,paddingY:4,position:"relative",children:[(0,c.jsx)(i.JO,{accessibilityLabel:o,color:"inverse",icon:"tag"}),(0,c.jsx)(i.xu,{marginStart:2,children:(0,c.jsx)(i.xv,{color:"inverse",size:"300",weight:"bold",children:o})})]})})}var rA=r(956069);function rI(e){return(rI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rC(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==rI(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rI(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rI(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rD(e){var t=e.height,r=e.isHovering,o=e.pinDraftId,l=e.pinItemId,s=e.taggedObjects,u=e.width,d=(0,a.v)().logContextEvent,f=(0,rj.f)(),p=f.setCurrentPinDraftId,h=f.setStlCallout,y=f.setStlTaggedCoord,m=f.shopTheLook.stlTaggedCoords,g=(0,n.useRef)(null);(0,n.useEffect)(function(){return function(){h({showCallout:!1})}},[]);var b=function(e){if(g.current){var t=g.current.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top,width:t.width,height:t.height}}return{}},_=function(e){var t=b(e);return!!t&&t.x<t.width-10&&t.x>10&&t.y>26&&t.y<t.height-26},v=!!s&&s.length===rA.VX,x=function(e){if(_(e)){var t=b(e);t&&(v?h({showCallout:!0,type:"error"}):(d({event_type:101,component:13308,element:12081,view_type:212}),p(o),y({x:t.x,y:t.y,xPercent:t.x/t.width,yPercent:t.y/t.height})))}else p(null),y(null)},P={height:"calc(100% - 48px)",width:"calc(100% - 16px)"},O=!!(s&&s.length>0);return(0,c.jsx)(i.Zf,{height:"100%",children:(0,c.jsxs)("div",{style:{height:"100%",position:"absolute",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"center",cursor:v?"not-allowed":"pointer"},onClick:function(e){return x(e)},onKeyDown:function(){},role:"button",tabIndex:0,ref:g,children:[r&&(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:rT(rT(rT({},{border:"dashed 2px #fff",borderRadius:8,cursor:v?"not-allowed":"pointer"}),P),{},{margin:"6px"})},position:"relative",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",children:!O&&r&&(0,c.jsx)(rE,{isHovering:r})}),s&&s.length>0&&s.map(function(e){return["created","saved"].includes(e.status)?(0,c.jsx)(rw,{height:t,isHovering:r,pinItemId:l,taggedObject:e,width:u},e.id):null}),m&&(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(i.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:rT(rT({},P),{},{top:m.y-rP.b9/2,left:m.x-rP.b9/2})},children:(0,c.jsx)(rO.Z,{})}),(0,c.jsx)(i.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:rT(rT({},P),{},{top:m.y-67.5,left:m.x-67.5})},children:(0,c.jsx)(i.o3,{})})]})]})})}var rk=r(875108);function rR(e){return(rR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rz(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==rR(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rR(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rR(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rM(e){var t=e.isHovering,r=e.imageDims,a=e.pinDraftId,l=e.pinItemId,s=r||{},u=s.height,d=s.width,f=(0,tw.vd)(),p=(0,o.useSelector)(function(t){return f(t,e)})||[],h=(0,o.useSelector)(function(e){return e.pinbuilder})||{},y=h.pinTags||{},m=h.taggedObjects||{},g=p.filter(function(e){return(0,rk.Z)(y[e])}).map(function(e){var t=m[y[e].taggedObjectIds[0]]||{},r=t.id,n=t.media,o=t.pin,i=t.status;return{id:r||"",pin_tag_key:y[e].pinTagKey||"",pins:[rL(rL({},o),{},{id:(null==o?void 0:o.id)||"",images:{"236x":{url:null==n?void 0:n.url,width:null==n?void 0:n.width,height:null==n?void 0:n.height}}})],status:i,x_percent:100*y[e].x,y_percent:100*y[e].y}});return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:t?"rgba(0,0,0,0.4)":void 0}},height:"100%",width:"100%",overflow:"hidden",position:"absolute",rounding:2}),!!u&&!!d&&(0,c.jsx)(rD,{isHovering:t,pinDraftId:a,height:u,pinItemId:l,taggedObjects:g,width:d})]})}var rN=r(373695),rB=r(113110),rF={overlay:{__style:{backgroundColor:"rgba(239, 245, 252, 0.92)",pointerEvents:"none"}},border:{__style:{border:"dashed 2px #dadada",borderRadius:6}}};function rZ(e){var t=e.type,r=(0,l.ZP)();return(0,c.jsx)(i.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,padding:3,dangerouslySetInlineStyle:rF.overlay,children:(0,c.jsx)(i.xu,{alignItems:"center",column:12,display:"flex",height:"100%",justifyContent:"center",dangerouslySetInlineStyle:rF.border,children:(0,c.jsx)(i.xv,{align:"center",color:"shopping",overflow:"normal",children:"image"===t?r._('Replace image', 'Text that appears over image when user drags to replace', 'Text that appears over image when user drags to replace'):r._('Replace video', 'Text that appears over video when user drags to replace', 'Text that appears over video when user drags to replace')})})})}var rU=r(490072);function rH(e){return(rH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rV(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==rH(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rH(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rH(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rV(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rW(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var rY=new i.Ry(1);function rX(e){var t,r=e.image,a=e.isDragging,s=e.isHovering,u=e.pinDraftId,d=e.pinItemId,f=e.showCarouselCreateButton,p=e.showCarouselControlButtons,h=e.showMediaTagOverlay,y=e.showPageNumberOverlay,m=e.view,g=e.containedHeight,b=e.setContainedHeight,_=(0,l.ZP)(),v=(0,o.useDispatch)(),x=(0,E.F)().checkExperiment,P=(0,n.useRef)(null),O=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)())||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return rW(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rW(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),j=O[0],S=O[1],I=(0,rB.Z)(),C=I.enabled,T=I.disable,D=(0,tP.Z)();(0,n.useEffect)(function(){if(P.current){var e=P.current.getBoundingClientRect().width/r.width;b(r.height*e)}},[P.current]),(0,n.useEffect)(function(){j&&v((0,N.Sz)(d,{height:j.height,width:j.width}))},[j]);var k=(0,A.Z)(),R=(0,tO.nl)(k,D)&&"ad_creation"!==w.Z.scenario()&&x("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled;return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsxs)(i.xu,{height:null!=g?g:"100%",width:"100%",position:R?"absolute":void 0,children:[(0,c.jsx)(i.xu,{"data-test-id":"media-image-view",width:"100%",height:null!=g?g:"100%",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{boxShadow:a?"0 0 0 1px #0074e8":void 0}},ref:P,position:R?"absolute":void 0,children:w.Z.enabled("offsitePinCreation")?(0,c.jsx)(rN.Z,{url:r.src,children:function(e){var t,o,a=e.image;return!j&&a.length>0&&S(a[0]),(0,c.jsx)(n.Fragment,{children:a.length>0&&(0,c.jsx)(i.Ee,{alt:_._('Uploaded image', 'Label for a user uploaded image on Pin create', 'Label for a user uploaded image on Pin create'),naturalHeight:null!==(t=a[0].height)&&void 0!==t?t:1,naturalWidth:null!==(o=a[0].width)&&void 0!==o?o:1,src:r.src,crossOrigin:C?"anonymous":void 0,onError:function(){return T()}})})}}):(0,c.jsxs)(i.Ee,{alt:_._('Uploaded image', 'Label for a user uploaded image on Pin create', 'Label for a user uploaded image on Pin create'),naturalHeight:r.height,naturalWidth:r.width,src:r.src,children:[y&&(0,c.jsx)(el,{pinDraftId:u}),h&&!w.Z.enabled("shop_the_pin")&&(0,c.jsx)(rv,{pinDraftId:u,pinItemId:d,editable:"tag"===m}),a&&(0,c.jsx)(rZ,{type:"image"})]})}),!w.Z.enabled("offsitePinCreation")&&"tag"!==m&&"collectionsTag"!==m&&(0,c.jsx)(i.xu,{position:"absolute",height:null!=g?g:"100%",width:"100%",top:!0,left:!0,right:!0,bottom:!0,children:(0,c.jsx)(i.xu,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column",marginStart:-2,children:(0,c.jsx)(tk,{deleteText:_._('Delete image', 'Button to delete the image from the Pin', 'Button to delete the image from the Pin'),pinDraftId:u,pinItemId:d,showCarouselCreateButton:f,type:"image"})})}),R&&!s&&!p&&(0,c.jsx)("div",{style:{height:"100%",position:"absolute",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"center"},role:"presentation",children:(0,c.jsx)(i.xu,{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",zIndex:rY,margin:2,width:"100%",children:(0,c.jsx)(rE,{})})})]}),R&&!p&&(0,c.jsx)(rM,{imageDims:{width:r.width,height:r.height},isHovering:s,pinDraftId:u,pinItemId:d})]})}function rq(e){var t=(0,o.useSelector)(function(e){return e.pinbuilder}),r=t.pinDrafts,n=t.pinItems,i=r[e.pinDraftId].type,a=n[e.pinItemId].media,l=(0,o.useSelector)(function(t){return(0,rU.Xe)(t,e)});return(0,c.jsx)(rX,rG(rG({},e),{},{showPageNumberOverlay:"carousel"===i&&!!a,showMediaTagOverlay:"single"===i,view:l}))}function rK(e){return(rK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?r$(Object(r),!0).forEach(function(t){r8(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r3(n.key),n)}}function r0(e,t){return(r0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function r1(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r2(e){return(r2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r8(e,t,r){return(t=r3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r3(e){var t=function(e,t){if("object"!==rK(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rK(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rK(t)?t:String(t)}var r5={progressBar:{__style:{backgroundColor:"rgba(241, 53, 53, 1)",borderRadius:"2px",transition:"1s transform",transformOrigin:"left"}},overlay:{__style:{backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.6))"}}},r6=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r0(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=r2(a);if(t){var n=r2(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===rK(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return r1(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r8(r1(e=o.call.apply(o,[this].concat(r))),"state",{visible:!!e.props.errorMessage||100!==e.props.progress}),r8(r1(e),"handleHide",function(){e.setState({visible:!1})}),r8(r1(e),"getProgressText",function(){return e.props.progress<100?e.props.i18n._('Uploading...', 'Upload progress status for pin create', 'Upload progress status for pin create'):e.props.i18n._('Finishing up', 'Upload progress status for pin create', 'Upload progress status for pin create')}),e}return r=[{key:"componentDidUpdate",value:function(e){var t=e.progress,r=this.props,n=r.errorMessage,o=r.progress,i=this.state.visible;!n&&(t<100||i)&&100===o&&(this.hidingTimeout=setTimeout(this.handleHide,3e3))}},{key:"componentWillUnmount",value:function(){this.hidingTimeout&&clearTimeout(this.hidingTimeout)}},{key:"render",value:function(){var e=this.props,t=e.errorMessage,r=e.onRetryUpload,n=e.progress;return this.state.visible?(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:r5.overlay,"data-test-id":"pinbuilder-media-view-progress-bar",height:72,left:!0,position:"absolute",rounding:2,top:!0,width:"100%",children:(0,c.jsxs)(i.xu,{margin:3,children:[(0,c.jsx)(i.xu,{height:6,marginBottom:2,position:"relative",children:!t&&(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:r5.progressBar,height:"100%",left:!0,position:"absolute",top:!0,width:"".concat(n,"%")})}),(0,c.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[!!t&&(0,c.jsx)(i.iP,{fullWidth:!1,onTap:r,rounding:"circle",children:(0,c.jsx)(i.xu,{marginEnd:2,children:(0,c.jsx)(i.JO,{accessibilityLabel:this.props.i18n._('Retry upload', 'Button allowing a user to retry a failed video upload', 'Button allowing a user to retry a failed video upload'),color:"inverse",icon:"refresh",size:20})})}),(0,c.jsx)(i.xv,{color:"inverse",inline:!0,weight:"bold",children:t||this.getProgressText()})]})]})}):null}}],rQ(a.prototype,r),n&&rQ(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component),r4=function(e){var t=(0,l.ZP)();return(0,c.jsx)(r6,rJ(rJ({},e),{},{i18n:t}))},r9=r(923490);function r7(e){return(r7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach(function(t){na(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nl(n.key),n)}}function nn(e,t){return(nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function no(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ni(e){return(ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function na(e,t,r){return(t=nl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nl(e){var t=function(e,t){if("object"!==r7(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==r7(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r7(t)?t:String(t)}var ns=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nn(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ni(a);if(t){var n=ni(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===r7(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return no(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return na(no(e=o.call.apply(o,[this].concat(r))),"state",{controls:!0,playing:!1,volume:0}),na(no(e),"setVideoRef",function(t){e.videoRef=t}),na(no(e),"handlePlay",function(){return e.setState({playing:!0})}),na(no(e),"handlePause",function(){return e.setState({playing:!1})}),na(no(e),"handleHideControls",function(){return e.setState({controls:!1})}),na(no(e),"handleVolumeChange",function(t){var r=t.event,n=t.volume;r.stopPropagation(),e.setState({volume:n})}),na(no(e),"handleMouseEnter",function(){e.controlsTimeout&&clearTimeout(e.controlsTimeout),e.setState({controls:!0})}),na(no(e),"handleMouseLeave",function(){e.controlsTimeout=setTimeout(e.handleHideControls,k.Hy)}),e}return r=[{key:"componentDidMount",value:function(){this.controlsTimeout=setTimeout(this.handleHideControls,k.Hy);var e,t,r=this.props.setContainedHeight;null!==(e=this.videoRef)&&void 0!==e&&null!==(t=e.video)&&void 0!==t&&t.clientHeight&&r(this.videoRef.video.clientHeight)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isSelecting,n=t.video;n.thumbnail!==e.video.thumbnail&&this.videoRef&&(this.videoRef.seek(n.thumbnail),this.setState({playing:!1})),r&&!e.isSelecting&&this.setState({playing:!1}),!r&&e.isSelecting&&this.setState({playing:!0})}},{key:"componentWillUnmount",value:function(){this.controlsTimeout&&clearTimeout(this.controlsTimeout)}},{key:"render",value:function(){var e=this.props,t=e.isDragging,r=e.isEdited,n=e.pinDraftId,o=e.pinItemId,a=e.retryUpload,l=e.video,s=e.videoError,u=e.view,d=e.containedHeight,f=this.state,p=f.controls,h=f.playing,y=f.volume,m=l.uploadProgress||0,g={__style:{boxShadow:t?"0 0 0 1px #0074e8":void 0}};return(0,c.jsxs)(i.xu,{dangerouslySetInlineStyle:g,"data-test-id":"media-video-view",height:null!=d?d:"100%",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,overflow:"hidden",rounding:3,width:"100%",children:[(0,c.jsxs)(i.nk,{autoplay:!0,ref:this.setVideoRef,aspectRatio:l.width/l.height,captions:"",controls:p,loop:!0,onControlsPause:this.handlePause,onControlsPlay:this.handlePlay,onPlay:this.handlePlay,onPlayError:this.handlePause,onVolumeChange:this.handleVolumeChange,playing:h,src:l.src,volume:y,children:[t&&(0,c.jsx)(rZ,{type:"video"}),(0,c.jsx)(r4,{errorMessage:s,onRetryUpload:a,progress:m})]}),r&&(0,c.jsxs)(i.xu,{bottom:!0,color:"transparentDarkGray",dangerouslySetInlineStyle:g,left:!0,padding:3,paddingX:8,position:"absolute",right:!0,top:!0,children:[(0,c.jsx)(i.X6,{color:"inverse",size:"400",children:this.props.i18n._('Your edits are stored', 'editedVideo.overlay.title', 'Text that appears over video after it has been edited if the preview is not working properly')}),(0,c.jsx)(i.xv,{color:"inverse",children:this.props.i18n._('Your edits aren\'t showing up in this preview, but don\'t worry, they\'ve been stored and will show up in your published video. Tap back to the editing mode to see your edits. ', 'editedVideo.overlay.message', 'Text that appears over video after it has been edited if the preview is not working properly')})]}),"tag"!==u&&"collectionsTag"!==u&&(0,c.jsx)(i.xu,{bottom:!0,height:null!=d?d:"100%",left:!0,position:"absolute",top:!0,children:(0,c.jsx)(i.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginStart:-2,children:(0,c.jsx)(tk,{deleteText:this.props.i18n._('Delete video', 'Button to delete the video from the Pin', 'Button to delete the video from the Pin'),pinDraftId:n,pinItemId:o})})})]})}}],nr(a.prototype,r),n&&nr(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function nc(e){var t=(0,a.v)().logContextEvent,r=(0,l.ZP)(),n=(0,P.Z)(),i=(0,A.Z)(),s=i.isAuth?i.id:"",u=i.isAuth?i.country:"",d=(0,o.useDispatch)(),f=e.pinDraftId,p=e.pinItemId,h=(0,o.useSelector)(function(e){return e.pinbuilder.selectedPinDraftIds.length>0}),y=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[f].mediaError}),m=(0,o.useSelector)(function(t){return(0,rU.Xe)(t,e)}),g=(0,E.F)().checkExperiment;return(0,c.jsx)(ns,nt(nt({},e),{},{isSelecting:h,retryUpload:function(){return d((0,r9.d)({checkExperiment:g,country:u,i18n:r,ideaPinRenamingEnabled:n,logContextEvent:t,pinDraftId:f,pinItemId:p,userId:s}))},videoError:y,view:m,i18n:r}))}var nu=r(556663),nd=r(98432);function nf(e){return(nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function np(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?np(Object(r),!0).forEach(function(t){n_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):np(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ny(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nv(n.key),n)}}function nm(e,t){return(nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ng(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nb(e){return(nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n_(e,t,r){return(t=nv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nv(e){var t=function(e,t){if("object"!==nf(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==nf(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nf(t)?t:String(t)}var nx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nm(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=nb(i);if(t){var n=nb(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===nf(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ng(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return n_(ng(e=o.call.apply(o,[this].concat(r))),"handleDrop",function(t){var r=e.props,n=r.media,o=r.processFiles,i=r.logContextEvent;t.preventDefault(),t.stopPropagation();var a=(0,eN.Z)(t.dataTransfer);i({event_type:3502,component:13308,element:10966,aux_data:{pin_builder_data:JSON.stringify({media_types:a.map(function(e){return e.type})})}}),o(w.Z.enabled("carousel")&&!n?a:a.slice(0,1))}),e}return r=[{key:"renderMedia",value:function(e,t,r,n){var o=this.props,i=o.media,a=o.pinDraftId,l=o.pinItemId,s=o.isEdited,u=o.showCarouselCreateButton,d=o.showCarouselControlButtons;if(i){if("localImage"===i.type||"webImage"===i.type)return(0,c.jsx)(rq,{isDragging:e,isHovering:t,image:i,pinDraftId:a,pinItemId:l,showCarouselCreateButton:u,showCarouselControlButtons:d,containedHeight:n,setContainedHeight:r});if("localVideo"===i.type)return(0,c.jsx)(nc,{isDragging:e,isHovering:t,pinDraftId:a,pinItemId:l,video:i,isEdited:s,containedHeight:n,setContainedHeight:r})}return null}},{key:"render",value:function(){var e=this,t=this.props,r=t.media,n=t.pinDraftId,o=t.pinItemId,i=t.processFiles;return r?(0,c.jsx)(nu.Z,{onDrop:this.handleDrop,children:function(t,r,n,o){return e.renderMedia(t,r,n,o)}}):(0,c.jsx)(th,{pinDraftId:n,pinItemId:o,processFiles:i})}}],ny(i.prototype,r),n&&ny(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function nP(e){var t=e.pinDraftId,r=(0,a.v)().logContextEvent,n=(0,l.ZP)(),i=(0,P.Z)(),s=(0,o.useDispatch)(),u=(0,A.Z)(),d=u.isAuth&&u.isPartner,f=u.isAuth?u.id:"",p=u.isAuth?u.country:"",h=(0,tP.Z)(),y=(0,tO.lJ)(u,h),m=(0,eo.useLocation)().search.includes("maxvideo"),g=(0,E.F)().checkExperiment;return(0,c.jsx)(nx,nh(nh({},e),{},{processFiles:function(e){s((0,nd.Z)({pinDraftId:t,files:e,isPartner:d,userId:f,country:p,i18n:n,logContextEvent:r,orbacSubjectId:y,checkExperiment:g,ideaPinRenamingEnabled:i,isMaxVideo:m}))},logContextEvent:r}))}var nO=r(47615);function nj(e){var t=e.pinDraftId,r=(0,a.v)().logContextEvent,n=(0,l.ZP)(),s=(0,o.useDispatch)(),u=n._('Create carousel', 'Button Text for creating Carousel Pin', 'Button Text for creating Carousel Pin');return(0,c.jsx)(i.xu,{"data-test-id":"create-carousel-button",children:(0,c.jsx)(i.zx,{accessibilityLabel:u,onClick:function(){r({event_type:101,component:13308,element:11123}),s((0,L.Z)(t,(0,D.Z)()))},iconEnd:"add",text:u,fullWidth:!0})})}function nS(e){return(nS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nw(Object(r),!0).forEach(function(t){nD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nk(n.key),n)}}function nI(e,t){return(nI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nC(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nT(e){return(nT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nD(e,t,r){return(t=nk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nk(e){var t=function(e,t){if("object"!==nS(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==nS(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nS(t)?t:String(t)}var nR={container:{__style:{borderRadius:6}},overlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}},nz=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nI(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=nT(a);if(t){var n=nT(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===nS(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return nC(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return nD(nC(e=o.call.apply(o,[this].concat(r))),"state",{isHovering:!1}),nD(nC(e),"handleMouseEnter",function(){e.setState({isHovering:!0})}),nD(nC(e),"handleMouseLeave",function(){e.setState({isHovering:!1})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.clearCustomVideoThumbnail,r=e.coverImg,n=this.state.isHovering;return(0,c.jsx)(i.xu,{height:k.u1,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,position:"relative",width:k.u1*r.width/r.height,children:(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:nR.container,overflow:"hidden",children:(0,c.jsx)(i.Ee,{alt:this.props.i18n._('Uploaded cover image', 'Label for user uploaded cover image for video', 'Label for user uploaded cover image for video'),naturalHeight:r.height,naturalWidth:r.width,src:r.src,children:n&&(0,c.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:nR.overlay,display:"flex",height:"100%",justifyContent:"center",children:(0,c.jsx)(i.hU,{accessibilityLabel:this.props.i18n._('Remove image', 'Button to remove cover image for video', 'Button to remove cover image for video'),bgColor:"white",icon:"trash-can",iconColor:"darkGray",onClick:t,size:"xs"})})})})})}}],nA(a.prototype,r),n&&nA(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function nL(e){var t=(0,l.ZP)(),r=(0,o.useDispatch)();return(0,c.jsx)(nz,nE(nE({},e),{},{i18n:t,clearCustomVideoThumbnail:function(){return r((0,N.Sz)(e.pinItemId,{customCoverImg:null}))}}))}var nM=r(123463);function nN(e){return(nN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nB(Object(r),!0).forEach(function(t){nY(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nZ(e){return function(e){if(Array.isArray(e))return nU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return nU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nU(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nU(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function nH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nX(n.key),n)}}function nV(e,t){return(nV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nG(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nW(e){return(nW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nY(e,t,r){return(t=nX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nX(e){var t=function(e,t){if("object"!==nN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==nN(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nN(t)?t:String(t)}var nq=new Map,nK=new Map,n$={backdrop:{__style:{opacity:.35}},video:{height:"100%",width:"100%"}},nJ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nV(e,t)}(l,e);var t,r,o,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=nW(l);if(t){var n=nW(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===nN(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return nG(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return nY(nG(e=a.call.apply(a,[this].concat(r))),"state",{seeking:!1,thumbnails:nq.get(e.props.video.src)||[]}),nY(nG(e),"getVideoDuration",function(){var t=e.props.video,r=t.trimmedEndTime,n=t.trimmedStartTime;return void 0===r?t.duration:r-(void 0===n?0:n)}),nY(nG(e),"getNumThumbnails",function(){var t=e.props.video,r=nK.get(t.src);if(r)return r;if(e.container){var n=Math.max(Math.ceil(e.container.getBoundingClientRect().width/e.getVideoWidth()),6);return nK.set(t.src,n),n}return 6}),nY(nG(e),"getThumbnails",function(){var t=e.props.video,r=e.getNumThumbnails(),n=0;e.videoThumbnail=document.createElement("video");var o=e.getVideoDuration(),i=function(){e.videoThumbnail.currentTime=n/r*o};e.videoThumbnail.addEventListener("canplaythrough",i),e.videoThumbnail.addEventListener("seeked",function a(){if(e.videoThumbnail.removeEventListener("canplaythrough",i),n===r){e.videoThumbnail.removeEventListener("seeked",a);return}var l=document.createElement("canvas");l.height=e.videoThumbnail.videoHeight,l.width=e.videoThumbnail.videoWidth,l.getContext("2d").drawImage(e.videoThumbnail,0,0,l.width,l.height);var s=l.toDataURL();e.mounted&&e.setState(function(e){return{thumbnails:[].concat(nZ(e.thumbnails),[s])}}),nq.set(t.src,[].concat(nZ(e.state.thumbnails),[s])),n+=1,e.videoThumbnail.currentTime=n/r*o}),e.videoThumbnail.src=t.src}),nY(nG(e),"getVideoWidth",function(){var t=e.props,r=t.height,n=t.video;return(void 0===r?92:r)*n.width/n.height}),nY(nG(e),"setContainerRef",function(t){e.container=t}),nY(nG(e),"setVideoRef",function(t){e.video=t}),nY(nG(e),"mounted",!1),nY(nG(e),"handleMouseDown",function(t){(0,e.props.onFocusSlider)(),e.setState({seeking:!0});var r=t.currentTarget.getBoundingClientRect().left;e.mouseOffsetX=t.clientX-r}),nY(nG(e),"handleMouseMove",function(t){var r=nG(e).mouseOffsetX,n=e.state.seeking,o=e.props.video.trimmedStartTime,i=void 0===o?0:o;if(n&&r){var a=e.props,l=a.setThumbnail,s=a.video,c=t.currentTarget.getBoundingClientRect(),u=c.left,d=c.width,f=Math.min(Math.max(0,Math.min((t.clientX-u-r)/(d-e.getVideoWidth()),1)),.98)*s.duration,p=nG(e).video;p&&f<=e.getVideoDuration()&&(p.currentTime=i+f,l(i+f))}}),nY(nG(e),"handleMouseUp",function(){e.setState({seeking:!1}),e.mouseOffsetX=null}),e}return r=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.props.video;this.video&&(this.video.currentTime=e.thumbnail),nq.has(e.src)||this.getThumbnails()}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.setThumbnail,n=t.video,o=n.trimmedEndTime,i=n.trimmedStartTime;if(n.src!==e.video.src){var a=nq.get(n.src);a?this.setState({thumbnails:a}):this.getThumbnails()}(e.video.trimmedEndTime!==o||e.video.trimmedStartTime!==i)&&(this.video&&(this.video.currentTime=i||0),r(i||0),this.setState({thumbnails:[]}),nq.set(n.src,[]),this.getThumbnails())}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this,t=this.props,r=t.height,o=t.showHeading,a=t.video,l=a.trimmedStartTime,s=this.state,u=s.seeking,d=s.thumbnails,f=this.getVideoWidth(),p=this.getVideoDuration(),h=Math.max(0,Math.round((a.thumbnail-(void 0===l?0:l))*100/p)/100),y=h>=.98?1:h;return(0,c.jsxs)(n.Fragment,{children:[o&&(0,c.jsx)(i.xu,{marginBottom:3,children:(0,c.jsx)(i.xv,{color:"default",lineClamp:1,weight:"bold",children:this.props.i18n._('Pick a cover image', 'Heading for slider to select video thumbnail image', 'Heading for slider to select video thumbnail image')})}),(0,c.jsxs)(i.xu,{color:"secondary",column:12,rounding:1,height:r,overflow:"hidden",position:"relative",children:[(0,c.jsx)(i.xu,{color:"default",column:12,dangerouslySetInlineStyle:n$.backdrop,height:"100%",position:"relative",children:d.map(function(t,n){return(0,c.jsx)(i.xu,{position:"absolute",height:r,width:f,dangerouslySetInlineStyle:{__style:{left:"".concat(n*(100/e.getNumThumbnails()),"%")}},children:(0,c.jsx)(i.Ee,{alt:"",naturalHeight:a.height,naturalWidth:a.width,src:t})},n)})}),(0,c.jsx)(i.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,c.jsx)(i.xu,{column:12,height:"100%",onMouseLeave:this.handleMouseUp,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,position:"relative",ref:this.setContainerRef,children:(0,c.jsx)(i.xu,{rounding:1,dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 0 3px #fff",cursor:u?"grabbing":"grab",left:"calc((100% - ".concat(f,"px) * ").concat(y,")")}},"data-test-id":"pin-draft-video-thumbnail-slider",height:r,overflow:"hidden",position:"absolute",width:f,children:(0,c.jsx)("video",{muted:!0,onMouseDown:this.handleMouseDown,ref:this.setVideoRef,src:a.src,style:n$.video,children:(0,c.jsx)("track",{kind:"captions"})})})})})]})]})}}],nH(l.prototype,r),o&&nH(l,o),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function nQ(e){var t=(0,l.ZP)(),r=(0,o.useDispatch)();return(0,c.jsx)(nJ,nF(nF({},e),{},{i18n:t,setThumbnail:function(t){return r((0,N.Sz)(e.pinItemId,{thumbnail:t}))}}))}function n0(e){return(n0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n1(Object(r),!0).forEach(function(t){n4(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n1(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function n8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n9(n.key),n)}}function n3(e,t){return(n3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function n5(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n6(e){return(n6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n4(e,t,r){return(t=n9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n9(e){var t=function(e,t){if("object"!==n0(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==n0(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n0(t)?t:String(t)}nY(nJ,"defaultProps",{height:92,showHeading:!0});var n7={border:{__style:{border:"dashed 0.5px rgba(51, 51, 51, 0.2)",borderRadius:.7}}},oe={__style:{padding:3}},ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n3(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=n6(a);if(t){var n=n6(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===n0(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return n5(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return n4(n5(e=o.call.apply(o,[this].concat(r))),"state",{coverImgError:null}),n4(n5(e),"logFailedAttempt",function(t){e.props.logContextEvent({event_type:7897,component:13308,aux_data:{error_message:t}})}),n4(n5(e),"clearCoverImgError",function(){e.setState({coverImgError:null})}),n4(n5(e),"handleDrop",function(t){var r=e.props,n=r.i18n,o=r.ideaPinRenamingEnabled;t.preventDefault(),t.stopPropagation(),e.setState({coverImgError:null});var i=(0,eN.Z)(t.dataTransfer);i.length>0&&(0,nM.Z)({i18n:n,ideaPinRenamingEnabled:o,file:i[0]}).then(function(t){return e.handleFileValidation(t)})}),n4(n5(e),"handleChange",function(t){var r=e.props,n=r.i18n,o=r.ideaPinRenamingEnabled;e.setState({coverImgError:null});var i=t.target.files&&t.target.files[0];(0,nM.Z)({i18n:n,ideaPinRenamingEnabled:o,file:i}).then(function(t){return e.handleFileValidation(t)}),t.target.value=""}),n4(n5(e),"handleFileValidation",function(t){var r=e.props,n=r.i18n,o=r.ideaPinRenamingEnabled,i=r.setCustomVideoThumbnail,a=r.video;switch(t.type){case"error":e.logFailedAttempt(t.id),e.setState({coverImgError:t});break;case"localVideo":var l=(0,T.ZP)({errorId:"FILE_UNRECOGNIZED_TYPE",i18n:n,ideaPinRenamingEnabled:o});e.logFailedAttempt(l.id),e.setState({coverImgError:l});break;case"localImage":if(Math.abs(a.width/a.height-t.width/t.height)>.001){var s=(0,T.ZP)({errorId:"VIDEO_COVER_INVALID_ASPECT_RATIO",i18n:n,ideaPinRenamingEnabled:o});e.logFailedAttempt(s.id),e.setState({coverImgError:s})}else i(t)}}),e}return r=[{key:"render",value:function(){var e=this,t=this.props,r=t.pinItemId,n=t.video,o=this.state.coverImgError;return(0,c.jsxs)(i.xu,{display:"flex",marginStart:-2,marginEnd:-2,wrap:!0,children:[(0,c.jsx)(i.xu,{flex:"grow",paddingX:2,children:(0,c.jsx)(nQ,{height:k.u1,pinItemId:r,onFocusSlider:this.clearCoverImgError,showHeading:!1,video:n})}),(0,c.jsx)(i.xu,{display:"flex",flex:"none",justifyContent:"end",paddingX:2,children:(0,c.jsx)(eV.Z,{accept:eH.xl.join(","),allowMultipleFiles:!1,hasError:!!o,id:"video-cover-upload-input",onChange:this.handleChange,onDrop:this.handleDrop,children:function(){return(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:oe,height:k.u1,overflow:"hidden",position:"relative",rounding:1,width:k.u1,children:(0,c.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:n7.border,direction:"column",display:"flex",height:"100%",justifyContent:"center",children:(0,c.jsx)(i.JO,{color:o?"error":"subtle",icon:o?"alert":"arrow-circle-up",accessibilityLabel:o?e.props.i18n._('Upload error', 'Error alert icon shown when image chosen is invalid', 'Error alert icon shown when image chosen is invalid'):e.props.i18n._('Choose a cover image', 'Add an image for the video poster cover', 'Add an image for the video poster cover'),size:18})})})}})}),!!o&&(0,c.jsx)(i.xu,{column:12,paddingX:2,paddingY:3,children:(0,c.jsx)(i.xv,{color:"error",size:"100",children:o.message})})]})}}],n8(a.prototype,r),n&&n8(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function or(e){var t=(0,a.v)().logContextEvent,r=(0,l.ZP)(),n=(0,P.Z)(),i=(0,o.useDispatch)();return(0,c.jsx)(ot,n2(n2({},e),{},{i18n:r,ideaPinRenamingEnabled:n,logContextEvent:t,setCustomVideoThumbnail:function(t){return i((0,N.Sz)(e.pinItemId,{customCoverImg:t}))}}))}function on(e){var t=e.pinItemId,r=e.video,n=(0,l.ZP)();return(0,c.jsxs)(i.xu,{children:[(0,c.jsx)(i.xu,{paddingY:3,children:(0,c.jsx)(i.xv,{size:"200",children:n._('Video cover image', 'Heading for selecting a video cover image in pin builder', 'Heading for selecting a video cover image in pin builder')})}),r.customCoverImg?(0,c.jsx)(nL,{coverImg:r.customCoverImg,pinItemId:t}):(0,c.jsx)(or,{pinItemId:t,video:r})]})}var oo=r(801815),oi=r(106331);function oa(e){var t,r=(0,l.ZP)(),a=e.height,u=e.pinDraftId,d=e.pinItemId,f=e.view,p=(0,A.Z)(),h=(0,tP.Z)(),y=(0,o.useSelector)(function(t){return(0,tw.jk)()(t,e).length>0}),m=(0,o.useSelector)(function(e){return e.pinbuilder.pinItems[d].media}),g=(0,o.useSelector)(function(e){return e.pinbuilder.pinItems[d].canvasJson}),b=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[u].isAdIneligible}),_=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[u].publishOption}),v=(0,o.useSelector)(function(e){return e.pinbuilder.pinDrafts[u].type}),P=(0,o.useSelector)(function(e){return m&&"ad_creation"===w.Z.scenario()?(0,oi.Qj)(e,u,d):null});m&&("carousel"!==v||!w.Z.enabled("carousel"))&&["localImage","assetImage","webImage"].includes(m.type)&&(m.width<k.FM||m.height<k.Mn?t=(0,eY.Z)(r._('We recommend an image that is at least {{ recommendedWidth }} px x {{ recommendedHeight }} px. This image is {{ actualWidth }} px x {{ actualHeight }} px.', 'pinbuilder.mediaImageView.warning', 'Warning message to notify the user that the pin does not meet our recommended dimension'),{recommendedWidth:k.FM,recommendedHeight:k.Mn,actualWidth:m?m.width:0,actualHeight:m?m.height:0}):m&&m.width/m.height>k.vk/k.NB&&(t=(0,eY.Z)(r._('We recommend using an aspect ratio that is at least {{ recommendedWidthRatio }} width x {{ recommendedHeightRatio }} tall.', 'pinbuilder.mediaView.warning', 'Warning message to notify the user that the pin does not meet our recommended dimension'),{recommendedWidthRatio:k.vk,recommendedHeightRatio:k.NB})));var O=!w.Z.enabled("offsitePinCreation")&&w.Z.enabled("pinQuality"),j=(0,E.F)().checkExperiment,S=(0,tO.nl)(p,h)&&"ad_creation"!==w.Z.scenario()&&j("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled,I=(0,eW.V3)(),C=I.campaignObjectiveType,T=I.allowCarouselPin,D=(0,o.useDispatch)(),R=(0,n.useRef)(null),z="single"===v&&"publish-immediately"===_,L=!m&&z,M=!!m&&"localImage"===m.type&&z&&w.Z.enabled("carousel")&&"collectionsTag"!==f,N="carousel"===v&&w.Z.enabled("carousel");return(0,n.useEffect)(function(){"ad_creation"===w.Z.scenario()&&(P&&C&&!(0,nO.rt)(P,C)?R.current="objectiveType":m&&"gif"===(0,tv.Z)(m)&&(R.current="gif"),!!R.current!==b&&D((0,s.TD)(u,!0)))},[C,D,P,b,m,u]),(0,c.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",width:271,children:[(0,c.jsxs)(i.xu,{position:"relative",display:"flex",direction:"column",height:a+k.uR,children:[(0,c.jsx)(i.xu,{height:"100%",flex:"grow","data-tutorial-id":"pin-builder-media-draft-view",children:(0,c.jsx)(nP,{media:m,isEdited:!!m&&"localVideo"===m.type&&!!g&&!!(0,oo.Z)(m,g),pinDraftId:u,pinItemId:d,showCarouselCreateButton:M,showCarouselControlButtons:N})}),(0,c.jsx)(i.xu,{height:k.N8,marginTop:2,flex:"none",children:L&&(0,c.jsx)(en,{pinDraftId:u})})]}),O&&!!t&&(0,c.jsx)(i.xu,{marginTop:3,width:"100%",children:(0,c.jsx)(i.he,{type:"warning",message:t,iconAccessibilityLabel:r._('Warning', 'pinbuilder.common.warningBanner.icon', 'The accessibility label for warning label\'s icon')})}),"objectiveType"===R.current&&(0,c.jsx)(i.xu,{marginTop:3,width:"100%","data-test-id":"ad-media-type-warning-message",children:(0,c.jsx)(i.he,{type:"warning",message:r._('Your file type isn\'t compatible with your campaign objective so it\'s ineligible for promotion in this campaign.', '[m10n] pinbuilder.mediaView.adWarning', 'Warning message displayed to user when a pin may not be eligible to be promoted based on media type'),primaryAction:{accessibilityLabel:r._('Learn more', 'pinbuilder.common.warningBanner.learnMore', 'Learn more link for warning banner'),href:eU.C5X,label:r._('Learn more', 'pinbuilder.common.warningBanner.learnMore', 'Learn more link for warning banner'),target:"blank",role:"link"},iconAccessibilityLabel:r._('Warning', 'pinbuilder.common.warningBanner.icon', 'The accessibility label for warning label\'s icon')})}),"gif"===R.current&&(0,c.jsx)(i.xu,{marginTop:3,width:"100%","data-test-id":"ad-media-type-warning-message",children:(0,c.jsx)(i.he,{type:"warning",message:r._('Your file type isn\'t eligible for promotion in any campaign.', '[m10n] pinbuilder.mediaView.adWarningGeneric', 'Warning message displayed to user when a pin may not be eligible to be promoted'),primaryAction:{accessibilityLabel:r._('Learn more', 'pinbuilder.common.warningBanner.learnMore', 'Learn more link for warning banner'),href:eU.C5X,label:r._('Learn more', 'pinbuilder.common.warningBanner.learnMore', 'Learn more link for warning banner'),target:"blank",role:"link"},iconAccessibilityLabel:r._('Warning', 'pinbuilder.common.warningBanner.icon', 'The accessibility label for warning label\'s icon')})}),T&&M&&!y&&!S&&(0,c.jsx)(i.xu,{marginTop:2,children:(0,c.jsx)(nj,{pinDraftId:u})}),N&&(0,c.jsx)(i.xu,{marginTop:2,children:(0,c.jsx)(x,{pinDraftId:u})}),"tag"!==f&&"collectionsTag"!==f&&!!m&&"localVideo"===m.type&&(0,c.jsx)(i.xu,{marginTop:2,children:(0,c.jsx)(on,{pinItemId:d,video:m})})]})}},245569:function(e,t,r){"use strict";r.d(t,{C:function(){return H}});var n=r(76911),o=r(506979),i=r(908390),a=r(515198);function l(e){var t=e.children,r=e.text;return(0,a.jsxs)(i.xu,{children:[(0,a.jsx)(i.xu,{"aria-live":"assertive",display:"visuallyHidden",id:"operation",children:r}),(0,a.jsx)(i.xu,{"aria-describedby":"operation",children:t})]})}var s=r(898781),c=r(755742),u=r(66699);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e){var t=e.children,r=e.index,o=e.onCancel,f=e.onMove,p=e.onSelected,h=e.onConfirm,y=e.totalItems,m=(0,s.ZP)(),g=d((0,n.useState)(m._('Press the spacebar to begin moving', 'Assistive text description for how to begin assistive operation', 'Assistive text description for how to begin assistive operation')),2),b=g[0],_=g[1],v=d((0,n.useState)(r),2),x=v[0],P=v[1],O=d((0,n.useState)("INIT"),2),j=O[0],S=O[1];"INIT"===j&&r!==x&&P(r);var w=function(){_((0,u.Z)(m._('Position in list updated from {{index}} to {{currentIndex}}', 'Assistive text describing current position in list', 'Assistive text describing current position in list'),{currentIndex:x+1,index:r+1})),S("CONFIRMED"),x!==r?h():o()},E=function(e){var t=x+e;("SELECTED"===j||"MOVING"===j)&&t>=0&&t<y&&(f(t),_((0,u.Z)(m._('Current position in list is {{currentIndex}} of {{totalItems}}', 'Assistive text describing current position in list', 'Assistive text describing current position in list'),{totalItems:y,currentIndex:t+1})),P(t),S("MOVING"))},A=function(){_((0,u.Z)(m._('List item {{index}} selected.', 'Assitive text describing selected item.', 'Assitive text describing selected item.'),{index:r+1})),S("SELECTED"),p(r),E(0)};return(0,a.jsx)(i.xu,{role:"listitem",rounding:2,onBlur:function(){_(m._('Press the spacebar to begin moving', 'Assistive text description for how to begin assistive operation', 'Assistive text description for how to begin assistive operation')),P(r),S("INIT"),o()},onKeyUp:function(e){switch(e.keyCode){case c.Z.SPACE:case c.Z.ENTER:"SELECTED"===j||"MOVING"===j?w():A();break;case c.Z.ESCAPE:break;case c.Z.LEFT:E(-1);break;case c.Z.RIGHT:E(1)}},tabIndex:0,children:(0,a.jsx)(l,{text:b,children:t})})}var h=r(583421),y=r(345221),m=r(299295);function g(e){var t=e.show;return(0,a.jsx)(i.xu,{color:t?"primary":"transparent",display:"flex",flex:"grow",width:2})}function b(e){var t=e.pinItem,r=t.description,n=t.media,o=t.title,l=n||{},s=l.height,c=l.src,u=l.width;return(0,a.jsx)(i.zd,{rounding:2,height:"100%",width:"100%",children:(0,a.jsx)(i.xu,{display:"flex",direction:"column",rounding:2,children:(0,a.jsx)(i.Ee,{alt:o||r,color:"#FEFEFE",src:c,naturalHeight:s,naturalWidth:u,children:e.showOverlay?(0,a.jsx)(i.xu,{"data-test-id":"reorder-index-overlay",display:"flex",justifyContent:"end",position:"absolute",right:!0,top:!0,children:(0,a.jsx)(i.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",justifyContent:"center",margin:2,paddingX:2,paddingY:1,rounding:"circle",children:(0,a.jsx)(i.xv,{align:"center",color:"inverse",size:"200",weight:"bold",children:e.index})})}):null})})})}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,r){return(t=S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var E=function(e,t,r){var n=function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=n.splice(t,1)[0];return n.splice(r,0,o),n},A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(l,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=O(l);if(t){var n=O(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return P(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return j(P(e=o.call.apply(o,[this].concat(r))),"state",{pinItemIds:e.props.pinItemIds,sourceIndex:-1,targetIndex:-1}),j(P(e),"handleDragCancel",function(){e.setState({sourceIndex:-1,targetIndex:-1})}),j(P(e),"handleDragBegin",function(t){e.setState({sourceIndex:t})}),j(P(e),"handleDragHover",function(t){t!==e.state.targetIndex&&e.setState({targetIndex:t})}),j(P(e),"handleDragEnd",function(){var t=e.props.updateIds,r=e.state,n=E(r.pinItemIds,r.sourceIndex,r.targetIndex);t(n),e.setState({pinItemIds:n,sourceIndex:-1,targetIndex:-1})}),e}return r=[{key:"render",value:function(){var e=this,t=this.props.pinItems,r=this.state,n=r.sourceIndex,o=r.targetIndex;return(0,a.jsx)(i.xu,{alignItems:"center",display:"flex",direction:"row",justifyContent:"center",minHeight:m.DB,paddingY:6,width:"100%",children:t.map(function(r,l){return(0,a.jsxs)(i.xu,{display:"flex",width:154,children:[(0,a.jsx)(g,{show:n>o&&l===o}),(0,a.jsx)(i.xu,{padding:1}),(0,a.jsx)(p,{index:l,totalItems:t.length,onCancel:e.handleDragCancel,onConfirm:e.handleDragEnd,onMove:e.handleDragHover,onSelected:e.handleDragBegin,children:(0,a.jsx)(i.zd,{rounding:2,children:(0,a.jsx)(h.Z,{index:l,onDragBegin:e.handleDragBegin,onDragHover:e.handleDragHover,onDragEnd:e.handleDragEnd,type:h.y.CarouselItem,children:(0,a.jsx)(i.xu,{display:"flex",margin:0,rounding:2,width:m.mr,children:(0,a.jsx)(b,{index:"".concat(l+1),pinItem:r,showOverlay:n!==l})})})})}),(0,a.jsx)(i.xu,{padding:1}),(0,a.jsx)(g,{show:n<o&&l===o})]},"".concat(String(r.id),"-reorder-view"))})})}}],v(l.prototype,r),n&&v(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component),I=(0,y.Z)(h.y.CarouselItem)(A),C=r(407043),T=r(616672),D=r(305782);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach(function(t){F(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z(n.key),n)}}function M(e,t){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t,r){return(t=Z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==k(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===k(t)?t:String(t)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(l,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=B(l);if(t){var n=B(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return N(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return F(N(e=o.call.apply(o,[this].concat(r))),"state",{pinItemIds:e.props.pinItemIds}),F(N(e),"commitChanges",function(){var t=e.props,r=t.saveChanges,n=t.logContextEvent,o=e.state.pinItemIds;n({event_type:101,component:13308,element:11127}),r(o)}),F(N(e),"handleOnCancel",function(){var t=e.props,r=t.cancelChanges;(0,t.logContextEvent)({event_type:101,component:13308,element:11128}),r()}),F(N(e),"updateIds",function(t){e.setState({pinItemIds:t})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.height,r=e.mapPinItems,n=e.pinDraftId,o=this.state.pinItemIds,l=t>m.sD?t:m.sD;return(0,a.jsxs)(i.xu,{direction:"column",display:"flex",minHeight:l,marginBottom:10,children:[(0,a.jsxs)(i.kC,{alignItems:"start",justifyContent:"end",children:[(0,a.jsx)(i.xu,{"data-test-id":"cancel-reorder-button",paddingX:3,children:(0,a.jsx)(i.zx,{onClick:this.handleOnCancel,text:this.props.i18n._('Cancel', 'Button Text for cancelling an changes', 'Button Text for cancelling an changes')})}),(0,a.jsx)(i.xu,{"data-test-id":"save-reorder-button",children:(0,a.jsx)(i.zx,{color:"red",onClick:this.commitChanges,text:this.props.i18n._('Done', 'Button text for accepting changes', 'Button text for accepting changes')})})]}),(0,a.jsxs)(i.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginTop:10,children:[(0,a.jsxs)(i.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,a.jsx)(i.X6,{size:"500",children:this.props.i18n._('Organize your images', 'Heading for reordering images in carousel', 'Heading for reordering images in carousel')}),(0,a.jsx)(i.xu,{paddingY:4,children:(0,a.jsx)(i.xv,{color:"subtle",children:this.props.i18n._('Drag and drop the images to change the order in which they appear in your carousel', 'Text describing how to reorder images in carousel', 'Text describing how to reorder images in carousel')})})]}),(0,a.jsx)(I,{pinDraftId:n,pinItems:r(o),pinItemIds:o,updateIds:this.updateIds})]})]})}}],L(l.prototype,r),n&&L(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function H(e){var t=(0,C.v)().logContextEvent,r=(0,s.ZP)(),n=(0,o.useSelector)(function(e){return e.pinbuilder}).pinItems,i=(0,o.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId]}).pinItemIds,l=function(e){return e.filter(function(e){return!!n[e].media}).map(function(e){return z(z({},n[e]),{},{id:e})})},c=l(i)[0].media,u=c?(0,T.Z)(c,m.mr):m.sD,d=(0,o.useDispatch)();return(0,a.jsx)(U,z(z({},e),{},{i18n:r,logContextEvent:t,height:u,pinItemIds:i,mapPinItems:l,saveChanges:function(t){d((0,D.XB)(e.pinDraftId,t)),d((0,D.c8)(e.pinDraftId,"upload"))},cancelChanges:function(){return d((0,D.c8)(e.pinDraftId,"upload"))}}))}},323201:function(e,t,r){"use strict";r.d(t,{Z:function(){return E}});var n=r(908390),o=r(506979),i=r(407043),a=r(898781),l=r(349700),s=r(299295),c=r(323716),u=r(388619),d=r(76911),f=r(305782),p=r(515198);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==h(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function b(e){var t,r=e.removeWebsiteMedia,o=e.media,i=o.height,l=o.width,s=o.src,c=(0,a.ZP)(),u=function(e){if(Array.isArray(e))return e}(t=(0,d.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=u[0],h=u[1];return(0,p.jsx)(n.iP,{onMouseEnter:function(){h(!0)},onMouseLeave:function(){h(!1)},children:(0,p.jsxs)(n.xu,{marginStart:2,position:"relative",children:[(0,p.jsx)(n.zd,{rounding:2,width:64,height:i>=l?64:"100%",wash:!0,children:(0,p.jsx)(n.Ee,{alt:"Image from ".concat(s),naturalHeight:i,naturalWidth:l,src:s})}),f&&(0,p.jsx)(n.xu,{position:"absolute",top:!0,right:!0,marginTop:-2,marginEnd:-2,rounding:"circle",color:"default",dangerouslySetInlineStyle:{__style:{border:"2px #FFFFFF solid"}},children:(0,p.jsx)(n.hU,{onClick:r,bgColor:"lightGray",icon:"cancel",iconColor:"darkGray",accessibilityLabel:c._('Unselect image', 'pinBuilder.pinDraftFooterScrapeView.pinDraftFooterScrapeViewItem.unselect.text', 'Unselect image'),size:"xs"})})]})})}function _(e){var t=(0,o.useDispatch)();return(0,p.jsx)(b,m(m({},e),{},{removeWebsiteMedia:function(){return t((0,f.YY)(e.pinDraftId,e.media.src))}}))}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==v(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O(e){var t=e.selected,r=e.pinDraftId,o=e.onAddToPin,d=e.width,f=e.marginStart,h=(0,i.v)().logContextEvent,y=(0,a.ZP)();return t.length>0?(0,p.jsxs)(n.xu,{width:d||s.of,paddingX:4,marginStart:null!=f?f:-10,height:96,display:"flex",flex:"none",alignItems:"center",justifyContent:"between",dangerouslySetInlineStyle:{__style:{boxShadow:"0px -2px 10px -8px #000000"}},children:[(0,p.jsx)(n.xu,{padding:2,overflow:"scrollX",children:(0,p.jsx)(n.kC,{alignItems:"center",justifyContent:"start",children:t.map(function(e){return(0,p.jsx)(_,{pinDraftId:r,media:e},e.src)})})}),(0,p.jsx)(n.xu,{marginStart:2,"data-test-id":"add-pins-from-search-container",children:(0,p.jsx)(n.zx,{color:"red",onClick:function(){h({event_type:101,component:13308,element:10970}),o((0,u.Z)({url:(0,c.Z)()}).tab===s.ro?"IDEA_PIN":"PIN")},text:(0,l.nk)(y.ngettext('Add {{ numPins }} Pin', 'Add {{ numPins }} Pins', t.length, 'pinBuilder.pinDraftBodyScrapeView.pinDraftFooterScrapeView.addPinButton.text', 'Add selected image from web to Pin create'),{numPins:t.length}).join("")})})]}):null}function j(e){var t=(0,o.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId].websiteMedia}),r=(0,o.useDispatch)();return(0,p.jsx)(O,P(P({},e),{},{selected:t,onAddToPin:function(t){r((0,f.q0)(e.pinDraftId,"upload",t))}}))}var S=r(313580),w=r(665866);function E(e){var t=e.pinDraftId,r=e.footerWidth,o=e.footerMarginStart,i=w.Z.enabled("multi_pin")||w.Z.enabled("multi_pin_pinner")?s.gU:s.sD+s.uR;return(0,p.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",height:i,children:[(0,p.jsx)(S.Z,{pinDraftId:t}),(w.Z.enabled("multi_pin")||w.Z.enabled("multi_pin_pinner"))&&(0,p.jsx)(j,{pinDraftId:t,width:r,marginStart:o})]})}},313580:function(e,t,r){"use strict";r.d(t,{Z:function(){return Q}});var n=r(506979),o=r(76911),i=r(908390),a=r(444445),l=r(938999),s=r(305782),c=r(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(o,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=m(o);if(t){var n=m(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return g(y(e=n.call.apply(n,[this].concat(r))),"handleClick",function(){var t=e.props,r=t.addWebsiteMedia,n=t.clearWebsiteMedia,o=t.removeWebsiteMedia;t.selected?o():(n(),r())}),e}return p(o.prototype,[{key:"render",value:function(){var e=this.props,t=e.selected,r=e.media,n=r.height,o=r.width,s=r.src;return(0,c.jsx)(l.Z,{selected:t,onClick:this.handleClick,children:(0,c.jsx)(i.zd,{rounding:2,width:a.yF,wash:!0,children:(0,c.jsx)(i.Ee,{alt:"Image from ".concat(s),naturalHeight:n,naturalWidth:o,src:s})})})}}]),r&&p(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.Component);function v(e){var t=(0,n.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId]}).websiteMedia.map(function(e){return e.src}).includes(e.media.src),r=(0,n.useDispatch)();return(0,c.jsx)(_,f(f({},e),{},{selected:t,addWebsiteMedia:function(){return r((0,s.dj)(e.pinDraftId,e.media))},clearWebsiteMedia:function(){return r((0,s.hb)(e.pinDraftId))},removeWebsiteMedia:function(){return r((0,s.YY)(e.pinDraftId,e.media.src))}}))}var x=r(407043),P=r(898781),O=r(665866),j=r(773285),S=r(780280),w=r(66699),E=r(67347);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==A(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function k(e){var t=e.media,r=t.src,n=t.height,a=t.width,l=e.pinDraftId,s=e.selected,u=e.disabled,d=e.addWebsiteMedia,f=e.removeWebsiteMedia,p=(0,x.v)().logContextEvent,h=(0,j.F)().checkExperiment,y=(0,P.ZP)(),m=(0,S.B)().isRTL,g=T((0,o.useState)(!1),2),b=g[0],_=g[1],v=h("web_set_crossorigin_anonymous").anyEnabled,A=T((0,o.useState)(v?"anonymous":void 0),2),I=A[0],C=A[1],D=O.Z.enabled("offsite_pin_creation_multi_select")?"transparent":"default";return(0,c.jsx)(i.iP,{onMouseEnter:function(){_(!0)},onMouseLeave:function(){_(!1)},onTap:function(){s?(f(),p({event_type:8722,component:13308,element:12229,aux_data:{pin_draft_id:l,src_url:r}})):!u&&(d(),p({event_type:8721,component:13308,element:12229,aux_data:{pin_draft_id:l,src_url:r}}),O.Z.enabled("offsite_pin_creation_multi_select")&&(0,E.nP)("offsite_pin_creation.select_image",{sampleRate:1,tags:{type:"multi_pin"}}))},children:(0,c.jsx)(i.xu,{color:b?"secondary":"transparent",rounding:5,dangerouslySetInlineStyle:{__style:{padding:"2px"}},children:(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{padding:"2px",cursor:"pointer",boxShadow:s?"0 0 0 2px #000000":"none",borderRadius:"18px",outline:"none"}},"data-test-id":"image-from-search-container",children:(0,c.jsxs)(i.zd,{rounding:4,wash:!0,children:[(0,c.jsx)(i.Ee,{alt:(0,w.Z)(s?y._('Deselect image from {{imageSource}}', 'PinDraftMultiSelectGridItem.ImageLabel.Deselect', 'Deselect image'):y._('Select image from {{imageSource}}', 'PinDraftMultiSelectGridItem.ImageLabel.Select', 'Select image'),{imageSource:r}),naturalHeight:n,naturalWidth:a,src:r,crossOrigin:I,onError:function(){return C(void 0)}}),(0,c.jsx)(i.xu,{position:"absolute",bottom:!0,right:!m,left:!!m,height:24,width:24,marginEnd:3,marginBottom:3,rounding:2,padding:1,color:s?"dark":D,children:s&&(0,c.jsx)(i.JO,{accessibilityLabel:y._('Selected', 'pinBuilder.pinDraftInputScrapeGrid.pinDraftInputScrapeGriditem.selected.text', 'Selected image'),color:"inverse",icon:"check"})})]})})})})}function R(e){var t=(0,n.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId]}).websiteMedia,r=t.map(function(e){return e.src}).includes(e.media.src),o=t.length>=10,i=(0,n.useDispatch)();return(0,c.jsx)(k,C(C({},e),{},{selected:r,disabled:o,addWebsiteMedia:function(){return i((0,s.dj)(e.pinDraftId,e.media))},removeWebsiteMedia:function(){return i((0,s.YY)(e.pinDraftId,e.media.src))}}))}var z=r(299295);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(t){H(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V(n.key),n)}}function F(e,t){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,r){return(t=V(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==L(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===L(t)?t:String(t)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(l,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=U(l);if(t){var n=U(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return Z(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return H(Z(e=o.call.apply(o,[this].concat(r))),"saveScrollContainer",function(t){e.scrollContainer=t}),H(Z(e),"renderItem",function(t){var r=t.data,n=e.props.pinDraftId;return O.Z.enabled("multi_pin")||O.Z.enabled("multi_pin_pinner")||O.Z.enabled("offsite_pin_creation_multi_select")?(0,c.jsx)(R,{pinDraftId:n,media:r}):(0,c.jsx)(v,{pinDraftId:n,media:r})}),e}return r=[{key:"getColumnWidth",value:function(){return O.Z.enabled("multi_pin")||O.Z.enabled("multi_pin_pinner")?z.eZ:a.yF}},{key:"getGutterWidth",value:function(){return O.Z.enabled("multi_pin")||O.Z.enabled("multi_pin_pinner")?a.lX:O.Z.enabled("offsite_pin_creation_multi_select")?a.nW:a.P2}},{key:"render",value:function(){var e=this,t=this.props,r=t.errorMessage,n=t.media,o=t.showSpinner,l=this.scrollContainer;return(0,c.jsxs)(i.xu,{ref:this.saveScrollContainer,column:12,height:"100%",width:z.km,overflow:"auto",padding:O.Z.enabled("multi_pin")||O.Z.enabled("multi_pin_pinner")?0:2,children:[(0,c.jsx)(i.$j,{accessibilityLabel:this.props.i18n._('Loading images from URL...', 'loading message', 'loading message'),show:o}),l&&n.length>0?(0,c.jsx)(i.Rk,{layout:O.Z.enabled("offsite_pin_creation_multi_select")?"flexible":"basic",columnWidth:this.getColumnWidth(),renderItem:function(t){var r=t.data;return e.renderItem({data:r})},gutterWidth:this.getGutterWidth(),items:n,minCols:O.Z.enabled("offsite_pin_creation_multi_select")?3:a.yc,scrollContainer:function(){return l}}):r&&(0,c.jsx)(i.xu,{"data-test-id":"pinbuilder-pin-draft-input-scrape-grid-error-message",children:(0,c.jsx)(i.xv,{color:"subtle",align:"center",children:(0,c.jsx)("span",{className:"deprecatedTextSizeXL",children:r})})})]})}}],B(l.prototype,r),n&&B(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(o.Component);function W(e){var t=(0,P.ZP)();return(0,c.jsx)(G,N(N({},e),{},{i18n:t}))}var Y=r(122097);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==X(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==X(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===X(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function J(e){var t=e.pinDraftId,r=e.websiteLink;return(0,c.jsx)(Y.Z,{url:r,source:"pin_create",children:function(e){var n=e.images,o=e.error,i=e.loading,a=function(e){if(Array.isArray(e))return $(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $(e,t)}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return a.forEach(function(e){return Object.assign(e,{src:e.url,type:"webImage",sourceURL:r})}),(0,c.jsx)(W,{errorMessage:o,media:a,pinDraftId:t,showSpinner:i})}},r)}function Q(e){var t=(0,n.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId].websiteLink}),r=(0,n.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId].websiteDefaultImageUrl});return(0,c.jsx)(J,K(K({},e),{},{websiteLink:t,websiteDefaultImageUrl:r}))}},854156:function(e,t,r){"use strict";r.d(t,{Z:function(){return eS}});var n=r(506979),o=r(908390),i=r(469823),a=r(76911),l=r(353356),s=r(407043),c=r(898781),u=r(349700),d=r(299295),f=r(305782),p=r(502890),h=r(277348),y=r(515198);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){O(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,r){return(t=j(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(l,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=P(l);if(t){var n=P(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return x(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return O(x(e=i.call.apply(i,[this].concat(r))),"handleTouch",function(){var t=e.props,r=t.mode,n=t.saveTaggedObject;(0,t.logContextEvent)({event_type:101,component:13308,element:10911,aux_data:{method:r}}),n()}),e}return r=[{key:"render",value:function(){var e=this.props.image,t=e.height,r=e.width,n=e.url;return(0,y.jsxs)(a.Fragment,{children:[(0,y.jsx)(o.iP,{onTap:this.handleTouch,rounding:2,children:(0,y.jsx)(o.zd,{rounding:2,width:d.yC,wash:!0,children:(0,y.jsx)(o.Ee,{alt:"Image from ".concat(null!=n?n:""),naturalHeight:null!=t?t:1,naturalWidth:null!=r?r:1,src:null!=n?n:""})})}),(0,y.jsx)(o.xu,{marginTop:1,display:"flex",justifyContent:"center",children:(0,y.jsx)(o.xv,{align:"center",children:(0,u.nk)(this.props.i18n._('{{ height }} \xD7 {{ width }}', 'Dimensions of an image separated by multiplication sign', 'Dimensions of an image separated by multiplication sign'),{height:t,width:r})})})]})}}],_(l.prototype,r),n&&_(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(a.PureComponent);function w(e){var t=(0,s.v)().logContextEvent,r=(0,c.ZP)(),o=(0,n.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId].mode}),i=(0,n.useDispatch)();return(0,y.jsx)(S,b(b({},e),{},{i18n:r,logContextEvent:t,mode:o,saveTaggedObject:function(){var t=e.pinId||(0,l.Z)();i((0,h.Dn)(e.pinTagId,t,{media:e.image})),i((0,p.C_)(e.pinItemId,null)),i((0,f.c8)(e.pinDraftId,"tag"))}}))}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach(function(t){R(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z(n.key),n)}}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,r){return(t=z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==E(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=k(a);if(t){var n=k(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return D(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return R(D(e=i.call.apply(i,[this].concat(r))),"saveScrollContainer",function(t){e.scrollContainer=t}),e}return r=[{key:"render",value:function(){var e=this,t=this.props,r=t.errorMessage,n=t.images,i=t.showSpinner,a=this.scrollContainer;return(0,y.jsx)(o.xu,{ref:this.saveScrollContainer,column:12,height:"100%",children:(0,y.jsxs)(o.xu,{padding:2,children:[(0,y.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('Loading images from URL...', 'loading message', 'loading message'),show:i}),r&&(0,y.jsx)(o.xv,{size:"200",color:"error",children:r}),a&&n.length>0&&(0,y.jsx)(o.xu,{"data-test-id":"pin-tag-grid",children:(0,y.jsx)(o.Rk,{columnWidth:d.yC,renderItem:function(t){var r=t.data;return(0,y.jsx)(w,{image:r,pinDraftId:e.props.pinDraftId,pinItemId:e.props.pinItemId,pinId:e.props.pinId,pinTagId:e.props.pinTagId})},gutterWidth:24,items:n,minCols:2,scrollContainer:function(){return a}})})]})})}}],C(a.prototype,r),n&&C(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(a.Component);function M(e){var t=(0,c.ZP)();return(0,y.jsx)(L,I(I({},e),{},{i18n:t}))}var N=r(122097),B=r(954931),F=r(131555);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach(function(t){X(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q(n.key),n)}}function G(e,t){return(G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function W(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t,r){return(t=q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e){var t=function(e,t){if("object"!==Z(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Z(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Z(t)?t:String(t)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=Y(a);if(t){var n=Y(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Z(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return W(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return X(W(e=i.call.apply(i,[this].concat(r))),"handleError",function(){var t=e.props,r=t.mode;(0,t.logContextEvent)({event_type:7580,component:13308,aux_data:{method:r}})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.closeTagGrid,r=e.pinDraftId,n=e.pinItemId,i=e.pinTagId,a=e.link,l=(0,B.Z)(a)?/\/pin\/([\w-]+)\/?$/.exec(a):null;return(0,y.jsxs)(o.xu,{display:"flex",direction:"column",height:"100%",column:12,children:[(0,y.jsxs)(o.xu,{flex:"none",display:"flex",alignItems:"center",marginBottom:6,children:[(0,y.jsxs)(o.xu,{flex:"grow",children:[(0,y.jsx)(o.xu,{marginBottom:1,children:(0,y.jsx)(o.X6,{size:"400",children:this.props.i18n._('Pick an image for this product', 'Instructions to select an image to add as a tagged product to a Pin tag', 'Instructions to select an image to add as a tagged product to a Pin tag')})}),(0,y.jsx)(o.xv,{size:"200",lineClamp:1,children:(0,u.nk)(this.props.i18n._('Images from {{ link }}', 'Text displaying the website link where images were collected', 'Text displaying the website link where images were collected'),{link:a})})]}),(0,y.jsx)(o.xu,{flex:"none",children:(0,y.jsx)(o.hU,{accessibilityLabel:this.props.i18n._('Cancel', 'Button to cancel selecting products for a Pin tag', 'Button to cancel selecting products for a Pin tag'),icon:"cancel",onClick:t,iconColor:"gray",size:"md"})})]}),(0,y.jsx)(o.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",overflow:"auto",children:l?(0,y.jsx)(F.Z,{pinId:l[1],fieldSetKey:"images_only_item",children:function(e){var t=e.pin,o=e.error,a=e.loading;return(0,y.jsx)(M,{errorMessage:o,images:t?[t.images["474x"]]:[],pinDraftId:r,pinItemId:n,pinId:l[1],pinTagId:i,showSpinner:a})}}):(0,y.jsx)(N.Z,{url:a,onError:this.handleError,source:"product_tags",children:function(e){var t=e.images,o=e.error,a=e.loading;return(0,y.jsx)(M,{errorMessage:o,images:t,pinDraftId:r,pinItemId:n,pinTagId:i,showSpinner:a})}})})]})}}],V(a.prototype,r),n&&V(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(a.PureComponent);function $(e){var t=(0,s.v)().logContextEvent,r=(0,c.ZP)(),o=(0,n.useSelector)(function(t){return t.pinbuilder.pinItems[e.pinItemId]}).selectedPinTagId,i=(0,n.useSelector)(function(e){return o?e.pinbuilder.pinTags[o].link:""}),a=(0,n.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId].mode}),l=(0,n.useDispatch)();return(0,y.jsx)(K,H(H({},e),{},{i18n:r,logContextEvent:t,link:i,mode:a,pinTagId:o||"",closeTagGrid:function(){return l((0,f.c8)(e.pinDraftId,"tag"))}}))}var J=r(258821),Q=r(665866);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==ee(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ee(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ee(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function en(e){var t=e.disabled,r=e.selectPinTag,n=(0,c.ZP)(),i=Q.Z.enabled("shop_the_pin"),a=(0,y.jsx)(o.xu,{alignItems:"center",color:"secondary",display:"flex",height:i?d.MN:d.Bj,justifyContent:"center",rounding:2,width:i?d.MN:d.Bj,children:(0,y.jsx)(o.JO,{accessibilityLabel:n._('Add product', 'Accessibility label for adding a new product to a tag', 'Accessibility label for adding a new product to a tag'),icon:"add",color:"subtle",size:24})});return t?a:(0,y.jsx)(o.iP,{onTap:r,rounding:2,children:a})}function eo(e){var t=(0,n.useDispatch)();return(0,y.jsx)(en,er(er({},e),{},{selectPinTag:function(){return t((0,p.C_)(e.pinItemId,e.pinTagId))}}))}var ei=r(957025);function ea(e){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function el(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?el(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==ea(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ea(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ea(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):el(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ec={circle:{__style:{border:"solid 2px #efefef"}},overlay:{__style:{opacity:.4}}};function eu(e){var t=(0,c.ZP)(),r=e.isSelected,n=e.pinItemId,i=e.pinTagId,a=e.pinTagKey,l=e.taggedObjectIds,s=l.length,d=!1===r;return(0,y.jsxs)(o.xu,{column:12,dangerouslySetInlineStyle:d?ec.overlay:void 0,children:[(0,y.jsxs)(o.xu,{display:"flex",alignItems:"center",marginBottom:2,children:[(0,y.jsx)(o.xu,{alignItems:"center",display:"flex",height:24,justifyContent:"center",rounding:"circle",width:24,dangerouslySetInlineStyle:ec.circle,children:(0,y.jsx)(o.xv,{size:"100",weight:"bold",children:a})}),(0,y.jsx)(o.xu,{paddingX:2,children:(0,y.jsx)(o.xv,{size:"200",weight:"bold",children:(0,u.nk)(t.ngettext('{{ numProducts }} product', '{{ numProducts }} products', s, 'Text displaying the total number of products across a single tag on a Pin', 'Text displaying the total number of products across a single tag on a Pin'),{numProducts:s})})})]}),(0,y.jsxs)(o.xu,{display:"flex",marginStart:-1,marginEnd:-1,wrap:!0,children:[l.map(function(e){return(0,y.jsx)(o.xu,{padding:1,children:(0,y.jsx)(J.Z,{disabled:d,pinTagId:i,taggedObjectId:e})},e)}),(0,y.jsx)(o.xu,{padding:1,children:(0,y.jsx)(eo,{disabled:d,pinItemId:n,pinTagId:i})})]})]})}function ed(e){var t=(0,ei.A$)(),r=(0,n.useSelector)(function(t){return t.pinbuilder.pinItems[e.pinItemId]}).selectedPinTagId,o=r?r===e.pinTagId:null,i=(0,n.useSelector)(function(r){return t(r,e)});return(0,y.jsx)(eu,es(es({},e),{},{isSelected:o,taggedObjectIds:i}))}var ef=r(948618),ep=r(562501);function eh(e){return(eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ey(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ey(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==eh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eh(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eh(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ey(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eg(e){var t=e.numProducts,r=e.pinItemId,n=e.pinTagIds,i=(0,c.ZP)(),a=n.length;return(0,y.jsxs)(o.xu,{display:"flex",direction:"column",height:"100%",column:12,children:[(0,y.jsxs)(o.xu,{flex:"none",marginBottom:6,children:[(0,y.jsx)(o.xu,{marginBottom:1,children:(0,y.jsx)(o.X6,{size:"400",children:i._('Products tagged', 'Heading for grid of products tagged to one Pin tag', 'Heading for grid of products tagged to one Pin tag')})}),(0,y.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,y.jsx)(o.xv,{size:"200",children:(0,u.nk)(i.ngettext('{{ numTags }} tag', '{{ numTags }} tags', a, 'Text displaying the total number of tags on a Pin', 'Text displaying the total number of tags on a Pin'),{numTags:a})}),(0,y.jsx)(ef.Z,{}),(0,y.jsx)(o.xv,{size:"200",children:(0,u.nk)(i.ngettext('{{ numProducts }} product', '{{ numProducts }} products', t, 'Text displaying the total number of products across all tags on a Pin', 'Text displaying the total number of products across all tags on a Pin'),{numProducts:t})})]})]}),(0,y.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",overflow:"auto",children:n.map(function(e,t){return(0,y.jsx)(o.xu,{marginBottom:5,children:(0,y.jsx)(ed,{pinItemId:r,pinTagId:e,pinTagKey:t+1})},e)})})]})}function eb(e){var t=(0,ep.vd)(),r=(0,ep.jk)(),o=(0,n.useSelector)(function(t){return r(t,e).length}),i=(0,n.useSelector)(function(r){return t(r,e)});return(0,y.jsx)(eg,em(em({},e),{},{numProducts:o,pinTagIds:i}))}var e_=r(616672);function ev(e){return(ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ex(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ex(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==ev(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ev(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ev(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ex(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eO={__style:{paddingBottom:d.uR}};function ej(e){var t=e.height,r=e.pinDraftId,n=e.pinItemId,a=e.view,l=e.paddingX;return(0,y.jsxs)(o.xu,{display:"flex",direction:"row",dangerouslySetInlineStyle:eO,children:[(0,y.jsx)(o.xu,{paddingX:void 0===l?5:l,children:(0,y.jsx)(i.Z,{height:t,pinDraftId:r,pinItemId:n})}),(0,y.jsxs)(o.xu,{flex:"grow",height:t,minHeight:d.sD,paddingX:5,width:"100%",children:["tag"===a&&(0,y.jsx)(eb,{pinItemId:n}),"selectTag"===a&&(0,y.jsx)($,{pinDraftId:r,pinItemId:n})]})]})}function eS(e){var t=(0,n.useSelector)(function(t){return t.pinbuilder.pinDrafts[e.pinDraftId]}).pinItemIds,r=(0,n.useSelector)(function(e){return e.pinbuilder.pinItems[t[0]]}).media,o=r?(0,e_.Z)(r):d.sD;return(0,y.jsx)(ej,eP(eP({},e),{},{height:o}))}},258821:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(506979),o=r(908390),i=r(407043),a=r(898781),l=r(299295),s=r(665866),c=r(925797),u=r(984268),d=r(277348),f=r(515198);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e){var t=e.disabled,r=e.media,n=e.removeTaggedObject,d=e.pin,p=(0,i.v)().logContextEvent,h=(0,a.ZP)(),y=r||{},m=y.height,g=y.width,b=y.url,_=s.Z.enabled("shop_the_pin"),v=d&&"pin"===d.type;return(0,f.jsxs)(o.xu,{position:"relative",rounding:2,"data-test-id":"tagged-item",children:[(0,f.jsx)(o.zd,{rounding:2,height:_?l.MN:l.Bj,width:_?l.MN:l.Bj,wash:!0,children:(0,f.jsx)(o.Ee,{alt:"Image from ".concat(null!=b?b:""),fit:"cover",naturalHeight:null!=m?m:1,naturalWidth:null!=g?g:1,src:null!=b?b:""})}),_&&v&&(0,f.jsxs)(o.xu,{children:[d&&(0,f.jsx)(u.dV,{input:{type:"deprecated",data:d},children:function(e){return!!e&&(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.xu,{paddingY:1,display:"flex",children:(0,f.jsx)(c.Z,{text:e,icon:"tag"})})})}}),d&&v&&(0,f.jsx)(u.v2,{input:{type:"deprecated",data:d},children:function(e){return!!e&&(0,f.jsx)(o.xu,{width:_?l.MN:l.Bj,children:(0,f.jsx)(o.xv,{overflow:"breakWord",size:"200",weight:"bold",children:e})})}})]}),(0,f.jsx)(o.xu,{position:"absolute",top:!0,left:!0,margin:2,"data-test-id":"remove-tagged-item-button",children:(0,f.jsx)(o.hU,{accessibilityLabel:h._('Remove tagged product', 'button to remove tagged product', 'button to remove tagged product'),bgColor:"white",icon:"cancel",iconColor:"gray",onClick:t?void 0:function(){n(),p({event_type:101,component:13308,element:12127})},size:"xs"})})]})}function g(e){var t=(0,n.useSelector)(function(t){return t.pinbuilder.taggedObjects[e.taggedObjectId].media||null}),r=(0,n.useSelector)(function(t){return t.pinbuilder.taggedObjects[e.taggedObjectId].pin||null}),o=(0,n.useDispatch)();return(0,f.jsx)(m,y(y({},e),{},{media:t,pin:r,removeTaggedObject:function(){o((0,d.Go)(e.pinTagId,e.taggedObjectId)),o((0,d.Cf)(e.pinTagId,"edited"))}}))}},344948:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(506979),o=r(908390),i=r(237056),a=r(407043),l=r(898781),s=r(299295),c=r(665866),u=r(773285),d=r(414327),f=r(19121),p=r(717615),h=r(231947),y=r(305782),m=r(502890),g=r(838548),b=r(515198);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function x(e){var t=e.pinDraftId,r=e.pinItemId,x=(0,a.v)().logContextEvent,P=(0,u.F)().checkExperiment,O=(0,l.ZP)(),j=(0,i.Z)(),S=(0,f.Z)(),w=S.isAuth?S.id:"",E=S.isAuth?S.country:"",A=S.isAuth&&S.isPartner,I=P("web_m10n_business_access_orbac_www").anyEnabled,C=(0,p.Z)(),T=I?(0,h.lJ)(S,C):"",D=(0,n.useDispatch)(),k=function(){D((0,m.C_)(r,null)),D((0,y.c8)(t,"upload")),D((0,m.b0)(r))},R=function(){D((0,m.C_)(r,null)),D((0,m.b0)(r)),D((0,g.Z)({pinDraftId:t,userId:w,orbacSubjectId:T,country:E,isPartner:A,i18n:O,logContextEvent:x,ideaPinRenamingEnabled:j})),D((0,d.jB)("PinResource"))},z=(0,n.useSelector)(function(e){return"selectTag"===e.pinbuilder.pinDrafts[t].view}),L=(0,n.useSelector)(function(e){return"edit"===e.pinbuilder.pinDrafts[t].mode}),M=(0,n.useSelector)(function(e){return e.pinbuilder.pinItems[r].tagError}),N=(0,n.useSelector)(function(e){return e.pinbuilder.closeupImageSignature}),B=(0,n.useSelector)(function(e){return e.pinbuilder.entryPoint}),F=(0,h.nl)(S,I?C:{})&&"ad_creation"!==c.Z.scenario()&&P("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled?function(){x({event_type:101,component:13308,element:10973,aux_data:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},B||N?{entry_point_source:B,image_signature:N}:{})}),R()}:R;return(0,b.jsxs)(o.kC,{alignItems:"stretch",justifyContent:M?"between":"end",children:[!!M&&(0,b.jsx)(o.xu,{display:"flex",alignItems:"center",paddingX:5,children:(0,b.jsx)(o.xu,{width:s.LM,children:(0,b.jsx)(o.xv,{color:"error",size:"200",children:M})})}),(0,b.jsx)(o.zx,{color:"red",disabled:z,name:"pin-draft-header-tag-view-done",onClick:L?F:function(){x({event_type:101,component:13308,element:12128}),k()},text:O._('Done', 'Button to save changes to the tagging flow.', 'Button to save changes to the tagging flow.')})]})}},430957:function(e,t,r){"use strict";r.d(t,{Z:function(){return O}});var n=r(76911),o=r(506979),i=r(82596),a=r(407043),l=r(858472),s=r(938999),c=r(474394),u=r(490072),d=r(515198);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var x=l.x7,P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=b(a);if(t){var n=b(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _(g(e=o.call.apply(o,[this].concat(r))),"handleClick",function(){var t=e.props,r=t.deselectPinDraft,n=t.inSelectMode,o=t.pinDraftId,i=t.pinDraftRefs,a=t.published,l=t.selected,s=t.selectPinDraft;(0,t.logContextEvent)({event_type:101,component:13395,element:11330});var c=i.get(o);c&&c.scrollIntoView({behavior:"smooth",block:"start"}),n&&!a&&(l?r():s())}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.pinDraftId,r=e.published,n=e.selected,o=e.selectedColor,a=e.width,l=e.height,c=e.hasError,u=e.shouldHighlightErrors,f=c&&u;return(0,d.jsx)(s.Z,{selected:f||n,onClick:this.handleClick,color:f?x:o,children:(0,d.jsx)(i.Z,{pinDraftId:t,type:"thumbnail",collapsed:r,width:a,height:l})})}}],y(a.prototype,r),n&&y(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function O(e){var t=(0,a.v)().logContextEvent,r=(0,o.useDispatch)(),n=(0,o.useSelector)(function(e){return e.pinbuilder.selectedPinDraftIds.length>0}),i=(0,o.useSelector)(function(t){return t.pinbuilder.selectedPinDraftIds.includes(e.pinDraftId)}),l=(0,o.useSelector)(function(t){return"succeeded"===t.pinbuilder.pinDrafts[e.pinDraftId].status}),s=(0,o.useSelector)(function(t){var r=t.pinbuilder;return(0,u.Fh)(r,e)});return(0,d.jsx)(P,h(h({},e),{},{hasError:s,inSelectMode:n,logContextEvent:t,published:l,selected:i,selectPinDraft:function(){return r((0,c.selectPinBuilderPinDraft)(e.pinDraftId))},deselectPinDraft:function(){return r((0,c.deselectPinBuilderPinDraft)(e.pinDraftId))}}))}},82596:function(e,t,r){"use strict";r.d(t,{Z:function(){return A}});var n=r(506979),o=r(898781),i=r(795067),a=r(908390),l=r(515198);function s(e){var t=e.type,r=e.height,n=e.width,i=(0,o.ZP)();return(0,l.jsx)(a.xu,{alignItems:"center",color:"lightWash",display:"flex",height:r||("thumbnail"===t?60:"100%"),justifyContent:"center",rounding:2,width:n||("thumbnail"===t?40:"100%"),children:(0,l.jsx)(a.JO,{accessibilityLabel:i._('Empty Pin', 'Label for Pin draft with no image', 'Label for Pin draft with no image'),color:"subtle",icon:"camera-roll",size:16})})}var c=r(76911),u=r(299295),d=r(616672);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var x={video:{height:"100%",objectFit:"cover",width:"100%"},wash:{__style:{opacity:.3}},container:{__style:{transition:"height 250ms ".concat(u.rc)}}},P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=b(i);if(t){var n=b(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return _(g(e=o.call.apply(o,[this].concat(r))),"videoRef",(0,c.createRef)()),e}return r=[{key:"componentDidMount",value:function(){var e=this.props.media;"localVideo"===e.type&&this.videoRef.current&&(this.videoRef.current.currentTime=e.thumbnail)}},{key:"componentDidUpdate",value:function(e){var t=e.media,r=this.props.media;"localVideo"===r.type&&t.thumbnail!==r.thumbnail&&this.videoRef.current&&(this.videoRef.current.currentTime=r.thumbnail)}},{key:"render",value:function(){var e=this.props,t=e.collapsed,r=e.media,n=e.text,o=e.type,i=e.width,s=void 0===i?40:i,c=("localVideo"===r.type?r:{}).customCoverImg,u="square"===o?"100%":s,f=t?4:(0,d.Z)(c||r,s);return(0,l.jsxs)(a.xu,{rounding:2,width:u,height:"square"===o?"100%":f,position:"relative",dangerouslySetInlineStyle:x.container,children:[(0,l.jsx)(a.xu,{column:12,height:"100%",dangerouslySetInlineStyle:t?x.wash:void 0,children:(0,l.jsxs)(a.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:["localVideo"===r.type&&c&&(0,l.jsx)(a.Ee,{alt:this.props.i18n._('Video Pin', 'Label for Pin draft with an video', 'Label for Pin draft with an video'),fit:"square"===o?"cover":void 0,naturalHeight:c.height,naturalWidth:c.width,src:c.src}),"localVideo"===r.type&&!c&&(0,l.jsx)("video",{muted:!0,ref:this.videoRef,src:r.src,style:x.video,children:(0,l.jsx)("track",{kind:"captions"})}),("localImage"===r.type||"webImage"===r.type)&&(0,l.jsx)(a.Ee,{alt:this.props.i18n._('Image Pin', 'Label for Pin draft with an image', 'Label for Pin draft with an image'),fit:"square"===o?"cover":void 0,naturalHeight:r.height,naturalWidth:r.width,src:r.src})]})}),("localVideo"===r.type||!!n)&&(0,l.jsxs)(a.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,display:"flex",alignItems:"center",justifyContent:"center",children:["localVideo"===r.type&&(0,l.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('Video Pin', 'Label for Pin draft with an video', 'Label for Pin draft with an video'),color:"inverse",icon:"video-camera"}),!!n&&(0,l.jsx)(a.xv,{color:"inverse",size:"100",weight:"bold",children:n})]})]})}}],y(i.prototype,r),n&&y(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(c.Component);function O(e){var t=(0,o.ZP)();return(0,l.jsx)(P,h(h({},e),{},{i18n:t}))}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==j(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(e){var t=e.collapsed,r=e.media,n=e.text,o=e.type,i=e.height,a=e.width;return r?"localImage"===r.type||"webImage"===r.type||"localVideo"===r.type?(0,l.jsx)(O,{media:r,text:n,type:o,collapsed:t,width:a}):null:(0,l.jsx)(s,{type:o,height:i,width:a})}function A(e){var t=(0,o.ZP)(),r=(0,n.useSelector)(function(e){return e.pinbuilder}),a=r.pinDrafts,s=r.pinItems,c=r.storyPinItems,u=a[e.pinDraftId],d=u.pinItemIds,f=u.pinItemIndex,p=u.type,h=d[f],y=("story"===p?c[h]:s[h]).media,m="carousel"===p?"".concat(f+1,"/").concat(d.filter(function(e){return"story"===p?!!c[e].media:!!s[e].media}).length):y&&"gif"===(0,i.Z)(y)?t._('GIF', 'Overlay text for GIF images', 'Overlay text for GIF images'):void 0;return(0,l.jsx)(E,w(w({},e),{},{i18n:t,media:y,text:m}))}},248740:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(76911),o=r(299487),i=r(407043),a=r(385740),l=r(124237),s=r(898781),c=r(780280),u=r(616693),d=r(515198);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){var t=e.isExtensionInstalled,r=void 0!==t&&t,h=e.isFromPinBuilder,y=void 0!==h&&h,m=e.onInstall,g=void 0===m?function(){}:m,b=e.onHide,_=void 0===b?function(){}:b,v=e.onMounted,x=void 0===v?function(){}:v,P=(0,i.v)().logContextEvent,O=(0,s.ZP)(),j=(0,c.B)().userAgent.browserName,S=(0,a.SU)();(0,n.useEffect)(function(){return P(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({event_type:13},{view_type:438,component:13588})),x(),function(){P({event_type:13,view_type:S.viewType,view_parameter:S.viewParameter,view_data:S.viewData})}},[]);var w=function(){r?l.Z.showError(O._('Oops! You already have the browser button.', ' - ', ' -- ')):o.Z.handleExtensionInstall(j,function(){g()})};return(0,d.jsx)(u.Z,{installClick:function(){w(),P({event_type:101,component:7,element:456})},isExtensionInstalled:!y&&r,isFromPinBuilder:!!y,skipClick:function(){_()}})}},709773:function(e,t,r){"use strict";r.d(t,{Z:function(){return X}});var n=r(76911),o=r(599689),i=r(908390),a=r(302667),l=r(215292),s=r(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var f={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0};function p(e){var t=e.accessibilityLabel,r=e.buttonColor,n=e.buttonText,o=e.handleClick,a=e.icon;return(0,s.jsx)(l.q,{children:function(e){var l=e.active,c=e.focused,u=e.hovered,p=e.onBlur,h=e.onFocus,y=e.onMouseDown,m=e.onMouseEnter,g=e.onMouseLeave,b=e.onMouseUp,_={borderRadius:24};return u&&(_=d(d({},_),{},{backgroundColor:"primary"===r?"rgb(216,0,33)":"rgb(226, 226, 226)"})),l&&(_=d(d({},_),{},{backgroundColor:"primary"===r?"rgb(207,0,31)":"rgb(218, 218, 218)"})),c&&(_=d(d({},_),f)),(0,s.jsx)("button",{"aria-label":t,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none"},onBlur:p,onFocus:h,onMouseDown:y,onMouseEnter:m,onMouseLeave:g,onMouseUp:b,onClick:o,children:(0,s.jsx)(i.xu,{color:r,rounding:2,dangerouslySetInlineStyle:{__style:_},children:(0,s.jsxs)(i.xu,{display:"flex",minHeight:40,dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},children:["share"===a&&(0,s.jsxs)(i.xu,{children:[(0,s.jsx)(i.JO,{accessibilityLabel:"",icon:"share",color:"default",size:18}),(0,s.jsx)(i.xu,{paddingX:3})]}),(0,s.jsx)(i.xv,{align:"center",color:"primary"===r?"light":"default",weight:"bold",children:n})]})})})}})}var h=r(306775),y=r(407043),m=r(898781),g=r(349700),b=r(780280),_=r(784590),v=r(19121),x=r(717615),P=r(231947),O=r(641692),j=r(580189),S=r(850760),w=r(818747);function E(e){var t=e.color,r=e.description,n=e.imageUrl,o=e.link;return(0,s.jsx)(i.xu,{alignItems:"center",justifyContent:"center",padding:2,display:"flex",children:!n&&t&&o?(0,s.jsx)(i.xu,{width:236,children:(0,s.jsx)(w.Z,{color:t,description:r,url:o})}):(0,s.jsx)(i.zd,{rounding:2,width:236,children:(0,s.jsx)("img",{alt:r,src:n})})})}var A=r(616672),I=r(152028);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z(n.key),n)}}function D(e,t){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==C(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}var L={width:"100%"},M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(l,e);var t,r,o,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=R(l);if(t){var n=R(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return k(e)}(this,e)});function l(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var e,t,r,o,i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return t=k(e=a.call.apply(a,[this].concat(s))),r="videoRef",o=(0,n.createRef)(),(r=z(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,e}return r=[{key:"componentDidMount",value:function(){var e=this.props.video;this.videoRef.current&&(this.videoRef.current.currentTime=e.thumbnail)}},{key:"render",value:function(){var e=this.props.video,t=(0,A.Z)(e.customCoverImg||e,236);return(0,s.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,children:(0,s.jsxs)(i.xu,{height:t,position:"relative",rounding:2,width:236,children:[(0,s.jsx)(i.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:e.customCoverImg?(0,s.jsx)(i.Ee,{alt:e.customCoverImg.name,naturalHeight:e.customCoverImg.height,naturalWidth:e.customCoverImg.width,src:e.customCoverImg.src}):(0,s.jsx)("video",{muted:!0,src:e.src,ref:this.videoRef,style:L,children:(0,s.jsx)("track",{kind:"captions"})})}),(0,s.jsx)(i.xu,{bottom:!0,left:!0,right:!0,top:!0,alignItems:"end",display:"flex",justifyContent:"start",padding:2,position:"absolute",children:(0,s.jsx)(I.Z,{duration:1e3*e.duration})})]})})}}],T(l.prototype,r),o&&T(l,o),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=U(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U(n.key),n)}}function U(e){var t=function(e,t){if("object"!==N(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==N(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===N(t)?t:String(t)}function H(e,t){return(H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=V(a);if(t){var n=V(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),o.apply(this,arguments)}return r=[{key:"renderPinCreateSuccessImage",value:function(){var e=this.props,t=e.color,r=e.description,n=e.imageUrl,o=e.link,a=e.websiteMedia;return a&&a.length>1?(0,s.jsx)(i.xu,{maxHeight:540,overflow:"scrollY",padding:8,children:(0,s.jsx)(i.Rk,{renderItem:function(e){var t=e.data;return(0,s.jsx)(E,{description:r,imageUrl:t.src})},items:a,minCols:3,columnWidth:160})}):(0,s.jsx)(E,{color:t,description:r,imageUrl:n,link:o})}},{key:"render",value:function(){var e=this.props.relatedBoard;if(!e.isLoaded)return(0,s.jsx)(i.xu,{minHeight:250,children:(0,s.jsx)(i.$j,{accessibilityLabel:this.props.i18n._('See suggested board', 'suggested board to follow after pinnning', 'suggested board to follow after pinnning'),show:!0})});if(e.data&&!e.data.length){var t=this.props.video;return(0,s.jsx)(i.xu,{marginTop:-8,paddingY:8,children:t?(0,s.jsx)(M,{video:t}):this.renderPinCreateSuccessImage()})}return null}}],Z(a.prototype,r),n&&Z(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.PureComponent);function W(e){var t=(0,m.ZP)(),r=(0,v.Z)(),n=(0,x.Z)(),o=(0,P.lJ)(r,n),i=(0,_.Z)({name:"RelatedBoardForPinRandomFeedResource",options:{page_size:1,pin:e.pinId,orbac_subject_id:o},noCache:!0});return(0,s.jsx)(G,F(F({},e),{},{i18n:t,relatedBoard:i}))}var Y=r(67347);function X(e){var t=e.boardName,r=e.color,l=e.description,c=e.hideHeader,u=e.imageUrl,d=e.link,f=e.onClose,w=e.openNewTab,E=e.pin,A=e.pinId,I=e.sectionName,C=e.siteType,T=e.video,D=e.websiteMedia,k=(0,m.ZP)(),R=(0,y.v)().logContextEvent,z=(0,o.useHistory)(),L=(0,b.B)(),M=(0,v.Z)(),N=(0,x.Z)(),B=(0,P.lJ)(M,N),F=(0,_.Z)({name:"PinResource",options:{id:A,field_set_key:"detailed",orbac_subject_id:B}}),Z=function(){return E&&E.is_quick_promotable_by_pinner&&3!==C&&(0,h.su)(M)};(0,n.useEffect)(function(){Z()?((0,a.vF)(R,O.NH.RENDER,O.Xc.PIN_CREATE_SUCCESS_PINNER,120,207),(0,Y.nP)("web.pin_create.success.promote")):(0,Y.nP)("web.pin_create.success.send"),(0,Y.nP)("web.pin_create.success.default")},[]);var U=(0,j.Z)({currentSiteType:C,destinationSiteType:0,inputPath:"/pin/".concat(A)}),H=I?(0,g.nk)(k._('Saved to {{ sectionName }} in {{ boardName }}', ' - ', ' -- '),{boardName:t,sectionName:I}):(0,g.nk)(k._('Saved to {{ boardName }}', ' - ', ' -- '),{boardName:t}),V=F.data&&F.data.link_domain&&F.data.link_domain.official_user,G=M.isAuth&&V&&V.id!==M.id&&!V.followed_by_me;return(0,s.jsx)(i.xu,{minWidth:500,"data-test-id":"saved-pin-modal",children:(0,s.jsxs)(i.xu,{color:"default",rounding:2,width:"auto",children:[c?null:(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(i.xu,{paddingX:6,paddingY:4,children:(0,s.jsx)(i.X6,{size:"500",children:H})}),(0,s.jsx)(i.iz,{})]}),!!V&&G&&(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(i.xu,{paddingX:6,paddingY:3,children:(0,s.jsx)(S.Z,{user:V})}),(0,s.jsx)(i.iz,{})]}),(0,s.jsx)(W,{color:r,description:void 0===l?"":l,imageUrl:u,link:d,pinId:A,video:T,websiteMedia:D}),(0,s.jsx)(i.iz,{}),(0,s.jsx)(i.xu,{paddingX:6,paddingY:2,children:(0,s.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"end",children:[!Z()&&(0,s.jsx)(p,{accessibilityLabel:k._('Send', 'Accessible label for button to send this pin', 'Accessible label for button to send this pin'),handleClick:function(){z.push("/pin/".concat(A,"/?share=true"))},icon:"share",buttonColor:"secondary",buttonText:k._('Send', 'Text for button to send this pin', 'Text for button to send this pin'),tabIndex:0}),(0,s.jsx)(i.xu,{paddingX:1,"data-test-id":"seeItNow",children:(0,s.jsx)(i.ZP,{href:U,target:w?"blank":null,onClick:function(){(0,a.vF)(R,O.NH.DISMISS,O.Xc.PIN_CREATE_SUCCESS_PINNER,123,207),f()},color:M.isAuth&&M.isPartner||E&&Z()?"gray":"red",text:k._('See it now', 'pinCreateSuccess.seeItNow', 'Text for button that takes user to see their new Pin')})}),E&&Z()&&(0,s.jsx)(i.xu,{paddingX:1,children:(0,s.jsx)(i.zx,{color:"red",text:k._('Promote your Pin', 'Text for button to that takes users to promote a Pin', 'Text for button to that takes users to promote a Pin'),onClick:function(){(0,a.vF)(R,O.NH.CLICK,O.Xc.PIN_CREATE_SUCCESS_PINNER,101,207),(0,h.Pw)({history:z,pinId:A,requestContext:L}),f()}})})]})})]})})}},453451:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(908390),o=r(807592),i=r(898781),a=r(515198);function l(e){var t=e.colorOverride,r=e.isSoldOut,l=e.isStale,s=e.productDetails,c=e.showSalesPrice,u=e.type,d=e.weight,f=void 0===d?"bold":d,p=s.maxPrice,h=s.minPrice,y=s.price,m=s.standardPrice,g=!!y&&!!m&&y!==m,b="100";"pdpPlusHeading"===u?b="400":"heading"===u?b="500":"pdpPlusMobileHeading"===u&&(b="300");var _=(0,i.ZP)(),v=_._('See price on site', 'product.price.stale', 'Product is stale'),x=_._('Sold out', 'product.price.soldOut', 'Product is sold out');return l?(0,a.jsx)(n.xv,{size:b,color:"subtle",weight:"bold",children:v}):(0,a.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[r&&(0,a.jsx)(n.xu,{"data-test-id":"product-sold-out-text",marginEnd:2,children:(0,a.jsx)(n.xv,{size:b,color:"subtle",weight:"bold",children:x})}),(!!y||!!h||!!p)&&(0,a.jsx)(n.xv,{color:t||(g?"shopping":"default"),size:b,weight:f,children:(0,a.jsx)("span",{children:(0,o.Z)({maxPrice:p,minPrice:h,price:y})})}),g&&!c&&(0,a.jsx)(n.xu,{marginStart:1,children:(0,a.jsx)(n.xv,{color:"subtle",size:b,weight:["pdpPlusHeading","pdpPlusMobileHeading"].includes(u)?"normal":f,children:(0,a.jsx)("span",{style:{textDecoration:"line-through"},children:m})})})]})}},770065:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(76911),o=r(908390),i=r(453451),a=r(407043),l=r(391254),s=r(335174),c=r(327096),u=r(515198);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var f=function(){};function p(e){var t,r,p,h=e.alwaysShow,y=e.closeupImageSignature,m=e.displayHeight,g=e.displayWidth,b=e.onStlFlyoutHover,_=e.taggedItem,v=e.flyoutAnimationType,x=e.onAnimationComplete,P=e.isPinbuilder,O=e.isHovering,j=(0,a.v)().logContextEvent,S=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)())||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=S[0],E=S[1];(0,n.useEffect)(function(){if(_&&!P){var e=_.pins[0];j({event_type:120,view_type:3,element:11962,aux_data:{image_signature:y,commerce_data:JSON.stringify({pin_is_shop_the_look:!0,x:_.x_percent,y:_.x_percent,product_pin_id:e.id||_.id,product_pin_image_signature:e.image_signature,pin_tag_key:_.pin_tag_key})}})}},[_,P]);var A=(0,c.f)().shopTheLook.selectedStlItemId,I=_.x_percent/100*g,C=_.y_percent/100*m,T=_.pins,D=null!==(r=(void 0===T?[]:T)[0])&&void 0!==r?r:{},k=D||{},R=k.grid_title,z=k.id,L=k.images,M=k.rich_summary,N=(L||{})["236x"]||{},B=(((M||{}).products||[])[0]||{}).offer_summary||{},F=B||{},Z=F.price,U=F.max_price,H=D.id===A;"in"===v||H?p="stelaSlideIn .3s ease-in-out forwards":"out"===v?p="stelaSlideOut .3s ease-in-out forwards":"inOut"===v?p="stelaSlideInThenOut 3s ease-in-out forwards":"none"===v&&(p="none");var V=!!B&&(!!Z||!!U),G=V?124:48,W="up",Y=I<G+10,X=I+(G+10)/2>g,q=C<60;return Y&&!q?W="right":X&&!q&&(W="left"),Y&&q?(I=G/2+10,C=70):X&&q?(I=g-G/2-10,C=70):q&&!(Y&&X)&&(W="down"),(0,u.jsxs)(o.xu,{"data-test-id":"stl-flyout",onMouseEnter:function(){return b(!0)},onMouseLeave:function(){return b(!1)},position:"relative",ref:function(e){e&&!w&&E(e)},width:1,dangerouslySetInlineStyle:{__style:{top:C,left:I}},children:[(0,u.jsx)(l.Z,{unsafeCSS:(0,s.Z)()}),(P&&O||!P)&&(0,u.jsx)(o.mh,{children:(0,u.jsx)(o.xu,{onAnimationEnd:function(){x&&"inOut"===v&&x()},dangerouslySetInlineStyle:{__style:h?{opacity:1}:{animation:p,opacity:"none"===p?0:void 0}},children:(0,u.jsx)(o.Tg,{href:P?"":"/pin/".concat(z),onTap:P?f:function(){if(!P){var e=_.pins[0];j({event_type:101,view_type:3,element:11962,aux_data:{image_signature:y,commerce_data:JSON.stringify({pin_is_shop_the_look:!0,x:_.x_percent,y:_.x_percent,product_pin_id:e.id||_.id,product_pin_image_signature:e.image_signature,pin_tag_key:_.pin_tag_key})}})}},children:(0,u.jsx)(o.J2,{anchor:w,idealDirection:W,onDismiss:function(){},positionRelativeToAnchor:!1,_deprecatedShowCaret:!0,size:"flexible",children:(0,u.jsxs)(o.xu,{color:"default",rounding:3,height:48,width:G,justifyContent:"center",alignItems:"center",alignContent:"center",display:"flex",children:[(0,u.jsx)(o.xu,{rounding:3,height:40,width:40,minWidth:40,overflow:"hidden",display:"flex",direction:"row",marginStart:V?1:0,children:(0,u.jsx)(o.zd,{wash:!0,height:40,width:40,children:(0,u.jsx)(o.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:N.url||""})})}),V&&(0,u.jsxs)(o.xu,{display:"flex",direction:"column",flex:"grow",alignContent:"center",justifyContent:"center",marginStart:1,children:[(0,u.jsx)(i.Z,{showSalesPrice:!0,productDetails:{maxPrice:B.max_price,minPrice:B.min_price,price:B.price,standardPrice:B.standard_price},type:"text"}),R&&(0,u.jsx)(o.xv,{size:"100",lineClamp:1,children:R})]})]})})})})})]})}},424624:function(e,t,r){"use strict";r.d(t,{Z:function(){return l},n:function(){return s}});var n=r(875108);function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=e.pinTagIds,i=e.pinTags,a=e.taggedObjects;return(void 0===r?[]:r).filter(function(e){var r=(0,n.Z)(i[e])&&"deleted"!==i[e].status;return t?r:!r}).map(function(e){return i[e].taggedObjectIds.map(function(t){var r;return{taggedObjectId:t,pinTagId:e,status:null===(r=a[t])||void 0===r?void 0:r.status}})}).reduce(function(e,t){return[].concat(o(e),o(t))},[])}function l(e){return a(e,!0)}function s(e){return a(e,!1).filter(function(e){return["saved","created"].includes(e.status)})}},807592:function(e,t,r){"use strict";function n(e){var t=e.maxPrice,r=e.minPrice,n=e.price;return t&&r?"".concat(r,"-").concat(t):n}r.d(t,{Z:function(){return n}})},293759:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(599689),o=r(237056),i=r(53987);function a(e){var t=e.isAdsManager,r=(0,n.useLocation)(),a=(0,o.Z)(!0)&&(0,i.mk)(r);return!!t||a}},699222:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(506979),o=r(908390),i=r(407043),a=r(499128),l=r(898781),s=r(902355),c=r(515198);function u(e){var t=e.hideToast,r=e.isThumbnailUrlValid,n=e.pinId,s=e.text,u=e.thumbnailUrl,d=(0,l.ZP)(),f=(0,i.v)().logContextEvent;return(0,c.jsx)(a.ZP,{text:s,primaryAction:{accessibilityLabel:d._('Navigate to created Pin', 'storyboard.toast.viewPublishedPin.accessibilityLabel', 'Accessibility label on a button link text on a toast that appears to confirm creation of a pin. Tapping on the button navigates user to the created pin'),label:d._('View', 'storyboard.toast.viewPublishedPin.buttonText', 'Button link text on a toast that appears to confirm creation of a pin. Tapping on the button navigates user to the created pin'),onClick:function(){}},onHide:t,href:"/pin/".concat(n),onClick:function(){f({event_type:101,view_type:212,view_parameter:3228,element:13911})},duration:5e3,thumbnail:r?{image:(0,c.jsx)(o.Ee,{alt:"",naturalHeight:45,naturalWidth:45,role:"presentation",src:u},u)}:void 0})}function d(e){var t=e.hideToast,r=e.thumbnailUrl,n=e.pinId,o=(0,l.ZP)(),i=(0,s.Z)(r),a=o._('Your Pin has been published!', 'storyboard.toast.viewPublishedPin.text', 'Text on a toast that appears to confirm creation of a pin');return(0,c.jsx)(u,{hideToast:t,isThumbnailUrlValid:!!i,pinId:n,text:a,thumbnailUrl:r})}var f=r(599689),p=r(451820),h=r(782534),y=r(349700),m=r(780280),g=r(19121);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==b(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function x(e){var t=e.hideToast,r=e.scheduledDate,n=e.scheduledTime,o=e.showAction,i=(0,l.ZP)(),s=(0,m.B)(),u=(0,g.Z)().username,d=(0,f.useHistory)(),b=r&&n&&new Date(r.getFullYear(),r.getMonth(),r.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()),_=r&&n&&b?(0,y.nk)(i._('Scheduled for {{ date }} at {{ scheduledTime }}', 'schedulePinConfirmation.toast.description', 'Description text for the schedule pin confirmation toast. date:date given to schedule a pin. scheduledTime:time given to schedule a pin'),{date:(0,p.Z)(s.locale,r,h.k.SHORT_MONTH_DAY,!1),scheduledTime:b.toLocaleTimeString([s.locale],{hour:"2-digit",minute:"2-digit"})}).join(""):i._('Your Pin has been scheduled', 'schedulePinConfirmation.toast.description.fallback', 'Description text for the schedule pin confirmation toast');return(0,c.jsx)(a.ZP,v(v({duration:5e3,onHide:t},o&&u?{primaryAction:{accessibilityLabel:i._('Navigate to scheduled Pins', 'storyboard.toast.viewScheduledPin.accessibilityLabel', 'Accessibility label on a button link text on a toast that appears to confirm scheduling of a Pin. Tapping on the button navigates user to scheduled Pins'),label:i._('View', 'storyboard.toast.viewScheduledPin.buttonText', 'Button link text on a toast that appears to confirm scheduling of a Pin. Tapping on the button navigates user to scheduled Pins'),onClick:function(){d.push("/".concat(u,"/scheduled-pins/"))}}}:{}),{},{text:_}))}var P=r(343341),O=r(490072);function j(){var e=(0,n.useSelector)(function(e){return{pinDrafts:(0,O.Wp)(e)}}).pinDrafts,t=(0,P.F9)();return function(r){var n=r.pinId,o=r.showActionForScheduledPin,i=void 0!==o&&o,a=Object.values(e).find(function(e){return e.pinId===n})||{},l=a.storyPin,s=a.publishOption,u=a.scheduledDate,f=a.scheduledTime,p=(null==l?void 0:l.image_square_url)||"";t.showToast(function(e){var t=e.hideToast;return"publish-later"===s?(0,c.jsx)(x,{hideToast:t,scheduledDate:u,scheduledTime:f,showAction:i}):(0,c.jsx)(d,{hideToast:t,pinId:n,thumbnailUrl:p})})}}},630767:function(e,t,r){"use strict";r.d(t,{Z:function(){return R}});var n=r(76911),o=r(711054),i=r(807020),a=r(287454),l=r(46801),s=r(908390),c=r(515198),u=function(e){var t=e.children,r=e.description,o=e.error,i=e.id,a=e.label,l=e.required,u=e.onLabelTouch;return(0,c.jsxs)(n.Fragment,{children:[(a||l)&&(0,c.jsx)(s.__,{htmlFor:i,children:(0,c.jsx)(s.xu,{marginBottom:1,children:(0,c.jsxs)(s.xv,{color:o?"error":"default",children:[a,l&&(0,c.jsx)(s.xv,{color:"error",inline:!0,weight:"bold",children:(0,c.jsx)("span",{"aria-hidden":"true",children:"*"})})]})})}),t,(!!o||!!r)&&(0,c.jsx)(s.__,{htmlFor:i,children:(0,c.jsx)(s.xu,{marginTop:1,children:u?(0,c.jsx)(s.iP,{onTap:u,children:(0,c.jsx)(s.xv,{color:o?"error":"default",size:"200",children:o||r})}):(0,c.jsx)(s.xv,{color:o?"error":"default",size:"200",children:o||r})})})]})};function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){b(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(o,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=g(o);if(t){var n=g(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return m(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return b(m(e=n.call.apply(n,[this].concat(r))),"setTextFieldInputRef",function(t){(0,e.props.forwardedRef)(t||null)}),b(m(e),"handleBlur",function(t){var r=t.event,n=e.props.onBlur;n&&n(r)}),b(m(e),"handleChange",function(t){var r=t.event,n=e.props.onChange;n&&n(r)}),b(m(e),"handleFocus",function(t){var r=t.event,n=e.props.onFocus;n&&n(r)}),b(m(e),"handleKeyDown",function(t){var r=t.event,n=e.props.onKeyDown;n&&n(r)}),e}return h(o.prototype,[{key:"render",value:function(){var e=this.props,t=e.accessibilityLabelIcon,r=e.disabled,n=e.icon,o=e.id,i=e.isRTL,a=void 0!==i&&i,l=e.onClick,u=e.placeholder,d=e.value;return(0,c.jsx)(s.iP,{onTap:l,children:(0,c.jsxs)(s.xu,{alignItems:"center",column:12,flex:"grow",display:"flex",position:"relative",children:[(0,c.jsx)(s.xu,{width:"100%",children:(0,c.jsx)(s.nv,{disabled:r,id:o,onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,placeholder:u,ref:this.setTextFieldInputRef,size:"lg",value:d})}),(0,c.jsx)(s.xu,{position:"absolute",right:!a,left:a,children:(0,c.jsx)(s.xu,{position:"relative",marginEnd:4,children:(0,c.jsx)(s.JO,{accessibilityLabel:t,color:"default",icon:"clock"===n||"arrow-down"===n?n:"calendar",inline:!0})})})]})})}}]),r&&h(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.Component),x=(0,n.forwardRef)(function(e,t){return(0,c.jsx)(v,p(p({},e),{},{forwardedRef:t}))}),P=r(898781),O=r(780280);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){T(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D(n.key),n)}}function A(e,t){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,r){return(t=D(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==j(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(l,e);var t,r,n,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=C(l);if(t){var n=C(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return I(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return T(I(e=a.call.apply(a,[this].concat(r))),"state",{showFlyout:!1}),T(I(e),"setTimeFieldRef",function(t){e.timeFieldRef=t}),T(I(e),"handleChange",function(t,r){var n=e.props.onChange;e.handleHideFlyout(),n({event:t,value:r})}),T(I(e),"handleShowFlyout",function(){e.setState({showFlyout:!0})}),T(I(e),"handleHideFlyout",function(){e.setState({showFlyout:!1})}),e}return r=[{key:"render",value:function(){for(var e=this,t=this.props,r=t.error,n=t.id,a=t.idealDirection,l=t.interval,d=t.minTime,f=t.maxTime,p=t.placeholder,h=t.value,y=t.disabled,m=void 0!==y&&y,g=t.maxHeight,b=this.state.showFlyout,_=[],v=(0,i.Z)(f,d)/l,P=0;P<v;P+=1){var j=(0,o.Z)(d,P*l);_.push(j)}return(0,c.jsx)(u,{error:r,id:n,children:(0,c.jsx)(O.LC,{children:function(t){return(0,c.jsxs)(s.xu,{position:"relative",children:[(0,c.jsx)(x,{disabled:m,accessibilityLabelIcon:e.props.i18n._('Select a time', 'timeField.TextFieldWrapper.accessibilityLabel.clockIcon', 'Accessibility label for a clock icon showing on the time picker field'),id:n,ref:e.setTimeFieldRef,onFocus:e.handleShowFlyout,placeholder:p,isRTL:t.isRTL,value:h?h.toLocaleTimeString([t.locale],{hour:"2-digit",minute:"2-digit"}):"",icon:"clock"}),b&&(0,c.jsx)(s.Lt,{id:"time-field-dropdown",anchor:e.timeFieldRef,idealDirection:a,onDismiss:e.handleHideFlyout,zIndex:new s.Ry(1e3),isWithinFixedContainer:!0,maxHeight:g,disableMobileUI:!0,children:_.map(function(r){var n=r.toLocaleTimeString([t.locale],{hour:"2-digit",minute:"2-digit"});return(0,c.jsx)(s.Lt.Item,{onSelect:function(t){var n=t.event;return e.handleChange(n,r)},option:{label:n,value:n},children:(0,c.jsx)(s.xv,{color:"default",size:"200",weight:"bold",children:n})},r.getTime())})})]})}})})}}],E(l.prototype,r),n&&E(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function R(e){var t=(0,P.ZP)();return(0,c.jsx)(k,w(w({},e),{},{i18n:t}))}T(k,"defaultProps",{interval:30,minTime:(0,l.Z)(new Date),maxTime:(0,a.Z)(new Date)})},299487:function(e,t,r){"use strict";var n,o,i=r(366284),a=r(56641);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,r){var n;return(n=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===l(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={},u={EXTENSION_PINIT_CHROME_URL:"https://chrome.google.com/webstore/detail/gpdjojdkbbmdfjfahjcgigfpmkopogic",EXTENSION_PINIT_FIREFOX_URL:"https://assets.pinterest.com/ext/Pinterest_Firefox.xpi",EXTENSION_PINIT_SAFARI_URL:"https://safari-extensions.apple.com/details/?id=com.pinterest.extension-HWZFLG9PNK",EXTENSION_PINIT_IE_URL:"https://about.pinterest.com/assets/ext/Pinterest-IE-0.0.4.exe",EXTENSION_PINIT_OPERA_URL:"https://addons.opera.com/en/extensions/details/pinterest-8/?display=en",EXTENSION_PINIT_EDGE_URL:"https://microsoftedge.microsoft.com/addons/detail/pinterest-save-button/bkgoflemacdadndiohhdnphcmdhacabg/"},d=(s(n={},i.oi.CHROME,{url:u.EXTENSION_PINIT_CHROME_URL,newWindow:!0}),s(n,i.oi.FIREFOX,{url:u.EXTENSION_PINIT_FIREFOX_URL,newWindow:!1}),s(n,i.oi.SAFARI,{url:u.EXTENSION_PINIT_SAFARI_URL,newWindow:!0}),s(n,i.oi.IE,{url:u.EXTENSION_PINIT_IE_URL,newWindow:!1}),s(n,i.oi.OPERA,{url:u.EXTENSION_PINIT_OPERA_URL,newWindow:!0}),s(n,i.oi.EDGE,{url:u.EXTENSION_PINIT_EDGE_URL,newWindow:!0}),n);c.handleExtensionInstall=function(e,t){var r=(0,i.u$)(e),n=r?d[r].url:void 0;n&&((0,a.Z)(n,r?d[r].newWindow:void 0),t())},c.isExtensionInstalled=function(){return o},c.isBrowserExtensionSupported=function(e){return(0,i.i7)(e)||(0,i.vU)(e)||(0,i.un)(e)},c.extensionReady=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return new Promise(function(r){setTimeout(function(){document.body&&(o=document.body.hasAttribute("data-pinterest-extension-installed"),c.isBrowserExtensionSupported(e)||(o=!0),r(o))},t)})},c.initBrowserExtension=function(){Promise.resolve().then(r.bind(r,422722)).then(function(e){var t=e.default;t.logToServer(t.SERVER_LOG_TYPE.BROWSER_EXTENSION,t.HTTP_METHOD.POST,{browser_extension_installed:o})})},t.Z=c},27255:function(e,t){"use strict";t.Z={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},155378:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return S}});var n=r(76911),o=r(908390),i=r(214494),a=r(407043),l=r(319915),s=r(499128),c=r(898781),u=r(349700),d=r(784590),f=r(947599),p=r(80816),h=r(966113),y=r(343341),m=r(50286),g=r(19121),b=r(379764),_=r(67347),v=r(515198);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var O=(0,n.lazy)(function(){return Promise.all([r.e(80582),r.e(13047)]).then(r.bind(r,380582))}),j=new o.H3([b.Z]);function S(e){var t=e.handleComplete,r=e.isNag,b=(0,m.ZP)(),P=(0,g.Z)(),S=(0,a.v)().logContextEvent,w=(0,c.ZP)(),E=x((0,n.useState)(!0),2),A=E[0],I=E[1],C=x((0,n.useState)(!1),2),T=C[0],D=C[1],k=(0,y.F9)().showOneToast,R=(0,d.Z)({name:"UserResource",options:{user_id:P.id||""}}),z="desktop"===b;(0,n.useEffect)(function(){S({event_type:13,component:13716,view_type:474})},[]);var L=(0,v.jsxs)(o.xv,{align:z?"start":"center",children:[w._('We use cookies to deliver personalized ads and experiences, and to analyze traffic on our site.', 'homeFeed.cookiesConsentBanner.bannerText', 'Banner description about why we use cookies')," ",(0,u.nk)(w._('Read our {{ cookiePolicyLink }} for more information.', 'homeFeed.cookiesConsentBanner.readCookiePolicyText', 'Banner description about why we use cookies. "cookiePolicyLink" equals to "Cookie Policy" for english'),{cookiePolicyLink:(0,v.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,v.jsx)(o.rU,{display:"inlineBlock",href:h._Ib,target:"blank",underline:"hover",children:w._('cookie policy', 'homeFeed.cookiesConsentBanner.cookiePolicyLink', 'Cookie policy link')},"cookie-policy-link")})})]}),M=(0,v.jsxs)(o.kC,{direction:z?"row":"column",gap:z?{row:2,column:0}:{column:4,row:0},children:[(0,v.jsx)(o.zx,{fullWidth:!0,onClick:function(){S({event_type:101,component:13716,view_type:474,element:11984}),(0,_.nP)("webapp.updateCookiePreferences",{sampleRate:.1,tags:{allow_analytic_cookies:"true",allow_marketing_cookies:"true",allow_personalization_cookies:"true",location:"app_packages_CookieConsent_Banner_handleAcceptAll"}}),i.Z.create("UserSettingsResource",{allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0,surface_tag:p.i.HOLISTIC_PROFILE_PROMPT}).callUpdate().then(function(){R.refresh(),k(function(e){var t=e.hideToast;return(0,v.jsx)(s.ZP,{duration:3e3,onHide:t,text:w._('We saved your cookie preferences. You can change them in the settings section of your profile at any time.', 'homeFeed.cookiesConsentBanner.acceptedAllToastText', 'Success message after accepting all optional cookies')})}),t()})},size:z?"lg":"md",text:w._('Accept all', 'navFooter.cookieConsentBanner.acceptAllButton', 'Accept all cookies button')}),(0,v.jsx)(o.zx,{fullWidth:!0,onClick:function(){S({event_type:101,component:13716,view_type:474,element:11985}),(0,_.nP)("webapp.updateCookiePreferences",{sampleRate:.1,tags:{allow_analytic_cookies:"false",allow_marketing_cookies:"false",allow_personalization_cookies:"false",location:"app_common_react_components_CookieConsent_Banner_handleRejectAll"}}),i.Z.create("UserSettingsResource",{allow_analytic_cookies:!1,allow_marketing_cookies:!1,allow_personalization_cookies:!1,surface_tag:p.i.HOLISTIC_PROFILE_PROMPT}).callUpdate().then(function(){R.refresh(),k(function(e){var t=e.hideToast;return(0,v.jsx)(s.ZP,{duration:3e3,onHide:t,text:w._('We saved your cookie preferences. You can change them in the settings section of your profile at any time.', 'homeFeed.cookiesConsentBanner.acceptedAllToastText', 'Success message after accepting all optional cookies')})}),t()})},size:z?"lg":"md",text:w._('Reject all', 'navFooter.cookieConsentBanner.rejectAllButton', 'Manage cookie settings button')}),(0,v.jsx)(o.zx,{fullWidth:!0,onClick:function(){S({event_type:101,component:13716,view_type:474,element:11986}),D(!0),z||I(!1)},size:z?"lg":"md",text:w._('Let me choose', 'navFooter.cookieConsentBanner.manageCookiesButton', 'Manage cookie settings button')})]});return(0,v.jsxs)(n.Fragment,{children:[A&&(z?(0,v.jsx)(o.xu,{paddingX:2,paddingY:2,smPaddingX:6,smPaddingY:r?2:0,children:(0,v.jsxs)(o.xu,{alignItems:"center",borderStyle:"sm","data-test-id":"cookie-consent-banner",direction:"column",display:"flex",justifyContent:"between",marginBottom:r?0:6,overflow:"hidden",padding:r?3:6,position:"relative",rounding:4,smDirection:"row",children:[(0,v.jsx)(o.xu,{display:"flex",marginEnd:0,smMarginEnd:7,children:L}),(0,v.jsx)(o.xu,{alignItems:"center",display:"flex",flex:"none",justifyContent:"center",marginTop:4,smMarginTop:0,children:M})]})}):(0,v.jsx)(o.mh,{zIndex:j,children:(0,v.jsx)(o.xu,{bottom:!0,marginBottom:2,position:"fixed",width:"100%",children:(0,v.jsxs)(o.xu,{alignItems:"center",borderStyle:"shadow",color:"default",direction:"column",display:"flex",marginEnd:"auto",marginStart:"auto",padding:6,rounding:6,width:"95%",children:[L,(0,v.jsx)(o.xu,{marginTop:4,minWidth:240,children:M})]})})})),T&&(0,v.jsx)(l.Z,{name:"SafeSuspense_CookieConsentBanner_SettingsModal",children:(0,v.jsx)(f.Z,{children:(0,v.jsx)(o.xu,{"data-test-id":"settings-modal",children:(0,v.jsx)(O,{dismissIcon:"cancel",handleComplete:t,onClose:function(){return D(!1)}})})})})]})}},199324:function(e,t){"use strict";t.Z='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"," Pro W3","Hiragino Kaku Gothic Pro",,Meiryo," ",Arial,sans-serif'},403368:function(e,t,r){"use strict";var n=r(76911),o=r(908390),i=r(898781),a=r(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){h(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(s,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=p(s);if(t){var n=p(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return h(f(e=i.call.apply(i,[this].concat(r))),"state",{isHovering:!1}),h(f(e),"handleMouseEnter",function(t){e.setState({isHovering:!0}),e.props.onMouseEnter&&e.props.onMouseEnter(t)}),h(f(e),"handleMouseLeave",function(t){e.setState({isHovering:!1}),e.props.onMouseLeave&&e.props.onMouseLeave(t)}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.forwardedRef,r=e.icon,n=e.onClick,i=e.onMouseDown,l=e.onMouseUp,s=e.selected,u=e.style,d=e.text,f=e.x,p=e.y,h=e.zIndex,y=e.backdropDiameter,m=void 0===y?32:y,g=e.dotDiameter,b=void 0===g?16:g,_=this.state.isHovering?m+4:m;return(0,a.jsx)("div",{ref:t,"aria-label":this.props.i18n._('Search this item', 'flashlight.dot.a11ylabel', 'accessibility label for flashlight dot'),"data-test-id":"flashlight-dot",onClick:n,onKeyPress:n,onMouseDown:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:l,role:"button",style:{zIndex:h,position:"absolute",top:p-_/2,left:f-_/2,outline:"none"},tabIndex:"0",children:(0,a.jsxs)(o.xu,{alignItems:"center",borderStyle:"none",color:"default",dangerouslySetInlineStyle:{__style:c({boxShadow:s?"0 0 0 3px #e60023":"none",borderRadius:b,top:(_-b)/2,left:(_-b)/2},u)},"data-test-id":"flashlight-dot-style",display:"flex",height:b,justifyContent:"center",padding:0,position:"absolute",width:b,children:[!!d&&(0,a.jsx)(o.xv,{align:"center",color:"default",inline:!0,size:"100",weight:"bold",children:d}),r&&(0,a.jsx)(o.JO,{accessibilityLabel:this.props.i18n._('Tag anchor', 'accessibility label for an anchor for an object in a pin', 'accessibility label for an anchor for an object in a pin'),color:"error",icon:r,inline:!0,size:b/2})]})})}}],u(s.prototype,r),n&&u(s,n),Object.defineProperty(s,"prototype",{writable:!1}),s}(n.Component);t.Z=(0,n.forwardRef)(function(e,t){var r=(0,i.ZP)();return(0,a.jsx)(m,c(c({},e),{},{forwardedRef:t,i18n:r}))})},558068:function(e,t,r){"use strict";r.d(t,{Hv:function(){return y},aX:function(){return b},nK:function(){return _}});var n=r(76911),o=r(599689),i=r(425288),a=r(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p=(0,i.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),h=p.Provider,y=p.useHook,m=function(e){return e&&e.pathname?e.pathname+(e.search||""):""};function g(e,t){var r,n={action:t.type,location:t.location,match:t.match};if(t.location===(null===(r=e.current)||void 0===r?void 0:r.location))return e;switch(t.type){case"POP":if(e.forward.length>0&&m(e.forward[0].location)===m(n.location))return f(f({},e),{},{forward:e.forward.slice(1),current:f(f({},e.forward[0]),{},{action:t.type}),previous:e.current?[].concat(s(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});return f(f({},e),{},{forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match}].concat(s(e.forward)):e.forward,current:f(f({},e.previous.slice(-1)[0]),{},{action:t.type}),previous:e.previous.slice(0,-1)});case"PUSH":return f(f({},e),{},{forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[].concat(s(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});case"REPLACE":return f(f({},e),{},{current:n});default:return e}}function b(){var e=y(),t=e.current,r=e.previous;return(0,n.useMemo)(function(){return t?r.concat(t):r},[t,r])}function _(e){var t,r=e.children,i=(0,o.useHistory)(),l=(0,o.useLocation)(),s=(0,o.useRouteMatch)(),u={forward:[],current:{action:i.action,location:l,match:s},previous:[]},d=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(g,u))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||c(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=d[0],p=d[1];return(0,n.useEffect)(function(){p({type:i.action,location:l,match:s})},[l]),(0,a.jsx)(h,{value:f,children:r})}},391254:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}}),r(674631);var n=r(515198),o=["css","unsafeCSS"];function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=c(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function c(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var u=function(){var e,t;function r(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}return e=[{key:"toString",value:function(){return this._private_safe_value}}],t=[{key:"factory",value:function(e){return e instanceof r?e:new r(String(e))}}],e&&s(r.prototype,e),t&&s(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();function d(e){var t=e.css,r=e.unsafeCSS,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,o),l=String(t||"")||r||"";return l?(0,n.jsx)("style",a(a({},i),{},{dangerouslySetInnerHTML:{__html:String(u.factory(l))}})):null}},966224:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(908390),o=r(898781),i=r(515198);function a(e){var t=e.accessibilityLabel,r=e.fixedPosition,a=e.rounding,l=(0,o.ZP)();return(0,i.jsxs)(n.xu,{children:[(0,i.jsx)(n.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,opacity:1,position:r?"fixed":"absolute",right:!0,top:!0,zIndex:new n.Ry(101),children:(0,i.jsx)(n.$j,{accessibilityLabel:t||l._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})}),(0,i.jsx)(n.xu,{bottom:!0,color:"default",left:!0,opacity:.7,position:r?"fixed":"absolute",right:!0,rounding:a,top:!0,zIndex:new n.Ry(100)})]})}},583375:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(858472),o=r(898781),i=r(515198);function a(e){var t=e.fillColor,r=e.size,a=e.noCircle,l=(0,o.ZP)();return(0,i.jsxs)("svg",{height:r,style:{display:"block"},viewBox:a?"3 3 70 70":"-3 -3 82 82",width:r,children:[(0,i.jsx)("title",{children:l._('Pinterest logo', 'Accessibility label for Pinterest icon', 'Accessibility label for Pinterest icon')}),a?null:(0,i.jsx)("circle",{cx:"38",cy:"38",fill:t?"transparent":"white",r:"40"}),(0,i.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:null!=t?t:n.x7,fillRule:"evenodd"})]})}},241244:function(e,t,r){"use strict";r.d(t,{N:function(){return a},Z:function(){return i}});var n=r(908390),o=r(515198);function i(e){var t=e.children,r=e.fullWidth;return(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:r?"100%":void 0}},"data-test-id":"pointer-events-wrapper",children:t})}function a(e){var t=e.children;return e.enabled?(0,o.jsx)(i,{children:t}):t}},335174:function(e,t,r){"use strict";var n=r(483205);t.Z=function(e){return"@keyframes shopButtonSlideInThenOut {\n    0% {\n      width: 0px;\n    }\n\n    15% {\n      width: ".concat(e+n.I6,"px;\n    }\n\n    85% {\n      width: ").concat(e+n.I6,"px;\n    }\n\n    100% {\n      width: 0px;\n    }\n  }\n\n  @keyframes revealShopText {\n    from {\n      clip-path: inset(0 100% 0 0);\n    }\n    to {\n      clip-path: inset(0 0 0 0);\n    }\n  }\n\n@keyframes stelaSlideInThenOut {\n    0% {\n      opacity: 0;\n    }\n\n    15% {\n      opacity: 0;\n    }\n\n    25% {\n      opacity: 1;\n    }\n\n    50% {\n      opacity: 1;\n    }\n\n    75% {\n      opacity: 1;\n    }\n\n    85% {\n      opacity: 0;\n    }\n\n    100% {\n      opacity: 0;\n    }\n}\n\n\n@keyframes stelaGrowInAndOut {\n  0% {\n    transform: scale(0);\n    opacity: 0;\n  }\n\n  10% {\n    transform: scale(1);\n    opacity: 1;\n  }\n\n  90% {\n    transform: scale(1);\n    opacity: 1;\n  }\n\n  100% {\n    transform: scale(0);\n    opacity: 0;\n  }\n}\n\n  ")}},325016:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(76911),o=r(112690),i=r(898781),a=r(391254),l=r(241244),s=r(483205),c=r(335174),u=r(829407),d=r(515198);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e){var t=e.alwaysShow,r=e.animationDelay,f=e.contextLogData,p=e.enablePointerEvents,y=e.isInCloseupDotAnimationExperiment,m=e.isSelected,g=e.onStelaDotAnimationComplete,b=e.stelaDotAnimationType,_=(0,i.ZP)(),v=(0,o.Z)();return(0,u.Z)(function(){v(h({event_type:120,view_type:3,aux_data:h({},f)},f))}),(0,d.jsx)(n.Fragment,{children:(0,d.jsxs)(l.N,{enabled:void 0===p||p,children:[(0,d.jsx)(a.Z,{unsafeCSS:(0,c.Z)()}),(0,d.jsx)("div",{"aria-label":_._('Search this item', 'visualSearch.dot.label', 'accessibility label for visual search dot'),"data-test-id":"closeup-stela-dot",height:s.b9,onAnimationEnd:function(){g&&"inOut"===b&&g()},style:t?{opacity:1}:{animation:"inOut"===b?y?"stelaGrowInAndOut 3s cubic-bezier(0, 0.15, 0.15, 0.5) ".concat(void 0===r?0:r,"s forwards"):"stelaSlideInThenOut 3s ease-in-out forwards":void 0,opacity:0},width:s.b9,children:(0,d.jsxs)("svg",{fill:"none",height:"36",viewBox:"0 0 36 36",width:"36",xmlns:"http://www.w3.org/2000/svg",children:[(0,d.jsx)("g",{filter:"url(#filter0_d)",children:(0,d.jsx)("circle",{cx:"18",cy:"18",fill:m&&t?"black":"white",r:"8"})}),(0,d.jsx)("defs",{children:(0,d.jsxs)("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"36",id:"filter0_d",width:"36",x:"0",y:"0",children:[(0,d.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,d.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,d.jsx)("feOffset",{}),(0,d.jsx)("feGaussianBlur",{stdDeviation:"5"}),(0,d.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,d.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow"}),(0,d.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",mode:"normal",result:"shape"})]})})]})})]})})}},483205:function(e,t,r){"use strict";r.d(t,{I6:function(){return o},Nv:function(){return n},RZ:function(){return i},ZG:function(){return s},b9:function(){return l},s0:function(){return a}});var n=44,o=24,i=446,a=.05,l=36,s=20},55259:function(e,t,r){"use strict";var n=r(619937),o=r(794230);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s={campaignFilter:"all",adGroupFilter:"all",adFilter:"all"},c=function(e){var t={};return e&&(t={objectiveTypes:[e]}),t},u={overview:function(){return"/"},reporting:function(e){var t=e.objectiveType||null;delete e.objectiveType;var r=l(l({},e),c(t));return(0,o.Z)("/reporting/campaigns/",r)},reportingAdGroup:function(e){var t=e.campaignId,r=e.objectiveType,n=e.showAllEntities,i=e.adGroupId,a=e.message,u=l(l(l(l({campaignIds:[t]},n?s:{}),c(r)),i?{adGroupIds:[i]}:{}),{},{message:a});return(0,o.Z)("/reporting/adgroups/",u)},campaign:function(e){var t=e.id,r=e.objectiveType;return(0,o.Z)("/reporting/adgroups/",l({campaignIds:[t]},c(r)))},editCampaign:function(e){return e.isAutomatedCampaign?u.editAutomated({campaignId:e.id,view:"campaign"}):u.editV2({campaignId:e.id,view:"campaign"})},adgroup:function(e){var t=e.id,r=e.objectiveType,n=e.showAllEntities,i=e.pinPromotionId,a=e.campaignId;if("TEMPORARY_SHOPPING"===r||"CATALOG_SALES"===r)return(0,o.Z)("/reporting/productgroups/",l({adGroupIds:[t]},c(r)));var u=n?s:{},d=a?{campaignIds:[a]}:{},f=i?{pinPromotionIds:[i]}:{};return(0,o.Z)("/reporting/ads/",l(l(l(l({adGroupIds:[t]},c(r)),u),f),d))},editAdGroup:function(e){return e.isAutomatedCampaign?u.editAutomated({campaignId:e.id,view:"campaign"}):u.editV2({adGroupId:e.id,view:"adgroup"})},pinPromotion:function(e){var t=e.id,r=e.adFilter,n=r?{adFilter:r}:{};return(0,o.Z)("/reporting/ads/",l({pinPromotionIds:[t]},n))},editPinPromotion:function(e){var t=e.isCreatingPins?{isCreatingPins:!0}:{},r=e.pinPromotionId?{pinPromotionId:e.pinPromotionId}:{};return u.editV2(l(l({adGroupId:e.adGroupId,view:"ad"},r),t))},productGroup:function(e){var t=e.id,r=e.name;return(0,o.Z)("/reporting/productgroups/",{productGroupIds:[t],name:r})},campaigns:function(){return"/reporting/campaigns/"},adgroups:function(){return"/reporting/adgroups/"},ads:function(){return"/reporting/ads/"},bulkEdit:function(e){var t=e.entity_level,r=e.ids;return(0,o.Z)("/ads/bulk_edit/",{entity_level:t,ids:r})},productgroups:function(){return"/reporting/productgroups/"},productitems:function(){return"/reporting/productitems/"},campaignNegativeKeywords:function(){return"/reporting/campaignNegativeKeywords/"},campaignSearchQueries:function(){return"/reporting/campaignSearchQueries/"},adGroupNegativeKeywords:function(){return"/reporting/adGroupNegativeKeywords/"},adGroupPositiveKeywords:function(){return"/reporting/adGroupPositiveKeywords/"},adGroupSearchQueries:function(){return"/reporting/adGroupSearchQueries/"},ad:function(e){return u.pinPromotion(e)},campaignMode:function(e){return(0,o.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0)},create:function(e){var t=e.campaignId,r=e.objectiveType,n=e.partialCreate,i=e.catalogsFeedId,a=e.managedClientId,l=e.productGroupId,s=e.resumeLastDraft,c={};return t&&n&&(c.campaignId=t),r&&(c.objectiveType=r),"CATALOG_SALES"===r&&i&&(c.catalogsFeedId=i),l&&(c.productGroupId=l),a&&(c.managedClientId=a),s&&(c.resumeLastDraft=!0),(0,o.Z)("/ads/create/",c)},createAutomated:function(e){return(0,o.Z)("/automated/ads/create/",e)},editV2:function(e){return(0,o.Z)("/ads/edit/",e)},editAutomated:function(e){return(0,o.Z)("/automated/ads/edit/",e)},editDraftCampaign:function(e){return(0,o.Z)("/ads/edit_draft/",{campaignId:e.campaignId,view:"campaign"})},duplicateCampaign:function(e){return(0,o.Z)("/ads/duplicate/",e)},audiences:function(e){return(0,o.Z)("/audiences/",e.managedClientId?{managedClientId:e.managedClientId}:void 0)},audience_debug:function(){return"/audience_debug/"},prepaid_spend_campaign_breakdown:function(){return"/billing/prepaid_spend_campaign_breakdown/"},billing:function(e){var t=e.page,r=e.subSection,i=e.nextStepUrl;switch(t){case n.kM.BILLING_HISTORY:return"/billing/history/";case n.kM.ORDER_LINES:return"/billing/order_lines/";case n.kM.PROMOTIONS:return"/billing/promotions/";case n.kM.DOCUMENTS:return"/billing/documents/";case n.kM.TAX_DOCUMENTS:return"/billing/tax_documents/";case n.kM.PREPAID_CAMPAIGN_SPEND:return"/billing/prepaid_campaign_spend_summary/";default:var a={};return r&&(a.section=r),i&&(a.next_step_link_url=i),(0,o.Z)("/billing/",a)}},bulk:function(e){var t=e||{},r=t.subSection,i=t.page,a=t.jobStarted;switch(i){case n.fm.UPLOAD_TEMPLATE:return(0,o.Z)("/bulk_editor/upload_template/",{section:r});case n.fm.DOWNLOAD_TEMPLATE:return(0,o.Z)("/bulk_editor/download_template/",{section:r});case n.fm.HISTORY:return(0,o.Z)("/bulk_editor/history/",{section:r,job_started:a});case n.fm.RESOURCES:return(0,o.Z)("/bulk_editor/resources/",{section:r});default:return"/bulk_editor/"}},history:function(e){return(0,o.Z)("/history/",e)},shopping:function(e){return u.reporting(c("TEMPORARY_SHOPPING"))},pinterest_tag:function(e){var t=e.page,r=e.subSection,i=e.platform,a=e.source,s=e.origin;switch(t){case n.qp.PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:return"/conversions/events-overview/";case n.qp.PINTEREST_EVENT_HISTORY:if(a)return(0,o.Z)("/conversions/event-history/",{source:a});return"/conversions/event-history/";case n.qp.CONVERSION_HEALTH:return"/conversions/health/";case n.qp.PINTEREST_TEST_EVENTS:return(0,o.Z)("/conversions/test-events/",{subPage:r,platform:i});case n.qp.PINTEREST_TAG:return(0,o.Z)("/conversions/tag/",{subPage:r,platform:i});case n.qp.PINTEREST_TAG_MANUAL_SETUP_FLOW:if(i)return(0,o.Z)("/conversions/tag_manual_setup/",l(l({},{platform:i}),{source:a}));return"/conversions/tag_manual_setup/";case n.qp.PINTEREST_TAG_EVENTS:return"/conversions/tag-events/";case n.qp.PINTEREST_TAG_HEALTH:return"/conversions/tag-health/";case n.qp.CONVERSION_UPLOAD:return(0,o.Z)("/conversions/upload/",{subPage:r});case n.qp.UPLOAD_HISTORY:return(0,o.Z)("/conversions/history/",{subPage:r});case n.qp.PCA_UPLOAD_HISTORY:return(0,o.Z)("/conversions/pca_history/",{subPage:r});case n.qp.PCA_UPLOAD:return(0,o.Z)("/conversions/pca_upload/",{subPage:r});case n.qp.CONVERSIONS_API_MANUAL_SETUP_FLOW:if(a||s)return(0,o.Z)("/conversions/api_manual_setup/",l(l({},{source:a}),{origin:s}));return"/conversions/api_manual_setup/";case n.qp.CONVERSIONS_API_PARTNER_SETUP_FLOW:if(a||s)return(0,o.Z)("/conversions/api_partner_setup/",l(l({},{source:a}),{origin:s}));return"/conversions/api_partner_setup/";case n.qp.CONVERSIONS_API_ACCESS_TOKEN:return"/conversions/access_token/";case n.qp.PINTEREST_SETUP_API:return"/conversions/setup-api/";case n.qp.CONVERSIONS_API_DEDUPLICATION:return"/conversions/deduplication/";case n.qp.PAYLOAD_HELPER:return"/conversions/payload-helper/";case n.qp.CONVERSIONS:return"/conversions/";default:return"/conversions/tag/"}},"pin-builder":function(e){return(0,o.Z)("/pin-builder/",e)},purchases:function(){return u.reporting(c("PURCHASE"))},awareness_reserved:function(){return u.reporting(c("IMPRESSION"))},engagement:function(){return u.reporting(c("BILLABLE_ENGAGEMENT"))},videos:function(){return u.reporting(c("TEMPORARY_BIDDED_CPM_VIDEO"))},videos_reserved:function(){return u.reporting(c("TEMPORARY_IMPRESSION_VIDEO"))},videos_cpv:function(){return u.reporting(c("TEMPORARY_MRC_CPV_VIDEO"))},conversions:function(){return u.reporting(c("WEB_CONVERSION"))},accounts_manager:function(){return"/accounts_manager/"},reporting_preferences:function(e){return(0,o.Z)("/reporting/preferences/",e)},report_builder:function(e){return(0,o.Z)("/report-center/builder/",e)},report_history:function(e){return(0,o.Z)("/report-center/history/",e)},report_unsubscribe:function(e){return(0,o.Z)("/report-center/unsubscribe/",e)},report_download:function(e){return(0,o.Z)("/report-center/download/",e)},media_planner:function(){return"/media_planner/"},awareness:function(){return u.reporting(c("AWARENESS"))},traffic:function(){return u.reporting(c("TRAFFIC"))},app_installs:function(){return u.reporting(c("APP_INSTALL"))},catalog_sales:function(){return u.reporting(c("CATALOG_SALES"))},web_conversion:function(){return u.reporting(c("WEB_CONVERSION"))},video_view:function(){return u.reporting(c("VIDEO_VIEW"))},quick_promote:function(e){return(0,o.Z)("/quick-promote/",e)},quick_promote_on_www:function(){return"/advertiser/quick-promote/"},recommendations:function(e){return(0,o.Z)("/recommendations/",e)},catalog_view:function(){return"/product-catalogs/data-source"},campaign_insights:function(e){return"/campaign-insights/".concat(e.campaignId,"/")},product_group_reporting:function(e){return"/campaign-insights/".concat(e.campaignId,"/product-group/").concat(e.productGroupId)}};t.Z=u},619937:function(e,t,r){"use strict";r.d(t,{$N:function(){return h},Cu:function(){return m},GY:function(){return c},MZ:function(){return a},NR:function(){return d},Vn:function(){return u},bC:function(){return y},fm:function(){return n},kM:function(){return i},q6:function(){return o},qp:function(){return s},uV:function(){return f},ug:function(){return p},xL:function(){return l}});var n={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},o={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},i={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},a={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud"},l={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},s={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY",PAYLOAD_HELPER:"PAYLOAD_HELPER",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API"},c={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},u={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},d={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},f="604800",p="86400",h={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},y="click",m="view"},28543:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var n=r(55259),o=r(966113),i=r(567831);function a(e,t,r){if(!n.Z[e])throw Error("unknown url key: ".concat(e));r||(r={});var a,l,s=n.Z[e](r),c=(l=null,(a=r)&&(l=a.advertiserId||null),!l&&t&&(l=t.id),l),u=!!r.absolutify;return"string"==typeof c&&(s="/advertiser/"+c+s),u&&(s=(0,i.Z)(s,void 0,o.KUo)),s}},209064:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,r){var o;return(o=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===n(o)?o:String(o))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{FO:function(){return s},Fv:function(){return d},LN:function(){return c},Ob:function(){return a},Tc:function(){return l},mE:function(){return u}});var i,a={APP_INSTALL:"TEMPORARY_APP_INSTALL_CLICKTHROUGH",APP_TRAFFIC:"TEMPORARY_TRAFFIC_CLICKTHROUGH_APP",AWARENESS:"TEMPORARY_BIDDED_CPM",VIDEO:"TEMPORARY_BIDDED_CPM_VIDEO",TRAFFIC:"CLICKTHROUGH",SHOPPING:"TEMPORARY_SHOPPING",WEB_CONVERSION:"WEB_CONVERSION",APP_INSTALL_V2:"APP_INSTALL_VARIABLE_ATTR",VIDEO_VIEW:"TEMPORARY_MRC_CPV_VIDEO"},l="CONSIDERATION",s="ALL",c={TRAFFIC:"TRAFFIC",AWARENESS:"AWARENESS",APP_INSTALL:"APP_INSTALL",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES",VIDEO_VIEW:"VIDEO_VIEW",WEB_SESSIONS:"WEB_SESSIONS",VIDEO_COMPLETION:"VIDEO_COMPLETION"},u={CONSIDERATION:"CONSIDERATION",AWARENESS:"AWARENESS",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES",VIDEO_VIEW:"VIDEO_VIEW",WEB_SESSIONS:"WEB_SESSIONS",VIDEO_COMPLETION:"VIDEO_COMPLETION"},d=(o(i={},c.TRAFFIC,u.CONSIDERATION),o(i,c.AWARENESS,u.AWARENESS),o(i,c.APP_INSTALL,null),o(i,c.WEB_CONVERSION,u.WEB_CONVERSION),o(i,c.CATALOG_SALES,u.CATALOG_SALES),o(i,c.VIDEO_VIEW,u.VIDEO_VIEW),o(i,c.WEB_SESSIONS,u.WEB_SESSIONS),o(i,c.VIDEO_COMPLETION,u.VIDEO_COMPLETION),i)},422586:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(966113),o=r(89254);function i(e,t){var r="";if(e&&(r=e,t)){var i=(0,o.Z)(e,!0),a="/advertiser/",l=i.hostname;(null===l||l===n.KUo)&&(e.startsWith(n.auO)&&(e=e.replace(n.auO,"")),r=e.startsWith(a)?e:a+t+e)}return r}},21353:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(506979),o=r(28543);function i(){var e=(0,n.useSelector)(function(e){return e.advertiser});return function(t,r){return(0,o.default)(t,e,r)}}},77601:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n="undefined"!=typeof window&&window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};function o(e){var t=e.window,r=e.duration,o=e.run,i=n(),a=0,l=null,s=function e(){var s=n()-i,c=s-a;if(r===1/0)o(0,s,c);else{var u=s/r;if(u>=1){o(1,s,c);return}o(u,s,c)}a=s,l=t.requestAnimationFrame(e)};return{start:function(){l=t.requestAnimationFrame(s)},cancel:function(){l&&(t.cancelAnimationFrame(l),l=null)}}}},987765:function(e,t,r){"use strict";r.d(t,{t:function(){return y},Z:function(){return g}});var n=r(908390),o=r(76911),i=r(391254),a=r(515198),l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s=function(e){for(var t=[],r=Math.floor(3*Math.random()+1),n=0;n<r-1;n+=1){var o=Math.floor(Math.random()*(e.length-1)+1);t.push(o)}t.sort(function(e,t){return e-t});for(var i=[],a=0,l=0;l<t.length;l+=1)i.push(e.slice(a,t[l])),a=t[l];return i.push(e.slice(a)),[].concat(i)};function c(e){var t=e.children,r=(0,o.useMemo)(function(){return s(t.replace("  "," ")).map(function(e){return{className:[,,,,,].fill().map(function(){return l[Math.floor(Math.random()*l.length)]}).join(""),content:e}})},[t]);return(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)(i.Z,{unsafeCSS:r.map(function(e){var t=e.className,r=e.content;return".".concat(t," { display: inline; overflow-wrap: unset; } .").concat(t,':before { content: "').concat(r,'"; font-weight: 600;  }')}).join(" ")}),r.map(function(e){var t=e.className;return(0,a.jsx)("div",{className:t},t)})]})}var u=r(773285),d=r(780280),f=r(19121),p=function(){var e,t=(0,f.Z)(),r=null!==(e=(0,(0,u.F)().checkExperiment)("web_obfuscate_ads_with_global_css").group.split("_")[3])&&void 0!==e?e:"op";return"".concat(r).concat(t.isAuth?t.id:"unauth")},h=function(){return(0,a.jsx)("div",{className:p()})},y=function(){var e=(0,u.F)().checkExperiment,t=p();return e("web_obfuscate_ads_with_global_css").anyEnabled?(0,a.jsx)(i.Z,{unsafeCSS:".".concat(t,':before { content: "Promoted by"; font-weight: 600;  }')}):null};function m(e){var t=e.children;return(0,(0,u.F)().checkExperiment)("web_obfuscate_ads_with_global_css").anyEnabled?(0,a.jsx)(h,{}):(0,a.jsx)(c,{children:t})}function g(e){var t=e.children,r=e.lineClamp,o=e.size,i=e.underline,l=e.weight,s=(0,d.B)().isAuthenticated&&"Promoted by"===t;return(0,a.jsx)(n.xv,{lineClamp:r,size:o,title:s?void 0:t,underline:i,weight:l,children:s?(0,a.jsx)(m,{children:t}):t})}},377184:function(e,t,r){"use strict";r.d(t,{CX:function(){return l},ML:function(){return o},N$:function(){return a},Od:function(){return n},yK:function(){return i}});var n="extensionNagCount",o=4,i=3,a=1050,l=880},773515:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return"object"===n(e)&&null!==e&&"url"in e&&"media"in e}r.d(t,{Z:function(){return o}})},945212:function(e,t,r){"use strict";r.d(t,{O:function(){return o},r:function(){return n}});var n="ref",o="os"},792182:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(76911);function o(e){return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}function i(){return window.innerWidth}function a(){return window.innerHeight}function l(){return null}function s(){var e=(0,n.useSyncExternalStore)(o,a,l),t=(0,n.useSyncExternalStore)(o,i,l);return null!==e&&null!==t?{height:e,width:t}:null}},639410:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(76911),o=r(898781),i=r(515198);function a(){var e=(0,o.ZP)();return(0,i.jsx)(n.Fragment,{children:e._('400 million', 'Business.MauText', 'number of monthly active users on pinterest')})}},306775:function(e,t,r){"use strict";r.d(t,{Fl:function(){return s},Pw:function(){return d},dl:function(){return l},k3:function(){return f},su:function(){return p},tW:function(){return c}});var n=r(926275),o=r(411938),i=r(826067),a=["AT","AU","BE","BR","CA","CH","CY","CZ","DE","DK","ES","FI","FR","GB","GR","HU","IE","IT","LU","MT","MX","NL","NO","NZ","PT","RO","SE","SK","US"],l=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","MX","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US","AR","CO","CL","JP"],s=function(e){return a.includes(e.toUpperCase())},c=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),u=function(e,t){var r=(0,i.ru)("/business/convert",{next:t});e.push(r)},d=function(e){var t;e.requestContext,u(e.history,(t=e.pinId)?"/business/ad_create?pinId=".concat(t):"/business/ad_create")},f=function(e){var t=e.trim().split(" ").filter(function(e){return!!e});return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}},p=function(e){return e.isAuth&&!e.isPartner&&!(0,o.Z)(null,e)&&!(0,n.Z)(e.createdAt)}},41861:function(e,t,r){"use strict";function n(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function e(t,r){if(null==t||"object"!==i(t)&&"function"!=typeof t)return t;var a,l=r.find(function(e){return e.value===t});if(l)return l.result;var s=Object.prototype.toString.call(t);switch(s){case"[object Array]":a=Array(t.length);break;case"[object Set]":a=new Set;break;case"[object Object]":case"[object Arguments]":a={};break;case"[object Map]":a=new Map;break;default:return t}var c=[].concat(function(e){if(Array.isArray(e))return o(e)}(r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||n(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{value:t,result:a}]);switch(s){case"[object Array]":t.forEach(function(t,r){a[r]=e(t,c)});break;case"[object Set]":t.forEach(function(t){a.add(e(t,c))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(function(t){var r=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||n(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],i=r[1];a[o]=e(i,c)});break;case"[object Map]":t.forEach(function(t,r){a.set(r,e(t,c))})}return a}(e,[])}r.d(t,{Z:function(){return a}})},81636:function(e,t,r){"use strict";r.d(t,{Q:function(){return d},Z:function(){return f}});var n=r(76911),o=r(112690),i=r(385740),a=r(767546),l=r(780280);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){var r=(0,i.sV)().setViewContextData,s=(0,l.B)().requestIdentifier,c=(0,o.Z)(),d=(0,i.SU)().viewData;(0,n.useEffect)(function(){if(e){var t;r({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c(u(u({},e),{},{event_type:13,request_identifier:s}))}},[t])}function f(e){var t=e.children;return d(e.log),t||null}},407043:function(e,t,r){"use strict";r.d(t,{B:function(){return c},v:function(){return s}});var n=r(385740),o=r(425288),i=r(515198),a=(0,o.Z)("ContextLogger"),l=a.Provider,s=a.useHook;function c(e){var t=e.children,r=e.value,o=(0,n.sV)().setViewContextData;return r.injectSetViewContextDataFromHook=o,(0,i.jsx)(l,{value:r,children:t})}},112690:function(e,t,r){"use strict";var n=r(407043);t.Z=function(){return(0,n.v)().logContextEvent}},385740:function(e,t,r){"use strict";r.d(t,{BE:function(){return h},Ih:function(){return y},SU:function(){return m},sV:function(){return p}});var n,o=r(76911),i=r(425288),a=r(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d=(0,i.Z)("View"),f=d.Provider,p=d.useHook;function h(){return n}function y(e){var t,r=e.children,i=e.initialState,l=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(void 0===i?{}:i))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=l[0],d=l[1],p=(0,o.useCallback)(function(){n={},d({})},[]),h=(0,o.useCallback)(function(e){n=c(c({},n),e),d(function(t){return c(c({},t),e)})},[]),y=(0,o.useMemo)(function(){return{viewContextData:s,clearViewContextData:p,setViewContextData:h}},[s,h,p]);return(0,a.jsx)(o.Fragment,{children:(0,a.jsx)(f,{value:y,children:r})})}function m(){return p().viewContextData}},425288:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(76911);function o(e,t){var r="consumer"===t?"".concat(e,"Consumer"):"use".concat(e);return"\n  ".concat(r," must be used within a ").concat(e,"Provider.\n  Please see https://pdocs.pinadmin.com/docs/webapp/docs/testing-jest#createhydra-errors for more information.\n  ")}function i(e,t){var r,i,a=(0,n.createContext)(t),l=((i=(i=e.slice(1)).endsWith("Context")?i:"".concat(i,"Context"),r)?{hocDisplayName:"with".concat(e[0].toUpperCase()).concat(i,"(").concat(r,")")}:{propsDisplayName:"".concat(e[0].toLowerCase()).concat(i),messageDisplayName:"".concat(e[0].toUpperCase()).concat(i)}).messageDisplayName;a.displayName=l;var s=a.Provider,c=function(e){var t=e.children,r=(0,n.useContext)(a);if(void 0===r)throw Error(o(l,"consumer"));return t(r)},u=function(){return(0,n.useContext)(a)};return s.displayName="".concat(l,"Provider"),c.displayName="".concat(l,"Consumer"),{Provider:s,Consumer:c,MaybeConsumer:function(e){return(0,e.children)((0,n.useContext)(a))},useMaybeHook:u,useHook:function(){var e=u();if(void 0===e)throw Error(o(l,"hook"));return e}}}},998499:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(316271);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{execution:"sequential"},r=t.execution;return e.reduce(function(e,t){var o=e.combinedTransitions,i=e.totalDelay,l=t.delay||0,s="sequential"===r?i+l:t.delay;return{combinedTransitions:0===o.length?(0,n.Z)(t):"".concat(o,", ").concat((0,n.Z)(a(a({},t),{},{delay:s}))),totalDelay:i+l}},{combinedTransitions:"",totalDelay:0}).combinedTransitions}},316271:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n={instant:85,short:250,medium:420,semiLong:500,long:800},o={easeIn:"0.9, 0.025, 0.75, 0.625",easeOut:"0.25, 0.375, 0.1, 0.975",easeInOut:"0.66, 0.025, 0.33, 0.975",linear:"0.5, 0.5, 1.0, 1.0",spring:"1, 100, 17, 8"};function i(e){var t=e.property,r=e.duration,i=e.timingFunction,a=e.delay,l=a?" ".concat(a,"ms"):"",s="number"==typeof r?"".concat(r,"ms"):"".concat(n[r],"ms");return"".concat(t," ").concat(s," cubic-bezier(").concat(o[i],")").concat(l)}},643010:function(e,t,r){"use strict";r.d(t,{F6:function(){return f},Hs:function(){return d},Yc:function(){return c},vs:function(){return u}});var n=r(76911),o=r(844974),i=r(867820);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l="theme",s="dark"===(0,o.qn)(l),c=function(){return s};function u(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],o=t[1];return(0,n.useEffect)(function(){o(c())},[o]),r}var d=function(){(0,o.Nh)(l,"dark"),(0,i.My)("mweb.dark_mode.enable"),window.location.reload()},f=function(){(0,o.L_)(l),(0,i.My)("mweb.dark_mode.disable"),window.location.reload()}},782534:function(e,t,r){"use strict";r.d(t,{k:function(){return n.k}});var n=r(451820),o=r(780280),i=r(515198);t.Z=function(e){var t=e.dateFormatType,r=e.useUTC,a=void 0===r||r,l=e.value;return(0,i.jsx)(o.LC,{children:function(e){return(0,n.Z)(e.locale,l,t,a)}})}},969759:function(e,t){"use strict";t.Z=function(e,t){var r=new Date(e);return r.setDate(e.getDate()+t),r}},451820:function(e,t,r){"use strict";r.d(t,{Z:function(){return i},k:function(){return n}});var n={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year"},o=function(e){switch(e){case n.YEAR:return{year:"numeric"};case n.LONG:return{year:"numeric",month:"long",day:"numeric"};case n.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case n.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case n.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case n.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case n.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case n.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.MONTH_DAY:return{month:"long",day:"numeric"};case n.SHORT_MONTH:return{month:"short"};case n.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case n.DAY:return{day:"numeric"};case n.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case n.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case n.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case n.TIME:return{hour:"numeric",minute:"2-digit"};case n.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.HOUR:return{hour:"numeric"};default:throw Error('invalid dateFormatType "'+e+'"')}};function i(e,t,r){var n=!(arguments.length>3)||void 0===arguments[3]||arguments[3],i=o(r);return n&&(i.timeZone="UTC"),new Intl.DateTimeFormat(e,i).format(t)}},81226:function(e,t,r){"use strict";function n(e){var t=Math.round(e/1e3),r=Math.floor(t/60),n=t%60;return r+":"+(n<10?"0":"")+n}r.d(t,{Z:function(){return n}})},816068:function(e,t){"use strict";t.Z=function(e){return Math.floor(new Date(e).getTime()/1e3)}},856241:function(e,t){"use strict";t.Z=function(e){var t=new Date(e);return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())}},594736:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,r){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(!a(e[n],t[n],r+1))return!1;return!0}function i(e,t,r){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!(n in t)||!a(e[n],t[n],r+1))return!1;return!0}function a(e,t,r){if(r>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!==n(e)&&"object"!==n(t))return e!=e&&t!=t;var a=Object.prototype.toString.call(e);if(a!==Object.prototype.toString.call(t))return!1;switch(a){case"[object Array]":return o(e,t,r);case"[object Set]":return o(Array.from(e).sort(),Array.from(t).sort(),r);case"[object Object]":case"[object Arguments]":return i(e,t,r);case"[object Map]":return i(Object.fromEntries(e),Object.fromEntries(t),r);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function l(e,t){return a(e,t,0)}r.d(t,{ZP:function(){return l}})},85651:function(e,t,r){"use strict";r.d(t,{w:function(){return C},Z:function(){return D}});var n,o=r(908390),i=r(45993),a=r(593559),l=r(186656),s=r(898781),c=r(515198);function u(e){var t=e.callBack,r=e.color,n=e.email,i=e.inline,a=e.overrideText,u=(0,s.ZP)(),d=a||u._('Reset password', 'Request a password reset email', 'Request a password reset email');return(0,c.jsx)(o.zx,{accessibilityLabel:d,color:r||"red",fullWidth:i,onClick:function(){(0,l.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:n}}).then(function(){return t()})},text:d})}var d=r(349700);function f(e){var t=e.email,r=e.onClose,n=e.onPasswordResetSent,l=e.socialButtons,f=(0,s.ZP)();return(0,c.jsx)(a.Z,{heading:f._('Looks like you\u2019re having trouble logging in', 'Modal heading for user who have attempted to login three times', 'Modal heading for user who have attempted to login three times'),onDismiss:r,size:"sm",children:(0,c.jsx)(o.xu,{alignItems:"center","data-test-id":"touchableErrorMessage",display:"flex",justifyContent:"center",marginBottom:9,children:(0,c.jsxs)(o.kC,{alignItems:"center",direction:"column",width:290,children:[(0,c.jsx)(o.xu,{marginBottom:6,children:(0,c.jsx)(o.xv,{align:"center",children:(0,d.nk)(f._('We sent an email to {{ email }} to help you get back in.', ' - ', ' -- '),{email:(0,c.jsx)(o.xv,{inline:!0,weight:"bold",children:t},"emailAddress")})})}),(0,c.jsx)(o.xu,{marginBottom:8,width:"100%",children:(0,c.jsx)(u,{callBack:n,color:"red",email:t,inline:!0,overrideText:f._('Resend email', 'Button to allow the user to request a password reset email', 'Button to allow the user to request a password reset email')})}),(0,c.jsx)(o.xv,{children:f._('Or log in with Facebook or Google', 'Upsell to use Facebook or Google for login', 'Upsell to use Facebook or Google for login')}),(0,c.jsx)(o.xu,{marginBottom:12,marginTop:4,width:"100%",children:l}),(0,c.jsx)(o.xu,{marginBottom:12,width:"100%",children:(0,c.jsx)(i.Z,{onClick:r})})]})})})}var p=r(743678);function h(e){var t=e.email,r=e.loginWith,n=e.onClose,l=e.onPasswordResetSent,d=(0,s.ZP)();return(0,c.jsx)(a.Z,{heading:d._('Oops! Something went wrong', 'Modal heading', 'Modal heading'),onDismiss:n,size:"md",children:(0,c.jsxs)(o.xu,{marginBottom:4,paddingX:6,children:[(0,c.jsx)(o.xu,{marginBottom:6,children:"facebook"===r?(0,c.jsx)(o.xv,{children:d._('We couldn\u2019t match your Facebook account to any Pinterest account. Try resetting your password instead.', 'Notice that no Pinterest account exists for the Facebook account used to attempt login', 'Notice that no Pinterest account exists for the Facebook account used to attempt login')}):(0,c.jsx)(o.xv,{children:d._('We couldn\u2019t match your Google account to any Pinterest account. Try resetting your password instead.', 'Notice that no Pinterest account exists for the Facebook account used to attempt login', 'Notice that no Pinterest account exists for the Facebook account used to attempt login')})}),(0,c.jsx)(u,{callBack:l,email:t,inline:!0}),(0,c.jsx)(o.xu,{marginTop:2,children:(0,c.jsx)(i.Z,{onClick:n})})]})})}var y=r(76911),m=r(499128),g=r(966113);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _(e){var t,r=e.email,n=e.onClose,l=(0,s.ZP)(),f=function(e){if(Array.isArray(e))return e}(t=(0,y.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=f[0],h=f[1];return(0,c.jsxs)(y.Fragment,{children:[(0,c.jsx)(a.Z,{heading:l._('Password reset email sent', 'Modal label for confirmation of password reset send', 'Modal label for confirmation of password reset send'),onDismiss:n,children:(0,c.jsxs)(o.xu,{marginBottom:4,paddingX:6,children:[(0,c.jsx)(o.xv,{overflow:"normal",children:(0,d.nk)(l._('We sent instructions to pick a new password to {{ email }}.', 'Statement that a password reset email has been sent to the user', 'Statement that a password reset email has been sent to the user'),{email:(0,c.jsx)(o.xv,{inline:!0,overflow:"normal",weight:"bold",children:r},"emailAddress")})}),(0,c.jsx)(o.xu,{paddingY:4,children:(0,c.jsx)(u,{callBack:function(){return h(!p)},color:"gray",email:r,inline:!0,overrideText:l._('Resend email', 'Button to allow the user to request a password reset email', 'Button to allow the user to request a password reset email')})}),(0,c.jsxs)(o.xu,{children:[(0,c.jsx)(o.xu,{marginBottom:4,children:(0,c.jsx)(o.xv,{children:(0,d.nk)(l._('Didn\u2019t get the email? Try these {{ tips }}', 'Direction to help center if the password reset email failed', 'Direction to help center if the password reset email failed'),{tips:(0,c.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(o.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/articles/trouble-pinterest-emails?source=account_recovery",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},target:"blank",underline:"hover",children:l._('tips from our Help Center', 'Link text to go to help center', 'Link text to go to help center')},"helpCenterLink")},"helpCenter")})})}),(0,c.jsx)(o.xu,{marginBottom:4,children:(0,c.jsx)(o.xv,{children:(0,d.nk)(l._('Not your email address? {{ tryAgain }}', 'Link to password reset flow for users who make an incorrect password reset request', 'Link to password reset flow for users who make an incorrect password reset request'),{tryAgain:(0,c.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(o.rU,{display:"inlineBlock",href:g.lfe,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},underline:"hover",children:l._('Try another', 'Link text to enter the password reset flow for a different email address/username', 'Link text to enter the password reset flow for a different email address/username')},"passwordResetLink")},"tryAgain")})})})]}),(0,c.jsx)(o.xu,{children:(0,c.jsx)(i.Z,{color:"red",onClick:n})})]})}),p&&(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,c.jsx)(m.ZP,{duration:3500,onHide:function(){return h(!p)},text:l._('Email sent!', ' - ', ' -- ')})})]})}function v(e){var t=e.email,r=e.onClose,n=e.onPasswordResetSent,l=e.socialButtons,d=(0,s.ZP)();return(0,c.jsx)(a.Z,{heading:d._('We protected your account', 'Modal heading for user who need to recover their accounts', 'Modal heading for user who need to recover their accounts'),onDismiss:r,size:480,children:(0,c.jsxs)(o.xu,{marginBottom:8,paddingX:12,children:[(0,c.jsx)(o.xu,{marginBottom:4,paddingX:4,children:(0,c.jsx)(o.xv,{align:"center",children:d._('For security purposes we\'ve reset your Pinterest account password and logged you out on all devices and browsers.', 'softBannedAccountModal.modal.description', 'Statement that we reset the password and logged user out')})}),(0,c.jsx)(o.xu,{marginBottom:4,paddingX:4,children:(0,c.jsx)(o.xv,{align:"center",children:d._('Reset your password or log in with Facebook or Google to get back into your account.', 'Prompt to take action to reset password or upsell login with Facebook/Google', 'Prompt to take action to reset password or upsell login with Facebook/Google')})}),(0,c.jsxs)(o.xu,{paddingX:12,children:[(0,c.jsx)(o.xu,{paddingY:2,children:(0,c.jsx)(u,{callBack:n,email:t,inline:!0})}),l,(0,c.jsx)(o.xu,{marginTop:4,children:(0,c.jsx)(i.Z,{onClick:r})})]})]})})}var x=r(576494),P=r(996438),O=r(611683),j=r(584595),S=r(290148),w=r(773285),E=r(817656);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t,r){var n;return(n=function(e,t){if("object"!==A(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==A(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===A(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=(I(n={},j.OW,S.Ny.RATE_LIMITED),I(n,j.bd,S.Ny.RATE_LIMITED),I(n,j.$j,S.Ny.SOFT_BANNED),I(n,j.an,S.Ny.SUSPENDED),I(n,j.RL,S.Ny.LOGIN_ASSISTANCE),I(n,j.yV,S.Ny.SOFT_BANNED),I(n,E.Ej,S.Ny.RATE_LIMITED),n),T=function(e){var t=e.onLoginWithMfa,r=e.onLoginWithSuspended,n=e.onLoginWithVoluntarilyDeactivated,i=e.updateAccountRecoveryModal,a=e.checkExperiment;return(0,c.jsxs)(o.xu,{children:[!a("dweb_unauth_remove_fb_signup_iteration").anyEnabled&&(0,c.jsx)(P.Z,{container:"account_recovery",disablePostSignupNextUrl:!0,onLoginWithMfa:t,onLoginWithSuspended:r,showFallback:!0,showLoginRateLimited:function(){return i(S.Ny.RATE_LIMITED)},socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:function(){return i(S.Ny.PREVENT_FACEBOOK_REGISTER)}}}),(0,c.jsx)(o.xu,{marginTop:2,children:(0,c.jsx)(O.Z,{container:"account_recovery",onLoginWithMfa:t,onLoginWithSuspended:r,onLoginWithVoluntarilyDeactivated:function(e){i(null),null==n||n(e)},showLoginRateLimited:function(){return i(S.Ny.RATE_LIMITED)},socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:function(){return i(S.Ny.PREVENT_GOOGLE_REGISTER)}}})})]})};function D(e){var t=e.email,r=e.modalType,n=e.onLoginWithMfa,o=e.onLoginWithSuspended,i=e.onLoginWithVoluntarilyDeactivated,a=e.updateAccountRecoveryModal,l=function(){return a(null)},s=function(){return a(S.Ny.PASSWORD_RESET_SENT)},u=(0,w.F)().checkExperiment,d=(0,c.jsx)(T,{checkExperiment:u,onLoginWithMfa:n,onLoginWithSuspended:o,onLoginWithVoluntarilyDeactivated:i,updateAccountRecoveryModal:a});switch(r){case S.Ny.SUSPENDED:return(0,c.jsx)(x.Z,{onClose:l});case S.Ny.LOGIN_ASSISTANCE:return(0,c.jsx)(f,{email:t,onClose:l,onPasswordResetSent:s,socialButtons:d});case S.Ny.RATE_LIMITED:return(0,c.jsx)(p.Z,{onClose:l});case S.Ny.SOFT_BANNED:return(0,c.jsx)(v,{email:t,onClose:l,onPasswordResetSent:s,socialButtons:d});case S.Ny.PREVENT_FACEBOOK_REGISTER:case S.Ny.PREVENT_GOOGLE_REGISTER:return(0,c.jsx)(h,{email:t,loginWith:r===S.Ny.PREVENT_FACEBOOK_REGISTER?"facebook":"google",onClose:l,onPasswordResetSent:s});case S.Ny.PASSWORD_RESET_SENT:return(0,c.jsx)(_,{email:t,onClose:l});default:return null}}},45993:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(908390),o=r(898781),i=r(515198);function a(e){var t=e.color,r=e.onClick,a=e.overrideText,l=(0,o.ZP)(),s=a||l._('Got it', 'Acknowledge protected account modal message', 'Acknowledge protected account modal message');return(0,i.jsx)(n.zx,{accessibilityLabel:s,color:t||"gray",fullWidth:!0,onClick:r,text:s})}},593559:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(76911),o=r(908390),i=r(662730),a=r(124580),l=r(223815),s=r(515198);function c(e){var t=e.children,r=e.headingNode,c=e.heading,u=e.onDismiss,d=e.size;return(0,n.useEffect)(function(){return a.Z.pause(),function(){a.Z.resume()}},[]),(0,s.jsx)(o.mh,{zIndex:i.C,children:(0,s.jsx)(l.Z,{allowEsc:!0,children:(0,s.jsx)(o.u_,{accessibilityModalLabel:c,heading:r||c,onDismiss:function(){a.Z.resume(),u()},padding:"none",role:"alertdialog",size:d||"md",children:t})})})}},743678:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(908390),o=r(593559),i=r(898781),a=r(515198);function l(e){var t=e.onClose,r=(0,i.ZP)();return(0,a.jsxs)(o.Z,{heading:r._('Oops! Too many login attempts', 'LoginRateLimitedModal.Modal.Heading', 'Modal heading for user who have tried to login too many times'),headingNode:(0,a.jsxs)(n.xu,{children:[(0,a.jsx)(n.xu,{display:"flex",justifyContent:"center",padding:6,children:(0,a.jsx)(n.JO,{accessibilityLabel:r._('Pinterest logo', 'Accessibility label for Pinterest icon', 'Accessibility label for Pinterest icon'),color:"brandPrimary",icon:"pinterest",size:40})}),(0,a.jsx)(n.X6,{accessibilityLevel:1,align:"center",size:"500",children:r._('Oops! Too many login attempts', 'LoginRateLimitedModal.Modal.Heading', 'Modal heading for user who have tried to login too many times')})]}),onDismiss:t,size:"sm",children:[(0,a.jsx)(n.xu,{marginBottom:12,marginTop:4,paddingX:12,children:(0,a.jsx)(n.xv,{align:"center",children:r._('You have reached the maximum number of login attempts. Try again in 30 minutes.', 'LoginRateLimitedModal.Modal.Heading', 'Modal heading for user who have tried to login too many times')})}),(0,a.jsx)(n.xu,{display:"flex",justifyContent:"center",marginBottom:8,paddingX:12,children:(0,a.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:t,text:r._('Okay', 'LoginRateLimitedModal.Modal.OkButton', 'Okay button used to close modal')})})]})}},576494:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(76911),o=r(908390),i=r(45993),a=r(593559),l=r(333071),s=r(898781),c=r(349700),u=r(515198);function d(e){var t=e.onClose,r=(0,s.ZP)(),d=r._('Common reasons for account deactivation include:', ' - ', ' -- '),f=r._('{{ help_link }} if you have questions or would like to reactivate your account.', ' - ', ' -- '),p=[r._('Violating Pinterest Community Guidelines.', 'One example reason for account deactivation', 'One example reason for account deactivation'),r._('We noticed unusual activity on your account.', 'One example reason for account deactivation', 'One example reason for account deactivation'),r._('You requested an account closure.', 'One example reason for account deactivation', 'One example reason for account deactivation')];return(0,u.jsx)(a.Z,{heading:r._('Your account has been deactivated', 'Modal heading for user who have attempted to login with a deactivated account', 'Modal heading for user who have attempted to login with a deactivated account'),onDismiss:t,size:"md",children:(0,u.jsxs)(o.xu,{marginBottom:4,paddingX:6,children:[(0,u.jsxs)(o.xu,{marginBottom:4,children:[(0,u.jsxs)(o.xv,{children:[" ",d," "]}),(0,u.jsx)(o.xu,{paddingY:2,children:(0,u.jsx)(n.Fragment,{children:p.map(function(e){return(0,u.jsx)(o.xv,{children:" "+e},"reasons-".concat(e))})})}),(0,u.jsx)(o.xv,{inline:!0,children:(0,c.nk)(f,{help_link:(0,u.jsx)(l.q,{},"suspended user help_link")})})]}),(0,u.jsx)(o.xu,{marginTop:4,children:(0,u.jsx)(i.Z,{color:"red",onClick:t,overrideText:r._('Got it', 'Acknowledge suspended account modal message', 'Acknowledge suspended account modal message')})})]})})}},333071:function(e,t,r){"use strict";r.d(t,{q:function(){return a}});var n=r(908390),o=r(898781),i=r(515198),a=function(){var e=(0,o.ZP)();return(0,i.jsx)(n.rU,{display:"inlineBlock",href:"https://help.pinterest.com/en/contact?current_page=about_you_page&appeals=account_suspension",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},underline:"auto",children:e._('Contact us', 'link text shown to redirect to help.pinterest.com for appealing a suspension', 'link text shown to redirect to help.pinterest.com for appealing a suspension')})}},777024:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(898781),o=r(515198);function i(){var e=(0,n.ZP)();return(0,o.jsx)("p",{style:{marginBottom:"8px",marginTop:"8px",overflow:"hidden",textAlign:"center",fontSize:"14px",color:"#333",fontWeight:"bold"},children:e._('OR', ' - ', ' -- ')})}},803491:function(e,t,r){"use strict";r.d(t,{Z:function(){return c},m:function(){return s}});var n=r(858472),o=r(515198);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s="\n.red.active:focus,\n.red.active:hover {\n  background-color: #d50c22 !important;\n}\n.lightGrey.active:focus,\n.lightGrey.active:hover {\n  background-color: #f5f3f3 !important;\n}\n.SignupButton:focus {\n  box-shadow: 0 0 0 4px rgba(0, 132, 255, 0.5);\n  outline: 0;\n}\n";function c(e){var t=e.accessibilityLabel,r=e.children,i=e.className,a=e.dataTestId,s=e.disabled,c=e.href,u=e.id,d=e.noButtonStyles,f=e.onClick,p=e.styleOverrides,h=e.tabIndex,y=e.type,m=(i?i.split(" "):[]).concat(s?[]:["active"]),g=d?{background:"none",border:"none",padding:"0",textAlign:"left",display:"block"}:l({border:"0px",height:"40px",display:"inline-block",borderRadius:"4px",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",padding:"0 18px",fontSize:"15px",fontWeight:"bold",cursor:"pointer",marginTop:"10px",verticalAlign:"middle",textAlign:"center"},s&&{backgroundColor:"#efefef",color:"#767676"}||m.includes("red")&&{backgroundColor:n.x7,color:"#fff"}||m.includes("lightGrey")&&{backgroundColor:"#ebebeb",color:"#444"});return g=l(l({},g),p),s&&(g=l(l({},g),{},{cursor:"not-allowed"})),(0,o.jsx)("button",l(l({"aria-label":t||"",className:m.join(" "),"data-test-id":a,disabled:s,href:c,id:u,onClick:f},h?{tabIndex:h}:{}),{},{style:g,type:y||"button",children:r}))}},996438:function(e,t,r){"use strict";r.d(t,{Z:function(){return G}});var n=r(76911),o=r(908390),i=r(989392),a=r(199324),l=r(803491),s=r(233211),c=r(905171),u=r(402201),d=function(e){var t=e.onError,n=e.onEventReceived,o=e.onSuccess,i=e.rerequestFacebookEmail,a=e.viewer,l=null,s=function(e){var r=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(e.origin===r&&("social-connect-complete"===e.data.type||"social-connect-error"===e.data.type)){var i=e.data;"facebook"===i.network&&(n(),clearInterval(l),"social-connect-error"===i.type?t("OTHER_ERROR"):o({type:"PROFILE",profile:i.profile}))}};if(window.addEventListener("message",s),i)r.e(51798).then(r.bind(r,107193)).then(function(e){(0,e.default)(function(e){e.login(function(e){var r;"connected"===e.status&&((null===(r=e.authResponse.grantedScopes)||void 0===r?void 0:r.split(","))||[]).includes("email")?o({type:"ACCESS_TOKEN",id:e.authResponse.userID,access_token:e.authResponse.accessToken}):t("OTHER_ERROR")},{scope:"email",auth_type:"rerequest",return_scopes:!0})},a)});else{var c=(0,u.Z)(),d=window.open("/connect/facebook/","",c);d?l=setInterval(function(){d.closed&&(clearInterval(l),t("OTHER_ERROR"))},1e3):t("POPUP_DISABLED")}return{unsubscribe:function(){window.removeEventListener("message",s)}}},f=r(910702),p=r(515198);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e){var t,r=e.anchor,i=e.message,a=e.children,l=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!!i))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=l[0],c=l[1];return((0,n.useEffect)(function(){c(!!i)},[i]),s&&i)?(0,p.jsx)(o.J2,{anchor:r,color:"darkGray",idealDirection:"right",onDismiss:function(){return c(!0)},shouldFocus:!1,size:"md",children:(0,p.jsx)(o.xu,{column:12,padding:3,children:a?(0,p.jsx)("span",{children:a}):(0,p.jsx)("span",{dangerouslySetInnerHTML:{__html:i},style:{overflowWrap:"break-word",wordWrap:"break-word",color:"white",fontWeight:"bold"}})})}):null}var m=r(174382),g=r(70212),b=r(85334),_=r(901656),v=r(903095),x=r(898781),P=r(379913),O=r(584595),j=r(467570),S=r(336882),w=r(935879),E=r(290148),A=r(45169),I=r(830269),C=r(773285),T=r(780280),D=r(867820),k=r(19121);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach(function(t){U(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function M(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H(n.key),n)}}function B(e,t){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function F(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,r){return(t=H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==R(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(u,e);var t,r,n,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=Z(u);if(t){var n=Z(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return F(e)}(this,e)});function u(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u);for(var e,t,r,n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return U(F(e=s.call.apply(s,[this].concat(o))),"state",{showModal:!1}),U(F(e),"unsubscribeThisButton",null),U(F(e),"loginWithFacebook",function(t){var r=t.facebookConnectData,n=t.isFromStatusChange,o=t.isAccountSwitch,i=t.handlePostSuccessConnect,a=t.loadingIndicatorCallback,l=e.props,s=l.checkExperiment,u=l.container,d=l.desktopCoreLoginContext.getDeviceAppTypeString,f=l.i18n,p=l.login,h=l.disableFBSignup,y=l.onLoginWithMfa,m=l.onLoginWithSuspended,b=l.pageContext,_=l.showResponseMessageModal,v=l.showLoginRateLimited,x=l.socialSignupCallbacks,j={container:u,page:null==b?void 0:b.pageType},S="PROFILE"===r.type?{facebook_id:r.profile.id}:{facebook_id:r.id,facebook_token:r.access_token};p({creds:S,loggingOptions:{loggingData:j,loginAttemptContextEvent:e.signupLoginContextEvent(7534)},isAccountSwitch:o}).then(function(t){var r,n=null==t?void 0:null===(r=t.resource_response.data)||void 0===r?void 0:r.user;o&&n&&(0,P.Z)(n,"facebook",u),(0,D.My)("login.facebook."+d()),_?_(!0):E.ZP.handleRedirect(e.props.nextUrlParam||E.ZP.defaultSocialLoginRedirectUrl()),null==i||i(),s("m10n_measurement_pinterest_tag_us").anyEnabled&&(0,g.Z)()},function(t){if(t.api_error_code===O.Zn){var o;null==a||a(!1),(0,D.My)("login.facebook."+d()),null==y||y(S,{phoneNumberEnd:null===(o=t.data)||void 0===o?void 0:o.phone_number_end})}else t.api_error_code===O.xN||t.api_error_code===O.lg?s("dweb_unauth_remove_fb_signup_iteration").anyEnabled?null==h||h():"ACCOUNT_RECOVERY"===x.type?x.switchToAccountRecoverySignupFlow("facebook"):e.registerWithFacebook({facebookConnectData:r,loggingData:j,isFromStatusChange:n,switchToSocialSignupWithAgeFlow:x.switchToSocialSignupWithAgeFlow}):[O.ik].includes(t.api_error_code)?null==v||v():(t.api_error_code&&(0,D.My)("facebook_button.failed_login_".concat(t.api_error_code)),t.api_error_code===O.an&&m?m():(0,c.x)(f._('Sorry, we can\'t log you in.', 'error message when user failed to login caused by suspend/deactivated etc.', 'error message when user failed to login caused by suspend/deactivated etc.')))})}),U(F(e),"statusChangeCallback",function(t){null===(r=(n=e.props).onClick)||void 0===r||r.call(n);var r,n,o,i=e.props,a=i.connectErrorMessage,l=i.handlePostSuccessConnect,s=i.isAccountSwitch,u=i.loadingIndicatorCallback;if((0,D.EX)({event:"start",provider:"facebook"}),"connected"===t.status){var d=t.authResponse;(0,D.My)("web.facebook_connect_button.login_status.connected"),null==u||u(!0),e.loginWithFacebook({facebookConnectData:{type:"ACCESS_TOKEN",id:d.userID,access_token:d.accessToken},isFromStatusChange:!0,isAccountSwitch:s,handlePostSuccessConnect:l,loadingIndicatorCallback:u}),o="success"}else"not_authorized"===t.status?((0,D.My)("web.facebook_connect_button.cancel.not_authorized"),(0,c.x)(a),o="not_authorized"):((0,D.My)("web.facebook_connect_button.cancel.unknown"),(0,c.x)(a),o="other_error");var f=e.props.handlePostConnectClick;null==f||f(o)}),U(F(e),"showDefaultError",function(){var t=e.props,r=t.i18n,n=t.loadingIndicatorCallback;null==n||n(!1),(0,c.x)(r._('Something went wrong. Please try again later.', 'facebookConnectButton.defaultError', 'Generic error for facebook default error handling'))}),U(F(e),"registerWithFacebook",(t=regeneratorRuntime.mark(function t(r){var n,o,a,l,s,c,u,d,p,h,y,m,g,b,_,v,x,P,O;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.facebookConnectData,o=r.loggingData,a=r.isFromStatusChange,l=r.switchToSocialSignupWithAgeFlow,(0,D.Rp)({event:"start",provider:"facebook"}),c=(s=e.props).desktopCoreLoginContext.register,u=s.disablePostSignupNextUrl,d=s.loadingIndicatorCallback,p=s.nextUrlParam,h=s.onFBMissingEmail,y=s.onFBPhoneOnlyConnectVerified,m=s.showResponseMessageModal,g=s.showSignupWelcomeLoadingFn,b=function(){e.showDefaultError(),a||(e.rerequestFacebookEmail=!0)},_=null,"PROFILE"!==n.type){t.next=9;break}_=L({},n.profile),t.next=18;break;case 9:return t.prev=9,t.next=12,(0,j.MI)(n.access_token);case 12:_=t.sent,t.next=18;break;case 15:t.prev=15,t.t0=t.catch(9),b();case 18:if(_){t.next=20;break}return t.abrupt("return");case 20:if(v=(0,f.Z)(_),x={type:"facebook",context:o,signupOptions:v},_.email){t.next=25;break}return y?(a||null==d||d(!1),y(x)):a&&h?h(x):b(),t.abrupt("return");case 25:if(P={birthday_source_site:A.E_.FACEBOOK,email_source_site:A.E_.FACEBOOK},a){t.next=29;break}return l(x),t.abrupt("return");case 29:if(!(void 0===(O=v.birthday)||!(0,i.Z)(O))){t.next=34;break}return null==d||d(!1),l(L(L({},x),{},{signupOptions:L(L({},x.signupOptions),{},{email_source_site:A.E_.FACEBOOK})})),t.abrupt("return");case 34:return m||null==g||g(!0),(0,D.Rp)({event:"signup_api_call_start",provider:"facebook"}),t.prev=36,t.next=39,c(L(L(L({},v),P),{},{birthday:O}),{signupContext:o,signupAttemptContextEvent:e.signupLoginContextEvent(7537)});case 39:(0,D.Rp)({event:"signup_api_call_success",provider:"facebook"}),t.next=46;break;case 42:t.prev=42,t.t1=t.catch(36),(0,D.Rp)({event:"signup_api_call_failure",provider:"facebook"}),b();case 46:m?m(!0):E.ZP.handleSignupRedirect(a?p:p||window.location.pathname,u);case 47:case"end":return t.stop()}},t,null,[[9,15],[36,42]])}),r=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){M(i,n,o,a,l,"next",e)}function l(e){M(i,n,o,a,l,"throw",e)}a(void 0)})},function(e){return r.apply(this,arguments)})),e}return r=[{key:"componentDidMount",value:function(){var e,t,r,n,o=this;if(!this.props.webFacebookDisabled){if("undefined"!=typeof window&&(window.statusChangeCallback=this.statusChangeCallback,window.checkLoginState=function(){return o.checkLoginState()},window.fbConnectButtonContainerStack?window.fbConnectButtonContainerStack.push(this.props.container):window.fbConnectButtonContainerStack=[this.props.container],window.nextUrlParam=this.props.nextUrlParam,window.fbButtonMounted=window.fbButtonMounted?window.fbButtonMounted+1:1),["ios","ipad"].includes(this.props.requestContext.userAgent.platform)){if(window.fb_init!==S.Z.STARTED&&window.fb_init!==S.Z.FINISHED)this.initializeFB();else if(window.fb_init===S.Z.FINISHED&&window.FB.XFBML)window.FB.XFBML.parse();else var i=setInterval(function(){window.fb_init===S.Z.FINISHED&&window.FB.XFBML&&(window.FB.XFBML.parse(),clearInterval(i))},100)}else setTimeout(function(){window.__branchRedirectToStore||!window.__branchPinterestStarted?o.initializeFB():window.onbeforeunload=function(){window.__branchRedirectToStore&&o.initializeFB()}},50);this.props.isRerequest&&(null===(e=(t=this.props).loadingIndicatorCallback)||void 0===e||e.call(t,!1),null===(r=(n=this.props).showSignupWelcomeLoadingFn)||void 0===r||r.call(n,!1))}}},{key:"componentDidUpdate",value:function(){window.nextUrlParam=this.props.nextUrlParam}},{key:"componentWillUnmount",value:function(){if("undefined"!=typeof window){if(window.fbButtonMounted-=1,window.fbConnectButtonContainerStack){var e=window.fbConnectButtonContainerStack.indexOf(this.props.container);e>=0&&window.fbConnectButtonContainerStack.splice(e,1)}0===window.fbButtonMounted&&(delete window.statusChangeCallback,delete window.checkLoginState,delete window.nextUrlParam)}}},{key:"initializeFB",value:function(){var e=this.props.requestContext.locale;null!==this.profilePicButton&&(void 0!==window.FB&&null!==window.FB?window.FB.XFBML.parse():(window.fbAsyncInit=function(){return(0,j.sl)()},function(t,r,n){var o=t.getElementsByTagName(r)[0];if(!t.getElementById(n)){var i=t.createElement(r);i.id=n,i.src=(0,w.Z)(e),o&&o.parentNode&&o.parentNode.insertBefore(i,o)}}(document,"script","facebook-jssdk")))}},{key:"checkLoginState",value:function(){window.FB.getLoginStatus(function(e){this.statusChangeCallback&&this.statusChangeCallback(e)})}},{key:"signupLoginContextEvent",value:function(e){var t=this.props.desktopCoreLoginContext.viewer;return{event_type:e,aux_data:L(L({},(0,_.Z)(t.type)),{},{signup_login_method:I.Z.FACEBOOK})}}},{key:"renderProfilePicButtonWithFallback",value:function(){var e=this,t=this.props,r=t.i18n,n=t.isRerequest,i=t.showFallback,s=t.container,u=t.checkExperiment;return(0,p.jsxs)(o.xu,{ref:function(t){e._fallbackButton=t},"data-test-id":"facebook-connect-button",children:[(0,p.jsx)(l.Z,{onClick:function(){var t,r=e.props,n=r.connectErrorMessage,o=r.desktopCoreLoginContext.getDeviceAppTypeString,i=r.i18n,a=r.webFacebookDisabled,l=r.viewer;if(a){e.setState({showModal:!0});return}(0,D.My)("fallback_facebook_button.click"),(0,D.NC)("press_facebook_login_fallback"),(0,D.My)("unauth_web.facebook_connect.manual.attempt"),(0,D.My)("unauth_web.social_connect.facebook.".concat(o())),(0,D.EX)({event:"start",provider:"facebook"}),null===(t=e.unsubscribeThisButton)||void 0===t||t.call(e);var s=d({onSuccess:function(t){(0,D.My)("unauth_web.facebook_connect.manual.success"),e.loginWithFacebook({facebookConnectData:t,isFromStatusChange:!1})},onError:function(e){(0,D.My)("unauth_web.facebook_connect.manual.failure"),(0,c.x)("POPUP_DISABLED"===e?i._('You must enable popups!', ' - ', ' -- '):n)},onEventReceived:function(){var t;null===(t=e.unsubscribeThisButton)||void 0===t||t.call(e)},rerequestFacebookEmail:e.rerequestFacebookEmail,viewer:l}).unsubscribe;e.unsubscribeThisButton=function(){s(),e.unsubscribeThisButton=null}},styleOverrides:{backgroundClip:"padding-box",backgroundColor:"#1877F2",display:"block",fontWeight:"normal",height:"40px",marginTop:"0px",padding:"0px 0px 0px 8px",position:i?"relative":"absolute",textAlign:"revamped_business_login_page"===s?"center":"left",transition:"opacity .2s linear",width:"100%",borderRadius:"20px"},tabIndex:-1,children:(0,p.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"revamped_business_login_page"===s?"center":"start",children:[(0,p.jsx)(o.xu,{color:"default",dangerouslySetInlineStyle:{__style:{paddingTop:4,paddingBottom:3,paddingRight:3,paddingLeft:3}},height:24,marginStart:1,rounding:"circle",width:24,children:(0,p.jsx)(o.JO,{accessibilityLabel:r._('facebook', 'accessible label for facebook icon', 'accessible label for facebook icon'),color:"shopping",icon:"facebook",inline:!0,size:19})}),(0,p.jsx)("span",{style:{color:"#fff",display:"inline-block",fontFamily:a.Z,fontSize:"16px",fontWeight:"bold",letterSpacing:"0.1px",lineHeight:"15px",marginRight:"24px",marginLeft:"15px",paddingTop:"4px",textAlign:"center",verticalAlign:"text-bottom",WebkitFontSmoothing:"auto",whiteSpace:"normal",width:"revamped_business_login_page"===s?void 0:"88%"},children:r._('Continue with Facebook', ' - ', ' -- ')})]})}),!i&&(0,p.jsx)(o.xu,{ref:function(t){e.profilePicButton=t},dangerouslySetInlineStyle:{__style:{textAlign:"revamped_business_login_page"===s?"center":"left"}},height:40,children:(0,p.jsx)("div",{className:"fb-login-button","data-auth-type":n?"rerequest":void 0,"data-button-type":"continue_with","data-layout":"rounded","data-onlogin":"checkLoginState","data-scope":(0,j._V)().join(","),"data-size":"large","data-use-continue-as":u("dweb_unauth_remove_fb_autologin_and_personalization").anyEnabled?void 0:"true","data-width":"268px"})})]})}},{key:"render",value:function(){var e=this,t=this.props.tooltip;return(0,p.jsxs)(o.xu,{position:"relative",children:[this.renderProfilePicButtonWithFallback(),!!t&&(0,p.jsx)(y,{anchor:this._fallbackButton,message:t}),this.state.showModal&&(0,p.jsx)(m.Z,{onDismiss:function(){return e.setState({showModal:!1})},type:"facebook"})]})}}],N(u.prototype,r),n&&N(u,n),Object.defineProperty(u,"prototype",{writable:!1}),u}(n.Component);function G(e){var t=(0,x.ZP)(),r=(0,T.B)(),n=(0,s.B$)(),o=(0,v.lO)(),i=(0,C.F)().checkExperiment,a=(0,k.Z)(),l=i("web_facebook_disabled").anyEnabled;return(0,p.jsx)(V,L(L({},e),{},{checkExperiment:i,connectErrorMessage:t._('Couldn\'t connect. You must authorize Pinterest.', ' - ', ' -- '),desktopCoreLoginContext:n,i18n:t,login:(0,b.Z)(),pageContext:o,requestContext:r,viewer:a,webFacebookDisabled:l}))}},105555:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(908390),o=r(898781),i=r(773285),a=r(50286),l=r(515198);function s(){var e=(0,o.ZP)(),t=(0,a.HG)(),r=(0,(0,i.F)().checkExperiment)(t?"dweb_unauth_remove_fb_signup_iteration":"mweb_unauth_remove_fb_signup_iteration").group;return(0,l.jsx)(n.xu,{marginTop:t?4:void 0,padding:t?4:void 0,children:(0,l.jsxs)(n.xu,{alignItems:"center",color:"errorWeak",direction:"row",display:"flex",paddingX:4,paddingY:4,rounding:t?4:void 0,children:[(0,l.jsx)(n.xu,{marginEnd:4,children:(0,l.jsx)(n.JO,{accessibilityLabel:e._('error in Facebook signup', 'facebook_signup_error_banner.icon', 'error icon on the facebook signup error banner'),color:"default",icon:"workflow-status-problem",size:20})}),(0,l.jsx)(n.xu,{children:(0,l.jsx)(n.xv,{children:r.startsWith("enabled_old_copy")?e._('We can\'t connect to your Facebook account. Try another method', 'facebook_signup_error_banner.copy_1', 'copy variant 1 for the facebook signup error banner'):e._('Facebook login isn\'t available for new users. Continue with email or Google:', 'facebook_signup_error_banner.copy_2', 'copy variant 2 for the facebook signup error banner')})})]})})}},720224:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return tq}});var n,o=r(76911),i=r(599689),a=r(908390),l=r(56641),s=r(112690),c=r(746613),u=r(469134),d=r(231486),f=r(226198),p=r(816068),h=r(233211),y=r(803491),m=r(515198),g=function(e){var t=e.margin,r=e.wideLight;return(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:"".concat(r?"#efefef":"#dedede"," 1px solid"),margin:null!=t?t:"10px auto"}},width:r?404:110})},b=r(901656),_=r(898781),v=r(780280),x=r(966113),P=r(867820),O=r(52022),j=r(101331),S=r(170168);function w(e){var t=e.type,r=(0,h.B$)().viewer,n=(0,_.ZP)(),o=(0,s.Z)(),i="".concat(S.C0).concat(x.Hm8),l=(0,j.Z)().trackConversionUpsell;return(0,m.jsxs)(a.xu,{alignItems:"center",display:"flex",fit:!0,justifyContent:"center",marginBottom:1,marginEnd:"auto",marginStart:"auto",marginTop:2,children:[(0,m.jsx)(a.xv,{size:"100",weight:"normal",children:n._('Are you a business?', 'Prompt for business signup', 'Prompt for business signup')}),(0,m.jsx)(a.xu,{"data-test-id":"business-start",marginStart:1,children:(0,m.jsx)(a.rU,{href:i,onClick:function(){(0,P.My)("unauth.business_link.click"),o({event_type:101,component:"signupToLogin"===t?13096:13867,element:10281,aux_data:(0,b.Z)(r.type)}),l({element:10281,eventType:14689})},target:"blank",underline:"none",children:(0,m.jsx)(a.xv,{size:"100",weight:"bold",children:n._('Get started here!', 'Prompt for signing up', 'Prompt for signing up')})})})]})}var E=function(e){var t=e.children,r=e.layout,n=(0,v.B)().isRTL;switch(r){case"SIGNUP_LARGE":return(0,m.jsx)(a.xu,{children:(0,m.jsx)(a.xu,{marginTop:4,children:t})});case"SIGNUP_SMALL":return(0,m.jsx)(a.xu,{marginTop:3,children:t});case"SIGNUP_WITH_AGE":return(0,m.jsx)(a.xu,{margin:-4,children:(0,m.jsx)(a.xu,{"data-test-id":"login-button",padding:3,children:t})});case"LOGIN_INLINE":return(0,m.jsxs)(a.xu,{children:[(0,m.jsx)(g,{}),(0,m.jsx)(a.xu,{display:"inlineBlock",marginEnd:1,children:t})]});case"LOGIN_SMALL":return(0,m.jsxs)(a.xu,{children:[(0,m.jsx)(g,{}),t]});case"SIGNUP_DEFAULT":case"LOGIN_DEFAULT":return(0,m.jsxs)(a.xu,{children:[(0,m.jsx)(g,{margin:"SIGNUP_DEFAULT"===r?n&&"20px -68px 15px 0px"||"20px 0px 15px -68px":n&&"20px 30px 15px -10px"||"20px -10px 15px -68px",wideLight:!0}),(0,m.jsx)(a.xu,{children:t})]});default:return t}};function A(e){var t=e.layout,r=e.onClick,n=e.shouldHideBusinessCreateFooterLink,o=e.type,i=(0,_.ZP)(),l=(0,O.Z)();return(0,m.jsxs)(E,{layout:t,children:[(0,m.jsx)(a.xu,{alignItems:"center",display:"flex",fit:!0,justifyContent:"center",marginBottom:1,marginEnd:"auto",children:(0,m.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"center",children:["signupToLogin"===o&&(0,m.jsx)(a.xv,{size:"100",children:i._('Already a member?', 'modernized.nux.footer.text', 'Header text to switch from the sign up modal to the login modal ')}),(0,m.jsx)(y.Z,{dataTestId:"login-signup-toggle",noButtonStyles:!0,onClick:function(e){l({action:"click",item:"email-signup-button"}),r(e)},styleOverrides:{color:"#333",marginLeft:"5px",fontWeight:"bold"},type:"button",children:"signupToLogin"===o&&i._('Log in', 'modernize.nux.switch.to.login.modal', 'Toggle to switch from the sign up modal to the login modal')||i._('Not on Pinterest yet? Sign up', 'nux.unauth.user.sign.up.message', 'Toggle to switch from the login modal to the sign up modal')})]})}),!n&&(0,m.jsx)(w,{type:o})]})}var I=r(563387),C=r(754124),T=r(584595),D=r(290148),k=r(45169),R=r(830269),z=r(143461),L=r(109322);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==M(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===M(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function F(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var H=function(e){var t,r,n=e.disablePostSignupNextUrl,i=e.handleLoginToggleButtonClick,l=e.loadingIndicatorCallback,s=e.nextUrlParam,y=e.registrationCredentials,g=e.showResponseMessageModal,v=(0,_.ZP)(),x=(0,h.B$)(),O=x.register,j=x.viewer,S=(0,z.D)().refreshToken,w=Z((0,o.useState)(!1),2),E=w[0],M=w[1],N=Z((0,o.useState)(!0),2),U=N[0],H=N[1],V=Z((0,o.useState)(!1),2),G=V[0],W=V[1],Y=Z((0,o.useState)(""),2),X=Y[0],q=Y[1],K=Z((0,o.useState)(void 0),2),$=K[0],J=K[1],Q="other";switch(null==y?void 0:y.type){case"google":Q="google";break;case"facebook":Q="facebook";break;case"line":Q="line"}(0,o.useEffect)(function(){"1"===d.U2(f.It)&&(W(!0),q(v._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'signup.birthdaycollection.ineligible.msg', 'Error message shown when underage user tries to register')))},[v,q]),(0,o.useEffect)(function(){(0,P.My)("dweb.signup_age_step",{type:null==y?void 0:y.type,format:"birthday"})},[null==y?void 0:y.type]);var ee=function(){(0,P.My)("dweb.birthdaycollection.signup_success"),(0,P.Rp)({event:"signup_api_call_success",provider:Q}),g?g(!0):D.ZP.handleSignupRedirect(s,n)},et=(t=regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!y||!$)){e.next=3;break}return l(!1),e.abrupt("return");case 3:return t=B(B({},y.signupOptions),{},{birthday:(0,p.Z)($),birthday_source_site:k.E_.PINTEREST}),e.prev=4,r=({facebook:R.Z.FACEBOOK,google:R.Z.GPLUS,google_one_tap:R.Z.GOOGLE_ONE_TAP,line:R.Z.LINE,socialSignupWithAge:void 0})[y.type],"google"===y.type?n=12981:"google_one_tap"===y.type&&(n=12982),(0,P.Rp)({event:"signup_api_call_start",provider:Q}),e.next=10,O(t,{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,element:n,aux_data:B(B({},(0,b.Z)(j.type)),r?{signup_login_method:r}:Object.freeze({}))}});case 10:ee(),e.next=39;break;case 13:e.prev=13,e.t0=e.catch(4),(0,P.Rp)({event:"signup_api_call_failure",provider:Q}),S&&S(),e.t1=e.t0.api_error_code,e.next=e.t1===T.tz?20:e.t1===T.NF?24:e.t1===T.tL?27:e.t1===T.iZ?30:e.t1===T.Jt?33:36;break;case 20:return(0,P.My)("dweb.birthdaycollection.signup_error.underage"),d.t8(f.It,"1",(0,d.kZ)(f.It)),M(!0),e.abrupt("break",39);case 24:return(0,P.My)("dweb.birthdaycollection.signup_error.eu_missing_age"),q(e.t0.message||v._('We need to know your age to provide you this service.', 'signup.birthdaycollection.error.missingAge', 'Error message shown when age is required and it is missing')),e.abrupt("break",39);case 27:return(0,P.My)("dweb.birthdaycollection.signup_error.overage"),q(e.t0.message||v._('Oops! Please use a valid age to sign up.', 'signup.birthdaycollection.error.overage', 'Error message shown when overage (age over 120) user tries to register')),e.abrupt("break",39);case 30:return(0,P.My)("dweb.birthdaycollection.signup_error.invalid_email"),q(v._('Your email is invalid.', 'signup.birthdaycollection.error.invalidEmail', 'Error message shown when user inputs invalid email')),e.abrupt("break",39);case 33:return(0,P.My)("dweb.birthdaycollection.signup_error.email_contain_pinterest"),q(v._('Please stick to your name, or the name of your brand', 'signup.birthdaycollection.error.emailContainsPinterest', 'Error message shown when email contains pinterest')),e.abrupt("break",39);case 36:return(0,P.My)("dweb.birthdaycollection.signup_error.other"),q(v._('Sorry! Something went wrong on our end.', 'signup.birthdaycollection.error.other', 'Error message shown when there is an unknown error')),e.abrupt("break",39);case 39:case"end":return e.stop()}},e,null,[[4,13]])}),r=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){F(i,n,o,a,l,"next",e)}function l(e){F(i,n,o,a,l,"throw",e)}a(void 0)})},function(){return r.apply(this,arguments)});return E?(0,m.jsx)(C.Z,{birthday:$,onEditBirthday:function(){return M(!1)}}):(0,m.jsx)(a.xu,{paddingX:5,paddingY:5,children:(0,m.jsx)(a.xu,{paddingX:12,children:(0,m.jsxs)(a.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,m.jsx)(a.xu,{height:48,marginBottom:1,marginTop:5,width:48,children:(0,m.jsx)(a.Ee,{alt:v._('Birthday Image', 'signup.birthdaycollection.image.alt', 'Alt text for birthday cake image'),naturalHeight:48,naturalWidth:48,src:c})}),(0,m.jsx)(a.xu,{marginBottom:2,children:(0,m.jsx)(a.X6,{align:"center",size:"600",children:v._('Enter your birthdate', 'signup.birthdaycollection.title', 'label for birthday collection')})}),(0,m.jsx)(a.xu,{marginBottom:4,width:310,children:(0,m.jsx)(a.xu,{marginBottom:4,children:(0,m.jsx)(a.xv,{align:"center",children:v._('To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We don\'t share this information and it won\'t be visible on your profile.', 'signup.birthdaycollection.subheader1', 'Sign up birthday step subheader')})})}),(0,m.jsx)(a.xu,{marginBottom:4,width:280,children:(0,m.jsx)(a.nv,{autoComplete:"bday",disabled:G,errorMessage:X,id:"birthday",onChange:function(e){var t=e.value;q(""),H(!t),J(t)},size:"lg",type:"date",value:$||""})}),(0,m.jsx)(a.xu,{marginBottom:10,width:280,children:(0,m.jsx)(a.xv,{align:"center",color:"subtle",children:(0,u.ML)(v)})}),(0,m.jsx)(a.xu,{marginBottom:3,width:280,children:(0,m.jsx)(a.zx,{color:"red",disabled:U,fullWidth:!0,onClick:function(){if((0,P.Rp)({event:"submit_birthday",provider:Q}),$&&!(0,u.Cd)($,L.kx)){q((0,u.Uy)(v));return}et()},text:v._('Create account', 'signup.birthdaycollection.submit_label', 'Text on the sign up button for signing up on birthday collection screen')})}),(0,m.jsx)(a.xu,{marginBottom:9,marginTop:2,width:340,children:(0,m.jsx)(I.Z,{dark:!0})}),(0,m.jsx)(a.xu,{marginBottom:2,children:(0,m.jsx)(A,{layout:"SIGNUP_LARGE",onClick:function(){return i()},type:"signupToLogin"})})]})})})},V=r(385740),G=r(85651),W=r(777024),Y=r(905171),X=r(996438),q=r(611683),K=r(979661),$=r(85334),J=r(903095),Q=r(743847),ee=r(319915),et=r(186656),er=r(499128),en=r(65189),eo=r(738192),ei=r(773285),ea=r(817656),el=r(947599),es=r(343341),ec=r(26717),eu=r(216895),ed=r(134906);function ef(e){return(ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ep(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eh(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ey(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ey(Object(r),!0).forEach(function(t){eO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ey(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eg(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function eb(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){eg(i,n,o,a,l,"next",e)}function l(e){eg(i,n,o,a,l,"throw",e)}a(void 0)})}}function e_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ej(n.key),n)}}function ev(e,t){return(ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ex(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eP(e){return(eP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eO(e,t,r){return(t=ej(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ej(e){var t=function(e,t){if("object"!==ef(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ef(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ef(t)?t:String(t)}var eS=(0,o.lazy)(function(){return r.e(97500).then(r.bind(r,97500))}),ew="emailpwdstep",eE=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ev(e,t)}(l,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eP(l);if(t){var n=eP(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===ef(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ex(e)}(this,e)});function l(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l),eO(ex(r=i.call(this,e)),"onLoginWithSuspended",function(){(0,r.props.loadingIndicatorCallback)(!1),r.setState({accountRecoveryModalType:G.w[T.an]})}),eO(ex(r),"onLoginWithVoluntarilyDeactivated",function(e){return r.setState({googleValidationError:e})}),eO(ex(r),"setLoadingState",function(e){var t=r.props,n=t.loadingIndicatorCallback,o=t.showSignupWelcomeLoadingFn;return o&&!1===e&&o(!1),n(e)}),eO(ex(r),"handleEmailChange",function(e){r.props.setEmail(e.target.value),r.setState({hideFBGoogleToolTip:!0})}),eO(ex(r),"handlePasswordChange",function(e){r.state.passwordValidationError&&r.setState({passwordValidationError:null}),r.props.setPassword(e.target.value)}),eO(ex(r),"handleEmailSignUp",function(){(0,P.My)("unauth_email_validation_attempt"),r.props.trackInteraction({action:"click",item:"email-signup-button"});var e=(0,eu.Z)(null!==(t=r.props.email)&&void 0!==t?t:"",r.emailValidators);if(e)r.setState({emailValidationError:e}),(0,P.My)("unauth.login.error.CLIENT_ERROR.malformemail.".concat(ew));else{var t,n,o,i=(0,eu.Z)(null!==(n=r.props.password)&&void 0!==n?n:"",r.asciiValidators);i&&(r.setState({passwordValidationError:i}),(0,P.My)("unauth.login.error.CLIENT_ERROR.nonasciipwd.".concat(ew))),(e=(0,eu.Z)(null!==(o=r.props.password)&&void 0!==o?o:"",r.loginPasswordValidators))?(r.setState({passwordValidationError:e}),(0,P.My)("unauth.login.error.CLIENT_ERROR.malformpwd.".concat(ew))):(r.setState({passwordValidationError:null}),r.validateEmailAvailable()),r.setState({emailValidationError:null}),r.props.setNameFromEmail()}}),eO(ex(r),"register",function(e){var t=e.birthday,n=r.props,o=n.container,i=n.email,a=n.name,l=n.pageContext,s=n.password,c=n.onBirthdayUnderage,u=n.requestContext,p=n.signupSource,h=n.register,y=n.i18n,m={type:"email",birthday:t,email:i,password:s,country:u.country,first_name:a,last_name:"",recaptchaV3Token:r.props.recaptchaV3Token||"default"},g={container:o,page:null==l?void 0:l.pageType,signupSource:p};(0,P.My)("one_step_age_signup_complete"),(0,P.Rp)({event:"signup_api_call_start",provider:"email"}),h(m,{signupContext:g,signupAttemptContextEvent:r.signupLoginContextEvent(7537)}).then(function(){var e=r.props.showResponseMessageModal;(0,P.My)("unauth.signup_one_step.completed"),(0,P.Rp)({event:"signup_api_call_success",provider:"email"}),e?e(!0):D.ZP.handleSignupRedirect(r.props.nextUrlParam,r.props.disablePostSignupNextUrl)},function(e){switch(r.setLoadingState(!1),(0,P.Rp)({event:"signup_api_call_failure",provider:"email"}),r.props.refreshRecaptchaV3Token&&r.props.refreshRecaptchaV3Token(),e.api_error_code){case T.tz:d.t8(f.It,"1"),c?c({birthday:r.props.birthday,email:i}):r.showUnderAgeError(e.message);break;case T.NF:r.setState({birthdayValidationError:e.message||y._('We need to know your age to provide you this service.', 'userRegistration.missingAgeError', 'Error message shown when age is required and it is missing')});break;case T.tL:r.setState({birthdayValidationError:e.message||y._('Oops! Please use a valid age to sign up.', 'userRegistration.overageError', 'Error message shown when overage (age over 120) user tries to register')});break;case T.iZ:(0,P.My)("unauth_show_invalid_email_inline_error"),r.setState({emailValidationError:y._('Your email is invalid.', ' - ', ' -- ')});break;case T.Jt:(0,P.My)("unauth_show_invalid_email_contains_pinterest"),r.setState({emailValidationError:y._('Please stick to your name, or the name of your brand', ' - ', ' -- ')});break;default:(0,Y.x)(y._('Sorry! Something went wrong on our end.', ' - ', ' -- '))}})}),eO(ex(r),"checkEmailExistsWithCompletion",function(e){var t=e.email,n=e.handleEmailExists,o=e.handleEmailNotExist,i=e.handleError,a=r.props.i18n;(0,et.Z)({url:"/v3/register/exists/",data:{email:t}}).then(function(e){r.setState({emailValidationError:null}),!1===e.resource_response.data?o():n()},function(e){var t=a._('Hmm...that doesn\'t look like an email address', ' - ', ' -- ');e.api_error_code===T.bd?t=e.message:(0,eu.Z)(r.props.email,r.asciiValidators)&&(0,P.My)("unauth.login.error.CLIENT_ERROR.nonasciiemail.".concat(ew)),r.setState({emailValidationError:t}),null==i||i()})}),eO(ex(r),"checkEmailValidation",(t=eb(regeneratorRuntime.mark(function e(t){var n,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(n=r.props).i18n,i=n.showToast,!((0,Q.Z)(t)||(0,Q.z)(t,"yahoo")||(0,Q.z)(t,"hotmail"))){e.next=4;break}return r.setState({emailValidationError:o._('Sorry, this doesn\'t look like a valid email', 'register.email.error.message', 'Email error by backend validation')}),e.abrupt("return");case 4:return e.prev=4,e.next=7,(0,et.Z)({url:"/v3/email/validation/",data:{email:t}});case 7:(a=(e.sent.resource_response||{}).data)&&a.is_valid?r.setState({emailValidationError:null}):r.setState({emailValidationError:o._('Sorry, this doesn\'t look like a valid email', 'register.email.error.message', 'Email error by backend validation')}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),null!==e.t0&&void 0!==e.t0&&e.t0.message?i(function(t){var r=t.hideToast;return(0,m.jsx)(er.ZP,{duration:3e3,onHide:r,text:e.t0.message,type:"error"})}):(0,P.My)("unauth.login.error.".concat(ew,".ERROR").concat(e.t0.api_error_code));case 16:case"end":return e.stop()}},e,null,[[4,13]])})),function(e){return t.apply(this,arguments)})),eO(ex(r),"updateAccountRecoveryModal",function(e){return r.setState({accountRecoveryModalType:e})}),eO(ex(r),"renderSignupForm",function(){var e=r.props,t=e.birthday,n=e.email,o=e.i18n,i=e.onBirthdayChange,l=e.password,s=e.suppressFocus,c=e.viewType,p=e.viewParameter,h=e.component,y=e.attributionLabel,g=e.trackConversionUpsell,b=r.state.birthdayValidationError,_=(0,u.Uy)(o),v=function(e){g({element:e,eventType:14689})};return r.state.showRegisterForm?(0,m.jsx)(K.Z,{attributionLabel:y,buttonText:o._('Continue', 'Continue button on web', 'Continue button on web'),buttonTextLabel:o._('Continue creating your Pinterest account', 'Accessiblity button text to continue creating an account', 'Accessiblity button text to continue creating an account'),component:h,email:n,emailFieldHasError:r.state.emailFieldHasError,emailLabel:o._('Continue with email', 'Sign up button', 'Sign up button'),emailText:o._('Email', 'Text on button asking for email', 'Text on button asking for email'),emailValidationError:r.state.emailValidationError,onButtonClick:function(){if("1"===d.U2(f.It)){r.showUnderAgeError();return}if(t&&!(0,u.Cd)(t,L.kx)){r.setState({birthdayValidationError:_});return}r.setState({facebookValidationError:null,googleValidationError:null,hideFBGoogleToolTip:!1}),r.handleEmailSignUp()},onEmailChange:r.handleEmailChange,onPasswordChange:r.handlePasswordChange,password:null!=l?l:"",passwordText:o._('Create a password', 'Text asking the user to create a password while registering', 'Text asking the user to create a password while registering'),passwordValidationError:r.state.passwordValidationError,signupForm:{birthdayProps:{birthday:t,birthdayValidationError:b,setBirthdayValidationError:function(e){return r.setState({birthdayValidationError:e})},onBirthdayChange:i},checkEmailExistsWithCompletion:r.checkEmailExistsWithCompletion,checkEmailValidation:r.checkEmailValidation,registerRestricted:"1"===d.U2(f.It)},suppressFocus:s,viewParameter:p,viewType:c}):(0,m.jsx)(a.xu,{"data-test-id":"emailSignUpButton",children:(0,m.jsx)(a.zx,{color:"red",fullWidth:!0,onClick:function(){v(13506),(0,P.NC)("signup_email_button"),r.props.trackInteraction({action:"click",item:"email-signup-button",within:"bottom-right-upsell"}),r.setState({showRegisterForm:!0})},text:o._('Continue with email', 'Text on the sign up button for signing up with email', 'Text on the sign up button for signing up with email')})})}),eO(ex(r),"showUnderAgeError",function(e){var t=r.props.i18n;r.setState({birthdayValidationError:e||t._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'Error message shown when underage user tries to register', 'Error message shown when underage user tries to register')})});var t,r,n=new URLSearchParams(e.location.search),o=+n.get("aec");n.delete("aec"),e.history.replace({pathname:e.location.pathname,search:n.toString()}),r.state={accountRecoveryModalType:o===T.yV||o===T.$j?D.Ny.SOFT_BANNED:null,birthdayValidationError:null,emailFieldHasError:!1,emailValidationError:null,facebookValidationError:null,googleValidationError:null,passwordValidationError:null,showRegisterForm:"home_page"===r.props.container,hideFBGoogleToolTip:!1};var s=e.i18n;r.emailValidators=[(0,ed.aH)({message:s._('You missed a spot! Don\'t forget to add your email.', ' - ', ' -- ')}),(0,ed.GT)({message:s._('Hmm...that doesn\'t look like an email address.', ' - ', ' -- ')})];var c=s._('Your password is too short! You need 6+ characters.', ' - ', ' -- '),p=s._('Use only a mix of letters, numbers and special characters (for example: ?, !, $).', 'EmailPasswordStep.password.onlyASCII', 'Only ASCII characters are allowed for password');r.requireBirthdayValidatorMessage=s._('You missed a spot. Don\u2019t forget to add your birthday.', 'signup.emailpasswordstep.birthday.require.validator_message', 'Error message shown when user did not fill the birthday field in the sign up model');var h=s._('Invalid date', 'signup.emailpasswordstep.birthday.validator_message', 'Error message shown when user input a birthday date later than allowed');return r.passwordValidators=[(0,ed.aH)({message:c}),(0,ec.Z)({shortPassStr:c,samePasswordStr:s._('Please make your username and password different.', ' - ', ' -- '),blackPassStr:s._('Please make a stronger password.', ' - ', ' -- ')})],r.asciiValidators=[(0,ed.oR)({message:p})],r.loginPasswordValidators=[(0,ed.aH)({message:c}),(0,ed.oR)({message:p}),(0,ed.Gy)({min:6,minErrorString:c})],r.birthdayValidators=[(0,ed.aH)({message:r.requireBirthdayValidatorMessage}),(0,ed.C9)({date:new Date(new Date().getFullYear(),0,1),message:h})],r}return r=[{key:"handleLoginFailure",value:function(e,t){var r,n=this,o=this.props,i=o.setPassword,a=o.email,l=o.onLoginWithMfa,s=o.i18n,c=e.http_status===ea.Ej?ea.Ej:e.api_error_code;if(c===T.Zn){D.ZP.handleLoginMfa(t,{phoneNumberEnd:null===(r=e.data)||void 0===r?void 0:r.phone_number_end},l);return}var u=(0,eo.Z)({error:e,source:"emailPasswordStep",onClickPasswordReset:function(){(0,P.My)("unauth_password_reset_link_tapped"),(0,et.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:a}}).then(function(){return n.updateAccountRecoveryModal(D.Ny.PASSWORD_RESET_SENT)})}});u?(this.setState(em(em({},u),{},{accountRecoveryModalType:c?G.w[c]:void 0})),u.passwordValidationError&&i("")):(0,Y.x)(s._('Sorry! Something went wrong on our end.', ' - ', ' -- ')),this.setLoadingState(!1)}},{key:"handleLoginSuccess",value:function(e){D.ZP.storeLoginCredentialsToBrowser(e);var t=this.props.showResponseMessageModal;t?t(!1):this.props.nextUrlParam?D.ZP.handleSignupRedirect(this.props.nextUrlParam,this.props.disablePostSignupNextUrl):window.location.reload()}},{key:"signupLoginContextEvent",value:function(e){var t=this.props.viewer;return{event_type:e,aux_data:em(em({},(0,b.Z)(t.type)),{},{signup_login_method:R.Z.EMAIL})}}},{key:"validateEmailAvailable",value:function(){var e,t=this,r=this.props,n=r.container,o=r.email,i=r.login,a=r.pageContext,l=r.password;this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token(),this.setLoadingState(!0),this.checkEmailExistsWithCompletion({email:o,handleEmailExists:function(){var e={username_or_email:o,password:null!=l?l:""};i({creds:e,loggingOptions:{loggingData:{container:n,page:null==a?void 0:a.pageType},loginAttemptContextEvent:t.signupLoginContextEvent(7534)},recaptchaV3Token:t.props.recaptchaV3Token||"default"}).then(function(){return t.handleLoginSuccess(e)},function(r){return t.handleLoginFailure(r,e)})},handleEmailNotExist:(e=eb(regeneratorRuntime.mark(function e(){var r,n,i,a,l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.checkEmailValidation(o);case 2:if(n=(r=t.props).birthday,i=r.password,t.setLoadingState(!1),!t.state.emailValidationError){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,(0,eu.U)(null!=i?i:"",t.passwordValidators);case 8:if(!(a=e.sent)){e.next=13;break}return t.setState({passwordValidationError:a}),(0,P.My)("unauth.login.error.CLIENT_ERROR.malformpwd.".concat(ew)),e.abrupt("return");case 13:if(!(l=(0,eu.Z)(n||"",t.birthdayValidators))){e.next=18;break}return(0,P.My)("unauth.login.error.CLIENT_ERROR.".concat("invalidbirthday",".",ew)),t.setState({birthdayValidationError:l}),e.abrupt("return");case 18:if(void 0!==(s=n?(0,p.Z)(n):void 0)){e.next=22;break}return t.setState({birthdayValidationError:t.requireBirthdayValidatorMessage}),e.abrupt("return");case 22:if(!(0,Q.Z)(o)){e.next=25;break}return t.setState({emailFieldHasError:!0}),e.abrupt("return");case 25:t.setState({emailValidationError:null}),(0,P.My)("unauth.signup_step_1.completed"),t.register({birthday:s});case 28:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})})}},{key:"render",value:function(){var e=this,t=this.props,r=t.additionalChildren,n=t.container,i=t.disablePostSignupNextUrl,l=t.email,s=t.loadingIndicatorCallback,c=t.nextUrlParam,u=t.disableFBSignup,d=t.onFBMissingEmail,f=t.onFBPhoneOnlyConnectVerified,p=t.onLoginWithMfa,h=t.switchToSocialSignupWithAgeFlow,y=t.showLineConnectButton,g=t.showResponseMessageModal,b=t.showSignupWelcomeLoadingFn,_=t.trackConversionUpsell,v=t.requestContext,x=this.state,P=x.accountRecoveryModalType,O=x.facebookValidationError,j=x.googleValidationError,S=x.hideFBGoogleToolTip,w=x.showRegisterForm,E=function(e){_({element:e,eventType:14689})},A=v.experimentsClient.checkExperiment("dweb_unauth_remove_fb_signup_iteration").anyEnabled;return(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},width:268,children:[(0,m.jsx)(G.Z,{email:l,modalType:P,onLoginWithMfa:p,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),(0,m.jsxs)(a.xu,{children:[this.renderSignupForm(),!!w&&(0,m.jsx)(W.Z,{}),(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"10px"}},children:[!A&&(0,m.jsx)(X.Z,{container:n,disableFBSignup:u,disablePostSignupNextUrl:i,loadingIndicatorCallback:s,onClick:function(){E(13505)},onFBMissingEmail:d,onFBPhoneOnlyConnectVerified:f,onLoginWithMfa:p,onLoginWithSuspended:this.onLoginWithSuspended,showLoginRateLimited:function(){return e.updateAccountRecoveryModal(D.Ny.RATE_LIMITED)},showResponseMessageModal:g,showSignupWelcomeLoadingFn:b,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:h},tooltip:!S&&O||null}),(0,m.jsx)(a.xu,{height:10}),(0,m.jsx)(a.xu,{children:(0,m.jsx)(q.Z,{container:n,nextUrlParam:c,onClick:function(){E(13504)},onLoginWithMfa:p,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,showLoginRateLimited:function(){return e.updateAccountRecoveryModal(D.Ny.RATE_LIMITED)},showResponseMessageModal:g,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:h},tooltip:!S&&j||null})}),y&&(0,m.jsxs)(o.Fragment,{children:[(0,m.jsx)(a.xu,{height:10}),(0,m.jsx)(ee.Z,{name:"SafeSuspense_EmailPasswordStep_LineConnectButton",children:(0,m.jsx)(el.Z,{children:(0,m.jsx)(eS,{container:n,loadingIndicatorCallback:s,nextUrlParam:c,onClick:function(){E(13507)},onLoginWithMfa:p,onLoginWithSuspended:this.onLoginWithSuspended,showLoginRateLimited:function(){return e.updateAccountRecoveryModal(D.Ny.RATE_LIMITED)},showResponseMessageModal:g,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:h}})})})]})]})]}),(0,m.jsx)(I.Z,{dark:!0}),r]})}}],e_(l.prototype,r),n&&e_(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(o.Component);function eA(e){var t=(0,J.lO)(),r=(0,v.B)(),n=(0,es.F9)().showToast,a=(0,h.B$)(),l=a.register,c=a.viewer,u=(0,$.Z)(),d=(0,s.Z)(),f=(0,V.SU)(),p=f.viewType,y=f.viewParameter,g=(0,O.Z)(),b=(0,_.ZP)(),x=r.country,P=(0,i.useLocation)(),S=(0,i.useHistory)(),w=(0,z.D)(),E=w.recaptchaV3Token,A=w.refreshToken,I="JP"===x,C=ep((0,o.useState)(),2),T=C[0],D=C[1],k=ep((0,o.useState)(""),2),R=k[0],L=k[1],M=ep((0,o.useState)(""),2),N=M[0],B=M[1],F=(0,j.Z)().trackConversionUpsell,Z=(0,ei.F)().checkExperiment;return(0,m.jsx)(eE,em(em({},e),{},{attributionLabel:e.attributionLabel,birthday:T,checkExperiment:Z,history:S,i18n:b,location:P,logContextEvent:d,login:u,name:R,onBirthdayChange:function(e){return D(e.value)},pageContext:t,password:N,recaptchaV3Token:E,refreshRecaptchaV3Token:A,register:l,requestContext:r,setNameFromEmail:function(){return L((0,en.Z)(e.email,x))},setPassword:B,showLineConnectButton:I,showToast:n,trackConversionUpsell:F,trackInteraction:g,viewer:c,viewParameter:y,viewType:p}))}var eI=r(989392),eC=r(894738),eT=function(e){var t=e.email,r=e.emailError,n=e.onNotNowClick,i=e.handleEmailChange,l=e.handleSubmit,s=(0,_.ZP)();(0,o.useEffect)(function(){(0,P.My)("unauth.fb_phone_only_signup.email_step")},[]),s._('We use your email address for account creation and for important security and legal notices.', 'subtitle to explain the step on email collection form', 'subtitle to explain the step on email collection form');var c=s._('Oops. We\'re unable to create your account without your email. To continue, make sure you provide email to create your account.', 'subtitle to explain the step on email collection form', 'subtitle to explain the step on email collection form');return(0,m.jsx)(a.xu,{marginTop:3,children:(0,m.jsxs)("form",{method:"post",noValidate:!0,onSubmit:function(e){e.preventDefault(),l()},children:[(0,m.jsx)(a.xv,{align:"start",overflow:"normal",children:c}),(0,m.jsx)(a.xu,{marginTop:3}),(0,m.jsx)(a.xu,{children:(0,m.jsx)(a.nv,{ref:eC.Z,errorMessage:Array.isArray(r)?r.join(""):r,id:"email",onChange:i,placeholder:s._('Email address', 'email placeholder in the email inputfield on email collection form', 'email placeholder in the email inputfield on email collection form'),size:"lg",type:"email"})}),(0,m.jsx)(a.xu,{marginTop:5}),(0,m.jsx)(a.zx,{color:"red",disabled:!t,fullWidth:!0,text:s._('Continue', 'word on the button which to submit user email information', 'word on the button which to submit user email information'),type:"submit"}),(0,m.jsx)(a.xu,{marginTop:2}),(0,m.jsx)(a.zx,{fullWidth:!0,onClick:function(){(0,P.My)("unauth.fb_phone_only_signup.email_step.not_now_click"),n&&n()},text:s._('Not now', 'word on not now button to dismiss the collection form', 'word on not now button to dismiss the collection form'),type:"submit"})]})})},eD=r(910702),ek=r(467570);function eR(e){return(eR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ez(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ez(Object(r),!0).forEach(function(t){eZ(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ez(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eU(n.key),n)}}function eN(e,t){return(eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eB(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eF(e){return(eF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eZ(e,t,r){return(t=eU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eU(e){var t=function(e,t){if("object"!==eR(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eR(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eR(t)?t:String(t)}var eH={EMAIL:"email"},eV=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eN(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eF(i);if(t){var n=eF(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eR(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eB(e)}(this,e)});function i(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i),eZ(eB(t=o.call(this,e)),"mounted",!1),eZ(eB(t),"handleEmailChange",function(e){var r=e.value;t.setState({email:r})}),eZ(eB(t),"showError",function(e,r){t.mounted&&r===eH.EMAIL&&t.setState({emailError:e})}),eZ(eB(t),"handleSubmit",function(){var e=t.props.i18n;if((0,P.My)("unauth.fb_phone_only_signup.submit_email"),(0,P.Rp)({event:"submit_email",provider:"facebook"}),t.state.email)(0,P.My)("unauth.fb_phone_only_signup.submit_email"),t.attemptEmailSignupOrLogin();else{var r=e._('Email is required', 'email error message', 'email error message');t.setState({emailError:r})}}),eZ(eB(t),"handleSignupSuccess",function(){D.ZP.handleSignupRedirect(t.props.nextUrlParam||window.location.pathname,!0),(0,P.My)("unauth.fb_phone_only_signup.signup_success"),(0,P.Rp)({event:"signup_api_call_success",provider:"facebook"})}),eZ(eB(t),"handleSignupFailure",function(e){return function(r){var n=t.props.i18n,o=r.message||n._('Oops! Something went wrong\u2026 Click Continue to try again.', 'Error during signup during FB email collection step', 'Error during signup during FB email collection step');t.showError(o,e),(0,P.My)("unauth.fb_phone_only_signup.signup_failure"),(0,P.Rp)({event:"signup_api_call_failure",provider:"facebook"})}}),eZ(eB(t),"attemptEmailSignupOrLogin",function(){var e=t.props,r=e.desktopCoreLoginContext.register,n=e.i18n,o=t.state.email,i=[(0,ed.GT)({message:n._('Hmm... that doesn\'t look like an email address.', 'email error message', 'email error message')})],a=(0,eu.Z)(o,i);if(a){(0,P.My)("unauth.fb_phone_only_signup.email_validation_failure"),t.setState({emailError:a});return}var l=t.props,s=l.registrationCredentials,c=s.type,u=s.signupOptions,d=l.showSocialSignupWithAgeStep,f=l.showEmailAlreadyExistModal;(0,et.Z)({url:"/v3/register/exists/",data:{email:o}}).then(function(e){if(!1===e.resource_response.data){var n=eL(eL({},u),{},{email:o,email_source_site:k.E_.PINTEREST}),i=n.birthday;void 0!==i&&(0,eI.Z)(i)?((0,P.Rp)({event:"signup_api_call_start",provider:"facebook"}),(n.facebook_token?(0,ek.MI)(n.facebook_token).then(eD.Z):Promise.resolve(Object.freeze({}))).then(function(e){return r(eL(eL(eL({},e),n),{},{birthday:i,birthday_source_site:k.E_.FACEBOOK}),{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,view_type:10}})}).then(t.handleSignupSuccess,t.handleSignupFailure(eH.EMAIL))):d({type:c,signupOptions:n})}else f({email:o}),(0,P.My)("unauth.fb_phone_only_signup.email_existed")},function(e){var r=n._('Hmm... that doesn\'t look like an email address.', 'email error message', 'email error message');e.api_error_code===T.bd&&(r=e.message),t.showError(r,eH.EMAIL),(0,P.My)("unauth.fb_phone_only_signup.email_exist_api_call_failure")})}),t.state={email:"",emailError:""},t}return r=[{key:"componentDidMount",value:function(){this.mounted=!0,this.props.loadingIndicatorCallback&&this.props.loadingIndicatorCallback(!1)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},width:268,children:(0,m.jsx)(eT,{email:this.state.email,emailError:this.state.emailError,handleEmailChange:this.handleEmailChange,handleSubmit:this.handleSubmit,onNotNowClick:this.props.onNotNowClick})})}}],eM(i.prototype,r),n&&eM(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(o.Component),eG=function(e){var t=(0,h.B$)(),r=(0,v.B)(),n=(0,ei.F)().checkExperiment,o=(0,_.ZP)();return(0,m.jsx)(eV,eL(eL({},e),{},{checkExperiment:n,desktopCoreLoginContext:t,i18n:o,requestContext:r}))},eW=r(105555),eY=function(e){var t=e.onClick,r=(0,v.B)(),n=(0,_.ZP)();return(0,m.jsx)(a.xu,{"data-test-id":"full-page-signup-close-button",display:"block",height:40,left:r.isRTL,marginEnd:4,marginStart:4,marginTop:4,position:"absolute",right:!r.isRTL,top:!0,width:40,children:(0,m.jsx)(a.hU,{accessibilityLabel:n._('close', 'accessible label for close button', 'accessible label for close button'),icon:"cancel",iconColor:"darkGray",onClick:t,size:"md"})})},eX=r(704217),eq=r(356997),eK=r(53987),e$=r(248975),eJ=r(995228),eQ=void 0!==n?n:n=r(174566),e0=function(e){var t,r,n,o=e.fallback,i=e.pinId,l=e.iconButton,s=(0,_.ZP)(),c=(0,eX.useLazyLoadQuery)(eQ,{pinId:i});if(!i)return o;var u=null!==(t=null===(r=c.v3GetPinQuery)||void 0===r?void 0:r.data)&&void 0!==t?t:{},d=u.dominantColor,f=u.embed,p=u.imageSpec_236x,h={"236x":null!==(n=null==p?void 0:p.url)&&void 0!==n?n:""},y=(0,e$.Z)({imagesUrls:h,embedSrc:null==f?void 0:f.src,embedType:null==f?void 0:f.type,preferredResolution:"236x",excludeOriginals:!0});return y?(0,m.jsxs)(a.xu,{"data-test-id":"signup-image-wrapper",height:80,margin:"auto",position:"relative",width:82,children:[(0,m.jsx)(a.xu,{height:72,margin:"auto",marginBottom:6,marginTop:4,width:56,children:(0,m.jsx)(a.zd,{height:72,rounding:2,width:56,children:(0,m.jsx)(a.Ee,{alt:s._('Save pin image', 'FullPageSignup.signupImage.savePinImage', 'Unauth save modal pin image alt text'),color:d||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:y})})}),!!l&&(0,m.jsx)(a.xu,{bottom:!0,position:"absolute",right:!0,children:l})]}):o};function e1(e){var t,r,n=e.container,o=e.fallback,l=e.savePinId,s=e.user,c=e.signupSource,u=(0,_.ZP)(),d=(0,i.useRouteMatch)().path,f=(0,i.useLocation)(),p=(0,eK.L6)(f),h=l||("/pin/:id"===d?f.pathname.split("/")[2]:null),y=(0,a.tv)().colorGray0;switch(n){case"follow":return(0,m.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:4,marginTop:8,children:(0,m.jsx)(eq.qE,{accessibilityLabel:u._('User Avatar', 'profile.ProfileHeader.Avatar', 'Avatar in user profile page'),name:null!==(t=null==s?void 0:s.full_name)&&void 0!==t?t:"",outline:!0,size:"md",src:null!==(r=null==s?void 0:s.image_large_url)&&void 0!==r?r:""})});case"save":case"download":return p&&h?(0,m.jsx)(eJ.Z,{fallback:o,children:(0,m.jsx)(e0,{fallback:o,iconButton:"downloadImageBtnUnauth"===c?(0,m.jsx)(a.zd,{rounding:"circle",children:(0,m.jsx)("div",{"aria-hidden":"true",onClick:function(){(0,P.My)("dweb.unauth.signup_modal.download_icon.click")},children:(0,m.jsx)(a.xu,{alignItems:"center",color:"lightWash",dangerouslySetInlineStyle:{__style:{boxSizing:"border-box",border:"solid 3px ".concat(y)}},direction:"column",display:"flex",height:32,justifyContent:"center",rounding:"circle",width:32,children:(0,m.jsx)(a.JO,{accessibilityLabel:u._('Sign Up to download', 'web.unauth.download_modal.download_value_prop_unauth', 'Highlighting the download value prop in signup modal for unauth users after download attempt'),color:"default",icon:"download"})})})}):null,pinId:h})}):o;default:return o}}var e2=r(583375);function e8(e){var t=e.large;return(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{margin:"8px auto 6px"}},display:"block",height:45,width:45,children:(0,m.jsx)(e2.Z,{size:t?50:40})})}function e3(e){return(e3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e7(n.key),n)}}function e6(e,t){return(e6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e4(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e9(e){return(e9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e7(e){var t=function(e,t){if("object"!==e3(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==e3(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e3(t)?t:String(t)}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e6(e,t)}(o,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=e9(o);if(t){var n=e9(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===e3(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return e4(e)}(this,e)});function o(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var e,t,r,i,a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=e4(e=n.call.apply(n,[this].concat(l))),r="componentDidMount",i=function(){var t=e.props,r=t.container,n=t.modalType;(0,P.My)("web.unauth.modal_title.view"),(0,P.My)("unauth_web_modal.".concat(r||"unknown",".tier1.").concat(n,".shown"))},(r=e7(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,e}return e5(o.prototype,[{key:"render",value:function(){var e=this.props,t=e.container,r=e.titleText;return(0,m.jsx)("h1",{style:{color:"#333",fontSize:"revamped_business_login_page"===t?"28px":"32px",fontWeight:"revamped_business_login_page"===t?"500":"600",letterSpacing:"-1.2px",MozOsxFontSmoothing:"grayscale",padding:"revamped_business_login_page"===t?"0px 0px":"0px 16px",WebkitFontSmoothing:"antialiased",wordBreak:"keep-all"},children:r})}}]),r&&e5(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.Component),tt=function(e){var t=e.email,r=e.emailError,n=e.onNotNowClick,i=e.handleEmailChange,l=e.handleSubmit,s=(0,_.ZP)();(0,o.useEffect)(function(){(0,P.My)("unauth.line_missing_email.email_step")},[]),s._('We use your email address for account creation and for important security and legal notices.', 'subtitle to explain the step on email collection form', 'subtitle to explain the step on email collection form');var c=s._('Oops. We\'re unable to create your account without your email. To continue, make sure you provide email to create your account.', 'subtitle to explain the step on email collection form', 'subtitle to explain the step on email collection form');return(0,m.jsx)(a.xu,{marginTop:3,children:(0,m.jsxs)("form",{method:"post",noValidate:!0,onSubmit:function(e){e.preventDefault(),l()},children:[(0,m.jsx)(a.xv,{align:"start",overflow:"normal",children:c}),(0,m.jsx)(a.xu,{marginBottom:5,marginTop:3,children:(0,m.jsx)(a.nv,{ref:eC.Z,errorMessage:Array.isArray(r)?r.join(""):r,id:"email",onChange:i,placeholder:s._('Email address', 'email placeholder in the email inputfield on email collection form', 'email placeholder in the email inputfield on email collection form'),size:"lg",type:"email"})}),(0,m.jsx)(a.zx,{color:"red",disabled:!t,fullWidth:!0,text:s._('Continue', 'word on the button which to submit user email information', 'word on the button which to submit user email information'),type:"submit"}),(0,m.jsx)(a.xu,{marginTop:2}),(0,m.jsx)(a.zx,{fullWidth:!0,onClick:function(){(0,P.My)("unauth.line_missing_email.email_step.not_now_click"),n&&n()},text:s._('Not now', 'word on not now button to dismiss the collection form', 'word on not now button to dismiss the collection form'),type:"submit"})]})})},tr=r(829407);function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?to(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==tn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tn(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tn(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):to(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ta(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tl(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ts=function(e){var t=e.nextUrlParam,r=e.loadingIndicatorCallback,n=e.showEmailAlreadyExistModal,i=e.onNotNowClick,l=e.registrationCredentials,s=e.showSocialSignupWithAgeStep,c=(0,h.B$)(),u=(0,_.ZP)(),d=ta((0,o.useState)(""),2),f=d[0],p=d[1],y=ta((0,o.useState)(""),2),g=y[0],b=y[1];return(0,tr.Z)(function(){r(!1)}),(0,m.jsx)(a.xu,{marginBottom:0,marginEnd:"auto",marginStart:"auto",marginTop:0,width:268,children:(0,m.jsx)(tt,{email:f,emailError:g,handleEmailChange:function(e){return p(e.value)},handleSubmit:function(){if((0,P.My)("unauth.line_missing_email.submit_email"),!f){b(u._('Email is required', 'email error message', 'email error message'));return}(0,P.My)("unauth.line_missing_email.submit_email");var e=c.register,o=[(0,ed.GT)({message:u._('Hmm... that doesn\'t look like an email address.', 'email error message', 'email error message')})],i=(0,eu.Z)(f,o);if(i){(0,P.My)("unauth.line_missing_email.email_validation_failure"),b(i);return}var a=l.type,d=l.signupOptions;(0,et.Z)({url:"/v3/register/exists/",data:{email:f}}).then(function(o){if(!1!==o.resource_response.data){n({email:f}),(0,P.My)("unauth.line_missing_email.email_existed");return}r(!0);var i=d.birthday;void 0===i?(s({type:a,signupOptions:ti(ti({},d),{},{email:f})}),r(!1)):e(ti(ti({},d),{},{email:f,birthday:i}),{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,view_type:10}}).then(function(){r(!1),D.ZP.handleSignupRedirect(t||D.ZP.defaultSocialLoginRedirectUrl(),!0),(0,P.My)("unauth.line_missing_email.signup_success")},function(e){r(!1),b(e.message||u._('Oops! Something went wrong\u2026 Click Continue to try again.', 'unauth.lineEmailCollect.error', 'Error during signup during Line email collection step')),(0,P.My)("unauth.line_missing_email.signup_failure")})},function(e){b(e.api_error_code===T.bd?e.message:u._('Hmm... that doesn\'t look like an email address.', 'email error message', 'email error message')),(0,P.My)("unauth.line_missing_email.email_exist_api_call_failure")})},onNotNowClick:i})})},tc=r(710893),tu=r(407043),td=r(81636),tf=r(597922),tp=r(349700),th=r(966224);function ty(e){return(ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tm(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==ty(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ty(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ty(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tm(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return t_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t_(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var tv=function(e){var t=e.container,r=e.creds,n=e.isAccountSwitch,i=e.nextUrlParam,l=e.phoneNumberEnd,s=tb((0,o.useState)(null),2),c=s[0],u=s[1],d=tb((0,o.useState)(""),2),f=d[0],p=d[1],h=tb((0,o.useState)(!1),2),g=h[0],b=h[1],O=tb((0,o.useState)(!1),2),j=O[0],S=O[1],w=(0,v.B)(),E=w.isAuthenticated,A=w.loginState,I=(0,_.ZP)(),C=(0,J.lO)(),T=(0,$.Z)(),k={container:void 0===t?"unknown":t,page:null==C?void 0:C.pageType},R=(0,tu.v)().logContextEvent;(0,td.Q)({view_type:565,view_parameter:3731}),(0,o.useEffect)(function(){!n&&D.ZP.isFullyLoggedIn(E,A)&&D.ZP.handleRedirect(i)},[]);var z=I._('Continue', ' - ', ' -- ');return(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{margin:"18px auto"}},width:268,children:[g&&(0,m.jsx)(th.Z,{rounding:8}),(0,m.jsx)("p",{style:{fontSize:"14px",margin:"24px 0",textAlign:"center"},children:l?(0,tp.nk)(I._('Please check your phone with the number ending in {{ phoneNumberEnd }} for a code and enter it in the field below to log in.', ' - ', ' -- '),{phoneNumberEnd:(0,m.jsx)("strong",{children:l},"phone")}):I._('Please check your phone for a code and enter it in the field below to log in.', ' - ', ' -- ')}),(0,m.jsxs)("form",{method:"POST",noValidate:!0,onSubmit:function(e){e.preventDefault(),R({view_type:565,view_parameter:3731,event_type:101,element:12019});var t=(0,eu.Z)(null!=f?f:"",[(0,ed.aH)({message:I._('You missed a spot! Don\'t forget to add your verification code.', ' - ', ' -- ')}),(0,ed.VC)({message:I._('Hmm...that doesn\'t look like a verification code.', ' - ', ' -- ')})]);t?(u(t),(0,P.My)("unauth.login.error.CLIENT_ERROR.wrongcode.loginmfa")):(u(null),b(!0),T({creds:tg(tg({},r),{},{mfa_token:f}),loggingOptions:{loggingData:k,loginAttemptContextEvent:{event_type:7534,view_type:565,view_parameter:3731}}}).then(function(){R({view_type:565,view_parameter:3731,event_type:9992});var e=window.location.pathname===x.lfe||window.location.pathname.startsWith(x.rOJ)?"/":window.location.pathname;D.ZP.handleRedirect(i||e)},function(e){e.message?u(e.message):(0,Y.x)(I._('Sorry! Something went wrong on our end.', ' - ', ' -- ')),b(!1)}))},children:[(0,m.jsx)(tf.Z,{autoComplete:"off",focused:!0,hasError:!!c,id:"mfaCode",name:"code",onChange:function(e){return p(e.target.value)},placeholder:I._('Verification code', ' - ', ' -- '),tooltip:c,type:"text",value:f}),(0,m.jsx)(y.Z,{accessibilityLabel:z,className:"red SignupButton",styleOverrides:{width:"100%",borderRadius:"20px"},type:"submit",children:(0,m.jsx)(a.xu,{children:z})})]}),(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"15px",color:"#333"}},children:(0,tp.nk)(I._('If you didn\'t get it, we can {{ resendCode }}.', ' - ', ' -- '),{resendCode:(0,m.jsx)(a.rU,{display:"inlineBlock",href:"",onClick:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),t.preventDefault(),R({view_type:565,view_parameter:3731,event_type:101,element:12920}),b(!0),T({creds:tg(tg({},r),{},{mfa_resend:!0}),loggingOptions:{loggingData:k,loginAttemptContextEvent:{event_type:7534,view_type:565,view_parameter:3731}}}).then(function(){b(!1),S(!0)},function(e){b(!1),e.message?u(e.message):(0,Y.x)(I._('Sorry! Something went wrong on our end.', ' - ', ' -- '))})},underline:"hover",children:(0,m.jsx)(a.xv,{size:"100",weight:"bold",children:I._('resend the code', ' - ', ' -- ')})},"code")})}),j&&(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{bottom:50,left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,m.jsx)(er.ZP,{duration:5e3,onHide:function(){return S(!1)},text:I._('We sent you a new code!', 'login2fa.resendCode.success', 'Code was succesfully sent again to the user\'s phone number')})})]})},tx=r(708196);function tP(e){return(tP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==tP(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tP(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tP(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tS={backgroundColor:"#fff",borderRadius:"8px",padding:"22px 0",position:"relative",textAlign:"center",width:"400px",margin:"auto",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},tw=function(e){var t=e.children,r=e.noBoxShadow,n=tj(tj({},tS),r?{boxShadow:"none"}:{}),o=(0,h.B$)().viewer,i=(0,h.Cw)();return"LIMITED_LOGIN"===o.type&&i?(0,m.jsxs)("div",{"data-test-id":"login-modal-default",style:tj(tj({},n),{},{display:"flex",width:"auto",padding:""}),children:[(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:"8px 0 0 8px"}},overflow:"hidden",children:(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{width:"number"==typeof i.height&&"number"==typeof i.width?600*(i.width/i.height||0):0,backgroundSize:"cover",backgroundPosition:"center",backgroundImage:i.url?"url(".concat(i.url,")"):""}},height:"100%",maxWidth:400})}),(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{padding:"32px 0"}},width:400,children:t})]}):(0,m.jsx)("div",{"data-test-id":"login-modal-default",style:tj(tj({},n),{},{padding:"32px 0"}),children:t})},tE=function(e){var t,r=e.children,n=e.email,i=e.footer,l=e.handleNotYouClick,s=e.header,c=e.noBoxShadow,u=e.title,d=e.viewerInfo,f=(0,h.B$)().viewer,p=(0,_.ZP)();return(0,m.jsx)(tw,{noBoxShadow:c,children:(0,m.jsxs)(o.Fragment,{children:[s,(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},display:"block",height:40,width:40,children:(0,m.jsx)(e2.Z,{size:40})}),(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 48px 16px"}},maxHeight:150,overflow:"hidden",width:"auto",children:u}),"LIMITED_LOGIN"===f.type&&(0,m.jsx)(a.xu,{marginBottom:4,paddingX:12,children:(0,m.jsx)(tx.Z,{})}),(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},width:120,children:(0,m.jsx)(eq.qE,{name:d.firstName,src:null!==(t=d.imageUrl)&&void 0!==t?t:void 0})}),(0,m.jsx)(a.xu,{marginBottom:3,children:(0,m.jsx)(a.xv,{align:"center",children:n})}),r,(0,m.jsx)(a.xu,{paddingY:5,children:(0,m.jsx)(a.iz,{})}),(0,m.jsx)(a.xu,{"data-test-id":"login-switch-account",children:(0,m.jsx)(a.iP,{fullWidth:!1,onTap:function(e){e.event.preventDefault(),l()},children:(0,m.jsx)(a.xv,{align:"center",size:"200",weight:"bold",children:(0,m.jsx)(a.rU,{href:"#",onClick:function(e){var t=e.event,r=e.dangerouslyDisableOnNavigation;t.preventDefault(),r()},children:p._('Not you? Log in with a different account', 'Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account', 'Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account')})})})}),(0,m.jsx)(a.xu,{marginBottom:0,marginTop:1,children:i})]})})},tA=r(796592),tI=r(124580),tC=r(12610),tT=function(e){tI.Z.resume(tC.LU),(0,P.My)("web.dismiss_account_switcher.".concat(e))},tD=r(407159),tk=r(957161),tR=r(123906),tz=r(704115),tL=r(698330),tM=r(709113);function tN(e){return(tN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tB(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tF(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tZ(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==tN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tN(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tN(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tZ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tH={backgroundColor:"#fff",borderRadius:"32px",position:"relative",textAlign:"center",margin:"auto",minHeight:"450px",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},tV={home_page:tU(tU({},tH),{},{minHeight:"initial"}),pinBookmarklet:tU(tU({},tH),{},{boxShadow:"none"}),revamped_business_login_page:tU(tU({},tH),{},{margin:void 0,textAlign:void 0})},tG={minHeight:"400px",padding:"20px 10px 24px"},tW={margin:"0 auto 22px",width:"270px"},tY=function(e,t){switch(t){case"boardInvite":return e._('Sign up to accept your board invite', 'Sign up copy board invite', 'Sign up copy board invite');case"saveButton":return e._('Sign up to see more', 'signup copy save button', 'signup copy save button');case"saveButtonExp":return e._('Join Pinterest to save this idea', 'FullPageSignup.signupTagline.save', 'signup copy save exp button');case"homePage":return e._('Welcome to Pinterest', 'Title on desktop signup modal on home page', 'Title on desktop signup modal on home page');case"pinBookmarklet":return e._('Sign up to save this Pin!', 'signup copy save button from third party website', 'signup copy save button from third party website');case"downloadImageBtnDweb":return e._('Never lose track of your ideas again! Sign up for an account', 'mweb.unauth.download_modal.download_value_prop', 'Highlighting the download value prop in download modal');case"downloadImageBtnUnauth":return e._('Sign Up to download', 'web.unauth.download_modal.download_value_prop_unauth', 'Highlighting the download value prop in signup modal for unauth users after download attempt');case"followButton":return e._('Join Pinterest to follow', 'mweb.unauth.follow_modal.follow_value_prop', 'Highlighting the follow value prop in follow modal');default:return e._('Sign up to see more', 'sigup copy default includes pin click and scrolling', 'sigup copy default includes pin click and scrolling')}},tX=function(e,t){switch(t){case"boardInvite":return e._('Log in to accept your board invite', 'Login copy board invite', 'Login copy board invite');case"homePage":return e._('Welcome to Pinterest', 'Title on desktop signup modal on home page', 'Title on desktop signup modal on home page');case"pinBookmarklet":return e._('Sign in to save this Pin!', 'Login copy save button from third party website', 'Login copy save button from third party website');default:return e._('Log in to see more', 'Title on desktop login modal', 'Title on desktop login modal')}};function tq(e){var t=e.container,r=e.savePinId,n=e.customLoginTagline,c=e.customSignupTagline,u=e.handleCloseButtonClick,d=e.handleShowingSignupWelcomeLoading,f=e.hideAccountSwitchValueProp,p=e.inviter,y=e.isAccountSwitch,x=void 0!==y&&y,S=e.isBusiness,w=e.nextUrlParam,E=e.renderBusinessCreateButton,I=e.showCloseIcon,T=e.showResponseMessageModal,D=e.signupRedirectUrl,k=e.signupSource,R=void 0===k?"defaultSource":k,z=e.suppressFocus,L=e.toggleType,M=void 0===L?"DEFAULT_TOGGLE":L,N=e.signupFlow,B=e.attributionLabel,F=e.onRedirectToSignup,Z=(0,v.B)(),U=(0,_.ZP)(),V=(0,h.B$)().viewer,G=V.info,W=V.type,Y=(0,s.Z)(),X=(0,O.Z)(),q=(0,ei.F)().checkExperiment,K=tB((0,o.useState)(!1),2),$=K[0],J=K[1],Q=tB((0,o.useState)(!1),2),ee=Q[0],et=Q[1],er=tB((0,o.useState)(!1),2),en=er[0],eo=er[1],ea=tB((0,o.useState)("signup"===(0,tz.Z)().type?{type:"signup"}:N),2),el=ea[0],es=ea[1],ec=(0,j.Z)().trackConversionUpsell,eu=tB((0,o.useState)(!1),2),ed=eu[0],ef=eu[1],ep=(0,b.Z)(W),eh=(0,i.useParams)().username,ey=(0,tL.cm)(),em=eh?ey(eh):null,eg="commentComposer"===R,eb="login"===el.type?14212:14214,e_=tB((0,o.useState)(eb),2),ev=e_[0],ex=e_[1],eP=q("dweb_unauth_remove_fb_signup_iteration").anyEnabled,eO=tB((0,o.useState)(!1),2),ej=eO[0],eS=eO[1],ew="revamped_business_login_page"===t,eE=tk.Z.getItem(tM.V6),eI=eE&&eE.charAt(0).toUpperCase()+eE.slice(1),eC=!!eE&&q("pcons_last_logged_in").anyEnabled,eT=tB((0,o.useState)(eC),2),eD=eT[0],ek=eT[1];(0,o.useEffect)(function(){return(0,P.My)("unauth.authentication_modal.shown.".concat(M,".").concat(el.type)),function(){x&&((0,tD.Z)("add_account_dismiss",null,t),tT(t))}},[]);var eR=(0,o.useRef)(el.type);(0,o.useEffect)(function(){eR.current!==el.type&&(eR.current=el.type,(0,P.My)("unauth.authentication_modal.shown.".concat(M,".").concat(el.type)))});var ez=(0,o.useRef)(N);(0,o.useEffect)(function(){ez.current.type!==N.type&&(ez.current=N,es(N))});var eL=null!==(e2=tV[t])&&void 0!==e2?e2:tH,eM=function(){return w?decodeURIComponent(w):w},eN=function(e){return eM()?(0,tR.Z)(e,{next:eM()}):e},eB=function(e){return es({type:"EmailCollection",registrationCredentials:e})},eF=function(e){return es({type:"socialSignupWithAge",registrationCredentials:e})},eZ=function(e,t){return es({type:"loginMfa",creds:e,phoneNumberEnd:(null==t?void 0:t.phoneNumberEnd)||void 0})},eU=function(e){(0,P.My)("unauth.personalized_login.prevent_register.".concat(e)),ef(!0),et(!1),es({type:"signup"})},eH=function(){(0,P.My)("unauth.personalized_login.not_you.click"),(0,P.NC)("click_change_signin_account"),Y({aux_data:ep,element:10879,event_type:101}),ec({eventType:14689,element:10879})},eV=function(e){(0,P.My)("unauth.authentication_modal.".concat(e,".").concat(M,".").concat(el.type))},eX=function(e){eV("login_toggle_click"),(0,P.NC)("click_toggle_login"),X({action:"click",item:"login-button"}),ec({eventType:14689,element:13914}),es({type:"login",email:null==e?void 0:e.email}),ex(14212),ec({eventType:14688,component:14212,element:13914,upsellReason:B,incrementUpsellReasonCounter:!1}),J(!1)},eK=function(e){var t=e.email;if(eV("signup_toggle_click"),(0,P.NC)("click_toggle_signup"),ec({eventType:14689,element:13913}),D){(0,l.Z)(D,!1);return}ex(14214),ec({eventType:14688,component:14214,element:13913,upsellReason:B,incrementUpsellReasonCounter:!1}),es({type:"signup",email:t})},e$=function(e){var t=e.email;return(0,m.jsx)(a.iP,{fullWidth:!1,onTap:function(e){var r={event_type:101,element:10880};S?Y(r):(e.event.preventDefault(),(0,P.My)("unauth.personalized_login.signup_instead.click"),Y(tU(tU({},r),{},{aux_data:ep})),eK({email:t}))},children:(0,m.jsx)(a.xv,{align:"center",size:"200",weight:"bold",children:(0,m.jsx)(a.xu,{"data-test-id":"need-account-link",children:(0,m.jsx)(a.rU,{href:S?eN("/business/create"):"#",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:U._('Need an account? Sign up now', 'Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account', 'Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account')})})})})},eJ=eP?ej:void 0,eQ=eP?function(){(0,P.My)("remove_fb_signup.dweb_login_form"),et(!1),eS(!0)}:void 0,e0=I&&(0,m.jsx)(eY,{onClick:u});if(en&&["signup","login","socialSignupWithAge"].includes(el.type))return(0,m.jsx)(tA.Z,{});switch(el.type){case"signup":case"respondMessage":var e2,e3,e5=$?U._('Welcome back to Pinterest!', 'welcoming user back to pinterest in signup modal when we recognize their email', 'welcoming user back to pinterest in signup modal when we recognize their email'):c||tY(U,R),e6=p&&!p.is_default_image?p:null,e4=(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:tW},width:"login_page"!==t?400:void 0,children:(0,m.jsx)(te,{container:t,modalType:"signup",titleText:e6&&("respondMessage"===N.type?(U._('Sign up and let {{ name }} know what you think', 'Prompt user to signup to access all Pinterest features', 'Prompt user to signup to access all Pinterest features')).replace("{{ name }}",e6.first_name||e6.full_name):(U._('Join {{ name }} on Pinterest for more ideas', 'Prompt user to signup to access all Pinterest features', 'Prompt user to signup to access all Pinterest features')).replace("{{ name }}",e6.first_name||e6.full_name))||(["login_page","home_page","save","download","follow"].includes(t)?e5:U._('Unlimited free access to the world\'s best ideas', 'FullPageSignup.signupTitle.save', 'Save value prop on desktop signup modal'))})});return(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:eL},"data-test-id":"signup-default-modal",width:484,children:[ee&&(0,m.jsx)(th.Z,{}),(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:e6?{minHeight:"400px",padding:"30px 10px 20px"}:tG},children:[e0,e6?(0,m.jsxs)(o.Fragment,{children:[(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},width:108,children:(0,m.jsx)(eq.qE,{name:e6.first_name||e6.full_name,src:e6.image_medium_url,verified:"respondMessage"===N.type})}),e4]}):(0,m.jsxs)(o.Fragment,{children:[(0,m.jsx)(e1,{container:t,fallback:(0,m.jsx)(e8,{large:"homePage"!==R}),savePinId:r,signupSource:R,user:em}),e4,(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:tW},children:!$&&(0,m.jsx)(a.xu,{marginBottom:4,marginTop:-4,children:(0,m.jsx)(a.xv,{align:"center",size:"300",children:"login_page"!==t&&"home_page"!==t&&"save"!==t&&"download"!==t&&"follow"!==t?e5:"downloadImageBtnDweb"===R&&U._('Discover a better way to keep your ideas organized', 'mweb.unauth.signup_modal.download_value_prop_subheader', 'Highlighting the download value prop in signup modal but as a subheader')||"downloadImageBtnUnauth"===R&&U._('Download this image and more with a Pinterest Account', 'web.unauth.signup_modal.download_value_prop_subheader', 'Highlighting the download value prop in signup modal but as a subheader for unauth')||"followButton"===R&&(0,tp.nk)(U._('Create an account to follow {{ creatorName }}', 'mweb.unauth.signup_modal.follow_value_prop_subheader', 'Highlighting the follow value prop in signup modal but as a subheader creatorName:<the name of the creator who the user attempted to follow>'),{creatorName:null==em?void 0:em.full_name})||"homePage"===R&&U._('Find new ideas to try', 'Value prop on desktop signup modal on home page', 'Value prop on desktop signup modal on home page')||"saveButtonExp"===R&&U._('Unlimited free access to the world\'s best ideas', 'FullPageSignup.signupSubTitle.saDDve', 'Value prop on desktop signup modal')||U._('Discovery starts here', 'Pinterest value proposition on desktop login modal', 'Pinterest value proposition on desktop login modal')})})})]}),(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center",margin:"0 auto"}},"data-test-id":"signup-options",position:"relative",children:(0,m.jsx)(eA,{additionalChildren:(eC&&eD&&"login"!==el.type||!eC)&&(0,m.jsx)(A,{layout:"NOT_NOW_BUTTON"===M&&"SIGNUP_LARGE"||"home_page"===t&&"SIGNUP_SMALL"||"SIGNUP_DEFAULT",onClick:function(){return eX({email:el.email})},shouldHideBusinessCreateFooterLink:!!E,type:"signupToLogin"}),attributionLabel:B,component:ev,container:t,disablePostSignupNextUrl:!w,email:null!==(e3=el.email)&&void 0!==e3?e3:"",loadingIndicatorCallback:et,nextUrlParam:eM(),onBirthdayUnderage:function(e){es({type:"UnderageConfirmation",birthday:e.birthday,email:e.email})},onFBMissingEmail:eB,onFBPhoneOnlyConnectVerified:eB,onLoginWithMfa:eZ,setEmail:function(e){return es((el.type,tU(tU({},el),{},{email:e})))},showResponseMessageModal:"respondMessage"===N.type?T:void 0,showSignupWelcomeLoadingFn:function(e){eo(e),d&&d(e)},signupSource:R,suppressFocus:z,switchToSocialSignupWithAgeFlow:eF})})]}),E&&E()]});case"login":if(!ed&&!x&&G&&"AUTH"!==W&&"bottom.right.upsell.email"!==t){var e9,e7=G.hasPassword||G.connectedToFacebook||G.connectedToGoogle;return(0,m.jsx)(tE,{email:null!==(e9=el.email)&&void 0!==e9?e9:"",footer:e$({email:el.email}),handleNotYouClick:function(){ef(!0),eH()},header:(0,m.jsxs)(o.Fragment,{children:[ee&&(0,m.jsx)(th.Z,{}),e0]}),noBoxShadow:"pinBookmarklet"===t,title:(0,m.jsx)(te,{container:t,modalType:"personalizedLogin",titleText:(0,tp.nk)(U._('Welcome back, {{name}}!', 'Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest', 'Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest'),{name:G?G.firstName:""}).join("")}),viewerInfo:G,children:(0,m.jsx)(tc.ZP,{attributionLabel:B,component:ev,container:t,disableFBSignup:eQ,disablePostSignupNextUrl:!w,email:G.email,hideEmailField:!0,hideFacebookButton:e7&&!G.connectedToFacebook,hideGoogleButton:e7&&!G.connectedToGoogle,hideLineButton:e7,hidePasswordField:e7&&!G.hasPassword,hideTermsOfService:!0,loadingIndicatorCallback:et,loginButtonTextOverride:U._('Continue', ' - ', ' -- '),nextUrlParam:eM(),onEmailChange:function(){},onLoginWithMfa:eZ,requestContext:Z,setShowLastLoggedInSection:ek,shouldHideFBButtonForSignup:eJ,showResponseMessageModal:"respondMessage"===N.type?T:void 0,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:eU}})})}var tt=eg?U._('Log in to comment', 'dweb.unauth.comment_compose.upsell_tagline', 'Value prop for comment upsell tagline'):n||tX(U,R),tr=(0,m.jsx)(a.xu,{bottom:!0,color:"secondary",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 32px 32px"}},height:62,left:!0,width:"100%",children:(0,m.jsx)(a.iP,{fullHeight:!0,onTap:function(){(0,l.Z)((0,tR.Z)("/login"),!0),(0,P.My)("unauth.business.login_personal_account.click"),Y({event_type:101,component:13096,element:10773,aux_data:{is_revamped_business_login:!0}})},children:(0,m.jsx)(a.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:(0,m.jsx)(a.xv,{weight:"bold",children:U._('Log in to a personal account', 'bizsite.revampSignup.redirectToPersonalAccountLogin', 'Button on signup modal to redirect from business to personal login.')})})})});return(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:eL},"data-test-id":"login-modal-default",width:ew?480:484,children:[ee&&(0,m.jsx)(th.Z,{}),(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:tU(tU({},tG),ew?{padding:"40px"}:{})},children:[e0,ej&&eP&&(0,m.jsx)(eW.Z,{}),!ew&&(0,m.jsx)(e8,{large:"homePage"!==R}),(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:ew?tU(tU({},tW),{},{width:void 0,marginBottom:"40px"}):tW},width:["login_page","revamped_business_login_page"].includes(t)?void 0:400,children:[(0,m.jsx)(te,{container:t,modalType:"login",titleText:tt}),eC&&(0,m.jsx)(a.xu,{marginTop:2,children:(0,m.jsx)(a.kC,{alignItems:"center",direction:"column",children:(0,m.jsx)(a.xv,{align:"center",children:(0,tp.nk)(U._('Last time you logged in using {{ lastLoggedInMethod }}', 'lastLoggedInSection.subHeading', 'lastLoggedInMethod: method user last used to log in, Subheading what was the last logged in method for the user'),{lastLoggedInMethod:"email"===eE?eE:eI})})})})]}),x&&!f&&(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:tW},children:(0,m.jsx)(a.xu,{marginBottom:8,marginTop:-4,children:(0,m.jsx)(a.xv,{align:"center",size:"300",children:U._('Have another Pinterest account? Log in to easily switch between them', 'Subtitle on the login modal that explains to a user why they would add an additional account to their profile', 'Subtitle on the login modal that explains to a user why they would add an additional account to their profile')})})}),(0,m.jsx)(tc.ZP,{attributionLabel:B,component:ev,container:t,disableFBSignup:eQ,disablePostSignupNextUrl:!w,email:el.email,isAccountSwitch:x,loadingIndicatorCallback:et,nextUrlParam:eM(),onEmailChange:function(e){return es(tU(tU({},el),{},{email:e.target.value}))},onFBPhoneOnlyConnectVerified:eB,onLoginWithMfa:eZ,onRedirectToSignup:F,requestContext:Z,setShowLastLoggedInSection:ek,shouldHideFBButtonForSignup:eJ,showLastLoggedInSection:eD,showResponseMessageModal:"respondMessage"===N.type?T:void 0,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:eF}}),S?!ew&&(0,m.jsxs)(a.kC,{alignItems:"center",direction:"column",children:[(0,m.jsx)(g,{}),(0,m.jsx)(a.xv,{size:"100",weight:"bold",children:(0,m.jsx)(a.rU,{href:eN("/business/create"),children:U._('Create new account', 'Link to the page to create a new business account instead of logging in', 'Link to the page to create a new business account instead of logging in')})})]}):!x&&(eC&&eD&&"login"!==el.type||!eC&&(0,m.jsx)(A,{layout:"NOT_NOW_BUTTON"===M&&"LOGIN_INLINE"||"SMALL_TOGGLE"===M&&"LOGIN_SMALL"||"LOGIN_DEFAULT",onClick:function(){eK({email:el.email})},type:"loginToSignup"}))]}),ew&&tr]});case"loginMfa":return(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:eL},"data-test-id":"login-modal-mfa",width:489,children:(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:tG},children:[e0,(0,m.jsx)(e8,{}),(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:tU(tU({},tW),{},{padding:"0 10px"})},width:"100%",children:(0,m.jsx)(te,{container:t,modalType:"loginMfa",titleText:U._('Two-factor authentication required', 'desktopLoginModal.2fa.title', 'Title for the two-factor authentication modal')})}),(0,m.jsx)(tv,{container:t,creds:el.creds,isAccountSwitch:x,nextUrlParam:eM(),phoneNumberEnd:el.phoneNumberEnd})]})});case"socialSignupWithAge":return(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:eL},"data-test-id":"birthday-collection-modal",minHeight:"0",children:(0,m.jsx)(H,{disablePostSignupNextUrl:!w,handleLoginToggleButtonClick:eX,loadingIndicatorCallback:et,nextUrlParam:eM(),registrationCredentials:el.registrationCredentials,showResponseMessageModal:"respondMessage"===N.type?T:void 0})});case"EmailCollection":var tn=function(){es({type:"signup",email:el.registrationCredentials.signupOptions.email}),et(!1)},to=function(e){return es({type:"EmailAlreadyExist",email:e.email})};return(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:tH},"data-test-id":"line"===el.registrationCredentials.type?"signup-modal-line-phone-only":"signup-modal-facebook-phone-only",minHeight:400,children:[ee&&(0,m.jsx)(th.Z,{}),(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:tG},children:[e0,(0,m.jsx)(e8,{}),(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:tW},width:310,children:(0,m.jsx)(a.X6,{size:"600",children:U._('What\'s your email address?', 'Prompt for email address in after sign in with line', 'Prompt for email address in after sign in with line')})}),"line"===el.registrationCredentials.type?(0,m.jsx)(ts,{loadingIndicatorCallback:et,nextUrlParam:w,onNotNowClick:tn,registrationCredentials:el.registrationCredentials,showEmailAlreadyExistModal:to,showSocialSignupWithAgeStep:eF}):(0,m.jsx)(eG,{loadingIndicatorCallback:et,nextUrlParam:w,onNotNowClick:tn,registrationCredentials:el.registrationCredentials,showEmailAlreadyExistModal:to,showSocialSignupWithAgeStep:eF})]})]});case"EmailAlreadyExist":return(0,m.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:tS},"data-test-id":"login-modal-existing-email",children:[ee&&(0,m.jsx)(th.Z,{}),(0,m.jsx)(e8,{}),(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:tW},maxHeight:120,overflow:"hidden",width:350,children:(0,m.jsx)(te,{container:t,modalType:"personalizedLogin",titleText:(0,tp.nk)(U._('Looks like you\'re already on Pinterest', 'Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest', 'Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest'),{name:G?G.firstName:""}).join("")})}),(0,m.jsx)(a.xu,{marginBottom:3,children:(0,m.jsx)(a.xv,{align:"center",children:el.email})}),(0,m.jsx)(tc.ZP,{attributionLabel:B,component:ev,container:t,disableFBSignup:eQ,disablePostSignupNextUrl:!w,email:el.email,hideEmailField:!0,hideFacebookButton:!0,hideLineButton:!0,hideTermsOfService:!0,loadingIndicatorCallback:et,loginButtonTextOverride:U._('Continue', ' - ', ' -- '),nextUrlParam:eM(),onEmailChange:function(){},onLoginWithMfa:eZ,requestContext:Z,setShowLastLoggedInSection:ek,shouldHideFBButtonForSignup:eJ,showResponseMessageModal:"respondMessage"===N.type?T:void 0,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:eU}}),(0,m.jsx)(a.xu,{paddingY:5,children:(0,m.jsx)(a.iz,{})}),(0,m.jsx)(a.xu,{"data-test-id":"login-switch-account",children:(0,m.jsx)(a.iP,{fullWidth:!1,onTap:function(e){e.event.preventDefault(),es({type:"login"}),ef(!0),eH()},children:(0,m.jsx)(a.xv,{align:"center",size:"200",weight:"bold",children:(0,m.jsx)(a.rU,{href:"#",onClick:function(e){var t=e.event,r=e.dangerouslyDisableOnNavigation;t.preventDefault(),r()},children:U._('Not you? Log in with a different account', 'Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account', 'Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account')})})})}),(0,m.jsx)(a.xu,{marginBottom:4,marginTop:1,children:e$({email:el.email})}),e0]});case"UnderageConfirmation":return(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:eL},"data-test-id":"underage-confirmation-modal",children:(0,m.jsx)(C.Z,{birthday:el.birthday,onEditBirthday:function(){es({type:"signup",email:el.email}),et(!1)}})});default:return null}}},611683:function(e,t,r){"use strict";r.d(t,{Z:function(){return z}});var n=r(76911),o=r(908390),i=r(233211),a=r(905171),l=r(803491),s=r(174382),c=r(640672),u=r(898781),d=r(472644),f=r(515198);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(e){var t,r=(0,u.ZP)(),i=e.tooltip,a=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)())||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=a[0],y=a[1];return(0,f.jsxs)(o.xu,{"data-test-id":"google-connect-button",position:"relative",children:[(0,f.jsx)(l.Z,{onClick:function(){return y(!0)},styleOverrides:{width:"100%",borderRadius:"20px",border:"0px solid"},type:"button",children:(0,f.jsxs)(o.kC,{alignItems:"center",justifyContent:"center",children:[(0,f.jsx)(o.xu,{height:24,marginTop:1,width:24,children:(0,f.jsx)(d.Z,{size:20})}),(0,f.jsx)(o.xu,{marginStart:2,children:(0,f.jsx)(o.xv,{weight:"bold",children:r._('Connect with Google', 'googleConnectButtonWithDisabledSDK.buttonText', 'Connect with Google button text')})})]})}),!!i&&(0,f.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{top:"12px",left:"100%"}},position:"absolute",children:(0,f.jsx)(c.Z,{message:i})}),h&&(0,f.jsx)(s.Z,{onDismiss:function(){return y(!1)},type:"google"})]})}var y=r(70212),m=r(85334),g=r(901656),b=r(903095),_=r(379913),v=r(584595),x=r(711781),P=r(83969),O=r(524172),j=r(290148),S=r(830269),w=r(773285),E=r(780280),A=r(867820),I=r(829407);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==C(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var R=function(e){var t=e.container,r=e.isAccountSwitch,l=e.nextUrlParam,s=e.onLoginWithMfa,d=e.onLoginWithSuspended,p=e.onLoginWithVoluntarilyDeactivated,h=e.showResponseMessageModal,C=e.socialSignupCallbacks,D=e.tooltip,R=e.showLoginRateLimited,z=e.onClick,L=e.logo_centered,M=void 0!==L&&L,N=(0,i.B$)().viewer.type,B=(0,m.Z)(),F=(0,b.lO)(),Z=(0,u.ZP)(),U=(0,w.F)().checkExperiment,H=(0,O.M)(),V=(0,n.useRef)(null),G=(0,E.B)().locale;return(0,I.Z)(function(){return window.googleConnectButtonContainer=t||"",function(){delete window.googleConnectButtonContainer}}),(0,I.Z)(function(){var e,n,o=function(e){var n=e.credential,o=e.select_by,i=(0,P.mK)((0,P.PL)(o));B({creds:{google_open_id_token:n},loggingOptions:{loggingData:{container:window.googleConnectButtonContainer,page:null==F?void 0:F.pageType,trigger:i},loginAttemptContextEvent:{event_type:7534,element:12981,aux_data:k(k({},(0,g.Z)(N)),{},{signup_login_method:S.Z.GPLUS})}},isAccountSwitch:r}).then(function(e){var n,o=null==e?void 0:null===(n=e.resource_response.data)||void 0===n?void 0:n.user;r&&o&&(0,_.Z)(o,"google",t),h?h(!1):j.ZP.handleRedirect(l||j.ZP.defaultSocialLoginRedirectUrl()),U("m10n_measurement_pinterest_tag_us").anyEnabled&&(0,y.Z)()},function(e){switch(v.ik.includes(e.api_error_code)&&(null==R||R()),e.api_error_code){case v.E6:null==p||p(e.message);break;case v.Zn:var t;null==s||s({google_open_id_token:n},{phoneNumberEnd:null===(t=e.data)||void 0===t?void 0:t.phone_number_end});break;case v.xN:if("ACCOUNT_RECOVERY"===C.type)C.switchToAccountRecoverySignupFlow("google");else{(0,A.Rp)({event:"start",provider:"google"});var r=(0,x.Z)(n),o={container:window.googleConnectButtonContainer,page:null==F?void 0:F.pageType,trigger:i},l={type:"google",google_open_id_token:n,first_name:r.given_name,last_name:r.family_name,image_url:r.picture};C.switchToSocialSignupWithAgeFlow({type:"google",context:o,signupOptions:k({},l)})}break;default:e.api_error_code===v.an&&d?d():(0,a.x)(Z._('Sorry, we can\'t log you in.', 'error message when user failed to login caused by suspend/deactivated etc.', 'error message when user failed to login caused by suspend/deactivated etc.'))}})};return(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==H?void 0:H.ensureInit("button",o);case 2:(0,P.ru)({buttonRef:V,locale:G,isDesktop:!0,logo_alignment:M?"center":"left"});case 3:case"end":return e.stop()}},e)}),n=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){T(i,n,o,a,l,"next",e)}function l(e){T(i,n,o,a,l,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)})(),function(){null==H||H.removeButtonCallback(o)}}),(0,f.jsxs)(o.xu,{"data-test-id":"google-connect-button",position:"relative",children:[(0,f.jsx)(o.xu,{height:44,children:(0,f.jsx)("div",{ref:V,onClick:function(){null==z||z()},style:{position:"absolute",width:"100%"}})}),!!D&&(0,f.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{top:"12px",left:"100%"}},position:"absolute",children:(0,f.jsx)(c.Z,{message:D})})]})};function z(e){return(0,(0,w.F)().checkExperiment)("web_google_disabled").anyEnabled?(0,f.jsx)(h,{tooltip:e.tooltip}):(0,f.jsx)(R,k({},e))}},708196:function(e,t,r){"use strict";var n=r(908390),o=r(11363),i=r(898781),a=r(987318),l=r(515198);t.Z=function(e){var t=e.useDefaultText,r=(0,a.H)().limitedLoginModalSubheader,s=(0,i.ZP)();return(0,l.jsx)(n.xv,{align:"center",overflow:"normal",children:t||!r?(0,o.lt)(s):r.text})}},710893:function(e,t,r){"use strict";r.d(t,{OL:function(){return eo},ZP:function(){return ea}});var n=r(76911),o=r(908390),i=r(407043),a=r(385740),l=r(85651),s=r(777024),c=r(233211),u=r(905171),d=r(996438),f=r(611683),p=r(979661),h=r(563387),y=r(780679),m=r(85334),g=r(901656),b=r(903095),_=r(319915),v=r(186656),x=r(898781),P=r(124580),O=r(12610),j=r(379913),S=r(584595),w=r(738192),E=r(290148),A=r(830269),I=r(143461),C=r(780280),T=r(817656),D=r(947599),k=r(957161),R=r(966113),z=r(867820),L=r(101331),M=r(26717),N=r(216895),B=r(134906),F=r(823983),Z=r(783690),U=r(709113),H=r(515198);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach(function(t){Q(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function X(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ee(n.key),n)}}function K(e,t){return(K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t,r){return(t=ee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ee(e){var t=function(e,t){if("object"!==V(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==V(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===V(t)?t:String(t)}var et=(0,n.lazy)(function(){return r.e(97500).then(r.bind(r,97500))}),er=R.lfe,en="loginmodal",eo="6LeZIo0UAAAAAKFpimHio-ff_ddIT8f_QzpXG0_1",ei=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}(c,e);var t,r,i,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=J(c);if(t){var n=J(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return $(e)}(this,e)});function c(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c),Q($(i=a.call(this,e)),"onLoginWithVoluntarilyDeactivated",function(e){return i.setState({googleValidationError:e})}),Q($(i),"onLoginWithSuspended",function(){var e=i.props.loadingIndicatorCallback;e&&e(!1),i.setState({accountRecoveryModalType:l.w[S.an],loading:!1})}),Q($(i),"onloadCallback",function(){try{window.recaptchaIdOne=window.grecaptcha.render("recaptcha_placeholder_1",{sitekey:eo,callback:"verifyCaptcha"})}catch(e){}try{window.recaptchaIdTwo=window.grecaptcha.render("recaptcha_placeholder_2",{sitekey:eo,callback:"verifyCaptcha"})}catch(e){}}),Q($(i),"handleButtonClick",(t=regeneratorRuntime.mark(function e(t,r){var n,o,a,l,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,z.My)("unauth.login.button.clicked"),a=(o=i.props).logContextEvent,l=o.desktopCoreLoginContext.viewer,a({event_type:101,element:30,aux_data:Y(Y({},(0,g.Z)(l.type)),{},{signup_login_method:A.Z.EMAIL})}),i.setState({googleValidationError:null,hideFBGoogleToolTip:!1}),!(s=(0,N.Z)(null!==(n=i.props.email)&&void 0!==n?n:"",i.emailValidators))){e.next=10;break}i.setState({emailValidationError:s}),(0,z.My)("unauth.login.error.CLIENT_ERROR.malformemail.".concat(en)),e.next=16;break;case 10:return i.setState({emailValidationError:null}),e.next=13,(0,N.U)(i.props.password,i.passwordValidators);case 13:s=e.sent,c=(0,N.Z)(i.props.password,i.asciiValidators),s?(i.setState({passwordValidationError:s}),(0,z.My)("unauth.login.error.CLIENT_ERROR.malformpwd.".concat(en))):c?(i.setState({passwordValidationError:c}),(0,z.My)("unauth.login.error.CLIENT_ERROR.malformpwd.".concat(en))):(i.setState({passwordValidationError:null}),i.loginUser("email",void 0,r));case 16:case"end":return e.stop()}},e)}),r=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){X(i,n,o,a,l,"next",e)}function l(e){X(i,n,o,a,l,"throw",e)}a(void 0)})},function(e,t){return r.apply(this,arguments)})),Q($(i),"updateAccountRecoveryModal",function(e){return i.setState({accountRecoveryModalType:e})}),Q($(i),"loadRecaptchaView",function(){if("undefined"!=typeof document&&document.head){if(document.getElementById("recaptcha-jssdk"))i.onloadCallback();else{var e=document.createElement("script");e.id="recaptcha-jssdk",e.src="https://www.recaptcha.net/recaptcha/api.js?onload=onloadCallback&render=explicit",document.head&&document.head.appendChild(e)}}}),Q($(i),"handleLoginFailure",function(e,t,r){var n,o=i.props,a=o.email,s=o.i18n,c=o.loadingIndicatorCallback,d=o.setPassword;(0,z.My)("unauth.login.error.LOGIN_FAILURE.".concat(e)),c(!1),i.props.refreshRecaptchaV3Token&&i.props.refreshRecaptchaV3Token();var f=t.http_status||t.httpStatus,p=f===T.Ej?T.Ej:t.api_error_code;if(p===S.Zn){E.ZP.handleLoginMfa(r,{phoneNumberEnd:null===(n=t.data)||void 0===n?void 0:n.phone_number_end},i.props.onLoginWithMfa);return}if(f===T.Ej&&p===S.bd&&t.message&&"!"!==t.message[t.message.length-1]&&!E.ZP.isExceedRecaptchaLocalLimit()||p===S._K&&f===T.AB&&!E.ZP.isExceedRecaptchaLocalLimit()){i.loadRecaptchaView(),i.setState({passwordValidationError:s._('Oops! You logged in too quickly. Please try again with the reCAPTCHA.', 'Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha', 'Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha'),loading:!1});return}var h=(0,w.Z)({error:t,source:"login",onClickPasswordReset:function(){(0,z.My)("unauth_password_reset_link_tapped"),(0,v.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:a}}).then(function(){return i.updateAccountRecoveryModal(E.Ny.PASSWORD_RESET_SENT)})}});h?(i.setState(Y(Y({},h),{},{accountRecoveryModalType:p?l.w[p]:void 0,loading:!1})),h.passwordValidationError&&d("")):((0,u.x)(s._('Sorry! Something went wrong on our end.', ' - ', ' -- ')),i.setState({loading:!1}))}),Q($(i),"verifyCaptcha",function(){var e=window.grecaptcha.getResponse(window.recaptchaIdOne)||window.grecaptcha.getResponse(window.recaptchaIdTwo);E.ZP.updateRecaptchaTimeStamp(),i.handleButtonClick(void 0,e),E.ZP.isExceedRecaptchaLocalLimit()||(void 0!==window.recaptchaIdOne&&window.grecaptcha.reset(window.recaptchaIdOne),void 0!==window.recaptchaIdTwo&&window.grecaptcha.reset(window.recaptchaIdTwo))}),Q($(i),"handleEmailChange",function(e){i.props.onEmailChange&&i.props.onEmailChange(e),i.setState({hideFBGoogleToolTip:!0})}),Q($(i),"handlePasswordChange",function(e){i.state.passwordValidationError&&i.setState({passwordValidationError:null}),i.props.setPassword(e.target.value)}),Q($(i),"handleBlur",function(){i.setState({googleValidationError:null});var e,t=(0,N.Z)(null!==(e=i.props.email)&&void 0!==e?e:"",i.asciiValidators);t&&(0,z.My)("unauth.login.error.CLIENT_ERROR.nonasciiemail.".concat(en)),(t=(0,N.Z)(i.props.password,i.asciiValidators))&&(0,z.My)("unauth.login.error.CLIENT_ERROR.nonasciipwd.".concat(en))}),Q($(i),"renderSocialButtons",function(){var e=i.props,t=e.disablePostSignupNextUrl,r=e.hideFacebookButton,a=e.hideLineButton,l=e.hideGoogleButton,s=e.isAccountSwitch,c=e.isPersonalizedLoginFlyout,u=e.loadingIndicatorCallback,p=e.nextUrlParam,h=e.onLoginWithMfa,y=e.onFBPhoneOnlyConnectVerified,m=e.onFBMissingEmail,g=e.shouldHideFBButtonForSignup,b=e.disableFBSignup,v=e.container,x=void 0===v?"unknown":v,P=e.socialSignupCallbacks,O=e.showResponseMessageModal,j=e.isLineAuthenticationEnabled,S=e.trackConversionUpsell,w=e.requestContext,A=e.showLastLoggedInSection,I=e.setShowLastLoggedInSection,C=e.attributionLabel,T=i.state.hideFBGoogleToolTip,R=!!k.Z.getItem(U.V6)&&w.experimentsClient.checkExperiment("pcons_last_logged_in").anyEnabled,z="ACCOUNT_RECOVERY"===P.type?Y(Y({},P),{},{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:function(e){"facebook"===e?i.updateAccountRecoveryModal(E.Ny.PREVENT_FACEBOOK_REGISTER):"google"===e&&i.updateAccountRecoveryModal(E.Ny.PREVENT_GOOGLE_REGISTER),P.switchToAccountRecoverySignupFlow(e)}}):P,L=function(e){S({element:e,eventType:14689})},M=!(w.experimentsClient.checkExperiment("dweb_unauth_remove_fb_signup_iteration").anyEnabled&&g||r)&&(0,H.jsx)(d.Z,{container:x,disableFBSignup:b,disablePostSignupNextUrl:t,isAccountSwitch:s,loadingIndicatorCallback:u,nextUrlParam:p,onClick:function(){L(13505)},onFBMissingEmail:m,onFBPhoneOnlyConnectVerified:y,onLoginWithMfa:h,onLoginWithSuspended:i.onLoginWithSuspended,showLoginRateLimited:function(){return i.updateAccountRecoveryModal(E.Ny.RATE_LIMITED)},showResponseMessageModal:O,socialSignupCallbacks:z,tooltip:null}),N=!l&&(0,H.jsx)(f.Z,{container:x,isAccountSwitch:s,logo_centered:"revamped_business_login_page"===x,nextUrlParam:p,onClick:function(){L(13504)},onLoginWithMfa:h,onLoginWithSuspended:i.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:i.onLoginWithVoluntarilyDeactivated,showLoginRateLimited:function(){return i.updateAccountRecoveryModal(E.Ny.RATE_LIMITED)},showResponseMessageModal:O,socialSignupCallbacks:z,tooltip:!T&&i.state.googleValidationError||null}),B=!a&&j&&(0,H.jsx)(_.Z,{name:"SafeSuspense_LineConnectButton",children:(0,H.jsx)(D.Z,{children:(0,H.jsx)(et,{container:x,isAccountSwitch:s,loadingIndicatorCallback:u,nextUrlParam:p,onClick:function(){L(13507)},onLoginWithMfa:h,onLoginWithSuspended:i.onLoginWithSuspended,showLoginRateLimited:function(){return i.updateAccountRecoveryModal(E.Ny.RATE_LIMITED)},showResponseMessageModal:O,socialSignupCallbacks:z})})}),F=r||l?"0px":"8px";return(0,H.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:c?"9px":"10px"}},"data-test-id":"login-options",children:[!(R&&A)&&M,!(R&&A)&&(0,H.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{height:c?F:"10px"}}}),!(R&&A)&&N,A&&(0,H.jsx)(Z.Z,{attributionLabel:C,setShowLastLoggedInSection:I}),!a&&j&&(0,H.jsxs)(n.Fragment,{children:[(0,H.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{height:c?F:"10px"}}}),B]})]})}),Q($(i),"renderRegisterForm",function(){var e=i.props,t=e.container,r=e.disableEmailLogin,a=e.email,l=e.hideEmailField,s=e.hideFacebookButton,c=e.hideGoogleButton,u=e.hidePasswordField,d=e.i18n,f=e.isAccountSwitch,h=e.loginButtonTextOverride,y=e.password,m=e.suppressFocus,b=e.logContextEvent,_=e.requestContext.isRTL,v=e.desktopCoreLoginContext.viewer,x=e.viewType,P=e.viewParameter,O=e.component,j=e.attributionLabel,S=i.state,w=S.emailValidationError,E=S.loading,A=S.passwordValidationError,I=h||d._('Log in', 'Copy on the button to log in', 'Copy on the button to log in'),C=A&&(0,n.isValidElement)(A)?null:(0,H.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{float:_?"right":"left"}},marginBottom:3,marginTop:2,children:(0,H.jsx)(o.xv,{size:"200",weight:"bold",children:(0,H.jsx)(o.rU,{href:er+(a?"?ue=".concat(a):""),onClick:function(e){(0,e.dangerouslyDisableOnNavigation)(),(0,z.My)("login_modal_forget_account"),(0,z.NC)("click_forget_password"),b({event_type:101,element:10881,aux_data:Y({},(0,g.Z)(v.type))})},children:d._('Forgot your password?', 'Desktop login modal link for users to recover their account', 'Desktop login modal link for users to recover their account')})})});return(0,H.jsx)(p.Z,{attributionLabel:j,buttonText:I,component:O,container:t,disableEmailLogin:r,email:a,emailText:d._('Email', 'Placeholder text for email field', 'Placeholder text for email field'),emailValidationError:w,hideEmailField:l,hideFacebookButton:s,hideGoogleButton:c,hidePasswordField:u,loading:E&&!f,onButtonClick:function(){i.handleButtonClick()},onEmailBlur:i.handleBlur,onEmailChange:i.handleEmailChange,onPasswordChange:i.handlePasswordChange,password:y,passwordResetLink:C,passwordText:d._('Password', ' - ', ' -- '),passwordValidationError:A,suppressFocus:m,viewParameter:P,viewType:x})}),Q($(i),"renderOriginalForm",function(){var e=i.props,t=e.hideFacebookButton,r=e.hideGoogleButton,o=e.hidePasswordField,a=e.requestContext,l=e.showLastLoggedInSection,c=e.setShowLastLoggedInSection,u=e.attributionLabel,d=k.Z.getItem(U.V6),f=!!d&&a.experimentsClient.checkExperiment("pcons_last_logged_in").anyEnabled;return(0,H.jsx)(n.Fragment,{children:l&&f?(0,H.jsx)(n.Fragment,{children:"email"===d?(0,H.jsxs)(n.Fragment,{children:[i.renderRegisterForm(),(0,H.jsx)(Z.Z,{attributionLabel:u,setShowLastLoggedInSection:c}),(0,H.jsx)(F.Z,{setShowLastLoggedInSection:c})]}):i.renderSocialButtons()}):(0,H.jsxs)(n.Fragment,{children:[i.renderRegisterForm(),!o&&(!r||!t)&&(0,H.jsx)(s.Z,{}),i.renderSocialButtons()]})})}),Q($(i),"renderButtons",function(){return i.renderOriginalForm()}),Q($(i),"renderTextAndLinkToSignup",function(){var e=i.props.onRedirectToSignup,t=void 0===e?function(){}:e;return(0,H.jsxs)(o.xu,{display:"flex",paddingY:6,children:[(0,H.jsx)(o.xv,{size:"300",weight:"normal",children:i.props.i18n._('Don\u2019t have a business account?', 'businessAccountCreate.signupLink.text', 'The text to let user signup')}),(0,H.jsx)(o.xu,{marginStart:1,children:(0,H.jsx)(o.rU,{display:"inlineBlock",href:"#",onClick:function(e){var r=e.event,n=e.dangerouslyDisableOnNavigation;r.preventDefault(),n(),t()},children:(0,H.jsx)(o.xv,{size:"300",weight:"normal",children:i.props.i18n._('Create one for free', 'businessAccountCreate.signupLink.CTA', 'The actual CTA to redirect user to signup page')})},0)})]})}),i.state={accountRecoveryModalType:null,emailValidationError:null,passwordValidationError:null,googleValidationError:null,loading:!1,hideFBGoogleToolTip:!1};var t,r,i,h=e.i18n,y=h._('You missed a spot! Don\'t forget to add your email.', ' - ', ' -- '),m=h._('Hmm...that doesn\'t look like an email address.', ' - ', ' -- '),b=h._('Use only a mix of letters, numbers and special characters (for example: ?, !, $).', 'Login.password.onlyASCII', 'Only ASCII characters are allowed for password');i.emailValidators=[(0,B.aH)({message:y}),(0,B.GT)({message:m})];var x=h._('The password you entered is incorrect.', ' - ', ' -- ');return i.passwordValidators=[(0,M.Z)({shortPassStr:x,samePasswordStr:x,blackPassStr:x})],i.asciiValidators=[(0,B.oR)({message:b})],i}return r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isAccountSwitch,r=e.nextUrlParam,n=e.requestContext,o=e.showResponseMessageModal;E.ZP.isFullyLoggedIn(n.isAuthenticated,n.loginState)&&!t&&(o?o(!1):E.ZP.handleRedirect(r)),window.onloadCallback=this.onloadCallback,window.verifyCaptcha=this.verifyCaptcha,void 0===window.recaptchaCount?window.recaptchaCount=1:window.recaptchaCount+=1}},{key:"componentWillUnmount",value:function(){void 0!==window.recaptchaCount&&(window.recaptchaCount-=1)}},{key:"loginUser",value:function(e,t,r){var n=this,o=this.props,i=o.container,a=void 0===i?"unknown":i,l=o.email,s=o.flushContextEvents,c=o.isAccountSwitch,u=o.loadingIndicatorCallback,d=o.login,f=o.pageContext,p=o.showResponseMessageModal,h=o.desktopCoreLoginContext.viewer,y=o.requestContext;this.setState({loading:!0}),u(!0);var m=t||{username_or_email:l||"",password:this.props.password},b={container:a,page:f?f.pageType:void 0},_=A.Z.EMAIL;"facebook"===e?_=A.Z.FACEBOOK:"google"===e&&(_=A.Z.GPLUS),P.Z.pause(O.LU),s(),d({creds:m,loggingOptions:{loggingData:b,loginAttemptContextEvent:{event_type:7534,element:"google"===e?12981:void 0,aux_data:Y(Y({},(0,g.Z)(h.type)),{},{signup_login_method:_})}},isAccountSwitch:c,recaptchaV2Token:r,recaptchaV3Token:this.props.recaptchaV3Token||"default"}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};E.ZP.storeLoginCredentialsToBrowser(m);var t=n.props.nextUrlParam||E.ZP.defaultLoginRedirectUrl();if(y.experimentsClient.checkExperiment("m10n_measurement_pinterest_tag_us").anyEnabled&&"undefined"!=typeof window&&window.pintrk)try{window.pintrk("track","custom",{lead_type:"Pinterest Login",em:l})}catch(e){}if(c&&e.resource_response&&e.resource_response.data&&e.resource_response.data.user){var r=e.resource_response.data.user;(0,j.Z)(r,"email",a),t="/"+r.username}else E.ZP.storeLoginCredentialsToBrowser(m);p?p(!1):E.ZP.handleRedirect(t)},function(t){return n.handleLoginFailure(e,t,m)})}},{key:"render",value:function(){var e=this.props,t=e.email,r=e.container,n=e.requestContext,i=e.showLastLoggedInSection,a=!!k.Z.getItem(U.V6)&&n.experimentsClient.checkExperiment("pcons_last_logged_in").anyEnabled;return(0,H.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},width:i&&a?330:"revamped_business_login_page"===r?"100%":268,children:[(0,H.jsx)(l.Z,{email:t||"",modalType:this.state.accountRecoveryModalType,onLoginWithMfa:this.props.onLoginWithMfa,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),this.renderButtons(),"revamped_business_login_page"===r&&this.renderTextAndLinkToSignup(),!this.props.hideTermsOfService&&(0,H.jsx)(h.Z,{container:r,dark:!0})]})}}],q(c.prototype,r),i&&q(c,i),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.Component);function ea(e){var t,r=(0,x.ZP)(),o=(0,i.v)(),l=o.flushContextEvents,s=o.logContextEvent,u=(0,b.lO)(),d=(0,I.D)(),f=d.recaptchaV3Token,p=d.refreshToken,h=(0,c.B$)(),g=(0,C.B)().country,_=(0,m.Z)(),v=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(""))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),P=v[0],O=v[1],j=(0,a.SU)(),S=j.viewType,w=j.viewParameter,E=(0,y.g)(),A=(0,L.Z)().trackConversionUpsell;return(0,H.jsx)(ei,Y(Y({},e),{},{desktopCoreLoginContext:h,flushContextEvents:l,i18n:r,isLineAuthenticationEnabled:"JP"===g,logContextEvent:s,login:_,pageContext:u,password:P,recaptchaV3Token:f,refreshRecaptchaV3Token:p,setPassword:O,trackConversionUpsell:A,unauthDesktopSignupModalPageContext:E,viewParameter:w,viewType:S}))}},979661:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(76911),o=r(908390),i=r(803491),a=["gmail.com","hotmail.com","hotmail.com.ar","yahoo.com.ar","live.com.ar","outlook.com","live.com","bigpond.com","yahoo.com","icloud.com","yahoo.com.au","yahoo.com.br","bol.com.br","yahoo.ca","hotmail.ca","web.de","gmx.de","t-online.de","hotmail.de","hotmail.es","yahoo.es","hotmail.fr","orange.fr","yahoo.fr","live.fr","free.fr","laposte.net","wanadoo.fr","outlook.fr","hotmail.co.uk","rediffmail.com","yahoo.co.in","yahoo.in","libero.it","hotmail.it","alice.it","yahoo.co.jp","ezweb.ne.jp","docomo.ne.jp","i.softbank.jp","softbank.ne.jp","live.com.mx","outlook.es","aol.com","outlook.com","comcast.net"],l=r(662730),s=r(898781),c=r(867820),u=r(515198);function d(e){var t=e.birthday,r=e.birthdayValidationError,i=e.setBirthdayValidationError,a=e.onBirthdayChange,d=(0,s.ZP)();return(0,n.useEffect)(function(){(0,c.My)("dweb.signup_age_step",{type:"email",format:"birthday"})},[]),(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(o.xu,{marginBottom:1,marginStart:2,marginTop:2,children:(0,u.jsxs)(o.kC,{children:[(0,u.jsx)(o.xu,{marginEnd:2,children:(0,u.jsx)(o.__,{htmlFor:"birthdate",children:(0,u.jsx)(o.xv,{size:"200",children:d._('Birthdate', 'registerForm.label.birthdate', 'Label for birthdate field')})})}),(0,u.jsx)(o.u,{idealDirection:"right",text:d._('To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We don\'t share this information and it won\'t be visible on your profile.', 'registerForm.label.birthdate.tooltipDescription', 'Tooltip explaining why we require birthdate'),zIndex:l.C,children:(0,u.jsx)(o.JO,{accessibilityLabel:d._('Tooltip', 'registerForm.label.birthdate.tooltip.access', 'accessibility tooltip for birthdate'),icon:"info-circle"})})]})}),(0,u.jsx)(o.xu,{"data-test-id":"signup-birthdate-field",children:(0,u.jsx)(o.nv,{autoComplete:"bday",errorMessage:r,id:"birthdate",onChange:function(e){a(e),i("")},size:"lg",type:"date",value:t||""})})]})}var f=r(597922),p=r(349700),h=r(326216),y=r(101331);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function x(e){var t=e.buttonText,r=e.buttonTextLabel,l=e.container,v=e.disableEmailLogin,x=e.email,P=e.emailFieldHasError,O=e.emailLabel,j=e.emailText,S=e.emailValidationError,w=e.hideEmailField,E=e.hideFacebookButton,A=e.hideGoogleButton,I=e.hidePasswordField,C=e.onButtonClick,T=e.onEmailBlur,D=e.onEmailChange,k=e.onPasswordChange,R=e.password,z=e.passwordResetLink,L=e.passwordText,M=e.passwordValidationError,N=e.signupForm,B=e.suppressFocus,F=e.component,Z=(0,s.ZP)(),U=_((0,n.useState)(!!N),2),H=U[0],V=U[1],G=_((0,n.useState)(null),2),W=G[0],Y=G[1],X=_((0,n.useState)(""),2),q=X[0],K=X[1],$=(0,y.Z)().trackConversionUpsell,J=S;!J&&(I||v)&&(E||A?!E&&A?J=Z._('Your account is connected to Facebook - use the Facebook button to log in', 'Customized desktop login for users with Facebook', 'Customized desktop login for users with Facebook'):E&&!A&&(J=Z._('Your account is connected to Google - use the Google button to log in', 'Customized desktop login for users with Google', 'Customized desktop login for users with Google')):J=Z._('Your account is connected to Facebook and Google - use the buttons to log in', 'Customized desktop login for users with FB and Google', 'Customized desktop login for users with FB and Google'));var Q=function(e){$({element:e,eventType:14689})},ee="revamped_business_login_page"===(void 0===l?"":l);return(0,u.jsxs)("form",{"data-test-id":"registerForm",method:"POST",noValidate:!0,onSubmit:function(e){e.preventDefault(),C(e)},children:[!w&&(0,u.jsx)(o.xu,{marginBottom:ee?4:1,marginStart:2,children:(0,u.jsx)(o.__,{htmlFor:"email",children:(0,u.jsx)(o.xv,{size:ee?"300":"200",children:Z._('Email', 'registerForm.label.email', 'Label for email field')})})}),!w&&(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:ee?36:7}},"data-test-id":"emailInputField",children:(0,u.jsx)(f.Z,{accessibilityLabel:O,autoComplete:"email",disabled:!!(null!=N&&N.registerRestricted),domainError:W?(0,p.nk)(Z._('Did you mean {{ newEmail }}?', ' - ', ' -- '),{newEmail:(0,u.jsx)(o.xv,{color:"error",inline:!0,size:"200",weight:"bold",children:W},"err_text")}):void 0,focused:!B,hasError:!!S||!!P,id:"email",name:"id",onBlur:function(){if(null==T||T(),N){if(x){var e,t;N.checkEmailExistsWithCompletion({email:x,handleEmailExists:function(){(0,c.My)("web.unauth.signup.email_entered"),H&&V(!1)},handleEmailNotExist:(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return H||V(!0),e.next=3,N.checkEmailValidation(x);case 3:case"end":return e.stop()}},e)}),t=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){b(i,n,o,a,l,"next",e)}function l(e){b(i,n,o,a,l,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)}),handleError:function(){V(!0)}})}else V(!0)}var r=function(e){K(e),x===e?Y(null):(Y(e),(0,c.My)("unauth.email_domain_typo_suggestion.shown"))},n=x&&-1!==x.indexOf("@")?x.split("@"):[];if(x&&x!==q||Y(null),x&&n&&x.length<60){if(2===n.length){var o=n[1],i=o&&-1!==o.indexOf(".")?o.split("."):[];i.length>=2&&"gmail"===i[0]&&("com"!==i.slice(1).join(".")?r(n[0]+"@gmail.com"):Y(null))}var l=n[1]&&a.includes(n[1])?null:n[1]&&a.map(function(e){var t=(0,h.Z)(e,n[1]);return 2===t||1===t?e:null}).filter(function(e){return"string"==typeof e});l&&l.length&&r(l[0]?"".concat(n[0],"@").concat(l[0]):"")}},onChange:D,placeholder:j,tooltip:J,type:"email",value:x})}),!I&&(0,u.jsx)(o.xu,{marginBottom:ee?4:1,marginStart:2,marginTop:ee?4:0,children:(0,u.jsx)(o.__,{htmlFor:"password",children:(0,u.jsx)(o.xv,{size:ee?"300":"200",children:Z._('Password', 'registerForm.label.password', 'Label for password field')})})}),!I&&(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(o.xu,{"data-test-id":"passwordInputField",children:(0,u.jsx)(f.Z,{autoComplete:"new-password",disabled:!!v||!!(null!=N&&N.registerRestricted),focused:!!w&&!B,hasError:!!M,id:"password",name:"password",onChange:k,onFocus:function(){(0,c.NC)("focus_password")},placeholder:L,tooltip:M,type:"password",value:R})}),(0,u.jsx)(o.xu,{"data-test-id":"password-reset-button",children:null!=z?z:null})]}),window.recaptchaCount>0?(0,u.jsx)("div",{className:"g-recaptcha",id:"recaptcha_placeholder_".concat(window.recaptchaCount),style:{marginTop:"16px",transform:"scale(0.88)",transformOrigin:"0 0"}}):null,N&&(0,u.jsx)(d,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},N.birthdayProps)),(null==N?void 0:N.registerRestricted)&&(0,u.jsx)(o.xu,{marginTop:2,children:(0,u.jsx)(o.xv,{color:"error",size:"100",children:Z._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'Signup.AgeStep.underageError', 'Error message shown when underage user tries to register')})}),!I&&(0,u.jsx)(o.xu,{"data-test-id":"registerFormSubmitButton",children:(0,u.jsx)(i.Z,{accessibilityLabel:r,className:"red SignupButton",disabled:v||!!(null!=N&&N.registerRestricted),onClick:function(){Q(14214===F?12019:30),H?((0,c.NC)("press_signup_continue"),(0,c.Rp)({event:"start",provider:"email"})):((0,c.EX)({event:"start",provider:"email"}),(0,c.NC)("press_login_continue"))},styleOverrides:{width:"100%",borderRadius:"20px",marginTop:ee?"28px":"8px"},type:"submit",children:(0,u.jsx)(o.xu,{children:t})})})]})}},796592:function(e,t,r){"use strict";var n=r(908390),o=r(157796),i=r(898781),a=r(515198);t.Z=function(){var e=(0,i.ZP)();return(0,a.jsx)(n.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",children:(0,a.jsxs)(n.xu,{color:"default",height:600,minWidth:"500px",rounding:2,width:"30%",children:[(0,a.jsxs)(n.xu,{alignItems:"center",direction:"column",display:"flex",height:"99%",justifyContent:"center",padding:12,children:[(0,a.jsx)(n.xu,{alignItems:"center",color:"primary",display:"flex",height:60,justifyContent:"center",marginBottom:4,rounding:"circle",width:60,children:(0,a.jsx)(n.JO,{accessibilityLabel:e._('Loading state for google one tap registration', ' - ', ' -- '),color:"inverse",icon:"pin",size:"28"})}),(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{"text-align":"center"}},paddingY:5,children:(0,a.jsx)(n.X6,{children:e._('Welcome to Pinterest!', 'Welcome to Pinterest!', 'Welcome to Pinterest!')})}),(0,a.jsx)(n.xv,{align:"center",overflow:"normal",children:(0,a.jsx)("span",{className:"deprecatedTextSizeXL",children:e._('Your answers to the next questions will help us find the right ideas for you', 'loading state description while waiting for google one tap registration to complete', 'loading state description while waiting for google one tap registration to complete')})})]}),(0,a.jsx)(n.xu,{width:"100%",children:(0,a.jsx)(o.Z,{duration:6e3,finalProgress:95,shape:"rounded"})})]})})}},174382:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(908390),o=r(121151),i=r(898781),a=r(515198);function l(e){var t=e.type,r=e.onDismiss,l=(0,i.ZP)(),s="facebook"===t?l._('Oops! Facebook isn\'t available', 'socialAuthDisabled.facebook.title', 'Title for the modal shown when Facebook services are not working'):l._('Oops! Google isn\'t available', 'socialAuthDisabled.google.title', 'Title for the modal shown when Google services are not working'),c="facebook"===t?l._('Looks like Facebook isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.facebook.description', 'Description for the modal shown when Facebook services are not working'):l._('Looks like Google isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.google.description', 'Description for the modal shown when Google services are not working');return(0,a.jsx)(o.ZP,{accessibilityModalLabel:s,footer:(0,a.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,a.jsx)(n.xu,{paddingX:1,children:(0,a.jsx)(n.zx,{color:"red",onClick:r,size:"md",text:l._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working')})})}),heading:s,onDismiss:r,children:(0,a.jsx)(n.xu,{paddingX:5,children:(0,a.jsx)(n.xv,{align:"center",children:c})})})}},563387:function(e,t,r){"use strict";r.d(t,{E:function(){return d},Z:function(){return p}});var n=r(908390),o=r(898781),i=r(349700),a=r(966113),l=r(515198);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d="\n.TermsOfService__light a {\n  color: rgba(255,255,255,0.9);\n}\n",f={dark:{color:"#767676",width:"224px"},light:{color:"rgba(255,255,255,0.9)",lineHeight:"150%",margin:"10px auto",textShadow:"0 1px rgba(0,0,0,0.18)",width:"272px"},revampedBizSignup:{color:"#5f5f5f",fontSize:"12px",fontWeight:"400"}};function p(e){var t,r=e.dark,s=e.container,c=(0,o.ZP)(),d="revampedBizSignup"==(t="revamped_business_login_page"===(void 0===s?"":s)?"revampedBizSignup":r?"dark":"light")?"subtle":void 0;return(0,l.jsx)(n.xu,{marginTop:3,children:(0,l.jsx)("span",{className:r?"":"TermsOfService__light",color:d,"data-test-id":"terms-of-service",style:u({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",fontSize:"11px",fontWeight:"normal",textAlign:"center",WebkitTransition:"opacity .2s linear",transition:"opacity .2s linear"},f[t]),children:(0,l.jsx)("span",{children:(0,i.nk)(c._('By continuing, you agree to Pinterest\'s {{ tos }} and acknowledge you\'ve read our {{ privacyPolicy }}. {{ noticeAtCollection }}.', 'termOfService.text', 'Agreement to legal texts for new users tos:Link to Terms of service privacyPolicy:Link to the Privacy Policy noticeAtCollection:Link to the Notice at collection article'),{tos:(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:u({fontWeight:"bold"},"revampedBizSignup"!==t&&{color:"#111"})},"data-test-id":"tos",display:"inlineBlock",children:(0,l.jsx)(n.rU,{display:"inlineBlock",href:a.U5h,target:"blank",underline:"hover",children:c._('Terms of Service', 'termOfService.link.tos', 'Link to TOS')},"tos")},"tos"),privacyPolicy:(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:u({fontWeight:"bold"},"revampedBizSignup"!==t&&{color:"#111"})},"data-test-id":"privacy",display:"inlineBlock",children:(0,l.jsx)(n.rU,{display:"inlineBlock",href:"/_/_/policy/privacy-policy/",target:"blank",underline:"hover",children:c._('Privacy Policy', 'termOfService.link.privacyPolicy', 'Link to privacy policy')},"privacy")},"privacy"),noticeAtCollection:(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:u({fontWeight:"bold"},"revampedBizSignup"!==t&&{color:"#111"})},"data-test-id":"noticeAtCollection",display:"inlineBlock",children:(0,l.jsx)(n.rU,{display:"inlineBlock",href:a.cvl,target:"blank",underline:"hover",children:c._('Notice at collection', 'termOfService.link.noticeAtCollection', 'Link to notice at collection')},"noticeAtCollection")},"noticeAtCollection")})})})})}},597922:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(76911),o=r(908390),i=r(515198);function a(e){var t,r=e.accessibilityLabel,a=e.autoComplete,l=e.disabled,s=e.domainError,c=e.focused,u=e.hasError,d=e.helperText,f=e.id,p=e.name,h=e.onBlur,y=e.onChange,m=e.onFocus,g=e.placeholder,b=e.tooltip,_=e.type,v=e.useExperimentalTextfield,x=e.value,P=(0,n.useRef)(c),O=(0,n.useRef)(null),j=(0,n.useRef)(u);return(0,n.useEffect)(function(){if(P.current){var e;null===(e=O.current)||void 0===e||e.focus()}},[]),(0,n.useEffect)(function(){if(!1===j.current&&u){var e;null===(e=O.current)||void 0===e||e.focus()}j.current=u},[u]),(0,i.jsxs)("fieldset",{style:{position:"relative"},children:[(0,i.jsx)(o.xu,{display:"visuallyHidden",children:(0,i.jsx)(o.__,{htmlFor:f,children:null!==(t=null!=r?r:g)&&void 0!==t?t:""})}),(0,i.jsx)(o.nv,{ref:O,autoComplete:v?void 0:void 0===a?"on":a,disabled:l,errorMessage:b?v&&s||b:"",helperText:v?void 0:d,id:f,name:p,onBlur:h,onChange:function(e){y(e.event)},onFocus:m,placeholder:g,size:v?void 0:"lg",type:_,value:x||""})]})}},640672:function(e,t,r){"use strict";r.d(t,{Z:function(){return i},g:function(){return o}});var n=r(515198),o="\n.Tooltip_message:before, .Tooltip_message:after {\n  border-style: solid;\n  content: '';\n  display: block;\n  margin-top: -8px;\n  position: absolute;\n  right: 100%;\n  top: 17px;\n  width: 0;\n}\n.Tooltip_message:before {\n  border-color: transparent rgba(0,0,0,0.48);\n  border-width: 8px 10px 8px 0;\n}\n.Tooltip_message:after {\n  border-color: transparent #fff;\n  border-width: 8px 10px 8px 0;\n  margin-right: -1px;\n}\n.Tooltip_mobileMessage:before, .Tooltip_message:after {\n  border-style: solid;\n  display: block;\n  margin-top: -8px;\n  position: absolute;\n  right: 100%;\n  top: 17px;\n  width: 0;\n}\n.Tooltip_mobileMessage:before {\n  border-color: transparent rgba(0,0,0,0.48);\n  border-width: 8px 10px 8px 0;\n}\n.Tooltip_mobileMessage:after {\n  border-color: transparent #fff;\n  border-width: 8px 10px 8px 0;\n  margin-right: -1px;\n}\n.Tooltip_wrapper {\n  position: absolute;\n  left: calc(100% + 12px);\n  z-index: 1;\n}\n.Tooltip_mobileWrapper {\n  margin-top: 7px;\n  z-index: 1;\n}\n";function i(e){var t=e.message,r=e.color;return(0,n.jsx)("div",{className:"Tooltip_wrapper","data-test-id":"tooltip",style:{top:"0px",width:"215px"},children:(0,n.jsx)("div",{className:"Tooltip_message",style:{background:r||"#fff",borderRadius:"6px",WebkitBoxShadow:"0 0 2px rgba(0,0,0,0.38),0 1px 3px rgba(0,0,0,0.32)",boxShadow:"0 0 2px rgba(0,0,0,0.38),0 1px 3px rgba(0,0,0,0.32)",color:r?"#fff":"#000",fontStyle:"normal",fontWeight:"normal",fontSize:r?"14px":"",lineHeight:"150%",padding:"8px 14px",textAlign:"left",maxWidth:"215px",display:"inline-block",float:"left"},children:(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:t},style:{overflowWrap:"break-word",wordWrap:"break-word"}})})})}},754124:function(e,t,r){"use strict";var n=r(76911),o=r(507084),i=r(908390),a=r(469134),l=r(231486),s=r(226198),c=r(856241),u=r(499128),d=r(898781),f=r(290148),p=r(867820),h=r(515198);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.Z=function(e){var t,r=e.birthday,m=e.onEditBirthday,g=e.onConfirmBirthday,b=void 0===g?function(){}:g,_=(0,d.ZP)(),v=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),x=v[0],P=v[1],O=r?(0,o.Z)(new Date,(0,c.Z)(r)):0;return(0,h.jsxs)(n.Fragment,{children:[(0,h.jsx)(i.xu,{"data-test-id":"underageconfirmation-modal",padding:8,children:(0,h.jsxs)(i.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,h.jsx)(i.xu,{"data-test-id":"underageconfirmation-title",marginBottom:5,width:420,children:(0,h.jsx)(i.X6,{align:"center",size:"600",children:(0,a.ew)(O,_)})}),(0,h.jsx)(i.xu,{marginBottom:10,maxWidth:540,children:(0,h.jsx)(i.xv,{align:"center",children:(0,a.Pe)(_)})}),(0,h.jsx)(i.xu,{children:(0,h.jsxs)(i.kC,{children:[(0,h.jsx)(i.xu,{marginEnd:2,children:(0,h.jsx)(i.zx,{onClick:function(){(0,p.My)("dweb.underageconfirmation.edit"),l.t8(s.It,"0",(0,l.kZ)(s.It)),m()},text:_._('Edit', 'signup.underageconfirmation.edit', 'Text on the edit button for birthday collection underage screen')})}),(0,h.jsx)(i.zx,{color:"red",onClick:function(){P(!0),(0,p.My)("dweb.underageconfirmation.confirm"),b(),setTimeout(function(){f.ZP.handleRedirect("/")},4e3)},text:_._('Confirm', 'signup.underageconfirmation.confirm', 'Text on the confirm button for birthday collection underage screen'),type:"submit"})]})})]})}),x&&(0,h.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,h.jsx)(u.ZP,{duration:3500,onHide:function(){return P(!x)},text:_._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'signup.underageconfirmation.error', 'Error message shown when underage user tries to register')})})]})}},995146:function(e,t,r){"use strict";r.d(t,{a$:function(){return E},kv:function(){return w},pH:function(){return A}});var n=r(214494),o=r(584595),i=r(966113),a=r(643913);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){x(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function d(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function p(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}function h(e){var t=b();return function(){var r,n=v(e);if(t){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return y(e)}(this,r)}}function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){var t="function"==typeof Map?new Map:void 0;return(m=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return g(e,arguments,v(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_(r,e)})(e)}function g(e,t,r){return(g=b()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&_(o,r.prototype),o}).apply(null,arguments)}function b(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,r){return(t=P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var O=function(e){p(r,e);var t=h(r);function r(e){var n;return f(this,r),x(y(n=t.call(this,e.statusText)),"name","CrossDomainHandshakeHttpError"),n.response=e,n}return d(r)}(m(Error)),j=function(e){p(r,e);var t=h(r);function r(e){var n;return f(this,r),x(y(n=t.call(this,e.message)),"name","CrossDomainHandshakeApiError"),n.api_error_code=e.code,n.response=e,n}return d(r)}(m(Error)),S=function(e){var t=e.path,r=e.data,n=e.unauthId;return fetch("".concat(i.cDv,"/v3/").concat(t,"/handshake/"),{credentials:"include",mode:"cors",method:"POST",body:(0,a.Z)(r),headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":n}}).then(function(e){if(200===e.status||401===e.status||409===e.status)return e;throw new O(e)}).then(function(e){return e.json()}).then(function(e){if("success"===e.status)return Promise.resolve(e);if(e.code===o.Zn)return e.api_error_code=e.code,Promise.reject(e);throw new j(e)}).catch(function(e){throw e})},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.Z.create("HandshakeSessionResource",{token:e,isRegistration:t}).callCreate()},E=function(e,t){var r=t.facebookToken,n=t.inviteCode,o=t.locale,i=t.referrer,a=t.unauthId,l=e.business_name&&"partner"||e.facebook_id&&"facebook"||"email",s={email:e.email||"",username:e.username||"",password:e.password||"",first_name:e.first_name||"",last_name:e.last_name||"",country:e.country||"",locale:o,referrer:i};return e.birthday&&(s=c(c({},s),{},{birthday:e.birthday})),e.custom_gender&&(s=c(c({},s),{},{custom_gender:e.custom_gender})),e.gender&&(s=c(c({},s),{},{gender:e.gender})),e.business_name&&(s=c(c({},s),{},{business_name:e.business_name,first_name:e.business_name})),n&&(s=c(c({},s),{},{invite_code:n})),e.facebook_id&&(s=c(c({},s),{},{facebook_id:e.facebook_id,facebook_token:r||e.facebook_token||""})),e.recaptchaV3Token&&(s=c(c({},s),{},{recaptcha_v3_token:e.recaptchaV3Token})),S({path:"register/".concat(l),data:s,unauthId:a})},A=function(e,t){var r=t.recaptchaV3Token,n=t.referrer,o=t.unauthId,i=e.mfa_token&&"login/mfa"||"login",a={username_or_email:e.username_or_email.trim(),password:e.password,referrer:n};return e.mfa_token&&(a=c(c({},a),{},{mfa_token:e.mfa_token})),r&&(a=c(c({},a),{},{token:r})),S({path:i,data:a,unauthId:o})}},233211:function(e,t,r){"use strict";r.d(t,{B$:function(){return u},Cw:function(){return a},I7:function(){return c},c4:function(){return l}});var n=r(76911),o=r(425288),i=(0,n.createContext)(null),a=function(){return(0,n.useContext)(i)},l=i.Provider,s=(0,o.Z)("DesktopCoreLogin"),c=s.Provider,u=s.useHook},905171:function(e,t,r){"use strict";r.d(t,{o:function(){return l},x:function(){return a}});var n=r(76911),o=r(898781),i=new Set,a=function(e){i.forEach(function(t){return t(e)})},l=function(e){var t=(0,o.ZP)();(0,n.useEffect)(function(){var r=function(r){e(r||t._('Unknown Error', 'unauth.error.modal.unknown', 'Text saying an unknown error occurredr'))};return i.add(r),function(){i.delete(r)}},[])}},910702:function(e,t,r){"use strict";var n=r(816068);t.Z=function(e){return{type:"facebook",first_name:e.first_name,last_name:e.last_name,email:e.email,gender:e.gender,image_url:e.picture&&!e.picture.data.is_silhouette?e.picture.data.url:void 0,facebook_id:e.id,facebook_token:e.access_token,birthday:e.birthday?(0,n.Z)(e.birthday):void 0}}},11363:function(e,t,r){"use strict";r.d(t,{Bx:function(){return o},N4:function(){return a},is:function(){return l},lt:function(){return n},oM:function(){return i}});var n=function(e){return e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in')},o=function(e){return e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.')},i=function(e){return e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.')},a=function(e){var t=e.i18n;return e.toFollow?t._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):t._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},l=function(e){return e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')}},70212:function(e,t,r){"use strict";var n,o,i=r(186656);function a(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}var l=(n=regeneratorRuntime.mark(function e(){var t,r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.Z)({url:"/v3/users/me/"});case 3:o=(null===(t=(n=e.sent).resource_response.data)||void 0===t?void 0:t.email)||(null===(r=(n.resource_response.client_context||Object.freeze({})).user)||void 0===r?void 0:r.email),"undefined"!=typeof window&&window.pintrk&&window.pintrk("track","custom",{lead_type:"Pinterest Login",em:o}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}},e,null,[[0,8]])}),o=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function l(e){a(i,r,o,l,s,"next",e)}function s(e){a(i,r,o,l,s,"throw",e)}l(void 0)})},function(){return o.apply(this,arguments)});t.Z=l},780679:function(e,t,r){"use strict";r.d(t,{g:function(){return a},t:function(){return i}});var n=r(76911),o=(0,n.createContext)(null),i=o.Provider,a=function(){return(0,n.useContext)(o)}},85334:function(e,t,r){"use strict";r.d(t,{Z:function(){return A}});var n=r(76911),o=r(214494),i=r(407043),a=r(231486),l=r(226198),s=r(995146),c=r(532975),u=r(88307),d=r(584595),f=r(283943),p=r(807998),h=r(290148),y=r(383690),m=r(330102),g=r(817656),b=r(762752),_=r(957161),v=r(867820),x=r(69642),P=r(529195),O=r(709113),j=r(67347);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==S(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===S(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function A(){var e=(0,f.hq)(),t=(0,y.Z)(),r=(0,i.v)().logContextEvent,S=(0,x.Z)();return(0,n.useCallback)(function(n){var i=n.creds,f=n.isAccountSwitch,y=n.loggingOptions,x=y.loggingData,w=void 0===x?Object.freeze({}):x,A=y.loginAttemptContextEvent,I=n.recaptchaV2Token,C=n.recaptchaV3Token;t();var T=!!(i.facebook_autologin||i.autologin),D=(0,h.eD)(i);_.Z.setItem(O.V6,(0,h.nY)(i));var k=function(e){var t=i.google_open_id_token?"google":"facebook";T&&(0,v.dy)({event:e,provider:t})},R=function(e){T||(0,v.EX)({event:e,provider:(0,h.nY)(i)})},z=function(e){var t;r(E(E({},A),{},{event_type:e,aux_data:E(E({},A.aux_data),{},{upsell_reason:(null===(t=A.aux_data)||void 0===t?void 0:t.upsell_reason)||(T?"autologin":_.Z.getItem(O.bg)||null),upsell_view_count:_.Z.getItem(O.w0)||0})})),7536===e&&_.Z.setItem(O.w0,0)};z(7534),S({action:T?"autologin":"login",event:"attempt",trigger:w.trigger,type:D});var L=function(e){var t="referrer_unknown";try{var r=document.referrer;t=r?r.indexOf("/t.co/")>-1?"twitter":r.indexOf("google.")>-1?"google":r.indexOf("bing.")>-1?"bing":r.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(e){}var n=w===Object(w)?w.container:"container_unknown";(0,v.My)("login.referrer."+t+"."+D),(0,v.My)("login.container."+String(n)+"."+D),(0,v.My)("login.type."+D);var o=D||"method_unknown",a=w.page||"page_unknown";i.facebook_autologin?((0,v.My)("web_autologin_facebook"),(0,v.My)("new_web_autologin_facebook",{page:a,referrer:t,container:n})):((0,v.My)("web_login.".concat(o,".success.").concat(a,".").concat(String(n),".").concat(t,".tier1")),(0,j.nP)("web_login.".concat(o,".success.").concat(a,".").concat(String(n),".").concat(t,".tier1")),(0,v.My)("new_web_login.".concat(o,".success"),{page:a,referrer:t,container:n})),(0,m.ko)({country:null==e?void 0:e.country,countryFromHostName:null==e?void 0:e.countryFromHostName,countryFromIp:null==e?void 0:e.countryFromIp,regionFromIp:null==e?void 0:e.regionFromIp,deviceType:"Desktop",eventCategory:"Logins"}),z(7536),S({action:T?"autologin":"login",event:"success",trigger:w&&w.trigger,type:D})},M=function(e){var t=e.error,r=e.isCrossDomain;if(t){var n=t.http_status===g.Ej?g.Ej:t.api_error_code,o=n;n&&d.qF.has(n)&&(o=d.qF.get(n));var i=w.container,a=w.trigger;(0,v.My)("".concat(r?"unauth_web_client_cctld_login_api_error":"unauth_web_client_login_api_error",".").concat(String(o),".").concat(i||"unknow_container",".").concat(D)),z(7535),S({action:T?"autologin":"login",event:"fail",trigger:a,type:D})}};if(i.username_or_email&&!i.mfa_resend&&e&&-1!==p.Z.indexOf(e.origin)){var N=function(e){return(0,v.My)("web_cross_domain_login.".concat(e,".").concat((0,h.eD)(i)))};N("attempt");var B=e.referrer,F=e.facebookToken,Z=e.unauthId;return(0,s.pH)(i,{recaptchaV3Token:C,referrer:B,facebookToken:F,unauthId:Z}).then(function(e){var t=e&&e.data;if(t)return N("success_with_token"),(0,s.kv)(t).then(function(e){return N("success_token_exchanged"),L(),Promise.resolve()},function(e){throw N("success_token_not_exchanged"),e});throw N("success_without_token"),Error()},function(e){throw N("failure"),M({error:e,isCrossDomain:!0}),e})}k("login_api_call_start"),R("login_api_call_start");var U=(0,P.OJ)();return o.Z.create("UserSessionResource",E(E(E({},i),U?{referrer:U}:Object.freeze({})),{},{get_user:i.get_user||i.switch_account&&f,app_type_from_client:7===e.appType?7:5,visited_pages_before_login:(0,P.t_)()||null,recaptchaV2Token:I,recaptchaV3Token:C})).callCreate({showError:!1,async:!0}).then(function(e){var t=(null==e?void 0:e.client_context)||Object.freeze({});return L({country:t.country,countryFromHostName:t.country_from_hostname,countryFromIp:t.country_from_ip,regionFromIp:t.region_from_ip}),k("login_api_call_success"),R("login_api_call_success"),(0,c.B)(!1),(0,u.Z)(),a.zN(l.e7.name),a.zN(l.x3.name),(0,b.D)("login").then(function(){return e})},function(e){return M({error:e,isCrossDomain:!1}),k("login_api_call_failure"),R("login_api_call_failure"),Promise.reject(e)})},[e,t,r,S])}},946984:function(e,t,r){"use strict";var n=r(11363),o=r(898781),i=r(987318);t.Z=function(){var e=(0,i.H)(),t=e.loginForMore,r=e.viewer,a=e.limitedLoginModalSubheader,l=(0,o.ZP)();return"AUTH"===r.type?null:function(e){null==t||t.setVisible(!0),null==a||a.setText((null==e?void 0:e.loginModalHeader)||(0,n.lt)(l))}}},901656:function(e,t,r){"use strict";var n=r(432300);t.Z=function(e){return"UNAUTH"===e?Object.freeze({}):{login_state:"LIMITED_LOGIN"===e?n.Z.LIMITED:n.Z.DEFAULT}}},662730:function(e,t,r){"use strict";r.d(t,{C:function(){return i},P:function(){return o}});var n=r(908390),o=new n.Ry(1e4),i=new n.H3([o])},903095:function(e,t,r){"use strict";r.d(t,{Mi:function(){return o},lO:function(){return i}});var n=(0,r(425288).Z)("pageContext"),o=n.Provider,i=n.useMaybeHook},532975:function(e,t,r){"use strict";r.d(t,{B:function(){return a},a:function(){return i}});var n=r(957161),o=r(709113),i=function(){return!!n.Z.getItem(o.WM)},a=function(e){n.Z.setItem(o.WM,!!e)}},583421:function(e,t,r){"use strict";r.d(t,{y:function(){return d}});var n=r(76911),o=r(728781),i=r(821463),a=r(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n.key),n)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem"},f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=u(i);if(t){var n=u(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function i(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return r=[{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=t.connectDragSource,o=t.connectDropTarget,i=t.isDragging,l=t.isDraggingInternal,s=t.isDropTargetOnly,c=o((0,a.jsx)("div",{ref:function(t){return e.targetEl=t},style:{opacity:i||l?0:1},children:r}));return s?c:n(c)}}],s(i.prototype,r),n&&s(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);t.Z=(0,i.compose)((0,o.GR)(function(e){return e.type},{hover:function(e,t,r){var n=e.index;(0,e.onDragHover)(n,function(e,t){var r=t.targetEl;if(!(r&&r instanceof HTMLElement))return null;var n=e.getClientOffset(),o=n.x,i=n.y,a=r.getBoundingClientRect();return{positionRelativeToCenter:{x:o-(a.left+a.right)/2,y:i-(a.top+a.bottom)/2},boundingBox:{width:a.width,height:a.height}}}(t,r))}},function(e){return{connectDropTarget:e.dropTarget()}}),(0,o.Ej)(function(e){return e.type},{beginDrag:function(e){var t=e.index;return(0,e.onDragBegin)(t),{index:t}},endDrag:function(e,t){return(0,e.onDragEnd)(t.didDrop())}},function(e,t){return{connectDragSource:e.dragSource(),isDraggingInternal:t.isDragging()}}))(f)},266898:function(e,t,r){"use strict";var n=r(728781),o=r(182104);t.Z=(0,n.Z5)(o.ZP)},345221:function(e,t,r){"use strict";var n=r(728781),o=r(821463);r(583421);var i=r(266898);t.Z=function(e){return function(t){return(0,o.compose)(i.Z,(0,n.GR)(e,{},function(e,t){return{connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()}}))(t)}}},743847:function(e,t,r){"use strict";r.d(t,{Z:function(){return o},z:function(){return i}});var n=r(326216);function o(e){var t=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2===t.length){var r=t[1],o=r&&-1!==r.indexOf(".")?r.split("."):[];if(o.length>=2&&"gmail"===o[0]&&"com"!==o.slice(1).join("."))return!0;var i=(0,n.Z)(r,"gmail.com");if("g"===r.charAt(0)&&(1===i||2===i))return!0}return!1}function i(e,t){var r=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2!==r.length)return!1;var o=r[1],i=o&&-1!==o.indexOf(".")?o.split("."):[],a=i[0];if(a===t&&i.length>3)return!0;if(i.length>=2){var l=(0,n.Z)(a,t);return a.charAt(0)===t.charAt(0)&&(1===l||2===l)}return(2!==i.length||a!==t||2!==i[1].length&&"com"!==i[1])&&(i.length,!1)}},375571:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(76911),o=r(395164),i=r(67347);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(p,e);var t,r,n,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=u(p);if(t){var n=u(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(c(e=f.call.apply(f,[this].concat(r))),"state",{error:null,info:null}),d(c(e),"resetError",function(){e.setState({error:null,info:null})}),e}return r=[{key:"componentDidCatch",value:function(e,t){try{var r,n=this.props.name,a=this.props.type||"secondary";(0,o.T)({extraData:null!==(r=e.extraData)&&void 0!==r?r:{},errorBoundary:n,errorBoundaryType:a,message:e.message,name:e.name,stack:e.stack}),(0,i.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,i.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props.renderErrorState,t=this.state,r=t.error,n=t.info;return r&&n?e?e({error:r,info:n,resetError:this.resetError}):null:this.props.children}}],l(p.prototype,r),n&&l(p,n),Object.defineProperty(p,"prototype",{writable:!1}),p}(n.Component)},319915:function(e,t,r){"use strict";var n=r(375571);t.Z=n.Z},121093:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(76911),o=r(506979),i=r(112690),a=r(332611),l=r(242923),s=r(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){b(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,r,o,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=g(a);if(t){var n=g(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return m(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(m(e=i.call.apply(i,[this].concat(r))),"state",{hasCompleted:[],hasDismissed:[]}),b(m(e),"view",function(){var t=e.props,r=t.experience,n=t.isBackendExperience,o=t.targeting,i=t.viewExperience,a=t.viewExperienceObject;r&&"viewed"!==r.status&&(n?(r.status="viewed",a(r)):o?i(r.placement_id,r.experience_id,o):i(r.placement_id,r.experience_id))}),b(m(e),"complete",function(t){var r=e.props,n=r.completeExperience,o=r.completeExperienceObject,i=r.experience,a=r.isBackendExperience,l=r.preventRemoval,s=r.targeting,c=t||1;if(i&&!e.state.hasCompleted.includes(i.experience_id)){var u=i||{},d=u.placement_id,p=u.experience_id,h=l||2===c;(1===c||h)&&d&&p&&(a?o(i,h):s?n(d,p,h,s):n(d,p,h),e.setState(function(e){return{hasCompleted:[].concat(f(e.hasCompleted),[p])}}))}}),b(m(e),"dismiss",function(){var t=e.props,r=t.dismissExperience,n=t.dismissExperienceObject,o=t.experience,i=t.isBackendExperience,a=t.preventRemoval,l=t.targeting,s=o||{},c=s.placement_id,u=s.experience_id;o&&!e.state.hasDismissed.includes(u)&&(i?n(o):l?r(c,u,!!a,l):r(c,u,!!a),e.setState(function(e){return{hasDismissed:[].concat(f(e.hasDismissed),[u])}}))}),b(m(e),"isEligibleExperience",function(){var t=e.props.experience;if(!t)return!1;var r=e.props,n=r.eligibleIds,o=r.eligibleTypes,i=r.predicate,a=r.transitionType,l=t.experience_id,s=t.type;return n&&n.length?n.includes(l):o&&o.length?o.includes(s):i?i(t):!a||a===s}),e}return r=[{key:"componentDidMount",value:function(){!this.props.disableAutoView&&this.props.experience&&this.isEligibleExperience()&&this.view()}},{key:"componentDidUpdate",value:function(e){if(!this.props.disableAutoView){var t=e.experience,r=this.props.experience;r&&this.isEligibleExperience()&&(t&&t.experience_id===r.experience_id||this.view())}}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.experience,o=e.disableAutoView;return r&&this.isEligibleExperience()?"function"==typeof t?t(d({experience:r,complete:this.complete,dismiss:this.dismiss},o?{view:this.view}:Object.freeze({}))):n.Children.only(t):null}}],h(a.prototype,r),o&&h(a,o),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function x(e){var t=(0,o.useSelector)(function(t){var r=t.experiences;return e.experience||(e.placementId?r[e.placementId]:void 0)}),r=(0,o.useDispatch)(),n=(0,a.be)(),c=(0,a.Am)(),u=(0,a.Ig)(),f=(0,i.Z)();return(0,s.jsx)(v,d(d({},e),{},{completeExperience:function(e,t,o,i){return r(n(e,t,o,!1,{},i))},completeExperienceObject:function(e,t){return r((0,l.Tl)(f)(e,t))},dismissExperience:function(e,t,n,o){return r(c(e,t,n,void 0,o))},dismissExperienceObject:function(e){return r((0,l.CF)(e))},experience:t,viewExperience:function(e,t,n){return r(u(e,t,!1,!1,void 0,n))},viewExperienceObject:function(e){return r((0,l.dy)(f)(e))}}))}b(v,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},701500:function(e,t,r){"use strict";r.d(t,{Z:function(){return P}});var n=r(76911),o=r(908390),i=r(570470),a=r(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n.key),n)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(f,e);var t,r,n,d=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=u(f);if(t){var n=u(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function f(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f),d.apply(this,arguments)}return r=[{key:"renderPulsar",value:function(){var e=this.props,t=e.anchor,r=e.handleComplete,n=e.handlePulsarCompleteOnHover,o=e.zIndex;return(0,a.jsx)(i.Z,{anchor:t,onMouseEnter:n,onTouch:r,zIndex:o})}},{key:"renderFlyout",value:function(){var e=this.props,t=e.anchor,r=e.tooltip,n=e.handleDismiss,i=e.handleComplete;if(!r)return null;var l=r.cancelButtonText,s=r.confirmButtonText,c=r.mainText,u=r.idealDirection,d=l&&!!n&&s&&i;return(0,a.jsx)(o.Li,{anchor:t,idealDirection:void 0===u?"down":u,message:c,onDismiss:n,primaryAction:{onClick:d?n:i,text:d?String(l):String(s),role:"button"},size:"flexible"})}},{key:"render",value:function(){var e=this.props,t=e.anchor,r=e.pulserOnly;return t?r?this.renderPulsar():this.renderFlyout():null}}],s(f.prototype,r),n&&s(f,n),Object.defineProperty(f,"prototype",{writable:!1}),f}(n.Component),f=r(123159),p=r(764990),h=r(249647),y=r(70061);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var v=function(e){var t=e.anchor,r=e.anchorExperiences;return e.passedExperience||(r?r[t]:null)},x=function(e){var t=e.display_data;return t.tooltip&&(t.tooltip=_(_({},t.tooltip.options),t.tooltip),delete t.tooltip.options),(0,h.Z)(y.Z,!0)(t)};function P(e){var t,r,i=e.anchor,l=e.anchorElementRef,s=e.children,c=e.containerBoxConfig,u=e.experience,h=e.isHidden,y=e.onCompleteClick,m=e.zIndex,b=(0,f.M)(),_=b.completeExperience,P=b.dismissExperience,O=b.experiences,j=b.viewExperience,S=v({anchor:i,anchorExperiences:Object.values(O).reduce(function(e,t){return 8===t.type&&(e[(0,p.A0)(t)]=t),e},{}),passedExperience:u}),w=(null==S?void 0:null===(r=S.display_data)||void 0===r?void 0:r.delay)||0,E=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!!w))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),A=E[0],I=E[1];if((0,n.useEffect)(function(){if(w>0&&A){var e=setTimeout(function(){I(!1)});return function(){return clearTimeout(e)}}return function(){}},[w,A]),(0,n.useEffect)(function(){!A&&S&&j(S.placement_id,S.experience_id)},[A,S]),!S||A||h)return n.Children.only(s);var C=x(S),T=function(){var e;null!==(e=S.display_data)&&void 0!==e&&e.complete_on_hover&&_(S.placement_id,S.experience_id)};return(0,a.jsxs)(o.xu,{display:null==c?void 0:c.display,height:null==c?void 0:c.height,position:"relative",children:[(0,a.jsx)(o.iP,{onMouseEnter:T,onTap:function(){y&&y(),C.skipComplete||_(S.placement_id,S.experience_id)},children:n.Children.only(s)}),(0,a.jsx)(d,{anchor:l||null,handleComplete:function(){l instanceof HTMLElement&&l.click()},handleDismiss:function(e){null!=e&&e.event&&e.event.stopPropagation(),P(S.placement_id,S.experience_id)},handlePulsarCompleteOnHover:T,pulserOnly:!!C.pulserOnly,tooltip:C.tooltip,zIndex:m})]})}},123159:function(e,t,r){"use strict";r.d(t,{F:function(){return b},M:function(){return g}});var n=r(76911),o=r(506979),i=r(821463),a=r(425288),l=r(332611),s=r(957191),c=r(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){var n;return(n=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===u(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var y=(0,a.Z)("ExperienceContext"),m=y.Provider,g=y.useHook;function b(e){var t,r=e.children,a=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(function(e,t){if("MOUNT_PLACEMENT"===t.type)return f(f({},e),{},{mountedPlacements:f(f({},e.mountedPlacements),{},p({},t.payload,!0))});if("UNMOUNT_PLACEMENT"===t.type){var r=f({},e);return delete r.mountedPlacements[t.payload],delete r.registerdAfterActionPlacements[t.payload],r}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?f(f({},e),{},{registerdAfterActionPlacements:f(f({},e.registerdAfterActionPlacements),{},p({},t.payload,!0))}):e},{mountedPlacements:{},registerdAfterActionPlacements:{}}))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=a[0],d=a[1],y=u.mountedPlacements,g=u.registerdAfterActionPlacements,b=(0,o.useDispatch)(),_=(0,o.useSelector)(function(e){return e.experiences}),v=(0,l.be)(),x=(0,l.Am)(),P=(0,l.Ig)(),O=(0,n.useMemo)(function(){var e=(0,i.bindActionCreators)({completeExperience:v,dismissExperience:x,fetchAllExperiences:l.fO,fetchAllExperiencesMulti:s.NW,fetchExperienceForPlacements:l.pz,mountPlacement:l.N,triggerExperimentsForPlacement:l.kd,viewExperience:P},b);return f(f({},e),{},{mountPlacement:function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.mountPlacement.apply(e,[t].concat(n)),d({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:function(e){d({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:function(e){d({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}})},[v,x,b,d,P]),j=(0,n.useMemo)(function(){return f({experiences:_,mountedPlacements:y,registerdAfterActionPlacements:g},O)},[_,y,g,O]);return(0,c.jsx)(m,{value:j,children:r})}},70943:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var n=r(76911),o=r(387551),i=r(908390),a=r(155378),l=r(121093),s=r(391254),c=r(249647),u=r(780280),d=r(70061),f=r(898781),p=r(6663),h=r(515198),y=function(){};function m(e){var t=e.color,r=e.completeButtonText,n=e.completeButtonUrl,o=e.completeButtonUrlInNewTab,i=e.dismissButtonText,a=e.handleComplete,l=e.handleDismiss,s=e.header,c=e.headerSubtitle,u=(0,f.ZP)();return(0,h.jsx)(p.Z,{color:t,completeButtonText:r||u._('Go', 'Completing the Hero banner', 'Completing the Hero banner'),completeUrl:n,dismissButtonText:i||u._('Close', 'Closing a Hero banner', 'Closing a Hero banner'),external:o,message:((void 0===s?"":s)+" "+(void 0===c?"":c)).trim(),onComplete:void 0===a?y:a,onDismiss:void 0===l?y:l})}var g=function(e){var t=e.handleDismiss,r=e.header,n=e.headerSubtitle,o=void 0===n?"":n,i=e.dismissButtonText,a=(0,f.ZP)();return(0,h.jsx)(p.Z,{message:"".concat(void 0===r?"":r," ").concat(o),dismissButtonText:(void 0===i?"":i)||a._('Got it', 'dismissButton.hero.dismissText', 'Dismissing the Hero banner'),onDismiss:void 0===t?function(){}:t})},b=function(e){var t=e.color,r=e.completeButtonText,n=e.completeButtonUrl,o=e.completeButtonUrlInNewTab,i=e.handleComplete,a=e.header,l=e.headerSubtitle,s=(0,f.ZP)();return(0,h.jsx)(p.Z,{message:((void 0===a?"":a)+" "+(void 0===l?"":l)).trim(),completeButtonText:r||s._('Go', 'Completing the Hero banner', 'Completing the Hero banner'),completeUrl:n,onComplete:void 0===i?function(){}:i,external:o,color:void 0===t?"default":t})},_=r(356997),v=r(349700),x=r(19121);function P(e){var t=e.completeButtonText,r=e.headerSubtitle,n=e.handleComplete,o=e.handleDismiss,a=(0,f.ZP)(),l=(0,x.Z)(),s=l.isAuth?l:{},c=s.firstName,u=s.imageLargeUrl;return(0,h.jsx)(i.xu,{display:"flex",justifyContent:"center",position:"relative",children:(0,h.jsxs)(i.xu,{alignItems:"center",borderStyle:"shadow",dangerouslySetInlineStyle:{__style:{backgroundColor:"#EBF4FE"}},display:"flex",justifyContent:"between",marginBottom:2,marginEnd:8,marginStart:8,marginTop:4,padding:8,position:"relative",rounding:4,width:1016,children:[(0,h.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,h.jsx)(i.xu,{marginEnd:6,marginTop:-2,marginBottom:-2,children:(0,h.jsx)(_.qE,{name:c,src:u,size:"lg",outline:!0})}),(0,h.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,h.jsx)(i.xu,{marginBottom:2,children:(0,h.jsx)(i.X6,{size:"400",children:(0,v.nk)(a._('Welcome back, {{ name }}', 'shown on a banner, "welcome back, first_name"', 'shown on a banner, "welcome back, first_name"'),{name:c})})}),(0,h.jsx)(i.xv,{children:r})]})]}),(0,h.jsx)(i.xu,{marginEnd:4,children:(0,h.jsx)(i.zx,{color:"white",size:"lg",text:t,onClick:n})}),(0,h.jsx)(i.xu,{position:"absolute",padding:2,top:!0,right:!0,children:(0,h.jsx)(i.hU,{accessibilityLabel:a._('Close', 'accessible label for close button', 'accessible label for close button'),iconColor:"darkGray",icon:"cancel",onClick:o,size:"sm"})})]})})}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==O(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==O(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function E(e){var t,r=e.completeButtonUrl,f=e.onDismiss,p=e.placementId,y=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=y[0],v=y[1],x=(0,u.B)(),O=function(e){switch(e){case 502597:return a.default;case 500863:return P;case 501153:case 501487:return b;default:return m}},j=function(){_||v(!0)};return(0,h.jsxs)(n.Fragment,{children:[(0,h.jsx)(s.Z,{unsafeCSS:"\n.ExperienceHero-enter {\n  opacity: 0;\n  transform: translateY(-50px);\n}\n\n.ExperienceHero-enter-active {\n  opacity: 1;\n  transform: none;\n  transition: all 400ms ease-out;\n}\n\n.ExperienceHero-exit {\n  opacity: 1;\n}\n\n.ExperienceHero-exit-active {\n  opacity: 0;\n  transition: opacity 400ms ease-out;\n}\n"}),(0,h.jsx)(l.Z,{eligibleTypes:[13],placementId:p,children:function(e){var t=e.complete,n=e.dismiss,a=e.experience,l=a.display_data,s=a.experience_id;r&&(l.complete_button_url=r);var u=O(s),p=S({requestContext:x,experienceId:s,handleComplete:t,handleDismiss:function(){f&&f(),n()},color:u===g?"dark":"infoBase"},(0,c.Z)(d.Z)(l));return j(),(0,h.jsx)(o.Z,{classNames:"ExperienceHero",in:_,timeout:400,unmountOnExit:!0,children:(0,h.jsx)(i.xu,{marginBottom:4,children:(0,h.jsx)(u,S({},p))})})}})]})}},333312:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var n=r(76911),o=r(908390),i=r(121093),a=r(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(p,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=d(p);if(t){var n=d(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(u(e=i.call.apply(i,[this].concat(r))),"onScroll",function(){var t=e.props.dismiss;e.dismissed||e.timer||(e.timer=setTimeout(function(){t(),e.dismissed=!0,e.timer=void 0},3e3))}),f(u(e),"dismissed",!1),e}return r=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.anchor,r=e.text,n=e.thumbnails,i=e.idealDirection,l=n.slice(-3);return(0,a.jsx)(o.J2,{anchor:t,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,a.jsxs)(o.xu,{alignContent:"center",display:"flex",justifyContent:"between",padding:3,width:"100%",children:[(0,a.jsx)(o.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,a.jsx)(o.xv,{color:"default",weight:"bold",children:r})}),(0,a.jsx)(o.xu,{display:"flex",marginEnd:-2,paddingX:2,children:l.map(function(e){return(0,a.jsx)(o.xu,{height:60,paddingX:1,width:50,children:(0,a.jsx)(o.zd,{height:60,rounding:2,children:(0,a.jsx)(o.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)})})]})})}}],s(p.prototype,r),n&&s(p,n),Object.defineProperty(p,"prototype",{writable:!1}),p}(n.PureComponent),y=r(570470),m=["scroll_to_dismiss","scroll_to_dismiss_delay_in_seconds"];function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,r){return(t=O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==g(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(c,e);var t,r,l,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=x(c);if(t){var n=x(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return P(v(e=s.call.apply(s,[this].concat(r))),"dismissRef",(0,n.createRef)()),P(v(e),"state",{paused:!1}),P(v(e),"dismissCb",function(){var t,r;null===(t=(r=e.dismissRef).current)||void 0===t||t.call(r)}),P(v(e),"handlePulsarClick",function(t,r){t?e.setState({paused:!0}):r()}),e}return r=[{key:"componentWillUnmount",value:function(){var e=this.props.anchor;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}},{key:"setDefaultPulsarTooltip",value:function(e){var t=function(e){return null!=e};e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}},{key:"getText",value:function(e,t,r){return(t&&e.text.replace("{boardName}",t),r)?r(e):e.text}},{key:"render",value:function(){var e=this,t=this.props,r=t.anchor,l=t.customWrapper,s=t.experienceIds,c=t.boardTextOverride,u=t.flyoutSize,d=t.fontSize,f=t.hasFullWidthButton,p=void 0===f||f,g=t.idealDirection,b=t.useMasonryFlyout,_=t.noClickToDismiss,v=t.onClickComplete,x=t.onClickDismiss,P=t.placementId,O=t.positionRelativeToAnchor,j=t.shouldTimeoutDismiss,S=t.showCaret,w=t.textAlign,E=t.textOverflow,A=t.textOverrideFn,I=t.textWeight,C=t.customizedComplete,T=t.pulsarZIndex,D=t.advertiserId,k=t.dismissButtonLocation,R=t.dismissButtonColor,z=t.dismissButtonMarginTop,L=l||function(e){var t=e.children;return b?(0,a.jsx)(o.mh,{children:t}):t};return(0,a.jsx)(i.Z,{eligibleIds:s,eligibleTypes:[8],placementId:P,targeting:D?{advertiserId:parseInt(D,10)}:null,children:function(t){var i=t.complete,l=t.dismiss,s=t.experience,f=s.display_data,P=f.scroll_to_dismiss,D=f.scroll_to_dismiss_delay_in_seconds,M=void 0===D?0:D,N=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(f,m),B=P&&r,F=function(){Z(),setTimeout(l,1e3*M)},Z=function(){B&&(window.removeEventListener("scroll",F),window.removeEventListener("touchmove",F))},U=function(){Z(),i()};if(B&&(window.addEventListener("scroll",F),window.addEventListener("touchmove",F)),e.setDefaultPulsarTooltip(N),!N.has_pulsar&&!N.has_tooltip)return U(),null;j&&N.disappearTime&&N.disappearTime>0&&(e.timer=setTimeout(function(){return F(),null},N.disappearTime));var H=501041===s.experience_id||505086===s.experience_id;return N.has_tooltip&&!N.has_pulsar&&(e.dismissRef.current=F,null==r||r.addEventListener("click",e.dismissCb)),(0,a.jsxs)(n.Fragment,{children:[N.has_pulsar&&(0,a.jsx)(y.Z,{anchor:r,leftOverride:H?342:void 0,onTouch:function(){return e.handlePulsarClick(N.has_tooltip,U)},paused:e.state.paused,topOverride:H?-5:void 0,zIndex:T&&T.index()}),N.has_tooltip&&(!N.has_pulsar||e.state.paused)&&(N.thumbnail_urls?(0,a.jsx)(h,{anchor:r,dismiss:F,idealDirection:g||"down",text:N.text,thumbnails:N.thumbnail_urls}):(0,a.jsx)(L,{children:(0,a.jsx)(o.J2,{_deprecatedShowCaret:S,anchor:r,color:"deprecatedBlue",idealDirection:g||"down",onDismiss:_?function(){}:F,positionRelativeToAnchor:!b&&O,shouldFocus:!1,size:u,children:(0,a.jsxs)(o.xu,{column:12,padding:3,children:[(0,a.jsxs)(o.xv,{align:"right"===w?"end":w,color:"inverse",overflow:E,size:d,weight:I||"bold",children:[e.getText(N,c,A),N.secondary_cta_link&&(0,a.jsx)(o.xu,{display:"inlineBlock",marginStart:1,children:(0,a.jsx)(o.xv,{color:"inverse",size:d,weight:"bold",children:(0,a.jsx)(o.rU,{display:"inlineBlock",href:N.secondary_cta_link.url,target:"blank",underline:"hover",children:N.secondary_cta_link.text})})})]}),N.sub_text&&(0,a.jsx)(o.xu,{paddingY:2,children:(0,a.jsx)(o.xv,{color:"inverse",size:d,children:N.sub_text})}),(N.dismiss_button_text||N.complete_button_text)&&(0,a.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:k||"start",marginTop:z||2,children:[N.dismiss_button_text&&(0,a.jsx)(o.xu,{column:6,marginEnd:1,children:(0,a.jsx)(o.zx,{color:R||"blue",fullWidth:p,onClick:function(){x&&x(),F()},size:"md",text:N.dismiss_button_text})}),N.complete_button_text&&(0,a.jsx)(o.xu,{column:N.dismiss_button_text?6:12,children:C?(0,a.jsx)(o.iP,{fullHeight:!0,onTap:function(){U(),v&&v()},rounding:2,children:(0,a.jsx)(o.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"10px"}},display:"flex",justifyContent:"center",padding:2,rounding:2,children:(0,a.jsx)(o.xv,{color:"shopping",weight:"bold",children:N.complete_button_text})})}):(0,a.jsxs)(o.kC,{justifyContent:"center",children:[N.complete_button_cta_url&&(0,a.jsx)(o.ZP,{color:"white",fullWidth:p,href:N.complete_button_cta_url,onClick:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),U(),v&&v()},size:"md",target:N.complete_button_cta_url?"blank":null,text:N.complete_button_text}),!N.complete_button_cta_url&&(0,a.jsx)(o.zx,{color:"white",fullWidth:p,onClick:function(){U(),v&&v()},size:"md",text:N.complete_button_text})]})})]})]})})}))]})}})}}],b(c.prototype,r),l&&b(c,l),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.Component);P(j,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},332611:function(e,t,r){"use strict";r.d(t,{Am:function(){return x},Ig:function(){return _},N:function(){return S},Sd:function(){return P},YX:function(){return j},be:function(){return v},fO:function(){return m},kd:function(){return O},pz:function(){return g}});var n,o=r(76911),i=r(214494),a=r(112690),l=r(764990),s=r(957191),c=r(186656),u=r(67347);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var y=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,u.nP)("".concat(e,".").concat(t),{sampleRate:1,tags:r})},m=function(e,t){return function(r){var n=t?{extra_context:e,targeting:t}:{extra_context:e};return i.Z.create("UserExperiencePlatformResource",n).callGet().then(function(e){return e.resource_response?r((0,s.OD)(e.resource_response.data)):void 0})}},g=function(e,t,r,o){return function(a,c){if(t)return Promise.resolve();if(o&&(n=o),1===e.length){var u=e[0],d=c().experiences[u];if(JSON.stringify((null==d?void 0:d.extraContext)||null)===JSON.stringify(r)||(0,l.E3)(d)&&!(r&&Object.keys(r).length>0))return Promise.resolve()}return i.Z.create("UserExperienceResource",{placement_ids:e,extra_context:r||null,targeting:o}).callGet().then(function(e){return e.resource_response?a((0,s.cL)(e.resource_response.data)):void 0})}},b=function(e,t,r,o){return function(a,l,c){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],d=arguments.length>4?arguments[4]:void 0,f=arguments.length>5?arguments[5]:void 0;return function(p,h){var y,g=h(),b=g.experiences,_=g.experiencesMulti,v=null,x=!0;if(u||(v=(x=b[a]&&b[a].experience_id===l)?b[a]:Array.isArray(_[a])&&(null===(y=_[a])||void 0===y?void 0:y.find(function(e){return e.experience_id===l}))),v&&v.experience_id===l||u&&a&&l){var P=i.Z.create(e,{placed_experience_id:"".concat(a,"%3A").concat(l),extra_context:null!=d?d:{},targeting:f}),O=x?s.Yb:s.xW;switch(t){case"dismissed":return P.callDelete().then(function(){p(O(a,l,t)),p(m(void 0,n)),r&&o&&r({event_type:o,object_id_str:l.toString()})});case"completed":return P.callUpdate().then(function(){!c&&(p(O(a,l,t)),p(m(void 0,n)),r&&o&&r({event_type:o,object_id_str:l.toString()}))});case"viewed":return p(O(a,l,t)),P.callUpdate().then(function(){1000162===a&&p(m()),r&&o&&r({event_type:o,object_id_str:l.toString()})});case"completedWithoutHomefeed":return P.callUpdate().then(function(){c||p(O(a,l,t)),r&&o&&r({event_type:o,object_id_str:l.toString()})})}}return Promise.resolve()}}},_=function(){var e=(0,a.Z)();return(0,o.useCallback)(b("UserExperienceViewedResource","viewed",e,4503),[e])},v=function(){var e=(0,a.Z)();return(0,o.useCallback)(b("UserExperienceCompletedResource","completed",e,6567),[e])},x=function(){var e=(0,a.Z)();return(0,o.useCallback)(b("UserExperienceResource","dismissed",e,6568),[e])},P=function(){var e=(0,a.Z)();return(0,o.useCallback)(b("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e])},O=function(e,t){return function(r,n){var o=n().experiences[e];o&&o.triggerable_placed_exps&&o.triggerable_placed_exps.length&&o.triggerable_placed_exps.forEach(function(r){var n,i=(function(e){if(Array.isArray(e))return e}(n=r.split(":"))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(n,2)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],a=t;o.metadata&&o.metadata[i]&&(a=p(p({},t),o.metadata[i])),(0,c.Z)({url:"/v3/experiences/".concat(r.replace(":","%3A"),"/trigger/"),method:"PUT",data:a?{extra_context:JSON.stringify(a,null,1)}:{}}).then(function(){y("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:i})})})}},j=function(e){return function(t,r){return t(O(e)),r().experiences[e]}},S=function(e,t,r){return function(o){r&&(n=r),o(O(e,t)),t&&Object.keys(t).length>0&&o(g([e],!1,t,r))}}},242923:function(e,t,r){"use strict";r.d(t,{CF:function(){return l},Tl:function(){return a},dy:function(){return s}});var n=r(214494),o=r(332611),i=function(e,t,r,i){return function(a,l){return function(s){if(a&&a.id){var c=n.Z.create(e,{placed_experience_id:a.id,extra_context:{}});switch(t){case"dismissed":c.callDelete().then(function(){s((0,o.fO)()),r&&i&&r({event_type:i,object_id_str:a.id.toString()})});break;case"completed":c.callUpdate().then(function(){l||s((0,o.fO)()),r&&i&&r({event_type:i,object_id_str:a.id.toString()})});break;case"viewed":c.callUpdate().then(function(){r&&i&&r({event_type:i,object_id_str:a.id.toString()})})}}}}},a=function(e){return i("UserExperienceCompletedResource","completed",e,6567)},l=i("UserExperienceResource","dismissed"),s=function(e){return i("UserExperienceViewedResource","viewed",e,4503)}},764990:function(e,t,r){"use strict";r.d(t,{A0:function(){return c},E3:function(){return l},MQ:function(){return s},fL:function(){return u}});var n=r(908390),o=r(149230),i=r(515198);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e){return!!e&&0!==e.type}var s=function(e,t,r){var n=e[r];return t[r]&&l(n)?n:null};function c(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}var u=function(e){var t,r,l=((function(e){if(Array.isArray(e))return a(e)})(r=(null===(t=new DOMParser().parseFromString(e,"text/html").body)||void 0===t?void 0:t.childNodes)||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){if("A"!==e.nodeName)return(0,i.jsx)(n.xv,{inline:!0,children:e.textContent});var t=e.href||"",r=(0,o.Z)({url:t});return(0,i.jsx)(n.rU,{display:"inline",externalLinkIcon:r?"default":"none",href:t,rel:r?"nofollow":"none",target:"blank",children:e.textContent})});return(0,i.jsx)(n.xv,{inline:!0,children:l})}},207737:function(e,t,r){"use strict";r.d(t,{$S:function(){return n},V$:function(){return o},_4:function(){return a},iY:function(){return l},mR:function(){return i}});var n="REFRESH_ALL_EXPERIENCES_MULTI",o="UPDATE_EXPERIENCE_MULTI",i="FETCH_EXPERIENCES",a="REFRESH_ALL_EXPERIENCES",l="UPDATE_EXPERIENCE"},957191:function(e,t,r){"use strict";r.d(t,{NW:function(){return a},OD:function(){return s},Yb:function(){return l},cL:function(){return c},xW:function(){return i}});var n=r(214494),o=r(207737),i=function(e,t,r){return{type:o.V$,payload:{placementId:e,experienceId:t,status:r}}},a=function(e){return function(t){return n.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(function(e){var r;return e.resource_response?t((r=e.resource_response.data,{type:o.$S,payload:{experiencesMulti:r}})):void 0})}},l=function(e,t,r){return{type:o.iY,payload:{placementId:e,experienceId:t,status:r}}},s=function(e){return{type:o._4,payload:{experiences:e}}},c=function(e){return{type:o.mR,payload:{experiences:e}}}},570470:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(908390),o=r(76911),i=r(515198);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e){var t=e.anchor,r=e.children,l=e.zIndex,s=e.leftOverride,c=e.topOverride,u=(0,o.useRef)(null),d=a((0,o.useState)(0),2),f=d[0],p=d[1],h=a((0,o.useState)(0),2),y=h[0],m=h[1],g=t.getBoundingClientRect(),b=g.height,_=g.width;return(0,o.useEffect)(function(){var e=u.current;if(t&&e){var r=e.getBoundingClientRect(),n=r.height,o={horizontalOffset:-(r.width/2-_/2),verticalOffset:-(n/2-b/2)},i=o.horizontalOffset,a=o.verticalOffset;p(i),m(a)}}),(0,i.jsx)(n.xu,{ref:u,dangerouslySetInlineStyle:{__style:{left:s||f,top:c||y}},"data-test-id":"center-box",position:"absolute",zIndex:l?new n.Ry(l):void 0,children:r})}var c=function(e){var t=e.anchor,r=e.leftOverride,o=e.onTouch,a=e.onMouseEnter,l=e.paused,c=e.size,u=e.topOverride,d=e.zIndex;return t?(0,i.jsx)(s,{anchor:t,leftOverride:r,topOverride:u,zIndex:d,children:(0,i.jsx)(n.iP,{fullWidth:!1,onMouseEnter:a,onTap:function(e){return o(e.event)},rounding:"circle",children:(0,i.jsx)(n.o3,{paused:l,size:c})})}):null}},497529:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(76911);r(332611);var o=r(123159),i=r(764990);r(957191);var a=r(780280);function l(e){var t=(0,o.M)(),r=t.mountedPlacements,l=t.completeExperience,s=t.dismissExperience,c=t.experiences,u=t.fetchAllExperiences,d=t.fetchAllExperiencesMulti,f=t.fetchExperienceForPlacements,p=t.triggerExperimentsForPlacement,h=t.viewExperience,y=(0,a.B)().isBot,m=e&&!y?(0,i.MQ)(c,r,e):null;return(0,n.useMemo)(function(){return{completeExperience:l,dismissExperience:s,experienceForPlacement:m,fetchAllExperiences:u,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:f,triggerExperimentsForPlacement:p,viewExperience:h}},[l,s,m,u,d,f,p,h])}},869636:function(e,t,r){"use strict";var n=r(76911),o=r(506979),i=r(904202),a=r(123159),l=r(780280),s=r(67347);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=(0,i.P1)(function(e){return e.experiences},function(e,t){return t},function(e,t){return e[t]}),h=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,s.nP)("".concat(e,".").concat(t),{sampleRate:1,tags:r})},y=function(e,t){return"function"==typeof t?t(e):t};t.Z=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(y,r))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],u=s[1],m=(0,l.B)().isBot,g=(0,a.M)(),b=g.fetchExperienceForPlacements,_=g.mountPlacement,v=g.triggerExperimentsForPlacement,x=g.unmountPlacement;(0,n.useDebugValue)("Placement Hook ID - ".concat(e)),(0,n.useEffect)(function(){var t=d({},c),r=i&&null!=t&&t.advertiser_id?{advertiserId:t.advertiser_id}:void 0;return _(e,t,r),function(){x(e)}},[]),(0,n.useEffect)(function(){Object.keys(c).length>0&&b([e],m,c)},[c]);var P=(0,o.useSelector)(function(t){return p(t,e)}),O=(0,o.useSelector)(function(t){return t.experiencesMulti[e]}),j=P?P.triggerable_placed_exps:[];return(0,n.useEffect)(function(){h("experienceservice","placementHookExperimentTrigger.1",d({platform:"web",placement_id:e},j)),v(e,c)},[JSON.stringify(j)]),{experience:P,experiencesMulti:O,setExtraContext:u}}},784450:function(e,t,r){"use strict";var n=r(76911),o=r(506979),i=r(594736),a=r(332611),l=r(123159),s=r(764990),c=r(780280),u=r(515198);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){b(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}var v={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1};t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return function(f){var _=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3];var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],f=arguments.length>5?arguments[5]:void 0,_=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(v,n);var o,l,c,_=(o=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=g(v);if(o){var r=g(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return m(e)}(this,e)});function v(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,v),b(m(t=_.call(this,e)),"state",{extraContext:void 0}),b(m(t),"setExtraContextState",function(e){(0,i.ZP)(t.state.extraContext,e)||t.setState({extraContext:e})}),t}return l=[{key:"componentDidMount",value:function(){this.dispatchPlacementMount()}},{key:"componentDidUpdate",value:function(r,n){var o=this.props,l=o.dispatch,s=o.experience,c=o.requestContext,u=n.extraContext,d=this.state.extraContext||t||{};"function"==typeof t&&(u=t(r,n.extraContext||{}),d=t(this.props,this.state.extraContext||{})),d&&Object.keys(d).length>0&&!(0,i.ZP)(u,d)&&l((0,a.pz)([e],c.isBot,d)),s&&(!r.experience||s.id!==r.experience.id)&&l((0,a.kd)(e,d))}},{key:"componentWillUnmount",value:function(){this.props.unmountPlacement(e)}},{key:"dispatchPlacementMount",value:function(){var n="function"==typeof t?t(this.props,this.state.extraContext||{}):p({},t),o=r&&null!=n&&n.advertiser_id?{advertiserId:n.advertiser_id}:void 0;this.props.mountPlacement(e,n,o)}},{key:"render",value:function(){var e=this.props,t=e.experience,n=e.experiencesMulti,o=b({},r?"advertiserExperience":"experience",(0,s.E3)(t)?t:null);return(0,u.jsx)(f,p(p(p({},this.props),{},{setPlacementExtraContext:this.setExtraContextState},o),{},{experiencesMulti:n}))}}],h(v.prototype,l),c&&h(v,c),Object.defineProperty(v,"prototype",{writable:!1}),v}(n.Component);function v(e){var t=(0,c.B)(),r=(0,o.useDispatch)(),n=(0,l.M)(),i=n.mountPlacement,a=n.unmountPlacement;return(0,u.jsx)(_,p(p({},e),{},{dispatch:r,mountPlacement:i,requestContext:t,unmountPlacement:a}))}return v.displayName="withPlacement(".concat(f.displayName||f.name||"Component",")"),v}(e,t,(r=p(p({},v),r)).shouldUsePlacedExperience,r.dispatchMountActionDuringSSR,r.isAdvertiserPlacement,f),x=function(t){var r=(0,o.useSelector)(function(t){return t.experiences[e]}),n=(0,o.useSelector)(function(t){return t.experiencesMulti?t.experiencesMulti[e]:void 0});return(0,u.jsx)(_,p(p({},t),{},{experience:r,experiencesMulti:n}))};return x.displayName=_.displayName,x}}},402201:function(e,t){"use strict";t.Z=function(e){var t=(null==e?void 0:e.width)||580,r=(null==e?void 0:e.height)||400,n=[window.screen.width,window.screen.height],o=n[0],i=n[1];return["scrollbars=yes","resizable=yes","toolbar=no","location=yes","width=".concat(t),"height=".concat(r),"left=".concat(Math.round((o-t)/2)),"top=".concat(i>r?Math.round((i-r)/2):0)].join(",")}},894738:function(e,t,r){"use strict";function n(e){e&&e.focus()}r.d(t,{Z:function(){return n}})},173159:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(948337),o=r.n(n);function i(e,t){if("undefined"==typeof window)return Promise.resolve();var r=document.querySelector("#".concat(t));if(r)return Promise.resolve();(r=document.createElement("style")).setAttribute("id",t),e.filter(function(e){return!!e.fontFaceUrl}).forEach(function(e){r&&e.fontFaceUrl&&r.appendChild(document.createTextNode("@import url('".concat(e.fontFaceUrl,"');")))});var n=document.head;if(!n)return Promise.resolve();var i=document.createElement("style");i.setAttribute("id","".concat(t,"-font-faces")),n.appendChild(r),n.appendChild(i);var a=[];return e.forEach(function(e){e.styles.forEach(function(t){if(e.format&&t.fontUrl&&i&&i.sheet){var r;i.sheet.insertRule('\n            @font-face {\n              font-family: "'.concat(null!==(r=e.fontFamily)&&void 0!==r?r:"",'";\n              font-style: "').concat(t.fontStyle,'";\n              font-weight: "').concat(t.fontWeight,'";\n              src: url("').concat(t.fontUrl,'") format("').concat(e.format,'");\n            }'),0)}a.push(new(o())(e.fontFamily,{weight:t.fontWeight,style:t.fontStyle}).load())})}),Promise.all(a)}},382415:function(e,t,r){"use strict";var n=r(515198);t.Z=function(e){var t=e.color,r=void 0===t?"rgba(0, 0, 0, 0.06)":t,o=e.size,i=void 0===o?8:o;return(0,n.jsxs)("svg",{height:"100%",preserveAspectRatio:"none",style:{display:"flex"},version:"1.1",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsxs)("pattern",{height:2*i,id:"pattern",patternUnits:"userSpaceOnUse",width:2*i,x:0,y:0,children:[(0,n.jsx)("rect",{fill:r,height:i,width:i,x:0,y:0}),(0,n.jsx)("rect",{fill:r,height:i,width:i,x:i,y:i})]}),(0,n.jsx)("rect",{fill:"url(#pattern)",height:"100%",width:"100%",x:0,y:0})]})}},286939:function(e,t){"use strict";t.Z="M6 5h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm8 0h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1zm0 8h5a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1z"},485142:function(e,t){"use strict";t.Z="M19 8C18.448 8 18 8.448 18 9V16C18 16.552 18.448 17 19 17H23C23.552 17 24 16.552 24 16V9C24 8.448 23.552 8 23 8H19ZM11 8C10.448 8 10 8.448 10 9V16C10 16.552 10.448 17 11 17H15C15.552 17 16 16.552 16 16V9C16 8.448 15.552 8 15 8H11ZM7 7H1C0.448 7 0 7.448 0 8V17C0 17.552 0.448 18 1 18H7C7.552 18 8 17.552 8 17V8C8 7.448 7.552 7 7 7Z"},248058:function(e,t,r){"use strict";r.d(t,{Cc:function(){return a},G9:function(){return s},VE:function(){return d},Ys:function(){return l},iA:function(){return i},j5:function(){return c},kq:function(){return u}});var n=r(858472),o=r(515198),i=37.8,a=277.1569,l=0,s=1,c=38,u=37.8,d=8,f=(0,o.jsxs)("svg",{height:316,style:{opacity:1,overflow:"visible",transform:"scale(.95)"},viewBox:"0 0 440 316",width:440,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,o.jsxs)("defs",{children:[(0,o.jsx)("path",{d:"M15.9508 11.963c-2.2026 0-3.9877 1.7852-3.9877 3.9878 0 2.2025 1.7851 3.9877 3.9877 3.9877 2.2025 0 3.9877-1.7852 3.9877-3.9877 0-2.2026-1.7852-3.9877-3.9877-3.9877m-11.9631 0c2.2025 0 3.9877 1.7851 3.9877 3.9877 0 2.2025-1.7852 3.9877-3.9877 3.9877C1.7852 19.9385 0 18.1533 0 15.9508c0-2.2026 1.7852-3.9877 3.9877-3.9877zm23.9261 0c2.2026 0 3.9877 1.7851 3.9877 3.9877 0 2.2025-1.7851 3.9877-3.9877 3.9877-2.2025 0-3.9876-1.7852-3.9876-3.9877 0-2.2026 1.7851-3.9877 3.9876-3.9877z",id:"a"}),(0,o.jsx)("path",{d:"M8.4456.6691l1.3182 4.3182h4.3945c.8974 0 1.2824 1.153.569 1.705L11.133 9.4709l1.3475 4.4165c.2699.8827-.7398 1.5963-1.4654 1.0349l-3.466-2.6794-3.4659 2.6794c-.7266.5614-1.7363-.1522-1.4664-1.035L3.9653 9.471.37 6.6923c-.7124-.552-.3274-1.705.57-1.705h4.3935L6.6527.6691c.2727-.8921 1.5202-.8921 1.7929 0",id:"b"}),(0,o.jsx)("path",{d:"M8.0882 12.9614c-2.6756 0-4.853-2.1808-4.853-4.8606 0-2.6797 2.1774-4.8605 4.853-4.8605 2.6756 0 4.853 2.1808 4.853 4.8605 0 2.6798-2.1774 4.8606-4.853 4.8606m10.6126 2.3314l-3.444-3.4486c.5848-1.1203.9197-2.3921.9197-3.7434C16.1765 3.6268 12.5554 0 8.0882 0 3.6211 0 0 3.6267 0 8.1008s3.6211 8.1009 8.0882 8.1009c1.3492 0 2.619-.3354 3.7376-.921L15.269 18.73c.948.9494 2.4839.9494 3.4318 0 .948-.9486.948-2.4878 0-3.4372",id:"c"}),(0,o.jsx)("path",{d:"M0 39.5562c0 16.8872 10.5846 31.3054 25.4808 36.9784-.3626-3.0887-.7483-8.1815.0824-11.7548.7153-3.0722 4.6182-19.5737 4.6182-19.5737s-1.1768-2.3569-1.1768-5.8477c0-5.472 3.171-9.5594 7.1234-9.5594 3.3622 0 4.984 2.5217 4.984 5.5444 0 3.3788-2.1525 8.4288-3.2633 13.113-.9263 3.9193 1.9679 7.1167 5.8312 7.1167 6.9982 0 12.381-7.3805 12.381-18.0343 0-9.4308-6.7772-16.0202-16.452-16.0202-11.201 0-17.7772 8.4023-17.7772 17.0882 0 3.3854 1.302 7.0114 2.9305 8.9859.3197.3922.3692.7318.2736 1.1306-.3 1.246-.9659 3.9194-1.0944 4.4666-.1747.7186-.5703.8735-1.3186.524-4.9181-2.2876-7.9903-9.477-7.9903-15.2521 0-12.424 9.022-23.8293 26.0148-23.8293 13.66 0 24.2776 9.7341 24.2776 22.7415 0 13.571-8.554 24.4952-20.434 24.4952-3.992 0-7.74-2.0767-9.0255-4.526 0 0-1.9745 7.5223-2.4525 9.3617-.9295 3.5732-3.5073 8.0958-5.106 10.6637 3.6853 1.134 7.5948 1.7437 11.6493 1.7437 21.8449 0 39.5561-17.7112 39.5561-39.5561C79.1123 17.7112 61.4011 0 39.5562 0 17.7112 0 0 17.7113 0 39.5562",id:"d"})]}),(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M15.12 33.6034c-7.6878 0-13.92 6.2322-13.92 13.92V300.88c0 7.6878 6.2322 13.92 13.92 13.92h409.76c7.6878 0 13.92-6.2322 13.92-13.92V47.5234c0-7.6878-6.2322-13.92-13.92-13.92H15.12z",fill:"#FFF",stroke:"#DEDEDE",strokeWidth:"2.4"}),(0,o.jsxs)("g",{transform:"translate(0 ".concat(4*d+.441,")"),children:[(0,o.jsx)("path",{d:"M15.12 0h409.76C433.2305 0 440 6.7695 440 15.12v48.6067H0V15.12C0 6.7695 6.7695 0 15.12 0z",fill:"#DEDEDE"}),(0,o.jsx)("rect",{fill:"#FFF",height:"38.8841",rx:"19.442",width:"218.9216",x:"15.5858",y:"12.0152"}),(0,o.jsx)("use",{fill:"#FFF",transform:"translate(384.8501 15.6198)",xlinkHref:"#a"}),(0,o.jsx)("use",{fill:"#DEDEDE",transform:"translate(206.2125 24.0304)",xlinkHref:"#b"}),(0,o.jsx)("use",{fill:"#DEDEDE",transform:"translate(26.376 21.6274)",xlinkHref:"#c"})]}),(0,o.jsxs)("g",{fill:"#DEDEDE",children:[(0,o.jsx)("rect",{height:"126.3732",id:"content-morph",width:"230.7843",x:31,y:139}),(0,o.jsx)("rect",{className:"content-bar",height:"14.0415",width:"126.1765",x:"281.4706",y:"139.3346"}),(0,o.jsx)("rect",{className:"content-bar",height:"14.0415",width:"85.1961",x:"281.4706",y:"164.1772"})]}),(0,o.jsx)("ellipse",{cx:38,cy:38,fill:"#FFF",fillOpacity:"0.49",id:"pinterest-logo-pop-bg",rx:c,ry:u}),(0,o.jsxs)("g",{id:"pinterest-logo",transform:"translate(".concat(a,") scale(").concat(s,")"),children:[(0,o.jsx)("ellipse",{cx:"37.8",cy:"37.8479",fill:"#FFF",rx:i,ry:i}),(0,o.jsxs)("g",{transform:"translate(0 .0493)",children:[(0,o.jsx)("mask",{fill:"#fff",id:"e",children:(0,o.jsx)("use",{xlinkHref:"#d"})}),(0,o.jsx)("g",{fill:n.x7,mask:"url(#e)",children:(0,o.jsx)("rect",{height:"80.1649",width:"80.1649"})})]})]})]})]});t.ZP=f},870479:function(e,t,r){"use strict";var n=r(515198),o=(0,n.jsx)("svg",{height:100,viewBox:"0 0 24 24",width:100,xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M6 1.75l6 3.844-6 3.844 6 3.844-6 3.844-6-3.844 6-3.844-6-3.844L6 1.75zm12 0l6 3.844-6 3.844-6-3.844 6-3.844zm-6 11.532l6-3.844 6 3.844-6 3.844-6-3.844zm-6 5.124l6-3.843 6 3.843-6 3.844-6-3.844z",fill:"#0061FF"})});t.Z=o},829130:function(e,t,r){"use strict";var n=r(515198),o=(0,n.jsx)("svg",{height:"10",viewBox:"3 3 18 18",width:"14",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M20.571 8.573h-3.428V12h1.714v1.715h-1.714v3.428h-1.714V6.86h5.142v1.714zM12 17.144V6.86h1.714v10.285H12zm-1.714-8.571H5.143v6.857H8.57v-1.714H6.857V12h3.429v5.143H3.429V6.86h6.857v1.714zM5.143 3.43A5.143 5.143 0 0 0 0 8.573v6.857a5.143 5.143 0 0 0 5.143 5.143h13.714A5.143 5.143 0 0 0 24 15.43V8.573a5.143 5.143 0 0 0-5.143-5.143H5.143z",fill:"#333"})});t.Z=o},252044:function(e,t,r){"use strict";var n=r(515198),o=(0,n.jsx)("svg",{height:"20",viewBox:"0 0 168 40",width:"83",children:(0,n.jsxs)("g",{fill:"#005062",fillRule:"nonzero",children:[(0,n.jsxs)("g",{transform:"translate(47.213 6.557)",children:[(0,n.jsx)("path",{d:"M18.689 7.721h5.295v16.64h-5.295zM25.098 7.721h5.099V10h.098c1.23-1.787 2.82-2.754 5.131-2.754 3.64 0 5.787 2.606 5.787 6.311v10.82h-5.295v-9.754c0-1.754-.885-2.95-2.607-2.95-1.754 0-2.918 1.458-2.918 3.507v9.197h-5.295V7.721z"}),(0,n.jsx)("circle",{cx:"21.344",cy:"3.279",r:"3.18"}),(0,n.jsx)("path",{d:"M78.459 7.475c-.148-.016-.328-.016-.525-.016-2.016 0-3.377.885-4.557 2.852h-.098v-2.59h-5.066v16.64h5.295v-7.476c0-3.459 1.918-5.065 4.951-4.787V7.475zM104.459 13.869c-2.115-.394-4-.558-4-1.721 0-1.033 1-1.525 2.311-1.525 1.46 0 2.476.459 2.673 1.95h4.868c-.262-3.278-2.786-5.327-7.508-5.327-3.934 0-7.18 1.82-7.18 5.328 0 3.901 3.082 4.672 5.984 5.164 2.213.393 4.23.557 4.23 2.049 0 1.065-1 1.656-2.607 1.656-1.59 0-2.656-.673-2.984-2.05h-5.05c.378 3.427 3.378 5.492 8.066 5.492 4.361 0 7.574-1.885 7.574-5.524-.016-4.263-3.459-5-6.377-5.492zM86.967 21.05c-2.18 0-3.41-1.394-3.737-3.64h11.95c.033-3.377-.934-6.279-2.918-8.099-1.426-1.295-3.311-2.081-5.688-2.081-5.066 0-8.541 3.803-8.541 8.77 0 5.033 3.377 8.836 8.869 8.836 2.114 0 3.803-.557 5.196-1.525 1.46-1 2.443-2.442 2.787-3.934h-5.164c-.442 1.05-1.344 1.672-2.754 1.672zM86.672 11c1.721 0 2.951 1.262 3.148 3.246h-6.558c.361-1.967 1.41-3.246 3.41-3.246zM120.148 20.443c-.246.016-.574.016-.886.016-1.13 0-1.852-.328-1.852-1.623v-7.803h2.738V7.72h-2.738V2.46h-5.164v5.262h-1.623v3.312h1.623v8.934c0 3.574 2.213 4.59 5.295 4.59 1.18 0 2.066-.082 2.607-.196v-3.918zM50.672 20.443c-.213 0-.459.016-.688.016-1.132 0-1.853-.328-1.853-1.623v-7.803h2.541V7.72h-2.54V2.46h-5.165v5.262h-1.721v3.312h1.721v8.934c0 3.574 2.213 4.59 5.295 4.59 1.05 0 1.87-.065 2.41-.164v-3.95z"}),(0,n.jsx)("path",{d:"M50.41 16.016c0-4.967 3.475-8.77 8.54-8.77 2.378 0 4.263.787 5.69 2.082 1.983 1.82 2.95 4.705 2.917 8.098h-11.95c.327 2.246 1.557 3.64 3.737 3.64 1.394 0 2.312-.623 2.754-1.656h5.164c-.36 1.492-1.328 2.918-2.787 3.934-1.393.967-3.082 1.525-5.196 1.525-5.492-.017-8.87-3.82-8.87-8.853zm11.803-1.754c-.197-1.983-1.426-3.246-3.147-3.246-2.017 0-3.05 1.263-3.41 3.246h6.557zM.066 1.131h9.196c2.82 0 4.902.787 6.345 2.148C17.098 4.672 17.95 6.656 17.95 9c0 4.459-3.082 7.607-7.869 7.607H5.426v7.77H.066V1.131zM9.492 12.05c2.082 0 3.246-1.23 3.246-3.082 0-1.852-1.197-2.983-3.246-2.983H5.426v6.082h4.066v-.017z"})]}),(0,n.jsx)("path",{d:"M19.934 0C8.918 0 .016 8.918.016 19.918c0 8.443 5.246 15.656 12.656 18.557-.18-1.573-.328-4 .066-5.72.36-1.558 2.328-9.903 2.328-9.903s-.59-1.196-.59-2.95c0-2.77 1.606-4.836 3.606-4.836 1.705 0 2.525 1.278 2.525 2.803 0 1.705-1.082 4.262-1.656 6.64-.476 1.983 1 3.606 2.95 3.606 3.542 0 6.263-3.738 6.263-9.115 0-4.77-3.426-8.098-8.328-8.098-5.672 0-9 4.246-9 8.639 0 1.705.656 3.541 1.475 4.541.164.197.18.377.132.574-.148.623-.492 1.983-.558 2.262-.082.36-.295.443-.672.262-2.459-1.18-4-4.82-4-7.737 0-6.28 4.557-12.05 13.164-12.05 6.902 0 12.279 4.918 12.279 11.509 0 6.868-4.328 12.393-10.328 12.393-2.017 0-3.918-1.05-4.558-2.295l-1.245 4.738c-.443 1.737-1.656 3.901-2.476 5.23 1.869.573 3.836.884 5.902.884 11 0 19.918-8.918 19.918-19.918C39.852 8.918 30.934 0 19.934 0z"})]})});t.Z=o},579014:function(e,t,r){"use strict";r.d(t,{B1:function(){return o},Md:function(){return u},iX:function(){return c},lI:function(){return i},op:function(){return s},uZ:function(){return a},wN:function(){return n},z_:function(){return l}});var n="var(--color-background-default)",o="var(--color-background-inverse-base)",i="var(--color-background-secondary-base)",a="var(--color-background-error-base)",l="var(--color-background-info-weak)",s="var(--color-border-error)",c="var(--color-border-container)",u="var(--color-text-subtle)"},858472:function(e,t,r){"use strict";r.d(t,{$$:function(){return g},C5:function(){return E},CZ:function(){return m},EX:function(){return i},FZ:function(){return n},HH:function(){return l},KK:function(){return O},Kp:function(){return h},Ln:function(){return y},Mv:function(){return S},OX:function(){return a},P6:function(){return A},Rb:function(){return x},Xn:function(){return v},YX:function(){return d},bu:function(){return c},cO:function(){return b},ci:function(){return s},fM:function(){return _},k6:function(){return j},oY:function(){return o},sX:function(){return w},vZ:function(){return f},wA:function(){return P},x7:function(){return u},xE:function(){return p}});var n="var(--color-transparent)",o="var(--color-black-cosmicore-900)",i="var(--color-blue-skycicle-900)",a="var(--color-red-pushpin-50)",l="var(--color-red-pushpin-100)",s="var(--color-red-pushpin-200)",c="var(--color-red-pushpin-300)",u="var(--color-red-pushpin-450)",d="var(--color-red-pushpin-500)",f="var(--color-red-pushpin-600)",p="var(--color-red-pushpin-700)",h="var(--color-red-pushpin-800)",y="var(--color-pink-flaminglow-0)",m="var(--color-white-mochimalist-0)",g="var(--color-gray-roboflow-50)",b="var(--color-gray-roboflow-200)",_="var(--color-gray-roboflow-300)",v="var(--color-gray-roboflow-400)",x="var(--color-gray-roboflow-500)",P="var(--color-gray-roboflow-600)",O="var(--color-gray-roboflow-700)",j="var(--color-purple-mysticool-200)",S="var(--color-purple-mysticool-300)",w="var(--color-purple-mysticool-500)",E="var(--color-teal-spabattical-100)",A="var(--color-yellow-caramellow-300)"},121151:function(e,t,r){"use strict";r.d(t,{ZP:function(){return y},b7:function(){return a.b7},bN:function(){return p},p4:function(){return h}});var n=r(167678),o=r(50286),i=r(515198),a=r(968121);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=["isOpen","mobileAccessibilityCloseIconLabel","mobileAllowScroll","mobileHideCloseIcon","mobileIsFullscreen","mobileIsSlideUp","type","mobileIsFooter","zIndex"],c=["allowMediaPlay","allowScroll","role","size","_dangerouslyDisableScrollBoundaryContainer"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=(0,n.ZP)({resolved:{},chunkName:function(){return"DesktopModal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(51879).then(r.bind(r,373420))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then(function(e){return t.resolved[r]=!0,e})},requireSync:function(e){return r(this.resolve(e))},resolve:function(){return 373420}}),h=(0,n.ZP)({resolved:{},chunkName:function(){return"MobileModal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(72430).then(r.bind(r,430322))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then(function(e){return t.resolved[r]=!0,e})},requireSync:function(e){return r(this.resolve(e))},resolve:function(){return 430322}});function y(e){var t=(0,o.ZP)(),r=void 0===e.isOpen||e.isOpen;if("desktop"===t&&r){e.isOpen,e.mobileAccessibilityCloseIconLabel,e.mobileAllowScroll,e.mobileHideCloseIcon,e.mobileIsFullscreen,e.mobileIsSlideUp,e.type,e.mobileIsFooter,e.zIndex;var n=f(e,s);return(0,i.jsx)(p,d({},n))}e.allowMediaPlay,e.allowScroll,e.role,e.size,e._dangerouslyDisableScrollBoundaryContainer;var a=f(e,c);return(0,i.jsx)(h,d(d({},a),{},{isOpen:r}))}},968121:function(e,t,r){"use strict";r.d(t,{JN:function(){return f},Vf:function(){return p},ZM:function(){return u},b7:function(){return c},i_:function(){return d}});var n=r(908390),o=r(643010),i=r(379764);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var c=new n.Ry(1e3),u=new n.H3([i.Z]),d=12,f=function(e){var t=e.variant;return{__style:"fullscreen"===t?{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===t?{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===t?{border:(0,o.Yc)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===t?{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"}:{border:(0,o.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"}}},p=function(e){var t=e.isFullscreen,r=e.isTablet,n=e.isShowing,i=e.isRelatedInterestsModal,a={border:(0,o.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},l=n?"translateY(0)":"translateY(100vh)";return a.height=t?"100vh":"",r&&i&&(a=s(s({},a),{width:425,left:"50%",transform:"translateX(-50%)"}),l=n?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:s(s({},a),{transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:l})}}},356997:function(e,t,r){"use strict";r.d(t,{qE:function(){return a},u_:function(){return l.ZP}});var n=r(908390),o=r(515198);function i(e){var t=e.accessibilityLabel,r=e.name,i=e.outline,a=e.size,l=e.src,s=e.verified;return(0,o.jsx)(n.qE,{accessibilityLabel:t,name:r,outline:i,size:a,src:(null==l?void 0:l.includes("images/user/default"))&&r?void 0:l,verified:s})}i.displayName="Avatar";var a=i,l=r(121151);r(499128)},572752:function(e,t,r){"use strict";function n(e){var t=e.userAgent.isMobile?"mobile":"desktop";return"".concat(t,".").concat(e.country,".").concat(e.userAgent.platform,".").concat(e.userAgent.browserName).replace(/ /g,"_")}r.d(t,{Z:function(){return n}})},444445:function(e,t,r){"use strict";r.d(t,{$H:function(){return a},$q:function(){return _},D6:function(){return c},KN:function(){return x},Lo:function(){return o},OS:function(){return p},P2:function(){return m},Wv:function(){return v},ZZ:function(){return d},g5:function(){return f},jC:function(){return l},lX:function(){return y},nW:function(){return h},oX:function(){return g},qG:function(){return b},tG:function(){return i},yF:function(){return n},yc:function(){return u},yt:function(){return s}});var n=236,o=157.33333333333334,i=175,a=24,l=4,s=8,c=2,u=2,d=14,f=16,p=5,h=12,y=16,m=24,g=16,b=-1,_=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?t?y:h:m},v=function(e){var t=e.contentVisibleItemCount,r=e.gap,o=e.width;return t||o?(o-(t-1)*r)/t:n},x=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d,i=e+o;return"\n@media (min-width: ".concat(t*i,"px) and (max-width: ").concat((r+1)*i-1,"px) {\n  ").concat(n,"\n}\n")}},694379:function(e,t,r){"use strict";var n=r(892819),o=r(780280),i=r(515198);t.Z=function(e){var t=e.currency,r=e.maximumFractionDigits,a=e.minimumFractionDigits,l=e.shortform,s=e.shortformMaximumFractionDigits,c=e.formatStyle,u=e.uplimit,d=e.value,f=(0,n.Z)();return(0,i.jsx)(o.LC,{children:function(e){return f(e.locale||"en-US",d,{currency:t,maximum_fraction_digits:r,minimum_fraction_digits:a,shortform:l,shortform_maximum_fraction_digits:s,style:c,uplimit:u})}})}},298361:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(202139),o=r(898781),i=r(349700);function a(){var e=(0,o.ZP)();return function(t,r){var o=new Date(t),a=new Date-o,l=Math.floor(a/n.FS),s=Math.floor(a/n.UK),c=Math.floor(a/n.F4),u=Math.floor(a/n.VL),d=Math.floor(a/n.N1),f=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', l, ' - ', ' -- '),p=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', s, ' - ', ' -- '),h=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),y=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', u, ' - ', ' -- '),m=e.ngettext('{{ years }} year ago', '{{ years }} years ago', d, ' - ', ' -- '),g=e.ngettext('{{ minutes }}m', '{{ minutes }}m', l, 'minutes ago abbreviated', 'minutes ago abbreviated'),b=e.ngettext('{{ hours }}h', '{{ hours }}h', s, 'hours ago abbreviated', 'hours ago abbreviated'),_=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),v=e.ngettext('{{ weeks }}w', '{{ weeks }}w', u, 'weeks ago abbreviated', 'weeks ago abbreviated'),x=e.ngettext('{{ years }}y', '{{ years }}y', d, 'years ago abbreviated', 'years ago abbreviated');return d>0?(0,i.nk)(r?x:m,{years:d}).join(""):u>0?(0,i.nk)(r?v:y,{weeks:u}).join(""):c>0?(0,i.nk)(r?_:h,{days:c}).join(""):s>0?(0,i.nk)(r?b:p,{hours:s}).join(""):l>0?(0,i.nk)(r?g:f,{minutes:l}).join(""):e._('Just now', ' - ', ' -- ')}}},898781:function(e,t,r){"use strict";r.d(t,{oz:function(){return i},q6:function(){return o}});var n=(0,r(425288).Z)("i18n"),o=n.Provider,i=n.Consumer,a=n.useHook;t.ZP=a},892819:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(898781),o=r(66699);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s=function(e,t){var r=t||0,n=Math.pow(10,r),o=+(r?e*n:e).toFixed(8),i=Math.floor(o),a=o-i,l=a>.49999999&&a<.50000001?i%2==0?i:i+1:Math.round(o);return r?l/n:l},c=function(e){var t=e.maximumFractionDigits,r=e.minimumFractionDigits,n=e.style,o=e.currency,i={maximumFractionDigits:t,minimumFractionDigits:r};return n?l(l({},i),{},{style:n},"currency"===n?{currency:o,currencyDisplay:"symbol"}:{}):i},u=function(e){try{0..toLocaleString([e])}catch(e){return!1}return!0},d=function(e,t){if(t){var r=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions(),n=r.minimumFractionDigits,o=r.maximumFractionDigits;if(void 0!==n&&void 0!==o)return{minimumFractionDigits:n,maximumFractionDigits:o}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function f(){var e=(0,n.ZP)();return function(t,r,n){var i=0,a=0,l=n&&n.style||void 0,f=n&&n.shortform||!1,p=n&&n.uplimit||void 0,h=n&&n.currency||void 0,y=!!p&&r>=p,m=p&&y?p:r;if("currency"===l){var g=d(t,h),b=g.minimumFractionDigits,_=g.maximumFractionDigits;i=void 0===n||void 0===n.maximum_fraction_digits?_:n.maximum_fraction_digits,a=void 0===n||void 0===n.minimum_fraction_digits?b:n.minimum_fraction_digits}else i=void 0===n||void 0===n.maximum_fraction_digits?0:n.maximum_fraction_digits,a=void 0===n||void 0===n.minimum_fraction_digits?0:n.minimum_fraction_digits;if(f&&m>999&&(i=void 0===n||void 0===n.shortform_maximum_fraction_digits?2:n.shortform_maximum_fraction_digits,a=0),i<a)return String(m);var v=m,x="",P=[{"100M":{value:1e8,localeKey:e._('', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],O=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],j=/^zh|ja|ko/.test(t);if(f&&m>999)for(var S=j?P:O,w=0;w<S.length;w+=1){var E=Object.keys(S[w])[0],A=S[w][E].value;if(m>=A){v=s(m/A*Math.pow(10,i))/Math.pow(10,i),x=S[w][E].localeKey;break}}if(null==v)return"";var I=v.toLocaleString([u(t)&&"ar-SA"!==t?t:"en-US"],c({maximumFractionDigits:i,minimumFractionDigits:a,currency:h,style:l}));return x&&x.length>0?(0,o.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:I,numberSuffix:x})+(y?"+":""):I+(y?"+":"")}}},12610:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}r.d(t,{Z3:function(){return b},LU:function(){return _},ZP:function(){return v}});var l,s=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,c={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},u={},d={background:"#FF8A8A",transform:"scale(.98)"},f=(i(l={init:function(e){return{transform:"scale(".concat(u[e]?.8:.99,")"),transition:"transform .2s ease-in-out",background:"#8E8E8E"}}},c.enter,{background:"#A0DCC8",transform:"scale(.99)"}),i(l,c.exit,d),i(l,c.stopped,d),i(l,c.paused,d),i(l,c.resumed,{background:"#0FA573",transform:"scale(.99)"}),l),p=function(){var e,t;function r(e){var t=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),i(this,"setMutationObserver",function(e){return t.mutationObserver=e,t}),i(this,"startMutationObserver",function(e){t.mutationObserver&&t.mutationObserver.observe(t.node,e)}),i(this,"stopMutationObserver",function(){t.mutationObserver&&t.mutationObserver.disconnect()}),i(this,"handleIntersectionChange",function(e){var r=e.intersectionRatio>0||e.isIntersecting;if(r&&!t.inViewport){var n=Date.now();t.startTime=n,t._debug(c.enter,{startTime:n,node:t.node}),t.enterCallbacks.forEach(function(e){return e()})}else!r&&t.inViewport&&(t._debug(c.exit,!0),t.exitCallbacks.forEach(function(e){return e(t.toJSON())}));t.inViewport=r}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}return e=[{key:"onEnterViewport",value:function(e){return this.enterCallbacks.push(e),this}},{key:"onExitViewport",value:function(e){return this.exitCallbacks.push(e),this}},{key:"setDebugId",value:function(e){return this.debugId=e,s&&Object.assign(this.node.style,f.init(e)),this}},{key:"pause",value:function(){var e=this;return this.inViewport&&(this._debug(c.paused,!0),this.exitCallbacks.forEach(function(t){return t(e.toJSON())})),this}},{key:"resume",value:function(){if(this.inViewport){var e=Date.now();this._debug(c.resumed,{startTime:e}),this.startTime=e}return this}},{key:"stop",value:function(e){var t=this;return this.inViewport&&(this._debug(c.stopped,!0),this.exitCallbacks.forEach(function(r){return r(t.toJSON(e))})),this}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e}}},{key:"toDebugJSON",value:function(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:"".concat((Date.now()-this.startTime)/1e3," seconds")}}},{key:"_debug",value:function(e,t){if(s)switch(window.console.log("\uD83D\uDCCC ".concat(e," -- ").concat(this.debugId)),!0===t&&window.console.log(this.toDebugJSON()),"object"===n(t)&&window.console.log(t),f[e]&&Object.assign(this.node.style,f[e]),e){case c.flushed:case c.paused:case c.exit:u[this.debugId]=!0}}}],o(r.prototype,e),t&&o(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function m(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==h(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}var b=!0,_=!1,v=function(){var e,t;function r(){var e=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),m(this,"_delegateChange",function(t){t.forEach(function(t){var r=e.activeImpressions.get(t.target);r&&r.handleIntersectionChange(t)})}),m(this,"_handleMutations",function(t,r){var n=e.mutationObservers.get(r);n&&n.offsetHeight<1&&n&&e.stop(n,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=_,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}return e=[{key:"setExperimentStatus",value:function(e){this.inExperiment!==e&&(this.inExperiment=e)}},{key:"stop",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.activeImpressions.get(e);n&&(n.stop(r),this.mutationObservers.delete(n.mutationObserver),n.stopMutationObserver(),this.activeImpressions.delete(e),null===(t=window.activeImpressions)||void 0===t||t.delete(e),this.observer.unobserve(e))}},{key:"start",value:function(e){var t,r=this,n=this.activeImpressions.get(e);return n||(n=new p(e),this.activeImpressions.set(e,n),null===(t=window.activeImpressions)||void 0===t||t.set(e,n),this.observer.observe(e),n.setMutationObserver(new window.MutationObserver(function(e,t){return r._handleMutations(e,t)})),this.mutationObservers.set(n.mutationObserver,e),n.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),n}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;this.paused||(Array.from(this.activeImpressions.values()).forEach(function(e){return e.pause()}),this.paused=!0,this.pausePriority!==_||(this.pausePriority=e))}},{key:"resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;(e!==_||this.pausePriority!==b)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(function(e){return e.resume()}),this.paused=!1,this.pausePriority=_)}},{key:"addObstruction",value:function(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}},{key:"removeObstruction",value:function(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}},{key:"updateObstructions",value:function(){this._calculateRootMargins()}},{key:"_calculateRootMargins",value:function(){var e=this,t=Array.from(this.topObstructions).reduce(function(e,t){var r=t.getBoundingClientRect().bottom;return r>e?r:e},0),r=window.innerHeight-Array.from(this.bottomObstructions).reduce(function(e,t){var r=t.getBoundingClientRect().top;return r<e?r:e},window.innerHeight);if(t!==this.topHeight||r!==this.bottomHeight){var n={rootMargin:"".concat(-t,"px 0px ").concat(-r,"px")};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,n),Array.from(this.activeImpressions.values()).forEach(function(t){return e.observer.observe(t.node)}),this.topHeight=t,this.bottomHeight=r}}}],y(r.prototype,e),t&&y(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}()},124580:function(e,t,r){"use strict";var n=r(12610);t.Z=new n.ZP},65189:function(e,t,r){"use strict";function n(e,t){var r=e.split("@")[0],n="";return(n=(n=r.includes(".")?r.replace("."," "):r.includes("_")?r.replace("_"," "):r).replace(/[0-9]/g,""),"GB"===t)?"User_"+n.split("").sort(function(){return .5-Math.random()}).join(""):n.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}r.d(t,{Z:function(){return n}})},349700:function(e,t,r){"use strict";r.d(t,{Wc:function(){return s},bF:function(){return u},nk:function(){return l},r7:function(){return d}});var n=r(76911),o=r(515198);function i(e,t,r){return e.split(r).map(function(e){if(e.match(r)){var n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e})}var a=/(\{\{\s*\w+\s*\}\})/g;function l(e,t){return i(e,t,a)}function s(e,t){return i(e,t,a).join("")}var c=/(\{\s*\w+\s*\})/g;function u(e,t){return i(e,t,c)}var d=function(e){var t=e.text;return Array.isArray(t)?t.map(function(e,t){return(0,o.jsx)(n.Fragment,{children:e},t)}):t}},926275:function(e,t,r){"use strict";function n(e){if(!e)return!1;var t=new Date(e);return t.setDate(t.getDate()+28),new Date().getTime()<t.getTime()}r.d(t,{Z:function(){return n}})},844753:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return"object"===n(e)&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}r.d(t,{Z:function(){return o}})},755742:function(e,t){"use strict";t.Z={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},326216:function(e,t,r){"use strict";function n(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var r,n,o=[];for(r=0;r<=t.length;r+=1)o[r]=[r];for(n=0;n<=e.length;n+=1)o[0][n]=n;for(r=1;r<=t.length;r+=1)for(n=1;n<=e.length;n+=1)t.charAt(r-1)===e.charAt(n-1)?o[r][n]=o[r-1][n-1]:o[r][n]=Math.min(o[r-1][n-1]+1,Math.min(o[r][n-1]+1,o[r-1][n]+1));return o[t.length][e.length]}r.d(t,{Z:function(){return n}})},713930:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(67347);function o(e,t){return new Promise(function(r,o){if(document.querySelector('script[src="'.concat(e,'"]'))){var i=0;if("FACEBOOK"===t){if(window.FB)r();else var a=setInterval(function(){window.FB||20===i?(clearInterval(a),r()):(i+=1,(0,n.nP)("mweb.loadScript.facebook.tries_".concat(i),{sampleRate:.01}))},100)}else if("GSI"===t){if(window.google)r();else var l=setInterval(function(){window.google||20===i?(clearInterval(l),r()):(i+=1,(0,n.nP)("mweb.loadScript.gsi.tries_".concat(i),{sampleRate:.01}))},100)}else r()}else{var s=document.createElement("script");s.src=e,s.async=!0,s.addEventListener("load",function(){return r()}),s.addEventListener("error",o),document.getElementsByTagName("head")[0].appendChild(s)}})}},539278:function(e,t,r){"use strict";r.d(t,{Di:function(){return f},Jl:function(){return c},R:function(){return u},ZP:function(){return g},aU:function(){return p},j2:function(){return d},pN:function(){return h},rL:function(){return b},vW:function(){return m}});var n=r(908390),o=r(356997),i=r(499128),a=r(349700),l=r(826067),s=r(515198),c=7e3,u="permanent_account_closure",d="account_deletion_email_sent",f="account_deactivated",p="unlink_successful",h="account_switch_to_settings";function y(e,t,r){return(0,s.jsx)(n.xv,{align:r||"center",children:(0,a.nk)(e,{username:(0,s.jsx)(n.xv,{inline:!0,weight:"bold",children:t})})})}function m(e){var t=e.i18n,r=e.message,n=e.multipleAccounts,o=e.username,i=void 0===o?"":o;switch(r){case u:return t._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case d:if(n)return y(t._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'),i);return y(t._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),i);case f:return y(n?t._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):t._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),i);case p:return y(t._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),i,"start");case h:return y(t._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),i,"start");default:return""}}function g(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!(t&&t.search))return"";var n=(0,l.mB)(t.search).message,o=(0,l.mB)(t.search).username||r;return m({i18n:e,message:n,multipleAccounts:"true"===(0,l.mB)(t.search).multiple_accounts,username:o})}function b(e){var t=e.showOneToast,r=e.i18n,n=e.location,a=e.history,u=e.username,d=e.fullName,f=e.avatarUrl;if(n&&n.search){var y=g(r,n,u||""),m=(0,l.mB)(n.search).message,b=m===h||m===p;y&&(t(function(e){var t=e.hideToast;return(0,s.jsx)(i.ZP,{duration:c,onHide:t,text:y,thumbnail:b?{avatar:(0,s.jsx)(o.qE,{name:d||"",size:"md",src:f||""})}:void 0})}),a.replace(n.hash?"".concat(n.pathname).concat(n.hash):n.pathname))}}},379913:function(e,t,r){"use strict";var n=r(407159),o=r(884732);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){var n;return(n=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===i(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){var t,r={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return(r.fullName&&r.imageMediumUrl&&r.imageLargeUrl||(0,n.Z)("utils.incomplete_user_values"),null!==(t=e.partner)&&void 0!==t&&t.is_create)?l(l({},r),{},{partner:{is_create:!0}}):r};t.Z=function(e,t,r){(0,o.r8)(l(l({},(0,o.rl)()),{},s({},e.id,c(e)))),t&&r&&(0,n.Z)("new_account_add_success",{method:t,user_added:e.id},r)}},407159:function(e,t,r){"use strict";var n=r(353356),o=r(884732),i=r(867820);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var c="web_account_switcher",u=function(){var e=(0,n.Z)();return(0,i.tj)("".concat(c,".utils.group_created"),{group_id:e,group_count:(0,o.lv)()}),e};t.Z=function(e,t,r){var n=(0,o.yW)();n||(n=u(),(0,o.M3)(n));var a={group_count:(0,o.lv)()},l="";r&&(l="account_switcher_modal"===r?"modal.":"flyout."),(0,i.tj)("".concat(c,".").concat(l).concat(e),s(s({},t),a))}},249647:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(844753);function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(t,r){return e(r)};return function(e){return(function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(o){if(!(0,n.Z)(o))return r&&Array.isArray(o)?o.map(e(t,r)):o;var i={};return Object.keys(o).forEach(function(a){var l=t(o[a],a);(0,n.Z)(o[a])||r&&Array.isArray(o[a])?i[l]=e(t,r)(o[a]):i[l]=o[a]}),i}})(r,t)(e)}}},767546:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return function e(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},l=a(t,r);return void 0!==l?l:void 0===r?t:Array.isArray(t)&&Array.isArray(r)?r.reduce(function(t,n,o){return t[o]=e(t[o],r[o],a),t},function(e){if(Array.isArray(e))return i(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t&&"object"===o(t)&&r&&"object"===o(r)?Object.keys(r).reduce(function(t,n){return t[n]=e(t[n],r[n],a),t},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t)):r}}})},170528:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function a(e,t){if(!Array.isArray(t))return e[t],function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,[t].map(i));var r=new Set(t.flat());return Object.fromEntries(Object.entries(e).filter(function(e){var t=(function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,1)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}}(e,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return!r.has(t)}))}r.d(t,{Z:function(){return a}})},567450:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function o(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}var a=new(function(){var e,t;function r(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),o(this,"onResumeListeners",[]),o(this,"onPauseListeners",[]),o(this,"inExp",!1),o(this,"windowInFocus",!0)}return e=[{key:"setExperiment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.inExp=e}},{key:"onSessionResume",value:function(e){return this.onResumeListeners.push(e),this}},{key:"onSessionPause",value:function(e){return this.onPauseListeners.push(e),this}},{key:"removeResumeListener",value:function(e){this.onResumeListeners.filter(function(t){return t!==e})}},{key:"removePauseListener",value:function(e){this.onPauseListeners=this.onPauseListeners.filter(function(t){return t!==e})}},{key:"getAppState",value:function(){return this.windowInFocus?0:void 0}}],n(r.prototype,e),t&&n(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}()),l=function(e){if(e.isHidden){var t=e.reason;a.windowInFocus=!1,a.onPauseListeners.forEach(function(e){return e(t)})}else a.windowInFocus=!0,a.onResumeListeners.forEach(function(e){return e()})};setTimeout(function(){window.addEventListener("beforeunload",function(){return l({isHidden:!0,reason:"beforeunload"})}),window.addEventListener("focus",function(){return l({isHidden:!1})}),window.addEventListener("blur",function(){return l({isHidden:!0,reason:"blur"})}),window.addEventListener("pageshow",function(){return l({isHidden:!1})}),window.addEventListener("pagehide",function(){return l({isHidden:!0,reason:"pagehide"})}),void 0!==document.hidden?document.addEventListener("visibilitychange",function(){return l(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})},!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",function(){return l(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})},!1)},0),t.Z=a},248975:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){var o;return(o=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===n(o)?o:String(o))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=e.embedSrc,r=e.embedType,n=e.imagesUrls,o=e.preferredResolution,l=e.excludeOriginals;if(!t&&!r&&!n)return"";if("gif"===r)return t||"";if(!n)return"";if(o){var s="474x"===o&&n["474x"]||"236x"===o&&n["236x"]||n["736x"];if(s)return s}var c=Object.keys(n).reduce(function(e,t){try{var r=t.split("x")[0];if(Number.isNaN(Number(r)))return i(i({},e),{},a({},t,n[t]));return i(i({},e),{},a({},r,n[t]))}catch(t){return e}},{}),u=Object.keys(c);return l&&"orig"===u[u.length-1]&&u.pop(),c[u.pop()]||""}r.d(t,{Z:function(){return l}})},373695:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}r.d(t,{Z:function(){return d}});var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(f,e);var t,r,u,d=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=s(f);if(t){var o=s(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return l(e)}(this,e)});function f(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f),c(l(t=d.call(this,e)),"onImageLoad",function(e){t.mounted&&("number"==typeof e.width&&"number"==typeof e.height&&e.width>119&&e.height>119?t.setState(function(t){var r;return{loadedItems:[].concat(function(e){if(Array.isArray(e))return o(e)}(r=t.loadedItems)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}}(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e])}}):t.setState(function(e){return{errors:e.errors+1}}))}),c(l(t),"onImageError",function(){t.mounted&&t.setState(function(e){return{errors:e.errors+1}})}),c(l(t),"mounted",!1),c(l(t),"loadImages",function(e){var r=new Image;r.onload=function(){return t.onImageLoad({height:r.naturalHeight,url:e,width:r.naturalWidth})},r.onerror=function(){return t.onImageError()},r.src=e}),t.state={errors:0,loadedItems:[]},t}return r=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.props.url;this.loadImages(e||"")}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return(0,this.props.children)({image:this.state.loadedItems})}}],i(f.prototype,r),u&&i(f,u),Object.defineProperty(f,"prototype",{writable:!1}),f}(r(76911).Component)},122097:function(e,t,r){"use strict";r.d(t,{Z:function(){return b}});var n=r(76911),o=r(898781),i=r(54574),a=r(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){y(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=h(i);if(t){var n=h(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function i(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i),y(p(t=o.call(this,e)),"onImageLoad",function(e){t.mounted&&("number"==typeof e.width&&"number"==typeof e.height&&e.width>119&&e.height>119?t.setState(function(t){var r;return{loadedItems:[].concat(function(e){if(Array.isArray(e))return u(e)}(r=t.loadedItems)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e])}}):t.setState(function(e){return{errors:e.errors+1}}))}),y(p(t),"onImageError",function(){t.mounted&&t.setState(function(e){return{errors:e.errors+1}})}),y(p(t),"mounted",!1),y(p(t),"loadImages",function(e){e.forEach(function(e){var r=new Image;r.onload=function(){return t.onImageLoad({height:r.naturalHeight,url:e.url,width:r.naturalWidth})},r.onerror=function(){return t.onImageError()},r.src=e.url})}),t.state={errors:0,loadedItems:[]},t}return r=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=(this.props.images.data||{}).items;this.loadImages(e||[])}},{key:"componentDidUpdate",value:function(e){var t=e.images,r=t.data,n=t.error,o=e.url,i=this.props,a=i.onError,l=i.images,s=l.isLoaded,c=l.data,u=l.error,d=i.url;if(!n&&u&&a&&a(),o!==d&&this.setState({loadedItems:[]}),s&&c){var f=(r||{}).items,p=((c||{}).items||[]).slice((f||[]).length);this.loadImages(p)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.images,n=r.data,o=r.error,i=r.isLoaded,a=e.url,l=n||{},s=l.items,c=l.title,u=this.state,d=u.errors,f=u.loadedItems,p=o?o.message_detail||o.message:this.props.i18n._('No images found. Check your URL and try again.', 'No images are found at the URL submitted', 'No images are found at the URL submitted'),h=i&&0===f.length&&d===(s||[]).length&&a?p:void 0;return h&&a.includes("?")&&(h=this.props.i18n._('No images found. Remove any tracking parameters in this URL to try again.', 'No images are found at the URL submitted. The url may contain tracking parameters', 'No images are found at the URL submitted. The url may contain tracking parameters')),t({loading:!i||0===f.length&&d!==(s||[]).length,title:c,error:h,images:f})}}],d(i.prototype,r),n&&d(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function b(e){var t=(0,o.ZP)(),r=(0,i.Z)({url:e.url,source:e.source});return(0,a.jsx)(g,c(c({},e),{},{i18n:t,images:r}))}},54574:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(784590);function o(e){var t=e.url,r=e.source;return(0,n.Z)({name:"FindPinImagesResource",options:{url:t,source:r||"pin_create",appendItems:!1,followRedirects:!0,scrapeMetric:"www_url_scrape"}})}},299295:function(e,t,r){"use strict";r.d(t,{$4:function(){return T},AQ:function(){return W},Bj:function(){return b},DB:function(){return Y},FH:function(){return es},FM:function(){return Q},G9:function(){return M},GX:function(){return m},Hy:function(){return ed},JO:function(){return k},Ke:function(){return D},LM:function(){return o},Lc:function(){return ep},Lr:function(){return eu},MN:function(){return v},Mn:function(){return ee},N8:function(){return g},NB:function(){return er},P0:function(){return en},P9:function(){return el},Pn:function(){return x},S:function(){return R},TK:function(){return O},TZ:function(){return A},UU:function(){return d},Uw:function(){return $},W_:function(){return ec},XB:function(){return s},Xy:function(){return I},YM:function(){return j},aD:function(){return eh},aj:function(){return U},bA:function(){return L},bo:function(){return c},cH:function(){return eb},dS:function(){return w},eZ:function(){return h},fk:function(){return ei},g1:function(){return ef},gU:function(){return u},hH:function(){return F},i2:function(){return f},iR:function(){return N},jh:function(){return ey},km:function(){return p},lx:function(){return z},mr:function(){return X},mt:function(){return G},n_:function(){return Z},np:function(){return V},of:function(){return n},q:function(){return eg},qY:function(){return S},qm:function(){return ea},rc:function(){return J},ro:function(){return em},sD:function(){return a},sG:function(){return y},u1:function(){return K},uR:function(){return l},v5:function(){return i},v9:function(){return q},vk:function(){return et},wj:function(){return P},x1:function(){return B},yC:function(){return _},yI:function(){return C},yX:function(){return E},yb:function(){return H},zr:function(){return eo}});var n=880,o=340,i=380,a=510,l=40,s=20,c=4,u=474,d=134,f=96,p=800,h=186,y=40,m=10,g=48,b=88,_=183,v=130,x=24,P=400,O=50,j=8,S=8,w=5,E=20,A=29,I=5,C=20,T=400,D=100,k=500,R=800,z=500,L=40,M=100,N=5,B=["attempted","publishing","succeeded","uploading"],F={carousel:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],single:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],story:[{w:9,h:16}],storyFARPortrait:[{w:1,h:2},{w:9,h:16},{w:2,h:3},{w:3,h:4},{w:4,h:5},{w:1,h:1}],storyFARLandscape:[{w:2,h:1},{w:16,h:9},{w:3,h:2},{w:4,h:3},{w:5,h:4},{w:1,h:1}]},Z=["tl","tc","tr","bl","bc","br"],U=["left","center"],H=["top","center","bottom"],V=["none","uppercase"],G=["sm","md","lg"],W=[1,.75],Y=198,X=132,q=1,K=56,$=240,J="cubic-bezier(0.66, 0.025, 0.33, 0.975)",Q=1e3,ee=1500,et=2,er=3,en=20,eo=20,ei=2,ea=["processing","publishing","saving"],el=60.5,es=120.5,ec=1,eu=209715200,ed=2500,ef=3,ep="pin-builder-default-education-id",eh="pin-builder-default-tour-id",ey="pin-builder-editing-tour-id",em="save_from_url",eg=["processing","edited","creating","saving","saved"],eb=2048},66743:function(e,t,r){"use strict";r.d(t,{NC:function(){return i},Rc:function(){return l},WK:function(){return c},X9:function(){return o},b9:function(){return n},f9:function(){return s},gu:function(){return a}});var n="pin-builder-font-faces",o="system-font-faces",i="pin-builder-education-font-faces",a="licensed",l="system",s="brand",c=4},665866:function(e,t,r){"use strict";var n=r(826067);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}var s={carousel:{authOnly:!0,partnerOnly:!0,orbacExperiment:"web_m10n_business_access_orbac_www"},disabledIdeaPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_idea_pins|disable_video)/,authOnly:!0,partnerOnly:!1},disabledPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_web_pins)/,authOnly:!0,partnerOnly:!1},disabledVideoPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_video)/,authOnly:!0,partnerOnly:!1},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},offsitePinCreation:{scenarios:["offsite_pin_creation"]},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},requireLink:{scenarios:["ad_creation"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"]},offsite_pin_creation_multi_select:{authOnly:!0,partnerOnly:!1,experiment:"web_offsite_pin_creation_multi_select",groups:/^(enabled|employees|enabled_redirect_to_hf)/,scenarios:["offsite_pin_creation"]},ideaPinExtendVideoLength:{authOnly:!0,partnerOnly:!1,experiment:"web_idea_pin_extend_video_duration",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},ideaPinExtendVideoLengthAboveTwoMin:{authOnly:!0,partnerOnly:!1,experiment:"web_idea_pin_extend_video_duration_above_two_min",groups:/^(employees_min|enabled_min)/,scenarios:["story_pin_v2"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"],orbacExperiment:"web_m10n_business_access_orbac_www"},shop_the_pin:{authOnly:!0,partnerOnly:!0,orbacExperiment:"web_m10n_business_access_orbac_www"},storyPinCommentsPermissions:{authOnly:!0,partnerOnly:!1,groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacExperiment:"web_m10n_business_access_orbac_www"},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/,orbacExperiment:"web_m10n_business_access_orbac_www"},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},video:{customEnabledCheck:function(e){var t=e.user;return!!(null!=t&&t.video_upload_allowed)},authOnly:!0,hasCustomEnabledCheck:function(){return!0},orbacExperiment:"web_m10n_business_access_orbac_www"},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/,orbacDisabled:!0},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"],orbacExperiment:"web_m10n_business_access_orbac_www"},pinQuality:{partnerOnly:!0},ideaPinCreationListsDeprecation:{authOnly:!0,experiment:"web_idea_pin_creation_lists_dep",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},ideaPinInstantImagePublish:{authOnly:!0,experiment:"web_snc_instant_image_publishing",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},ideaPinPrepopulateLastPublishedBoard:{authOnly:!0,experiment:"web_px_idea_pin_create_prepopulates_last_published_board",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},ideaPinCreationWithoutThinking:{authOnly:!0,experiment:"web_snc_pin_creation_without_thinking",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},ideaPinProductTagging:{authOnly:!0,experiment:"web_idea_pin_product_tagging",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]}},c=new(function(){var e,t;function r(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),a(this,"_experiments",null),a(this,"_viewer",null),a(this,"_advertiser",null),a(this,"_scenario",null),a(this,"_language",null),a(this,"_context",null),a(this,"_orbacActingAs",null)}return e=[{key:"initialize",value:function(e){var t=e.requestContext,r=e.viewer,o=e.location,i=e.advertiser,a=e.scenario,l=e.orbacActingAs;this._context=e,this._experiments=t.experimentsClient,this._language=t.language,this._viewer=r,this._advertiser=i,this._orbacActingAs=l;var s=(0,n.mB)(o.search).adCreate;a?this._scenario=a:s?this._scenario="ad_creation":this._scenario="default"}},{key:"scenario",value:function(){return this._scenario}},{key:"enabled",value:function(e){if(!this._viewer||!this._experiments)return!1;var t,r,n=s[e],o=n.advertisers,i=n.authOnly,a=n.customEnabledCheck,l=n.experiment,c=n.groups,u=n.hasCustomEnabledCheck,d=n.languages,f=n.orbacDisabled,p=n.orbacExperiment,h=n.partnerOnly,y=n.scenarios,m=n.skipActivation;if(null!==(t=this._orbacActingAs)&&void 0!==t&&t.id&&this._orbacActingAs.id!==this._viewer.id&&(f||p&&"enabled"!==this._experiments.checkExperiment(p).group))return!1;if(u&&a&&this._context&&u(this._context))return!!this._context&&a(this._context);if(m&&this._experiments){var g=this._experiments.checkExperiment;return!!l&&g(l,{dangerouslySkipActivation:!0}).anyEnabled}return!!o&&!!this._advertiser&&null!==this._advertiser.billing_type||(!this._viewer||!i||!!this._viewer.isAuth)&&(!this._viewer||!h||!!this._viewer.isPartner)&&(!y||!!y.includes(this._scenario))&&(!d||!!d.includes(this._language))&&(!l||(void 0===c?/.*/:c).test((null===(r=this._experiments)||void 0===r?void 0:r.checkExperiment(l).group)||""))}},{key:"getExperimentGroup",value:function(e){if(!this._viewer||!this._experiments)return null;var t=s[e].experiment;return t?this._experiments.checkExperiment(t).group:null}}],i(r.prototype,e),t&&i(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}());t.Z=c},309256:function(e,t,r){"use strict";r.d(t,{$D:function(){return u},CP:function(){return c},KV:function(){return d},Wt:function(){return l},a2:function(){return p},bs:function(){return h},j1:function(){return s},vK:function(){return f}});var n=r(173159),o=r(66743);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=[{fontGroup:o.gu,fontFamily:"A-FRAME",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!0},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://s.pinimg.com/font/Graphik XCond-Black.otf"}]},{fontGroup:o.gu,fontFamily:"Cross-stitch",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},styles:[{name:"Black",fontStyle:"normal",fontWeight:"normal",fontUrl:"https://s.pinimg.com/font/Produkt-Medium.otf"}]},{fontGroup:o.gu,fontFamily:"Lagoon",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://s.pinimg.com/font/Gabriello-Black.otf"}]},{fontGroup:o.gu,fontFamily:"Lava lamp",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://s.pinimg.com/font/Publico Banner-Ultra Italic.otf"}]},{fontGroup:o.gu,fontFamily:"Marathon",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://s.pinimg.com/font/Produkt-Super Italic.otf"}]},{fontGroup:o.gu,fontFamily:"Sourdough",defaultStyle:0,format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},styles:[{name:"Black",fontStyle:"",fontWeight:"normal",fontUrl:"https://s.pinimg.com/font/Publico Banner-Bold.otf"}]},{fontGroup:o.gu,fontFamily:"Superglue",format:"truetype",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},defaultStyle:0,styles:[{name:"Bold Italic",fontStyle:"",fontWeight:"normal",fontUrl:"https://s.pinimg.com/font/Graphik-Bold+Italic.otf"}]},{fontGroup:o.Rc,fontFamily:"Merriweather",fontFaceUrl:"https://fonts.googleapis.com/css?family=Merriweather:700",fontOverrides:{letterSpacing:0,lineHeight:1.2,textTransform:!1},defaultStyle:0,styles:[{name:"Bold Italic",fontStyle:"italic",fontWeight:"700"}]},{fontGroup:o.gu,fontFamily:"Noto Serif SC",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif+SC:400&display=swap&subset=chinese-simplified",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"zh-CN"},{fontGroup:o.gu,fontFamily:"Noto Sans SC",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans+SC:400&display=swap&subset=chinese-simplified",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"zh-CN"},{fontGroup:o.gu,fontFamily:"Noto Serif TC",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif+TC:400&display=swap&subset=chinese-traditional",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"zh-TW"},{fontGroup:o.gu,fontFamily:"Noto Sans TC",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans+TC:400&display=swap&subset=chinese-traditional",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"zh-TW"},{fontGroup:o.gu,fontFamily:"Noto Serif KR",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif+KR:400&display=swap&subset=korean",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"ko-KR"},{fontGroup:o.gu,fontFamily:"Noto Sans KR",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans+KR:400&display=swap&subset=korean",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"ko-KR"},{fontGroup:o.gu,fontFamily:"Noto Serif JP",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif+JP:400&display=swap&subset=japanese",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"ja"},{fontGroup:o.gu,fontFamily:"Noto Sans JP",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans+JP:400&display=swap&subset=japanese",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"ja"},{fontGroup:o.gu,fontFamily:"Noto Serif",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Serif:400&display=swap",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"hi-IN"},{fontGroup:o.gu,fontFamily:"Noto Sans",fontFaceUrl:"https://fonts.googleapis.com/css?family=Noto+Sans:400&display=swap",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}],localeFilter:"hi-IN"},{fontGroup:o.Rc,fontFamily:"Playfair Display",fontFaceUrl:"https://fonts.googleapis.com/css?family=Playfair+Display:400",fontOverrides:{letterSpacing:0,lineHeight:1.2,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}]},{fontGroup:o.Rc,fontFamily:"Raleway",fontFaceUrl:"https://fonts.googleapis.com/css?family=Raleway:900",fontOverrides:{letterSpacing:0,lineHeight:1.2,textTransform:!1},defaultStyle:0,styles:[{name:"Black",fontStyle:"",fontWeight:"900"}]},{fontGroup:o.Rc,fontFamily:"Roboto Condensed",fontFaceUrl:"https://fonts.googleapis.com/css?family=Roboto+Condensed:700i",fontOverrides:{letterSpacing:0,lineHeight:1.2,textTransform:!1},defaultStyle:0,styles:[{name:"Bold Italic",fontStyle:"italic",fontWeight:"700"}]},{fontGroup:o.Rc,fontFamily:"Suez One",fontFaceUrl:"https://fonts.googleapis.com/css?family=Suez+One&display=swap",fontOverrides:{letterSpacing:0,lineHeight:.9,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}]},{fontGroup:o.Rc,fontFamily:"Domine",fontFaceUrl:"https://fonts.googleapis.com/css?family=Domine&display=swap",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}]},{fontGroup:o.Rc,fontFamily:"Overlock",fontFaceUrl:"https://fonts.googleapis.com/css?family=Overlock:900i&display=swap",fontOverrides:{letterSpacing:-1,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Black Italic",fontStyle:"",fontWeight:"400"}]},{fontGroup:o.Rc,fontFamily:"Satisfy",fontFaceUrl:"https://fonts.googleapis.com/css?family=Satisfy&display=swap",fontOverrides:{letterSpacing:0,lineHeight:1,textTransform:!1},defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"400"}]}];function s(){return l}function c(e,t,r){var n=e.styles.find(function(e){return e.fontStyle===t&&e.fontWeight===r});return n?n.name:""}function u(e,t){return e.reduce(function(e,t){return[].concat(i(e),i(t.fonts))},[]).find(function(e){return e.fontFamily===t})||null}function d(e){return(0,n.Z)(e,o.b9)}function f(){return(0,n.Z)(l,o.X9)}function p(){return(0,n.Z)([l[o.WK]],o.NC)}function h(e){var t=function(e){if(e){var t=l.findIndex(function(t){return t.localeFilter===e});if(t>=0)return l[t]}return l[6]}(e),r=t.defaultStyle,n=t.styles[r],i=t.fontFamily,a=t.fontOverrides,s=a&&a.textTransform?1:0,c=a&&a.lineHeight||1.2,u=a&&a.letterSpacing||0;return{fontGroupName:o.gu,fontFamilyName:null!=i?i:"",fontStyleName:n.name,fontWeight:n.fontWeight,fontSize:50,textColor:"#FFFFFF",marginIndex:1,alignmentIndex:1,positionIndex:2,backgroundColor:"",backgroundTransparencyIndex:0,lineHeight:c,letterSpacing:u,transformIndex:s,showMoreOptions:!1}}},984244:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(299295);function o(e){return n.hH[e]}},795067:function(e,t,r){"use strict";function n(e){var t=e.lastIndexOf("."),r=e.toLocaleLowerCase();return r.substr(t).includes("gif")||r.startsWith("data:image/gif")}function o(e){if("localVideo"===e.type)return"localVideo";if("localImage"===e.type)return"image/gif"===(e.fileSrc&&e.fileSrc.type)?"gif":null;if("webImage"===e.type)return n(e.src)?"gif":null;if("dropboxFile"===e.type)return n(e.name)?"gif":null;if("pin"===e.type){var t=e.images;if(e.videos)return"localVideo";if(null!=t&&t.orig&&t.orig.url&&n(t.orig.url))return"gif"}return null}r.d(t,{Z:function(){return o}})},616672:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(299295);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.LM,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(t-2*r)/e.width*e.height+2*r}},388628:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(299295);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=e/t,i=n.hH.carousel,a=i.length,l=i[0],s=i[a-1];if(r<=s.w/s.h)return{w:e,h:t};var c=i.reduce(function(e,t,n){var i=t.w/t.h,a=o(e,2),l=a[0],s=a[1],c=Math.abs(i-r);return s&&s<c?[l,s]:[t,c]},[null,null]),u=o(c,1)[0];return{w:t*(u?u.w/u.h:l.w/l.h),h:t}}},573545:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(540794);function o(e){if(e){var t=(0,n.Z)().includes("/create/")?"create_flow":"standalone";return"partner_upload_".concat(t)}return"pinner_upload_standalone"}},47615:function(e,t,r){"use strict";r.d(t,{PG:function(){return o},Sl:function(){return i},rt:function(){return l}});var n=r(299295);function o(e){return e.width>=n.FM&&e.height>=n.Mn}function i(e){return!!e&&("localImage"===e.type||"webImage"===e.type||"assetImage"===e.type)}var a={STATIC:["TRAFFIC","CONSIDERATION","AWARENESS","WEB_CONVERSION","WEB_SESSIONS"],CAROUSEL:["TRAFFIC","CONSIDERATION","AWARENESS","WEB_CONVERSION","WEB_SESSIONS"],VIDEO:["TRAFFIC","CONSIDERATION","AWARENESS","WEB_CONVERSION","VIDEO_VIEW","WEB_SESSIONS","VIDEO_COMPLETION"],COLLECTIONS:["TRAFFIC","CONSIDERATION","AWARENESS","WEB_CONVERSION","WEB_SESSIONS"]};function l(e,t){return!!e&&!!t&&(a[e]||[]).includes(t)}},454074:function(e,t,r){"use strict";function n(e){var t=[];return e.items?Array.from(e.items).forEach(function(e){if("file"===e.kind){var r=e.getAsFile();r&&t.push(r)}}):t.concat(Array.from(e.files)),t}r.d(t,{Z:function(){return n}})},724565:function(e,t,r){"use strict";r.d(t,{SD:function(){return i},TA:function(){return o},to:function(){return n}});var n=function(e){var t=Math.floor(100*e||0),r=Math.floor(t/6e3),n=Math.floor((t-6e3*r)/100),o=t-6e3*r-100*n,i=n<10?"0".concat(n):n,a=o<10?"0".concat(o):o;return"".concat(r<10?"0".concat(r):r,":").concat(i,":").concat(a)},o=function(e){var t=n(e);return"00:".concat(t.substring(0,5),":00")},i=function(e){var t=e.split(":"),r=0;return 3===t.length&&(r+=(isNaN(t[0])?0:60*+t[0])+(isNaN(t[1])?0:+t[1])+(isNaN(t[2])?0:+t[2]/100)),r}},840839:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(385740);function o(e,t){var r=(0,n.BE)();e({event_type:13,view_type:212}),e(t),e({event_type:13,view_type:null==r?void 0:r.viewType,view_parameter:null==r?void 0:r.viewParameter,view_data:null==r?void 0:r.viewData})}},113110:function(e,t,r){"use strict";var n=r(76911),o=r(773285);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.Z=function(){var e,t=(0,(0,o.F)().checkExperiment)("web_set_crossorigin_anonymous").anyEnabled,r=function(e){if(Array.isArray(e))return e}(e=(0,n.useState)(t))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=r[0],l=r[1];return{enabled:a,disable:function(){return l(!1)}}}},283943:function(e,t,r){"use strict";r.d(t,{aU:function(){return l},hq:function(){return a},o_:function(){return o}});var n=(0,r(425288).Z)("AuthenticationContext"),o=n.Provider,i=n.useHook;function a(){return i().loginContext}function l(){return i().logout}},336882:function(e,t){"use strict";t.Z={STARTED:1,FINISHED:2}},177471:function(e,t,r){"use strict";r.d(t,{k:function(){return k}});var n=r(76911),o=r(506979),i=r(214494),a=r(186656),l=["etsy","facebook","microsoft","twitter","google","instagram","youtube","dropbox"],s=function(e,t,r){var n;switch(e){case"facebook":var o=r.facebookToken;n=t?{facebook_id:t.id,facebook_token:o}:Object.freeze({});break;case"gplus":n=t?{one_time_code:t.one_time_code,redirect_uri:t.redirect_uri||void 0}:Object.freeze({});break;case"line":n=t?{line_id_token:t.line_id_token,line_access_token:t.line_access_token}:Object.freeze({});break;default:n=Object.freeze({})}return n},c=r(124237),u=r(402201),d=r(572752),f=r(553171),p=r(83969),h=r(966113),y=r(867820);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}function x(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function P(){var e;return e=regeneratorRuntime.mark(function e(t,r){var n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Px)(void 0,r||void 0);case 2:(i=null===(n=window.google)||void 0===n?void 0:null===(o=n.accounts)||void 0===o?void 0:o.oauth2)&&i.initCodeClient({client_id:h.v3o,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",ux_mode:"popup",callback:t}).requestCode();case 4:case"end":return e.stop()}},e)}),(P=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){x(i,n,o,a,l,"next",e)}function l(e){x(i,n,o,a,l,"throw",e)}a(void 0)})}).apply(this,arguments)}var O=Object.freeze({}),j=function(e){var t=e.network;if(O[t]){var r=O,n=r[t],o=n.error,i=n.success,a=n.complete;O=b({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,[t].map(v))),"error"===e.type?null==o||o(Object.freeze({message:"Please do not close the window when claiming your account!"})):i("facebook"===e.network?{id:e.profile.id}:{one_time_code:e.one_time_code,redirect_uri:e.redirect_uri}),null==a||a()}},S=function(e){switch(e){case"dropbox":return"width=600,height=800";case"instagram":return(0,u.Z)({width:580,height:580});case"etsy":return(0,u.Z)({width:580,height:775});case"youtube":return(0,u.Z)({width:605,height:640});default:return(0,u.Z)()}},w=function(e){var t=e.i18n,r=e.network,n=e.callbacks,o=e.requestContext;if(n=b({error:function(){},complete:function(){}},n),(0,y.My)("auth_web.social_connect.".concat(r,".").concat((0,d.Z)(o))),"gplus"===r||"google"===r)(0,y.My)("auth_web.social_connect.google.migration"),function(e,t){P.apply(this,arguments)}(function(e){n.success({one_time_code:e.code,redirect_uri:"postmessage"})},o.language);else if("line"===r){var i=o.locale;(0,f.Z)(i,n)}else{if(!window.open("/connect/"+r+"/","",S(r))){c.Z.showError(t._('You must enable popups!', ' - ', ' -- ')),n.error&&n.error(Object.freeze({}));return}O=b(b({},O),{},_({},r,n))}};window.addEventListener("message",function(e){var t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(e.origin===t){var r=e.data;if(r&&"social-connect-complete"===r.type){var n=e.data;n.network&&j(n)}}});var E=r(780280),A=r(414327),I=r(19121);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==C(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}(n.key),n)}}var D=function(){var e,t;function r(e){var t=e.invalidateResource,n=e.requestContext,o=e.viewer;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.getUserId=function(){return o.isAuth?o.id:""},this.getUsername=function(){return o.isAuth?o.username:""},this.isLimitedLogin=function(){return o.isLimitedLogin},this.invalidateResource=t,this.requestContext=n}return e=[{key:"handleConnect",value:function(e,t,r,n){var o=this,c=function(t){("connect"===t.type?function(e){var t=e.network,r=e.data,n=e.requestContext;if(l.includes(t))return i.Z.create("UserSocialNetworkResource",{network:t,data:r}).callCreate();var o="/v3/connect/".concat(t,"/"),c=s(t,r,n);return(0,a.Z)({url:o,method:"PUT",data:c})}({network:e,data:t.data,requestContext:o.requestContext}):(0,a.Z)({url:"/v3/connect/".concat(e,"/"),method:"DELETE"})).then(function(e){var t,n={user_id:o.getUserId(),username:o.getUsername(),field_set_key:"social_connect"};o.invalidateResource("UserResource",n),i.Z.create("UserResource",n).callGet(),null===(t=r.success)||void 0===t||t.call(r,e)},function(e){if(e&&"object"===C(e)){var t;null===(t=r.error)||void 0===t||t.call(r,{api_error_code:e.api_error_code,code:e.code,message:e.message})}}).finally(function(){var e;null===(e=r.complete)||void 0===e||e.call(r)})};t?this.isLimitedLogin()?c({type:"connect"}):w({network:e,callbacks:{success:function(e){return c({type:"connect",data:e})},error:r.error,complete:r.complete},i18n:n,requestContext:this.requestContext}):c({type:"disconnect"})}}],T(r.prototype,e),t&&T(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();function k(){var e=(0,o.useDispatch)(),t=(0,E.B)(),r=(0,I.Z)();return(0,n.useMemo)(function(){return new D({invalidateResource:function(t,r){return e((0,A.jB)(t,r))},requestContext:t,viewer:r})},[e,t,r])}},7893:function(e,t,r){"use strict";r.d(t,{Kw:function(){return m},RD:function(){return g},dD:function(){return _}});var n,o,i=r(214494),a=r(186656),l=r(884732);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t,r){var n;return(n=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===s(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){p(i,n,o,a,l,"next",e)}function l(e){p(i,n,o,a,l,"throw",e)}a(void 0)})}}var y=["partner.biz_ownership_email","partner.business_name","partner.contact_email","partner.contact_phone","partner.contact_phone_country()","partner.enable_profile_address","partner.enable_profile_message","partner.is_linked_business","partner.profile_place()","place.country","place.extra_street","place.locality","place.postal_code","place.region","place.street","user.businesses()","user.email","user.fast_advertiser_info_has_any_managed_advertisers","user.full_name","user.id","user.image_medium_url","user.owners()","user.partner()","user.username"],m=(n=h(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.Z.create("UserSessionResource",{session_accounts:!0}).callCreate();case 2:return r=e.sent,e.abrupt("return",(null===(t=r.resource_response.data)||void 0===t?void 0:t.session_accounts)||{});case 4:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)}),g=function(e,t){var r=Object.freeze({});try{r=(0,l.rl)()}catch(r){e("".concat(t,".removeAccountDataFromLocalStorage.jsonParseFailed"))}var n=Object.keys(r);if(e("".concat(t,".removeAccountDataFromLocalStorage.start")),0===n.length||r[n[0]].logged_in){e("".concat(t,".removeAccountDataFromLocalStorage.early_return"));return}var o=n.reduce(function(e,t){return d(d({},e),{},f({},t,{logged_in:!0}))},{});(0,l.r8)(o),e("".concat(t,".removeAccountDataFromLocalStorage.updated"))},b=function e(t){var r,n,o,i;return{id:t.id,username:t.username,email:t.email,fullName:t.full_name,imageMediumUrl:t.image_medium_url,imageLargeUrl:t.image_large_url||"",owners:t.owners||null,partner:t.partner?{bizContactEmail:(null===(r=t.partner)||void 0===r?void 0:r.contact_email)||"",bizOwnershipEmail:(null===(n=t.partner)||void 0===n?void 0:n.biz_ownership_email)||t.email||"",businessName:null===(o=t.partner)||void 0===o?void 0:o.business_name,isLinkedBusiness:null===(i=t.partner)||void 0===i?void 0:i.is_linked_business}:null,businesses:((null==t?void 0:t.businesses)||[]).map(function(r){var n,o,i,a;return d(d({},e(r)),{},{partner:{bizContactEmail:(null===(n=r.partner)||void 0===n?void 0:n.contact_email)||"",bizOwnershipEmail:(null===(o=r.partner)||void 0===o?void 0:o.biz_ownership_email)||t.email||"",businessName:null===(i=r.partner)||void 0===i?void 0:i.business_name,isLinkedBusiness:null===(a=r.partner)||void 0===a?void 0:a.is_linked_business}})})}},_=(o=h(regeneratorRuntime.mark(function e(t){var r,n,o,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return(r=e.sent)[n=t.id]||(r[n]={logged_in:!0}),o=Object.keys(r||{}).map(function(e){return{uri:"v3/users/".concat(e,"/"),method:"GET",params:{fields:y.join(",")}}}),e.next=9,(0,a.Z)({url:"/v3/batch/",method:"POST",data:{requests:JSON.stringify(o)}});case 9:if(!((i=e.sent.resource_response.data)&&Object.keys(i).length>0)){e.next=15;break}return l=Object.keys(i).filter(function(e){return"success"===i[e].status}).map(function(e){return b(i[e].data)}),e.abrupt("return",function(e){var t=e.every(function(e){return!!e.fullName})?"fullName":"username";return((function(e){if(Array.isArray(e))return c(e)})(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(function(e,r){return e[t]>r[t]?1:r[t]>e[t]?-1:0})}(l));case 15:return e.abrupt("return",[]);case 16:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})},56528:function(e,t,r){"use strict";var n=r(214494);t.Z=function(e){return n.Z.create("UserPasswordResource",e).callUpdate({showError:!1})}},807998:function(e,t){"use strict";t.Z=["https://www.pinterest.info","https://www.pinterest.at","https://www.pinterest.com.au","https://www.pinterest.ca","https://www.pinterest.ch","https://www.pinterest.cl","https://www.pinterest.de","https://www.pinterest.dk","https://www.pinterest.es","https://www.pinterest.fr","https://www.pinterest.co.uk","https://www.pinterest.ie","https://www.pinterest.it","https://www.pinterest.jp","https://www.pinterest.co.kr","https://www.pinterest.com.mx","https://www.pinterest.nz","https://www.pinterest.se","https://www.pinterest.ph","https://www.pinterest.pt","https://www.pinterest.ru"]},467570:function(e,t,r){"use strict";r.d(t,{GH:function(){return c},JF:function(){return b},Jb:function(){return h},MI:function(){return m},_V:function(){return u},sl:function(){return f},we:function(){return p}});var n=r(816068),o=r(186656),i=r(713930),a=r(935879),l=r(867820);function s(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}var c="274266067164",u=function(){return["public_profile","email","user_friends"]},d=["picture.type(large)","id","first_name","last_name","email","gender"],f=function(e){e&&(0,l.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,l.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:c,status:!0,xfbml:!0,version:"v2.7"})):e?(0,l.dy)({event:"global_object_not_found",provider:"facebook"}):(0,l.My)("pcons.non_autologin.fb.global_object_not_found")},p=function(e,t){return t&&(0,l.dy)({event:"load_script_start",provider:"facebook"}),(0,i.Z)((0,a.Z)(e),"FACEBOOK").then(function(){return f(t)})},h=function(){return new Promise(function(e){"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)})},y=function(e){var t=e.userID,r=e.accessToken,o=e.data,i=o.birthday,a=o.email,l=o.first_name,s=o.gender,c=o.last_name,u=o.picture;return{type:"facebook",facebook_id:t,facebook_token:r,birthday:i?(0,n.Z)(i):void 0,email:a,first_name:l,gender:s,image_url:u&&!u.data.is_silhouette?u.data.url:void 0,last_name:c}};function m(e){return g.apply(this,arguments)}function g(){var e;return e=regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:t,pii_safe_birthday:!0,fields:d}});case 2:return r=e.sent.resource_response.data||{},(0,l.My)(r?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),e.abrupt("return",{access_token:t,birthday:r.birthday,email:r.email,first_name:r.first_name,gender:r.gender,id:r.id,last_name:r.last_name,picture:r.picture});case 6:case"end":return e.stop()}},e)}),(g=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){s(i,n,o,a,l,"next",e)}function l(e){s(i,n,o,a,l,"throw",e)}a(void 0)})}).apply(this,arguments)}var b=function(){return new Promise(function(e){window.FB.login(e,{scope:u().join(",")})}).then(function(e){var t;return new Promise(function(r,n){if("connected"!==e.status){n({status:e.status||"unknown"});return}var o=e.authResponse,i=o.userID,a=o.accessToken;m(a).then(function(e){r({creds:{facebook_id:i,facebook_token:a,facebook_autologin:(null==t?void 0:t.autologin)||!1},signupOptions:y({userID:i,accessToken:a,data:e})})},n)})})}},935879:function(e,t){"use strict";var r=function(e){var t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}};t.Z=function(e){return"//connect.facebook.net/".concat(r(e),"/sdk.js")}},738192:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n,o=r(908390),i=r(898781),a=r(349700),l=r(584595),s=r(515198),c=function(e){var t=e.children,r=e.onClick;return(0,s.jsx)("button",{onClick:r,style:{background:"transparent",border:"none",verticalAlign:"inherit",padding:0},type:"button",children:(0,s.jsx)(o.xv,{color:"error",inline:!0,size:"200",weight:"bold",children:t},"err_text")})};function u(e){var t=e.apiErrorCode,r=e.errorMessage,n=e.onClickPasswordReset,u=(0,i.ZP)(),d=function(e){switch(e){case l.yV:case l.$j:return(0,a.nk)(u._('We noticed some strange activity on your account.  {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.', 'Error message when user is soft banned', 'Error message when user is soft banned'),{resetPasswordLink:(0,s.jsx)(c,{onClick:n,children:u._('Reset your password', 'Link text for password reset', 'Link text for password reset')})});case l.iK:return(0,a.nk)(u._('Your account is already linked to Google. To log in with email, {{ resetPasswordLink }}', ' - ', ' -- '),{resetPasswordLink:(0,s.jsx)(c,{onClick:n,children:u._('set a password.', 'Link text to set password for user with account with only google auth', 'Link text to set password for user with account with only google auth')})});case l.nY:return(0,a.nk)(u._('Your account is already linked to Facebook. To log in with email, {{ resetPasswordLink }}', ' - ', ' -- '),{resetPasswordLink:(0,s.jsx)(c,{onClick:n,children:u._('set a password.', 'Link text to set password for user with account with only facebook auth', 'Link text to set password for user with account with only facebook auth')})});case l.nf:return(0,a.nk)(u._('Your account is connected to Apple. This option works only on the Pinterest iOS app. To log into Pinterest here, you\u2019ll need to {{ resetPasswordLink }}', 'unauth.web.emailLogin', 'Error message displayed to users who are connected to Apple, but do not have a password'),{resetPasswordLink:(0,s.jsx)(c,{onClick:n,children:u._('set a password.', 'Link text to set password for user with account with only apple auth', 'Link text to set password for user with account with only apple auth')})});case l.oP:return(0,a.nk)(u._('The password you entered is incorrect. Try again or {{ resetPasswordLink }}', ' - ', ' -- '),{resetPasswordLink:(0,s.jsx)(c,{onClick:n,children:u._('Reset your password', 'Link text for password reset', 'Link text for password reset')})});default:return[r]}}(t);return(0,s.jsx)(o.xu,{"data-test-id":"touchableErrorMessage",children:d.map(function(e,t){return(0,s.jsx)(o.xv,{color:"error",inline:!0,size:"200",children:e},"err_message_".concat(t))})})}var d=r(817656),f=r(867820);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h=[].concat(function(e){if(Array.isArray(e))return p(e)}(n=l.ZP)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[d.Ej,l.oP,l.nf]).filter(function(e){return e!==l.RL&&e!==l.an});function y(e){var t,r=e.error,n=e.onClickPasswordReset,o=e.source,i=r.api_error_code;(r.http_status||r.httpStatus)===d.Ej&&(i=d.Ej);var a=i&&h.includes(i)?(0,s.jsx)(u,{apiErrorCode:i,errorMessage:null!==(t=r.message)&&void 0!==t?t:"",onClickPasswordReset:n}):r.message;if(a)switch(i){case l.oP:case l.RL:return{passwordValidationError:a};case l.nY:return{facebookValidationError:a};case l.iK:return{googleValidationError:a};case l.hU:return{emailValidationError:a};case l._K:return{passwordValidationError:a};default:return{emailValidationError:a}}else(0,f.My)("unauth.login.error.SERVER_ERROR.unknown.".concat(String(i),".").concat(o));return null}},290148:function(e,t,r){"use strict";r.d(t,{Ny:function(){return f},eD:function(){return y},lp:function(){return h},nY:function(){return m}});var n=r(78714),o=r(432300),i=r(957161),a=r(966113),l=r(867820),s=r(794230),c=r(704115),u=r(709113);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6}),p=function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t)}return e=[{key:"defaultLoginRedirectUrl",value:function(){return window.location.pathname===a.lfe||window.location.pathname===a.ZEf||window.location.pathname.startsWith(a.rOJ)?"/":window.location.pathname+window.location.search}},{key:"defaultSocialLoginRedirectUrl",value:function(){return window.location.pathname.startsWith(a.rOJ)?"/":window.location.pathname}},{key:"isExceedRecaptchaLocalLimit",value:function(){var e=i.Z.getItem(u.kl);if(e&&e.indexOf("|")>-1){var t=e.split("|");return 3===t.length&&new Date().getTime()/1e3-parseInt(t[0],10)<=3600}return!1}},{key:"updateRecaptchaTimeStamp",value:function(){var e=i.Z.getItem(u.kl),t=[];e&&3===(t=e.split("|")).length&&t.shift();var r=(new Date().getTime()/1e3).toString();t.push(r);var n=t.join("|");i.Z.setItem(u.kl,n)}},{key:"isFullyLoggedIn",value:function(e,t){return e&&t===o.Z.DEFAULT}},{key:"handleRedirect",value:function(e){if(!e){e="/";var t=(0,c.Z)();if(t){var r=t.next;r&&(e=r,delete t.next),e=(0,s.Z)(e,t)}}(0,n.Z)(e)}},{key:"handleRedirectWithFallbackWindowLocation",value:function(){this.handleRedirect(this.defaultLoginRedirectUrl())}},{key:"handleSignupRedirect",value:function(e,r){i.Z.setItem(u.F6,Date.now()),!r&&e&&"/"!==e?t.handleRedirect(e):t.handleRedirect("/")}},{key:"storeLoginCredentialsToBrowser",value:function(e){var t=window.navigator.credentials;if(t&&e.username_or_email)try{var r=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(r).then(function(){(0,l.My)("navigatorCredentials.store.success")})}catch(e){(0,l.My)("navigatorCredentials.store.error")}}},{key:"handleLoginMfa",value:function(e,r,n){(0,l.My)("multi_step_login"),t.storeLoginCredentialsToBrowser(e),n?n(e,r):(0,l.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(n.key),n)}}(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function h(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function y(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":h(e)}function m(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}t.ZP=p},884732:function(e,t,r){"use strict";r.d(t,{M3:function(){return c},PE:function(){return a},Q:function(){return u},lv:function(){return l},r8:function(){return i},rl:function(){return o},yW:function(){return s}});var n=r(844974),o=function(){try{var e=(0,n.qn)("MULTIPLE_ACCOUNTS");return e?JSON.parse(e):Object.freeze({})}catch(e){return Object.freeze({})}},i=function(e){return(0,n.Nh)("MULTIPLE_ACCOUNTS",JSON.stringify(e))},a=function(){return!!(0,n.qn)("MULTIPLE_ACCOUNTS")},l=function(){return Object.keys(o()).length},s=function(){try{var e=(0,n.qn)("MULTIPLE_ACCOUNTS_GROUP");return e?JSON.parse(e):null}catch(e){return null}},c=function(e){return(0,n.Nh)("MULTIPLE_ACCOUNTS_GROUP",JSON.stringify(e))},u=function(){return{multipleAccountMap:o(),multipleAccountGroupId:s()}}},773285:function(e,t,r){"use strict";r.d(t,{F:function(){return i},a:function(){return o}});var n=(0,r(425288).Z)("ExperimentContext"),o=n.Provider,i=n.useHook},311560:function(e,t){"use strict";t.Z=function(e){switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";case"AU":return"AU";case"IN":return"IN";default:return"OTHER"}}},143461:function(e,t,r){"use strict";r.d(t,{D:function(){return c},T:function(){return s}});var n=r(76911),o=r(874103),i=r(515198);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=(0,n.createContext)({recaptchaV3Token:"",refreshToken:function(){}});function s(e){var t,r=e.children,s=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(""))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],u=s[1],d=(0,n.useCallback)(function(){(0,o.rY)(function(e){return u(e)},function(e){},o.sk)},[]);(0,n.useEffect)(function(){d();var e=setInterval(d,o.yc);return function(){clearInterval(e)}},[d]);var f=(0,n.useMemo)(function(){return{recaptchaV3Token:c,refreshToken:d}},[c,d]);return(0,i.jsx)(l.Provider,{value:f,children:r})}var c=function(){return(0,n.useContext)(l)}},874103:function(e,t,r){"use strict";r.d(t,{OA:function(){return u},f$:function(){return h},rY:function(){return s},sk:function(){return y},wQ:function(){return d},xW:function(){return f},yc:function(){return c},ys:function(){return p}});var n=r(67347),o="onloadRecaptchaJsCallback",i="6Ldx7ZkUAAAAAF3SZ05DRL2Kdh911tCa3qFP0-0r",a="recaptcha-enterprise-src",l=function(e,t,r){(0,n.nP)("recaptcha_v3.request_token.attempt",{sampleRate:.1,tags:{action:r}}),void 0===window.grecaptcha||void 0===window.grecaptcha.enterprise?(t(Error("Error loading reCAPTCHA Enterprise")),(0,n.nP)("recaptcha_v3.request_token.js_loading_error",{sampleRate:.1,tags:{action:r}})):window.grecaptcha.enterprise.ready(function(){try{window.grecaptcha.enterprise.execute(i,{action:r}).then(e).catch(t)}catch(e){(0,n.nP)("recaptcha_v3.request_token.exec_error",{sampleRate:.1,tags:{action:r}}),t(e)}})},s=function(e,t,r){if(window[o]=function(){return l(e,t,r)},document.getElementById(a))l(e,t,r);else{var n=document.createElement("script");n.id=a,n.src="".concat("https://www.recaptcha.net/recaptcha/enterprise.js","?onload=").concat(o,"&render=").concat(i);var s=document.getElementsByTagName("script")[0];s.parentNode&&s.parentNode.insertBefore(n,s)}},c=105e3,u=8e3,d="mweb_auth",f="mweb_login",p="mweb_signup",h="web_auth",y="web_unauth"},561195:function(e,t,r){"use strict";r.d(t,{A:function(){return s},Z:function(){return c}});var n=r(76911),o=r(908390),i=r(515198);function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=function(e){var t=e.fill;e.width;var r="half"===t?(0,i.jsxs)(n.Fragment,{children:[(0,i.jsx)(o.xu,{position:"absolute",children:(0,i.jsx)(o.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,i.jsx)(o.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,i.jsx)(o.JO,{accessibilityLabel:"",color:"full"===t?"default":"subtle",icon:"star",size:12});return(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"".concat(3,"px")}},"data-test-id":"rating-star-".concat(t),display:"inlineBlock",children:r})};function c(e){var t,r=e.max_rating,n=e.rating,l=e.width,c=[],u=parseFloat(r)||5,d=5*(t=(t=parseFloat(n)||0)<=u?t:u)/u;if(Number.isNaN(d))return null;var f=Math.floor(d),p=d-f;return a(Array(f).keys()).forEach(function(e){return c.push((0,i.jsx)(s,{fill:"full",width:l},e))}),p>=.75?c.push((0,i.jsx)(s,{fill:"full",width:l},c.length)):p>=.25&&c.push((0,i.jsx)(s,{fill:"half",width:l},c.length)),a(Array(5-c.length).keys()).forEach(function(){return c.push((0,i.jsx)(s,{fill:"empty",width:l},c.length))}),(0,i.jsx)(o.xu,{display:"inlineBlock",position:"relative",width:15*u,children:c})}},780280:function(e,t,r){"use strict";r.d(t,{B:function(){return y},LC:function(){return p},P2:function(){return f},fH:function(){return h},gf:function(){return m}});var n=r(76911),o=r(608832),i=r(239745),a=r(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d=(0,n.createContext)();function f(e){var t,r=e.children,l=e.initialValue,s=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(l))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=s[0],p=s[1],h=(0,n.useMemo)(function(){return{requestContext:f,updateRequestContext:function(e){var t=c(c({},f),e);(0,i.Z)(f,e)||p(t),(0,o.J)(t)}}},[f]);return(0,a.jsx)(d.Provider,{value:h,children:r})}var p=function(e){var t=e.children,r=(0,n.useContext)(d);if(!r)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return t(r.requestContext)},h=function(e){var t=e.children,r=(0,n.useContext)(d);if(!r)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return t(r.requestContext)};function y(){var e=(0,n.useContext)(d);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function m(){var e=(0,n.useContext)(d);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},608832:function(e,t,r){"use strict";var n;function o(e){n=e}function i(){return n}r.d(t,{J:function(){return o},l:function(){return i}})},784590:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(76911),o=r(506979),i=r(599689),a=r(886858),l=r(780280),s=r(248327),c=r(718368);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f={},p=function(e){var t=e.httpStatus;return!t||t>=500};function h(e){var t,r=null!=e?e:{name:"DisabledResource",options:null},h=r.enabledRouteRefresh,y=r.__unstableEnableSuspenseSupport,m=r.headers,g=r.name,b=r.noCache,_=r.options,v=r.schema,x=!e,P=(0,o.useDispatch)(),O=(0,a.Z)(_),j=(0,n.useRef)(null),S=(0,n.useRef)(),w=(0,i.useHistory)(),E=w&&"POP"!==w.action,A=function(e){return(e[g]||f)[O]||f},I=(0,o.useSelector)(function(e){return A(e.resources).nextBookmark}),C=(0,o.useSelector)(function(e){return A(e.resources).data}),T=(0,o.useSelector)(function(e){return A(e.resources).auxData}),D=(0,o.useSelector)(function(e){return A(e.resources).error}),k=(0,o.useSelector)(function(e){return!!A(e.resources).fetching}),R="object"===d(T)&&"string"==typeof(null==T?void 0:T.pagination_group)?T.pagination_group:void 0,z=!!D||void 0!==C,L=z&&!k&&I===c.q,M=!!(z&&h&&E&&!x),N=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(M))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),B=N[0],F=N[1],Z=(0,n.useCallback)(function(e,t){j.current=P((0,s.U)(g,{options:_,schema:v,bookmark:e,headers:m,paginationGroup:t}))},[P,g,O,v,m]),U=function(){j.current=P((0,s.b)(g,{options:_,schema:v,headers:m}))},H=(0,l.B)().isBot,V=function(){if(!x&&S.current!==O){var e=void 0===S.current;S.current=O,!z&&!k||e&&D&&p(D)?Z():(!H&&b||M)&&U()}};(0,n.useEffect)(function(){y||V()}),y&&V();var G=(0,n.useCallback)(function(){x||(U(),F(!0))},[x,s.b,g,O,m,F]),W=(0,n.useCallback)(function(){!I||L||k||x||Z(I,R)},[x,Z,I,L,k,R]);if(j.current){if(z&&!k)j.current=null;else if(y)throw j.current}var Y=(0,n.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:W,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:G}),X={auxData:T,data:C,error:D,fetchMore:W,isAtEnd:L,isFetching:k,isLoaded:z,isRefreshing:B,nextBookmark:I,refresh:G};return(0,o.shallowEqual)(X,Y.current)||(B&&(Y.current.data||!M)&&!(0,o.shallowEqual)(X.data,Y.current.data)&&(X.isRefreshing=!1,F(!1)),Y.current=X),Y.current}},418614:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(784590),o=r(19121),i=r(599689),a=r(780280),l=r(50286),s=r(826067);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=["getOptions","checkExperiments","disableFetch"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){var t,r,f,p,h,y,m,g,b,_,v,x,P,O,j,S,w,E,A,I,C,T,D,k=e.getOptions,R=e.checkExperiments,z=e.disableFetch,L=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,u),M=(p=(r={checkExperiments:R,disableFetch:z,viewer:{country:(t=(0,o.Z)()).country||void 0,id:t.id||void 0,isAuth:t.isAuth,isEmployee:!!t.isEmployee,isPartner:!!t.isPartner,username:t.username||void 0}}).checkExperiments,h=r.disableFetch,y=r.viewer,m=(0,i.useLocation)(),g=(0,i.useRouteMatch)(),v=(_={advertiser:(b=(0,a.B)()).advertiser,deviceType:(0,l.Mq)(b),location:m,match:g,viewer:y,inviteCode:null!==(f=b.inviteCode)&&void 0!==f?f:""}).advertiser,x=_.deviceType,O=(P=_.location).pathname,j=P.search,S=_.inviteCode,E=(w=_.match).params,A=w.path,I=_.viewer,C={advertiser:v,deviceType:x,routeData:{inviteCode:S,matchPath:A,params:E,parsedSearch:(0,s.mB)(j),pathname:O,search:j},user:{country:I.country||void 0,id:I.id||void 0,isAuth:I.isAuth,isEmployee:!!I.isEmployee,isPartner:!!I.isPartner,username:I.username||void 0}},D=!!(T=!!h&&h(C))||!p||p(b.experimentsClient),{args:C,fetchDisabled:T||!D}),N=M.args,B=M.fetchDisabled,F=k?k(N):void 0;return(0,n.Z)(B?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({options:F},L))}},995228:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(76911),o=r(515198);function i(e){var t=e.children,r=e.fallback;return(0,o.jsx)(n.Suspense,{fallback:r||null,children:t})}},947599:function(e,t,r){"use strict";var n=r(995228);t.Z=n.Z},251183:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(77601);function o(e){var t=e.scrollPosition,r=e.containerSize,n=e.contentSize,o=e.intendedDistance,i=e.extendToEdgeDistance,a=void 0===i?0:i,l=n-r,s=o;return s=Math.max(s=Math.min(s,l-t),-t),o>0&&l-(t+s)<=a?s=l-t:o<0&&t+s<=a&&(s=-t),s}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s={easingFunction:"ease-in-out",extendToEdgeDistanceX:0,extendToEdgeDistanceY:0,scrollSpeedPxPerMs:1.2,minScrollDuration:200},c={linear:function(e){return e},"ease-in":function(e){return e*e},"ease-out":function(e){return e*(2-e)},"ease-in-out":function(e){return e<.5?2*e*e:-1+(4-2*e)*e}};function u(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=l(l({},s),i),u=e.scrollLeft,d=e.scrollTop,f=e.scrollWidth,p=e.scrollHeight,h=e.clientWidth,y=e.clientHeight,m=o({scrollPosition:u,containerSize:h,contentSize:f,intendedDistance:t,extendToEdgeDistance:a.extendToEdgeDistanceX}),g=o({scrollPosition:d,containerSize:y,contentSize:p,intendedDistance:r,extendToEdgeDistance:a.extendToEdgeDistanceY}),b=Math.max(Math.abs(Math.floor(m/a.scrollSpeedPxPerMs)),Math.abs(Math.floor(g/a.scrollSpeedPxPerMs)));a.minScrollDuration&&(b=Math.max(b,a.minScrollDuration));var _=c[a.easingFunction]||c["ease-in-out"];return(0,n.Z)({window:window,duration:b,run:function(t){e.scrollLeft=u+m*_(t),e.scrollTop=d+g*_(t),1===t&&a.onAnimationComplete&&setTimeout(a.onAnimationComplete,0)}})}},80816:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});var n={REGISTRATION:"registration",SETTINGS:"settings",GOOGLE_PEOPLE_API:"google_people_api",HOLISTIC_PROFILE_PROMPT:"holistic_profile_prompt",IN_APP_BIRTHDAY_PROMPT:"in_app_birthday_prompt",FIX_EMAIL_PROMPT:"fix_email_prompt",NUX:"nux",UNKNOWN:"unknown"}},239745:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(Object.is(e,t))return!0;if("object"!==n(e)||null===e||"object"!==n(t)||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);return r.length===o.length&&r.every(function(r){return e[r]===t[r]})}r.d(t,{Z:function(){return o}})},458882:function(e,t,r){"use strict";r.d(t,{l:function(){return i},r:function(){return a}});var n=r(76911),o=(0,n.createContext)(null),i=function(){return(0,n.useContext)(o)},a=o.Provider},734765:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(50286),o=r(582406);function i(){return function(e){var t=e.deviceType;switch(e.site){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"pintergration":return 10;case"creators":return 11;case"newsroom":return 13;default:return"phone"===t||"tablet"===t?1:0}}({deviceType:(0,n.ZP)(),site:(0,o.uo)()})}},619277:function(e,t,r){"use strict";r.d(t,{o$:function(){return o},ty:function(){return i},vE:function(){return a}});var n=(0,r(425288).Z)("inviteContext"),o=n.Provider,i=n.MaybeConsumer,a=n.useMaybeHook},223815:function(e,t,r){"use strict";r.d(t,{U:function(){return a},Z:function(){return l}});var n=r(755742),o=r(515198),i=function(){},a=function(e){e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function l(e){var t=e.allowClickAndDrag,r=e.allowEsc,l=e.allowMediaPlay,s=e.allowScroll,c=e.children,u=function(e){r&&e.keyCode===n.Z.ESCAPE||a(e)};return(0,o.jsx)("div",{onAbort:a,onAnimationEnd:a,onAnimationIteration:a,onAnimationStart:a,onBlur:i,onCanPlay:l?i:a,onCanPlayThrough:a,onChange:a,onClick:t?i:a,onCompositionEnd:a,onCompositionStart:a,onCompositionUpdate:a,onContextMenu:a,onCopy:a,onCut:a,onDoubleClick:a,onDurationChange:a,onEmptied:a,onEncrypted:a,onEnded:a,onError:a,onFocus:i,onInput:a,onInvalid:a,onKeyDown:u,onKeyPress:u,onKeyUp:u,onLoad:a,onLoadedData:a,onLoadedMetadata:a,onLoadStart:a,onMouseDown:a,onMouseEnter:a,onMouseLeave:a,onMouseMove:t?i:a,onMouseOut:a,onMouseOver:a,onMouseUp:t?i:a,onPaste:a,onPause:a,onPlay:a,onPlaying:a,onProgress:a,onRateChange:a,onScroll:s?i:a,onSeeked:a,onSeeking:a,onSelect:a,onStalled:a,onSubmit:a,onSuspend:a,onTimeUpdate:a,onTouchCancel:a,onTouchEnd:t?i:a,onTouchMove:t?i:a,onTouchStart:t?i:a,onTransitionEnd:a,onVolumeChange:a,onWaiting:a,onWheel:a,children:c})}},858416:function(e,t,r){"use strict";r.d(t,{Wr:function(){return p},Hx:function(){return y},RC:function(){return h}});var n=r(76911),o=r(425288),i=r(924687),a=r(311541),l=r(515198);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var c=function(){return Promise.resolve().then(r.bind(r,924687))},u=(0,o.Z)("IdeaPinVideoPlayer"),d=u.Provider,f=u.useHook;function p(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,a.Z)(c,i.initialState))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=o[0],f=o[1],p=(0,n.useMemo)(function(){return{dispatch:f,ideaPinVideoPlayerControls:u}},[f,u]);return(0,l.jsx)(d,{value:p,children:r})}function h(){var e=f().dispatch;return(0,n.useMemo)(function(){return{updateSeekTime:function(t,r){e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:r||""}})},clearSeekTime:function(t){e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})},updateSeekingIdeaPin:function(t){t?e({type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t}}):e({type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:function(t){e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:function(t){e({type:"UPDATE_DURATION",payload:{duration:t}})}}},[e])}function y(){return f().ideaPinVideoPlayerControls}},924687:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){var o;return(o=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===n(o)?o:String(o))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t),r.d(t,{default:function(){return s},initialState:function(){return l}});var l={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEEK_TIME":return i(i({},e),{},{seekTimes:i(i({},e.seekTimes),{},a({},t.payload.pinId,t.payload.seekTime)),seekTime:t.payload.seekTime});case"CLEAR_SEEK_TIME":return i(i({},e),{},{seekTimes:{},seekTime:void 0});case"UPDATE_SEEKING_IDEA_PIN":return i(i({},e),{},{isSeekingIdeaPin:t.payload.isSeekingIdeaPin});case"UPDATE_CURRENT_TIME":return i(i({},e),{},{currentProgressInfo:i(i({},e.currentProgressInfo),{},{currentTime:t.payload.currentTime})});case"UPDATE_DURATION":return i(i({},e),{},{currentProgressInfo:i(i({},e.currentProgressInfo),{},{duration:t.payload.duration})});default:return e}}},224496:function(e,t,r){"use strict";r.d(t,{Cc:function(){return m},DL:function(){return f},Gf:function(){return v},LX:function(){return l},Lc:function(){return x},Ls:function(){return g},Rf:function(){return d},YL:function(){return u},ap:function(){return s},h8:function(){return h},pE:function(){return p},s5:function(){return _},tQ:function(){return y},yR:function(){return c}});var n=r(908390);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var l={w:9,h:16},s=l.w/l.h,c=8,u=10,d=5e3,f=2e3;function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(t-1)}}var h={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},y=[h.IMAGE,h.VIDEO],m=a(a({},{alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1}),{},{font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28}),g=new n.Ry(1),b=new n.Ry(5),_=new n.H3([b]),v=new n.H3([_]),x=function(e){var t=Math.floor(e||0),r=Math.floor(t/60),n=t-60*r,o=n<10?"0".concat(n):n;return"".concat(r<10?"".concat(r):r,":").concat(o)}},458451:function(e,t){"use strict";t.Z=function(e){return Array.from(e)[0].toUpperCase()+Array.from(e).slice(1).join("")}},883561:function(e,t,r){"use strict";function n(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return"";if(e.length<=r)return e;if(" "!==e[r-1]&&" "===e[r]||o)t=e.substring(0,r);else{var i=e.lastIndexOf(" ",r);t=e.substring(0,i)}return(t=t.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+n}r.d(t,{ZP:function(){return n}})},70061:function(e,t,r){"use strict";function n(e){return e.replace(/[_.-](\w|$)/g,function(e,t){return t.toUpperCase()})}r.d(t,{Z:function(){return n}})},52022:function(e,t,r){"use strict";r.d(t,{S:function(){return l},Z:function(){return s}});var n=r(76911),o=r(599689),i=r(53987),a=r(867820),l=function(e){return(0,i.L6)(e)?"pin":(0,i.am)(e)?"board":(0,i.Xn)(e)?"login":(0,i.C$)(e)?"home":(0,i.cD)(e)?"profile":(0,i.dr)(e)?"ideas":(0,i.gT)(e)?"ideas-root":(0,i.tZ)(e)?"videos":(0,i.Q0)(e)?"videos-category":(0,i.$Y)(e)?"article":(0,i.E0)(e)?"shopping-spotlight":(0,i.Zz)(e)?"today":(0,i.j8)(e)?"unauth-profile":(0,i.f1)(e)?"shopping-root":(0,i.OX)(e)?"shopping-category":"other"};function s(){var e=(0,o.useLocation)();return(0,n.useCallback)(function(t){var r=t.action,n=t.item,o=t.within,i=l(e);(0,a.My)("logged_out_product.interaction.".concat(i,".").concat(r),{item:n||"none",within:o||"none"})},[e])}},6663:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(76911),o=r(908390),i=r(701500),a=r(898781),l=r(391254),s=r(515198);function c(e){var t=e.color,r=void 0===t?"dark":t,c=e.completeButtonText,u=e.completeUrl,d=e.dismissButtonText,f=e.experienceId,p=e.external,h=e.message,y=e.onComplete,m=e.onDismiss,g=(0,a.ZP)(),b=(0,n.useRef)(null),_=h&&!c,v=500735===f,x=c&&(!u||v)&&(0,s.jsx)(o.zx,{color:"white",onClick:function(e){var t=e.event;y&&y(t)},text:c}),P=c&&u&&(0,s.jsx)(i.Z,{anchor:".HomeButton2",anchorElementRef:b.current,containerBoxConfig:{display:"flex",height:"100%"},children:(0,s.jsx)(o.ZP,{ref:b,accessibilityLabel:c,color:"white",href:u,onClick:function(e){var t=e.event;y&&y(t)},rel:p?"nofollow":"none",size:"md",text:c},"naglink")}),O=d&&m&&(0,s.jsx)(o.xu,{mdPaddingX:2,children:(0,s.jsx)(o.zx,{color:"shopping"===r?"white":"gray",onClick:function(e){var t=e.event;m&&m(t)},text:d})}),j=_&&!v&&m&&!d&&(0,s.jsx)(o.hU,{accessibilityLabel:g._('Close', 'accessibility close label', 'accessibility close label'),bgColor:"lightGray",icon:"cancel",iconColor:"gray",onClick:function(e){var t=e.event;m&&m(t)},size:"md"});return(0,s.jsxs)(o.xu,{alignItems:"center",color:r,direction:"column",display:"flex",justifyContent:"between",paddingX:6,paddingY:3,smDirection:"row",children:[(0,s.jsx)(o.xu,{column:12,smColumn:_?11:8,children:(0,s.jsxs)(o.xv,{color:"inverse",weight:v?"normal":"bold",children:[(0,s.jsx)(l.Z,{unsafeCSS:".Banner--message a { color: #fff; text-decoration: underline; }"}),(0,s.jsx)("div",{className:"Banner--message",children:(0,s.jsx)("span",{dangerouslySetInnerHTML:{__html:h}})})]})}),(0,s.jsxs)(o.kC,{alignItems:"center",justifyContent:"end",children:[O,x||P,j]})]})}},948618:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(908390),o=r(515198);function i(e){var t=e.ariaHidden,r=e.color,i=e.size;return(0,o.jsx)("span",{"aria-hidden":void 0!==t&&t,style:{padding:"0 4px"},children:(0,o.jsx)(n.xv,{color:void 0===r?"darkGray":r,inline:!0,size:null!=i?i:"200",children:"\xb7"})})}},938999:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(76911),o=r(858472),i=r(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(p,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=d(p);if(t){var n=d(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function p(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(u(e=o.call.apply(o,[this].concat(r))),"handleKeyPress",function(t){var r=e.props.onClick;r&&(32===t.charCode||13===t.charCode)&&(t.preventDefault(),r())}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.selected,r=e.rounded,n=e.color,o=e.onClick,a=e.children,s=e.style,c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({cursor:o?"pointer":"default",borderRadius:r?"8px":0,boxShadow:t?"0 0 0 2px ".concat(n):"none",outline:"none"},s);return(0,i.jsx)("div",{onClick:o,onKeyPress:this.handleKeyPress,role:"button",style:c,tabIndex:"0",children:a})}}],s(p.prototype,r),n&&s(p,n),Object.defineProperty(p,"prototype",{writable:!1}),p}(n.Component);f(h,"defaultProps",{selected:!1,rounded:!0,color:o.x7})},343341:function(e,t,r){"use strict";r.d(t,{F9:function(){return i},Zo:function(){return o}});var n=(0,r(425288).Z)("toastManagerContext"),o=n.Provider,i=n.useHook},925797:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(908390),o=r(237056),i=r(286939),a=r(829130),l=r(898781),s=r(561195),c=r(784590),u=r(515198);function d(e){var t=e.pinId,r=(0,l.ZP)(),i=(0,o.Z)(),a=(0,c.Z)({name:"PinResource",options:{id:t,field_set_key:"detailed"}}).data,s=a&&a.story_pin_data?a.story_pin_data.page_count:null;return(0,u.jsxs)(n.kC,{alignItems:"center",height:20,justifyContent:"start",children:[(0,u.jsx)(n.JO,{accessibilityLabel:i?r._('Pin Icon', 'legacyPinTypeIdentifier.ideaPinAccessibilityLabel.sce', 'Icon indicating this Pin was created with expressive tools (fka Idea Pins)'):r._('Idea Pin Icon', 'legacyPinTypeIdentifier.ideaPinAccessibilityLabel', 'Icon indicating this Pin is an Idea Pin'),color:"default",icon:"idea-pin",size:12}),s&&(0,u.jsx)(n.xu,{marginStart:1,children:(0,u.jsx)(n.xv,{inline:!0,size:"100",weight:"bold",children:s})})]})}var f=function(e){var t=e.icon,r=e.i18n,n=e.ideaPinRenamingEnabled;switch(t){case"arrow-up-right":return r._('Promoted Pin', 'Icon indicating this Pin is promoted', 'Icon indicating this Pin is promoted');case"play":return r._('Video Pin', 'Icon indicating this Pin is a video', 'Icon indicating this Pin is a video');case"gif":return r._('GIF Pin', 'Icon indicating this Pin is a GIF', 'Icon indicating this Pin is a GIF');case"tag":return r._('Product Pin', 'Icon indicating this Pin is a product', 'Icon indicating this Pin is a product');case"star":return r._('Recipe Pin', 'Icon indicating this Pin is a recipe', 'Icon indicating this Pin is a recipe');case"story-pin":return n?r._('Pin', 'legacyPinTypeIdentifier.getLabel.ideaPinLabel.sce', 'Icon indicating this Pin was created with expressive tools (fka Idea Pins)'):r._('Idea Pin', 'legacyPinTypeIdentifier.getLabel.ideaPinLabel', 'Icon indicating this Pin is an Idea Pin');case"collage":return r._('Collage Pin', 'Icon indicating this Pin is a collage', 'Icon indicating this Pin is a collage');default:return""}};function p(e){var t,r=e.max_rating,c=e.icon,p=e.text,h=e.rating,y=e.pinId,m=(0,l.ZP)(),g=(0,o.Z)();if(c)switch(c){case"star":t=(0,u.jsx)(s.Z,{max_rating:r,rating:h||"",width:10});break;case"gif":t=a.Z;break;case"story-pin":t=(0,u.jsx)(d,{pinId:y||""});break;default:t=(0,u.jsx)(n.xu,{alignItems:"center",display:"flex",marginEnd:1,children:(0,u.jsx)(n.JO,{accessibilityLabel:f({icon:c,i18n:m,ideaPinRenamingEnabled:g}),color:"default",dangerouslySetSvgPath:"collage"===c?{__path:i.Z}:void 0,icon:"collage"===c?void 0:c,inline:!0,size:10})})}return(0,u.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[t,p&&(0,u.jsx)(n.xu,{marginStart:1,children:(0,u.jsx)(n.xv,{inline:!0,size:"200",children:p.trim().substring(0,25)})})]})}},123906:function(e,t){"use strict";t.Z=function(e,t){var r=new URL(e,"https://pinterest.com");return r.search=new URLSearchParams(t).toString(),r.toString().substring(r.origin.length)}},170168:function(e,t,r){"use strict";r.d(t,{Ag:function(){return i},C0:function(){return s},L1:function(){return f},Vi:function(){return a},YD:function(){return d},kS:function(){return o},oo:function(){return l},p3:function(){return p},vC:function(){return c},vI:function(){return u}});var n=r(401060),o="https://www.pinterest.com/business/hub/",i="https://www.pinterest.com/homefeed/",a="www.pinterest.com",l="https://help.pinterest.com",s="".concat((0,n.Z)({site:"www"})),c=(0,n.Z)({site:"developers"}),u="".concat((0,n.Z)({site:"sterling"})),d="".concat((0,n.Z)({site:"analytics"})),f="".concat((0,n.Z)({site:"trends"})),p="".concat((0,n.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="}))},934723:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(422586),o=r(966113);function i(e){var t=e.advertiser,r=e.isAdsSite,i=e.isAnalyticsSite,a=e.isTrendsSite,l=e.baseUrl,s=e.adsUrl,c=e.isQuickPromote,u=e.isShoppingCatalogs;if(r&&!t&&!c)return"/";var d=l;return(r||i||a)&&!u?(s||(s=l),t?(d=(0,n.Z)(s,t.id),r||(d=o.auO+d)):d=r?s:o.auO+d):u?d=o.auO+(0,n.Z)(l,t?t.id:""):s||(d=o.auO+l),d}},540794:function(e,t){"use strict";t.Z=function(){return window.location.pathname}},388619:function(e,t,r){"use strict";var n=r(704115);t.Z=function(e){var t=e.url;if(t){var r=t.split("?");if(r[1])return(0,n.Z)(r[1])}return(0,n.Z)()}},149230:function(e,t,r){"use strict";var n=r(954931);t.Z=function(e){var t=e.url;return!!(t&&t.match(/^https{0,1}:\/\//)&&!(0,n.Z)(t))}},508847:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(567831),o=function(e){var t=e.url,r=(0,n.Z)("/");return 0===t.lastIndexOf(r,0)?t.substr(r.length-1):t}},437730:function(e,t){"use strict";t.Z=function(e){var t=e.url;return new RegExp(/http(s?):/).test(t)?t:"http://"+t}},566101:function(e,t){"use strict";t.Z=function(e){var t=e.url;return""===t||/^(https?:\/\/)?[a-z0-9_\-]+\..+/i.test(t)}},50286:function(e,t,r){"use strict";r.d(t,{HG:function(){return d},Kf:function(){return a},Mq:function(){return o},Wb:function(){return u},dA:function(){return l},ds:function(){return s},ml:function(){return c}});var n=r(780280);function o(e){var t=e.userAgent,r=t.isMobile;return t.isTablet?"tablet":r?"phone":"desktop"}var i=function(){return o((0,n.B)())},a=function(e){return"phone"===e},l=function(e){return"tablet"===e},s=function(e){return"desktop"===e},c=function(){return a(i())},u=function(){return l(i())},d=function(){return s(i())};t.ZP=i},311541:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(76911);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||i(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=(0,n.useRef)([]),l=o((0,n.useState)(),2),s=l[0],c=l[1],u=o((0,n.useReducer)(null!=s?s:function(){return t},t),2),d=u[0],f=u[1],p=(0,n.useCallback)(function(t){if(s)f(t);else{var n;r.current.length||e().then(function(e){c(function(){return e.default})}),r.current=[].concat(function(e){if(Array.isArray(e))return a(e)}(n=r.current)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||i(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t])}},[e,s]);return(0,n.useEffect)(function(){s&&(r.current.forEach(f),r.current=[])},[s]),[d,p]}},829407:function(e,t,r){"use strict";var n=r(76911);t.Z=function(e){(0,n.useEffect)(e,[])}},215292:function(e,t,r){"use strict";r.d(t,{q:function(){return l}});var n=r(76911);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a=function(){var e=o((0,n.useState)(!1),2),t=e[0],r=e[1],i=o((0,n.useState)(!1),2),a=i[0],l=i[1],s=o((0,n.useState)(!1),2),c=s[0],u=s[1];return{active:t,focused:a,hovered:c,onBlur:function(){l(!1),r(!1)},onFocus:function(){return l(!0)},onMouseDown:function(){return r(!0)},onMouseEnter:function(){return u(!0)},onMouseLeave:function(){u(!1),r(!1)},onMouseUp:function(){return r(!1)}}};function l(e){return(0,e.children)(a())}t.Z=a},902355:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(76911);function o(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function l(e){o(a,n,i,l,s,"next",e)}function s(e){o(a,n,i,l,s,"throw",e)}l(void 0)})}}function a(){return(a=i(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,r){var n=document.createElement("img");n.onerror=function(){return r(Error("Image failed to load with src ".concat(t)))},n.onload=function(){return e(!0)},n.src=t}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(){return(l=i(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"HEAD"});case 3:return r=e.sent,e.next=6,r.blob();case 6:n=e.sent.type.startsWith("image/"),e.next=12;break;case 12:return e.next=14,function(e){return a.apply(this,arguments)}(t);case 14:return o=e.sent,e.abrupt("return",n&&o);case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",!1);case 21:case"end":return e.stop()}},e,null,[[0,18]])}))).apply(this,arguments)}function s(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e){var t,r=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(null))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],i=r[1];return(0,n.useEffect)(function(){function t(){var r;return r=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(e){return l.apply(this,arguments)}(e);case 2:i(t.sent);case 4:case"end":return t.stop()}},t)}),(t=function(){var e=this,t=arguments;return new Promise(function(n,o){var i=r.apply(e,t);function a(e){s(i,n,o,a,l,"next",e)}function l(e){s(i,n,o,a,l,"throw",e)}a(void 0)})}).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[e]),o}},19121:function(e,t,r){"use strict";r.d(t,{$:function(){return o}});var n=(0,r(425288).Z)("viewer"),o=n.Provider,i=n.useHook;t.Z=i},26717:function(e,t,r){"use strict";function n(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}t.Z=function(e){var t;return t=regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.e(23468).then(r.bind(r,323468));case 2:return n=t.sent.Password,t.abrupt("return",n(e));case 5:case"end":return t.stop()}},t)}),function(){var e=this,r=arguments;return new Promise(function(o,i){var a=t.apply(e,r);function l(e){n(a,o,i,l,s,"next",e)}function s(e){n(a,o,i,l,s,"throw",e)}l(void 0)})}}},216895:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function i(e,t){return a.apply(this,arguments)}function a(){var e;return e=regeneratorRuntime.mark(function e(t,r){var o,i,a,l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}}(e))){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw a}}}}(r),e.prev=1,i.s();case 3:if((a=i.n()).done){e.next=21;break}if(!((l=(0,a.value)(t))instanceof Promise)){e.next=16;break}return e.next=9,l;case 9:if(!((s=(0,e.sent)(t)).errors.length>0)){e.next=14;break}return o=s.errors[0],e.abrupt("break",21);case 14:e.next=19;break;case 16:if(!(l.errors.length>0)){e.next=19;break}return o=l.errors[0],e.abrupt("break",21);case 19:e.next=3;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(1),i.e(e.t0);case 26:return e.prev=26,i.f(),e.finish(26);case 29:return e.abrupt("return",o);case 30:case"end":return e.stop()}},e,null,[[1,23,26,29]])}),(a=function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function l(e){o(a,n,i,l,s,"next",e)}function s(e){o(a,n,i,l,s,"throw",e)}l(void 0)})}).apply(this,arguments)}r.d(t,{U:function(){return i}}),t.Z=function(e,t){var r;return t.some(function(t){var n=t(e);return n.errors.length>0&&(r=n.errors[0],!0)}),r}},556663:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(76911),o=r(908390),i=r(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return(t=h(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}var y={default:{backgroundColor:"#efefef",boxShadow:"none"},drag:{backgroundColor:"rgba(74, 144, 226, 0.08)",boxShadow:"0 0 0 1px #0074e8"},error:{backgroundColor:"rgba(230, 0, 35, 0.03)",boxShadow:"0 0 0 1px #e60023"}},m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(h,e);var t,r,n,l=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=f(h);if(t){var n=f(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return d(e)}(this,e)});function h(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,h);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(d(e=l.call.apply(l,[this].concat(r))),"state",{isDraggingOver:!1,isHoveringOver:!1,containedHeight:null}),p(d(e),"handleOnDragEnter",function(t){var r=e.props.onDragEnter;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!0}),r&&r(t)}),p(d(e),"handleOnDragLeave",function(t){var r=e.props.onDragLeave;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!1}),r&&r(t)}),p(d(e),"handleOnDragOver",function(t){var r=e.props.onDragOver;t.preventDefault(),t.stopPropagation(),r&&r(t)}),p(d(e),"handleOnDrop",function(t){var r=e.props.onDrop;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!1}),r&&r(t)}),p(d(e),"handleMouseEnter",function(){var t=e.props.onMouseEnter;t&&t(),e.setState({isHoveringOver:!0})}),p(d(e),"handleMouseLeave",function(){var t=e.props.onMouseLeave;t&&t(),e.setState({isHoveringOver:!1})}),p(d(e),"setContainedHeight",function(t){e.setState({containedHeight:t})}),e}return r=[{key:"getDragContainerStyles",value:function(e,t){return t&&"default"===e?s(s({},y[e]),{},{backgroundColor:t}):y[e]}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.color,n=e.dropRounding,a=e.hasError,l=e.height,c=e.position,u=e.width,d=this.state,f=d.isDraggingOver,p=d.isHoveringOver,h=d.containedHeight,y=f?"drag":a?"error":"default";return(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:s(s({},this.getDragContainerStyles(y,r)),n?{borderRadius:n}:{})},"data-test-id":"drag-behavior-container",height:l||h||"100%",onDragEnter:this.handleOnDragEnter,onDragLeave:this.handleOnDragLeave,onDragOver:this.handleOnDragOver,onDrop:this.handleOnDrop,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,position:c,rounding:2,width:u||"100%",children:t(f,p,this.setContainedHeight,h)})}}],c(h.prototype,r),n&&c(h,n),Object.defineProperty(h,"prototype",{writable:!1}),h}(n.Component)},281139:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(76911),o=r(908390),i=r(556663),a=r(515198);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var h={cursor:"pointer",height:"100%",opacity:0,position:"absolute",width:"100%",left:0,top:0,fontSize:0},y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(y,e);var t,r,n,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=d(y);if(t){var n=d(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function y(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,y);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return f(u(e=p.call.apply(p,[this].concat(r))),"handleChange",function(t){var r=e.props.onChange;t.preventDefault(),t.stopPropagation(),r&&r(t),t.target.value=""}),f(u(e),"handleClick",function(t){var r=e.props.onClick;r&&r(t)}),e}return r=[{key:"render",value:function(){var e=this,t=this.props,r=t.accept,n=t.accessibilityLabel,l=t.allowMultipleFiles,s=t.children,c=t.color,u=t.dropRounding,d=t.hasError,f=t.height,p=t.id,y=t.onDrop,m=t.position,g=t.rounding,b=void 0===g?2:g,_=t.width,v=t.isAriaHidden,x=void 0===v?void 0:v,P=t.experimentsClient;return(0,a.jsx)(i.Z,{color:c,dropRounding:u,experimentsClient:P,hasError:d,height:f,onDrop:y,position:m,width:_,children:function(t){return(0,a.jsxs)(o.xu,{height:"100%",position:"relative",rounding:b,children:[s(t),(0,a.jsx)("input",{accept:r,"aria-hidden":x,"aria-label":n,"data-test-id":p,id:p,multiple:l,onChange:e.handleChange,onClick:e.handleClick,style:h,tabIndex:x?-1:0,type:"file"})]})}})}}],s(y.prototype,r),n&&s(y,n),Object.defineProperty(y,"prototype",{writable:!1}),y}(n.Component)},893446:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(214494);function o(e,t,r){var o,i,a=t.onSuccess,l=t.onError,s=t.onProcessingStarted,c=t.resolvedAfterProcessingStarted,u=t.delay,d=void 0===u?2e3:u,f=!1,p=function(){clearTimeout(i),clearTimeout(o)};!function t(){f||n.Z.create("VIPResource",{upload_ids:[e],orbacSubjectId:r}).callGet().then(function(r){var n=r.resource_response.data;if(n[e]){var u=n[e],h=u.status,y=u.signature,m=u.failure_code;o||(o=setTimeout(function(){f=!0,l("","registered_timeout")},6e4)),i||(i=setTimeout(function(){f=!0,l("","processing_timeout")},3e5)),"processing"===h||"registered"===h?"processing"===h?(clearTimeout(o),s?c?(clearTimeout(i),s(y)):(s(y),setTimeout(function(){return t()},d)):setTimeout(function(){return t()},d)):setTimeout(function(){return t()},d):"succeeded"===h?(p(),a(y)):(p(),l("VIP status failure code: ".concat(m),null))}else l("VIP upload ID was not returned",null)}).catch(function(){l("VIP failure with checking status",null)})}()}},531245:function(e,t,r){"use strict";r.d(t,{P7:function(){return o},Zx:function(){return l},sc:function(){return a},ss:function(){return i},xl:function(){return n}});var n=["image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/webp"],o=["bmp","gif","jpg","jpeg","png","tiff","webp"],i=["video/mp4","video/x-m4v","video/quicktime"],a=["mp4","m4v","mov"],l={border:"2px dashed #DADADA",borderRadius:"32px",pointerEvents:"none"}},41703:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(349700),o=r(299295),i=r(665866);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t,r,l,s){switch(e){case"FILE_UNRECOGNIZED_TYPE":return{dispatchId:r,id:"FILE_UNRECOGNIZED_TYPE",type:"error",message:t._('Your upload failed because it\'s the wrong format.', 'vip.errorMessaging.message', 'Error message uploading a file format that is not supported.'),blocking:!0};case"IMAGE_OVER_MAX_DIMENSIONS":return{dispatchId:r,id:"IMAGE_OVER_MAX_DIMENSIONS",type:"error",message:t._('This image is too large and can\'t be uploaded. Please try a smaller image size.', 'vip.errorMessaging.message', 'Error message uploading an image file that is too large'),blocking:!0};case"IMAGE_UNDER_MIN_DIMENSIONS":var c,u=function(e){if(Array.isArray(e))return e}(c=i.Z.enabled("pinQuality")||null!=s&&s.isStoryPin?[300,200]:[100,100])||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(c,2)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(c,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=u[0],f=u[1];return{dispatchId:r,id:"IMAGE_UNDER_MIN_DIMENSIONS",type:"error",message:(0,n.nk)(t._('Hmm...this image is too small. Make sure your images are at least {{ minWidth }} x {{ minHeight }} {{ pixelString }}.', 'vip.errorMessaging.minImageMessage', 'Error message when uploading an image file that is smaller than the supported height and width.'),{minHeight:d,minWidth:f,pixelString:t.ngettext('pixel', 'pixels', f, 'pinBuilder.errorMessaging.pixel', 'Label for number of pixels')}).join(""),blocking:!0};case"IMAGE_OVER_MAX_FILE_SIZE":return{dispatchId:r,id:"IMAGE_OVER_MAX_FILE_SIZE",type:"error",message:(0,n.nk)(t.ngettext('This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 'This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 20, 'vip.errorMessaging.message', 'Error message when uploading an image file larger than the supported size'),{max_size_mb:20}).join(""),blocking:!0};case"IMAGE_UNRECOGNIZED_TYPE":return{dispatchId:r,id:"IMAGE_UNRECOGNIZED_TYPE",type:"error",message:t._('This image type is invalid - please make sure the image is natively .jpg or .png', 'vip.errorMessaging.message', 'Error message uploading an image that is malformed in some way'),blocking:!0};case"VIDEO_UNDER_MIN_DIMENSIONS":return{dispatchId:r,id:"VIDEO_UNDER_MIN_DIMENSIONS",type:"error",message:(0,n.nk)(t.ngettext('This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixel', 'This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixels', 100, 'vip.errorMessaging.message', 'Error message when uploading an video file that is smaller than the supported height and width.'),{min_size_video:100}).join(""),blocking:!0};case"VIDEO_BELOW_MIN_DURATION":var p=Math.floor(4);return{dispatchId:r,id:"VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,n.nk)(t.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', p, 'vip.errorMessaging.message', 'Error message uploading a video file that is shorter than required seconds.'),{minVideoLengthSeconds:p}).join(""),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":var h=o.W_;return{dispatchId:r,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,n.nk)(t.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} seconds.', h, 'vip.errorMessaging.storyPinVideoBelowMin.message', 'Error message uploading a video file that is shorter than required seconds.'),{minStoryPinVideoLengthSeconds:h}).join(""),blocking:!0};case"VIDEO_COVER_INVALID_ASPECT_RATIO":return{dispatchId:r,id:"VIDEO_COVER_INVALID_ASPECT_RATIO",type:"error",message:t._('The video\'s cover image must be of the same dimensions as the video itself', 'vip.errorMessaging.message', 'Error message when uploading cover image with non matching dimensions to video'),blocking:!0};case"VIDEO_GENERAL_UPLOAD_ERROR":return{dispatchId:r,id:"VIDEO_GENERAL_UPLOAD_ERROR",type:"error",message:t._('Hmm, your upload failed for some reason. Please try again.', 'vip.errorMessaging.message', 'Error message uploading a video file and the process fails'),blocking:!0};case"VIDEO_OVER_MAX_DURATION":return{dispatchId:r,id:"VIDEO_OVER_MAX_DURATION",type:"error",message:(0,n.nk)(t.ngettext('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minute.', 'This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minutes.', 15, 'vip.errorMessaging.message', 'Error message uploading a video file that is longer than required minutes.'),{max_video_length_minutes:15}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_DURATION":return{dispatchId:r,id:"STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:(0,n.nk)(t._('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_seconds}} seconds.', 'vip.errorMessaging.message', 'Error message uploading a story pin video file that is longer than limit in seconds. max_video_length_seconds: Integer representing the max video length'),{max_video_length_seconds:Math.floor(o.P9)}).join(""),blocking:!0};case"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION":var y=Math.floor(o.FH)/60;return{dispatchId:r,id:"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:(0,n.nk)(t._('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{duration}} minutes.', 'vip.errorMessaging.storyPinMaxTimeLimit', 'Error message uploading a story pin video file that is longer than limit in minutes. duration: Integer representing the max video length'),{duration:y}).join(""),blocking:!0};case"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION_ABOVE_TWO_MIN":var m=Math.floor(null!=l?l:o.FH)/60;return{dispatchId:r,id:"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION_ABOVE_TWO_MIN",type:"error",message:(0,n.nk)(t._('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{duration}} minutes.', 'vip.errorMessaging.storyPinMaxTimeLimit', 'Error message uploading a story pin video file that is longer than limit in minutes. duration: Integer representing the max video length'),{duration:m}).join(""),blocking:!0};case"VIDEO_OVER_MAX_FILE_SIZE":return{dispatchId:r,id:"VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,n.nk)(t.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 2, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required gigabytes.'),{max_video_size_gb:2}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":var g=o.Lr/1024/1024;return{dispatchId:r,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,n.nk)(t.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', g, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required megabytes. maxVideoFileSize: max video size for videos attempting to upload'),{maxVideoFileSize:g}).join(""),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING":return{dispatchId:r,id:"VIDEO_UNRECOGNIZED_ENCODING",type:"error",message:t._('This video isn\'t encoded in H.264', 'vip.errorMessaging.message', 'Error message uploading a video file that is malformed (generic error message)'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME":return{dispatchId:r,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME",type:"error",message:t._('This video isn\'t encoded in H.264 or H.265.  Please use Safari if you want to upload ProRes videos.', 'vip.errorMessaging.message.chrome', 'Error message uploading a video file that is malformed from Chrome'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX":return{dispatchId:r,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX",type:"error",message:t._('This video isn\'t encoded in H.264.  Please use Safari if you want to upload H.265 or ProRes videos.', 'vip.errorMessaging.message.firefox', 'Error message uploading a video file that is malformed from Firefox'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI":return{dispatchId:r,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI",type:"error",message:t._('This video isn\'t encoded in H.264 or H.265 or ProRes.', 'vip.errorMessaging.message.safari', 'Error message uploading a video file that is malformed from Safari'),blocking:!0};case"VIDEO_UNSUPPORTED_RATIO":return{dispatchId:r,id:"VIDEO_UNSUPPORTED_RATIO",type:"error",message:t._('This video is too tall or narrow and can\'t be uploaded. Videos need to be between 1:2 and 1.91:1 aspect ratio.', 'vip.errorMessaging.message', 'Error message uploading a video file that is not a supported aspect ratio'),blocking:!0};default:return{dispatchId:r,id:"GENERAL_ERROR",type:"error",message:t._('Hmm, something went wrong. Please try again.', 'vip.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}},62087:function(e,t,r){"use strict";var n=r(353356),o=r(41703);t.Z=function(e){return function(t){return new Promise(function(r,i){var a=new Image;a.addEventListener("load",function(){return r({fileSrc:t,height:a.height,id:(0,n.Z)(),name:t.name,size:t.size,src:a.src,type:"localImage",width:a.width})}),a.addEventListener("error",function(){return i((0,o.Z)("IMAGE_UNRECOGNIZED_TYPE",e))}),a.src=URL.createObjectURL(t)})}}},275988:function(e,t,r){"use strict";var n=r(353356),o=r(41703),i=r(155455);t.Z=function(e){return function(t){return new Promise(function(r,a){var l,s=new FileReader,c=((null===(l=window.navigator)||void 0===l?void 0:l.userAgent)||"").includes("Safari")?t.slice(0,t.size,"video/mp4"):t,u=URL.createObjectURL(c);s.addEventListener("load",function(){var l=document.createElement("video");l.addEventListener("loadedmetadata",function(){return r({id:(0,n.Z)(),duration:l.duration,fileSrc:t,height:l.videoHeight,name:t.name,size:t.size,src:l.src,thumbnail:0,type:"localVideo",width:l.videoWidth})}),l.addEventListener("error",function(){a((0,o.Z)((0,i.Z)(),e))}),l.src=u}),s.readAsDataURL(t)})}}},155455:function(e,t,r){"use strict";function n(){var e,t=(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)||"";if(t.includes("Firefox"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX";if(t.includes("SamsungBrowser")||t.includes("Opera")||t.includes("OPR")||t.includes("Edge"))return"VIDEO_UNRECOGNIZED_ENCODING";if(t.includes("Edg"))return"VIDEO_UNRECOGNIZED_ENCODING";if(t.includes("Chrome"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME";if(t.includes("Safari"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI";else return"VIDEO_UNRECOGNIZED_ENCODING"}r.d(t,{Z:function(){return n}})},471155:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(214494),o=r(893446),i=[200,201,204];function a(e,t){var r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return new Promise(function(c,u){n.Z.create("VIPResource",{type:t,aux_data:l,orbacSubjectId:s}).callCreate().then(function(n){var l=a||{},d=l.onCancelUpload,f=l.onFailureUpload,p=l.onFinishProcessing,h=l.onFinishUpload,y=l.onProgress,m=l.onStartProcessing,g=l.onStartUpload,b=l.setXhr,_=n.resource_response.data,v=_.upload_id,x=_.upload_url,P=_.upload_parameters,O=e.size,j=new Date;g&&g({fileSizeBytes:O,uploadId:v});var S=function(e,t){f&&f({failureReason:t,fileSizeBytes:O,message:e,uploadId:v}),u({isError:!0,uploadId:v})},w=new XMLHttpRequest;w.open("POST",x,!0),w.onabort=function(){d&&d(v),u({isError:!1,uploadId:v})},w.onload=function(){if(i.includes(w.status)){var e=new Date,n=(e-j)/1e3;if(h){var a=w.getResponseHeader("x-amz-request-id");h({amzId2:w.getResponseHeader("x-amz-id-2"),amzRequestId:a,statusCode:w.status,uploadId:v,uploadTime:n})}(0,o.Z)(v,{onProcessingStarted:function(e){return m&&m({signature:e,uploadId:v}),r?c({signature:e,uploadId:v}):void 0},delay:t.includes("image")?2e3:8e3,onError:S,onSuccess:function(t){var r=(new Date-e)/1e3;return p&&p({fileSizeBytes:O,processingTime:r,signature:t,uploadId:v,uploadTime:n}),c({signature:t,uploadId:v})},resolvedAfterProcessingStarted:r},s)}else S("XHR failure status code: ".concat(w.status),null)},w.onerror=function(){w.abort()},y&&(w.upload.onprogress=y),b&&b(w);var E=new FormData;Object.keys(P).forEach(function(e){E.append(e,P[e])}),E.append("file",e),w.send(E)}).catch(function(e){u({isError:!0})})})}},123463:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(531245),o=r(41703),i=r(62087),a=r(665866),l=r(451105);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var c=r(299295),u=r(275988),d=r(155455),f="enabled_min",p="employees_min";function h(e){var t,r,h=e.i18n,y=e.file,m=e.options,g=e.ideaPinRenamingEnabled,b=m||{},_=b.allowVideo,v=b.videoOnly;return n.ss.includes(y.type)&&_?(r=(t=(m||{}).forStoryPin)?c.Lr:2147483648,y.size>r?Promise.resolve((0,o.Z)(t?"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":"VIDEO_OVER_MAX_FILE_SIZE",h)):(0,u.Z)(h)(y).then(function(e){var t,r,n,i,l,s,u,y,g,b,_;return t=h,r=e,i=(n=m||{}).forStoryPin,l=n.allowAllAspectRatios,y=(u=(s=!!i)&&a.Z.enabled("ideaPinExtendVideoLength"))&&a.Z.enabled("ideaPinExtendVideoLengthAboveTwoMin"),g=function(){if(y){var e=a.Z.getExperimentGroup("ideaPinExtendVideoLengthAboveTwoMin");if(e){var t=e.startsWith(f)&&e.length>f.length?parseInt(e.substring(f.length),10):e.startsWith(p)&&e.length>p.length?parseInt(e.substring(p.length),10):-1;if(t>0)return 60*t+.5}}return u?c.FH:c.P9}(),b=s?c.W_:4,_=s?g:900,r.duration<b?(0,o.Z)(s?"STORY_PIN_VIDEO_BELOW_MIN_DURATION":"VIDEO_BELOW_MIN_DURATION",t):r.duration>_?(0,o.Z)(s?y?"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION_ABOVE_TWO_MIN":u?"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION":"STORY_PIN_VIDEO_OVER_MAX_DURATION":"VIDEO_OVER_MAX_DURATION",t,void 0,g):r.width&&r.height?!l&&(r.width/r.height<.5||r.width/r.height>1.91)?(0,o.Z)("VIDEO_UNSUPPORTED_RATIO",t):r.width<100||r.height<100?(0,o.Z)("VIDEO_UNDER_MIN_DIMENSIONS",t):r:(0,o.Z)((0,d.Z)(),t)}).catch(function(e){return e})):!n.xl.includes(y.type)||v?Promise.resolve((0,o.Z)("FILE_UNRECOGNIZED_TYPE",h)):y.size>20971520?Promise.resolve((0,o.Z)("IMAGE_OVER_MAX_FILE_SIZE",h)):(0,i.Z)(h)(y).then(function(e){var t,r,n,o,i,c;return n=(r=function(e){if(Array.isArray(e))return e}(t=a.Z.enabled("pinQuality")||null!=m&&m.isStoryPin?[300,200]:[100,100])||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],o=r[1],i=(null==m?void 0:m.minHeight)||n,c=(null==m?void 0:m.minWidth)||o,e.height*e.width>89478485?(0,l.ZP)({errorId:"IMAGE_OVER_MAX_DIMENSIONS",i18n:h,ideaPinRenamingEnabled:g}):e.height<i||e.width<c?(0,l.ZP)({errorId:"IMAGE_UNDER_MIN_DIMENSIONS",i18n:h,ideaPinRenamingEnabled:g,options:m}):e}).catch(function(e){return e})}},77891:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(123463);function o(e){var t=e.i18n,r=e.files,o=e.options,i=e.ideaPinRenamingEnabled;return Promise.all(r.map(function(e){return(0,n.Z)({i18n:t,file:e,options:o,ideaPinRenamingEnabled:i})}))}},9034:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function s(e,t,r){return(t=c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}r.d(t,{f7:function(){return p},y$:function(){return h}});var u,d,f,p=" > ",h=function(e,t){return t?"".concat(t).concat(p).concat(e):e},y=function(e,t){return e.displayName<t.displayName?-1:e.displayName>t.displayName?1:0},m=(u=function e(){var t=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),s(this,"nodeMap",{}),s(this,"treeRoot",null),s(this,"getNodeMap",function(){return t.nodeMap}),s(this,"getNode",function(e){return t.nodeMap[e]||null}),s(this,"getRoot",function(){return t.treeRoot}),s(this,"getPreOrderListTree",function(){return t.preOrderListTree}),s(this,"getRecursivelyOpenTreeFromNode",function(e){var r=[];if(e.isExpanded){var n=[],o=e.children||[],i=o.filter(function(e){return e.numChildren>0}),a=o.filter(function(e){return 0===e.numChildren}),l=i.sort(y);[].concat(a.sort(y),l).forEach(function(e){var r=t.getNode(e.fullyQualifiedPath);r&&n.push(r)},t),n.forEach(function(e,n){r=r.concat([e],t.getRecursivelyOpenTreeFromNode(e))},t)}return r}),s(this,"collapseAllChildrenNodes",function(e){var r;e&&(e.isExpanded=!1,null===(r=e.children)||void 0===r||r.forEach(function(e){t.collapseAllChildrenNodes(e)}))}),s(this,"populatePreOrderListTree",function(e){var r=[];return function e(t){var n;r.push(t),null===(n=t.children)||void 0===n||n.forEach(function(t){e(t)})}(null!=e?e:t.getRoot()),t.preOrderListTree=r,r}),s(this,"constructChildTree",function(e){var r=e.displayName,n=e.curData,a=e.parent,l=e.initialSelectedStatus,s=void 0===l?"NOT_SELECTED":l,c=e.selectLeaves,u=void 0!==c&&c,d=e.ordered,f=h(r,a&&a.fullyQualifiedPath),p={displayName:r,fullyQualifiedPath:f,parent:a,children:null,numChildren:0,numFullySelectedChildren:0,numPartiallySelectedChildren:0,selectedStatus:s,isExpanded:!1,level:a?a.level+1:0,expandOnSelect:!1};if(Object.keys(n).length>0){var y=new Map(o(Object.entries(n)));void 0!==d&&d&&(y=new Map(o(Object.entries(n)).sort()));var m,g=[],b=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw a}}}}(y);try{for(b.s();!(m=b.n()).done;){var _,v=(_=m.value,function(e){if(Array.isArray(e))return e}(_)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(_,2)||i(_,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),x=v[0],P=v[1];g.push(t.constructChildTree({displayName:x,curData:P,parent:p,initialSelectedStatus:s,selectLeaves:u}))}}catch(e){b.e(e)}finally{b.f()}p.children=g,p.numChildren=g.length}else u&&(p.selectedStatus="FULLY_SELECTED");return t.nodeMap[f]=p,p}),s(this,"partiallySelect",function(e){if("NOT_SELECTED"===e.selectedStatus){e.selectedStatus="PARTIALLY_SELECTED";var r=e.parent;r&&(r.numPartiallySelectedChildren+=1,t.partiallySelect(r))}}),s(this,"select",function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("FULLY_SELECTED"===e.selectedStatus)return e;if(e.children&&!r){var i=o&&!r&&!n;e.children.forEach(function(e){return t.select(e,!1,!0,i)})}o&&(e.isExpanded=!0);var a=e.parent;return a&&(a.numFullySelectedChildren+=1,"PARTIALLY_SELECTED"===e.selectedStatus&&(a.numPartiallySelectedChildren-=1),n||(a.numFullySelectedChildren===a.numChildren?t.select(a,!0,!1):t.partiallySelect(a))),e.selectedStatus="FULLY_SELECTED",e}),s(this,"partiallyDeselect",function(e){if("PARTIALLY_SELECTED"!==e.selectedStatus&&"FULLY_SELECTED"===e.selectedStatus){e.selectedStatus="PARTIALLY_SELECTED";var r=e.parent;r&&(r.numFullySelectedChildren-=1,r.numPartiallySelectedChildren+=1,"FULLY_SELECTED"===r.selectedStatus&&t.partiallyDeselect(r))}}),s(this,"deselect",function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("NOT_SELECTED"===e.selectedStatus)return e;e.children&&!r&&e.children.forEach(function(e){return t.deselect(e,!1,!0)});var o=e.parent;return o&&("FULLY_SELECTED"===e.selectedStatus?o.numFullySelectedChildren-=1:"PARTIALLY_SELECTED"===e.selectedStatus&&(o.numPartiallySelectedChildren-=1),n||(0===o.numFullySelectedChildren&&0===o.numPartiallySelectedChildren?t.deselect(o,!0,!1):"FULLY_SELECTED"===e.selectedStatus&&t.partiallyDeselect(o))),e.selectedStatus="NOT_SELECTED",e}),s(this,"updateFilterTree",function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.expandChildrenOnSelect,o=t.getNode(e);o&&("PARTIALLY_SELECTED"===o.selectedStatus||"FULLY_SELECTED"===o.selectedStatus?t.deselect(o):t.select(o,!1,!1,void 0===n||n))}),s(this,"updateTreeWithAPISelectedFilter",function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e){var n=Object.keys(e);if(n.length>0)n.forEach(function(n){var o=e[n],i=h(n,r);t.updateTreeWithAPISelectedFilter(o,i)});else{var o=t.getNode(r);o&&t.select(o)}}}),s(this,"createShallowTreeFromAPISelectedFilters",function(e,r){return t.treeRoot=t.constructChildTree({displayName:e,curData:r,parent:null,initialSelectedStatus:"PARTIALLY_SELECTED",selectLeaves:!0}),t.treeRoot}),s(this,"assignNewTree",function(e,r){r&&(t.treeRoot=e),t.nodeMap[e.fullyQualifiedPath]=e,e.children&&e.children.forEach(function(e){return t.assignNewTree(e,!1)})}),s(this,"createFilterTree",function(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.treeRoot=t.constructChildTree({displayName:e,curData:r,parent:null,ordered:n}),t.treeRoot})},d&&l(u.prototype,d),f&&l(u,f),Object.defineProperty(u,"prototype",{writable:!1}),u);t.ZP=m},306732:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,r){var o;return(o=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===n(o)?o:String(o))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Be:function(){return g},DD:function(){return k},EK:function(){return b},Eo:function(){return j},HK:function(){return ea},J_:function(){return eh},KO:function(){return Z},MD:function(){return V},MU:function(){return G},PD:function(){return Y},QE:function(){return z},QX:function(){return J},R0:function(){return en},Rd:function(){return ey},V0:function(){return w},VO:function(){return ef},WH:function(){return F},XT:function(){return C},Y3:function(){return v},aF:function(){return q},aZ:function(){return p},bS:function(){return S},cU:function(){return R},cm:function(){return Q},d0:function(){return D},eu:function(){return O},g2:function(){return L},gd:function(){return M},h1:function(){return K},h8:function(){return y},hh:function(){return T},iu:function(){return eo},j0:function(){return ep},j1:function(){return X},k7:function(){return ei},kc:function(){return P},kl:function(){return x},kq:function(){return E},l5:function(){return A},pF:function(){return W},pM:function(){return U},pV:function(){return I},ps:function(){return m},q9:function(){return _},qB:function(){return er},qf:function(){return eu},r2:function(){return N},rC:function(){return H},rD:function(){return ec},sG:function(){return $},ss:function(){return ed},t7:function(){return es},ul:function(){return h},vr:function(){return el},wZ:function(){return et},yA:function(){return ee},yq:function(){return B}});var i,a,l,s,c,u,d,f,p=864e5,h={IN_STOCK:"in stock",OUT_OF_STOCK:"out of stock",PREORDER:"preorder"},y={NEW:"new",USED:"used",REFURBISHED:"refurbished"},m={MALE:"male",FEMALE:"female",UNISEX:"unisex"},g=(o(i={},1,"All Products"),o(i,2,"Best Deals"),o(i,3,"Most Popular"),o(i,4,"Top Sellers"),o(i,5,"Back In Stock"),o(i,6,"New Arrivals"),i),b={FEATURED:"FEATURED",CAN_FEATURE:"CAN_FEATURE",FEATURING:"FEATURING",NO_FILTERS:"NO_FILTERS",TOO_FEW_PRODUCTS:"TOO_FEW_PRODUCTS",TOO_FEW_UNIQUE_PRODUCTS:"TOO_FEW_UNIQUE_PRODUCTS",TOO_MANY_PRODUCTS:"TOO_MANY_PRODUCTS",MAX_GROUPS_FEATURED:"MAX_GROUPS_FEATURED",UNFEATUREABLE:"UNFEATUREABLE"},_=[1,2,3,4,5,6,7,8],v=[1,2,3,4,5,6,8],x=[1,2,3,4,5,6,7,0,8],P=90,O=350,j=72,S=450,w=200,E=12,A=114,I={MERCHANT_CREATED:"MERCHANT_CREATED",ALL_PRODUCTS:"ALL_PRODUCTS"},C={FEATUREABLE:1,UNFEATUREABLE_NOT_ENOUGH_PINS:2,UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATUREABLE_EXCEEDED_PINS_LIMIT:4},T={ITEM_ID:"Item ID",PRODUCT_CATEGORY:"Category",PRODUCT_TYPE:"Product type",BRANDS:"Brands",COST:"Cost",CUSTOM_LABEL:"Custom",CUSTOM_LABEL_0:"Custom label 0",CUSTOM_LABEL_1:"Custom label 1",CUSTOM_LABEL_2:"Custom label 2",CUSTOM_LABEL_3:"Custom label 3",CUSTOM_LABEL_4:"Custom label 4",AVAILABILITY:"Availability",PRICE:"Price",GENDER:"Gender",CONDITION:"Condition",CURRENCY:"Currency",ITEM_GROUP_ID:"Item group ID"},D=[T.PRODUCT_CATEGORY,T.PRODUCT_TYPE,T.BRANDS,T.CUSTOM_LABEL_0,T.CUSTOM_LABEL_1,T.CUSTOM_LABEL_2,T.CUSTOM_LABEL_3,T.CUSTOM_LABEL_4],k=(o(a={},T.ITEM_ID,["ITEM_ID"]),o(a,T.ITEM_GROUP_ID,["ITEM_GROUP_ID"]),o(a,T.PRODUCT_CATEGORY,["GOOGLE_PRODUCT_CATEGORY_0"]),o(a,T.PRODUCT_TYPE,["PRODUCT_TYPE_0"]),o(a,T.COST,["MIN_PRICE","MAX_PRICE"]),o(a,T.BRANDS,["BRAND"]),o(a,T.CUSTOM_LABEL,["CUSTOM_LABEL_0","CUSTOM_LABEL_1","CUSTOM_LABEL_2","CUSTOM_LABEL_3","CUSTOM_LABEL_4"]),o(a,T.AVAILABILITY,["AVAILABILITY"]),o(a,T.CONDITION,["CONDITION"]),o(a,T.GENDER,["GENDER"]),a),R=[T.CUSTOM_LABEL,T.COST,T.CURRENCY],z=(o(l={},1,h.IN_STOCK),o(l,2,h.OUT_OF_STOCK),o(l,3,h.PREORDER),l),L=(o(s={},1,y.NEW),o(s,2,y.USED),o(s,3,y.REFURBISHED),s),M=(o(c={},1,m.MALE),o(c,2,m.FEMALE),o(c,3,m.UNISEX),c),N=(o(u={},1,T.ITEM_ID),o(u,5,T.PRODUCT_CATEGORY),o(u,12,T.PRODUCT_TYPE),o(u,3,T.BRANDS),o(u,2,T.AVAILABILITY),o(u,17,T.CUSTOM_LABEL_0),o(u,18,T.CUSTOM_LABEL_1),o(u,19,T.CUSTOM_LABEL_2),o(u,20,T.CUSTOM_LABEL_3),o(u,21,T.CUSTOM_LABEL_4),o(u,4,T.CONDITION),o(u,25,T.GENDER),o(u,22,T.PRICE),o(u,23,T.PRICE),o(u,26,T.CURRENCY),o(u,24,T.ITEM_GROUP_ID),u),B=(o(d={},T.ITEM_ID,1),o(d,T.PRODUCT_CATEGORY,5),o(d,T.PRODUCT_TYPE,12),o(d,T.BRANDS,3),o(d,T.AVAILABILITY,2),o(d,T.CUSTOM_LABEL_0,17),o(d,T.CUSTOM_LABEL_1,18),o(d,T.CUSTOM_LABEL_2,19),o(d,T.CUSTOM_LABEL_3,20),o(d,T.CUSTOM_LABEL_4,21),o(d,T.CONDITION,4),o(d,T.GENDER,25),o(d,T.PRICE,23),o(d,T.CURRENCY,26),o(d,T.ITEM_GROUP_ID,24),d),F={GREATER_INCLUSION:"0",GREATER_EXCLUSION:"1",LESS_INCLUSION:"2",LESS_EXCLUSION:"3"},Z=(o(f={},F.GREATER_EXCLUSION,{filterType:22,filterOperator:{negated:!1,inclusion:!1}}),o(f,F.GREATER_INCLUSION,{filterType:22,filterOperator:{negated:!1,inclusion:!0}}),o(f,F.LESS_EXCLUSION,{filterType:23,filterOperator:{negated:!1,inclusion:!1}}),o(f,F.LESS_INCLUSION,{filterType:23,filterOperator:{negated:!1,inclusion:!0}}),f),U="newlyCreatedPGId",H="storefront",V={campaignId:"createNewCampaign",objectiveType:"CATALOG_SALES",absolutify:!0},G=163,W=350,Y={LIST:"LIST",GRID:"GRID"},X="236x",q=23,K=164,$=256,J=112,Q="calc(100vh - ".concat(175,"px)"),ee=75,et=200,er=40,en={PRODUCT_GROUP_NAME:"PRODUCT_GROUP_NAME",PRODUCT_COUNT:"PRODUCT_COUNT",PRODUCT_AVAILABILITY:"PRODUCT_AVAILABILITY",LAST_UPDATE:"LAST_UPDATE",PRODUCT_GROUP_PROMOTED:"PRODUCT_GROUP_PROMOTED",PRODUCT_GROUP_FEATURED:"PRODUCT_GROUP_FEATURED",PRODUCT_GROUP_ACTIONS:"PRODUCT_GROUP_ACTIONS",PG_METRIC:"PG_METRIC",PRODUCT_GROUP_COUNTRY:"PRODUCT_GROUP_COUNTRY"},eo=500,ei=20,ea=40,el=100,es=4,ec={DELETE_FAILED:"DELETE_FAILED",DELETE_SUCCESSFULLY:"DELETE_SUCCESSFULLY",REMOVE_SUCCESSFULLY:"REMOVE_SUCCESSFULLY"},eu={ALL:"ALL",MIXED:"MIXED",FEED_PROFILE:"FEED_PROFILE"},ed="US",ef="selectedCountryKey",ep="selectedFeedProfileId",eh="activated",ey="ads_create_source_param"},572621:function(e,t,r){"use strict";r.d(t,{Wq:function(){return x},WO:function(){return D},vO:function(){return T},Lq:function(){return z},Nh:function(){return M},ii:function(){return W},bV:function(){return Y},sq:function(){return G},P4:function(){return P},yY:function(){return L},of:function(){return j},_S:function(){return F},Iw:function(){return U},i9:function(){return C},WU:function(){return O},LM:function(){return N},l_:function(){return V},Eh:function(){return X},G6:function(){return Z},DC:function(){return I},RZ:function(){return R},$H:function(){return k},vC:function(){return A},Ei:function(){return E},fG:function(){return w},VT:function(){return H},qF:function(){return B}});var n=r(41861),o=r(594736),i=r(349700),a=r(170528),l=r(844974),s=r(458451),c={ITEM_ID:1,AVAILABILITY:2,BRAND:3,CONDITION:4,GOOGLE_PRODUCT_CATEGORY_0:5,GOOGLE_PRODUCT_CATEGORY_1:6,GOOGLE_PRODUCT_CATEGORY_2:7,GOOGLE_PRODUCT_CATEGORY_3:8,GOOGLE_PRODUCT_CATEGORY_4:9,GOOGLE_PRODUCT_CATEGORY_5:10,GOOGLE_PRODUCT_CATEGORY_6:11,PRODUCT_TYPE_0:12,PRODUCT_TYPE_1:13,PRODUCT_TYPE_2:14,PRODUCT_TYPE_3:15,PRODUCT_TYPE_4:16,CUSTOM_LABEL_0:17,CUSTOM_LABEL_1:18,CUSTOM_LABEL_2:19,CUSTOM_LABEL_3:20,CUSTOM_LABEL_4:21,MIN_PRICE:22,MAX_PRICE:23,ITEM_GROUP_ID:24,GENDER:25,CURRENCY:26,COUNTRY:27,MEDIA_TYPE:28,PRODUCT_GROUP:29},u=r(306732),d=r(9034);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t,r){var n;return(n=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===f(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e){return u.DD[e]?u.DD[e].map(function(e){return c[e]}):[]},_=function(e,t){var r;return(g(r={},u.h8.NEW,t._('new', 'Catalogs.ProductGroups.contitionType.new', 'Product Groups new contition type')),g(r,u.h8.USED,t._('used', 'Catalogs.ProductGroups.contitionType.used', 'Product Groups used contition type')),g(r,u.h8.REFURBISHED,t._('refurbished', 'Catalogs.ProductGroups.contitionType.refurbished', 'Product Groups refurbished contition type')),r)[e]},v=function(e,t){var r;return(g(r={},u.ps.MALE,t._('male', 'Catalogs.ProductGroups.genderType.male', 'Product Groups male gender type')),g(r,u.ps.FEMALE,t._('female', 'Catalogs.ProductGroups.genderType.female', 'Product Groups female gender type')),g(r,u.ps.UNISEX,t._('unisex', 'Catalogs.ProductGroups.genderType.unisex', 'Product Groups unisex gender type')),r)[e]},x=function(e,t){var r;return(g(r={},u.ul.IN_STOCK,t._('in stock', 'Catalogs.ProductGroups.availabilityType.inStock', 'Product Groups in stock availability type')),g(r,u.ul.OUT_OF_STOCK,t._('out of stock', 'Catalogs.ProductGroups.availabilityType.outOfStock', 'Product Groups out of stock availability type')),g(r,u.ul.PREORDER,t._('preorder', 'Catalogs.ProductGroups.availabilityType.preorder', 'Product Groups preorder availability type')),r)[e]},P=function(e,t){switch(e){case u.hh.PRODUCT_CATEGORY:return t._('Category', 'FilterType.Category.filterType', 'Category filter type.');case u.hh.PRODUCT_TYPE:return t._('Product type', 'FilterType.Product.filterType', 'Product type filter type.');case u.hh.COST:return t._('Cost', 'FilterType.Cost.filterType', 'Cost filter type.');case u.hh.BRANDS:return t._('Brands', 'FilterType.Brands.filterType', 'Brands filter type.');case u.hh.CUSTOM_LABEL:return t._('Custom', 'FilterType.Custom.filterType', 'Custom filter type.');case u.hh.ITEM_ID:return t._('Item ID', 'FilterType.ItemID.filterType', 'Item ID filter type.');case u.hh.CUSTOM_LABEL_0:return t._('Custom label 0', 'FilterType.CustomLabel0.filterType', 'Custom label 0 filter type.');case u.hh.CUSTOM_LABEL_1:return t._('Custom label 1', 'FilterType.CustomLabel1.filterType', 'Custom label 1 filter type.');case u.hh.CUSTOM_LABEL_2:return t._('Custom label 2', 'FilterType.CustomLabel2.filterType', 'Custom label 2 filter type.');case u.hh.CUSTOM_LABEL_3:return t._('Custom label 3', 'FilterType.CustomLabel3.filterType', 'Custom label 3 filter type.');case u.hh.CUSTOM_LABEL_4:return t._('Custom label 4', 'FilterType.CustomLabel4.filterType', 'Custom label 4 filter type.');case u.hh.AVAILABILITY:return t._('Availability', 'FilterType.Availability.filterType', 'Availability filter type.');case u.hh.PRICE:return t._('Price', 'FilterType.Price.filterType', 'Price filter type.');case u.hh.GENDER:return t._('Gender', 'FilterType.Gender.filterType', 'Gender filter type.');case u.hh.CONDITION:return t._('Condition', 'FilterType.Condition.filterType', 'Condition filter type.');case u.hh.CURRENCY:return t._('Currency', 'FilterType.Currency.filterType', 'Currency filter type.');case u.hh.ITEM_GROUP_ID:return t._('Item group ID', 'FilterType.ItemGroupID.filterType', 'Item group ID filter type.');default:return t._('Unknown Type', 'FilterType.Unknown.filterType', 'Unknown filter type.')}},O=function(e,t,r,n){if("number"!=typeof t)return"";var o=23===e?null!=r&&r.inclusion?"<=":"<":22===e?null!=r&&r.inclusion?">=":">":"";return(0,i.Wc)(n._('Price ({{operator}} {{price}})', 'catalogs.productGroup.filterValueDropdown.selectedValue', 'Text indicating how many more values were selected'),{operator:o,price:"number"==typeof t?"".concat(t):""})},j=function(e,t,r){var n,o,i;switch(t){case 2:return(0,s.Z)(null!==(n=x(u.QE[Number(e)],r))&&void 0!==n?n:r._('Unknown Type', 'Catalogs.AvailabilityType.Unknown', 'Unknown availability type.'));case 4:return(0,s.Z)(null!==(o=_(u.g2[Number(e)],r))&&void 0!==o?o:r._('Unknown Type', 'Catalogs.ProductGroups.conditionType.Unknown', 'Unknown condition type.'));case 25:return(0,s.Z)(null!==(i=v(u.gd[Number(e)],r))&&void 0!==i?i:r._('Unknown Type', 'Catalogs.ProductGroups.genderType.Unknown', 'Unknown gender type.'));default:return e}},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;return{displayName:e,checked:t,index:r,key:e}},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map(function(e,r){return S(e,t.includes(e),r)})},E=function(e){var t;return e?(g(t={},u.hh.ITEM_ID,e[b(u.hh.ITEM_ID)[0]]||[]),g(t,u.hh.ITEM_GROUP_ID,e[b(u.hh.ITEM_GROUP_ID)[0]]||[]),g(t,u.hh.PRODUCT_CATEGORY,e[b(u.hh.PRODUCT_CATEGORY)[0]]||{}),g(t,u.hh.PRODUCT_TYPE,e[b(u.hh.PRODUCT_TYPE)[0]]||{}),g(t,u.hh.BRANDS,e[b(u.hh.BRANDS)[0]]||[]),g(t,u.hh.CUSTOM_LABEL_0,e[b(u.hh.CUSTOM_LABEL)[0]]||[]),g(t,u.hh.CUSTOM_LABEL_1,e[b(u.hh.CUSTOM_LABEL)[1]]||[]),g(t,u.hh.CUSTOM_LABEL_2,e[b(u.hh.CUSTOM_LABEL)[2]]||[]),g(t,u.hh.CUSTOM_LABEL_3,e[b(u.hh.CUSTOM_LABEL)[3]]||[]),g(t,u.hh.CUSTOM_LABEL_4,e[b(u.hh.CUSTOM_LABEL)[4]]||[]),g(t,u.hh.AVAILABILITY,e[b(u.hh.AVAILABILITY)[0]]||[]),g(t,u.hh.GENDER,e[b(u.hh.GENDER)[0]]||[]),g(t,u.hh.CONDITION,e[b(u.hh.CONDITION)[0]]||[]),t):{}},A=function(e){return!u.d0.includes(e)},I=function(e){return!u.cU.includes(e)},C=function(e){if(!e)return[];var t=[];return u.d0.forEach(function(r){var n,o,i,a,l,s,c;switch(r){case u.hh.PRODUCT_CATEGORY:case u.hh.PRODUCT_TYPE:Object.keys(null!==(n=e[b(r)])&&void 0!==n?n:{}).length>0&&t.push(r);break;case u.hh.CUSTOM_LABEL_0:(null!==(o=e[b(u.hh.CUSTOM_LABEL)[0]])&&void 0!==o?o:[]).length>0&&t.push(r);break;case u.hh.CUSTOM_LABEL_1:(null!==(i=e[b(u.hh.CUSTOM_LABEL)[1]])&&void 0!==i?i:[]).length>0&&t.push(r);break;case u.hh.CUSTOM_LABEL_2:(null!==(a=e[b(u.hh.CUSTOM_LABEL)[2]])&&void 0!==a?a:[]).length>0&&t.push(r);break;case u.hh.CUSTOM_LABEL_3:(null!==(l=e[b(u.hh.CUSTOM_LABEL)[3]])&&void 0!==l?l:[]).length>0&&t.push(r);break;case u.hh.CUSTOM_LABEL_4:(null!==(s=e[b(u.hh.CUSTOM_LABEL)[4]])&&void 0!==s?s:[]).length>0&&t.push(r);break;default:(null!==(c=e[b(r)])&&void 0!==c?c:[]).length>0&&t.push(r)}}),t},T=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];return t.forEach(function(t){if("NOT_SELECTED"!==t.selectedStatus){if("FULLY_SELECTED"!==t.selectedStatus||t!==r&&t.children){if(t.children&&t.children.length){var o=e(t.children,r);o.length&&n.push.apply(n,y(o))}}else n.push(t.fullyQualifiedPath.split(d.f7).slice(1))}}),n},D=function(e){return e.reduce(function(e,t){var r=t.displayName,n=t.checked;return e.push.apply(e,y(n?[r]:[])),e},[])},k=function(e){return[23,22].includes(e)},R=function(e){return[1,24].includes(e)},z=function(e){var t=e.logicalOperator,r=e.filterOrders,n=e.filterValueById,o=e.filterTypeById,i=e.filterOperatorById,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{logical_operator:t,criteria:r.map(function(e){var t,r,l,s;return k(o[e])?{key:o[e],values:n[e],negated:!!(null!==(r=i[e])&&void 0!==r&&r.negated),inclusion:!!(null!==(l=i[e])&&void 0!==l&&l.inclusion)}:26===o[e]?{key:o[e],values:n[e]}:a&&[12,5].includes(o[e])&&Array.isArray(n[e])?{key:o[e],values:n[e].map(function(e){return Array.isArray(e)?e:e.split(">").map(function(e){return e.trim()})}),negated:!!(null!==(s=i[e])&&void 0!==s&&s.negated)}:{key:o[e],values:n[e],negated:!!(null!==(t=i[e])&&void 0!==t&&t.negated)}})}},L=function(e){var t=e.filterValueById,r=e.filterTypeById,n=Object.keys(r).find(function(e){return 26===r[e]});return n?{id:n,value:"string"==typeof t[n]?t[n]:""}:null},M=function(e){var t=L(e);return e.filterOrders.filter(function(e){return(null==t?void 0:t.id)!==e}).length},N=function(e){var t=e.filterValueById,r=e.filterTypeById;return e.filterOrders.filter(function(e){return k(r[e])}).map(function(e){return{id:e,value:t[e]}})},B=function(e,t,r){var i,a,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=l.customComparator,c=l.defaultValue,u=null!=s?s:function(e,t){return(0,o.ZP)(e[r],t[r])},d=(i=t.id,e.find(function(e){return i===e.id}));return d&&!u(t,d)?h(h({},d),{},g({},r,null!==(a=(0,n.Z)(t[r]))&&void 0!==a?a:c)):null},F=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.omitProps,i=void 0===n?[]:n,l=!1;e.length!==t.length&&(l=!0);var s=t.map(function(t){var r=e.find(function(e){return e.id===t.id});if(!r)return l=!0,h({},t);var n=(0,a.Z)(t,i);return(0,o.ZP)(n,(0,a.Z)(r,i))?h({},r):(l=!0,h(h({},r),n))});return l?s:e},Z=function(){return["pin.description","pin.dominant_color","pin.grid_title","pin.id","pin.images[170x, 236x, 474x, orig]","pin.price_currency","pin.price_value","pin.rich_metadata()","pin.rich_summary()","pin.title"]},U=function(e){return"badge_"+e},H=function(e){var t=new Date;e.forEach(function(e){return(0,l.Nh)(U(e),t.getTime()+108e5)})},V=function(e){var t=u.kl.indexOf(e);return -1===t?u.kl.length:t},G=function(e,t){return t.filter(function(t){var r=t.name,n=t.id;return r.toLowerCase().includes(e.toLowerCase())||n.toString().includes(e)})},W=function(e){return e.filter(function(e){return!e.feedProfileId})},Y=function(e,t){return t.filter(function(t){var r=t.country;return r&&r===e})},X=function(e,t,r){var n=Object.freeze({});return e&&(n=h(h({},n),{},g({},u.VO,e))),t&&(n=h(h({},n),{},g({},u.j0,t))),r&&(n=h(h({},n),{},g({},u.pM,r))),n}},869899:function(e,t,r){"use strict";r.r(t),r.d(t,{RoleBasedAccessControlProvider:function(){return A},useRoleBasedAccessControlContext:function(){return E}});var n=r(76911),o=r(425288),i=r(773285),a=r(784590),l=r(19121),s=r(389643),c=r(339363),u=r(70061);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=function e(t){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&("object"!==p(t[n])||null===t[n]||Array.isArray(t[n])?r[(0,u.Z)(n)]=t[n]:r[(0,u.Z)(n)]=e(t[n]));return r},y=function(e,t){var r=[];for(var n in e)n!==t&&r.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==p(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({id:n},h(e[n])));var o,i=r.sort(function(e,t){var r=e.user.businessName,n=t.user.businessName;return r.localeCompare(n)}),a=new Map,l=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}(i);try{for(l.s();!(o=l.n()).done;){var s=o.value;a.set(s.id,s)}}catch(e){l.e(e)}finally{l.f()}return a};function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var v={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},x=function(e,t){switch(t.type){case"LOAD_PROFILES":return _(_({},e),{},{profiles:t.payload});case"SET_ACTIVE_PROFILE":return _(_({},e),{},{activeProfile:t.payload});case"TOGGLE_HEADER_VISIBILITY":return _(_({},e),{},{headerVisible:t.payload});case"TOGGLE_ORBAC_VISIBILITY":return _(_({},e),{},{orbacVisibility:t.payload});case"TOGGLE_DISABLE_PROFILE_CHANGER":return _(_({},e),{},{disableProfileChanger:t.payload});default:return e}},P=function(e){var t=e.dispatch,r=e.isEnabled,o=e.state,i=o.orbacVisibility,a=o.disableProfileChanger,l=o.headerVisible;return{changeProfile:(0,n.useCallback)(function(e){r&&t({type:"SET_ACTIVE_PROFILE",payload:e})},[r,t]),toggleORBACVisibility:(0,n.useCallback)(function(e){r&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=e?e:!i})},[r,t,i]),toggleDisableProfileChanger:(0,n.useCallback)(function(e){r&&t({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=e?e:!a})},[r,t,a]),toggleHeaderVisibility:(0,n.useCallback)(function(e){r&&t({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=e?e:!l})},[r,t,l])}},O=function(e){var t,r=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(x,v))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],i=r[1],a=P({dispatch:i,isEnabled:e,state:o}),l=o.activeProfile,s=o.orbacVisibility;return(0,n.useEffect)(function(){var e=(0,c.qn)("orbacActiveProfile",!1);e&&i({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,n.useEffect)(function(){var e=(0,c.qn)("orbacVisibilty",!1);e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,n.useEffect)(function(){(0,c.Nh)("orbacVisibility",s)},[s]),(0,n.useEffect)(function(){(0,c.Nh)("orbacActiveProfile",l)},[l]),{state:o,actions:a,receiveProfiles:(0,n.useCallback)(function(e,t){i({type:"LOAD_PROFILES",payload:y(e,t)})},[i])}},j=r(515198),S=(0,o.Z)("RoleBasedAccessControlContext"),w=S.Provider,E=S.useMaybeHook,A=function(e){var t,r=e.children,o=(0,i.F)().checkExperiment,c=(0,l.Z)(),u=!!(c.isAuth&&c.isPartner&&o("web_m10n_business_access_orbac_www").anyEnabled),d=O(u),f=d.state,p=d.actions,h=d.receiveProfiles,y=f.activeProfile,m=f.headerVisible,g=f.profiles,b=void 0===g?[]:g,_=b?Array.from(b.values()):[],v=(0,s.Z)(_),x=!!c.isAuth&&_.length>0&&v,P=c.isAuth?c.id:"",S=c.isAuth?c.username:"",E=p.changeProfile,A=p.toggleORBACVisibility,I=p.toggleDisableProfileChanger,C=p.toggleHeaderVisibility;(0,n.useEffect)(function(){if(u){if("string"==typeof v){E(v);return}y||E(P)}},[v,P,u,E,y]),(0,n.useEffect)(function(){u&&(x&&!m&&C(!0),!x&&m&&C(!1))},[C,x,u,m,b]);var T=(0,a.Z)(u?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null).data,D=null==T?void 0:T.profiles;c&&c.isAuth&&f.activeProfile===c.id?t={id:c.id,permissions:["OWNER"],user:{username:S,businessName:c.fullName,imgUrl:c.imageSmallUrl}}:y&&f.profiles&&(t=f.profiles.get(y)),(0,n.useEffect)(function(){D&&h(D,P)},[h,D,P]);var k=f.profiles?Array.from(f.profiles.values()):[];return(0,j.jsx)(w,{value:{profiles:k,headerVisible:f.headerVisible,activeProfile:t,changeProfile:E,toggleORBACVisibility:A,toggleDisableProfileChanger:I,toggleHeaderVisibility:C},children:r})}},717615:function(e,t,r){"use strict";var n=r(773285),o=r(869899),i=r(389643);t.Z=function(){var e=(0,n.F)().checkExperiment,t=(0,o.useRoleBasedAccessControlContext)(),r=(t||{}).activeProfile,a=e("web_m10n_business_access_orbac_www").anyEnabled,l=(0,i.Z)((null==t?void 0:t.profiles)||[]),s=e("useorbacroutematcher_in_useorbacactingas").anyEnabled;return a&&(!s||l)&&r&&(r.viewerMeetsMfaRequirement||(r.permissions||[]).includes("OWNER"))?r:Object.freeze({})}},76696:function(e,t,r){"use strict";var n=r(773285),o=r(780280),i=r(869899),a=r(717615);t.Z=function(){var e,t=(0,n.F)().checkExperiment("web_m10n_orbac_in_create_flow").anyEnabled,r=(0,o.B)().advertiser,l=(0,a.Z)(),s=((null===(e=(0,i.useRoleBasedAccessControlContext)())||void 0===e?void 0:e.profiles)||[]).find(function(e){return(null==e?void 0:e.id)===(null==r?void 0:r.owner_user_id)});return t&&s||l}},389643:function(e,t,r){"use strict";var n=r(599689),o=r(53987),i=r(773285),a=r(19121),l=r(350118);t.Z=function(e){var t,r,s,c,u=(0,n.useLocation)(),d=(0,a.Z)(),f=(0,l.S6)(),p=(0,i.F)().checkExperiment("web_m10n_business_access_orbac_www").anyEnabled,h=(0,n.useRouteMatch)("/:username"),y=null==h?void 0:null===(t=h.params)||void 0===t?void 0:t.username,m=(0,n.useRouteMatch)("/pin/:id"),g=null!=m&&null!==(r=m.params)&&void 0!==r&&!!r.id&&(null===(s=f(m.params.id))||void 0===s?void 0:null===(c=s.pinner)||void 0===c?void 0:c.id);if((0,o.ej)(u))return!1;if((0,o.RU)(u))return!0;if((0,o.mY)(u))return p;var b=e.concat(d.isAuth?{user:{username:d.username},id:d.id}:{}).find(function(e){var t=e||{},r=t.user,n=t.id,o=(void 0===r?{}:r).username;return(!!o&&!!y||!!g&&!!n)&&(o===y||g===n)});return!!b&&b.id}},845772:function(e,t,r){"use strict";var n=r(19121),o=r(717615),i=r(231947);t.Z=function(){var e=(0,n.Z)(),t=(0,o.Z)();return(0,i.lJ)(e,t)}},231947:function(e,t,r){"use strict";r.d(t,{D3:function(){return c},DX:function(){return l},KY:function(){return u},Ms:function(){return n},N1:function(){return d},_P:function(){return a},lJ:function(){return i},nl:function(){return o},q6:function(){return s}});var n=function(e,t){var r=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(r=t.user.username),r},o=function(e,t){return!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool)},i=function(e,t){return e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:""},a=function(e,t,r){var n;return r&&r.user&&t&&t.isAuth&&r.id!==t.id?r.user.merchantId:null===(n=e.advertiser)||void 0===n?void 0:n.merchant_id},l=function(e,t,r){return r&&r.user&&e.isAuth&&r.id!==e.id?r.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0},s=function(e,t,r){return!!(e&&e.isAuth&&r&&r.id&&r.id!==e.id&&r.id===t)},c=function(e,t,r){return!!(s(e,t,r)||e&&e.isAuth&&t===e.id)},u=function(e,t,r){return c(e,t&&t.owner&&t.owner.id||"",r)};function d(e,t,r){return c(e,t?t.id:"",r)}},641692:function(e,t,r){"use strict";r.d(t,{uB:function(){return C},re:function(){return T},Xc:function(){return R},NH:function(){return k},Mz:function(){return D},Mj:function(){return V},LZ:function(){return Z},Lu:function(){return F},es:function(){return U},i5:function(){return K},QR:function(){return en},xV:function(){return Y},o_:function(){return et},d5:function(){return N},if:function(){return J},xQ:function(){return M},O9:function(){return z},bq:function(){return X},HH:function(){return q},Ti:function(){return G},cG:function(){return L},Hw:function(){return H},YA:function(){return Q},HC:function(){return W},Y8:function(){return $},$n:function(){return ee}});var n,o=r(983722),i=r(382891),a=r(709622);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u=function(e){var t=e.values,r=e.pin,n=e.productGroup,o=e.country,l=e.inFdbExp,s=t.name,u=t.destination_url,d=t.budget,f=t.duration,p=t.inclusive_end_date,h=t.is_ongoing,y=t.advertiser_id,m=t.ages,g=t.interests,b=t.genders,_=t.ad_type,v=t.selected_ocpm_tag,x=t.isAutoTargeting,P=t.is_fdb,O=Math.round(d*a.Az),j=(0,i.Z)({ages:m,interests:g,genders:b,country:o}),S={};_===a.Hl.WEB_CONVERSION&&(S.objective_type=a.Hl.WEB_CONVERSION,S.optimization_goal_metadata={conversion_tag_v3_goal_metadata:{conversion_tag_id:v.conversionTagId,conversion_event:v.conversionEvent}});var w=c(c({budget_in_micro_currency:O,campaign_name:s&&s.length<64?s:"".concat((s||"").substr(0,62),""),destination_url:r?u:null,duration:parseInt(f,10),auto_targeting_enabled:x,is_ongoing:h,start_now:!0,targeting_spec:j,advertiser_id:y,ads_client_type:"quick_promote",pin_id:r?r.id:null,product_group_id:n?n.id:null},S),{},{flexible_daily_budget_enabled:!!l&&P});return!h&&p&&p.trim().length>0&&(w.inclusive_end_date=p),w},d=r(28543),f=r(186656),p=r(251819),h=r(957161),y=r(966113),m=r(826067),g=r(170168),b=r(934723),_=r(572621),v=r(709113),x=r(67347);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){S(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function S(e,t,r){var n;return(n=function(e,t){if("object"!==P(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==P(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===P(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function E(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){w(i,n,o,a,l,"next",e)}function l(e){w(i,n,o,a,l,"throw",e)}a(void 0)})}}function A(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var C=472,T=364,D={VIEW:"view",SUBMIT:"submit",SUBMIT_SUCCESS:"submit.success",SUBMIT_ERROR:"submit.error"},k={CLICK:"click",DISMISS:"dismiss",RENDER:"render"},R={BIZ_HUB_AD_CREDITS:"biz_hub_ad_credits",BIZ_HUB_EMPTY_STATE_ADS_WIDGET:"biz_hub_empty_state_ads_widget",BIZ_HUB_CREATE_AD:"biz_hub_create_ad",CLOSEUP_PARTNER_MODULE:"closeup_partner_module",NAVBAR_PROMOTE_PIN:"navbar_promote_pin",PIN_CREATE_SUCCESS:"pin_create_success",PIN_CREATE_SUCCESS_PINNER:"pin_create_success_pinner",PIN_REP:"pin_rep",PINANALYTICS:"pinanalytics",TRENDS_HOME_PAGE:"trends_home_page",TRENDS_DETAILS_PAGE:"trends_details_page",BIZ_HUB_TOP_CAROUSEL_SECTION:"biz_hub_top_carousel_section"},z=function(e){return{isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e}},L=function(e){var t=e.isAnalyticsSite,r=e.isSterlingSite,n=e.isWwwSite,o=e.loggingType,i="";void 0!==t&&t?i=".analytics":void 0!==n&&n?i=".www":void 0!==r&&r&&(i=".ads"),(0,x.nP)("sterling.quick_promote.page".concat(i,".").concat(o),{sampleRate:1})},M=function(e){return e?a.vX.indexOf(e):-1},N=function(e){if(null!=e&&!(e<0)&&!(e>a.vX.length-1))return a.vX[e]},B=function(e){return e===a.Gl.BUSINESS_FORM?{element:11213,component:13375}:e===a.Gl.BILLING_FORM?{element:11214,component:13376}:{component:205,element:1223}},F=function(e,t){var r=B(N(e));t({event_type:101,component:r.component,element:r.element,aux_data:{page:"GestaltQuickPromote"}})},Z=function(e,t){var r=N(e),n=B(r).component;r===a.Gl.PIN_SELECTION_MODAL?t({event_type:6358,component:13288,aux_data:{page:"GestaltQuickPromote"}}):r===a.Gl.SUCCESS_MODAL&&t({event_type:6358,component:n,aux_data:{page:"GestaltQuickPromote"}})},U=function(e,t){var r=A(new Set(null==e?void 0:e.split("+")));return t&&r.filter(function(e){return e in t})},H=function(e,t){if(!t||!e)return"";var r="https://".concat(y.KUo),n="?campaign_id=".concat(t.campaign_id,"&objective_type=CLICKTHROUGH&is_quick_promote=true");return"".concat(r,"/advertiser/").concat(e,"/billing/").concat(n)},V=function(e,t){if(!e)return"";var r=e.ad_group_id,n=(0,d.default)("adgroup",t,{id:void 0===r?"":r,showAllEntities:!0});return(0,b.Z)({advertiser:null,isAdsSite:!1,isAnalyticsSite:!1,isTrendsSite:!1,baseUrl:n,adsUrl:null,isQuickPromote:!0})},G=function(e){return{hasValidBusinessInfo:e.hasBusinessAddress||e.hasBusinessInfo,hasValidBillingInfo:e.hasValidBillingProfile||e.hasBillingInfo}},W=(n=E(regeneratorRuntime.mark(function e(t){var r,n,o,i,a,l,s,c,d,p,h,y,m,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pin,n=t.productGroup,o=t.country,i=t.onSaveSuccess,a=t.onSaveFailed,l=t.quickPromoteFormValues,s=t.advertiserId,c=t.inFdbExp,d=r?"/ads/v4/advertisers/".concat(s,"/pins/").concat((null==r?void 0:r.id)||"","/quick_promote/"):"/ads/v4/advertisers/".concat(s,"/product_group/").concat((null==n?void 0:n.id)||"","/quick_promote/"),p=r?"pin":"product_group",e.prev=3,e.next=6,(0,f.Z)({url:d,method:"POST",data:u({values:l,pin:r,productGroup:n,country:o,inFdbExp:c})});case 6:(h=e.sent.resource_response).data&&i(h.data),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),y=e.t0.httpStatus,g=(m=e.t0.message_detail)?{area:401===y?p:"modal",message:m}:{area:"modal"},a(g);case 16:case"end":return e.stop()}},e,null,[[3,11]])})),function(e){return n.apply(this,arguments)}),Y=function(e){var t=e.hasValidBillingProfile,r=e.hasBusinessAddress,n=e.hasBillingInfo,o=e.hasBusinessInfo,i=e.serverErrorArea,l=e.stepIndex,s=e.isQuickPromotePage,c=G({hasValidBillingProfile:t,hasBusinessAddress:r,hasBillingInfo:n,hasBusinessInfo:o}),u=c.hasValidBusinessInfo,d=c.hasValidBillingInfo,f=[void 0,null].includes(l)?0:l+1;return N(l)!==a.hf||(i?f="modal"===i?M(a.Gl.ERROR_MODAL):l:u&&d?f=M(a.Gl.SUCCESS_MODAL):u?f=M(a.Gl.BILLING_FORM):void 0!==s&&s||(f=M(a.Gl.BUSINESS_FORM))),f>a.vX.length-1?void 0:f},X=function(e){var t=a.Pq.WIDE;return e<870?t=a.Pq.NARROW:e>=870&&e<=1275&&(t=a.Pq.MEDIUM),t},q=function(e,t,r){var n,i,a=(0,m.mB)(e.search).crossSite;if(null!==(n=null===(i=(0,o.Z)())||void 0===i?void 0:i.experimentsClient.checkExperiment("advertiser_growth_close_modal_window_without_history").anyEnabled)&&void 0!==n&&n&&t.length<=1){window.close();return}window?A(Array(r.find(function(e){return e&&e.location&&e.location.pathname.includes("pin-builder")})?3:1)).forEach(function(){return a?window.history.back():t.goBack()}):t.goBack()},K=function(e){switch(e){case 4:return g.YD;case 3:return y.KUo;case 0:return g.Vi;default:return null}},$=function(e,t,r){h.Z.setItem(v.hM,j(j({},h.Z.getItem(v.hM)),{},S({},"".concat(t,".").concat(e),{pin:r.pin,dailyBudget:r.dailyBudget,destinationUrl:r.destinationUrl,duration:r.duration,locale:r.locale,name:r.name,interests:r.interests,ages:r.ages,genders:r.genders,adType:r.adType})))},J=function(e,t){if(!e||!t)return null;var r="".concat(t,".").concat(e),n=h.Z.getItem(v.hM);if(null===n)return null;var o=n[r];return(0,p.Z)(o)?null:o},Q=function(e,t){if(e&&t){var r="".concat(t,".").concat(e),n=h.Z.getItem(v.hM);null!==n&&(delete n[r],0===Object.keys(n).length?h.Z.removeItem(v.hM):h.Z.setItem(v.hM,n))}};function ee(e,t){var r=A(e),n=r.indexOf(t);return n>-1?r.splice(n,1):r.push(t),r}function et(e,t,r){return er.apply(this,arguments)}function er(){return(er=E(regeneratorRuntime.mark(function e(t,r,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.filter(function(e){return e.filter_v2}),e.next=3,Promise.all(o.map(function(){var e=E(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(0,x.nP)("client.partner.shoppingAds.getProductsForCatalog.success",{sampleRate:1}),e.next=4,(0,f.Z)({url:"/v3/catalogs/product_groups/products/".concat(t.merchant_id,"/").concat(t.feed_profile_id,"/"),enabledRouteRefresh:!0,data:{filters:JSON.stringify(t.filter_v2)},field_sets:(0,_.G6)()});case 4:return r=e.sent,e.abrupt("return",{productGroup:t,pins:r.resource_response.data||[]});case 8:return e.prev=8,e.t0=e.catch(0),(0,x.nP)("client.partner.shoppingAds.getProductsForCatalog.error",{sampleRate:1}),e.abrupt("return",[]);case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()));case 3:n(r(e.sent.filter(function(e){return e.productGroup&&Array.isArray(e.pins)&&e.pins.length>0}).map(function(e){return{productPin:Array.isArray(e.pins)?e.pins[0]:[],productGroup:Array.isArray(e)?null:e.productGroup}})));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function en(e,t,r,n){return eo.apply(this,arguments)}function eo(){return(eo=E(regeneratorRuntime.mark(function e(t,r,n,o){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.all(r.map(function(){var e=E(regeneratorRuntime.mark(function e(r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.Z)({url:"/ads/v4/advertisers/".concat(t,"/product_groups/catalogs/"),enabledRouteRefresh:!0,data:{feed_profile_id:r.id}});case 3:return n=(e.sent.resource_response.data||[]).filter(function(e){return e.product_count&&e.product_count>0}),e.abrupt("return",{feed:r,productGroups:n});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",[]);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()));case 4:o(n(e.sent));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}},438112:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,r){var o;return(o=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===n(o)?o:String(o))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{L0:function(){return d},Ui:function(){return u},aI:function(){return c}});var i=Object.freeze({ACF_RELEASE_ALPHA:"aid_exp_acf_alpha",ACF_RELEASE_BETA:"aid_exp_acf_beta",ACF_RELEASE_GA:"aid_exp_acf_ga"}),a=Object.freeze({ALPHA:"ALPHA",BETA:"BETA",GA:"GA"}),l=[a.ALPHA,a.BETA,a.GA],s=function(e,t){var r,n=(o(r={},a.ALPHA,i.ACF_RELEASE_ALPHA),o(r,a.BETA,i.ACF_RELEASE_BETA),o(r,a.GA,i.ACF_RELEASE_GA),r)[e],l=n?t.checkExperiment(n):void 0;return(null==l?void 0:l.group)==="enabled"},c=function(e){return l.some(function(t){return s(t,e)})},u=function(e){var t=e.checkExperiment("aid_exp_acf_default_budgets_objv4");return"enabled"===t.group||"employees"===t.group},d=function(e){var t=e.checkExperiment("advertiser_growth_acf_redesign");return"enabled"===t.group||"employees"===t.group}},680241:function(e,t,r){"use strict";var n=r(908390),o=r(968121),i=r(898781),a=r(966113),l=r(515198);t.Z=function(e){var t=e.pinDraftId,r=e.onChange,s=e.pinIsAdsOnly,c=(0,i.ZP)(),u="".concat(t,"--ads-only-pin-switch");return(0,l.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",direction:"row",children:[(0,l.jsx)(n.rs,{switched:s,onChange:r,id:u,name:"is-ads-only-toggle"}),(0,l.jsxs)(n.xu,{display:"flex",direction:"row",paddingX:2,alignItems:"center",children:[(0,l.jsx)(n.__,{htmlFor:u,children:(0,l.jsx)(n.xv,{size:"200",children:c._('Ad-only Pin', 'storyboard.editor.adsOnlyPinSwitch.adOnlyText', 'Text complementing ad-only pin')})}),(0,l.jsx)(n.xu,{marginStart:2,children:(0,l.jsx)(n.MG,{idealDirection:"up",zIndex:o.b7,accessibilityLabel:c._('Click to learn more about Ad-only Pins', 'adsOnlyPinSwitch.adOnlyHelpButton.accessibilityLabel.text', 'accessibilityLabel to learn more about ad-only pin'),accessibilityPopoverLabel:c._('Expanded information about Ad-only Pins', 'adsOnlyPinSwitch.adOnlyHelpButton.accessibilityPopoverLabel.text', 'accessibilityPopoverLabel to expand information about ad-only pin'),link:{href:a.Dm$,text:c._('Learn more', '[m10n] createFlow.adForm.promotedPinRepDetails.adsOnlyPinHelperText.learnMoreCta', '[m10n] Link with call to action to help center article ')},text:c._('Ad-only Pins don\u2019t distribute an organic Pin and can\u2019t be saved by people who see them', 'adsOnlyPinSwitch.adOnlyTooltip.text', 'Tooltip text explaining ad-only pin')})})]})]})}},719286:function(e,t,r){"use strict";r.d(t,{$v:function(){return y},eN:function(){return m},gf:function(){return a},i7:function(){return h},in:function(){return d},jz:function(){return s},pD:function(){return l},p_:function(){return i},s5:function(){return u},tz:function(){return f},uE:function(){return p},zY:function(){return c}});var n="iphone",o="android_mobile",i="ipad",a="android_tablet",l="web_mobile",s=["web",l,n,i,o,a],c=["android_mobile","android_tablet","iphone","ipad","web"],u=["android_mobile","android_tablet","iphone","ipad","web"],d=["android_mobile","iphone"],f=["android_mobile","android_tablet","iphone","ipad"],p=[n,o],h=[n,o],y=[n,o,i,a],m=[n,o]},965900:function(e,t,r){"use strict";r.d(t,{g:function(){return g},I:function(){return m}});var n=r(76911),o=r(425288),i=r(567450),a=r(41861);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return c(c({},e),{},{showTypeaheadOverlay:t.payload});if("SET_CURRENT_VIDEO"===t.type){var r=t.payload,n=r.pinId,o=r.isPromoted,i=r.currentTime,l=e.videosAutoplaying,s=l.currentlyPlayingOrganicVideoId,d=l.promotedVideosAutoplaying,f=l.organicVideosAutoplaying,p=(0,a.Z)(d),h=(0,a.Z)(f);return!o&&s?e:(o?p[n]={pinId:n,currentTime:i,paused:!1}:h[n]={pinId:n,currentTime:i,paused:!1},c(c({},e),{},{videosAutoplaying:{currentlyPlayingOrganicVideoId:o?s:n,promotedVideosAutoplaying:p,organicVideosAutoplaying:h}}))}if("SET_IS_AUTOPLAY"===t.type)return c(c({},e),{},{isAutoplay:t.payload});if("PAUSE_CURRENT_VIDEO"===t.type){var y=t.payload,m=y.pinId,g=y.isPromoted,b=y.currentTime,_=e.videosAutoplaying,v=_.promotedVideosAutoplaying,x=_.organicVideosAutoplaying,P=(0,a.Z)(v),O=(0,a.Z)(x);return g?P[m]=c(c({},P[m]),{},{paused:!0,currentTime:b}):O[m]=c(c({},O[m]),{},{paused:!0,currentTime:b}),c(c({},e),{},{videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:P,organicVideosAutoplaying:O}})}if("SET_APP_FOCUS_STATE"===t.type)return c(c({},e),{},{appInFocus:t.payload});if("SET_VIEWPORT_SIZE"===t.type)return c(c({},e),{},{viewportSize:t.payload});if("SET_FOOTER_VISIBILITY_STATE"===t.type)return c(c({},e),{},{footerPlusButtonVisible:t.payload});return e},f=r(515198);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h=(0,o.Z)("AppUI"),y=h.Provider,m=h.useHook;function g(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(d,u))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],l=o[1],s=(0,n.useCallback)(function(e){return l({type:"PAUSE_CURRENT_VIDEO",payload:e})},[]),c=(0,n.useCallback)(function(e){return l({type:"SET_APP_FOCUS_STATE",payload:e})},[]),h=(0,n.useCallback)(function(e){return l({type:"SET_CURRENT_VIDEO",payload:e})},[]),m=(0,n.useCallback)(function(e){return l({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})},[]),g=(0,n.useCallback)(function(e){return l({type:"SET_IS_AUTOPLAY",payload:e})},[]),b=(0,n.useCallback)(function(e){return l({type:"SET_VIEWPORT_SIZE",payload:e})},[]),_=(0,n.useCallback)(function(e){return l({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})},[]),v=(0,n.useMemo)(function(){return{pauseAutoplay:s,setCurrentVideo:h,setFooterPlusButtonVisible:m,setIsAutoplay:g,setViewportSize:b,toggleTypeaheadOverlay:_,setAppFocusState:c,appUI:a}},[s,h,m,g,b,_,c,a]);return(0,n.useEffect)(function(){i.Z.onSessionResume(function(){c(!0)}).onSessionPause(function(){c(!1)})},[c]),(0,f.jsx)(y,{value:v,children:r})}},333206:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(76911),o=r(506979),i=r(908390),a=r(27255),l=r(898781),s=r(19121),c=r(76696),u=r(231947),d=r(959472),f=r(109892),p=r(515198);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){x(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,r){return(t=P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==h(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(l,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=v(l);if(t){var n=v(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return _(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return x(_(e=o.call.apply(o,[this].concat(r))),"handleSubmit",function(t){var r=e.props,n=r.advertiserId,o=r.createBoard,i=r.onBoardCreate,a=r.viewer,l=r.orbacActingAs,s=(0,u.lJ)(a,l);return o({boardCreateOptions:m(m({name:t.name,description:t.description,privacy:t.privacy,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled},n?{advertiser_id:n}:{}),s?{orbac_subject_id:s}:Object.freeze({}))}).then(function(e){i(e)})}),x(_(e),"emptyBoardData",{collab_board_email:!0,collaborator_invites_enabled:!1,id:"",is_collaborative:!1,name:e.props.suggestedBoardName||"",description:"",category:"other",owner:{username:(0,u.Ms)(e.props.viewer,e.props.orbacActingAs)},pin_count:0}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.advertiserId,r=e.isAdAccountOwner,n=e.onClose,o=e.privacy,l=e.useModalWithNoLayer,s=e.showSecretBoardCreateToggle;return(0,p.jsx)(d.Z,{board:m(m({},this.emptyBoardData),{privacy:r?o:a.Z.BoardPrivacy.PROTECTED}),currentUserIsOwner:!0,isAdAccount:!!t,isAdAccountOwner:r,isDeletable:!1,isEditable:!0,isNameAndSecretView:!0,onClose:n,onSubmit:this.handleSubmit,submitText:this.props.i18n._('Create', ' - ', ' -- '),useModalWithNoLayer:l,showSecretBoardCreateToggle:s,title:(0,p.jsx)(i.xu,{paddingY:8,width:"100%",children:(0,p.jsx)(i.X6,{align:"center",size:"500",children:this.props.i18n._('Create board', 'BoardCreate.BoardCreate', 'Modal heading')})})})}}],g(l.prototype,r),n&&g(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function j(e){var t=(0,f.Z)(),r=(0,l.ZP)(),n=(0,s.Z)(),i=(0,o.useSelector)(function(e){var t=e.advertiser;return t?t.id:void 0}),a=(0,c.Z)(),d=(0,u.lJ)(n,a),h=(0,o.useSelector)(function(e){var t=e.advertiser;return!t||n.isAuth&&t.owner_user_id===n.id||!!d});return(0,p.jsx)(O,m(m({},e),{},{advertiserId:i,createBoard:t,dispatch:(0,o.useDispatch)(),isAdAccountOwner:h,viewer:n,i18n:r,orbacActingAs:a}))}x(O,"defaultProps",{privacy:a.Z.BoardPrivacy.PUBLIC})},959472:function(e,t,r){"use strict";r.d(t,{Z:function(){return Q}});var n=r(76911),o=r(908390),i=r(27255),a=r(121151),l=r(898781),s=r(349700),c=r(773285),u=r(780280),d=r(995228),f=r(66699),p=r(343341),h=r(50286),y=r(19121),m=r(134906),g=r(526760),b=r(607989),_=r(515198),v=function(e){var t=e.label,r=e.labelId;return r?(0,_.jsx)(o.__,{htmlFor:r,children:(0,_.jsx)(o.xv,{size:"100",children:t})}):(0,_.jsx)(o.xv,{size:"100",children:t})};function x(e){var t=e.children,r=e.label,i=e.labelId;return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(o.xu,{marginBottom:2,children:(0,_.jsx)(v,{label:r,labelId:i})}),t]})}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function O(e){var t,r=e.coverPin,i=e.handleShowBoardCoverEditModal,a=(0,l.ZP)(),s=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],d=s[1],f=(0,u.B)().isRTL;return(0,_.jsx)(x,{label:a._('Board cover', 'BoardForm.BoardFormCoverButton', 'Form label for updating board cover'),children:(0,_.jsx)(o.xu,{width:138,position:"relative",children:(0,_.jsx)(o.iP,{onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onTap:i,rounding:4,children:null!=r&&r.custom_cover?(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(o.zd,{height:138,rounding:4,width:138,children:(0,_.jsx)(o.Ee,{alt:r.image_url,color:"gray",fit:"cover",naturalHeight:r.size&&r.size[0]||138,naturalWidth:r.size&&r.size[0]||138,src:r.image_url})}),(0,_.jsx)(o.xu,{position:"absolute",left:f,right:!f,bottom:!0,padding:2,children:(0,_.jsx)(o.xu,{alignItems:"center",display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,dangerouslySetInlineStyle:{__style:{background:c?"white":"rgba(255, 255, 255, 0.8)"}},children:(0,_.jsx)(o.JO,{accessibilityLabel:a._('Edit board cover', 'BoardForm.BoardFormBoardCoverButton', 'Accessibility label on icon'),icon:"edit",color:"default",size:16})})})]}):(0,_.jsx)(o.xu,{alignItems:"center",color:c?"darkWash":"secondary",display:"flex",height:138,justifyContent:"center",rounding:4,width:138,children:(0,_.jsx)(o.JO,{accessibilityLabel:a._('Add cover photo', 'BoardForm.BoardFormCoverButton', 'Accessibility label on icon'),color:"default",icon:"add",size:24})})})})})}function j(e){var t=e.children,r=e.label,i=e.labelId,a=e.subtext;return(0,_.jsx)(n.Fragment,{children:(0,_.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"start",paddingY:1,children:[t,(0,_.jsx)(o.xu,{marginStart:2,children:(0,_.jsxs)(o.__,{htmlFor:i,children:[(0,_.jsx)(o.xv,{size:"300",weight:"bold",children:r}),a]})})]})})}function S(e){var t=e.hasCollabBoardEmail,r=e.isCollaborative,n=e.onCheckboxChange,i=(0,l.ZP)();return r&&(0,_.jsx)(j,{label:i._('Email notifications', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Form label'),labelId:"emailNotificationsCheckbox",subtext:(0,_.jsx)(o.xv,{color:"subtle",size:"300",children:i._('Get an email when someone saves Pins to this board', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Text explaing field on board form')}),children:(0,_.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,_.jsx)(o.xu,{marginEnd:1,children:(0,_.jsx)(o.XZ,{checked:t,id:"emailNotificationsCheckbox",name:"email",onChange:n})})})})}var w=r(948618),E=r(960278);function A(e){var t,r=e.board,n=e.onCollaboratorInviteClick,i=(0,l.ZP)(),a=(0,E.Z)({boardId:r.id,ownerName:null!==(t=r.owner.full_name)&&void 0!==t?t:"",ownerUsername:r.owner.username,ownerImgSrc:r.owner.image_medium_url||r.owner.image_small_url||""}),c=a.slice(0,3).map(function(e){return e.name}),u="";switch(a.length){case 3:u=(0,s.Wc)("".concat(i._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')),{first:"".concat(c[0]),second:"".concat(c[1]),last:"".concat(c[2])});break;case 2:u=(0,s.Wc)("".concat(i._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')),{first:"".concat(c[0]),second:"".concat(c[1])});break;default:u=c.join(", ")}var d=a.length>3?(0,s.Wc)(i.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', a.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:u,leftCount:"".concat(a.length-3)}):(0,s.Wc)("".concat(i._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')),{userNames:u});return(0,_.jsxs)(o.kC,{alignItems:"center",justifyContent:"between",children:[(0,_.jsx)(o.HE,{accessibilityLabel:d,collaborators:a.map(function(e){var t=e.name,r=e.src;return{src:null!=r&&r.endsWith("/default_75.png")?void 0:r,name:t}}),size:"md"}),(0,_.jsx)(o.hU,{accessibilityLabel:i._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:n,size:"lg"})]})}function I(e){var t=e.board,r=e.onCollaboratorInviteClick,n=(0,l.ZP)(),i=(0,_.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,_.jsx)(o.xv,{size:"100",inline:!0,children:n._('Collaborators', ' - ', ' -- ')}),(0,_.jsx)(w.Z,{}),(0,_.jsx)(o.xv,{inline:!0,size:"100",weight:"bold",children:(0,_.jsx)(o.rU,{display:"inlineBlock",target:"blank",href:"https://www.pinterest.com/_/_/help/article/group-boards?source=board_create",underline:"hover",children:n._('Learn more', ' - ', ' -- ')})})]});return(0,_.jsx)(x,{label:i,labelId:"collaborators",children:(0,_.jsx)(A,{board:t,onCollaboratorInviteClick:r})})}function C(e){var t=e.collaboratorInvitesEnabled,r=e.isCollaborative,n=e.onCheckboxChange,i=(0,l.ZP)();return r&&(0,_.jsx)(j,{label:i._('Let collaborators add people', 'BoardForm.BoardFormCollaboratorsInviteToggle', 'Form label'),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,_.jsx)(o.XZ,{checked:t,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:n})})}function T(e){var t=e.description,r=e.descriptionValidatorErrors,n=e.onChange,i=(0,l.ZP)(),a="boardEditDescription";return(0,_.jsx)(x,{label:i._('Description', 'BoardForm.BoardFormDescription', ' Form field label'),labelId:a,children:(0,_.jsx)(o.Kx,{errorMessage:r.join(", "),id:a,name:"description",onChange:n,placeholder:i._('What\'s your board about?', ' - ', ' -- '),value:t})})}var D=function(e){var t=e.children;return(0,_.jsx)(o.xu,{paddingX:8,role:"list",children:n.Children.map(t,function(e,r){return e&&(0,_.jsx)(o.xu,{role:"listitem",marginBottom:r===n.Children.count(t)-1?1:8,children:e},r)})})};function k(e){var t=e.name,r=e.nameValidatorErrors,n=e.onChange,i=e.disabled,a=(0,l.ZP)();return(0,_.jsx)(x,{label:a._('Name', 'BoardForm.BoardFormTitleInput', 'Form field label'),labelId:"boardEditName",children:(0,_.jsx)(o.nv,{disabled:i,errorMessage:r.join(", "),id:"boardEditName",name:"boardName",onChange:n,placeholder:a._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:t})})}var R=function(e){var t=e.board,r=e.collabBoardEmail,n=e.collaboratorInvitesEnabled,i=e.coverPin,a=e.currentUserIsOwner,s=e.description,c=e.descriptionValidatorErrors,u=e.handleBoardLeave,d=e.hideCollaboratorsSection,f=e.isCollaborative,p=e.showCoverEdit,h=e.name,y=e.nameValidatorErrors,m=e.handleShowBoardCoverEditModal,g=e.handleChangeName,b=e.handleChangeDescription,v=e.handleShowCollaboratorsModal,x=e.handleChangeCollabBoardEmail,P=e.handleChangeCollaboratorInvitesEnabled,j=(0,l.ZP)();return(0,_.jsxs)(D,{children:[p&&(0,_.jsx)(O,{coverPin:i,handleShowBoardCoverEditModal:m}),(0,_.jsx)(k,{disabled:!0,name:h,nameValidatorErrors:y,onChange:g}),(0,_.jsx)(T,{description:s,descriptionValidatorErrors:c,onChange:b}),a&&!!u&&!d&&(0,_.jsx)(I,{board:t,onCollaboratorInviteClick:v}),f&&(0,_.jsx)(o.xu,{marginBottom:-7,children:(0,_.jsx)(o.xv,{size:"100",children:j._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,_.jsx)(S,{hasCollabBoardEmail:r,isCollaborative:f,onCheckboxChange:x}),(0,_.jsx)(C,{collaboratorInvitesEnabled:n,isCollaborative:f,onCheckboxChange:P})]})};function z(e){var t=e.isProtectedToggler,r=e.isToggleDisable,a=e.onChange,s=e.onCheckboxChange,u=e.privacy,d=(0,l.ZP)(),f=(0,y.Z)(),p=(0,c.F)().checkExperiment;if(f.isPrivateProfile&&p("web_hide_u16_board").anyEnabled)return(0,_.jsxs)(o.kC,{alignItems:"start",direction:"column",gap:2,children:[(0,_.jsx)(o.xv,{size:"100",children:d._('Private', 'BoardForm.BoardFormSecretToggle.text', 'protected board')}),(0,_.jsx)(o.xv,{color:"subtle",size:"100",children:d._('This board will only be visible to you', 'BoardForm.BoardFormSecretToggle.subText', 'protected board')})]});if(!0===t)return(0,_.jsx)(j,{label:d._('Protected board (not listed on user\'s profile)', 'BoardForm.BoardFormSecretToggle', 'protected board'),labelId:"protected",children:(0,_.jsx)(o.xu,{paddingY:2,children:(0,_.jsx)(o.rs,{onChange:a,switched:u===i.Z.BoardPrivacy.PROTECTED,id:"protected",disabled:r})})});if(u!==i.Z.BoardPrivacy.PROTECTED){var h=d._('Keep this board secret', 'BoardForm.BoardFormSecretToggle', 'Caption for board settings to set visibility'),m=(0,_.jsx)(n.Fragment,{children:(0,_.jsxs)(o.xv,{color:"subtle",size:"300",children:[d._('So only you and collaborators can see it.', 'BoardForm.BoardFormSecretToggle', 'notifying the board owner only they and the collaborators can see the board if it set to secret')," ",(0,_.jsx)(o.rU,{display:"inlineBlock",target:"blank",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=secret_create",underline:"hover",children:d._('Learn more', 'BoardForm.BoardFormSecretToggle', 'Link to learn more about secret boards')})]})});return(0,_.jsx)(j,{label:h,labelId:"secret",subtext:m,children:(0,_.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:(0,_.jsx)(o.XZ,{checked:u===i.Z.BoardPrivacy.SECRET,id:"secret",name:"secret",onChange:s,disabled:r})})})}return null}function L(e){var t=e.allowHomefeedRecommendations,r=e.onCheckboxChange,n=(0,l.ZP)();return(0,_.jsx)(j,{label:n._('Personalization', 'BoardForm.BoardFormRecommendationToggle', 'form label'),labelId:"recommendation",subtext:(0,_.jsx)(o.xv,{color:"subtle",size:"300",children:n._('Show Pins inspired by this board in your home feed.', 'BoardForm.BoardFormRecommendationToggle', 'Caption for board settings to set visibility')}),children:(0,_.jsx)(o.XZ,{checked:t,id:"recommendation",name:"recommendation",onChange:r})})}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){V(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G(n.key),n)}}function Z(e,t){return(Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function U(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t,r){return(t=G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==M(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===M(t)?t:String(t)}var W=(0,n.lazy)(function(){return Promise.all([r.e(97270),r.e(75339)]).then(r.bind(r,659099))}),Y=(0,n.lazy)(function(){return Promise.all([r.e(10966),r.e(49510),r.e(741),r.e(49426),r.e(18851)]).then(r.bind(r,357156))}),X=function(e,t){return(0,m.Gy)({max:e,maxErrorString:(0,f.Z)(t._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})})},q=function(e){return[X(i.Z.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)]},K=function(e){return[(0,m.aH)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),X(i.Z.MAX_CHARS_FOR_BOARD_TITLE,e)]},$=function(e){var t=e.condition,r=e.children;return t?(0,_.jsx)(o.xu,{position:"absolute",zIndex:a.b7,children:r}):r},J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(c,e);var t,r,i,l=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=H(c);if(t){var n=H(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return U(e)}(this,e)});function c(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c),V(U(t=l.call(this,e)),"handleChangeName",function(e){var r=e.value,n=(0,m.FU)(K(t.props.i18n),r);t.setState({name:r,nameValidatorErrors:n})}),V(U(t),"handleChangeDescription",function(e){var r=e.value,n=(0,m.FU)(q(t.props.i18n),r);t.setState({description:r,descriptionValidatorErrors:n})}),V(U(t),"handleChangePrivacyToggle",function(e){var r=e.value,n="public";r&&(n=t.props.isAdAccount?"protected":"secret"),t.state.privacy!==n&&t.setState({privacy:n})}),V(U(t),"handleEnableSecret",function(){t.setState({privacy:"secret",showSecretConfirmation:!1})}),V(U(t),"handleHideSecretConfirmation",function(){t.setState({showSecretConfirmation:!1})}),V(U(t),"handleChangeRecommendationToggle",function(e){var r=e.value;t.setState({allowHomefeedRecommendations:r})}),V(U(t),"handleChangeCollabBoardEmail",function(e){var r=e.value;t.setState({collab_board_email:r})}),V(U(t),"handleChangeCollaboratorInvitesEnabled",function(e){var r=e.value;t.setState({collaboratorInvitesEnabled:r})}),V(U(t),"handleCheckboxChange",function(e){return function(t){return e({event:t.event,value:t.checked})}}),V(U(t),"handleSubmit",function(e){var r=t.props.onSubmit,n=t.state,o=n.collab_board_email,i=n.collaboratorInvitesEnabled,a=n.description,l=n.name,s=n.privacy,c=n.allowHomefeedRecommendations;if(e.preventDefault&&e.preventDefault(),!t.submitDisabled()){var u=l.trim(),d=a.trim();t.setState({submitting:!0,submitError:""}),r({name:u,collab_board_email:o,collaborator_invites_enabled:i,description:d,privacy:s,allow_homefeed_recommendations:c}).then(function(){t.setState({submitting:!1})}).catch(function(e){var r=t.props.i18n._('Uh oh! Something went wrong.', ' - ', ' -- ');if(e.message){var n=e.message,o=e.message_detail;r=o?"".concat(n," ").concat(o):n}else"string"==typeof e&&(r=e);t.setState({submitting:!1,submitError:r})})}}),V(U(t),"handleShowBoardCoverEditModal",function(){t.setState({showBoardCoverEdit:!0})}),V(U(t),"handleHideBoardCoverEditModal",function(){t.setState({showBoardCoverEdit:!1})}),V(U(t),"handleShowCollaboratorsModal",function(){t.setState({showCollaboratorsModal:!0})}),V(U(t),"handleHideCollaboratorsModal",function(){t.setState({showCollaboratorsModal:!1})}),V(U(t),"handleSaveBoardCoverEditModal",function(e){t.handleHideBoardCoverEditModal();var r=t.props.onCropChange;r&&r(e)});var t,r=e.board,n=r.collab_board_email,o=r.collaborator_invites_enabled,i=r.description,a=r.name,s=r.pin_count,u=r.privacy,d=r.allow_homefeed_recommendations;return t.state={collab_board_email:n,description:i,name:a,pin_count:s,privacy:u,allowHomefeedRecommendations:d,collaboratorInvitesEnabled:o,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:a,previousDescription:i,previousPrivacy:u},t}return r=[{key:"getFormFooter",value:function(){var e=this.props.submitText,t=this.state.submitError;return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(o.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,_.jsx)(o.xu,{children:(0,_.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",children:(0,_.jsx)(o.xu,{height:48,children:(0,_.jsx)(o.zx,{color:"red",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),t&&(0,_.jsx)(o.xu,{paddingX:1,"aria-live":"polite",tabIndex:"0",children:(0,_.jsx)(o.xv,{color:"error",children:t})})]})}},{key:"submitDisabled",value:function(){var e=this.state,t=e.descriptionValidatorErrors,r=e.name,n=e.nameValidatorErrors,o=e.submitting;return!r||n.length>0||t.length>0||o}},{key:"render",value:function(){var e=this.props,t=e.board,r=e.board,i=r.archived_by_me_at,l=r.cover_pin,c=r.id,u=r.is_collaborative,f=e.coverImageHeight,p=e.coverImageWidth,h=e.currentUserIsOwner,y=e.handleBoardLeave,m=e.hideCollaboratorsSection,v=e.isAdAccount,x=e.isAdAccountOwner,P=e.isDeletable,j=e.isDesktop,w=e.isEditable,E=e.isNameAndSecretView,A=e.isSoftDeletedBoardsEnabled,M=e.onClose,N=e.onDeleteButtonClick,B=e.requestContext,F=e.title,Z=e.useModalWithNoLayer,U=e.showSecretBoardCreateToggle,H=this.state,V=H.allowHomefeedRecommendations,G=H.collab_board_email,X=H.collaboratorInvitesEnabled,q=H.description,K=H.descriptionValidatorErrors,J=H.name,Q=H.nameValidatorErrors,ee=H.pin_count,et=H.privacy,er=H.showBoardCoverEdit,en=H.showCollaboratorsModal,eo=H.showSecretConfirmation,ei=w&&ee>0,ea=t.is_ads_only,el=(0,_.jsxs)(D,{children:[ei&&(0,_.jsx)(O,{coverPin:l,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,_.jsx)(k,{disabled:ea,name:J,nameValidatorErrors:Q,onChange:this.handleChangeName}),(0,_.jsx)(T,{description:q,descriptionValidatorErrors:K,onChange:this.handleChangeDescription}),h&&!!y&&!m&&(0,_.jsx)(I,{board:t,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,_.jsx)(o.xu,{marginBottom:-7,children:(0,_.jsx)(o.xv,{size:"100",children:this.props.i18n._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,_.jsx)(z,{isProtectedToggler:!!v,isToggleDisable:!!v&&!x,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:et}),!i&&(0,_.jsx)(L,{allowHomefeedRecommendations:V,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,_.jsx)(S,{hasCollabBoardEmail:G,isCollaborative:u,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),(0,_.jsx)(C,{collaboratorInvitesEnabled:X,isCollaborative:u,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),P&&(0,_.jsxs)(o.xu,{marginTop:-6,paddingY:4,children:[(0,_.jsx)(o.xv,{size:"100",children:this.props.i18n._('Action', 'BoardForm.BoardForm.Action', 'Section heading in board edit form')}),(0,_.jsxs)(o.iP,{onTap:N,children:[(0,_.jsx)(o.xu,{marginTop:2,marginBottom:1,"data-test-id":"deleteBoardButton",children:(0,_.jsx)(o.X6,{size:"400",children:this.props.i18n._('Delete board', 'BoardForm.Delete', 'Delete board label')})}),A?(0,_.jsx)(o.xv,{size:"300",color:"subtle",children:(0,s.nk)(this.props.i18n._('You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }}  days to restore a deleted Board. After that, it will be permanently deleted.', 'boardForm.delete.helperText', 'Delete board warning text'),{MAX_AGE_RECENTLY_DELETED_BOARD:g.Xq})}):(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)(o.xv,{size:"300",color:"subtle",children:this.props.i18n._('Delete this board and all its Pins forever.', 'BoardForm.BoardForm.Delete.Label', 'Delete board warning text')}),(0,_.jsx)(o.xv,{size:"300",color:"subtle",children:this.props.i18n._('You can\'t undo this!', 'BoardForm.BoardForm.Delete.LabelTwo', 'Delete board warning text')})]})]})]})]});h?E&&(el=(0,_.jsxs)(D,{children:[(0,_.jsx)(k,{disabled:ea,name:J,nameValidatorErrors:Q,onChange:this.handleChangeName}),!U&&(0,_.jsx)(z,{isProtectedToggler:!!v,isToggleDisable:!!v&&!x,onChange:this.handleChangePrivacyToggle,privacy:et,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle)})]})):el=(0,_.jsxs)(D,{children:[!!y&&(0,_.jsx)(I,{board:t,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,_.jsx)(S,{hasCollabBoardEmail:G,isCollaborative:u,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!i&&ea&&(0,_.jsx)(L,{allowHomefeedRecommendations:V,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,_.jsx)(o.xv,{color:"subtle",size:"300",children:(0,s.nk)(this.props.i18n._('Only the board\u2019s owner ({{ boardOwner }}) can manage the rest of its features', 'BoardForm.CollaboratorPermissionsCopy', 'Copy on board edit form letting collaborators know of their permissions on a board'),{boardOwner:(0,_.jsx)(o.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:t.owner.full_name})})})]});var es=Z?o.u_:a.ZP,ec=this.props.i18n._('Change board cover', 'BoardForm.BoardCoverEdit.heading', 'Change board cover heading'),eu=(0,_.jsxs)(o.xu,{paddingY:8,position:"relative",children:[(0,_.jsx)(o.X6,{align:"center",size:"500",children:ec}),(0,_.jsx)(o.xu,{position:"absolute",top:!0,left:B.isRTL,right:!B.isRTL,paddingY:8,paddingX:6,children:(0,_.jsx)(o.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardForm.BoardCoverEdit.cancel', 'Cancel change board cover heading'),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal,size:"md"})})]});return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsx)($,{condition:!!Z,children:!er&&!en&&(0,_.jsx)(es,{accessibilityModalLabel:this.props.i18n._('Board form', 'BoardForm.BoardForm', 'Accessibility label on board form'),size:"sm",onDismiss:M,footer:this.getFormFooter(),heading:F,children:(0,_.jsx)(o.xu,{marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,_.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,children:[!ea&&el,ea&&(0,_.jsx)(R,{board:t,collabBoardEmail:G,collaboratorInvitesEnabled:X,coverPin:l,currentUserIsOwner:h,description:q,descriptionValidatorErrors:K,handleBoardLeave:y,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal,handleChangeName:this.handleChangeName,handleChangeDescription:this.handleChangeDescription,handleShowCollaboratorsModal:this.handleShowCollaboratorsModal,handleChangeCollabBoardEmail:this.handleCheckboxChange(this.handleChangeCollabBoardEmail),handleChangeCollaboratorInvitesEnabled:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled),hideCollaboratorsSection:m,isCollaborative:u,showCoverEdit:ei,name:J,nameValidatorErrors:Q})]})})})}),er&&j&&(0,_.jsx)(d.Z,{children:(0,_.jsx)(W,{boardId:c,boardName:J,coverPinId:null==l?void 0:l.pin_id,frameHeight:f,frameWidth:p,heading:eu,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})}),eo&&(0,_.jsx)(b.Z,{confirmButtonLabel:this.props.i18n._('Make secret', 'Setting the boards visibility to secret', 'Setting the boards visibility to secret'),heading:this.props.i18n._('Are you sure?', 'Warning label asking users to be sure of their action', 'Warning label asking users to be sure of their action'),message:this.props.i18n._('If you make this board secret, some active ads will stop running', 'Explicitly warning users of the board visibility action they are doing', 'Explicitly warning users of the board visibility action they are doing'),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),en&&(0,_.jsx)(d.Z,{children:(0,_.jsx)(Y,{board:t,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})})]})}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){var r={};return e.board.name&&e.board.name!==t.previousName&&(r.previousName=e.board.name,r.nameValidatorErrors=(0,m.FU)(K(e.i18n),e.board.name)),e.board.description&&e.board.description!==t.previousDescription&&(r.previousDescription=e.board.description,r.descriptionValidatorErrors=(0,m.FU)(q(e.i18n),e.board.description)),e.board.privacy&&e.board.privacy!==t.previousPrivacy&&(r.previousPrivacy=e.board.privacy),r}}],r&&F(c.prototype,r),i&&F(c,i),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.Component);function Q(e){var t=(0,l.ZP)(),r=(0,h.ZP)(),n=(0,y.Z)(),o=(0,c.F)().checkExperiment,i="control"!==o("curation_board_holdout_h1").group,a=!!n.isPrivateProfile&&o("web_hide_u16_board").anyEnabled&&!o("web_hide_u16_group_board_v2").anyEnabled;return(0,_.jsx)(J,B(B({},e),{},{hideCollaboratorsSection:a,isDesktop:"desktop"===r,i18n:t,isSoftDeletedBoardsEnabled:i,requestContext:(0,u.B)(),toastManagerContext:(0,p.F9)()}))}V(J,"defaultProps",{isNameAndSecretView:!1})},312918:function(e,t,r){"use strict";var n=r(76911),o=r(908390),i=r(987765),a=r(356997),l=r(694379),s=r(898781),c=r(349700),u=r(773285),d=r(985913),f=r(883561),p=r(954931),h=r(215292),y=r(202870),m=r(777906),g=r(515198);t.Z=function(e){var t=(0,s.ZP)(),r=e.followerCount,b=e.fullName,_=e.hasVerifiedIdentity,v=e.imageUrl,x=e.isPromoted,P=e.isVerifiedMerchant,O=e.profileUrl,j=e.sponsorName,S=e.sponsorshipStatus,w=e.sponsorUsername,E=void 0===w?"":w,A=e.verified,I=e.color,C=void 0===I?"default":I,T=e.onAvatarClick,D=e.onNavigateClick,k=e.onNavigateSponsorClick,R=e.openNewTab,z=e.isLeadPin,L=(0,u.F)().checkExperiment("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled,M=(0,d.Z)(t._('{{ fullName }} avatar link', 'creatorCardProfile.avatar.accessibilityLabel', 'Accessibility label for user avatar'),{fullName:null!=b?b:""}),N=(0,g.jsx)(h.q,{children:function(e){var t=e.active,r=e.focused,n=e.hovered,i=e.onBlur,l=e.onFocus,s=e.onMouseEnter,c=e.onMouseLeave;return(0,g.jsx)(o.xu,{onBlur:i,onFocus:l,onMouseEnter:s,onMouseLeave:c,onMouseDown:function(){T&&T()},children:(0,g.jsx)(o.zd,{rounding:"circle",wash:n||t||r,children:(0,g.jsx)(a.qE,{accessibilityLabel:M,name:null!=b?b:"",size:"md",src:null!=v?v:"",verified:A})})})}}),B=(0,f.ZP)(b,70),F=(0,g.jsxs)(n.Fragment,{children:[x&&(0,g.jsx)(i.Z,{size:"200",lineClamp:1,weight:"bold",children:t._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin')}),(0,g.jsx)(o.xu,{"data-test-id":"creator-profile-name",children:(0,g.jsx)(o.xu,{maxWidth:270,children:(0,g.jsx)(o.xv,{color:C,size:"200",weight:void 0!==z&&z?"normal":"bold",children:_||P?(0,g.jsx)(m.Z,{badgeSize:"xs",badgeSpacing:2,fullName:B,identityIsVerified:_,isVerifiedMerchant:P}):b})})})]}),Z=E&&j||y.j.includes(S)&&L;return(0,g.jsxs)(o.xu,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"creator-card-profile",children:[(0,g.jsx)(o.xu,{"data-test-id":"creator-avatar",flex:"none",paddingX:1,children:O?(0,g.jsx)(o.Tg,{rel:(0,p.Z)(O)?"none":"nofollow",target:R?"blank":null,onTap:D,href:O,children:N}):N}),(0,g.jsxs)(o.xu,{children:[(0,g.jsx)(o.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingX:1,children:O?(0,g.jsx)(o.rU,{underline:"none",href:O,onClick:D,rel:(0,p.Z)(O)?"none":"nofollow",target:R?"blank":null,children:F}):F}),Z?(0,g.jsx)(o.xu,{"data-test-id":"sponsor-title",display:"flex",paddingX:1,children:(0,g.jsx)(y.Z,{href:"/".concat(null!=E?E:"","/"),isPromoted:x,sponsorName:j,sponsorUsername:E,sponsorshipStatus:S,onNavigateSponsorClick:k})}):!!r&&(0,g.jsx)(o.xu,{"data-test-id":"follower-count",display:"flex",paddingX:1,children:(0,g.jsx)(o.xv,{color:C,size:"200",children:(0,c.nk)(t.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', r, 'closeup.creator.followerCount', 'the number of followers the creator of the pin has'),{followerCount:(0,g.jsx)(l.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:r},r)})})})]})]})}},857752:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(167678),o=r(194249),i=r(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var c=(0,n.ZP)({resolved:{},chunkName:function(){return"EditorWithMentionsInternal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return Promise.all([r.e(85034),r.e(62933),r.e(93179),r.e(35978)]).then(r.bind(r,194270))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then(function(e){return t.resolved[r]=!0,e})},requireSync:function(e){return r(this.resolve(e))},resolve:function(){return 194270}});function u(e){return(0,i.jsx)(c,s(s({},e),{},{fallback:(0,i.jsx)(o.Z,{})}))}},194249:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(908390),o=r(898781),i=r(515198);function a(){var e=(0,o.ZP)();return(0,i.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(n.$j,{accessibilityLabel:e._('Loading editor', 'EditorWithMentionsFallback.loading', 'Message shown while waiting for the editor to load'),show:!0})})}},634449:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(76911),o=r(676553);function i(e){return(0,e.children)((0,n.useContext)(o.Z))}},676553:function(e,t,r){"use strict";var n=r(76911);t.Z=(0,n.createContext)([null,function(){}])},495794:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(76911),o=r(908390),i=r(407043),a=r(316271),l=r(121151),s=r(898781),c=r(349700),u=r(780280),d=r(515198);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h={backgroundColor:"transparent",border:0,borderRadius:"8px",bottom:0,cursor:"pointer",height:"100%",left:0,padding:0,position:"relative",right:0,top:0,width:"100%"};function y(e){var t=e.activeColor,r=e.delay,i=void 0===r?0:r,l=e.disabledTimer,s=void 0!==l&&l,c=e.duration,u=e.height,p=e.hoverColor,y=e.onClick,m=e.text,g=f((0,n.useState)(0),2),b=g[0],_=g[1],v=f((0,n.useState)(!1),2),x=v[0],P=v[1],O=f((0,n.useState)(!1),2),j=O[0],S=O[1],w=(0,n.useCallback)(function(){return P(!1)},[]),E=(0,n.useCallback)(function(){return P(!0)},[]),A=(0,n.useCallback)(function(){return S(!0)},[]),I=(0,n.useCallback)(function(){return S(!1)},[]),C=(0,n.useRef)(null),T=(0,n.useRef)(null),D=(0,n.useCallback)(function(){clearTimeout(C.current),clearTimeout(T.current),C.current=null,T.current=null}),k=(0,n.useCallback)(function(){D(),y(),S(!1),_(0)},[y]);return(0,n.useEffect)(function(){s||(T.current=setTimeout(function(){return _(100)},i),C.current=setTimeout(k,i+c))},[s]),(0,n.useEffect)(function(){return D},[]),(0,d.jsx)(o.xu,{color:"primary","data-test-id":"timed-button",height:u,minWidth:100,onBlur:I,onFocus:A,onMouseEnter:E,onMouseLeave:w,overflow:"hidden",position:"relative",rounding:5,children:(0,d.jsxs)("button",{style:h,onClick:k,children:[(0,d.jsx)(o.xu,{color:"selected",dangerouslySetInlineStyle:{__style:{backgroundColor:s?"transparent":void 0===t?"#a3081a":t,borderRadius:"8px 0px 0px 8px",transition:s?void 0:(0,a.Z)({duration:c,property:"width",timingFunction:"linear"})}},"data-test-id":"timed-button-progress-bar",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,width:"".concat(b,"%")}),(0,d.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:j||x?void 0===p?"#ad081b":p:void 0}},display:"flex",justifyContent:"center",height:"100%",position:"relative",rounding:2,children:(0,d.jsx)(o.xu,{paddingX:2,children:(0,d.jsx)(o.xv,{color:"inverse",overflow:"normal",weight:"bold",children:m})})})]})})}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var b={delay:700,duration:600,property:"opacity",timingFunction:"easeInOut"},_={delay:800,duration:600,property:"opacity",timingFunction:"easeInOut"},v={property:"opacity",duration:500,timingFunction:"easeIn",delay:3300};function x(e){var t=e.autoAdvance,r=void 0===t||t,f=e.completionButtonText,p=e.containsHlsVideoComponent,h=e.isDismissable,g=e.onComplete,x=e.onDismiss,P=e.steps,O=(0,i.v)().logContextEvent,j=(0,s.ZP)(),S=m((0,n.useState)(0),2),w=S[0],E=S[1],A=m((0,n.useState)(0),2),I=A[0],C=A[1],T=m((0,n.useState)(!1),2),D=T[0],k=T[1],R=(0,u.B)().isRTL,z=(0,n.useCallback)(function(){k(!0)},[]),L=function(){O({event_type:101,component:13473,element:11556,aux_data:{education_active_step_id:P[w]&&P[w].id}}),g()},M=function(){O({event_type:101,component:13473,element:11557,aux_data:{education_active_step_id:P[w]&&P[w].id}}),x()},N=(0,n.useCallback)(function(){w<P.length-1?(O({event_type:101,component:13472,element:11559}),E(w+1),k(!1)):L()},[O,P,w,L]);return(0,n.useEffect)(function(){D&&C(1)},[w,D]),(0,d.jsx)(l.ZP,{accessibilityModalLabel:j._('In-product education modal', 'EducationModal.accessibilityModalLabel', 'Accessibility label for modal showing user eduction'),allowMediaPlay:p,heading:(0,d.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{opacity:I,transition:(0,a.Z)(b)}},height:474,width:"100%",children:[(0,n.cloneElement)(P[w].element,{onStart:z}),(0,d.jsx)(o.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:I,transition:r?(0,a.Z)(v):void 0}},display:"flex",left:!0,marginBottom:5,padding:2,position:"absolute",right:!0,children:(0,d.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:[P.length>1&&(0,d.jsx)(o.xv,{color:"subtle",size:"200",weight:"bold",children:(0,c.nk)(j._('{{ index }} of {{totalSteps}}', 'Footer text indicating position in guide screen (e.g. 1 of 3)', 'Footer text indicating position in guide screen (e.g. 1 of 3)'),{index:w+1,totalSteps:P.length})}),(0,d.jsx)(o.xu,{bottom:!0,marginEnd:5,position:"absolute",right:!R,left:R,children:(0,d.jsx)(y,{disabledTimer:!r||w===P.length-1||!D,delay:0===w?3300:void 0,duration:9e3,height:36,onClick:N,text:w<P.length-1?j._('Next', 'Button text to go to next step in education', 'Button text to go to next step in education'):f||j._('Take Tour', 'Button text to start tour', 'Button text to start tour')})})]})}),(void 0===h||h)&&(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{opacity:I,transition:(0,a.Z)(_)}},position:"absolute",marginEnd:4,marginTop:4,right:!R,left:R,top:!0,children:(0,d.jsx)(o.hU,{accessibilityLabel:j._('Cancel', 'Icon Button text to Cancel', 'Icon Button text to Cancel'),icon:"cancel",onClick:M,iconColor:"gray",size:"md"})})]}),onDismiss:M,role:"alertdialog",size:"lg"})}},537339:function(e,t,r){"use strict";r.d(t,{Z:function(){return w}});var n=r(76911),o=r(908390),i=r(464657),a=r(792182),l=r(407043),s=r(766935),c=r(898781),u=r(349700),d=r(755742),f=r(829407);function p(e){return{type:"UPDATE_STATUS",payload:{status:e}}}var h=r(515198);function y(e){var t=e.anchor,r=e.children,n=e.footer,i=e.onDismiss,a=e.size,l=e.idealDirection,s=(0,c.ZP)();return(0,h.jsx)(o.J2,{anchor:t,onDismiss:function(){},positionRelativeToAnchor:!1,size:void 0===a?"lg":a,idealDirection:l,children:(0,h.jsxs)(o.xu,{direction:"column",display:"flex",height:"100%",padding:4,width:"100%",children:[(0,h.jsx)(o.xu,{position:"absolute",right:!0,top:!0,margin:4,children:(0,h.jsx)(o.hU,{accessibilityLabel:s._('End tour', 'Icon button to end the education tour', 'Icon button to end the education tour'),icon:"cancel",iconColor:"gray",onClick:i,size:"xs"})}),(0,h.jsx)(o.xu,{display:"flex",padding:2,marginTop:2,children:r}),(0,h.jsx)(o.xu,{children:n})]})})}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var _={content:null,selector:null,index:-1,left:0,right:0,bottom:0,top:0,width:0,height:0,status:"INIT"};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_TOUR":var r=t.payload,n=r.content,o=r.selector;return b(b({},e),{},{selector:o,content:n,status:"IN_PROGRESS",index:0});case"NEXT_STEP":var i=t.payload,a=i.content,l=i.index,s=i.selector;return b(b({},e),{},{content:a,selector:s,index:l});case"UPDATE_RECT":return b(b({},e),t.payload);case"UPDATE_STATUS":var c=t.payload.status;return b(b({},e),{},{status:c});default:return e}}var x={__style:{color:"#000"}};function P(e){var t=e.padding,r=void 0===t?16:t,n=e.bottomMargin,i=e.targetLeft,l=e.targetTop,s=e.targetWidth,c=e.targetHeight,u=e.showMask,d=(0,a.Z)()||{width:0,height:0},f=d.width,p=d.height,y=l-r,m=i-r,g=c+2*r+(void 0===n?0:n),b=s+2*r;return y<0?null:(0,h.jsx)(o.xu,{dangerouslySetInlineStyle:x,position:"fixed",left:!0,top:!0,width:"100%",height:"100%",opacity:.7,children:(0,h.jsxs)("svg",{width:f,height:p,xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsxs)("defs",{children:[(0,h.jsxs)("mask",{id:"mask-main",children:[(0,h.jsx)("rect",{x:0,y:0,width:f,height:p,fill:"white"}),(0,h.jsx)("rect",{x:m,y:y,width:b,height:g,fill:"black",rx:8,ry:8})]}),(0,h.jsxs)("clipPath",{id:"clip-path",children:[(0,h.jsx)("rect",{x:0,y:0,width:f,height:y}),(0,h.jsx)("rect",{x:0,y:y,width:m,height:g}),(0,h.jsx)("rect",{x:m+b,y:y,width:f-b-m,height:g}),(0,h.jsx)("rect",{x:0,y:y+g,width:f,height:p-g-y})]})]}),(0,h.jsx)("rect",{x:0,y:0,width:f,height:p,fill:"currentColor",mask:"url(#mask-main)"}),(void 0===u||u)&&(0,h.jsx)("rect",{x:0,y:0,width:f,height:p,fill:"currentColor",clipPath:"url(#clip-path)",pointerEvents:"auto"}),(0,h.jsx)("rect",{x:i,y:l,width:s,height:c,pointerEvents:"auto",fill:"transparent",display:"block"})]})})}function O(e){var t=e.keyCode,r=e.handler;(0,n.useEffect)(function(){function e(e){e.keyCode===t&&r()}return window.addEventListener("keyup",e),function(){return window.removeEventListener("keyup",e)}},[t,r])}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w(e){var t=e.onComplete,r=e.onDismiss,m=e.scrollOffset,g=e.steps,b=e.zIndex,x=(0,l.v)().logContextEvent,S=(0,c.ZP)(),w=j((0,i.Z)(),2),E=w[0],A=w[1],I=j((0,n.useReducer)(v,_),2),C=I[0],T=I[1],D=j((0,n.useState)(null),2),k=D[0],R=D[1],z=(0,a.Z)()||{width:0,height:0},L=z.width,M=z.height,N=function(e){return g[C.index]&&g[C.index].height?g[C.index].height:e},B=function(e){var t=function(e){var t=e.getBoundingClientRect();T(p("IN_PROGRESS")),R(e),T({type:"UPDATE_RECT",payload:{bottom:t.bottom,left:t.left,right:t.right,top:t.top,width:t.width,height:N(t.height)}})};if(e){var r=e.getBoundingClientRect();if(o=(n={left:r.left,right:r.right,top:r.top,bottom:r.bottom,windowHeight:M,windowWidth:L,threshold:25}).top,i=n.right,a=n.bottom,l=n.left,s=n.windowHeight,c=n.windowWidth,o>=0+(d=void 0===(u=n.threshold)?0:u)&&l>=0+d&&a<=s-d&&i<=c-d)t(e);else{var n,o,i,a,l,s,c,u,d,f,h,y,g,b,_,v,x,P=m||(N(r.height)>M?-25:-(M/2)+N(r.height)/2);T(p("SCROLLING")),y=void 0===(h=(f={offset:P,callback:t}).duration)?660:h,g=f.offset,b=f.callback,_=window.pageYOffset,v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.getBoundingClientRect().top+window.pageYOffset+t}(e,g),x=performance.now(),function t(){var r,n=performance.now()-x,o=n>y?v:_+(v-_)*((r=n/y)<.5?2*r*r:-1+(4-2*r)*r);window.scroll(0,o),n>y?"function"==typeof b&&b(e):window.requestAnimationFrame(t)}()}}},F=function(){x({event_type:101,component:13472,element:11556,aux_data:{education_active_guide_id:g[C.index]&&g[C.index].id}}),A(),t()},Z=function(){x({event_type:101,component:13472,element:11557,aux_data:{education_active_guide_id:g[C.index]&&g[C.index].id}}),A(),r()},U=(0,n.useCallback)(function(){var e=(g[C.index]||{}).onNext;e&&e();var t=g[C.index+1]||{},r=t.content,n=t.selector;C.index<g.length-1?(x({event_type:101,component:13472,element:11559}),T({type:"NEXT_STEP",payload:{content:r,selector:n,index:C.index+1}})):F()},[x,g,C.index,F]);O({keyCode:d.Z.RIGHT,handler:U}),O({keyCode:d.Z.ESCAPE,handler:Z}),(0,f.Z)(function(){E();var e=g[0]||{};T({type:"START_TOUR",payload:{content:e.content,selector:e.selector}})}),(0,n.useLayoutEffect)(function(){var e="string"==typeof C.selector?document.querySelector(C.selector):C.selector;B(e);var t=(0,s.Z)(function(){return B(e)},25);return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}},[C.index,C.selector]);var H=C.left,V=C.top,G=C.height,W=C.width,Y=N(G);return(0,h.jsxs)(o.mh,{children:[(0,h.jsxs)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{zIndex:b||999}},left:!0,position:"absolute",right:!0,top:!0,children:[(0,h.jsx)(P,{padding:g[C.index]&&g[C.index].padding,bottomMargin:g[C.index]&&g[C.index].bottomMargin,targetLeft:H,targetTop:V,targetWidth:W,targetHeight:Y,showMask:"IN_PROGRESS"===C.status}),"IN_PROGRESS"===C.status&&(0,h.jsx)(y,{idealDirection:g[C.index]?g[C.index].idealDirection:void 0,anchor:k,size:g[C.index]&&g[C.index].size,footer:(0,h.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,h.jsx)(o.xu,{display:"flex",flex:"grow",paddingX:2,children:(0,h.jsx)(o.xv,{color:"subtle",size:"200",weight:"bold",children:(0,u.nk)(S._('{{ index }} of {{totalSteps}}', 'Footer text indicating position in tour (e.g. 1 of 3)', 'Footer text indicating position in tour (e.g. 1 of 3)'),{index:C.index+1,totalSteps:g.length})})}),(0,h.jsx)(o.xu,{"data-test-id":"guide-next-button",children:(0,h.jsx)(o.zx,{fullWidth:!0,color:"gray",onClick:U,text:C.index<g.length-1?S._('Next', 'Button text to go to next guide', 'Button text to go to next guide'):S._('Done', 'Button text to end education tour', 'Button text to end education tour')})})]}),onDismiss:Z,children:C.content})]}),(0,h.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:H-20,top:V-20}},height:Y+40,position:"absolute",width:W+40})]})}},939853:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var n="completed-in-product-education"},43898:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(908390),o=r(515198);function i(e){var t=e.htmlFor,r=e.errorMessage,i=e.errorMessageColor,a=e.icon;return(0,o.jsx)(n.__,{htmlFor:t,children:(0,o.jsx)(n.xu,{marginTop:1,children:(0,o.jsxs)(n.kC,{direction:"row",gap:2,children:[a,(0,o.jsx)(n.xv,{color:void 0===i?"error":i,size:"200",children:r})]})})})}},833991:function(e,t,r){"use strict";r.d(t,{HW:function(){return u},YW:function(){return m},i3:function(){return g},o2:function(){return y}});var n=r(76911),o=r(425288),i=r(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u=660,d={educationId:null,paddingRight:0,zIndex:660};function f(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":var r=t.payload.educationId;return c(c({},e),{},{educationId:r});case"FOOTER_SET_PADDING_RIGHT":var n=t.payload.paddingRight;return c(c({},e),{},{paddingRight:n});case"FOOTER_SET_Z_INDEX":var o=t.payload.zIndex;return c(c({},e),{},{zIndex:o});default:return e}}var p=(0,o.Z)("footerContext"),h=p.Provider,y=p.Consumer,m=p.useHook;function g(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(f,d))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],s=o[1],u=(0,n.useCallback)(function(e){return s({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}})},[]),p=(0,n.useCallback)(function(e){return s({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}})},[]),y=(0,n.useCallback)(function(e){return s({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})},[]),m=(0,n.useMemo)(function(){return c(c({},a),{},{setEducationId:p,setPaddingRight:u,setZIndex:y})},[a,p,u,y]);return(0,i.jsx)(h,{value:m,children:r})}},697335:function(e,t,r){"use strict";r.d(t,{c:function(){return o},t:function(){return i}});var n=r(883521);function o(e){return(0,e.children)((0,n.J)().height)}function i(){return(0,n.J)().height}},977558:function(e,t,r){"use strict";r.d(t,{L1:function(){return i},Rz:function(){return s},WZ:function(){return a},cI:function(){return o},fe:function(){return l},hu:function(){return n}});var n=64,o=80,i=22,a="HeaderContent",l=671,s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},360400:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(76911),o=r(908390),i=r(112690),a=r(329900),l=r(252044),s=r(898781),c=r(515198);function u(e){var t=e.user,r=(0,s.ZP)(),n=t.full_name,i=void 0===n?"":n,a=t.username,l=t.image_large_url,u=i.length<=15?i:"".concat(i.substring(0,15),"...");return(0,c.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(o.xu,{paddingX:1,children:(0,c.jsx)(o.HE,{role:"link",href:"/".concat(encodeURIComponent(a),"/"),accessibilityLabel:r._('User`s Avatar', 'User`s Avatar', 'User`s Avatar'),collaborators:[{name:i,src:null!=l?l:void 0}],size:"xs"})}),(0,c.jsx)(o.xu,{paddingX:1,children:(0,c.jsx)(o.xv,{size:"200",weight:"bold",children:(0,c.jsx)(o.rU,{href:"/".concat(encodeURIComponent(a),"/"),rounding:2,tapStyle:"compress",children:(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{color:"#005062"}},children:u})})})})]})}function d(e){var t=e.user,r=(0,s.ZP)();return(0,c.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,c.jsx)(o.xu,{marginTop:1,children:(0,c.jsx)(o.Tg,{href:"/",tapStyle:"none",accessibilityLabel:r._('Pinterest', 'InviteLandingPageV2.headerLogo.pinterestLogo', 'Pinterest logo to identify that the invite is coming from Pinterest'),children:l.Z})}),t&&(0,c.jsx)(u,{user:t})]})}var f=r(698330),p={container:{backgroundColor:"#FFE4C1"},header:{fontWeight:"normal"}};function h(e){var t=e.titleText,r=e.bodyText,l=e.buttonText,s=e.deeplink,u=(0,i.Z)(),h=(0,f.Tt)();(0,n.useEffect)(function(){u({event_type:13,view_type:3594})},[u]);var y=function(){u({event_type:102,view_type:3594,element:12406})};return(0,c.jsx)(o.mh,{children:(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:p.container},position:"fixed",top:!0,bottom:!0,left:!0,right:!0,height:"100%",overflow:"auto","data-test-id":"v2-story-pin-invite-landing-page",role:"dialog","aria-label":t,children:(0,c.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",minHeight:"100%",children:[(0,c.jsx)(o.xu,{paddingX:5,paddingY:9,children:(0,c.jsx)(d,{user:h})}),(0,c.jsxs)(o.kC,{alignItems:"center",direction:"column",children:[(0,c.jsx)(o.xu,{marginBottom:8,maxWidth:240,children:(0,c.jsx)(o.X6,{size:"500",accessibilityLevel:1,align:"center",color:"default",children:(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:p.header},children:t})})}),(0,c.jsx)(o.xu,{maxWidth:310,marginBottom:12,children:(0,c.jsx)(o.xv,{align:"center",color:"default",children:r})}),(0,c.jsx)(a.Z,{children:function(e){return(0,c.jsx)(o.xu,{marginBottom:12,children:(0,c.jsx)(o.zx,{size:"lg",color:"red",text:l,onClick:function(){y(),e(s,"app-upsell-story")}})})}})]})]})})})}},379764:function(e,t,r){"use strict";var n=r(908390),o=r(633988),i=new n.H3([o.Z]);t.Z=i},131555:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(784590);function o(e){var t=e.children,r=e.fieldSetKey,o=e.pinId,i=(0,n.Z)({name:"PinResource",options:{id:o,field_set_key:r}}),a=i.data,l=i.error;return t({pin:a,loading:!i.isLoaded,error:(l||{}).message})}},350118:function(e,t,r){"use strict";r.d(t,{AF:function(){return s},H0:function(){return c},S6:function(){return u},_S:function(){return d}});var n=r(506979),o=r(425288),i=r(515198),a=(0,o.Z)("Pins"),l=a.Provider,s=a.useHook,c=a.useMaybeHook;function u(){var e=s();return function(t){return e[t]}}function d(e){var t=e.children,r=(0,n.useSelector)(function(e){return e.pins},n.shallowEqual);return(0,i.jsx)(l,{value:r,children:t})}},698330:function(e,t,r){"use strict";r.d(t,{Tt:function(){return f},cm:function(){return d},kW:function(){return c},kY:function(){return p},mN:function(){return u}});var n=r(506979),o=r(425288),i=r(19121),a=r(515198),l=(0,o.Z)("Users"),s=l.Provider,c=l.useHook;function u(){var e=c();return function(t){return e[t]}}function d(){var e=c();return function(t){var r=Object.keys(e).find(function(r){return e[r].username===t});return e[null!=r?r:""]}}function f(){var e=(0,i.Z)().id;return c()[null!=e?e:""]}function p(e){var t=e.children,r=(0,n.useSelector)(function(e){return e.users},n.shallowEqual);return(0,a.jsx)(s,{value:r,children:t})}},327096:function(e,t,r){"use strict";r.d(t,{j:function(){return y},f:function(){return h}});var n=r(76911),o=r(425288);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s={currentPinDraftId:null,mostRecentTaggedObjectId:null,selectedStlItemId:null,stlCallout:{showCallout:!1},stlTaggedCoords:null,stlHoveredTaggedObjectId:null},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STL_SELECT":return l(l({},e),{},{selectedStlItemId:t.payload.selectedStlItemId});case"STL_SHEET":return l(l({},e),{},{currentPinDraftId:t.payload.currentPinDraftId});case"STL_TAGGED_PIN":return l(l({},e),{},{stlTaggedCoords:t.payload.stlTaggedCoords});case"STL_ERROR_STATE":return l(l({},e),{},{stlCallout:{showCallout:t.payload.stlCallout.showCallout,type:t.payload.stlCallout.type}});case"STL_MOST_RECENT_TAGGED_OBJECT_ID":return l(l({},e),{},{mostRecentTaggedObjectId:t.payload.mostRecentTaggedObjectId});case"SET_STL_HOVERED_TAGGED_OBJECT_ID":return l(l({},e),{},{stlHoveredTaggedObjectId:t.payload.stlHoveredTaggedObjectId});default:return e}},u=r(515198);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var f=(0,o.Z)("ShopTheLook"),p=f.Provider,h=f.useHook;function y(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useReducer)(c,s))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],a=o[1],l=(0,n.useMemo)(function(){return{shopTheLook:i,setStlSelection:function(e){a({type:"STL_SELECT",payload:{selectedStlItemId:e}})},setCurrentPinDraftId:function(e){a({type:"STL_SHEET",payload:{currentPinDraftId:e}})},setStlTaggedCoord:function(e){a({type:"STL_TAGGED_PIN",payload:{stlTaggedCoords:e}})},setStlCallout:function(e){a({type:"STL_ERROR_STATE",payload:{stlCallout:{showCallout:e.showCallout,type:e.type}}})},setMostRecentTaggedObjectId:function(e){a({type:"STL_MOST_RECENT_TAGGED_OBJECT_ID",payload:{mostRecentTaggedObjectId:e}})},setStlHoveredTaggedObjectId:function(e){a({type:"SET_STL_HOVERED_TAGGED_OBJECT_ID",payload:{stlHoveredTaggedObjectId:e}})}}},[i]);return(0,u.jsx)(p,{value:l,children:r})}},202870:function(e,t,r){"use strict";r.d(t,{Z:function(){return c},j:function(){return s}});var n=r(908390),o=r(898781),i=r(349700),a=r(773285),l=r(515198),s=[0,2,3];function c(e){var t,r=e.hasAffiliateProducts,c=e.href,u=e.isPromoted,d=e.onNavigateSponsorClick,f=e.sponsorName,p=e.sponsorUsername,h=e.sponsorshipStatus,y=e.textWeight,m=(0,o.ZP)(),g=(0,a.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,b=(0,a.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,_=c||(p?"/".concat(p,"/"):null),v=_&&f?(0,l.jsx)(n.rU,{href:_,onClick:d,children:(0,l.jsx)(n.xv,{weight:void 0===y?"bold":y,size:"200",children:f})},f):void 0;return u?t=(0,i.nk)(m._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:v}):h||0===h?f&&!s.includes(h)?t=(0,i.nk)(m._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:v}):b&&2===h||(t=m._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):r&&(t=m._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,l.jsxs)(n.xv,{inline:!0,size:"200",lineClamp:2,children:[g&&!u&&"Ad  "||"",t]})}},777906:function(e,t,r){"use strict";var n=r(76911),o=r(908390),i=r(865607),a=r(515198);t.Z=function(e){var t=e.badgeSize,r=e.badgeSpacing,l=e.fullName,s=e.identityIsVerified,c=e.isVerifiedMerchant,u=e.truncate,d=l.split(" "),f=d.slice(0,d.length-1).join(" "),p=" ".concat(d[d.length-1]);return void 0!==u&&u?(0,a.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(o.xv,{lineClamp:1,weight:"bold",children:l}),(0,a.jsx)(o.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:r}},paddingX:1,children:(0,a.jsx)(i.Z,{size:t,hasVerifiedIdentity:s,isVerifiedMerchant:c})})]}):(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)("span",{children:f}),(0,a.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[p,"\xa0",(0,a.jsx)(o.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:r}},children:(0,a.jsx)(i.Z,{size:t,hasVerifiedIdentity:s,isVerifiedMerchant:c})})]})]})}},526760:function(e,t,r){"use strict";r.d(t,{FC:function(){return l},FP:function(){return i},M0:function(){return o},Xq:function(){return s},s0:function(){return n},z9:function(){return a}});var n=44,o=236,i=157,a=320,l=213,s=7},607989:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(908390),o=r(121151),i=r(898781),a=r(515198);function l(e){var t=e.cancelButtonLabel,r=e.confirmButtonLabel,l=e.heading,s=e.message,c=e.onCancel,u=e.onConfirm,d=(0,i.ZP)(),f=l||d._('Are you sure?', ' - ', ' -- '),p=t||d._('Cancel', ' - ', ' -- ');return(0,a.jsx)(o.ZP,{accessibilityModalLabel:f,footer:(0,a.jsxs)(n.xu,{marginEnd:-1,marginStart:-1,children:[(0,a.jsx)(n.xu,{"data-test-id":"cancel-button",padding:1,children:(0,a.jsx)(n.zx,{fullWidth:!0,onClick:c,size:"lg",text:p})}),(0,a.jsx)(n.xu,{"data-test-id":"confirm-button",padding:1,children:(0,a.jsx)(n.zx,{fullWidth:!0,color:"red",onClick:u,size:"lg",text:r})})]}),heading:f,onDismiss:c,role:"alertdialog",children:(0,a.jsx)(n.xu,{padding:4,children:(0,a.jsx)(n.xv,{children:s})})})}},814197:function(e,t,r){"use strict";r.d(t,{Cq:function(){return u},Dk:function(){return f},Fk:function(){return o},fS:function(){return c},km:function(){return d},lI:function(){return a},lJ:function(){return i},mS:function(){return s},qW:function(){return l}});var n=r(908390),o=new n.Ry(1),i=3,a=new n.Ry(i),l=2,s=new n.Ry(l),c=3,u=4,d=new n.Ry(5),f=new n.Ry(100)},398061:function(e,t,r){"use strict";r.d(t,{Z:function(){return l},e:function(){return a}});var n=r(908390),o=r(780280),i=r(515198),a=new n.Ry(1);function l(e){var t=e.children,r=e.isImagePinForUnauthOnTablet,l=(0,o.B)().isAuthenticated;return(0,i.jsxs)(n.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:r?"40vw":void 0}},zIndex:l?void 0:a,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!r||void 0,top:!0,children:[(0,i.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),t]})}},633988:function(e,t,r){"use strict";var n=r(908390),o=r(398061),i=new n.H3([o.e]);t.Z=i},846760:function(e,t,r){"use strict";r.d(t,{xH:function(){return e_},uC:function(){return eg},sR:function(){return eb},DR:function(){return em}});var n=r(76911),o=r(506979),i=r(908390),a=r(407043),l=r(186656),s=r(898781),c=r(391254),u=r(773285),d=r(780280),f=r(414327),p=r(784590),h=r(984206),y=r(19121),m=r(76696),g=r(231947),b=r(814197),_=r(27255),v=r(486746),x=r(515198);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){I(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C(n.key),n)}}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,r){return(t=C(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==P(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(l,e);var t,r,o,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=A(l);if(t){var n=A(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return E(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return I(E(e=a.call.apply(a,[this].concat(r))),"state",{hovered:!1}),I(E(e),"handleMouseEnter",function(){e.setState({hovered:!0})}),I(E(e),"handleMouseLeave",function(){e.setState({hovered:!1})}),I(E(e),"handleTouch",function(){var t=e.props,r=t.board;(0,t.onClick)(r)}),I(E(e),"handleButtonClick",function(t){var r=t.event,n=e.props.onButtonClick;e.handleTouch(),n&&n(),r.stopPropagation()}),I(E(e),"tapAreaRef",(0,n.createRef)()),e}return r=[{key:"focus",value:function(){var e=this.tapAreaRef.current;e&&e.focus()}},{key:"render",value:function(){var e=this.state.hovered,t=this.props,r=t.accessibilityLabelText,n=t.board,o=t.buttonText,a=t.displayAlreadySavedMsg,l=t.i18n,s=t.isSectionOpen,c=t.shouldOpenSections,u=t.showSaveToProfile,d=t.showFlyoutSaveButton,f=t.useLegoLayout,p=!!n.section_count&&n.section_count>0,h=n||{},y=h.images,m=h.image_cover_url,g=!(null!=m&&m.includes("custom"))&&y&&y["75x75"]&&y["75x75"][y["75x75"].length-1].url||m;return(0,x.jsx)(i.xu,{"data-test-id":p?"boardWithSection":"boardWithoutSection",children:(0,x.jsx)(i.iP,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,ref:this.tapAreaRef,children:(0,x.jsxs)(i.xu,{alignItems:"center",color:e?"secondary":"default","data-test-id":"board-row-".concat(n.name||""),display:"flex",height:f?64:52,marginStart:f?2:3,marginEnd:f?2:3,marginBottom:f?0:1,marginTop:f?0:1,padding:f?2:0,rounding:3,children:[(0,x.jsxs)(i.xu,{"aria-hidden":"true",flex:"none",height:f?48:36,marginBottom:f?0:1,marginStart:f?0:2,marginEnd:f?2:3,marginTop:f?0:1,overflow:"hidden",width:f?48:36,children:[u&&"boardless"===n.type&&(0,x.jsx)(i.zd,{rounding:2,width:48,height:48,children:(0,x.jsx)(i.xu,{color:e?"default":"secondary",display:"flex",height:"100%",width:"100%",children:(0,x.jsx)(i.xu,{padding:3,children:(0,x.jsx)(i.JO,{accessibilityLabel:this.props.i18n._('Save to profile icon', 'BoardRow.TapArea.Icon', 'Icon to indicate saving to profile.'),color:"default",icon:"history",size:24})})})}),g&&!c&&(0,x.jsx)(i.zd,{height:f?48:36,rounding:2,wash:!0,width:f?48:36,children:(0,x.jsx)(i.Ee,{src:g,alt:"",naturalHeight:f?48:36,naturalWidth:f?48:36,fit:"cover"})}),g&&c?(0,x.jsx)(i.zd,{rounding:2,wash:!0,width:f?48:36,height:f?48:36,children:(0,x.jsx)(i.Ee,{src:g,alt:"",naturalHeight:f?48:36,naturalWidth:f?48:36,fit:"cover"})}):(0,x.jsx)(i.zd,{height:f?48:36,width:f?48:36,rounding:2,children:(0,x.jsx)(i.xu,{color:c?"secondary":"transparent",width:"100%",height:"100%"})})]}),(0,x.jsxs)(i.xu,{flex:"grow",paddingY:1,overflow:"hidden",marginStart:f?0:1,children:[(0,x.jsx)(i.xv,{lineClamp:1,weight:c||!c?"bold":"normal",children:n.name}),a&&(0,x.jsx)(i.xu,{marginTop:1,children:(0,x.jsx)(i.xv,{align:"start",color:"default",size:"100",children:l._('Saved here already', 'BoardFlyout.AlreadySaved.Message', 'Text that indicates if a pin has been already saved to a board')})})]}),n&&(!e||e&&p&&!s)?(0,x.jsx)(i.xu,{children:(0,x.jsx)(v.Z,{board:n,showCollaborativeIcon:!!n.is_collaborative,showPrivateIcon:n.privacy===_.Z.BoardPrivacy.SECRET,showProtectedIcon:n.privacy===_.Z.BoardPrivacy.PROTECTED,showSectionsIcon:p&&c,useLegoLayout:f})}):null,e&&(0===n.section_count||!c)&&d&&(0,x.jsx)(i.xu,{marginEnd:f?0:2,flex:"none",children:(0,x.jsx)(i.zx,{accessibilityLabel:r||this.props.i18n._('save button', 'boardRow.saveButton', 'Default accessibility label for the board row save button'),color:"red",onClick:this.handleButtonClick,text:o||this.props.i18n._('Save', 'save button', 'save button')})})]})})})}}],S(l.prototype,r),o&&S(l,o),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);I(T,"defaultProps",{shouldOpenSections:!0,showFlyoutSaveButton:!0});var D=(0,n.forwardRef)(function(e,t){var r=(0,s.ZP)();return(0,x.jsx)(T,j(j({},e),{},{ref:t,i18n:r}))}),k=r(717615),R=r(24886);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(t){U(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H(n.key),n)}}function B(e,t){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function F(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,r){return(t=H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H(e){var t=function(e,t){if("object"!==z(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==z(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===z(t)?t:String(t)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(l,e);var t,r,o,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=Z(l);if(t){var n=Z(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return F(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return U(F(e=a.call.apply(a,[this].concat(r))),"state",{hovered:!1}),U(F(e),"handleMouseEnter",function(){e.setState({hovered:!0})}),U(F(e),"handleMouseLeave",function(){e.setState({hovered:!1})}),U(F(e),"handleTouch",function(){var t=e.props,r=t.board;(0,t.onClick)(t.section,r)}),U(F(e),"handleButtonClick",function(t){var r=t.event,n=e.props.onButtonClick;e.handleTouch(),n&&n(),r.stopPropagation()}),U(F(e),"tapAreaRef",(0,n.createRef)()),e}return r=[{key:"focus",value:function(){var e=this.tapAreaRef.current;e&&e.focus()}},{key:"render",value:function(){var e,t,r,n,o,a,l=this.state.hovered,s=this.props,c=s.buttonText,u=s.section,d=s.showSectionSaveButton,f=s.useLegoLayout;return(0,x.jsx)(i.iP,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,ref:this.tapAreaRef,children:(0,x.jsxs)(i.xu,{color:l?"secondary":"default","data-test-id":"section-row-".concat(u.title||""),display:"flex",alignItems:"center",height:f?64:52,marginStart:f?2:0,marginEnd:f?2:0,padding:f?2:0,marginTop:f?0:1,rounding:3,dangerouslySetInlineStyle:{__style:f?{}:{marginLeft:53,marginRight:11}},children:[f&&!!(null!==(e=u.preview_pins)&&void 0!==e&&e.length)&&(0,x.jsx)(R.Z,{image_url:null!==(t=u.preview_pins[0].image_square_url)&&void 0!==t?t:"",naturalHeight:null!==(r=null===(n=u.preview_pins[0].image_square_size_pixels)||void 0===n?void 0:n.height)&&void 0!==r?r:1,naturalWidth:null!==(o=null===(a=u.preview_pins[0].image_square_size_pixels)||void 0===a?void 0:a.width)&&void 0!==o?o:1}),(0,x.jsx)(i.xu,{flex:"grow",paddingY:1,marginStart:f?0:4,children:(0,x.jsx)(i.xv,{lineClamp:1,weight:f?"bold":"normal",children:u.title})}),l&&d&&(0,x.jsx)(i.xu,{marginEnd:f?0:2,flex:"none",children:(0,x.jsx)(i.zx,{accessibilityLabel:"save button",color:"red",text:c||this.props.i18n._('Save', 'save button', 'save button'),onClick:this.handleButtonClick})})]})})}}],N(l.prototype,r),o&&N(l,o),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function G(e){var t=(0,s.ZP)();return(0,x.jsx)(V,M(M({},e),{},{i18n:t}))}function W(e){var t=(0,s.ZP)(),r=e.board,n=e.buttonText,o=e.onClick,a=e.onButtonClick,l=e.showSectionSaveButton,c=e.useLegoLayout,u=(0,k.Z)(),d=(0,y.Z)(),f=(0,g.lJ)(d,u),h=(0,p.Z)({name:"BoardSectionsRepinResource",options:{board_id:r.id,orbac_subject_id:f},noCache:!0}),m=h&&h.data||[];return(0,x.jsxs)(i.xu,{children:[!h.isLoaded&&(0,x.jsx)(i.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,x.jsx)(i.$j,{accessibilityLabel:t._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})}),h.isLoaded&&(0,x.jsxs)(i.xu,{children:[c&&(0,x.jsx)(i.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,x.jsx)(i.xv,{size:"100",children:t._('Section', 'PinBetterSave.BoardFlyout.SectionPlaceholderText', 'section list title')})}),m.map(function(e){return(0,x.jsx)(G,{board:r,buttonText:n,onButtonClick:a,onClick:o,section:e,showSectionSaveButton:l,useLegoLayout:c},e.id)})]})]})}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function X(e){var t,r=e.onClick,o=e.title,a=e.showIcon,l=(0,s.ZP)(),c=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],d=c[1];return(0,x.jsx)(i.iP,{onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onTap:function(){r({title:o})},children:(0,x.jsxs)(i.xu,{color:u?"secondary":"default",display:"flex",alignItems:"center",height:a?64:52,marginStart:3,marginEnd:3,marginBottom:1,rounding:3,children:[(0,x.jsx)(i.xu,{flex:"none",marginBottom:1,marginStart:a?1:2,marginEnd:3,marginTop:1,overflow:"hidden",width:a?48:36,height:a?48:36,rounding:a?2:1,children:(0,x.jsx)(i.xu,{alignItems:a?"center":void 0,color:"secondary",display:a?"flex":void 0,height:"100%",justifyContent:a?"center":void 0,width:"100%",children:a&&(0,x.jsx)(i.JO,{icon:"add",color:"default",size:20,accessibilityLabel:l._('Create board icon', 'BoardSuggestionRow.AccessibilityLabel.Text', 'accessibility label text form add icon')})})}),(0,x.jsx)(i.xu,{flex:"grow",paddingY:1,children:(0,x.jsx)(i.xv,{lineClamp:1,weight:"bold",children:o})}),u&&(0,x.jsx)(i.xu,{marginEnd:2,children:(0,x.jsx)(i.zx,{accessibilityLabel:"create button",color:"red",text:l._('Create', 'create button to create a new board', 'create button to create a new board')})})]})})}function q(e){var t=(0,s.ZP)(),r=e.suggestionsResource,o=e.onClick,a=e.pinBuilderSuggestions,l=e.inWebRepinFlowExp,c=a||r&&r.data||[],u=(0,x.jsxs)(n.Fragment,{children:[l&&(0,x.jsx)(i.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,x.jsx)(i.xv,{size:"100",children:t._('Suggestions', 'PinBetterSave.BoardFlyout.SectionPlaceholderText', 'section list title')})}),c.map(function(e,t){return(0,x.jsx)(X,{title:e.title,onClick:o,showIcon:l},t)})]});return(0,x.jsx)(n.Fragment,{children:c?u:(0,x.jsx)(i.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,x.jsx)(i.$j,{accessibilityLabel:t._('loading board suggestions', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})})})}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function $(e){var t,r=e.isBoardCreate,o=e.onCreateBoardClick,a=e.useLegoLayout,l=(0,s.ZP)(),c=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],d=c[1];return(0,x.jsx)(i.xu,{"data-test-id":"create-board",height:"100%",display:"flex",children:(0,x.jsx)(i.iP,{onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},onTap:o,rounding:2,children:(0,x.jsxs)(i.xu,{display:"flex",alignItems:"center",padding:a?4:2,color:u?"secondary":"default",width:"100%",height:"100%",children:[(0,x.jsx)(i.xu,{rounding:a?2:0,dangerouslySetInlineStyle:{__style:a?{padding:"14px"}:{}},marginStart:a?0:4,marginEnd:a?2:5,color:a?"secondary":"transparent",children:(0,x.jsx)(i.JO,{accessibilityLabel:"",size:a?20:28,icon:a?"add":"add-circle",color:a?"default":"error"})}),r?(0,x.jsx)(i.xv,{align:"center",lineClamp:1,weight:"bold",children:l._('Create board', ' - ', ' -- ')}):(0,x.jsx)(i.xv,{align:"center",lineClamp:1,weight:"bold",children:l._('Create section', ' - ', ' -- ')})]})})})}U(V,"defaultProps",{showSectionSaveButton:!0});var J=r(615298),Q=r(217641);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?er(Object(r),!0).forEach(function(t){eu(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):er(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eo(e){return function(e){if(Array.isArray(e))return ei(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ei(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ei(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ea(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ed(n.key),n)}}function el(e,t){return(el=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function es(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ec(e){return(ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eu(e,t,r){return(t=ed(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ed(e){var t=function(e,t){if("object"!==ee(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ee(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ee(t)?t:String(t)}var ef=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&el(e,t)}(s,e);var t,r,o,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ec(s);if(t){var n=ec(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return es(e)}(this,e)});function s(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s);for(var e,t,r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return eu(es(e=a.call.apply(a,[this].concat(o))),"state",{boardSuggestions:[],isSectionOpen:null,selectedBoardId:"",selectedBoardCategory:"",searchQuery:"",searchBoxFocused:!0}),eu(es(e),"getItems",function(t){var r=e.props,n=r.boardResource,o=r.changeBoardModal,i=r.checkExperiment,a=r.showSaveToProfile;if(!(null!=n&&n.data))return[];var l=n.data.all_boards,s=l.length>=3&&a&&i("web_top_choices_extract_profile").anyEnabled,c=[{boardId:"",image_cover_url:"",is_collaborative:!1,isOpen:!1,name:e.props.i18n._('Profile', 'pinBetterSave.initialSelection.boardlessPinsOption', 'Option to save to profile without a board.'),privacy:"public",section_count:0,type:"boardless",url:"/me/"}],u=e.getAllBoards().map(function(t){return e.mapBoards(t,"allBoards",0)}),d=e.getShortlist().map(function(t,r){return e.mapBoards(t,"shortlist",r+1)}),f=!s&&a&&!o&&l.length>=3?[].concat(c,eo(d.slice(0,2))):d,p=e.state.searchQuery;return p.length>=h.Z?eo((0,J.j)(u,p)):[].concat(eo(l.length<3&&a?[{type:"header",title:e.props.i18n._('Quick save and organize later', 'BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.boardlessPinsTitle', 'Header saving to profile')}].concat(c):[]),eo(l.length>=3&&s?c:[]),eo(l.length>=3&&f&&f.length?[{type:"header",title:t?e.props.i18n._('Top choices', 'PinBetterSave.BoardFlyout.TopChoicesSectionTitle', 'Header for top suggestions in board picker'):e.props.i18n._('Top board suggestions', 'Header for top suggesions in board picker', 'Header for top suggesions in board picker')}].concat(eo(f)):[]),eo(l.length>0?[{type:"header",title:l.length<3&&a?e.props.i18n._('Save to board', 'BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.saveToBoardTitle', 'Header for boards when there are less than 3 boards in board picker'):e.props.i18n._('All boards', 'Header for all boards in board picker', 'Header for all boards in board picker')}].concat(eo(u)):[]))}),eu(es(e),"mapBoards",function(t,r,n){var o=e.state,i=o.selectedBoardId,a=o.selectedBoardCategory,l=t.id===i&&r===a;return en(en({},t),{},{category:r,isOpen:l,gridIndex:n})}),eu(es(e),"handleBack",function(){var t=e.props.setBoardWithSection;e.setState({isSectionOpen:!1,selectedBoardId:"",selectedBoardCategory:""}),t&&t(null)}),eu(es(e),"handleSectionClick",function(t,r){var n=e.props,o=n.onItemChosen,i=n.logContextEvent,a=n.pinId,l=e.state.searchQuery;i({event_type:101,component:13282,element:36,object_id_str:r.id,view_type:91,aux_data:en({board_id:r.id,grid_index:r.gridIndex,is_profile_save:!1,pin_id:a,search_query:l,section_id:t.id},e.getTopChoiceBoardsAuxData())}),o({boardId:r.id,url:t.slug?"".concat(r.url).concat(t.slug,"/"):r.url,sectionId:t.id,title:t.title||"",type:t.type,imageCoverUrl:r.image_cover_url,ownerUsername:r.owner&&r.owner.username||""})}),eu(es(e),"getPinBuilderSuggestions",(t=regeneratorRuntime.mark(function t(){var r,n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=e.props.pinId)){t.next=6;break}return t.next=4,(0,l.Z)({url:"/v3/pins/".concat(r,"/board_title_suggestions/"),data:{pin_id:r}});case 4:(n=t.sent).resource_response.data&&(o=n.resource_response.data.map(function(e){var t;return{title:e.title,metadata:JSON.parse(null!==(t=null==e?void 0:e.metadata)&&void 0!==t?t:"{}")}})||[],e.setState({boardSuggestions:o}));case 6:case"end":return t.stop()}},t)}),function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){et(i,n,o,a,l,"next",e)}function l(e){et(i,n,o,a,l,"throw",e)}a(void 0)})})),eu(es(e),"getAllBoards",function(){var t,r=e.props,n=r.boardResource,o=r.advertiser_id;return((null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.all_boards)||[]).filter(function(e){return!o||"secret"!==e.privacy})}),eu(es(e),"getShortlist",function(){var t,r=e.props,n=r.suggestedBoardsShortListResource,o=r.displayShortlistMostRecentBoard,i=r.boardResource,a=(null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.boards_shortlist)||[];return o?a:(null==n?void 0:n.data)||[]}),eu(es(e),"getBoards",function(t){return"allBoards"===t?e.getAllBoards():"shortlist"===t?e.getShortlist():[]}),eu(es(e),"getSuggestedBoardsIds",function(){var t=e.props.showSaveToProfile,r=(t?e.getShortlist().slice(0,2):e.getShortlist()).map(function(e){return e.id});return t&&r.unshift("PROFILE_PINS"),r}),eu(es(e),"getTopChoiceBoardsAuxData",function(){var t=e.props.showSaveToProfile,r=t?e.getShortlist().slice(0,2):eo(e.getShortlist());if(t){var n={id:"PROFILE_PINS",type:"board",recommendation_reason:JSON.stringify({reason:3,score:-1})};r.unshift(n)}var o=r.map(function(e){return e.id}),i=r.map(function(e){var t;return JSON.parse(null!==(t=e.recommendation_reason)&&void 0!==t?t:"{}").reason}),a=r.map(function(e){var t;return JSON.parse(null!==(t=e.recommendation_reason)&&void 0!==t?t:"{}").score});return{suggested_boards:JSON.stringify(o),suggested_boards_kind_list:JSON.stringify(i),suggested_boards_score_list:JSON.stringify(a)}}),eu(es(e),"handleBoardWithSectionsClick",function(t){var r=e.props.setBoardWithSection,n=e.state,o=n.selectedBoardId,i=n.selectedBoardCategory,a=e.getBoards(t.category).find(function(e){return e.id===t.id}),l=o===t.id&&i===t.category;a&&r&&r(a),e.setState({isSectionOpen:!0,selectedBoardId:l?"":t.id,selectedBoardCategory:l?"":t.category})}),eu(es(e),"handleBoardClick",function(t){var r=t.board,n=t.toggleSections,o=e.props,i=o.onItemChosen,a=o.logContextEvent,l=o.pinId,s=e.state.searchQuery;e.setState({searchBoxFocused:!1}),n?e.handleBoardWithSectionsClick({id:r.id,category:r.category}):(a({event_type:101,component:13282,element:36,object_id_str:r.id,view_type:91,aux_data:en({board_id:r.id,grid_index:r.gridIndex,is_profile_save:"boardless"===r.type,pin_id:l,search_query:s},e.getTopChoiceBoardsAuxData())}),i({boardId:r.id,url:r.url,title:r.name||"",type:r.type,imageCoverUrl:r.image_cover_url,privacy:r.privacy}))}),eu(es(e),"handleSearchQueryUpdate",function(t){e.setState(function(e){return en(en({},e),{},{searchQuery:t})})}),eu(es(e),"handleCreateBoardClick",function(){var t=e.props,r=t.logContextEvent,n=t.onBoardCreate,o=e.state.searchQuery;r({event_type:101,component:13282,element:249,view_type:91,aux_data:{search_query:o}}),n({title:o})}),eu(es(e),"handleBoardSuggestionClick",function(t){var r=e.props,n=r.logContextEvent,o=r.onBoardCreate,i=r.pinId,a=e.state.boardSuggestions,l=a.map(function(e){return e.metadata.value}),s=a.map(function(e){return e.metadata.kind}),c=a.map(function(e){return e.title}),u=a.map(function(e){return e.metadata.confidence}),d=c.indexOf(null==t?void 0:t.title);n({event_type:101,component:13282,element:23,view_type:91,aux_data:{board_title_id_list:JSON.stringify(l),board_title_kind_list:JSON.stringify(s),board_title_list:JSON.stringify(c),board_title_score_list:JSON.stringify(u),pin_id:i,selected_board_title_index:d}}),o(t)}),eu(es(e),"boardSectionsHeaderRef",(0,n.createRef)()),e}return r=[{key:"componentDidMount",value:function(){this.props.setBoardWithSection&&this.props.setBoardWithSection(null),this.props.showSaveToProfile&&this.props.logContextEvent({event_type:13,component:13282,element:11933,aux_data:{pin_id:this.props.pinId}})}},{key:"componentDidUpdate",value:function(e,t){var r,n;this.state.isSectionOpen&&!t.isSectionOpen&&this.boardSectionsHeaderRef.current&&this.boardSectionsHeaderRef.current.focus(),!(null!==(r=e.suggestedBoardsShortListResource)&&void 0!==r&&r.isLoaded)&&null!==(n=this.props.suggestedBoardsShortListResource)&&void 0!==n&&n.isLoaded&&this.getSuggestedBoardsIds().length>0&&this.props.logContextEvent({event_type:13,component:13282,element:1001,aux_data:en({pin_id:this.props.pinId},this.getTopChoiceBoardsAuxData())})}},{key:"render",value:function(){var e=this,t=this.props,r=t.accessibilityLabelText,o=t.boardResource,a=t.buttonText,l=t.changeBoardModal,s=t.customItem,u=t.onButtonClick,d=t.paneHeight,f=t.paneWidth,p=t.requestContext,h=t.showSaveToProfile,y=t.showCreateBoardButton,m=t.showFlyoutSaveButton,g=t.showSections,_=t.showSectionSaveButton,v=t.suggestedBoardsShortListResource,P=t.pinAlreadySavedBoard,O=t.useStoryboardStyle,j=t.useLegoLayout,S=this.state,w=S.boardSuggestions,E=S.isSectionOpen,A=S.searchBoxFocused,I=S.searchQuery;if(!o)return null;var C=o.isLoaded,T=o.error,k=[];(C&&!T||v&&v.data&&!v.error)&&(k=this.getItems(!!j));var R=k.filter(function(e){return e&&"allBoards"===e.category}).length;R<=3&&0===w.length&&this.getPinBuilderSuggestions();var z=O?200:322,L=O?214:334,M=d||290,N=p.isRTL?"BoardsSlideRightRTL":"BoardsSlideLeft",B="";null!==E&&(B=p.isRTL?"BoardsSlideLeftRTL":"BoardsSlideRight");var F=function(t){return(0,x.jsxs)(n.Fragment,{children:[!j&&(0,x.jsx)(i.iz,{}),(0,x.jsx)(i.xu,{overflow:"hidden",height:j?80:52,borderStyle:j&&R>=3&&k.length>1?"shadow":"none",dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:8,borderBottomLeftRadius:8}},children:(0,x.jsx)($,{onCreateBoardClick:e.handleCreateBoardClick,isBoardCreate:t,useLegoLayout:j})})]})};return(0,x.jsxs)(i.xu,{width:j&&!l?"100%":f,rounding:2,overflow:"hidden",height:O||l?"100%":j?498:439,color:"default",zIndex:b.lI,children:[(0,x.jsx)(c.Z,{unsafeCSS:"\n.BoardsSlideLeft {\n  animation: boardFlyoutSlideLeft 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n.BoardsSlideRight {\n  animation: boardFlyoutSlideRight 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n.BoardsSlideLeftRTL {\n  animation: boardFlyoutSlideLeftRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n.BoardsSlideRightRTL {\n  animation: boardFlyoutSlideRightRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n@keyframes boardFlyoutSlideLeft {\n  from {\n    margin-left: 0%;\n  }\n\n  to {\n    margin-left: -100%;\n  }\n}\n\n@keyframes boardFlyoutSlideRight {\n  from {\n    margin-left: -100%;\n  }\n\n  to {\n    margin-left: 0%;\n  }\n}\n\n@keyframes boardFlyoutSlideLeftRTL {\n  from {\n    margin-right: -100%;\n  }\n\n  to {\n    margin-right: 0%;\n  }\n}\n\n@keyframes boardFlyoutSlideRightRTL {\n  from {\n    margin-right: 0%;\n  }\n\n  to {\n    margin-right: -100%;\n  }\n}\n"}),C?null:(0,x.jsx)(i.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:j&&!l?360:f,children:(0,x.jsx)(i.$j,{accessibilityLabel:this.props.i18n._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})}),(0,x.jsx)(i.kC,{direction:"row",children:C&&(0,x.jsx)("div",{className:E?N:B,children:(0,x.jsx)(i.xu,{position:"relative",children:(0,x.jsxs)(i.xu,{display:"flex",direction:"row",width:j&&!l?720:(null!=f?f:0)*2,zIndex:new i.Ry(0),children:[(0,x.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",width:j&&!l?360:f,children:[j&&!l&&(0,x.jsx)(i.kC,{alignItems:"center",height:64,justifyContent:"center",children:(0,x.jsx)(i.xv,{align:"center",size:"300",weight:"bold",children:h?this.props.i18n._('Save', 'PinBetterSave.BoardFlyout.SavePlaceholder', 'flyout header text to indicate save options'):this.props.i18n._('Save to board', 'PinBetterSave.BoardFlyout.SaveToBoardPlaceholder', 'flyout header text')})}),!l&&(0,x.jsx)(i.xu,{padding:j?0:3,paddingX:j?4:3,height:j?64:"auto",children:(0,x.jsx)(Q.Z,{accessibilityLabel:this.props.i18n._('Search through your boards', 'search bar placeholder text', 'search bar placeholder text'),focused:A,id:"pickerSearchField",onChange:function(t){var r=t.value;return e.handleSearchQueryUpdate(r)},placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),value:I})}),(0,x.jsxs)(i.xu,{minHeight:j?290:z,maxHeight:j?M:z,overflow:"scrollY",children:[v&&!v.isLoaded?(0,x.jsx)(i.xu,{"data-test-id":"suggestedBoardsContainer",children:(0,x.jsx)(i.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:128.5,width:"100%",children:(0,x.jsx)(i.$j,{accessibilityLabel:this.props.i18n._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})})}):null,s,k.map(function(t,n){return"header"===t.type?(0,x.jsx)(i.xu,{paddingX:j?4:3,paddingY:1,marginTop:n>0?2:1,children:(0,x.jsx)(i.xv,{size:j?"100":"200",children:t.title})},t.title):(0,x.jsx)(i.xu,{children:(0,x.jsx)(D,{accessibilityLabelText:r,board:t,buttonText:a,displayAlreadySavedMsg:P&&P.id===t.id,onClick:function(t){e.handleBoardClick({board:t,toggleSections:g&&!!t.section_count})},onButtonClick:u,shouldOpenSections:g,showFlyoutSaveButton:m,showSaveToProfile:h,useLegoLayout:j})},"".concat(t.category,"-").concat(t.id))}),R<=3&&(0,x.jsx)(q,{onClick:this.handleBoardSuggestionClick,pinBuilderSuggestions:w,inWebRepinFlowExp:j})]}),y&&F(!0)]}),E&&(0,x.jsxs)(i.xu,{display:"flex",direction:"column",width:j&&!l?360:f,marginBottom:j?2:0,children:[(0,x.jsxs)(i.kC,{alignContent:"center",alignItems:"center",direction:"row",justifyContent:"center",children:[(0,x.jsx)(i.sg,{span:2,children:(0,x.jsx)(i.xu,{display:"flex",justifyContent:"start",alignContent:"center",alignItems:"center",marginStart:3,children:(0,x.jsx)(i.hU,{accessibilityLabel:"Back button",icon:"arrow-back",iconColor:"darkGray",onClick:this.handleBack,size:"sm"})})}),(0,x.jsx)(i.sg,{span:8,children:(0,x.jsx)(i.kC,{alignItems:"center",height:j?64:52,justifyContent:"center",children:(0,x.jsx)(i.xv,{weight:"bold",children:j?this.props.i18n._('Save Pin to', 'PinBetterSave.BoardFlyout.SectionHeader', 'Header for section header'):this.props.i18n._('Choose section', 'Header for section header', 'Header for section header')})})}),(0,x.jsx)(i.sg,{span:2,children:(0,x.jsx)(i.xu,{})})]}),!j&&(0,x.jsx)(i.iz,{}),(0,x.jsx)(i.xu,{minHeight:j?354:L,maxHeight:j?M:L,overflow:"scrollY",children:k?(0,x.jsx)(n.Fragment,{children:k&&k.map(function(t){return"header"===t.type?null:(0,x.jsx)(i.xu,{children:t.isOpen&&(0,x.jsxs)(n.Fragment,{children:[j&&(0,x.jsx)(i.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,x.jsx)(i.xv,{size:"100",children:e.props.i18n._('Board', 'PinBetterSave.BoardFlyout.BoardPickerTitle', 'board title on section picker')})}),(0,x.jsx)(D,{board:t,buttonText:a,displayAlreadySavedMsg:P&&P.id===t.id,isSectionOpen:!0,onClick:function(t){e.handleBoardClick({board:t,toggleSections:!1})},onButtonClick:u,shouldOpenSections:!1,showFlyoutSaveButton:m,ref:e.boardSectionsHeaderRef,useLegoLayout:j}),(0,x.jsx)(W,{board:t,buttonText:a,onClick:e.handleSectionClick,onButtonClick:u,showSectionSaveButton:_,useLegoLayout:j})]})},"".concat(t.category,"-").concat(t.id))})}):null}),y&&!l&&F(!1)]})]})})})})]})}}],ea(s.prototype,r),o&&ea(s,o),Object.defineProperty(s,"prototype",{writable:!1}),s}(n.PureComponent);function ep(e){var t=(0,a.v)().logContextEvent,r=(0,s.ZP)(),n=(0,u.F)().checkExperiment;return(0,x.jsx)(ef,en(en({},e),{},{checkExperiment:n,requestContext:(0,d.B)(),i18n:r,logContextEvent:t}))}function eh(e,t,r){var n=e.advertiser,o={};if(r&&r.user&&r.user.username&&r.id!==t.id&&(o.orbacActingAs=r,o.username=r.user.username),t&&n){var i=e.advertiser;if(t.isAuth&&i.is_impersonation)return en({hasMUA:i.owner_user_id!==t.id,advertiser_id:i.id,username:i.owner_user_id},o);if(t.isAuth&&i.owner_user_id!==t.id)return en({hasMUA:!0,advertiser_id:i.id,username:i.owner_user_id},o);if(t.isAuth&&i.owner_user_id===t.id)return{hasMUA:!1,advertiser_id:i.id,username:"me"}}return en({advertiser_id:void 0,hasMUA:void 0},o)}function ey(e){var t=e.advertiser_id,r=e.hasMUA,n=e.boardFilter,o=void 0===n?"all":n,i=e.username,a=en(en({field_set_key:"board_picker",filter:r?"protected":o},i?{username:i}:Object.freeze({})),t?{advertiser_id:t}:{});return(!e.useStoryboardStyle||e.isORBACBeta)&&e.orbacActingAs&&e.orbacActingAs.user&&e.orbacActingAs.user.username&&(a=en(en({},a),{},{username:e.orbacActingAs.user.username,orbac_subject_id:e.orbacActingAs.id,filter:o})),a}function em(e,t){return function(r,n){return r((0,f.jB)("BoardPickerBoardsResource",ey(eh(n(),e,t))))}}function eg(e){var t=(0,y.Z)(),r=(0,o.useSelector)(function(r){return eh(r,t,e.orbacActingAs)}),n=en(en({},e),r),i=(0,p.Z)({name:"BoardPickerBoardsResource",options:ey(n)});return(0,x.jsx)(ep,en(en({},n),{},{boardResource:i}))}function eb(e){var t=(0,m.Z)(),r=(0,y.Z)(),n=(0,g.lJ)(r,t),o=(0,u.F)().checkExperiment("web_m10n_business_access_orbac_www").anyEnabled;return(0,x.jsx)(eg,en(en({},e),{},{orbacActingAs:n?t:void 0,isORBACBeta:o}))}function e_(e){var t=(0,p.Z)({name:"BoardPickerBoardsShortlistResource",options:{pin_id:e.pinId,shortlist_length:2,num_shortlist_suggestions:2}}),r=(0,p.Z)({name:"ApiResource",options:{url:"/v3/pins/".concat(e.pinId,"/"),field_sets:["pin.pinned_to_board()"]},noCache:!0}).data;return(0,x.jsx)(ep,en(en({},e),{},{suggestedBoardsShortListResource:t,pinAlreadySavedBoard:null==r?void 0:r.pinned_to_board}))}eu(ef,"defaultProps",{paneWidth:320,showCreateBoardButton:!0,showFlyoutSaveButton:!0,showSections:!0,showSectionSaveButton:!0,useLegoLayout:!0})},970576:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(908390),o=r(499128),i=r(898781),a=r(349700),l=r(515198);function s(e){var t,r=e.boardName,s=e.boardUrl,c=e.isBoardlessPin,u=e.isFromPinBuilder,d=e.hasNewPin,f=e.onChangeButtonClick,p=e.onVisitButtonClick,h=e.onHide,y=e.onUndo,m=e.pinImageUrl,g=(0,i.ZP)();return u?t={accessibilityLabel:g._('Visit Pin', 'PostSavedPinToast.a11yVisitButton', 'Accessibility label for Visit Pin saved from PinBuilder'),label:g._('Visit', 'PostSavedPinToast.VisitButton', 'Visit Pin saved from PinBuilder'),size:"lg",onClick:void 0===p?function(){}:p}:(f||y)&&(t={accessibilityLabel:d&&c&&f?g._('Change Pin destination', 'PostSavedPinToast.a11yChangeButton', 'Change saved pin to a different destination'):g._('Undo Saved Pin', 'PostSavedPinToast.a11yUndoButton', 'Undo Saved Pin'),label:d&&c&&f?g._('Change', 'PostSavedPinToast.ChangeButton', 'Change saved pin to a different destination'):g._('Undo', 'PostSavedPinToast.UndoButton', 'Undo Saved Pin'),size:"lg",onClick:d&&c&&f?function(){return f()}:y}),(0,l.jsx)(o.ZP,{primaryAction:t,duration:c?6e3:3e3,thumbnail:c?{icon:(0,l.jsx)(n.JO,{accessibilityLabel:g._('Saved to profile thumbnail', 'PostSavedPinToast.thumbnail.accessibilityLabel', 'Thumbnail for saved to profile.'),color:"default",icon:"history",size:24})}:void 0,imageUrl:m,onHide:h,text:(0,l.jsx)(n.xv,{size:"200",overflow:"normal",children:(0,a.nk)(g._('Saved to {{ destination }}', 'PostSavedPinToast.SavedToBoardLabel', 'Saved to label for better save'),{destination:(0,l.jsx)(n.rU,{href:c?"/me/":null!=s?s:"",children:(0,l.jsx)(n.xv,{size:"200",weight:"bold",lineClamp:1,children:r},"PostSavedPinToastBoardName")})})})})}},274495:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(908390),o=r(515198),i={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function a(){return(0,o.jsx)(n.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",rounding:8,children:(0,o.jsx)(n.xu,{dangerouslySetInlineStyle:i,display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function l(e){var t=e.disabled,r=e.name,i=e.onClick,l=e.size,s=e.submitting,c=e.text;return(0,o.jsxs)(n.xu,{display:"flex",position:"relative","data-test-id":"submit-button",children:[s&&(0,o.jsx)(a,{}),(0,o.jsx)(n.zx,{color:"red",disabled:t||s,name:r,onClick:i,size:l,type:"submit",text:c})]})}},865607:function(e,t,r){"use strict";r.d(t,{O:function(){return c},Z:function(){return u}});var n=r(76911),o=r(908390),i=r(898781),a=r(966113),l=r(515198),s={xs:12,sm:16,md:20,lg:24};function c(e){var t=e.children,r=(0,i.ZP)();return(0,l.jsx)(o.u,{link:(0,l.jsx)(o.rU,{href:a.vBy,target:"blank",children:(0,l.jsx)(o.xv,{color:"inverse",size:"100",weight:"bold",children:r._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:r._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:t})}function u(e){var t=e.hasVerifiedIdentity,r=e.iconOnly,a=e.isVerifiedMerchant,u=e.showText,d=e.size,f=(0,i.ZP)(),p=(0,l.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(o.JO,{accessibilityLabel:f._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:s[d]}),u&&(0,l.jsx)(o.xu,{marginStart:2,children:(0,l.jsx)(o.xv,{color:"shopping",inline:!0,weight:"bold",children:f._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,l.jsxs)(n.Fragment,{children:[a&&!r&&(0,l.jsx)(c,{children:p}),a&&r&&p,t&&!a&&(0,l.jsx)(o.JO,{accessibilityLabel:f._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:s[d]})]})}},116485:function(e,t,r){"use strict";r.d(t,{AA:function(){return i},E9:function(){return m},EU:function(){return _},IO:function(){return b},KH:function(){return u},Lg:function(){return p},QR:function(){return c},Uw:function(){return o},ZR:function(){return v},dy:function(){return s},eA:function(){return f},eV:function(){return h},fo:function(){return y},k7:function(){return a},rT:function(){return g},tz:function(){return d},u9:function(){return x},zR:function(){return l},zu:function(){return n}});var n="OPEN_UNAUTH",o="openUnauthType",i="_isAfterLogin",a="_lastVisitedPages",l="_lastVisitedPagesBeforeLogin",s="_lastVisitedBoardPages",c="_lastVisitedPagesBeforeNavPage",u="_lastVisitedSessionPages",d="_unauthVisitedPages",f=20,p="_inviteCodeRedemption",h="_paidTrafficLand",y="_unauthReferrerString",m="unauthTopicsFollowed",g=["US","CA","NZ","AU"],b=new Set(["GB","IE"]),_=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),v=new Set(["BR","MX","AR","CL","CO","PE"]),x="ad_img"},534427:function(e,t,r){"use strict";r.d(t,{E:function(){return l},S:function(){return s}});var n=r(76911),o=r(844974);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var a="_loggingInNotHome",l=function(e){e?(0,o.Nh)(a,1):(0,o.L_)(a)},s=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],l=t[1];return(0,n.useEffect)(function(){l(!0)},[]),r&&(0,o.qn)(a)}},823983:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(908390),o=r(898781),i=r(957161),a=r(867820),l=r(50286),s=r(63552),c=r(709113),u=r(515198);function d(e){var t=e.setShowLastLoggedInSection,r=(0,o.ZP)(),d=(0,l.HG)(),f=d?"desktop":"mobile",p=i.Z.getItem(c.V6);return(0,u.jsx)(n.xu,{marginTop:d?7:6,marginBottom:"email"===p?4:void 0,children:(0,u.jsxs)(n.kC,{alignItems:"center",justifyContent:"center",children:[(0,u.jsx)(n.xu,{display:"flex",marginEnd:1,"data-test-id":"signup-link",alignItems:"center",children:(0,u.jsx)(n.xv,{size:"300",children:r._('Not you?', 'toggle.loginText', 'Text before tap area asking user if its them')})}),(0,u.jsx)(n.xu,{children:(0,u.jsx)(s.Z,{pressState:"none",onTouch:function(){(0,a.My)("".concat(f,".toggle.continue_another_way.last_logged_in_section.link_button")),t&&t(!1)},children:(0,u.jsx)(n.xu,{children:(0,u.jsx)(n.xv,{align:"center",size:"300",weight:"bold",children:r._('Use another account', 'toggle.changeAccount.tapAreaText', 'Tap area that allows user to switch accounts')})})})})]})})}},987318:function(e,t,r){"use strict";r.d(t,{H:function(){return i},o:function(){return o}});var n=(0,r(425288).Z)("LimitedLogin"),o=n.Provider,i=n.useHook},783690:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(599689),o=r(908390),i=r(898781),a=r(349700),l=r(773285),s=r(957161),c=r(867820),u=r(50286),d=r(823983),f=r(172351),p=r(709113),h=r(515198);function y(e){var t=e.setShowLastLoggedInSection,r=e.attributionLabel,y=(0,n.useLocation)(),m=(0,i.ZP)(),g=(0,l.F)().checkExperiment,b=(0,u.HG)(),_=s.Z.getItem(p.V6),v=_&&_.charAt(0).toUpperCase()+_.slice(1),x=!!_&&(g("pcons_mweb_last_logged_in").anyEnabled||g("pcons_last_logged_in").anyEnabled);return(0,h.jsxs)(o.xu,{paddingY:b?void 0:4,children:[!b&&(0,h.jsxs)(o.xu,{children:[(0,h.jsx)(o.X6,{align:"center",size:"400",children:m._('Welcome back', 'lastLoggedInSection.Heading.welcomeBack', 'Heading welcoming user back')}),(0,h.jsx)(o.xv,{align:"center",children:(0,a.nk)(m._('Last time you logged in using {{ lastLoggedInMethod }}', 'lastLoggedInSection.subHeading', 'lastLoggedInMethod: method user last used to log in, Subheading what was the last logged in method for the user'),{lastLoggedInMethod:"email"===_?_:v})})]}),"email"!==_&&(0,h.jsxs)(o.xu,{marginTop:b?void 0:3,paddingX:10,children:[(0,h.jsx)(f.Z,{facebook:"facebook"===_,google:"google"===_,from:"".concat(y.pathname).concat(y.search),next:"".concat(y.pathname).concat(y.search),attributionLabel:r}),(0,h.jsx)(o.xu,{children:(0,h.jsx)(o.xu,{paddingY:1,children:(0,h.jsx)(o.zx,{accessibilityLabel:"Other login methods",size:"md",text:m._('Continue another way', 'toggle.button', 'Button lllowing users to log in another way'),fullWidth:!0,onClick:function(){(0,c.My)("toggle.continue_another_way.last_logged_in_section.button"),t&&t(!1)}})})})]}),!(x&&"email"===_)&&(0,h.jsx)(d.Z,{setShowLastLoggedInSection:t})]})}},616693:function(e,t,r){"use strict";r.d(t,{Z:function(){return k}});var n=r(76911),o=r(908390),i=r(898781),a=r(367419),l=r(248058),s=r(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){y(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var g=function(e,t,r){return e-t/2*(r-1)},b=g(l.Cc,2*l.iA,1.4),_=g(l.Ys,2*l.iA,1.4),v=g(279,2*l.j5,2.1),x=g(2,2*l.kq,2.1),P={targets:".simplePopExtensionContent",opacity:[0,1],duration:500,easing:"easeInOutQuad"},O={targets:["#content-morph",".content-bar"],opacity:[0,1]},j={targets:"#content-morph",width:30,height:30,x:220,y:203,rx:20},S={targets:".content-bar",width:0,height:0,x:215,y:218},w={targets:"#content-morph",x:301,y:24},E={targets:"#pinterest-logo",translateX:[l.Cc,b],translateY:_,scale:1.4,direction:"alternate"},A={targets:"#pinterest-logo",translateX:[b,l.Cc],translateY:l.Ys,scale:l.G9,direction:"alternate"},I={targets:"#pinterest-logo-pop-bg",translateX:[279,v],translateY:[2,x],scale:2.1,direction:"alternate"},C={targets:"#pinterest-logo-pop-bg",translateX:[v,279],translateY:[x,2],scale:1},T=function(e){var t=500+(e?0:750),r=t+300,n=r+280,o=r+210,i=a.Z.timeline({easing:"easeInOutQuad",loop:e,direction:"normal",autoplay:!1});return i.add(h(h({},O),{},{duration:500})),e||i.add({duration:750}),i.add(h(h({},j),{},{duration:300}),t).add(h(h({},S),{},{duration:300}),t).add(h(h({},w),{},{duration:300}),r).add(h(h({},E),{},{duration:280}),r).add(h(h({},I),{},{duration:210}),r).add(h(h({},A),{},{duration:190,easing:"cubicBezier(0, 0, 0.23, 0.8)"}),n).add(h(h({},C),{},{duration:300}),o).add({duration:1400}),i},D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(p,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=f(p);if(t){var n=f(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,p),i.apply(this,arguments)}return r=[{key:"componentDidMount",value:function(){var e=this.props.isLooping;window.requestAnimationFrame(function(){var t=T(e);(0,a.Z)(P).finished.then(function(){return t.play()})})}},{key:"render",value:function(){return(0,s.jsx)(o.xu,{display:"flex",flex:"grow",justifyContent:"center",alignItems:"center",marginTop:l.VE,children:l.ZP})}}],u(p.prototype,r),n&&u(p,n),Object.defineProperty(p,"prototype",{writable:!1}),p}(n.PureComponent);y(D,"defaultProps",{isLooping:!1});var k=function(e){var t=e.header,r=e.installClick,a=e.isExtensionInstalled,l=void 0!==a&&a,c=e.isFromPinBuilder,u=e.skipClick,d=e.subheader,f=(0,i.ZP)(),p=f._('Get the Pinterest browser button', 'extensionUpsell.modal.defaultHeader', 'Heading for downloading Pinterest chrome extension app'),h=f._('Save creative ideas from around the web', 'extensionUpsell.modal.defaultSubheader', 'Subheader text for downloading Pinterest chrome extension app'),y=f._('With the Pinterest Save Button you can save your favorite ideas without ever leaving the page you\'re on.', 'extensionUpsell.modal.defaultHeader', 'Heading for downloading Pinterest chrome extension app'),m=f._('Save your favorite ideas with just one click', 'extensionUpsell.modal.defaultSubheader', 'Subheader text for downloading Pinterest chrome extension app');return c?(0,s.jsxs)(o.xu,{children:[(0,s.jsx)(o.Ee,{src:"https://i.pinimg.com/originals/d4/d9/89/d4d9897b5d404678fa38c9cad904fc85.png",alt:f._('Pinterest Browser Extension', 'extensionUpsell.graphicAltText', 'Alt text for Browser Extension upsell graphic from PinBuilder'),naturalHeight:258,naturalWidth:540,children:(0,s.jsx)(o.xu,{display:"block",height:40,marginEnd:4,marginStart:4,marginTop:4,position:"absolute",right:!0,top:!0,width:40,children:(0,s.jsx)(o.hU,{accessibilityLabel:f._('Close', 'extensionUpsell.cancelLabel', 'Accesibility label to close modal for Browser Extension upsell'),icon:"cancel",iconColor:"darkGray",onClick:u,size:"md"})})}),(0,s.jsxs)(o.xu,{display:"flex",direction:"column",margin:"auto",width:360,children:[(0,s.jsx)(o.xu,{marginTop:8,children:(0,s.jsx)(o.X6,{size:"500",align:"center",children:t||m})}),(0,s.jsx)(o.xu,{marginTop:4,children:(0,s.jsx)(o.xv,{align:"center",children:d||y})}),(0,s.jsx)(o.xu,{display:"flex",direction:"row",marginTop:8,marginBottom:8,children:l?(0,s.jsx)(o.zx,{accessibilityLabel:f._('Got it', 'extensionUpsell.button.gotItLabel', 'Accesibility label to dismiss modal for users with extension installed'),color:"red",onClick:u,text:f._('Got it', 'extensionUpsell.button.gotIt', 'Got it message to dismiss modal for users with extension installed'),size:"lg"}):(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(o.xu,{"data-test-id":"cancel-extension-upsell",display:"inlineBlock",marginStart:12,children:(0,s.jsx)(o.zx,{fullWidth:!0,accessibilityLabel:f._('Maybe later', 'extensionUpsell.button.maybeLater', 'Accesibility label for dismissing the install for Pinterest browser extension'),onClick:u,text:f._('Maybe later', 'extensionUpsell.button.maybeLater', 'Dismiss button text for install browser extension upsell'),size:"lg"})}),(0,s.jsx)(o.xu,{display:"inlineBlock",marginStart:2,children:(0,s.jsx)(o.zx,{accessibilityLabel:f._('Get the Pinterest browser extension', 'extensionUpsell.button.getItNowLabel', 'Accesibility label for the Pinterest browser extension'),color:"red",onClick:r,text:f._('Get it now', 'extensionUpsell.button.getItNow', 'Get the Pinterest browser extension'),size:"lg"})})]})})]})]}):(0,s.jsxs)(o.xu,{padding:8,children:[(0,s.jsx)(o.X6,{align:"center",size:"500",children:t||h}),(0,s.jsx)(o.xu,{marginTop:4,children:(0,s.jsx)(o.xv,{align:"center",children:d||p})}),(0,s.jsx)(o.xu,{display:"flex",flex:"grow",marginTop:8,paddingY:8,children:(0,s.jsx)(D,{isLooping:!0})}),(0,s.jsx)(o.kC,{alignItems:"stretch",justifyContent:"end",children:l?(0,s.jsx)(o.zx,{accessibilityLabel:f._('Got it', 'extensionUpsell.button.gotItLabel', 'Accesibility label to dismiss modal for users with extension installed'),color:"red",onClick:u,text:f._('Got it', 'extensionUpsell.button.gotIt', 'Got it message to dismiss modal for users with extension installed'),size:"lg"}):(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(o.xu,{"data-test-id":"cancel-extension-upsell",display:"inlineBlock",marginEnd:2,children:(0,s.jsx)(o.zx,{fullWidth:!0,accessibilityLabel:f._('Cancel', 'extensionUpsell.button.cancelLabel', 'Accesibility label for cancel install Pinterest browser extension'),onClick:u,text:f._('Cancel', 'extensionUpsell.button.cancel', 'Cancel button text for install browser extension upsell'),size:"lg"})}),(0,s.jsx)(o.zx,{accessibilityLabel:f._('Get the Pinterest browser extension', 'extensionUpsell.button.getItNowLabel', 'Accesibility label for the Pinterest browser extension'),color:"red",onClick:r,text:f._('Get it now', 'extensionUpsell.button.getItNow', 'Get the Pinterest browser extension'),size:"lg"})]})})]})}},34596:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(616924),o=r(780280),i=r(50286),a=r(237056),l=r(898781),s=r(360400),c=r(515198);function u(){var e=(0,l.ZP)(),t=(0,a.Z)();return(0,c.jsx)(s.Z,{titleText:t?e._('Get the app to create Pins', 'inviteLandingPageV2.appUpsellPage.heading.sce', 'Heading to prompt users to download the native Pinterest app'):e._('Get the app to create Idea Pins', 'inviteLandingPageV2.appUpsellPage.heading', 'Heading to prompt users to download the native Pinterest app'),bodyText:t?e._('The Pinterest app has the tools you need to publish your first Pin. Download, get inspired, then start creating.', 'inviteLandingPageV2.appUpsellPage.description.sce', 'Text explaining that the native app contains tools for publishing Pins'):e._('The Pinterest app has the tools you need to publish your first Idea Pin. Download, get inspired, then start creating.', 'inviteLandingPageV2.appUpsellPage.description', 'Text explaining that the native app contains tools for Idea Pins'),buttonText:e._('Get the app', 'inviteLandingPageV2.appUpsellPage.cta', 'Button to download Pinterest app'),deeplink:"/idea-pin-builder/"})}var d=r(930352);function f(){var e=(0,o.B)(),t=e.isAuthenticated,r=e.userAgent,a=(0,i.HG)(),l=r.isTablet;return!t||l?(0,c.jsx)(n.l_,{to:"/"}):a?(0,c.jsx)(d.Z,{}):(0,c.jsx)(u,{})}},930352:function(e,t,r){"use strict";r.d(t,{Z:function(){return rK}});var n=r(76911),o=r(506979),i=r(599689),a=r(14798),l=r(353356),s=r(908390),c=r(237056),u=r(998499),d=r(316271),f=r(898781),p=r(66743),h=r(309256),y=r(515198);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var x={property:"opacity",duration:1600,timingFunction:"easeInOut",delay:500},P={start:{opacity:1},end:{opacity:0}},O=[{property:"height",duration:400,timingFunction:"easeInOut",delay:500},{property:"width",duration:400,timingFunction:"easeInOut",delay:500},{property:"left",duration:400,timingFunction:"easeInOut",delay:500},{property:"top",duration:400,timingFunction:"easeInOut",delay:500},{property:"box-shadow",duration:500,timingFunction:"easeInOut",delay:900}],j={start:{boxShadow:"0 0 0 500px rgba(197, 226, 238, 0)",top:"0%",left:"0%",height:"100%",width:"100%"},end:{boxShadow:"0 0 0 500px rgba(197, 226, 238, 1)",left:"8%",top:"8%",height:"84%",width:"84%"}},S=[{property:"opacity",duration:200,timingFunction:"easeInOut",delay:1500},{property:"left",duration:800,timingFunction:"easeInOut",delay:2e3}],w={start:{opacity:0,left:"0px"},end:{left:"164px",opacity:1}},E={property:"background-color",duration:"medium",timingFunction:"easeIn",delay:4200},A={start:{backgroundColor:"rgba(17, 82, 194, 0)",marginLeft:"8px"},end:{backgroundColor:"rgba(17, 82, 194, 1)"}};function I(e){var t=e.onStart,r=(0,f.ZP)(),o=(0,n.useRef)(null),i=(0,n.useRef)(0),a=(0,n.useRef)(null),l=_((0,n.useState)({cropper:!1,font:!1,image:!1,logo:!1}),2),c=l[0],m=l[1],g=_((0,n.useState)(null),2),v=g[0],I=g[1],C=_((0,n.useState)(!1),2),T=C[0],D=C[1],k=_((0,n.useState)(j.start),2),R=k[0],z=k[1],L=_((0,n.useState)(w.start),2),M=L[0],N=L[1],B=_((0,n.useState)(P.start),2),F=B[0],Z=B[1],U=_((0,n.useState)(A.start),2),H=U[0],V=U[1],G=_((0,n.useState)(" "),2),W=G[0],Y=G[1],X=r._('Picture-perfect outdoor seating', 'Sample text describing an image of visually-appealing outdoor seating', 'Sample text describing an image of visually-appealing outdoor seating');(0,n.useEffect)(function(){c.font||(0,h.a2)().then(function(){I(h.Wt[p.WK]),m(b(b({},c),{},{font:!0}))}),Object.keys(c).reduce(function(e,t){return e&&c[t]},!0)&&D(!0)},[c]),(0,n.useEffect)(function(){if(T){z(j.end),N(w.end),Z(P.end),V(A.end),t&&t();var e=setTimeout(function(){return setInterval(function(){var e;return e=i.current,void(Y(X.substr(0,e)),e>X.length&&(clearInterval(a.current),a.current=null),i.current=e+1)},500/X.length)},3200);o.current=e}return function(){clearTimeout(o.current),clearInterval(a.current),o.current=null,a.current=null}},[T,t]);var q=[r._('Crop images or use a preset size', 'Text describing editing images', 'Text describing editing images'),r._('Add a logo to showcase your brand', 'Text describing adding a logo to images', 'Text describing adding a logo to images'),r._('Use fonts and colors to make text pop', 'Text describing the text overlay feature in Pin creation', 'Text describing the text overlay feature in Pin creation')];return(0,y.jsxs)(s.xu,{bottom:!0,"data-test-id":"pinbuilder-education-editing-screen",display:"flex",height:"100%",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,width:"100%",children:[(0,y.jsx)(s.xu,{alignItems:"center",minWidth:342,dangerouslySetInlineStyle:{__style:{backgroundColor:"#c5e2ee"}},display:"flex",justifyContent:"center",padding:8,position:"relative",width:342,children:(0,y.jsxs)(s.xu,{height:"100%",overflow:"hidden",position:"relative",width:"100%",rounding:2,children:[(0,y.jsx)(s.xu,{left:!0,right:!0,bottom:!0,top:!0,position:"absolute",rounding:2,children:(0,y.jsx)(s.Ee,{alt:r._('Sample image of a Pin of outdoor furniture', 'Alt text describing image of outdoor furniture', 'Alt text describing image of outdoor furniture'),fit:"contain",onLoad:function(){m(b(b({},c),{},{image:!0}))},src:"https://s.pinimg.com/webapp/pin-87a15a9f.png",naturalHeight:568,naturalWidth:804})}),(0,y.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:b(b({},R),{},{transition:(0,u.Z)(O,{execution:"parallel"})})},position:"absolute",right:!0,bottom:!0,rounding:2,children:[(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:b(b({},F),{},{transition:(0,d.Z)(x)})},left:!0,right:!0,bottom:!0,top:!0,position:"absolute",children:(0,y.jsx)(s.Ee,{alt:"Cropper",fit:"contain",onLoad:function(){m(b(b({},c),{},{cropper:!0}))},src:"https://s.pinimg.com/webapp/cropper-e71fa1c6.png",naturalWidth:568,naturalHeight:804})}),(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:b(b({},M),{},{transition:(0,u.Z)(S,{execution:"parallel"})})},margin:4,position:"relative",top:!0,width:36,height:36,children:(0,y.jsx)(s.Ee,{onLoad:function(){m(b(b({},c),{},{logo:!0}))},alt:r._('A sample logo on an image to demonstrate editing on Pinterest', 'A sample logo on an image to demonstrate image editing features on Pinterest', 'A sample logo on an image to demonstrate image editing features on Pinterest'),color:"transparent",fit:"contain",src:"https://s.pinimg.com/webapp/logo-34fec719.png",naturalWidth:60,naturalHeight:70})}),(0,y.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:b(b({},H),{},{borderRadius:"0 0 8px 8px",transition:(0,d.Z)(E)})},display:"flex",position:"absolute",bottom:!0,justifyContent:"center",left:!0,right:!0,padding:4,children:(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:b(b({},v),{},{color:"white",fontSize:"21px",textAlign:"center"})},children:W})})]})]})}),(0,y.jsx)(s.xu,{flex:"grow",display:"flex",alignItems:"center",paddingX:10,children:(0,y.jsxs)(s.xu,{children:[(0,y.jsx)(s.X6,{children:r._('New ways to edit', 'Heading for describing ways to edit Pins', 'Heading for describing ways to edit Pins')}),(0,y.jsx)(s.xu,{paddingY:4,children:q.map(function(e,t){return(0,y.jsxs)(s.xu,{alignItems:"center",display:"flex",flex:"none",paddingY:1,children:[(0,y.jsx)(s.xu,{color:"selected",display:"flex",rounding:"circle",width:8,height:8}),(0,y.jsx)(s.xu,{paddingX:2,children:(0,y.jsx)(s.xv,{overflow:"normal",children:(0,y.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]},"editing-screen-point-".concat(t))})})]})})]})}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==C(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var z={start:{top:474},end:{top:-276}},L={property:"top",duration:8e3,timingFunction:"easeOut",delay:250};function M(e){var t=e.onStart,r=(0,f.ZP)(),o=k((0,n.useState)(!1),2),i=o[0],a=o[1],l=k((0,n.useState)(!1),2),c=l[0],u=l[1],p=k((0,n.useState)(z.start),2),h=p[0],m=p[1];(0,n.useEffect)(function(){c&&(a(!0),t&&t()),i&&m(z.end)},[i,c,t]);var g=[r._('Make multiple Pins at a time', 'Text describing that multiple Pins can be at once', 'Text describing that multiple Pins can be at once'),r._('Create any format, from video to carousel', 'Text describing the different Pin formats that can be used', 'Text describing the different Pin formats that can be used'),r._('See how Pins look before you publish', 'Text describing the Pin preview feature', 'Text describing the Pin preview feature')];return(0,y.jsxs)(s.xu,{bottom:!0,"data-test-id":"pinbuilder-education-publish-screen",display:"flex",height:"100%",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,width:"100%",children:[(0,y.jsx)(s.xu,{minWidth:342,dangerouslySetInlineStyle:{__style:{backgroundColor:"#fbcccd"}},position:"relative",width:342,children:(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:D(D({},h),{},{transition:(0,d.Z)(L)})},height:"100%",paddingX:8,position:"relative",width:"100%",children:(0,y.jsx)(s.Ee,{alt:r._('Example Pins', 'Alt text for an image showing example Pins', 'Alt text for an image showing example Pins'),onLoad:function(){return u(!0)},src:"https://s.pinimg.com/webapp/onboarding_multiPin-1d44baaf.png",naturalHeight:1660,naturalWidth:606})})}),(0,y.jsx)(s.xu,{flex:"grow",display:"flex",alignItems:"center",paddingX:10,children:(0,y.jsxs)(s.xu,{children:[(0,y.jsx)(s.X6,{children:r._('Why stop at one?', 'A heading text for describing creating multiple Pins at once', 'A heading text for describing creating multiple Pins at once')}),(0,y.jsx)(s.xu,{paddingY:4,children:g.map(function(e,t){return(0,y.jsxs)(s.xu,{alignItems:"center",display:"flex",paddingY:1,children:[(0,y.jsx)(s.xu,{color:"selected",display:"flex",flex:"none",rounding:"circle",width:8,height:8}),(0,y.jsx)(s.xu,{paddingX:2,children:(0,y.jsx)(s.xv,{children:(0,y.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]},"publish-screen-point-".concat(t))})})]})})]})}function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==N(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==N(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===N(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Z(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||H(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||H(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){if(e){if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var G={property:"top",timingFunction:"easeInOut",duration:3700,delay:1725},W=[{property:"opacity",duration:500,timingFunction:"easeInOut",delay:4200},{property:"margin-top",duration:500,timingFunction:"easeInOut",delay:4200}],Y=[{src:"https://s.pinimg.com/webapp/examplePins_01-125ae6f6.png",keyframe:{start:{top:-77},end:{top:-663}},naturalHeight:1684,naturalWidth:360},{src:"https://s.pinimg.com/webapp/examplePins_02-c1b9595c.png",keyframe:{start:{top:-1},end:{top:-636}},naturalHeight:1684,naturalWidth:360},{src:"https://s.pinimg.com/webapp/examplePins_03-434ea5a7.png",keyframe:{start:{top:-121},end:{top:-654}},naturalHeight:1684,naturalWidth:360},{src:"https://s.pinimg.com/webapp/examplePins_04-d8206ce6.png",keyframe:{start:{top:-5},end:{top:-646}},naturalHeight:1684,naturalWidth:360},{src:"https://s.pinimg.com/webapp/examplePins_05-4c1f579d.png",keyframe:{start:{top:-142},end:{top:-650}},naturalHeight:1684,naturalWidth:360}],X={start:{marginTop:24,maxWidth:500,opacity:0},end:{marginTop:0,maxWidth:500,opacity:1}};function q(e){var t=e.onStart,r=(0,f.ZP)(),o=U((0,n.useState)(!1),2),i=o[0],a=o[1],l=U((0,n.useState)([]),2),c=l[0],p=l[1],h=U((0,n.useState)(X.start),2),m=h[0],g=h[1],b=U((0,n.useState)(Y.reduce(function(e,t){return[].concat(Z(e),[t.keyframe.start])},[])),2),_=b[0],v=b[1];return(0,n.useEffect)(function(){p(Y.map(function(){return!0}))},[]),(0,n.useEffect)(function(){0===c.filter(function(e){return e}).length&&(a(!0),t&&t()),i&&(g(X.end),v(Y.reduce(function(e,t){return[].concat(Z(e),[t.keyframe.end])},[])))},[i,c,t]),(0,y.jsxs)(s.xu,{bottom:!0,"data-test-id":"pinbuilder-welcome-screen",display:"flex",height:"100%",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,width:"100%",children:[Y.map(function(e,t){var n=Y[t],o=n.src,i=n.naturalHeight,a=n.naturalWidth,l=t>Y.length/2?4:void 0,u=t<Y.length/2-1?4:void 0;return(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:F(F({},_[t]),{},{transition:(0,d.Z)(G)})},height:240,marginStart:l,marginEnd:u,width:164,position:"relative",children:(0,y.jsx)(s.Ee,{alt:r._('Column of example Pins', 'Image alt text describing a column of example Pins', 'Image alt text describing a column of example Pins'),color:"transparent",onLoad:function(){var e=Z(c);e[t]=!1,p(e)},naturalHeight:i,naturalWidth:a,src:o})},"education-image-strip-".concat(t))}),(0,y.jsx)(s.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:(0,y.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:F(F({},m),{},{transition:"".concat((0,u.Z)(W,{execution:"parallel"}))})},direction:"column",display:"flex",justifyContent:"center",padding:12,children:[(0,y.jsx)(s.X6,{children:r._('Great Pins made easy', 'In-product education heading text for creating Pins', 'In-product education heading text for creating Pins')}),(0,y.jsx)(s.xu,{paddingY:4,children:(0,y.jsx)(s.xv,{align:"center",children:(0,y.jsx)("span",{className:"deprecatedTextSizeXL",children:r._('Add text and logos, make multiple Pins at once and edit like a pro. New tools let you create Pins your way.', 'Text describing how to make Pins on Pinterest', 'Text describing how to make Pins on Pinterest')})})})]})})]})}var K=r(915206),$=r(407043),J=r(121151),Q=r(349700),ee=r(299295),et=r(346360),er=r(474394),en=r(106331);function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(r),!0).forEach(function(t){ed(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ei(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function el(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ef(n.key),n)}}function es(e,t){return(es=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ec(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eu(e){return(eu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ed(e,t,r){return(t=ef(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ef(e){var t=function(e,t){if("object"!==eo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eo(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eo(t)?t:String(t)}var ep=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&es(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eu(i);if(t){var n=eu(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eo(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ec(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return ed(ec(e=o.call.apply(o,[this].concat(r))),"state",{description:e.props.initialDescription,descriptionFocused:!1,dirtyFields:new Set,link:e.props.initialLink,linkError:null,publishOption:e.props.initialPublishOption,scheduledDate:e.props.initialScheduledDate,scheduledTime:e.props.initialScheduledTime,selectedItem:e.props.initialSelectedItem,title:e.props.initialTitle,titleFocused:!1}),ed(ec(e),"mounted",!1),ed(ec(e),"handleDescriptionFocus",function(){e.setState({descriptionFocused:!0})}),ed(ec(e),"handleDescriptionBlur",function(){e.setState({descriptionFocused:!1})}),ed(ec(e),"handleTitleFocus",function(){e.setState({titleFocused:!0})}),ed(ec(e),"handleTitleBlur",function(){e.setState({titleFocused:!1})}),ed(ec(e),"handleLinkBlur",function(t){var r=t.value,n=e.props,o=n.i18n,i=n.ideaPinRenamingEnabled;(0,et.qi)({i18n:o,ideaPinRenamingEnabled:i,link:r}).then(function(t){if(t&&t.length>0&&e.mounted){var r=t[0].message;e.setState({linkError:r})}})}),ed(ec(e),"handleDescriptionChange",function(t){var r=t.value;e.setState(function(e){return{description:r.substring(0,ee.JO),dirtyFields:e.dirtyFields.add("description")}})}),ed(ec(e),"handleLinkChange",function(t){var r=t.value;e.setState(function(e){return{link:r,linkError:null,dirtyFields:e.dirtyFields.add("link")}})}),ed(ec(e),"handleTitleChange",function(t){var r=t.value;e.setState(function(e){return{title:r.substring(0,ee.Ke),dirtyFields:e.dirtyFields.add("title")}})}),ed(ec(e),"handleBoardItemChosen",function(t){e.setState(function(e){return{selectedItem:t,dirtyFields:e.dirtyFields.add("board")}})}),ed(ec(e),"handleSubmitClick",function(){var t=e.props,r=t.i18n,n=t.ideaPinRenamingEnabled,o=t.onDismiss,i=t.onSubmit,a=e.state,l=a.description,s=a.link,c=a.publishOption,u=a.scheduledDate,d=a.scheduledTime,f=a.selectedItem,p=a.title;e.props.logContextEvent({event_type:101,component:13396,element:11331}),(0,et.qi)({i18n:r,ideaPinRenamingEnabled:n,link:s}).then(function(t){if(!t||t&&0===t.length)i(ea(ea(ea(ea(ea(ea(ea({},null!=l?{description:l}:Object.freeze({})),null!=s?{link:s}:Object.freeze({})),null!=c?{publishOption:c}:Object.freeze({})),void 0!==u?{scheduledDate:u}:Object.freeze({})),void 0!==d?{scheduledTime:d}:Object.freeze({})),void 0!==f?{selectedItem:f}:Object.freeze({})),null!=p?{title:p}:Object.freeze({}))),o();else if(t&&e.mounted){var r=t[0].message;e.setState({linkError:r})}})}),e}return r=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.numPins,r=e.onDismiss,n=this.state,o=n.description,i=n.descriptionFocused,a=n.dirtyFields,l=n.link,c=n.linkError,u=n.selectedItem,d=n.title,f=n.titleFocused,p=this.props.i18n._('Field updated', 'Icon symbolizing that the value for a field will be updated', 'Icon symbolizing that the value for a field will be updated');return(0,y.jsx)(J.ZP,{accessibilityModalLabel:this.props.i18n._('Edit Pin info', 'Label to describe the bulk Pin edit modal', 'Label to describe the bulk Pin edit modal'),footer:(0,y.jsxs)(s.xu,{padding:1,display:"flex",justifyContent:"between",alignItems:"center",children:[(0,y.jsx)(s.xu,{paddingX:3,children:(0,y.jsx)(s.xv,{size:"200",color:"subtle",children:(0,Q.nk)(this.props.i18n.ngettext('Editing info for {{ numPins }} Pin', 'Editing info for {{ numPins }} Pins', t, 'Number of Pins selected for bulk edit', 'Number of Pins selected for bulk edit'),{numPins:t})})}),(0,y.jsx)(s.xu,{"data-test-id":"pin-builder-edit-modal-save-button",children:(0,y.jsx)(s.zx,{text:this.props.i18n._('Update info', 'Button to save info to selected Pins', 'Button to save info to selected Pins'),color:"red",disabled:0===a.size,onClick:this.handleSubmitClick})})]}),heading:this.props.i18n._('Edit info', 'Heading for the bulk Pin info edit modal', 'Heading for the bulk Pin info edit modal'),onDismiss:r,size:"md",children:(0,y.jsxs)(s.xu,{column:12,paddingX:8,paddingY:6,"data-test-id":"pinbuilder-bulk-edit-modal",children:[(0,y.jsxs)(s.xu,{marginBottom:6,children:[(0,y.jsx)(s.__,{htmlFor:"pin-builder-edit-modal-board",children:(0,y.jsxs)(s.xu,{display:"flex",alignItems:"center",marginBottom:1,children:[(0,y.jsx)(s.xv,{children:this.props.i18n._('Board', 'Label for bulk apply board dropdown', 'Label for bulk apply board dropdown')}),a.has("board")&&(0,y.jsx)(s.xu,{paddingX:1,children:(0,y.jsx)(s.JO,{icon:"check-circle",accessibilityLabel:p,color:"success",size:12})})]})}),(0,y.jsx)(K.Z,{flyoutSize:480,onItemChosen:this.handleBoardItemChosen,placeholder:void 0===u?this.props.i18n._('Multiple', 'Placeholder text for board dropdown with multiple boards', 'Placeholder text for board dropdown with multiple boards'):this.props.i18n._('Select', 'Placeholder text for board dropdown to select board', 'Placeholder text for board dropdown to select board'),selectedItem:u,showButton:!1,showCreateBoardButton:!1,showFlyoutSaveButton:!1,showSectionSaveButton:!1,useLayer:!1})]}),(0,y.jsxs)(s.xu,{marginBottom:6,children:[(0,y.jsx)(s.__,{htmlFor:"pin-builder-edit-modal-title",children:(0,y.jsxs)(s.xu,{display:"flex",alignItems:"center",marginBottom:1,children:[(0,y.jsx)(s.xv,{children:this.props.i18n._('Title', 'Label for bulk apply title text field', 'Label for bulk apply title text field')}),a.has("title")&&(0,y.jsx)(s.xu,{paddingX:1,children:(0,y.jsx)(s.JO,{icon:"check-circle",accessibilityLabel:p,color:"success",size:12})})]})}),(0,y.jsx)(s.nv,{id:"pin-builder-edit-modal-title",onBlur:this.handleTitleBlur,onChange:this.handleTitleChange,onFocus:this.handleTitleFocus,onKeyDown:this.handleTitleChange,placeholder:void 0===d?this.props.i18n._('Multiple', 'Placeholder text for title field with multiple titles', 'Placeholder text for title field with multiple titles'):void 0,size:"lg",value:d||""}),(0,y.jsx)(s.xu,{column:12,marginTop:1,minHeight:15,children:f&&(0,y.jsxs)(s.xu,{column:12,display:"flex",justifyContent:"between",children:[(0,y.jsx)(s.xu,{flex:"grow",children:(0,y.jsx)(s.xv,{size:"100",color:"subtle",children:this.props.i18n._('Your first 40 characters are what usually show up in feeds', 'pinbuilder.header.editModal.title.helper', 'Helper education text for title on Pin creation')})}),(0,y.jsx)(s.xu,{flex:"none",children:(0,y.jsx)(s.xv,{size:"100",color:"default",children:ee.Ke-(d||"").length})})]})})]}),(0,y.jsxs)(s.xu,{marginBottom:6,children:[(0,y.jsx)(s.__,{htmlFor:"pin-builder-edit-modal-description",children:(0,y.jsxs)(s.xu,{display:"flex",alignItems:"center",marginBottom:1,children:[(0,y.jsx)(s.xv,{children:this.props.i18n._('Description', 'Label for bulk apply description text field', 'Label for bulk apply description text field')}),a.has("description")&&(0,y.jsx)(s.xu,{paddingX:1,children:(0,y.jsx)(s.JO,{icon:"check-circle",accessibilityLabel:p,color:"success",size:12})})]})}),(0,y.jsx)(s.Kx,{id:"pin-builder-edit-modal-description",onChange:this.handleDescriptionChange,onKeyDown:this.handleDescriptionChange,onFocus:this.handleDescriptionFocus,onBlur:this.handleDescriptionBlur,placeholder:void 0===o?this.props.i18n._('Multiple', 'Placeholder text for description field with multiple descriptions', 'Placeholder text for description field with multiple descriptions'):void 0,rows:4,value:o||""}),(0,y.jsx)(s.xu,{column:12,marginTop:1,minHeight:15,children:i&&(0,y.jsxs)(s.xu,{column:12,display:"flex",justifyContent:"between",children:[(0,y.jsx)(s.xu,{flex:"grow",children:(0,y.jsx)(s.xv,{size:"100",color:"subtle",children:this.props.i18n._('People will usually see the first 50 characters when they click on your Pin', 'pinbuilder.header.editModal.description.helper', 'Helper education text for description on Pin creation')})}),(0,y.jsx)(s.xu,{flex:"none",children:(0,y.jsx)(s.xv,{size:"100",color:"default",children:ee.JO-(o||"").length})})]})})]}),(0,y.jsxs)(s.xu,{children:[(0,y.jsx)(s.__,{htmlFor:"pin-builder-edit-modal-link",children:(0,y.jsxs)(s.xu,{display:"flex",alignItems:"center",marginBottom:1,children:[(0,y.jsx)(s.xv,{children:this.props.i18n._('Link', 'Label for bulk apply link text field', 'Label for bulk apply link text field')}),(a.has("link")||!!c)&&(0,y.jsx)(s.xu,{paddingX:1,children:(0,y.jsx)(s.JO,{icon:c?"alert":"check-circle",accessibilityLabel:p,color:c?"error":"success",size:12})})]})}),(0,y.jsx)(s.nv,{hasError:!!c,id:"pin-builder-edit-modal-link",onBlur:this.handleLinkBlur,onChange:this.handleLinkChange,onKeyDown:this.handleLinkChange,placeholder:void 0===l?this.props.i18n._('Multiple', 'Placeholder text for link field with multiple links', 'Placeholder text for link field with multiple links'):void 0,size:"lg",value:l||""}),(0,y.jsx)(s.xu,{column:12,marginTop:1,minHeight:15,children:!!c&&(0,y.jsx)(s.xu,{column:12,display:"flex",justifyContent:"between",children:(0,y.jsx)(s.xv,{size:"100",color:"error",children:c})})})]})]})})}}],el(i.prototype,r),n&&el(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function eh(e){var t=(0,$.v)().logContextEvent,r=(0,f.ZP)(),n=(0,c.Z)(),i=(0,o.useSelector)(en.p),a=(0,o.useSelector)(function(e){return(0,en.xA)(e).length}),l=(0,o.useDispatch)();return(0,y.jsx)(ep,ea(ea(ea({},e),{},{i18n:r,ideaPinRenamingEnabled:n,logContextEvent:t},i),{},{numPins:a,onSubmit:function(e){return l((0,er.setPinBuilderSharedData)(e))}}))}function ey(e){return(ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function em(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?em(Object(r),!0).forEach(function(t){eP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):em(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eO(n.key),n)}}function e_(e,t){return(e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ev(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ex(e){return(ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eP(e,t,r){return(t=eO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eO(e){var t=function(e,t){if("object"!==ey(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ey(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ey(t)?t:String(t)}var ej=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e_(e,t)}(a,e);var t,r,o,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=ex(a);if(t){var n=ex(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===ey(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ev(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eP(ev(e=i.call.apply(i,[this].concat(r))),"state",{showModal:!1}),eP(ev(e),"handleShowModal",function(){e.props.logContextEvent({event_type:101,component:13208,element:11325}),e.setState({showModal:!0})}),eP(ev(e),"handleHideModal",function(){e.setState({showModal:!1})}),e}return r=[{key:"render",value:function(){var e=this.state.showModal;return(0,y.jsxs)(n.Fragment,{children:[(0,y.jsx)(s.hU,{accessibilityLabel:this.props.i18n._('Edit', 'Button to bulk edit Pin images', 'Button to bulk edit Pin images'),icon:"edit",onClick:this.handleShowModal,iconColor:"gray",size:"md"}),e&&(0,y.jsx)(eh,{onDismiss:this.handleHideModal})]})}}],eb(a.prototype,r),o&&eb(a,o),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function eS(e){var t=(0,$.v)().logContextEvent,r=(0,f.ZP)();return(0,y.jsx)(ej,eg(eg({},e),{},{i18n:r,logContextEvent:t}))}var ew=r(19121),eE=r(717615),eA=r(231947),eI=r(957161);function eC(e){return(eC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(t){eM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ek(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eN(n.key),n)}}function eR(e,t){return(eR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ez(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eL(e){return(eL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eM(e,t,r){return(t=eN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eN(e){var t=function(e,t){if("object"!==eC(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eC(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eC(t)?t:String(t)}var eB=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eR(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eL(i);if(t){var n=eL(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eC(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ez(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eM(ez(e=o.call.apply(o,[this].concat(r))),"state",{checked:!1}),eM(ez(e),"handleChange",function(t){var r=t.checked;e.setState({checked:r})}),eM(ez(e),"handleButtonClick",function(t){var r=t.event;(0,e.props.onButtonClick)({event:r,checked:e.state.checked})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.alertText,r=e.buttonText,n=e.headingText,o=e.id,i=e.onDismiss,a=this.state.checked;return(0,y.jsx)(s.u_,{accessibilityModalLabel:this.props.i18n._('Alert modal', 'Alert modal to confirm action', 'Alert modal to confirm action'),heading:(0,y.jsx)(s.xu,{display:"flex",alignItems:"center",justifyContent:"center",marginTop:6,children:(0,y.jsx)(s.X6,{size:"500",children:n})}),onDismiss:i,footer:(0,y.jsxs)(s.xu,{display:"flex",marginStart:-1,marginEnd:-1,children:[(0,y.jsx)(s.xu,{flex:"grow",paddingX:1,children:(0,y.jsx)(s.zx,{fullWidth:!0,text:this.props.i18n._('Cancel', 'Button to close alert modal', 'Button to close alert modal'),onClick:i,size:"lg"})}),(0,y.jsx)(s.xu,{flex:"grow",paddingX:1,children:(0,y.jsx)(s.zx,{fullWidth:!0,text:r,onClick:this.handleButtonClick,color:"red",size:"lg"})})]}),size:"sm",role:"alertdialog",children:(0,y.jsxs)(s.xu,{children:[(0,y.jsx)(s.xv,{align:"center",children:t}),(0,y.jsxs)(s.xu,{alignItems:"center",justifyContent:"center",display:"flex",marginTop:4,children:[(0,y.jsx)(s.XZ,{checked:a,id:o,size:"sm",onChange:this.handleChange}),(0,y.jsx)(s.__,{htmlFor:o,children:(0,y.jsx)(s.xu,{paddingX:2,children:(0,y.jsx)(s.xv,{children:this.props.i18n._('Do not show this message again', 'Checkbox option to never show alert modal again', 'Checkbox option to never show alert modal again')})})})]})]})})}}],ek(i.prototype,r),n&&ek(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function eF(e){var t=(0,f.ZP)();return(0,y.jsx)(eB,eD(eD({},e),{},{i18n:t}))}var eZ=r(395024),eU=r(709113);function eH(e){return(eH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eV(Object(r),!0).forEach(function(t){eK(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eV(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e$(n.key),n)}}function eY(e,t){return(eY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eX(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eq(e){return(eq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eK(e,t,r){return(t=e$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e$(e){var t=function(e,t){if("object"!==eH(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==eH(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eH(t)?t:String(t)}var eJ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eY(e,t)}(a,e);var t,r,o,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eq(a);if(t){var n=eq(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eH(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eX(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return eK(eX(e=i.call.apply(i,[this].concat(r))),"state",{showModal:!1}),eK(eX(e),"handleShowModal",function(){e.setState({showModal:!0})}),eK(eX(e),"handleHideModal",function(){e.setState({showModal:!1})}),eK(eX(e),"handleButtonClick",function(){var t=e.props,r=t.onClickDelete,n=t.logContextEvent,o=eI.Z.getItem(eU.Lj);n({event_type:101,component:13208,element:11327}),o?r():e.handleShowModal()}),eK(eX(e),"handleAlertButtonClick",function(t){var r=t.checked,n=e.props.onClickDelete;r&&eI.Z.setItem(eU.Lj,!0),n()}),e}return r=[{key:"render",value:function(){var e=this.state.showModal;return(0,y.jsxs)(n.Fragment,{children:[(0,y.jsx)(s.hU,{accessibilityLabel:this.props.i18n._('Delete', 'Button to bulk delete selected Pin drafts', 'Button to bulk delete selected Pin drafts'),bgColor:"transparent",icon:"trash-can",onClick:this.handleButtonClick,iconColor:"gray",size:"md"}),e&&(0,y.jsx)(eF,{alertText:this.props.i18n._('This will delete your entire Pin canvas. This action cannot be undone', 'Warning message shown before Pin drafts are deleted', 'Warning message shown before Pin drafts are deleted'),buttonText:this.props.i18n._('Delete', 'Button to bulk delete selected Pin drafts', 'Button to bulk delete selected Pin drafts'),headingText:this.props.i18n._('Are you sure?', 'Alert modal to confirm action', 'Alert modal to confirm action'),id:"pin-builder-delete-menu-alert-modal",onButtonClick:this.handleAlertButtonClick,onDismiss:this.handleHideModal})]})}}],eW(a.prototype,r),o&&eW(a,o),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function eQ(e){var t=(0,$.v)().logContextEvent,r=(0,f.ZP)(),n=(0,o.useDispatch)(),i=(0,ew.Z)(),a=i.isAuth&&i.isEmployee;return(0,y.jsx)(eJ,eG(eG({},e),{},{onClickDelete:function(){return n((0,eZ.Z)({i18n:r,isEmployee:a}))},i18n:r,logContextEvent:t}))}var e0=r(264938);function e1(e){return(e1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e8(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(t){e9(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e7(n.key),n)}}function e5(e,t){return(e5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e6(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e4(e){return(e4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e9(e,t,r){return(t=e7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e7(e){var t=function(e,t){if("object"!==e1(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==e1(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e1(t)?t:String(t)}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e5(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=e4(i);if(t){var n=e4(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===e1(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return e6(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e9(e6(e=o.call.apply(o,[this].concat(r))),"handleSelectAllClick",function(){var t=e.props,r=t.onSelectAll;(0,t.logContextEvent)({event_type:101,component:13208,element:11323}),r()}),e9(e6(e),"handleClearAllClick",function(){var t=e.props,r=t.onClickClear;(0,t.logContextEvent)({event_type:101,component:13208,element:11324}),r()}),e9(e6(e),"handlePublishClick",function(){var t=e.props,r=t.numSelected,n=t.onClickPublish;(0,t.logContextEvent)({event_type:101,component:13208,element:11328,aux_data:{pin_builder_data:JSON.stringify({publish_count:r})}}),n()}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.allSelected,r=e.numSelected;return(0,y.jsxs)(s.xu,{display:"flex",color:"default",justifyContent:"between",alignItems:"center",height:"100%",children:[(0,y.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,y.jsx)(s.xu,{paddingX:6,children:(0,y.jsx)(s.xv,{color:"default",children:(0,Q.nk)(this.props.i18n.ngettext('{{ numSelected }} Pin selected', '{{ numSelected }} Pins selected', r, 'Number of Pins selected for bulk edit or save', 'Number of Pins selected for bulk edit or save'),{numSelected:r})})}),(0,y.jsx)(s.xu,{width:1,height:32,color:"secondary"}),(0,y.jsx)(s.xu,{paddingX:4,"data-test-id":"pin-builder-select-all",children:(0,y.jsx)(s.zx,{text:t?this.props.i18n._('Deselect all', 'Button to deselect all Pin drafts for bulk actions', 'Button to deselect all Pin drafts for bulk actions'):this.props.i18n._('Select all', 'Button to select all Pin drafts for bulk actions', 'Button to select all Pin drafts for bulk actions'),color:"white",onClick:t?this.handleClearAllClick:this.handleSelectAllClick})})]}),(0,y.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,y.jsxs)(s.xu,{display:"flex",alignItems:"center",paddingX:5,children:[(0,y.jsx)(s.xu,{paddingX:1,"data-test-id":"pin-builder-edit-selected",children:(0,y.jsx)(eS,{})}),(0,y.jsx)(s.xu,{paddingX:1,"data-test-id":"pin-builder-delete-selected",children:(0,y.jsx)(eQ,{})}),(0,y.jsx)(s.xu,{paddingX:1,"data-test-id":"pin-builder-publish-all",children:(0,y.jsx)(s.zx,{color:"red",name:"publish",onClick:this.handlePublishClick,text:this.props.i18n._('Publish', 'Button to publish all selected Pins', 'Button to publish all selected Pins')})})]}),(0,y.jsx)(s.xu,{width:1,height:32,color:"secondary"}),(0,y.jsx)(s.xu,{paddingX:6,children:(0,y.jsx)(s.hU,{accessibilityLabel:this.props.i18n._('Cancel changes', 'Button to deselect all Pins', 'Button to deselect all Pins'),bgColor:"transparent",icon:"cancel",onClick:this.handleClearAllClick,iconColor:"gray",size:"md"})})]})]})}}],e3(i.prototype,r),n&&e3(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function tt(e){var t=(0,$.v)().logContextEvent,r=(0,f.ZP)(),n=(0,o.useDispatch)(),i=(0,ew.Z)(),a=(0,eE.Z)(),l=(0,eA.lJ)(i,a),s=i.isAuth?i.id:"",c=i.isAuth?i.country:"",u=i.isAuth&&i.isPartner,d=(0,o.useSelector)(function(e){return e.pinbuilder.selectedPinDraftIds.length}),p=(0,o.useSelector)(function(e){var t=e.pinbuilder,r=t.pinDrafts,n=t.pinDraftIds,o=t.selectedPinDraftIds;return n.filter(function(e){return!ee.x1.includes(r[e].status)}).length===o.length});return(0,y.jsx)(te,e8(e8({},e),{},{allSelected:p,i18n:r,logContextEvent:t,numSelected:d,onClickClear:function(){return n((0,er.clearSelectedPinBuilderPinDrafts)())},onClickPublish:function(){return n((0,e0.Z)({country:c,i18n:r,isPartner:u,logContextEvent:t,orbacSubjectId:l,userId:s}))},onSelectAll:function(){return n((0,er.selectAllPinBuilderPinDrafts)())}}))}var tr=r(347700),tn=r(665866),to=r(780280),ti=r(938999);function ta(e){return(ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tl(Object(r),!0).forEach(function(t){tp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,th(n.key),n)}}function tu(e,t){return(tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function td(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tf(e){return(tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tp(e,t,r){return(t=th(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function th(e){var t=function(e,t){if("object"!==ta(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ta(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ta(t)?t:String(t)}var ty={checked:{__style:{border:"solid 2px #e60023"}},unchecked:{__style:{border:"dashed 2px #767676"}}},tm=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tu(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tf(i);if(t){var n=tf(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===ta(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return td(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return tp(td(e=o.call.apply(o,[this].concat(r))),"state",{isHovering:!1}),tp(td(e),"handleMouseEnter",function(){e.setState({isHovering:!0})}),tp(td(e),"handleMouseLeave",function(){e.setState({isHovering:!1})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.checked,r=e.onClick,n=this.state.isHovering;return(0,y.jsx)(s.xu,{rounding:"circle",color:t?"primary":"transparent",dangerouslySetInlineStyle:t?ty.checked:ty.unchecked,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:(0,y.jsx)(s.hU,{accessibilityLabel:t?this.props.i18n._('Deselect Pin', 'Button to deselect Pin from bulk editing', 'Button to deselect Pin from bulk editing'):this.props.i18n._('Select Pin', 'Button to select Pin from bulk editing', 'Button to select Pin from bulk editing'),bgColor:"transparent",icon:t||n?"check":void 0,iconColor:t?"white":"gray",onClick:r,size:"md"})})}}],tc(i.prototype,r),n&&tc(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function tg(e){var t=(0,f.ZP)();return(0,y.jsx)(tm,ts(ts({},e),{},{i18n:t}))}var tb=r(327096);function t_(e){return(t_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tv(Object(r),!0).forEach(function(t){tw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tE(n.key),n)}}function tO(e,t){return(tO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tj(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tS(e){return(tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tw(e,t,r){return(t=tE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tE(e){var t=function(e,t){if("object"!==t_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==t_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===t_(t)?t:String(t)}var tA=new s.H3([new s.Ry(ee.v9)]),tI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tO(e,t)}(a,e);var t,r,o,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tS(a);if(t){var n=tS(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===t_(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tj(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return tw(tj(e=i.call.apply(i,[this].concat(r))),"pinDraftRef",(0,n.createRef)()),tw(tj(e),"handleSelectPinDraft",function(){var t=e.props,r=t.selectPinDraft;(0,t.logContextEvent)({event_type:101,component:13308,element:11332}),r()}),tw(tj(e),"getCallout",function(){return{error:{title:e.props.i18n._('Product tagging limit reached', 'pinbuilder.productTagging.error', 'Error when user tries to tag more than 8 products'),message:e.props.i18n._('To add another item, remove one or more tagged products', 'pinbuilder.productTagging.error.instructions', 'Instructions on how to add another product')},warning:{title:e.props.i18n._('Products will be deleted', 'pinbuilder.carousel.warningHeader', 'Warning header when adding a carousel after tagging products'),message:e.props.i18n._('Your tagged products will be deleted if you add a carousel image', 'pinbuilder.carousel.warning', 'Warning when user tries to add a carousel after tagging products')}}}),tw(tj(e),"handleClick",function(){var t=e.props,r=t.deselectPinDraft,n=t.pinDraftId,o=t.selectedPinDraftIds,i=t.status,a=!ee.x1.includes(i);o.includes(n)?r():a&&e.handleSelectPinDraft()}),e}return r=[{key:"componentDidMount",value:function(){this.pinDraftRef.current&&!this.props.skipScrolling&&this.pinDraftRef.current.scrollIntoView({behavior:"smooth",block:"start"})}},{key:"render",value:function(){var e=this.props,t=e.numPinDrafts,r=e.pinDraftId,n=e.selectedPinDraftIds,o=e.status,i=e.setStlCallout,a=e.stlCallout,l=e.requestContext.isRTL,c=a||{},u=c.showCallout,d=c.type,f=n.includes(r),p=n.length,h={__style:tx({top:"20px",opacity:f?void 0:.6,transition:"transform 250ms ".concat(ee.rc),transform:p>0?"scale(2)":void 0},l?{left:"-60px",transformOrigin:"right center"}:{right:"-60px",transformOrigin:"left center"})},m={backgroundColor:"rgba(255,255,255,0.7)",borderRadius:16,height:"100%",width:"100%",zIndex:"publishing"===o?ee.v9:void 0},g="publishing"===o||"uploading"===o&&1===t,b=!ee.x1.includes(o),_=this.getCallout();return(0,y.jsxs)(s.xu,{paddingY:3,ref:this.pinDraftRef,"data-group-id":"pin-builder-pin-draft","data-test-id":"pin-builder-pin-draft-".concat(r),children:[(0,y.jsxs)(s.xu,{position:"relative",children:[(0,y.jsx)(tr.ZP,{pinDraftId:r}),t>1&&b&&(tn.Z.enabled("multi_pin")||tn.Z.enabled("multi_pin_pinner"))&&(0,y.jsx)(s.xu,{position:"absolute",dangerouslySetInlineStyle:h,"data-test-id":"pin-draft-select",children:(0,y.jsx)(tg,{checked:f,onClick:this.handleClick})}),(p>0||g)&&(0,y.jsx)(s.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:tA,children:(0,y.jsx)(ti.Z,{selected:f,onClick:this.handleClick,style:m,children:g&&(0,y.jsx)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:(0,y.jsx)(s.$j,{show:!0,accessibilityLabel:this.props.i18n._('Saving Pin...', 'Spinner accessibility label when saving the pin', 'Spinner accessibility label when saving the pin')})})})})]}),u&&d&&(0,y.jsx)(s.xu,{position:"absolute",bottom:!0,width:ee.of,dangerouslySetInlineStyle:{__style:{marginBottom:"30px"}},children:(0,y.jsx)(s.ci,{dismissButton:{accessibilityLabel:this.props.i18n._('Dismiss banner', 'pinbuilder.error.dismissButton', 'Button to dismiss the banner'),onDismiss:i},iconAccessibilityLabel:this.props.i18n._('Error icon', 'pinBuilder.taggedObjects.error', 'Error icon'),type:d,title:_[d].title,message:_[d].message})})]})}}],tP(a.prototype,r),o&&tP(a,o),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function tC(e){var t=(0,$.v)().logContextEvent,r=(0,f.ZP)(),n=(0,tb.f)(),i=n.shopTheLook,a=n.setStlCallout,l=e.pinDraftId,s=e.skipScrolling,c=(0,o.useDispatch)(),u=(0,o.useSelector)(function(e){return e.pinbuilder}),d=u.pinDraftIds,p=u.pinDrafts,h=u.selectedPinDraftIds,m=i.stlCallout;return(0,y.jsx)(tI,tx(tx({},e),{},{deselectPinDraft:function(){return c((0,er.deselectPinBuilderPinDraft)(l))},numPinDrafts:d.length,selectedPinDraftIds:h,status:p[l].status,stlCallout:m,requestContext:(0,to.B)(),selectPinDraft:function(){return c((0,er.selectPinBuilderPinDraft)(l))},setStlCallout:function(){return a({showCallout:!1})},skipScrolling:s,i18n:r,logContextEvent:t}))}var tT=r(869636);function tD(e){var t=e.setPinDraftRef;(0,tT.Z)(1000287),(0,tT.Z)(1000288);var r=(0,o.useSelector)(en.VK),n=(0,o.useSelector)(function(e){return e.pinbuilder.selectedPinDraftIds.length>0}),i={__style:{transformOrigin:"top center",transition:"transform 250ms ".concat(ee.rc,", height 250ms ").concat(ee.rc),transform:n?"scale(0.5)":void 0,height:n?"50%":"100%"}};return(0,y.jsx)(s.xu,{dangerouslySetInlineStyle:i,children:(0,y.jsx)(s.xu,{display:"flex",direction:"column",alignItems:"center",paddingY:7,children:(0,y.jsx)(s.xu,{children:(0,y.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:(0,y.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:r.map(function(e){return(0,y.jsx)(s.xu,{ref:function(r){return t(e,r)},children:(0,y.jsx)(tC,{pinDraftId:e,skipScrolling:1===r.length})},e)})})})})})})}var tk=r(430957),tR=r(448994);function tz(e){return(tz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tL(Object(r),!0).forEach(function(t){tU(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tH(n.key),n)}}function tB(e,t){return(tB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tF(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tZ(e){return(tZ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tU(e,t,r){return(t=tH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tH(e){var t=function(e,t){if("object"!==tz(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==tz(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tz(t)?t:String(t)}var tV={__style:{borderRadius:2}},tG=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tB(e,t)}(i,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tZ(i);if(t){var n=tZ(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===tz(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tF(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return tU(tF(e=o.call.apply(o,[this].concat(r))),"handleAddDraftClick",function(){var t=e.props,r=t.addPinDraft,n=t.location;(0,t.logContextEvent)({event_type:101,component:13395,element:11329});var o=n.state||{},i=o.board,a=o.boardSection;r(i?{selectedItem:tM({boardId:i.id,title:a?a.title:i.name},a?{sectionId:a.id}:{})}:{})}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.disabled,r=e.isAddPinDraftRemoved,n=e.pinDraftIds,o=e.pinDraftRefs,i=e.scrollPosition,a=e.requestContext.isRTL,l=n.length;return(0,y.jsxs)(s.xu,{height:"100%",display:"flex",direction:"column","data-test-id":"pin-builder-controls",children:[!r&&(0,y.jsx)(s.xu,{"data-tutorial-id":"pin-builder-batch-create",flex:"none",padding:4,children:(0,y.jsx)("button",{onClick:this.handleAddDraftClick,disabled:t,style:{backgroundColor:"#fff",border:0,borderRadius:8,boxSizing:"border-box",cursor:t?"default":"pointer",height:60,outline:"none",opacity:t?.5:void 0,padding:0,width:40},children:(0,y.jsx)(s.xu,{rounding:2,display:"flex",justifyContent:"center",alignItems:"center","data-test-id":"pin-builder-add-draft",children:(0,y.jsx)(s.JO,{accessibilityLabel:this.props.i18n._('Create new Pin', 'Button to add another Pin draft', 'Button to add another Pin draft'),icon:"add",color:t?"subtle":"default"})})})}),(0,y.jsx)(s.xu,{height:1,color:"lightWash",marginStart:2,marginEnd:2}),(0,y.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",flex:"grow",overflow:"auto",children:(0,y.jsx)(s.xu,{marginTop:3,children:n.map(function(e,t){return(0,y.jsxs)(s.xu,{paddingX:4,paddingY:1,position:"relative",children:[(0,y.jsx)(tk.Z,{pinDraftId:e,pinDraftRefs:o}),Math.min(Math.floor(i*l),l-1)===t&&(0,y.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!a,right:a,marginTop:1,marginBottom:1,color:"dark",width:4,dangerouslySetInlineStyle:tV})]},e)})})})]})}}],tN(i.prototype,r),n&&tN(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function tW(e){var t=e.isAddPinDraftRemoved,r=(0,$.v)().logContextEvent,a=(0,f.ZP)(),s=(0,ew.Z)(),c=s.isAuth&&s.isEmployee,u=(0,o.useDispatch)(),d=(0,o.useSelector)(function(e){return e.pinbuilder}),p=d.pinDrafts,h=d.pinDraftIds,m=d.selectedPinDraftIds;return(0,y.jsx)(tG,tM(tM({},e),{},{addPinDraft:(0,n.useCallback)(function(e){return u((0,tR.Z)({i18n:a,isEmployee:c,pinDraft:e,pinDraftId:(0,l.Z)(),storyPinPublishStopwatch:void 0}))},[]),disabled:m.length>0||h.filter(function(e){return"succeeded"!==p[e].status}).length>=ee.TK,isAddPinDraftRemoved:t,location:(0,i.useLocation)(),pinDraftIds:h,requestContext:(0,to.B)(),i18n:a,logContextEvent:r}))}var tY=r(377184),tX=r(918301),tq=r(332611),tK=r(70943),t$=r(558068),tJ=r(454074),tQ=r(584595),t0=r(773285),t1=r(784590),t2=(r(6663),r(826067)),t8=r(323716),t3=r(388619),t5=r(954931),t6=r(508847),t4=r(566101),t9=r(829407),t7=r(77891),re=r(939853),rt=r(676553),rr=r(495794),rn=r(537339),ro=r(833991),ri=r(977558),ra=r(725108),rl=r(562559),rs=r(965900),rc=r(944546);function ru(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rd(e){var t,r=e.onStart,o=(0,f.ZP)(),i=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ru(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ru(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],l=i[1],c=(0,rs.I)().appUI.appInFocus;(0,n.useEffect)(function(){a&&r&&r()},[a,r]);var u=[o._('Combine up to 5 images', 'Text describing maximum images can be combined', 'Text describing maximum images can be combined'),o._('Reorder images to make it yours', 'Text describing reordering images', 'Text describing reordering images'),o._('Pick the best Pin size for your content', 'Text describing changing Pin size', 'Text describing changing Pin size')];return(0,y.jsxs)(s.xu,{bottom:!0,"data-test-id":"pinbuilder-education-layouts-screen",display:"flex",height:"100%",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,width:"100%",children:[(0,y.jsx)(s.xu,{color:"secondary",position:"relative",width:342,children:(0,y.jsx)(rl.Z,{aspectRatio:a?342/474:0,appInFocus:c,captions:"",hlsConfig:{startLevel:rc.V},isAutoPlay:!0,loop:!0,onReady:function(){return l(!0)},playing:!0,onPlay:function(){},onPlayError:function(){},src:"https://v1.pinimg.com/videos/mc/hls/7f/20/86/7f20869b2522dca00ebf1f745313b90b.m3u8",volume:0})}),(0,y.jsx)(s.xu,{flex:"grow",display:"flex",alignItems:"center",paddingX:10,children:(0,y.jsxs)(s.xu,{children:[(0,y.jsx)(s.X6,{children:o._('Create a collage', 'A heading text for creating a collage Pin', 'A heading text for creating a collage Pin')}),(0,y.jsx)(s.xu,{paddingY:4,children:u.map(function(e,t){return(0,y.jsxs)(s.xu,{alignItems:"center",display:"flex",paddingY:1,children:[(0,y.jsx)(s.xu,{color:"selected",display:"flex",flex:"none",rounding:"circle",width:8,height:8}),(0,y.jsx)(s.xu,{paddingX:2,children:(0,y.jsx)(s.xv,{children:(0,y.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]},"layouts-screen-point-".concat(t))})})]})})]})}var rf=r(456463),rp=r(537929),rh=r(305782),ry=r(490072),rm=r(919974);function rg(e){return(rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rb(e){return function(e){if(Array.isArray(e))return rO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rP(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(t){rA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||rP(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rP(e,t){if(e){if("string"==typeof e)return rO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rO(e,t)}}function rO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rI(n.key),n)}}function rS(e,t){return(rS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rw(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rE(e){return(rE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rA(e,t,r){return(t=rI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rI(e){var t=function(e,t){if("object"!==rg(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rg(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rg(t)?t:String(t)}var rC=new s.H3([new s.Ry(ri.fe)]),rT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rS(e,t)}(o,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=rE(o);if(t){var n=rE(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===rg(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return rw(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return rA(rw(e=n.call.apply(n,[this].concat(r))),"pinDraftRefs",new Map),rA(rw(e),"setPinDraftRef",function(t,r){e.pinDraftRefs.set(t,r)}),e}return rj(o.prototype,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.footerContext,r=t.zIndex,n=t.setZIndex,o=e.showInProductEducationExperience,i=e.viewEducation,a=rx(this.context,2),l=a[0],s=a[1];"number"==typeof r&&l&&l!==re.I&&n(null),o&&!l&&(s(ee.Lc),i())}},{key:"render",value:function(){var e=this.props.children,t=rx(this.context,2);return e({educationId:{value:t[0],set:t[1]},pinDraftRefs:{set:this.setPinDraftRef,value:this.pinDraftRefs}})}}]),r&&rj(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.Component);function rD(e){var t=e.advertiser,r=e.externalButtonQuery,a=e.headerHeight,u=e.inStlToolingExp,d=e.pinDraftType,p=e.requestContext,h=e.providerClassChildrenContext,m=h.educationId,g=m.value,b=m.set,_=h.pinDraftRefs,v=_.value,x=_.set,P=(0,n.useRef)(null),O=(0,t$.Hv)().previous,j=rx((0,n.useState)(!1),2),S=j[0],w=j[1],E=rx((0,n.useState)(0),2),A=E[0],C=E[1],T=(0,ro.YW)(),D=(0,f.ZP)(),k=(0,c.Z)(),R=(0,$.v)().logContextEvent,z=(0,tq.be)(),L=(0,tq.Am)(),N=(0,ew.Z)(),B=(0,o.useDispatch)(),F=(0,i.useHistory)(),Z=(0,i.useLocation)(),U=(0,t1.Z)({name:"UserResource",options:{username:N.isAuth&&N.username,field_set_key:"profile"}}),H=(0,tX.y9)().showEmailVerificationReminderModal,V=(0,t0.F)().checkExperiment,G=(0,o.useSelector)(function(e){return e.pinbuilder}),W=G.closeupImageSignature,Y=G.entryPoint,X=G.showDisabledPinCreationBanner,K=(0,o.useSelector)(ry.NW),J=(0,o.useSelector)(en.VK),Q=J[0],et=Q?K[Q]:null,eo=null==et?void 0:et.type,ei=N.isAuth&&N.isEmployee,ea=p.isRTL;(0,n.useEffect)(function(){J.some(function(e){return K[e].apiErrorCode===tQ.H9})&&V("require_email_verification_pin_create").anyEnabled&&(H(),J.forEach(function(e){return B((0,rh.lT)(e,null))}))}),(0,tT.Z)(1000161);var el=(0,o.useSelector)(function(e){var t,r=Q?(0,ry.nL)()(e,{pinDraftId:Q}):null;if(null===r)return null;var n=("story"===eo?e.pinbuilder.storyPinItems:e.pinbuilder.pinItems)[r];return n&&(null===(t=n.media)||void 0===t?void 0:t.type)}),es=(0,tT.Z)(1000135,{format_type:eo,media_type:el}).setExtraContext,ec=(0,n.useRef)(el);(0,n.useEffect)(function(){ec.current!==el&&(ec.current=el,es({firstPinDraftMediaType:el}))});var eu=(0,eE.Z)(),ed=eu&&eu.id,ef=(0,n.useRef)("not_set");(0,n.useEffect)(function(){var e;"story"===d?e="story_pin":r&&(e="offsite_pin_creation"),tn.Z.initialize({user:U.isLoaded?U.data:null,requestContext:p,viewer:N,location:Z,advertiser:t,scenario:e,orbacActingAs:eu})},[U.isLoaded]),(0,n.useEffect)(function(){if(ef.current!==ed||!K){ef.current=ed;var e,t,n,o,i=null===(e=Z.state)||void 0===e?void 0:e.disableAddPinDraft;if(!(J.length>0)&&!i){var a=null===(t=Z.state)||void 0===t?void 0:t.board,s=null===(n=Z.state)||void 0===n?void 0:n.boardSection,c=a||d?rv({selectedItem:a?rv(rv({boardId:a.id,title:s?s.title:a.name},s?{sectionId:s.id}:Object.freeze({})),{},{ownerUsername:null==a?void 0:null===(o=a.owner)||void 0===o?void 0:o.username}):void 0},d?{type:d}:{}):void 0,u=(0,l.Z)();B((0,tR.Z)({i18n:D,isEmployee:ei,pinDraft:c,pinDraftId:u,storyPinPublishStopwatch:void 0}));var f=(0,t3.Z)({url:(0,t8.Z)()}),p=f.tab,h=f.url;if(V("web_bizhub_create_pin_from_website").anyEnabled&&h&&(B((0,rh.c8)(u,"scrape")),B((0,rh.f9)(u,h,null,""))),r){B((0,rh.c8)(u,"external")),B((0,rh.e5)(u,r.method));var y={height:1,width:1,id:(0,l.Z)(),sourceURL:r.url,src:r.media,type:"webImage"};B((0,rh.dj)(u,y)),tn.Z.enabled("offsite_pin_creation_multi_select")?B((0,rh.f9)(u,r.url,null,r.media)):B((0,rh.q0)(u,"external",p===ee.ro?"IDEA_PIN":"PIN"))}}}}),(0,t9.Z)(function(){return u&&R({event_type:13,component:13308,view_type:212,aux_data:rv(rv({},W?{image_signature:W}:{}),{},{entry_point_source:Y})}),"story"===d&&R({event_type:13,view_type:226,view_parameter:3228}),r&&(window.opener||"bookmarklet"===r.method)&&(window.innerHeight<tY.CX||window.innerWidth<tY.N$)&&window.resizeTo(tY.N$,tY.CX),function(){B((0,er.clearPinBuilderPinDrafts)())}}),(0,t9.Z)(function(){if((0,t3.Z)({url:(0,t8.Z)()}).tab===ee.ro){var e=(0,l.Z)();B((0,er.clearPinBuilderPinDrafts)()),B((0,tR.Z)({i18n:D,isEmployee:ei,pinDraft:void 0,pinDraftId:e,storyPinPublishStopwatch:void 0})),B((0,rh.c8)(e,"scrape"))}});var ep=0===O.length,eh=J.length>0,ey=(0,n.useRef)(eh);(0,n.useEffect)(function(){if(ey.current!==eh&&(ey.current=eh,!eh)){var e=(0,t2.mB)(Z.search),t=e.crossSite,r=e.redirUrl;t?window.history.back():r&&(0,t4.Z)({url:r})&&(0,t5.Z)(r)?F.push((0,t6.Z)({url:r})):ep?F.push("/"):F.goBack()}});var em=(0,o.useSelector)(function(e){return e.pinbuilder.selectedPinDraftIds.length>0}),eg=tn.Z.enabled("multi_pin")||tn.Z.enabled("multi_pin_pinner"),eb=J.reduce(function(e,t){return null!=e?e:K[t].apiError},null),e_=("undefined"!=typeof window&&(0,t3.Z)({url:(0,t8.Z)()})||{}).tab;return(0,y.jsxs)(n.Fragment,{children:[em&&(0,y.jsx)(s.xu,{height:a,top:!0,left:!0,right:!0,position:"fixed",zIndex:rC,children:(0,y.jsx)(tt,{})}),(0,y.jsxs)(s.xu,{position:"fixed",left:!0,right:!0,bottom:!0,display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{top:a}},children:[null,(0,y.jsx)(s.xu,{flex:"none",children:eb?(0,y.jsx)(ra.Z,{errorMessage:eb,primaryAction:(0,y.jsx)(s.hU,{accessibilityLabel:D._('Close Error Banner', 'Accessibility label to close the error banner', 'Accessibility label to close the error banner'),icon:"cancel",iconColor:"white",onClick:function(){J.forEach(function(e){return B((0,rh.lT)(e,null))})},size:"sm"})}):(0,y.jsx)(tK.default,{placementId:1000161})}),(0,y.jsxs)(s.xu,{color:"secondary","data-test-id":"pin-builder",flex:"grow",height:"100%",onDragEnter:function(){(tn.Z.enabled("multi_pin")||tn.Z.enabled("multi_pin_pinner"))&&w(!0)},onDragLeave:function(){return w(!1)},onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDrop:function(e){if(e.preventDefault(),e.stopPropagation(),w(!1),tn.Z.enabled("multi_pin")||tn.Z.enabled("multi_pin_pinner")){var t=(0,tJ.Z)(e.dataTransfer);(0,t7.Z)({i18n:D,ideaPinRenamingEnabled:k,files:t,options:{allowVideo:tn.Z.enabled("video")}}).then(function(e){var t=e.reduce(function(e,t){return"error"!==t.type?[].concat(rb(e),[t]):e},[]);if(t.length>0){var r=N.isAuth?N.id:"",n=N.isAuth?N.country:"";B((0,rp.Z)({assets:t,checkExperiment:V,country:n,i18n:D,ideaPinRenamingEnabled:k,inCoverImageQualityExp:!1,isEmployee:ei,logContextEvent:R,userId:r}))}})}},position:"relative",children:[(0,y.jsx)(s.xu,{display:"visuallyHidden",children:(0,y.jsx)(s.X6,{accessibilityLevel:1,children:D._('Pin Builder', 'pinBuilder.heading', 'The page heading for Pin Builder')})}),X&&(0,y.jsx)(s.xu,{"data-test-id":"disable-banner",marginStart:7,marginTop:5,paddingX:3,children:(0,y.jsx)(rm.Z,{})}),(0,y.jsx)(s.xu,{height:"100%",overflow:"auto",ref:P,dangerouslySetInlineStyle:{__style:{border:"4px solid ".concat(S?"#0074e8":"transparent")}},onScroll:function(e){var t=e.currentTarget,r=t.clientHeight,n=t.scrollHeight;C(t.scrollTop/(n-r))},children:(0,y.jsx)(tD,{setPinDraftRef:x})}),eg&&(0,y.jsx)(s.xu,{position:"absolute",top:!0,left:!ea,right:ea,bottom:!0,children:(0,y.jsx)(tW,{isAddPinDraftRemoved:e_===ee.ro,pinDraftRefs:v,scrollPosition:A})})]})]}),g===ee.Lc&&(0,y.jsx)(rr.Z,{containsHlsVideoComponent:!!tn.Z.enabled("layouts"),onComplete:function(){var e;null===(e=P.current)||void 0===e||e.scroll(0,0),b(ee.aD)},onDismiss:function(){b(re.I),T.setZIndex(ro.HW),B(L(1000135,501657))},steps:[{id:"pinbuilder-welcome",element:(0,y.jsx)(q,{})},{id:"pinbuilder-editing",element:(0,y.jsx)(I,{})}].concat(rb(tn.Z.enabled("layouts")?[{id:"pinbuilder-layout",element:(0,y.jsx)(rd,{})}]:[]),[{id:"pinbuilder-publish",element:(0,y.jsx)(M,{})}])}),g===ee.aD&&(0,y.jsx)(rn.Z,{steps:(0,rf.Z)([{selector:'[data-test-id="pin-builder-draft"]:first-of-type [data-tutorial-id="pin-builder-title-and-description"]',id:"guide-pin-builder-title",heading:D._('Title & description', 'Heading text describing the title and description step when creating Pins', 'Heading text describing the title and description step when creating Pins'),description:D._('Add a title and description to help tell your story. People see this in their home feed, on search and when they tap on your Pin.', 'Text describing the reason to add title and description to Pins when creating them', 'Text describing the reason to add title and description to Pins when creating them'),padding:0},{selector:'[data-test-id="pin-builder-draft"]:first-of-type [data-tutorial-id="pin-builder-destination-link"]',id:"guide-pin-builder-link",heading:D._('Destination link', 'Heading text describing the destination link step when creating Pins', 'Heading text describing the destination link step when creating Pins'),description:D._('Pick where people land when they tap on your Pin. Make sure it\u2019s relevant!', 'Text describing the reason to add a destination link to Pins when creating them', 'Text describing the reason to add a destination link to Pins when creating them'),padding:0},{selector:'[data-test-id="pin-builder-draft"]:first-of-type [data-tutorial-id="pin-builder-media-draft-view"]',id:"guide-pin-builder-media-draft-view",heading:D._('Edits', 'Heading text describing the ability to edit Pins while creating them', 'Heading text describing the ability to edit Pins while creating them'),description:D._('Upload an image or video, then personalize it by cropping, trimming or adding logos and text', 'Text describing the ability to edit images and videos when creating Pins', 'Text describing the ability to edit images and videos when creating Pins'),padding:0},{selector:'[data-test-id="pin-builder-draft"]:first-of-type [data-tutorial-id="pin-builder-batch-create"]',id:"guide-pin-builder-batch-create",heading:D._('Batch create', 'Heading text describing the ability to create multipe Pins at once', 'Heading text describing the ability to create multipe Pins at once'),description:D._('Lots to say? Add more images and videos to create multiple Pins at once.', 'Text describing the ability to create multiple Pins at once', 'Text describing the ability to create multiple Pins at once'),padding:0}]),onComplete:function(){b(re.I),T.setZIndex(ro.HW),B(z(1000135,501657))},onDismiss:function(){b(re.I),T.setZIndex(ro.HW),B(L(1000135,501657))}})]})}function rk(e){var t=(0,o.useDispatch)(),r=(0,ro.YW)(),n=(0,i.useLocation)().search,a=(0,t2.mB)(n).tab,l=(0,tq.Ig)(),s=(0,o.useSelector)(function(e){var t=e.experiences,r=e.pinbuilder,n=r.pinDraftIds,o=r.pinDrafts,i=n[0],l=i?o[i]:null,s=t&&t[1000135];return(null==l?void 0:l.type)!=="story"&&a!==ee.ro&&(null==s?void 0:s.experience_id)===501657});return(0,y.jsx)(rT,{showInProductEducationExperience:s,footerContext:r,viewEducation:function(){return t(l(1000135,501657))},children:function(t){return(0,y.jsx)(rD,rv(rv({},e),{},{providerClassChildrenContext:t}))}})}rA(rT,"contextType",rt.Z);var rR=r(293759),rz=r(699222),rL=r(773515),rM=r(81636),rN=r(319915),rB=r(53987),rF=r(248327),rZ=r(418614),rU=r(947599),rH=r(858416),rV=r(697335),rG=r(798477);function rW(e){return(rW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rX(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rY(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==rW(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==rW(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rW(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rY(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var rq=(0,n.lazy)(function(){return Promise.all([r.e(85034),r.e(48937),r.e(84992),r.e(56831),r.e(98184)]).then(r.bind(r,616641))});function rK(){var e=(0,i.useHistory)(),t=(0,i.useLocation)(),r=(0,ew.Z)(),n=(0,o.useSelector)(en.vd),l=(0,o.useDispatch)(),s=(0,t0.F)().checkExperiment,c=(0,rz.Z)(),u=(0,rV.t)(),d=(0,to.B)(),f=(0,rB.mY)(t)?"story":null;(0,rM.Q)({view_type:212}),(0,rZ.Z)({name:"UserResource",getOptions:function(e){var t=e.advertiser,r=e.user;return{field_set_key:"grid_item",user_id:(null==t?void 0:t.owner_user_id)||r.id||""}}}),(0,rZ.Z)({name:"UserResource",getOptions:function(e){return{field_set_key:"profile",username:e.user.username||""}}}),(0,rZ.Z)({name:"PinResource",getOptions:function(e){return{field_set_key:"detailed",id:e.routeData.params.pin_id}},disableFetch:function(e){return!e.routeData.params.pin_id}});var p=(0,eE.Z)(),h=s("web_m10n_business_access_orbac_www").anyEnabled,m=(0,rR.Z)({isAdsManager:!1}),g=(0,a.Z)({bypass:m,skipActivation:!1}),b=(0,o.useSelector)(function(e){return e.feeds}),_=(0,eA.nl)(r,p)&&"ad_creation"!==tn.Z.scenario()&&s("web_stl_tooling").anyEnabled,v=(0,t2.mB)(t.search),x=null;try{x=(0,rL.Z)(v)?rX(rX({},v),{},{media:decodeURIComponent(v.media),url:decodeURIComponent(v.url)}):null}catch(e){}var P=r.isAuth?r.id:null,O=h?(0,eA.lJ)(r,p):"",j=O||P,S=function(){var e=j?b["storyPinData:".concat(j)]:[];return(null!=e?e:[]).map(function(e){return e.id})};return"story"===f?(0,y.jsx)(rN.Z,{name:"SafeSuspense_PinBuilderPage_StoryboardComponent",children:(0,y.jsx)(rU.Z,{children:(0,y.jsx)(rq,{advertiser:d.advertiser,onLegacyLayoutDismiss:function(e){var t=e.draftStage,r=e.pinDraftId,n=S();"upload"===t&&n.length>1||0===n.length?l((0,rG.Z)(r)):setTimeout(function(){l((0,rF.U)("StoryPinDraftsResource",{options:{redux_normalize_feed:!0,userId:j,orbacSubjectId:O}})),window.location.reload()},2e3)},onSuccess:function(t){var o=t.pinId,i=t.scheduledDate,a=t.scheduledTime;if(n.length>0&&l({type:"PIN_BUILDER_DELETE_PIN_DRAFT",payload:{pinDraftId:n[0]}}),i&&a)c({pinId:o,showActionForScheduledPin:!m}),m&&e.push(r.isAuth?"/".concat(r.username,"/scheduled-pins/"):"/");else{if(g&&m){c({pinId:o});return}e.push("/pin/".concat(o))}},orbacSubjectId:O,requestContext:d,userId:j})})}):(0,y.jsx)(rH.Wr,{children:(0,y.jsx)(rk,{advertiser:d.advertiser,headerHeight:u,inStlToolingExp:_,pinDraftType:f,requestContext:d,externalButtonQuery:x})})}},709622:function(e,t,r){"use strict";r.d(t,{Az:function(){return m},DI:function(){return v},Gl:function(){return O},Hl:function(){return C},Kb:function(){return k},NA:function(){return n},NG:function(){return c},OC:function(){return A},Pq:function(){return w},QM:function(){return h},Sk:function(){return P},UF:function(){return b},Uo:function(){return E},WF:function(){return l},Xm:function(){return u},Zf:function(){return i},_D:function(){return D},_N:function(){return p},ac:function(){return a},e_:function(){return f},gf:function(){return g},hf:function(){return j},i_:function(){return s},jY:function(){return _},ni:function(){return x},qg:function(){return d},rX:function(){return o},vX:function(){return S},wO:function(){return T},yG:function(){return y},yq:function(){return I}});var n="10",o=1,i=365,a=64,l=8,s=9,c=11,u=15,d=16,f=17,p=18,h=19,y=20,m=1e6,g=1e6,b="US";function _(e){var t="USD",r="$";switch(e){case"AT":case"BE":case"DE":case"ES":case"FI":case"FR":case"IE":case"IT":case"NL":case"PT":t="EUR",r="";break;case"AU":t="AUD",r="$";break;case"CA":t="CAD",r="$";break;case"CH":t="CHF",r="CHF";break;case"DK":t="DKK",r="kr";break;case"GB":t="GBP",r="\xa3";break;case"NO":t="NOK",r="kr";break;case"NZ":t="NZD",r="$";break;case"SE":t="SEK",r="kr"}return[t,r]}var v={AU:{budget:1,duration:"10"},CA:{budget:1,duration:"10"},CZ:{budget:80,duration:"10"},FR:{budget:1,duration:"10"},GB:{budget:1,duration:"10"},IE:{budget:1,duration:"10"},NZ:{budget:1,duration:"10"},US:{budget:3,duration:"10"},AT:{budget:1,duration:"10"},DE:{budget:1,duration:"10"},IT:{budget:1,duration:"10"},ES:{budget:1,duration:"10"},NL:{budget:1,duration:"10"},PT:{budget:1,duration:"10"},BE:{budget:1,duration:"10"},CH:{budget:1,duration:"10"},SE:{budget:10,duration:"30"},NO:{budget:10,duration:"30"},DK:{budget:10,duration:"30"},FI:{budget:1,duration:"10"}},x={AU:{budget:10,duration:"10"},CA:{budget:9,duration:"10"},CZ:{budget:150,duration:"10"},FR:{budget:7,duration:"10"},GB:{budget:5,duration:"10"},IE:{budget:7,duration:"10"},NZ:{budget:10,duration:"10"},US:{budget:7,duration:"10"},AT:{budget:7,duration:"10"},DE:{budget:7,duration:"10"},IT:{budget:7,duration:"10"},ES:{budget:7,duration:"10"},NL:{budget:7,duration:"10"},PT:{budget:7,duration:"10"},BE:{budget:7,duration:"10"},CH:{budget:7,duration:"10"},SE:{budget:70,duration:"30"},NO:{budget:70,duration:"30"},DK:{budget:50,duration:"30"},FI:{budget:7,duration:"10"}},P={AT:1,AU:1,BE:1,CA:1,CH:1,CZ:11,DE:1,ES:1,DK:1,FI:1,FR:1,GB:1,IE:1,IT:1,NO:1,NZ:1,NL:1,PT:1,SE:1,US:1},O={PIN_SELECTION_MODAL:"PIN_SELECTION_MODAL",BUSINESS_FORM:"QUICK_PROMOTE_BUSINESS_FORM",BILLING_FORM:"QUICK_PROMOTE_BILLING_FORM",SUCCESS_MODAL:"SUCCESS_MODAL",ERROR_MODAL:"ERROR_MODAL",TAG_MODAL:"TAG_MODAL",GDPR_MODAL:"GDPR_MODAL"},j="QUICK_PROMOTE_PAGE",S=[O.GDPR_MODAL,O.PIN_SELECTION_MODAL,j,O.BUSINESS_FORM,O.BILLING_FORM,O.SUCCESS_MODAL,O.ERROR_MODAL],w={NARROW:"NARROW",MEDIUM:"MEDIUM",WIDE:"WIDE"},E=function(e){return e>=1&&e<=2},A="qp-fac-education-id",I="qp-fac-modal-education-id",C={CONSIDERATION:"CONSIDERATION",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES"},T={PINS:0,PRODUCT_GROUPS:1,BOARDS:2,SELECTED:3,SEARCH_RESULTS:4},D={MOST_RECENT:"RECENT",PROMOTED_PINS:"PROMOTED"},k=300},596505:function(e,t,r){"use strict";var n=r(76911),o=r(206134),i=r.n(o),a=r(908390),l=r(898781),s=r(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var b=function(){},_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(l,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=y(l);if(t){var n=y(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function l(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l),m(h(t=o.call(this,e)),"setValue",function(e){var r={selected:e};t.fireChangeEvent(r),t.setState(r),t.handleClose()}),m(h(t),"handleMouseDown",function(e){("mousedown"!==e.type||0===e.button)&&(t.isOpen?t.handleClose():t.handleOpen())}),m(h(t),"handleOpen",function(){t._shouldManageOwnState?t.setState({isOpen:!0}):t.props.onOpen()}),m(h(t),"handleClose",function(){t._shouldManageOwnState?t.setState({isOpen:!1}):t.props.onClose()}),t._shouldManageOwnState=e.onOpen===b&&e.onClose===b,t.state={selected:e.value,isOpen:!1},t.mounted=!0,t}return r=[{key:"componentDidUpdate",value:function(){this.mounted&&this.isOpen&&this.scrollItemIntoView(this.selectedOption)}},{key:"isOpen",get:function(){return this._shouldManageOwnState?!!this.state.isOpen:!!this.props.isOpen}},{key:"scrollItemIntoView",value:function(e){var t=this.menu;t&&e&&(e.offsetTop>t.scrollTop+t.offsetHeight||e.offsetTop<t.scrollTop)&&(t.scrollTop=e.offsetTop-t.offsetTop)}},{key:"fireChangeEvent",value:function(e){e.selected!==this.state.selected&&this.props.onChange&&this.props.onChange(e.selected)}},{key:"renderOption",value:function(e){var t=this,r=e===this.state.selected,n=i()({ReactDropdown__option:!0,"ReactDropdown__option--selected":r});return(0,s.jsx)("div",{className:n,onClick:function(){return t.setValue(e)},onMouseDown:function(){return t.setValue(e)},ref:r?function(e){t.selectedOption=e}:null,role:"button",tabIndex:"0",children:e.label},e.value)}},{key:"renderMenu",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=t.map(function(t){if("group"!==t.type)return e.renderOption(t);var r,n=(0,s.jsx)("div",{className:"title",children:t.name});return(0,s.jsxs)("div",{className:"group",children:[n,null===(r=t.items)||void 0===r?void 0:r.map(function(t){return e.renderOption(t)})]},t.name)});return r.length?r:(0,s.jsx)("div",{className:"ReactDropdown--noresults",children:this.props.i18n._('No options found', ' - ', ' -- ')})}},{key:"render",value:function(){var e=this,t=this.isOpen,r=i()({ReactDropdown:!0,"ReactDropdown--open":t}),n=i()({ReactDropdown__control:!0,"ReactDropdown__control--advertiserDropdown":this.props.isAdvertiserDropdown}),o=null;return t&&(o=(0,s.jsx)("div",{className:"ReactDropdown__menu",ref:function(t){e.menu=t},children:this.renderMenu(this.props.options)})),(0,s.jsxs)("div",{className:r,children:[(0,s.jsx)("div",{className:n,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown,children:(0,s.jsxs)("div",{className:"ReactDropdown__placeholder",children:[this.state.selected.label,(0,s.jsx)("span",{className:"caret",children:(0,s.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('see options', 'accessible label for dropdown arrow', 'accessible label for dropdown arrow'),color:"default",icon:"arrow-down",size:18})})]})}),o]})}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.value&&e.value!==t.selected?{selected:e.value}:null}}],r&&f(l.prototype,r),n&&f(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);m(_,"defaultProps",{isAdvertiserDropdown:!1,isOpen:!1,onChange:b,onClose:b,onOpen:b,options:[],value:{label:"Select...",value:""}}),t.Z=function(e){var t=(0,l.ZP)();return(0,s.jsx)(_,d(d({},e),{},{i18n:t}))}},580189:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n,o=r(170168);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r){var n;return(n=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===i(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=(a(n={},0,o.C0),a(n,3,o.vI),a(n,4,o.YD),n);function s(e){var t=e.currentSiteType,r=e.destinationSiteType,n=e.inputPath,o=Object.keys(l).includes(String(t))&&Object.keys(l).includes(String(r)),i="/"===n[0]?n:"/".concat(n);return o&&r!==t?"".concat(l[r]).concat(i):i}},151416:function(e,t,r){"use strict";r.d(t,{V3:function(){return a},e_:function(){return o},lE:function(){return i}});var n=(0,r(425288).Z)("pinBuilderContext",{shouldRenderPinEditorStandalone:!1,openHelpTextInNewWindow:!1,allowMultiplePins:!0,allowCarouselPin:!0}),o=n.Provider,i=n.Consumer,a=n.useHook},916655:function(e,t,r){"use strict";r.d(t,{Z:function(){return y}});var n=r(76911),o=r(908390),i=r(407043),a=r(898781),l=r(454074),s=r(531245),c=r(281139),u=r(515198);function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h={default:{backgroundImage:"linear-gradient(to left, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.03) 50%, rgba(0, 0, 0, 0))"},drag:{backgroundImage:"linear-gradient(to left, rgba(74, 144, 226, 0), rgba(74, 144, 226, 0.03) 50%, rgba(74, 144, 226, 0))"},error:{backgroundImage:"linear-gradient(to left, rgba(230, 0, 35, 0), rgba(230, 0, 35, 0.03) 50%, rgba(230, 0, 35, 0))"}};function y(e){var t,r=e.addAssets,p=e.errorMessage,y=e.imageOnly,m=e.isDeprecateCoverExpEnabled,g=void 0!==m&&m,b=(0,i.v)().logContextEvent,_=(0,a.ZP)(),v=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||f(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),x=v[0],P=v[1],O=(0,n.useRef)(!1);(0,n.useEffect)(function(){return O.current=!0,function(){O.current=!1}});var j=g?(0,u.jsx)(o.xu,{padding:5,children:(0,u.jsx)(o.xv,{color:"subtle",size:"100",children:_._('Supports PNG, JPG, GIF up to 10MB', 'emptyPane.fileTypeText', 'Text description of what image type and limits that can be uploaded')})}):(0,u.jsxs)(n.Fragment,{children:[(0,u.jsxs)(o.xu,{display:"flex",padding:5,children:[(0,u.jsx)(o.xu,{alignItems:"center",display:"flex",marginEnd:3,children:(0,u.jsx)(o.JO,{accessibilityLabel:_._('Image icon', 'accessibilitiy label for image icon', 'accessibilitiy label for image icon'),icon:"camera-roll",size:22})}),(0,u.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,u.jsx)(o.xv,{color:"subtle",size:"100",weight:"bold",children:_._('High resolution images', 'Text description of image that can be uploaded', 'Text description of image that can be uploaded')}),(0,u.jsx)(o.xv,{color:"subtle",size:"100",children:_._('PNG, JPG, GIF up to 10MB', 'Image type and limits that can be uploaded', 'Image type and limits that can be uploaded')})]})]}),!y&&(0,u.jsxs)(o.xu,{display:"flex",padding:5,children:[(0,u.jsx)(o.xu,{alignItems:"center",display:"flex",marginEnd:3,children:(0,u.jsx)(o.JO,{accessibilityLabel:_._('Video icon', 'accessibilitiy label for video icon', 'accessibilitiy label for video icon'),icon:"video-camera",size:24})}),(0,u.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,u.jsx)(o.xv,{color:"subtle",size:"100",weight:"bold",children:_._('High-quality video', 'Text description of image that can be uploaded', 'Text description of image that can be uploaded')}),(0,u.jsx)(o.xv,{color:"subtle",size:"100",children:_._('MOV, MP4, up to 2GB, 5min.', 'Video type and limits that can be uploaded', 'Video type and limits that can be uploaded')})]})]})]});return(0,u.jsx)(c.Z,{accept:[].concat(d(s.xl),d(y?[]:s.ss)).join(","),allowMultipleFiles:!0,color:"white",hasError:!!p,id:"asset-picker-upload",onChange:function(e){P(!0);var t=Array.from(e.target.files);P(!0),b({event_type:101,component:13392,element:11265}),r(t).then(function(){O.current&&P(!1)})},onDrop:function(e){P(!0);var t=(0,l.Z)(e.dataTransfer);P(!0),b({event_type:3502,component:13392,element:11265}),r(t).then(function(){O.current&&P(!1)})},children:function(e){return(0,u.jsxs)(o.xu,{alignContent:"center",dangerouslySetInlineStyle:{__style:{border:"dashed 2px #dadada",borderRadius:6}},"data-test-id":"asset-picker-empty-pane",direction:"column",display:"flex",height:"100%",justifyContent:"center",position:"relative",children:[x?(0,u.jsx)(o.$j,{accessibilityLabel:_._('Loading...', 'Loading assets', 'Loading assets'),show:!0}):(0,u.jsx)(o.xu,{padding:2,children:(0,u.jsxs)(o.kC,{alignItems:"center",direction:"column",gap:{row:0,column:4},justifyContent:"center",children:[(0,u.jsx)(o.JO,{color:g?"default":"subtle",icon:g?"camera-roll":"arrow-circle-up",accessibilityLabel:y?_._('Add an image', 'uploadCoverSourceModal.emptyPane.addIconAccessibilityLabel', 'Add an image as part of the pin'):_._('Add an image or video', 'Add an image or video as part of the pin', 'Add an image or video as part of the pin'),size:g?22:32}),(0,u.jsx)(o.xv,{children:g?_._('Drag and drop an image, or browse from your computer', 'emptyPane.dragAndDropText', 'A drag and drop prompt for adding assets'):_._('Drag and drop assets', 'A drag and drop prompt for adding assets', 'A drag and drop prompt for adding assets')}),(0,u.jsx)(o.zx,{color:g?"gray":"red",text:g?_._('Browse', 'emptyPane.button', 'Button text on asset picker to upload image from a computer'):_._('Upload from your computer', 'Button text on asset picker to upload image from a computer', 'Button text on asset picker to upload image from a computer')})]})}),(0,u.jsx)(o.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:g?void 0:{__style:h[e?"drag":p?"error":"default"]},display:"flex",justifyContent:"center",left:!0,right:!0,position:"absolute",children:p?(0,u.jsx)(o.xu,{padding:5,maxWidth:468,children:(0,u.jsx)(o.xv,{align:"center",color:"error",size:"200",children:p})}):j})]})}})}},725108:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(908390),o=r(898781),i=r(515198);function a(e){var t=e.errorMessage,r=e.primaryAction,a=e.secondaryAction,l=(0,o.ZP)();return(0,i.jsxs)(n.xu,{alignItems:"center",color:"errorBase","data-test-id":"error-banner",display:"flex",height:64,paddingX:3,position:"relative",children:[(0,i.jsx)(n.xu,{paddingX:2,children:(0,i.jsx)(n.JO,{accessibilityLabel:l._('Error Alert', 'Alert icon for error banner', 'Alert icon for error banner'),color:"inverse",icon:"alert",size:24})}),(0,i.jsx)(n.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"start",paddingX:1,children:(0,i.jsx)(n.xv,{align:"center",color:"inverse",weight:"bold",children:t})}),(!!r||!!a)&&(0,i.jsxs)(n.kC,{alignItems:"end",justifyContent:"start",children:[!!a&&(0,i.jsx)(n.xu,{height:"100%",padding:1,children:a}),!!r&&(0,i.jsx)(n.xu,{height:"100%",padding:1,children:r})]})]})}},841064:function(e,t,r){"use strict";r.d(t,{Z:function(){return S}});var n=r(76911),o=r(206134),i=r.n(o),a=r(908390),l=r(858472),s=r(665866),c=r(780280),u=r(19121),d=r(717615),f=r(231947),p=r(515198);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){x(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,r){return(t=P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==h(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}var O={__style:{pointerEvents:"none"}},j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(c,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=v(c);if(t){var n=v(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return _(e)}(this,e)});function c(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return x(_(e=o.call.apply(o,[this].concat(r))),"state",{focused:!1}),x(_(e),"setTextAreaRef",function(t){e.textArea=t}),x(_(e),"setTextAreaHeight",function(){e.textArea&&(e.textArea.style.height="auto",e.textArea.style.height="".concat(e.textArea.scrollHeight,"px"))}),x(_(e),"handleChange",function(t){(0,e.props.onChange)({event:t,value:t.target.value})}),x(_(e),"handleInput",function(){e.setTextAreaHeight()}),x(_(e),"handleBlur",function(t){e.setState({focused:!1},e.setTextAreaHeight);var r=e.props.onBlur;r&&r({event:t,value:t.currentTarget.value})}),x(_(e),"handleFocus",function(t){e.setState({focused:!0},e.setTextAreaHeight);var r=e.props.onFocus;r&&r({event:t,value:t.currentTarget.value})}),x(_(e),"getColor",function(){var t=e.props,r=t.errorMessage,n=t.warningMessage,o=t.showOnBlur,i=t.showWarningOnBlur,a=t.value,s=e.state.focused;return r?l.x7:s||i&&n?"#0074e8":a&&!o?"transparent":"rgba(142, 142, 142, 0.5)"}),e}return r=[{key:"componentDidMount",value:function(){this.setTextAreaHeight(),this.props.shouldFocusOnRender&&this.textArea&&this.textArea.focus()}},{key:"componentDidUpdate",value:function(){this.setTextAreaHeight()}},{key:"render",value:function(){var e=this.props,t=e.bold,r=e.muted,n=e.italic,o=e.disabled,l=e.errorMessage,c=e.warningMessage,u=e.height,d=e.helperMessage,h=e.hideScrollbars,y=e.id,m=e.maxLength,g=e.placeholder,b=e.requestContext,_=e.size,v=e.spellCheck,x=e.showOnBlur,P=e.showWarningOnBlur,j=e.value,S=void 0===j?"":j,w=e.viewer,E=e.wrap,A=e.orbacActingAs,I=this.state.focused,C={__style:{boxShadow:"0 ".concat(I||l||P&&c?"2px":"1px"," 0 0 ").concat(this.getColor()),paddingTop:8}},T=(0,f.nl)(w,A)&&"ad_creation"!==s.Z.scenario()&&b.experimentsClient.checkExperiment("web_stl_tooling").anyEnabled;return(0,p.jsxs)(a.xu,{column:12,display:"flex",direction:"column",children:[(0,p.jsxs)(a.xu,{column:12,position:"relative",children:[(0,p.jsx)("textarea",{className:i()("TextArea__".concat(T?"experimentalTextArea":"textArea"),{TextArea__bold:t,TextArea__dark:null==m&&!o,TextArea__hide_scrollbars:h,TextArea__disabled:o,TextArea__enabled:!o,TextArea__small:"sm"===_,TextArea__large:"lg"===_,TextArea__medium:"md"===_,TextArea__wrap:E,TextArea__nowrap:!E,TextArea__sm:!E,TextArea__smHeight:"sm"===u,TextArea__mdHeight:"md"===u,TextArea__muted:!T&&r,TextArea__italic:!T&&S&&n}),disabled:o,id:y,onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,onInput:this.handleInput,placeholder:g,spellCheck:v,ref:this.setTextAreaRef,rows:1,value:null==m||I?S:S.substring(0,m)}),null!=m&&!o&&(0,p.jsx)(a.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:O,children:(0,p.jsx)("div",{className:i()("TextArea__".concat(T?"ghostTextArea":"textArea"),"TextArea__dark",{TextArea__bold:t,TextArea__muted:!T&&r,TextArea__italic:!T&&n,TextArea__large:"lg"===_,TextArea__medium:"md"===_,TextArea__small:"sm"===_,TextArea__wrap:E,TextArea__nowrap:!E}),children:S.substring(0,m)})})]}),(0,p.jsxs)("div",{className:I||x||l||P&&c||!S?"":"TextArea__hidden",children:[!T&&(0,p.jsx)(a.xu,{column:12,dangerouslySetInlineStyle:C}),(0,p.jsx)(a.xu,{column:12,marginTop:T?0:1,minHeight:15,children:(I||x||!!l||P&&!!c)&&(0,p.jsxs)(a.xu,{column:12,display:"flex",justifyContent:"between",children:[!!l&&(0,p.jsx)(a.xu,{flex:"grow","data-test-id":"text-area-error",children:(0,p.jsx)(a.xv,{size:"100",color:"error",children:l})}),(P||I)&&!l&&!!c&&(0,p.jsx)(a.xu,{flex:"grow","data-test-id":"text-area-warning",children:(0,p.jsx)(a.xv,{size:"100",color:"subtle",children:c})}),(x||I)&&!l&&!c&&(0,p.jsx)(a.xu,{flex:"grow","data-test-id":"text-area-helper",children:(0,p.jsx)(a.xv,{size:"100",color:"subtle",children:d})}),I&&null!=m&&(0,p.jsx)(a.xu,{flex:"none",children:(0,p.jsx)(a.xv,{size:"100",color:l?"error":"subtle",children:m-S.length})})]})})]})]})}}],g(c.prototype,r),n&&g(c,n),Object.defineProperty(c,"prototype",{writable:!1}),c}(n.Component);function S(e){return(0,p.jsx)(j,m(m({},e),{},{requestContext:(0,c.B)(),viewer:(0,u.Z)(),orbacActingAs:(0,d.Z)()}))}x(j,"defaultProps",{italic:!1,muted:!1,bold:!1,disabled:!1,size:"md",wrap:!0,hideScrollbars:!1,shouldFocusOnRender:!1,orbacActingAs:{}})},415480:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n=r(76911),o=r(908390),i=r(898781),a=r(755742),l=r(780280),s=r(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(l,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=y(l);if(t){var n=y(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function l(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l),m(h(r=i.call(this,e)),"state",{currentValue:r.props.value,hovered:!1}),m(h(r),"addStep",function(e){if(!e||"keyup"!==e.type||e.charCode===a.Z.SPACE||e.charCode===a.Z.ENTER){var t=r.props,n=t.maxValue,o=t.onChange,i=t.value,l=t.step,s=r._roundToStepDecimalDigits(Math.min(n,i+(void 0===l?0:l)));o(s),r.setState({currentValue:s})}}),m(h(r),"minusStep",function(e){if(!e||"keyup"!==e.type||e.charCode===a.Z.SPACE||e.charCode===a.Z.ENTER){var t=r.props,n=t.minValue,o=t.onChange,i=t.value,l=t.step,s=r._roundToStepDecimalDigits(Math.max(n,i-(void 0===l?0:l)));o(s),r.setState({currentValue:s})}}),m(h(r),"onChange",function(e){var t=Number(e.target.value);r.setState({currentValue:t})}),m(h(r),"onKeyUp",function(e){var t=r.props.onChange,n=r.state.currentValue;e&&[a.Z.ENTER,a.Z.UP,a.Z.DOWN].includes(e.keyCode)&&t(Number(n))}),m(h(r),"handleMouseEnter",function(){r.setState({hovered:!0})}),m(h(r),"handleMouseLeave",function(){r.setState({hovered:!1})}),m(h(r),"onBlur",function(){var e=r.props,t=e.minValue,n=e.maxValue,o=e.onChange,i=e.value,a=parseFloat(r.state.currentValue),l=isNaN(a)?i:a,s=r._roundToStepDecimalDigits(Math.min(Math.max(l,t),n));o(s),r.setState({currentValue:s})});var t,r,n=(null!==(t=e.step)&&void 0!==t?t:0).toString().split(".");return r._shiftBy=n[1]?Math.pow(10,n[1].length):1,r}return r=[{key:"componentDidUpdate",value:function(e){e.textBlockId!==this.props.textBlockId&&this.setState({currentValue:this.props.value})}},{key:"_roundToStepDecimalDigits",value:function(e){return Math.round(e*this._shiftBy)/this._shiftBy}},{key:"render",value:function(){var e=this.props,t=e.disableOnBlur,r=e.iconName,n=e.id,i=e.requestContext,a=e.useLegoStyle,l=this.state,c=l.currentValue,u=l.hovered,d=i.isRTL,f=[{iconName:"arrow-up",accessibilityLabel:this.props.i18n._('Increase by the step specified, for example 1 or 0.1', ' - ', ' -- '),onClick:this.addStep},{iconName:"arrow-down",accessibilityLabel:this.props.i18n._('Decrease by the step specified, for example 1 or 0.1', ' - ', ' -- '),onClick:this.minusStep}],p={input:{border:"solid 2px #efefef",borderRadius:a?16:8,boxSizing:"border-box",fontSize:"16px",outline:"none",padding:"10px 16px",width:"100%",WebkitAppearance:"textfield",MozAppearance:"textfield"},buttonContainer:{__style:{borderRadius:d?a?"14px 0px 0px 14px":"6px 0px 0px 6px":a?"0px 14px 14px 0px":"0px 6px 6px 0px",left:d?"2px":"auto",right:d?"auto":"2px"}},button:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"50%",cursor:"pointer",userSelect:"none",outline:"none"}};return(0,s.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:40,width:"100%",children:(0,s.jsxs)(o.xu,{display:"flex",position:"relative",justifyContent:"center",alignItems:"center",column:12,height:"100%",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,rounding:2,children:[(0,s.jsx)("input",{autoComplete:"off","data-test-id":n,id:n,onBlur:t?void 0:this.onBlur,onChange:this.onChange,onKeyUp:this.onKeyUp,size:"20",style:p.input,type:"number",value:c}),u?(0,s.jsx)(o.xu,{position:"absolute",display:"flex",direction:"column",justifyContent:"center",alignItems:"center",color:"secondary",width:28,height:"100%",overflow:"hidden",dangerouslySetInlineStyle:p.buttonContainer,children:f.map(function(e){return(0,s.jsx)("div",{"data-test-id":e.iconName,onKeyUp:e.onClick,onClick:e.onClick,role:"button",tabIndex:"0",style:p.button,children:(0,s.jsx)(o.JO,{icon:e.iconName,accessibilityLabel:e.accessibilityLabel,size:8,color:"default"})},e.iconName)})}):(0,s.jsx)(o.xu,{position:"absolute",right:!d,left:d,marginEnd:3,children:(0,s.jsx)(o.JO,{icon:r,accessibilityLabel:r,size:16})})]})})}}],f(l.prototype,r),n&&f(l,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(n.Component);function _(e){var t=(0,i.ZP)();return(0,s.jsx)(b,d(d({},e),{},{i18n:t,requestContext:(0,l.B)()}))}m(b,"defaultProps",{step:1})},815542:function(e,t,r){"use strict";r.d(t,{kw:function(){return M},ZP:function(){return F}});var n=r(76911),o=r(908390),i=r(407043),a=r(382415),l=r(898781),s=r(755742),c=r(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(i,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=h(i);if(t){var n=h(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return y(p(e=n.call.apply(n,[this].concat(r))),"handleClick",function(){var t=e.props,r=t.color;(0,t.onClick)({value:r})}),y(p(e),"handleKeyPress",function(t){e.props.onClick&&(t.charCode===s.Z.SPACE||t.charCode===s.Z.ENTER)&&(t.preventDefault(),e.handleClick())}),e}return d(i.prototype,[{key:"render",value:function(){var e=this.props,t=e.size,r=e.color,n=e.isSelected,i=e.dataTestId;return(0,c.jsx)(o.iP,{rounding:"circle",onTap:this.handleClick,children:(0,c.jsx)(o.xu,{"data-test-id":i,role:"button",height:t,onKeyPress:this.handleKeyPress,overflow:"hidden",rounding:"circle",width:t,dangerouslySetInlineStyle:{__style:{boxSizing:"border-box",cursor:"pointer",border:"solid 2px #F0F0F0",backgroundColor:""===r?void 0:r,boxShadow:n?"0 0 0 2px #f35e5f":"none",outline:"none"}},tabIndex:0,children:""===r&&(0,c.jsx)(a.Z,{size:6})})})}}]),r&&d(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,r){return(t=j(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==b(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}var S={input:{minWidth:0,flex:1,fontSize:"16px",color:"#333",border:"0px",outline:"none",boxSizing:"border-box",padding:0}},w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=P(a);if(t){var n=P(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return x(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return O(x(e=i.call.apply(i,[this].concat(r))),"state",{color:e.props.color}),O(x(e),"isValidHex",function(e){return!!e&&/^#([0-9a-f]{6})$/i.test(e)}),O(x(e),"startsWithValidHex",function(e){return!!e&&/^#([0-9a-f]{0,6})$/i.test(e)}),O(x(e),"handleInputChange",function(t){var r=e.props.onChange,n="#"+t.target.value.toUpperCase();e.startsWithValidHex(n)&&(e.setState({color:n}),e.isValidHex(n)&&r(n))}),e}return r=[{key:"render",value:function(){var e=this,t=this.props,r=t.id,n=t.width,i=t.height,a=t.color,l=this.state.color,s=this.input===document.activeElement?l:a.toUpperCase();return(0,c.jsxs)(o.xu,{width:n,height:i,paddingX:2,rounding:2,display:"flex",alignItems:"center",borderStyle:"lg",children:[(0,c.jsx)(o.xv,{color:"subtle",children:"#"}),(0,c.jsx)("input",{id:r,ref:function(t){return e.input=t},style:S.input,value:s.replace("#",""),onChange:this.handleInputChange})]})}}],_(a.prototype,r),n&&_(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach(function(t){R(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z(n.key),n)}}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,r){return(t=z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==E(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}var L=["#ffffff","#f15758","#e60023","#e37325","#f8b917","#0ba573","#096a56","#558dca","#0f4d8f","#7c499d","#73295E","#843922","#555555","#000000"],M=["#FFFFFF","#FCE2CF","#F7F2BB","#D8F0A8","#BEF4EE","#DCD4F7","#F9B8F2","#F65E55","#F69855","#F6E955","#79DD3C","#25E4F4","#AA6AFB","#F655C9","#C20000","#B85C00","#807500","#02882A","#0045CC","#8000BD","#97026D","#5E031A","#573700","#363F03","#01564C","#00205C","#370052","#111111"],N={container:{__style:{boxShadow:"0 0 0 2px #efefef inset"}}},B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(s,e);var t,r,i,l=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=k(s);if(t){var n=k(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return D(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return R(D(e=l.call.apply(l,[this].concat(r))),"state",{isOpen:!1}),R(D(e),"setAnchorRef",function(t){e.anchor=t}),R(D(e),"handleClick",function(){e.setState(function(e){return{isOpen:!e.isOpen}})}),R(D(e),"handleDismiss",function(){e.setState({isOpen:!1})}),R(D(e),"onNoColorFillChange",function(t){var r=t.checked;e.props.onSelectColor({value:r?"":"#ffffff"}),e.props.logContextEvent({event_type:101,component:13780,element:12165,aux_data:{value:r}})}),R(D(e),"onColorClick",function(t){var r=t.value;e.props.onSelectColor({value:r}),e.props.logContextEvent({event_type:101,component:13780,element:12166,aux_data:{value:r}})}),R(D(e),"onHexColorChange",function(t){e.props.onSelectColor({value:t}),e.props.logContextEvent({event_type:7472,component:13780,element:12167,aux_data:{value:t}})}),e}return r=[{key:"renderTransparencyControl",value:function(){var e=this.props,t=e.showTransparencyControl,r=e.transparencyIndex,n=e.onSelectTransparency;if(!t||void 0===r||!n)return null;var i=this.props.i18n._('Full opacity', 'Adjust the transparency to opaque,', 'Adjust the transparency to opaque,'),a=this.props.i18n._('Semi-transparent', 'Adjust the transparency to 75%.', 'Adjust the transparency to 75%.'),l=[(0,c.jsx)(o.xu,{"data-group-id":"pinbuilder-editor-logo-transparency-button","data-test-id":"pinbuilder-editor-fill-opaque-button",children:(0,c.jsx)(o.u,{text:i,children:(0,c.jsx)(o.JO,{accessibilityLabel:i,icon:"fill-opaque",color:0===r?"default":"subtle",size:20})})}),(0,c.jsx)(o.xu,{"data-group-id":"pinbuilder-editor-logo-transparency-button","data-test-id":"pinbuilder-editor-fill-transparent-button",children:(0,c.jsx)(o.u,{text:a,children:(0,c.jsx)(o.JO,{accessibilityLabel:a,icon:"fill-transparent",color:1===r?"default":"subtle",size:20})})})];return(0,c.jsx)(o.xu,{marginStart:4,children:(0,c.jsx)(o.sY,{selectedItemIndex:r,onChange:n,items:l})})}},{key:"renderFlyout",value:function(){var e=this,t=this.props,r=t.showNoFillControl,i=t.showTransparencyControl,a=t.colorSelected,l=t.imagePalette,s=t.showExpanded;return(0,c.jsx)(o.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:this.handleDismiss,size:"md",_deprecatedShowCaret:!0,children:(0,c.jsxs)(o.xu,{direction:"column",display:"flex",justifyContent:"center",paddingY:4,width:"100%",children:[r&&(0,c.jsxs)(o.xu,{marginBottom:4,children:[(0,c.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",marginBottom:3,paddingX:4,children:[(0,c.jsx)(o.XZ,{checked:!a,id:"no-color-fill",name:"no-color-fill",onChange:this.onNoColorFillChange,size:"sm"}),(0,c.jsx)(o.__,{htmlFor:"no-color-fill",children:(0,c.jsx)(o.xu,{paddingX:2,children:(0,c.jsx)(o.xv,{size:"200",children:this.props.i18n._('No background fill', 'Don\'t fill any background color', 'Don\'t fill any background color')})})})]}),(0,c.jsx)(o.iz,{})]}),(0,c.jsxs)(o.xu,{paddingX:4,children:[l&&l.length>0&&(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(o.xu,{paddingX:1,children:(0,c.jsx)(o.xv,{size:"100",children:this.props.i18n._('Your image colors', 'Colors from the image being added', 'Colors from the image being added')})}),(0,c.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",wrap:!0,children:l.map(function(t,r){return(0,c.jsx)(o.xu,{"data-group-id":"pinbuilder-editor-palette-color-picker-button",padding:1,children:(0,c.jsx)(g,{color:t,dataTestId:"pinbuilder-editor-palette-".concat(r,"-color-picker-button"),isSelected:a.toLowerCase()===t,onClick:e.onColorClick,size:28})},t)})}),(0,c.jsx)(o.xu,{paddingX:1,marginTop:2,children:(0,c.jsx)(o.xv,{size:"100",children:this.props.i18n._('More options', 'Default colors', 'Default colors')})})]}),(0,c.jsx)(o.kC,{alignItems:"stretch",justifyContent:"between",wrap:!0,children:(s?M:L).map(function(t,r){return(0,c.jsx)(o.xu,{"data-group-id":"pinbuilder-editor-color-picker-button",padding:1,children:(0,c.jsx)(g,{color:t,dataTestId:"pinbuilder-editor-".concat(r,"-color-picker-button"),isSelected:a.toLowerCase()===t,onClick:e.onColorClick,size:28})},t)})}),(0,c.jsxs)(o.xu,{display:"flex",alignItems:"center",marginTop:3,children:[(0,c.jsx)(w,{onChange:this.onHexColorChange,color:a,width:94,height:40}),i&&this.renderTransparencyControl()]})]})]})})}},{key:"render",value:function(){var e=this.props,t=e.id,r=e.width,n=e.showTransparencyControl,i=e.transparencyIndex,l=e.colorSelected,s=this.state.isOpen,u={__style:{border:l&&"#ffffff"!==l.toLowerCase()?"none":"solid 2px #efefef",borderRadius:"16px 0 0 16px",background:l||"linear-gradient(to bottom right, white 48.5%, #e600234d 48.5%, #e600234d 51.5%, white 51.5%)"}};return(0,c.jsxs)(o.xu,{"data-test-id":t,width:r,children:[(0,c.jsx)(o.iP,{fullHeight:!0,onTap:this.handleClick,rounding:4,children:(0,c.jsxs)(o.xu,{rounding:4,overflow:"hidden",height:40,display:"flex",justifyContent:"end",color:"secondary",dangerouslySetInlineStyle:N.container,ref:this.setAnchorRef,children:[(0,c.jsx)(o.xu,{flex:"grow",dangerouslySetInlineStyle:u,children:l&&n&&1===i&&(0,c.jsx)(a.Z,{})}),(0,c.jsx)(o.xu,{alignItems:"center",color:"secondary","data-test-id":"storyboard-editor-details-layout-color-picker-icon",display:"flex",flex:"none",justifyContent:"center",width:28,children:(0,c.jsx)(o.JO,{accessibilityLabel:this.props.i18n._('Open dropdown color picker', 'Open the color picker in a dropdown flyout', 'Open the color picker in a dropdown flyout'),color:"default",icon:"arrow-down",size:8})})]})}),s&&this.renderFlyout()]})}}],C(s.prototype,r),i&&C(s,i),Object.defineProperty(s,"prototype",{writable:!1}),s}(n.Component);function F(e){var t=(0,i.v)().logContextEvent,r=(0,l.ZP)();return(0,c.jsx)(B,I(I({},e),{},{i18n:r,logContextEvent:t}))}R(B,"defaultProps",{showNoFillControl:!1,showTransparencyControl:!1,width:84})},456463:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(908390),o=r(515198);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(e){return e.reduce(function(e,t){return[].concat(function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{selector:t.selector,content:(0,o.jsxs)(n.xu,{"data-test-id":"".concat(t.id||""),paddingY:2,children:[t.heading&&(0,o.jsx)(n.xu,{children:(0,o.jsx)(n.X6,{size:"400",children:t.heading})}),(0,o.jsx)(n.xu,{paddingY:2,children:(0,o.jsx)(n.xv,{children:t.description})})]}),id:t.id,padding:t.padding,onNext:t.onNext}])},[])}},451105:function(e,t,r){"use strict";r.d(t,{GB:function(){return h},ZP:function(){return p},q0:function(){return f}});var n=r(908390),o=r(349700),i=r(299295),a=r(66699),l=r(966113),s=r(540794),c=r(41703),u=r(296342),d=r(515198),f=function(e){return e._('Not a valid URL.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid URL was entered to create a Pin')};function p(e){var t=e.dispatchId,r=e.errorId,s=e.i18n,p=e.ideaPinRenamingEnabled,h=e.options,y=(0,c.Z)(r,s,t,void 0,h);if("GENERAL_ERROR"!==y.id)return y;switch(r){case"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:t,id:"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT",type:"error",message:s._('Ooops! This description is getting long. Try trimming it down.', 'storyPinBuilder.errorMessaging.message', 'Error message when description is greater than maximum character count.')};case"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT":return{dispatchId:t,id:"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT",type:"error",message:s._('Ooops! Too many user mentions. Try keeping it to 5 max.', 'pinBuilder.errorMessaging.descriptionMentionLimit', 'Error message when description contains more user mentions than maximum allowed count.')};case"TITLE_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:t,id:"TITLE_OVER_MAX_CHARACTER_LIMIT",type:"error",message:s._('Ooops! This title is getting long. Try trimming it down.', 'storyPinBuilder.errorMessaging.message', 'Error message when title is greater than maximum character count.')};case"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO":return{dispatchId:t,id:"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO",type:"error",message:s._('This image does not have the recommended aspect ratio.', 'storyPinBuilder.errorMessaging.message', 'Signal message when uploading an image that does not have the recommended aspect ratio.')};case"TAG_SAME_PRODUCT_LINK":return{dispatchId:t,id:"TAG_SAME_PRODUCT_LINK",type:"error",message:s._('You can\'t tag from the same page twice.', 'storyPinBuilder.errorMessaging.message', 'Error message for using the same product link twice on a Pin tag'),blocking:!0};case"TAG_OVER_MAX_PRODUCTS_LIMIT":return{dispatchId:t,id:"TAG_OVER_MAX_PRODUCTS_LIMIT",type:"error",message:s._('You\'ve reached the maximum number of products for a tag.', 'storyPinBuilder.errorMessaging.message', 'Error message when user attempts to add more than 8 products to a tag'),blocking:!0};case"BOARD_MISSING":return{dispatchId:t,id:"BOARD_MISSING",type:"error",message:s._('A board is required to create a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a board is required to create a Pin'),blocking:!0};case"DATE_IN_PAST":return{dispatchId:t,id:"DATE_IN_PAST",type:"error",message:s._('A future date is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the date is in the past for a scheduled Pin.'),blocking:!0};case"DATE_TOO_FAR_IN_FUTURE":return{dispatchId:t,id:"DATE_TOO_FAR_IN_FUTURE",type:"error",message:s._('Make sure you schedule a Pin less than 30 days in the future.', 'storyPinBuilder.errorMessaging.30DayMessage', 'Error message indicating the date is too far in the future for a scheduled Pin.'),blocking:!0};case"DATE_MISSING":return{dispatchId:t,id:"DATE_MISSING",type:"error",message:s._('A date is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a date is required to schedule a Pin.'),blocking:!0};case"DESCRIPTION_INVALID":return{dispatchId:t,id:"DESCRIPTION_INVALID",type:"error",message:s._('The description is invalid.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid description was entered to create a Pin'),blocking:!0};case"MEDIA_MISSING":return{dispatchId:t,id:"MEDIA_MISSING",type:"error",message:s._('An image is required to create a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an image, video, or website is required to create a Pin.'),blocking:!0};case"SHOWCASE_UNSUPPORTED_FORMAT":return{dispatchId:t,id:"SHOWCASE_UNSUPPORTED_FORMAT",type:"error",message:s._('Showcase ads don\u2019t currently support video. To continue, please upload an image.', 'showcasePinBuilder.errorMessaging.message', 'Error message for uploading the wrong format for showcase ads.'),blocking:!0};case"TAG_INVALID":return{dispatchId:t,id:"TAG_INVALID",type:"error",message:s._('You can only tag images linking to your claimed website.', 'storyPinBuilder.errorMessaging.message', 'Error message for entering a link you have not claimed.'),blocking:!0};case"TAG_EMPTY":return{dispatchId:t,id:"TAG_EMPTY",type:"error",message:s._('You must tag at least one feature Pin to continue.', 'storyPinBuilder.errorMessaging.message', 'Error message for not tagging at least one product on a showcase ad.'),blocking:!0};case"TIME_MISSING":return{dispatchId:t,id:"TIME_MISSING",type:"error",message:s._('A time is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a time is required to schedule a Pin.'),blocking:!0};case"TITLE_INVALID":return{dispatchId:t,id:"TITLE_INVALID",type:"error",message:s._('The title is invalid.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid title was entered to create a Pin'),blocking:!0};case"URL_INVALID":return{dispatchId:t,id:"URL_INVALID",type:"error",message:f(s),blocking:!0};case"URL_MISSING":return{dispatchId:t,id:"URL_MISSING",type:"error",message:s._('URL is required.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a URL is required to create a Pin'),blocking:!0};case"URL_CONTAINS_PORN_DOMAIN":return{dispatchId:t,id:"URL_CONTAINS_PORN_DOMAIN",type:"error",message:(0,o.nk)(s._('Some nudity is okay for Pinterest, some isn\'t. Make sure you understand {{ policy_link }}', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the URL entered is a porn domain.'),{policy_link:(0,d.jsx)(n.rU,{href:l.MsG,display:"inlineBlock",target:"blank",underline:"hover",children:(0,d.jsx)(n.xv,{color:"error",inline:!0,size:"100",weight:"bold",children:s._('our policies', 'Link to policy page', 'Link to policy page')})},0)}),blocking:!0};case"URL_IS_TOO_LONG":return{dispatchId:t,id:"URL_IS_TOO_LONG",type:"error",message:(0,a.Z)(s._('Please shorten the link to {{ maxLength }} characters or fewer.', 'pinbuilder.urlIsTooLong.errorMessage', 'Error message indicating a URL is too long to create a Pin. maxLength: max number of chars in the link'),{maxLength:i.cH}),blocking:!0};case"URL_IS_BLOCKED":return{dispatchId:t,id:"URL_IS_BLOCKED",type:"error",message:s._('This link is blocked because it may not meet our content policies.', 'pinbuilder.blockedUrl.errorMessage', 'Error message indicating a URL is blocked because it may not meet our content policies'),blocking:!0};case"CAROUSEL_DIFFERENT_RATIOS":return{dispatchId:t,id:"CAROUSEL_DIFFERENT_RATIOS",type:"error",message:s._('Carousel images must have the same height and width', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a carousel with different sizes'),blocking:!0};case"CAROUSEL_INVALID_FORMAT":return{dispatchId:t,id:"CAROUSEL_INVALID_FORMAT",type:"error",message:s._('Carousels can only contain images', 'storyPinBuilder.errorMessaging.message', 'Error message when attempting to add a non-image file type to a carousel'),blocking:!0};case"URL_IS_REDIRECT":return{dispatchId:t,id:"URL_IS_REDIRECT",type:"error",message:s._('URL is a redirect.  Please enter a URL without a redirect.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a URL with a redirect was entered'),blocking:!0};case"URL_UNREACHABLE":return{dispatchId:t,id:"URL_UNREACHABLE",type:"error",message:s._('URL is unreachable.  Please check that it is correct.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the URL specified is unreachable.'),blocking:!0};case"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO":return{dispatchId:t,id:"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO",type:"error",message:s._('Edit the image on the cover page to have a 9:16 ratio', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the image on the cover page of a Story Pin does not have the correct aspect ratio.'),blocking:!0};case"STORY_PIN_COVER_PAGE_IMAGE_MISSING":return{dispatchId:t,id:"STORY_PIN_COVER_PAGE_IMAGE_MISSING",type:"error",message:p?s._('Please provide an image for the cover page of your Pin', 'storyPinBuilder.errorMessaging.storypinCoverPageImageMissing', 'Error message indicating that the cover page of a Pin is missing an image'):s._('Please provide an image for the cover page of your Idea Pin', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that the cover page of a Idea Pin is missing an image')};case"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING":return{dispatchId:t,blocking:!0,id:"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING",type:"error",message:p?s._('Cannot save Pin without signature set on cover', 'storyPinBuilder.errorMessaging.storyPinCoverPageSignatureMissing', 'Error message indicating that the cover page is missing the signature'):s._('Cannot save Idea Pin without signature set on cover', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that the cover page is missing the signature')};case"STORY_PIN_COVER_PAGE_TITLE_MISSING":return{dispatchId:t,id:"STORY_PIN_COVER_PAGE_TITLE_MISSING",type:"error",message:p?s._('Give your Pin a title before you publish', 'storyPinBuilder.errorMessaging.storyPinCoverPageTittleMissing', 'Error message indicating the cover page of a Pin is missing a title.'):s._('Give your Idea Pin a title before you publish', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the cover page of a Idea Pin is missing a title.'),blocking:!0};case"STORY_PIN_MEDIA_SIGNATURES_MISSING":return{dispatchId:t,blocking:!0,id:"STORY_PIN_MEDIA_SIGNATURES_MISSING",type:"error",message:p?s._('Cannot save Pin without signatures set on all media blocks/items', 'storyPinBuilder.errorMessaging.storyPinMediaSignatureMissing', 'Error message indicating that signatures are missing on media blocks/items'):s._('Cannot save Idea Pin without signatures set on all media blocks/items', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that signatures are missing on media blocks/items')};case"STORY_PIN_NOT_ENOUGH_PAGES":return{dispatchId:t,id:"STORY_PIN_NOT_ENOUGH_PAGES",type:"error",message:p?s._('Create at least 2 pages to publish a Pin', 'storyPinBuilder.errorMessaging.storyPinNotEnoughPages', 'Error message indicating the Pin is too short.'):s._('Create at least 2 pages to publish an Idea Pin', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the Idea Pin is too short.'),blocking:!0};case"STORY_PIN_TOO_MANY_DRAFTS":return{dispatchId:t,id:"STORY_PIN_TOO_MANY_DRAFTS",type:"error",message:(0,o.nk)(s._('You have reached the limit of {{draftMaxCount}} drafts.', 'storyboard.errorMessaging.message.draftLimitError', 'Upload attempt error message when users reached max number of drafts allowed. draftMaxCount: max number of drafts'),{draftMaxCount:u.in}).join(""),blocking:!0};case"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE":return{dispatchId:t,id:"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE",type:"error",message:(0,o.nk)(s._('You can only upload {{multiUploadMaxCount}} drafts at once.', 'storyboard.errorMessaging.message.multiUploadMaxError', 'Error message when users multi upload more than the max allowed. multiUploadMaxCount: max number of multi uploaded'),{multiUploadMaxCount:u.Af}).join(""),blocking:!0};case"STORY_PIN_TOO_MANY_PAGES":return{dispatchId:t,id:"STORY_PIN_TOO_MANY_PAGES",type:"error",message:(0,o.nk)(s.ngettext('There cannot be more than {{max_pages}} page', 'There cannot be more than {{max_pages}} pages', i.yX, 'storyPinBuilder.errorMessaging.message', 'Error message when trying to create a Story Pin with more than the allowed number of pages'),{max_pages:i.yX}).join(""),blocking:!0};case"STORY_PIN_TITLE_MISSING":return{dispatchId:t,id:"STORY_PIN_TITLE_MISSING",type:"error",message:p?s._('Give your Pin a title before you publish', 'storyPinBuilder.errorMessaging.storyPinTitleMissing', 'Error message indicating the Pin is missing a title.'):s._('Give your Idea Pin a title before you publish', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the Idea Pin is missing a title.'),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":var m=Math.floor(i.W_);return{dispatchId:t,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,o.nk)(s.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', m, 'storyPinBuilder.errorMessaging.message', 'Error message uploading a video file that is longer than the allowed duration'),{minVideoLengthSeconds:m}).join(""),blocking:!0};case"STORY_PIN_VIDEO_ON_COVER":return{dispatchId:t,id:"STORY_PIN_VIDEO_ON_COVER",type:"error",message:s._('The cover page cannot contain a video', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the cover page of a Story Pin contains a video.'),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":var g=i.Lr/1024/1024;return{dispatchId:t,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,o.nk)(s.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', g, 'storyPinBuilder.errorMessaging.message', 'Error message uploading a video file larger than required megabytes.'),{maxVideoFileSize:g}).join(""),blocking:!0};case"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:t,id:"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT",type:"error",message:s._('Ooops! This alt text is getting long. Try trimming it down.', 'pinBuilder.errorMessaging.message', 'Error message when alt text is greater than maximum character count.')};default:return{dispatchId:t,id:"GENERAL_ERROR",type:"error",message:s._('Hmm, something went wrong. Please try again.', 'storyPinBuilder.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}function h(e,t,r){r({event_type:7564,view_type:212,component:(0,s.Z)().includes("create")?13762:13308,aux_data:{error_message:t,error_id:e}})}},596284:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n=r(76911),o=r(506979),i=r(908390),a=r(237056),l=r(898781),s=r(299295),c=r(665866),u=r(773285),d=r(19121),f=r(717615),p=r(231947),h=r(841064),y=r(451105),m=r(305782),g=r(515198);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _(e){var t,r=e.pinDraftId,_=(0,l.ZP)(),v=(0,a.Z)(),x=(0,d.Z)(),P=(0,u.F)().checkExperiment,O=(0,f.Z)(),j=(0,p.nl)(x,O)&&"ad_creation"!==c.Z.scenario()&&P("web_stl_tooling",{dangerouslySkipActivation:!0}).anyEnabled,S=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=S[0],E=S[1],A=(0,o.useDispatch)(),I=(0,o.useSelector)(function(e){var t;return null===(t=e.pinbuilder.pinDrafts[r])||void 0===t?void 0:t.altText}),C=(0,o.useSelector)(function(e){var t;return null===(t=e.pinbuilder.pinDrafts[r])||void 0===t?void 0:t.altTextError})||"";return(0,g.jsxs)(i.xu,{children:[!w&&!I&&(0,g.jsx)(i.xu,{"data-test-id":"pin-draft-alt-text-button",flex:"grow",children:(0,g.jsx)(i.zx,{onClick:function(){return E(!0)},text:_._('Add alt text', 'pinbuilder.alt_text.button', 'Button to toggle alt text input'),size:"lg"})}),(w||I)&&(0,g.jsxs)(i.xu,{children:[(0,g.jsx)(i.xu,{marginStart:1,marginBottom:1,children:j&&(0,g.jsx)(i.xv,{size:"100",color:"default",children:_._('Alt text', 'pinbuilder.altText.title', 'Label for alt text')})}),(0,g.jsx)(h.Z,{height:j?"md":void 0,size:"sm",helperMessage:_._('This text will be read aloud by screen readers', 'web.altText.helperMessage', 'Help text for alt text'),id:"pin-draft-alttext-".concat(r),maxLength:s.lx,onChange:function(e){var t=e.value;A((0,m.DL)(r,t)),t&&t.length>s.lx&&A((0,m.KN)(r,(0,y.ZP)({errorId:"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT",i18n:_,ideaPinRenamingEnabled:v}).message)),C&&(!t||t.length<=s.lx)&&A((0,m.KN)(r,""))},onBlur:function(){},placeholder:_._('Explain what people can see in the Pin', 'web.altText.placeholder', 'Placehoolder text for alt text'),value:I||"",viewer:x,errorMessage:C,muted:!0,italic:!0,shouldFocusOnRender:!0})]})]})}},956069:function(e,t,r){"use strict";r.d(t,{Py:function(){return a},VX:function(){return n},i9:function(){return i},op:function(){return l},tN:function(){return o}});var n=8,o=24,i=4,a=148,l=16},875108:function(e,t,r){"use strict";function n(e){var t=e.x,r=e.y;return t>0&&t<=100&&r>0&&r<=100}r.d(t,{Z:function(){return n}})},940765:function(e,t,r){"use strict";r.d(t,{Z:function(){return w}});var n=r(506979),o=r(908390),i=r(407043),a=r(898781),l=r(19121),s=r(76911),c=r(299295),u=r(515198);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){b(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,r){return(t=_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}var v={__style:{zIndex:c.v9}},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=g(a);if(t){var n=g(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return m(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return b(m(e=i.call.apply(i,[this].concat(r))),"state",{showFlyout:!1}),b(m(e),"buttonRef",(0,s.createRef)()),b(m(e),"handleShowFlyout",function(){e.setState({showFlyout:!0}),e.props.logContextEvent({event_type:101,component:13308,element:12123})}),b(m(e),"handleHideFlyout",function(){e.setState({showFlyout:!1})}),e}return r=[{key:"render",value:function(){var e=this,t=this.props,r=t.accessibilityLabel,n=t.icon,i=t.items,a=t.size,l=this.state.showFlyout;return(0,u.jsxs)(o.xu,{position:"relative",dangerouslySetInlineStyle:l?v:void 0,children:[(0,u.jsx)(o.xu,{ref:this.buttonRef,children:(0,u.jsx)(o.hU,{accessibilityLabel:r,icon:n,onClick:this.handleShowFlyout,size:null!=a?a:"md",iconColor:"gray"})}),l&&(0,u.jsx)(o.Lt,{id:"icon-button-menu",anchor:this.buttonRef.current,idealDirection:"down",onDismiss:this.handleHideFlyout,disableMobileUI:!0,children:i.map(function(t){var r=t.onClick,n=t.legend,i=t.dataTestId;return(0,u.jsx)(o.Lt.Item,{onSelect:function(){e.handleHideFlyout(),r()},option:{label:n,value:n},children:(0,u.jsx)(o.xu,{"data-test-id":i,children:(0,u.jsx)(o.xv,{weight:"bold",children:n})})},"".concat(n.toLocaleLowerCase()))})})]})}}],h(a.prototype,r),n&&h(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(s.Component);function P(e){var t=(0,i.v)().logContextEvent;return(0,u.jsx)(x,p(p({},e),{},{logContextEvent:t}))}var O=r(794843),j=r(474394),S=function(e,t){t({event_type:101,component:13308,element:12124,aux_data:{value:e}})};function w(e){var t=e.pinDraftId,r=(0,a.ZP)(),s=(0,i.v)().logContextEvent,c=(0,l.Z)(),d=c.isAuth&&c.isEmployee,f=(0,n.useDispatch)();return(0,u.jsx)(o.xu,{paddingX:3,"data-test-id":"pindraft-option-menu",children:(0,u.jsx)(P,{accessibilityLabel:r._('Options', 'Button to open options menu for this Pin', 'Button to open options menu for this Pin'),icon:"ellipsis",items:[{legend:r._('Delete', 'Button to delete Pin draft', 'Button to delete Pin draft'),dataTestId:"delete-pin-draft",onClick:function(){f((0,O.Z)({i18n:r,isEmployee:d,pinDraftId:t})),S("delete",s)}},{legend:r._('Duplicate', 'Button to duplicate Pin draft to another', 'Button to duplicate Pin draft to another'),dataTestId:"duplicate-pin-draft",onClick:function(){f((0,j.duplicatePinDraft)(t)),S("duplicate",s)}}]})})}},984268:function(e,t,r){"use strict";r.d(t,{v2:function(){return p},dV:function(){return y},ir:function(){return d},VX:function(){return u},Bc:function(){return c},jy:function(){return f},LG:function(){return h}}),r(704217);var n,o,i=r(916117),a=r(883561),l=function(e){var t=e.url;if(!t||0===t.length)return!1;var r=RegExp("itunes\\.apple\\.com\\/(?:.*\\/)?app\\/(?:.*\\/)?id([0-9]+)"),n=RegExp("play.google.com/store/apps/details");return r.test(t)||n.test(t)},s=r(566101);function c(e){if(e){if(e.carousel_data&&e.carousel_data.carousel_slots&&e.carousel_data.carousel_slots.length>1||null!==(t=e.videos)&&void 0!==t&&t.video_list||(null!==(r=e.shopping_flags)&&void 0!==r?r:[]).includes(2)||e.aggregated_pin_data&&e.aggregated_pin_data.is_shop_the_look||e.story_pin_data_id&&e.story_pin_data_id.length>0)return!1;var t,r,n=e.link?e.link.trim():"";if(!(n.length>0&&(0,s.Z)({url:n}))||n.length>0&&l({url:n}))return!1;if("pin"===e.type)return!0}return!1}function u(e){return!!(e&&c(e))&&(!!e.rich_metadata&&!!e.rich_metadata.products&&e.rich_metadata.products.length>0&&!!e.rich_metadata.products[0].offer_summary&&!!e.rich_metadata.products[0].offer_summary.price||!!e.rich_summary&&!!e.rich_summary.products&&e.rich_summary.products.length>0&&!!e.rich_summary.products[0].offer_summary&&!!e.rich_summary.products[0].offer_summary.price)}function d(e,t){if(e){var r=t.toLowerCase();if(!t||t&&t.length<=3||e.title&&e.title.toLowerCase().includes(r)||e.grid_title&&e.grid_title.toLowerCase().includes(r)||e.closeup_description&&e.closeup_description.toLowerCase().includes(r)||e.description&&e.description.toLowerCase().includes(r))return!0}return!1}var f=function(e){var t=(0,i.u)(void 0!==n?n:n=r(802333),e).data,o=t.title,l=t.gridTitle,s=t.richSummary,c=t.richMetadata,u=o||l||s&&"mobile application"!==s.typeName&&s.displayName||(null==c?void 0:c.title);return u?(0,a.ZP)(u.trim(),30):""},p=function(e){return(0,e.children)(f(e.input))},h=function(e){var t,n,a,l,s,c,u=(0,i.u)(void 0!==o?o:o=r(387399),e).data;return(null===(t=((null===(n=u.richSummary)||void 0===n?void 0:null===(a=n.products)||void 0===a?void 0:a[0])||{}).offerSummary)||void 0===t?void 0:t.price)||(null===(l=((null===(s=u.richMetadata)||void 0===s?void 0:null===(c=s.products)||void 0===c?void 0:c[0])||{}).offerSummary)||void 0===l?void 0:l.price)},y=function(e){return(0,e.children)(h(e.input))}},699109:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(265696),o=r(955625);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return(0,n.Z)().then(function(n){var i=((t[e[0]]||{}).media||{}).width,a=e.every(function(e){var r=(t[e]||{}).media;return!r||(r||{}).width===i})?i:o.IU;return Promise.all(e.map(function(e,o){var i=new n(document.createElement("div")),s=t[e]||{},c=s.canvasJson,u=s.media;if(!u)return t[e];var d=function(){i.setAspectRatio(r);var n=0===o&&u.fileSrc&&"image/png"===u.fileSrc.type?"png":"jpeg";return l(l({},t[e]),{},{canvasJson:i.toJSON(),media:u.width===(null==r?void 0:r.w)&&u.height===(null==r?void 0:r.h)&&u.width===a?u:l(l({},u),i.getCanvasOutput({width:a,format:n}))})};return c?i.loadFromJSON(c).then(d):i.setImage(u.src).then(d)}))})}},801815:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(724565);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t){var r=((t||{}).layout||{}).sections,o=((r&&1===r.length?r[0]:{})||{}).media||{},i=o.viewbox,l=o.angle,s=o.width,c=o.height,u={},d=!1;if(i){var f=Math.round(i.width*s),p=Math.round(i.height*c),h=Math.round(i.left*s-f/2),y=Math.round(i.top*c-p/2),m=l||0;u={origin_x:h,origin_y:y,width:f,height:p,rotation:m},d=h>Number.EPSILON||y>Number.EPSILON||1-i.width>Number.EPSILON||1-i.height>Number.EPSILON||0!==m;var g=e.duration?e.duration:0,b=e.trimmedStartTime?e.trimmedStartTime:0,_=e.trimmedEndTime?e.trimmedEndTime:g;return u=a(a({},u),{},{time_start:(0,n.TA)(b),time_end:(0,n.TA)(_)}),(d=d||b>Number.EPSILON||g-_>.01)?u:null}return null}},69183:function(e,t,r){"use strict";r.d(t,{B:function(){return i},v:function(){return o}});var n=r(67347);function o(e,t,r){return new Promise(function(o){var i,a=document.createElement("video"),l=function(){var e=a.seekable.length;e&&a.seekable.end(e-1)>=t&&(window.clearInterval(i),a.currentTime=t)},s=0,c=function(){i=window.setInterval(l,50)};a.addEventListener("loadedmetadata",c),a.addEventListener("seeked",function i(){a.removeEventListener("loadedmetadata",c);var l,u,d,f=r||{x:0,y:0,width:a.videoWidth,height:a.videoHeight},p=f.x,h=f.y,y=f.width,m=f.height,g=document.createElement("canvas");if(g.height=m,g.width=y,g.getContext("2d").drawImage(a,p,h,g.width,g.height,0,0,g.width,g.height),l=g.height,u=g.width,d=g.getContext("2d"),new Uint32Array(d.getImageData(0,0,u,l).data.buffer).filter(function(e){return 4294967295!==e}).length/(u*l)<.005&&s<5){s+=1,a.addEventListener("loadedmetadata",c),a.src=e.src,a.load();return}if(s>0){var b=e.duration,_=e.id,v=e.name,x=e.signature,P=e.size;(0,n.nP)("storypin.publish.thumbnail.isblank",{sampleRate:1,tags:{duration:b,id:_,name:v,signature:x,size:P,time:t,retrySeekNumber:s}})}a.removeEventListener("seeked",i),a.remove(),o(g.toDataURL("image/jpeg",1))}),a.src=e.src})}function i(e,t){return new Promise(function(r){var n=document.createElement("img");n.onload=function(){var e=t||{x:0,y:0,width:n.width,height:n.height},o=e.x,i=e.y,a=e.width,l=e.height,s=document.createElement("canvas");s.height=l,s.width=a,s.getContext("2d").drawImage(n,o,i,s.width,s.height,0,0,s.width,s.height),r(s.toDataURL("image/jpeg",1))},n.src=e})}},623320:function(e,t,r){"use strict";r.d(t,{Ch:function(){return E},Fv:function(){return b},GV:function(){return j},Ix:function(){return P},Mi:function(){return y},Yv:function(){return O},f:function(){return m},iX:function(){return _},wL:function(){return w},xc:function(){return S},zp:function(){return g}});var n=r(214494),o=r(628551),i=r(186656),a=r(840839),l=r(66699),s=r(567831),c=r(893446),u=r(471155);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,r=e.split(";"),n=r[0].split(":")[1],o=atob(r[1].split(",")[1]),i=[],a=0;a<o.length;a+=t){for(var l=o.slice(a,a+t),s=Array(l.length),c=0;c<l.length;c+=1)s[c]=l.charCodeAt(c);var u=new Uint8Array(s);i.push(u)}return new Blob(i,{type:n})}var m=function(e){var t=[e.substring(0,2),e.substring(2,4),e.substring(4,6)],r=t[0],n=t[1],o=t[2];return e?"https://i.pinimg.com/736x/".concat(r,"/").concat(n,"/").concat(o,"/").concat(e,".jpg"):""};function g(e){return new Promise(function(t){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="blob",r.onload=function(){if(200===r.status){var e=r.response,n=new FileReader;n.onloadend=function(){t("string"==typeof n.result?n.result:"")},n.readAsDataURL(e)}},r.send()})}function b(e,t){return(0,i.Z)({url:"/v3/visual_links/boards/tagged/",data:h({fields:["board.access","board.allow_homefeed_recommendations","board.category","board.collaborated_by_me","board.collaborating_users()","board.collaborator_count","board.collaborator_invites_enabled","board.created_at","board.description","board.followed_by_me","board.follower_count","board.id","board.image_cover_url","board.image_thumbnail_url","board.images[170x]","board.is_collaborative","board.layout","board.name","board.owner()","board.pin_count","board.pin_thumbnail_urls","board.privacy","board.type","board.url"],return_existing:!0},e?{orbac_subject_id:e}:Object.freeze({})),method:"PUT"}).then(function(e){if(!e.resource_response.error){var r;t({event_type:20,object_id_str:null===(r=e.resource_response.data)||void 0===r?void 0:r.id})}return e.resource_response.data})}function _(e){return v.apply(this,arguments)}function v(){var e;return e=regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.Z.create("PinResource",t).callCreate();case 3:return r=e.sent.resource_response.data,e.abrupt("return",r&&{id:r.id});case 8:throw e.prev=8,e.t0=e.catch(0),Error("Failed to create pin");case 11:case"end":return e.stop()}},e,null,[[0,8]])}),(v=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){f(i,n,o,a,l,"next",e)}function l(e){f(i,n,o,a,l,"throw",e)}a(void 0)})}).apply(this,arguments)}function x(e,t){return new Promise(function(r,n){var i=new FormData;i.append("img",e);var a=new XMLHttpRequest;a.open("POST",(0,s.Z)("/upload-image/"),!0),a.setRequestHeader("x-CSRFToken",(0,o.getCsrfToken)()),a.onload=function(){if(200===a.status){var e=JSON.parse(a.responseText);e.success?r(e):n(Error(e.error))}else 413===a.status?n(Error(t._('Oops! Something went wrong while uploading your image. Try uploading a smaller image.', 'pinBuilderResource.uploadImage.error.smallerImage', 'Error message displayed to prompt user to upload a smaller image'))):n(Error((0,l.Z)(t._('Oops! Something went wrong while uploading your image (Status code {{statusCode}})', 'pinBuilderResource.uploadImage.genericError', 'Error message displayed to user when an error has occurred with image upload'),{statusCode:a.status})))},a.send(i)})}function P(e,t){return"string"!=typeof e?x(e,t):e.startsWith("data")?x(y(e),t):g(e).then(function(e){return x(y(e),t)})}function O(e,t,r,o){return new Promise(function(i,a){n.Z.create("VIPEditResource",h({type:t,video_signature:e},r)).callCreate().then(function(e){var t=o||{},r=t.onStartEdits,n=t.onFinishEdits,l=e.resource_response.data.tracking_id,s=new Date;r&&r(l),(0,c.Z)(l,{delay:8e3,onError:function(e){return a(e)},onProcessingStarted:function(e){return i({signature:e,uploadId:l})},onSuccess:function(e){var t=(new Date-s)/1e3;n&&n(l,t,e),i({signature:e,uploadId:l})},resolvedAfterProcessingStarted:!0})}).catch(function(){a()})})}function j(e,t,r,n){return"string"!=typeof e?(0,u.Z)(e,t,!1,r,{},n):e.startsWith("data")?(0,u.Z)(y(e),t,!1,r,{},n):g(e).then(function(e){return(0,u.Z)(y(e),t,!1,r,{},n)})}function S(e,t,r,n,o){return j(e,3===n?"ads-builder-pinimage":"pinimage",{onFailureUpload:function(e){var n,o,i,l,s=e.fileSizeBytes;return o=(n={pinDraftId:t,uploadId:e.uploadId,fileSizeBytes:s}).fileSizeBytes,i=n.pinDraftId,l=n.uploadId,void(0,a.Z)(r,{event_type:8785,aux_data:{file_size_mb:o/1048576,media_upload_id:l,pin_draft_id:i}})},onFinishProcessing:function(e){var n,o,i,l,s,c,u=e.fileSizeBytes,d=e.processingTime;return o=(n={fileSizeBytes:u,imageSignature:e.signature,pinDraftId:t,uploadId:e.uploadId,uploadTimeSec:d+e.uploadTime}).fileSizeBytes,i=n.imageSignature,l=n.pinDraftId,s=n.uploadId,c=n.uploadTimeSec,void(0,a.Z)(r,{event_type:8781,aux_data:{file_size_mb:o/1048576,image_signature:i,media_upload_id:s,pin_draft_id:l,upload_time:c}})},onStartUpload:function(e){var n,o,i,l,s=e.fileSizeBytes;return o=(n={pinDraftId:t,uploadId:e.uploadId,fileSizeBytes:s}).fileSizeBytes,i=n.pinDraftId,l=n.uploadId,void(0,a.Z)(r,{event_type:8780,aux_data:{file_size_mb:o/1048576,media_upload_id:l,pin_draft_id:i}})}},o)}function w(e,t,r,o,i){return S(e,t,r,i).then(function(e){var t=e.signature;if(!t)throw Error();return{image_url:m(t),success:!0}}).then(function(e){return new Promise(function(t,r){var i=e.image_url;n.Z.create("ScheduledPinResource",h({image_url:i,method:"upload"},o?{orbac_subject_id:o}:{})).callCreate().then(function(e){t(e.resource_response.data.image_signature)}).catch(function(){r(Error("Cannot schedule the Pin."))})})}).catch(function(e){throw e})}function E(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:S,i=e.filter(function(e){return!!e.media});return Promise.all(i.map(function(e){var i,a;return o(null!==(i=null===(a=e.media)||void 0===a?void 0:a.src)&&void 0!==i?i:"",t,r,n).then(function(e){var t=e.signature,r=e.uploadId;if(!t)throw Error();return{signature:t,uploadId:r}})})).then(function(e){var t,r,n,o,a=i.findIndex(function(t,r){return!!e[r].signature}),l=(null!==(t=i.find(function(e){return!!e.description}))&&void 0!==t?t:{}).description,s=(null!==(r=i.find(function(e){return!!e.link}))&&void 0!==r?r:{}).link,c=(null!==(n=i.find(function(e){return!!e.title}))&&void 0!==n?n:{}).title;return{metadata:{description:null!=l?l:"",title:null!=c?c:"",link:null!=s?s:"",image_signature:null!==(o=e[a].signature)&&void 0!==o?o:""},slots:i.map(function(t,r){var n=t.description,o=t.title,i=t.link,a=e[r];return{title:o,description:n,link:i,image_signature:a.signature,tracking_id:a.uploadId}})}}).catch(function(e){throw e})}},346360:function(e,t,r){"use strict";r.d(t,{DY:function(){return T},J6:function(){return W},Oc:function(){return C},f5:function(){return Y},gn:function(){return A},qi:function(){return I},x:function(){return G}});var n=r(353356),o=r(214494),i=r(969759),a=r(299295),l=r(665866),s=r(886858),c=r(414327),u=r(134906),d=r(451105),f=r(502890),p=r(490072),h=r(122668),y=r(67347);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){x(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function x(e,t,r){var n;return(n=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===m(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P=function(e){return e.reduce(function(e,t){return e.concat(t)},[])};function O(e,t){var r=e.pinbuilder.pinDrafts[t];return r.pinItemIds[r.pinItemIndex]}function j(e,t){return e.pinbuilder.pinItems[O(e,t)]}function S(e,t,r){if(e){var n=Object.keys(e),o=[];return n.forEach(function(n){var i=Object.keys(e[n]),a=function(e){return(0,d.ZP)({errorId:e,i18n:t,ideaPinRenamingEnabled:r,dispatchId:n})};i.length>0&&i.forEach(function(e){var t=parseInt(e,10);switch((0,y.nP)("pinbuilder.validator.signal",{sampleRate:1,tags:{errorCode:t}}),t){case 1:o.push(a("URL_UNREACHABLE"));break;case 2:o.push(a("URL_CONTAINS_PORN_DOMAIN"));break;case 304:o.push(a("IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO"));break;case 301:o.push(a("IMAGE_UNDER_MIN_DIMENSIONS"));break;case 9:o.push(a("LINK_LOADS_SLOWLY"));break;case 10:o.push(a("LINK_IS_AGGREGATOR"));break;case 305:o.push(a("IMAGE_IS_SCREENSHOT"));break;case 306:o.push(a("IMAGE_IS_BLURRY"));break;case 4:o.push(a("URL_IS_BLOCKED"))}})}),o}return[]}function w(e,t){return function(r,n){var o=n().pinbuilder.pinItems,i={},a=o[e].signals;switch(t){case"link_url":Object.prototype.hasOwnProperty.call(a,"URL_CONTAINS_PORN_DOMAIN")&&(i.URL_CONTAINS_PORN_DOMAIN=!1),Object.prototype.hasOwnProperty.call(a,"URL_UNREACHABLE")&&(i.URL_UNREACHABLE=!1);break;case"image_signature":Object.prototype.hasOwnProperty.call(a,"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO")&&(i.IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO=!1),Object.prototype.hasOwnProperty.call(a,"IMAGE_UNDER_MIN_DIMENSIONS")&&(i.IMAGE_UNDER_MIN_DIMENSIONS=!1)}Object.keys(i).length>0&&r((0,f.nh)(e,{signals:i}))}}function E(e,t,r){return function(n,o){var i=o();return new Promise(function(n){var o=i.pinbuilder.pinDrafts[e],a=o.selectedItem;n(o.pinIsAdsOnly||a?null:(0,d.ZP)({errorId:"BOARD_MISSING",i18n:t,ideaPinRenamingEnabled:r,dispatchId:e}))})}}function A(e,t,r){return function(n,o){var i=o();return new Promise(function(n){var o=j(i,e),a=o.isTaggable,l=o.pinTagIds.filter(function(e){return"deleted"!==i.pinbuilder.pinTags[e].status});n(i.pinbuilder.pinDrafts[e].isShowcase&&l.length<1?(0,d.ZP)({errorId:"TAG_EMPTY",i18n:t,ideaPinRenamingEnabled:r,dispatchId:O(i,e)}):!a&&l.length>0?(0,d.ZP)({errorId:"TAG_INVALID",i18n:t,ideaPinRenamingEnabled:r,dispatchId:O(i,e)}):null)})}}function I(e){var t=e.i18n,r=e.ideaPinRenamingEnabled,i=e.link,s=e.pinItemId,f=e.resources,p=e.dispatch,h=e.isShowcase;return new Promise(function(e){var y=s||(0,n.Z)();if(i){if((0,u.CB)(i)){if(i.length>a.cH)e([(0,d.ZP)({errorId:"URL_IS_TOO_LONG",i18n:t,ideaPinRenamingEnabled:r,dispatchId:y})]);else if(l.Z.enabled("linkStatusValidation")){var m="PinCreationQualitySignalResource",g={pin_items:x({},y,{link_url:i})};f&&f[m]&&f[m][i]?e(S(x({},y,f[m][i]),t,r)):o.Z.create(m,g).callGet().then(function(n){var o=n.resource_response.data;!function(e,t,r){if(t){var n=r[Object.keys(r)[0]];e&&(e.PinCreationQualitySignalResource=v(v({},e.PinCreationQualitySignalResource),{},x({},t,n)))}}(f,i,o),p&&p((0,c.Sr)(m,g,n)),e(S(o,t,r))}).catch(function(){return e(null)})}else e(null)}else e([(0,d.ZP)({errorId:"URL_INVALID",i18n:t,ideaPinRenamingEnabled:r,dispatchId:y})])}else l.Z.enabled("requireLink")&&!h?e([(0,d.ZP)({errorId:"URL_MISSING",i18n:t,ideaPinRenamingEnabled:r,dispatchId:y})]):e(null)})}function C(e,t,r){return function(n,o){var i=o(),a=i.pinbuilder,l=i.resources,s=a.pinDrafts,c=a.pinItems,u=a.storyPinItems,d=s[e],f=d.pinItemIds,p=d.type,h=d.isShowcase;return f.filter(function(e){return"carousel"!==p||!!c[e].media}).map(function(e){return"story"!==p&&n(w(e,"link_url")),I({i18n:t,ideaPinRenamingEnabled:r,link:"story"===p?u[e].linkBlock&&u[e].linkBlock.srcUrl:c[e].link,pinItemId:e,resources:l,dispatch:n,isShowcase:h})})}}function T(e,t,r,n){return function(i,a){var l=a(),u=l.pinbuilder,d=l.resources,f=u.pinDrafts,p=u.pinItems,h=u.storyPinItems,y=f[e],m=y.pinItemIds,g=y.type,b="PinCreationQualitySignalResource";if("story"===g)return Promise.resolve([]);var _={pin_items:m.reduce(function(e,t){var n="story"===g,o=n?h[t]:p[t],i=o.title,a=o.description,l=o.media,s=n?h[t].linkBlock.srcUrl:p[t].link;return v(v({},e),{},x({},t,{title:i,description:a,image_signature:l&&"localImage"===l.type?l.signature:"",link_url:s,fields_to_check:[r]}))},{})},P=(0,s.Z)(_);if(!d||!d[b]||!d[b][P])return new Promise(function(e){o.Z.create(b,_).callGet().then(function(o){var a=o.resource_response.data;return m.map(function(e){return i(w(e,r))}),i((0,c.Sr)(b,_,o)),e(S(a,t,n))}).catch(function(){return e([])})});var O=d[b][P].data;return m.map(function(e){return i(w(e,r))}),Promise.resolve(S(O,t,n))}}function D(e,t,r){return function(n,o){var i=o();return new Promise(function(n){n((0,p.q7)(i,{pinDraftId:e}).filter(function(e){return null!==e.media}).length<a.fk?(0,d.ZP)({errorId:"STORY_PIN_NOT_ENOUGH_PAGES",i18n:t,ideaPinRenamingEnabled:r,dispatchId:e}):null)})}}function k(e,t,r){return function(n,o){var i=o();return new Promise(function(n){var o=(0,p.q7)(i,{pinDraftId:e}).filter(function(e){return!!e.blockIds.length});n(0===o.length?(0,d.ZP)({errorId:"STORY_PIN_NOT_ENOUGH_PAGES",i18n:t,ideaPinRenamingEnabled:r}):o.length>a.yX?(0,d.ZP)({errorId:"STORY_PIN_TOO_MANY_PAGES",i18n:t,ideaPinRenamingEnabled:r}):null)})}}function R(e,t,r){return function(n,o){var i=o();return new Promise(function(n){var o=(0,p.pq)(i,{pinDraftId:e});return n(1!==(0,h.yp)(i,{pinItemId:o[0]}).filter(function(e){return("story_pin_image_block"===e.type||"story_pin_video_block"===e.type)&&!!e.media}).length?(0,d.ZP)({errorId:"STORY_PIN_COVER_PAGE_IMAGE_MISSING",i18n:t,ideaPinRenamingEnabled:r}):null)})}}function z(e,t,r){return function(n,o){var i=o();return new Promise(function(n){return n((0,p.pc)(i,{pinDraftId:e})?null:(0,d.ZP)({errorId:"STORY_PIN_TITLE_MISSING",i18n:t,ideaPinRenamingEnabled:r}))})}}var L=[E,C,function(e,t,r){return function(n,o){var i=o();return new Promise(function(n){var o=i.pinbuilder.pinDrafts[e].type,a=j(i,e).media;n("carousel"===o?null:a?null:(0,d.ZP)({errorId:"MEDIA_MISSING",i18n:t,ideaPinRenamingEnabled:r,dispatchId:e}))})}},A,function(e,t,r){return function(n,o){var l=o();return new Promise(function(n){var o=l.pinbuilder.pinDrafts[e],s=o.publishOption,c=o.scheduledDate,u=new Date;u.setHours(0,0,0,0),"publish-immediately"!==s&&(c?c<u?n((0,d.ZP)({errorId:"DATE_IN_PAST",i18n:t,ideaPinRenamingEnabled:r,dispatchId:e})):c>(0,i.Z)(new Date,a.TZ)&&n((0,d.ZP)({errorId:"DATE_TOO_FAR_IN_FUTURE",i18n:t,ideaPinRenamingEnabled:r,dispatchId:e})):n((0,d.ZP)({errorId:"DATE_MISSING",i18n:t,ideaPinRenamingEnabled:r,dispatchId:e}))),n(null)})}},function(e,t,r){return function(n,o){var i=o();return new Promise(function(n){var o=i.pinbuilder.pinDrafts[e],a=o.publishOption,l=o.scheduledTime;n("publish-immediately"===a||l?null:(0,d.ZP)({errorId:"TIME_MISSING",i18n:t,ideaPinRenamingEnabled:r,dispatchId:e}))})}}],M=[E,C,function(e,t,r){return function(n,o){var i=o();return new Promise(function(n){var o=i.pinbuilder.pinDrafts[e].pinItemIds,a=i.pinbuilder.storyPinItems[o[0]].canvasJson;n(a&&a.aspectRatio&&9===a.aspectRatio.w&&16===a.aspectRatio.h?null:(0,d.ZP)({errorId:"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO",i18n:t,ideaPinRenamingEnabled:r,dispatchId:e}))})}},function(e,t,r){return function(n,o){var i=o();return new Promise(function(n){var o=i.pinbuilder.pinDrafts[e].pinItemIds,a=i.pinbuilder.storyPinItems[o[0]].media;n(a&&"localVideo"===a.type?(0,d.ZP)({errorId:"STORY_PIN_VIDEO_ON_COVER",i18n:t,ideaPinRenamingEnabled:r,dispatchId:e}):null)})}},function(e,t,r){return function(n,o){var i=o();return new Promise(function(n){var o=i.pinbuilder.pinDrafts[e].pinItemIds;i.pinbuilder.storyPinItems[o[0]].title||n((0,d.ZP)({errorId:"STORY_PIN_COVER_PAGE_TITLE_MISSING",i18n:t,ideaPinRenamingEnabled:r,dispatchId:e})),n(null)})}},D],N=[E,R,k,z],B=function(e,t){var r=e.pinbuilder.pinDrafts[t].pinItemIds;return(r.length?e.pinbuilder.storyPinItems[r[0]]:{}).blockIds.length?N:M},F=[E,C,D],Z=[E,R,k,z],U=function(e,t){var r=e.pinbuilder.pinDrafts[t].pinItemIds;return(r.length?e.pinbuilder.storyPinItems[r[0]]:{}).blockIds.length?Z:F},H=[function(e,t,r){return function(n,o){var i=o();return new Promise(function(n){for(var o,a=(0,p.uO)(i,{pinDraftId:e}),l=!1,s=0;s<a.length;s+=1)if(null!==(o=a[s].media)&&void 0!==o&&o.type){var c=a[s].media,u=void 0;switch(c.type){case"localImage":u=c.signatureEdited;break;case"localVideo":u=void 0===c.trimmedEndTime||void 0===c.trimmedStartTime||0===c.trimmedStartTime&&c.trimmedEndTime===c.duration?c.signature:c.signatureEdited;break;case"webImage":case"webVideo":u=c.signature}if(!u){l=!0;break}}return n(l?(0,d.ZP)({errorId:"STORY_PIN_MEDIA_SIGNATURES_MISSING",i18n:t,ideaPinRenamingEnabled:r}):null)})}},function(e,t,r){return function(n,o){var i=o();return new Promise(function(n){var o=i.pinbuilder.pinDrafts[e].pinItemIds[0];return n(i.pinbuilder.storyPinItems[o].coverImgSignature?null:(0,d.ZP)({errorId:"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING",i18n:t,ideaPinRenamingEnabled:r}))})}}],V=function(e,t){var r=e.pinbuilder.pinDrafts[t].pinItemIds;return(r.length?e.pinbuilder.storyPinItems[r[0]]:{}).blockIds.length?H:[]};function G(e,t,r){return function(n,o){var i=o();return Promise.all(P(g("story"===i.pinbuilder.pinDrafts[e].type?B(i,e):L).map(function(o){return n(o(e,t,r))}))).then(function(e){return P(e.filter(Boolean))})}}function W(e,t,r){return function(n,o){var i=o();return Promise.all(P(g("story"===i.pinbuilder.pinDrafts[e].type?U(i,e):L).map(function(o){return n(o(e,t,r))}))).then(function(e){return P(e.filter(Boolean))})}}function Y(e,t,r){return function(n,o){var i=o(),a=i.pinbuilder.pinDrafts[e];return Promise.all(P(g(i.pinbuilder.storyPinItems[a.pinItemIds[0]].blockIds.length>0?V(i,e):[]).map(function(o){return n(o(e,t,r))}))).then(function(e){return P(e.filter(Boolean))})}}},382964:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(76911),o=r(908390),i=r(319915),a=r(898781),l=r(947599),s=r(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var b=(0,n.lazy)(function(){return Promise.all([r.e(20462),r.e(30169),r.e(19790),r.e(18299)]).then(r.bind(r,382210))}),_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,e);var t,r,n,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=y(u);if(t){var n=y(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(h(e=a.call.apply(a,[this].concat(r))),"loaded",!1),m(h(e),"setRef",function(t){var r=e.props.onLoaded;!e.loaded&&r&&r(t),e.loaded=!0}),e}return r=[{key:"render",value:function(){var e=this.props,t=e.borderRadius,r=e.height,n=e.width;return(0,s.jsx)(i.Z,{name:"SafeSuspense_PinCanvasLoader_PinCanvas",children:(0,s.jsx)(l.Z,{fallback:(0,s.jsx)(o.kC,{alignItems:"center",justifyContent:"center",children:(0,s.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('Loading image editor', 'accessibility label for loading spinner', 'accessibility label for loading spinner'),show:!0})}),children:(0,s.jsx)(b,{borderRadius:t,width:n,height:r,ref:this.setRef})})})}}],f(u.prototype,r),n&&f(u,n),Object.defineProperty(u,"prototype",{writable:!1}),u}(n.Component);function v(e){var t=(0,a.ZP)();return(0,s.jsx)(_,d(d({},e),{},{i18n:t}))}},265696:function(e,t,r){"use strict";function n(){return Promise.all([r.e(20462),r.e(30169),r.e(19790)]).then(r.bind(r,237403)).then(function(e){return e.default})}r.d(t,{Z:function(){return n}})},955625:function(e,t,r){"use strict";r.d(t,{$R:function(){return k},AW:function(){return a},De:function(){return Z},Dp:function(){return T},Hv:function(){return S},IU:function(){return s},IW:function(){return w},Ir:function(){return O},J6:function(){return c},JK:function(){return B},Nv:function(){return g},QS:function(){return V},SX:function(){return R},VC:function(){return A},Vv:function(){return f},Wx:function(){return u},ZT:function(){return U},_y:function(){return i},as:function(){return F},bg:function(){return I},f5:function(){return m},fD:function(){return p},fI:function(){return C},fQ:function(){return o},g6:function(){return v},hp:function(){return M},it:function(){return h},ln:function(){return _},oH:function(){return P},pg:function(){return H},qs:function(){return d},re:function(){return x},rh:function(){return D},sT:function(){return j},uN:function(){return E},uO:function(){return G},vF:function(){return N},xZ:function(){return l},z2:function(){return y},zA:function(){return b},zU:function(){return z},zs:function(){return L}});var n=r(858472).x7,o=600,i=64,a=600,l=150,s=750,c="jpeg",u=.92,d="#efefef",f=.7,p=2,h=16,y=n,m=8,g=n,b=1,_="white",v="#efefef",x=.7,P=2,O=8,j="#ffb3be",S=1,w=16,E="#ffb3be",A=1,I="white",C=50,T=n,D=n,k=4,R="black",z=58,L="#0074e8",M=.94,N=8,B="white",F="bold 16px sans-serif",Z=.1,U={w:2,h:3},H=5,V={1:[{viewbox:{top:0,left:0,width:1,height:1},roundedCorners:{tl:!0,tr:!0,bl:!0,br:!0},internalEdges:{mt:!1,mb:!1,ml:!1,mr:!1}}],2:[{viewbox:{top:0,left:0,width:1,height:2/3},roundedCorners:{tl:!0,tr:!0,bl:!1,br:!1},internalEdges:{mt:!1,mb:!0,ml:!1,mr:!1},alignedSections:{mb:[]},againstSections:{mb:[1]}},{viewbox:{top:2/3,left:0,width:1,height:1/3},roundedCorners:{tl:!1,tr:!1,bl:!0,br:!0},internalEdges:{mt:!0,mb:!1,ml:!1,mr:!1},alignedSections:{mt:[]},againstSections:{mt:[0]}}],3:[{viewbox:{top:0,left:0,width:1,height:1/3},roundedCorners:{tl:!0,tr:!0,bl:!1,br:!1},internalEdges:{mt:!1,mb:!0,ml:!1,mr:!1},alignedSections:{mb:[]},againstSections:{mb:[1]}},{viewbox:{top:1/3,left:0,width:1,height:1/3},roundedCorners:{tl:!1,tr:!1,bl:!1,br:!1},internalEdges:{mt:!0,mb:!0,ml:!1,mr:!1},alignedSections:{mt:[],mb:[]},againstSections:{mt:[0],mb:[2]}},{viewbox:{top:2/3,left:0,width:1,height:1/3},roundedCorners:{tl:!1,tr:!1,bl:!0,br:!0},internalEdges:{mt:!0,mb:!1,ml:!1,mr:!1},alignedSections:{mt:[]},againstSections:{mt:[1]}}],4:[{viewbox:{top:0,left:0,width:.5,height:.5},roundedCorners:{tl:!0,tr:!1,bl:!1,br:!1},internalEdges:{mt:!1,mb:!0,ml:!1,mr:!0},alignedSections:{mb:[2],mr:[1]},againstSections:{mb:[1,3],mr:[2,3]}},{viewbox:{top:.5,left:0,width:.5,height:.5},roundedCorners:{tl:!1,tr:!1,bl:!0,br:!1},internalEdges:{mt:!0,mb:!1,ml:!1,mr:!0},alignedSections:{mt:[3],mr:[0]},againstSections:{mt:[0,2],mr:[2,3]}},{viewbox:{top:0,left:.5,width:.5,height:.5},roundedCorners:{tl:!1,tr:!0,bl:!1,br:!1},internalEdges:{mt:!1,mb:!0,ml:!0,mr:!1},alignedSections:{mb:[0],ml:[3]},againstSections:{mb:[1,3],ml:[0,1]}},{viewbox:{top:.5,left:.5,width:.5,height:.5},roundedCorners:{tl:!1,tr:!1,bl:!1,br:!0},internalEdges:{mt:!0,mb:!1,ml:!0,mr:!1},alignedSections:{mt:[1],ml:[2]},againstSections:{mt:[0,2],ml:[0,1]}}],5:[{viewbox:{top:0,left:0,width:.6,height:.5},roundedCorners:{tl:!0,tr:!1,bl:!1,br:!1},internalEdges:{mt:!1,mb:!0,ml:!1,mr:!0},alignedSections:{mb:[],mr:[1]},againstSections:{mb:[1],mr:[2,3,4]}},{viewbox:{top:.5,left:0,width:.6,height:.5},roundedCorners:{tl:!1,tr:!1,bl:!0,br:!1},internalEdges:{mt:!0,mb:!1,ml:!1,mr:!0},alignedSections:{mt:[],mr:[0]},againstSections:{mt:[0],mr:[2,3,4]}},{viewbox:{top:0,left:.6,width:.4,height:1/3},roundedCorners:{tl:!1,tr:!0,bl:!1,br:!1},internalEdges:{mt:!1,mb:!0,ml:!0,mr:!1},alignedSections:{mb:[],ml:[3,4]},againstSections:{mb:[3],ml:[0,1]}},{viewbox:{top:1/3,left:.6,width:.4,height:1/3},roundedCorners:{tl:!1,tr:!1,bl:!1,br:!1},internalEdges:{mt:!0,mb:!0,ml:!0,mr:!1},alignedSections:{mt:[],mb:[],ml:[2,4]},againstSections:{mt:[2],mb:[4],ml:[0,1]}},{viewbox:{top:2/3,left:.6,width:.4,height:1/3},roundedCorners:{tl:!1,tr:!1,bl:!1,br:!0},internalEdges:{mt:!0,mb:!1,ml:!0,mr:!1},alignedSections:{mt:[],ml:[2,3]},againstSections:{mt:[3],ml:[0,1]}}]},G={sm:20,md:30,lg:40}},505132:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(908390),o=r(121151),i=r(898781),a=r(780280),l=r(553751),s=r(515198);function c(e){var t=(0,i.ZP)(),r=e.onSectionCreate,c=e.onClose,u=e.selectedBoard,d=e.useLayer,f=(0,a.B)().isRTL,p=void 0===d||d?o.ZP:n.u_,h=(0,s.jsx)(n.xu,{paddingX:4,paddingY:6,position:"relative",children:(0,s.jsxs)(n.kC,{alignItems:"center",justifyContent:"center",children:[(0,s.jsx)(n.xu,{maxWidth:400,children:(0,s.jsx)(n.X6,{align:"center",size:"500",children:t._('Add section', 'Modal header for adding a section', 'Modal header for adding a section')})}),(0,s.jsx)(n.xu,{left:f,paddingX:6,paddingY:5,position:"absolute",right:!f,top:!0,children:(0,s.jsx)(n.hU,{icon:"cancel",iconColor:"darkGray",size:"lg",accessibilityLabel:t._('Close', 'CreateSection.Modal.Icon', 'Icon to close section create modal'),onClick:c})})]})});return(0,s.jsx)(p,{accessibilityModalLabel:t._('Add a section to the board', 'modal to add a section to a board', 'modal to add a section to a board'),heading:h,onDismiss:c,size:"sm",children:(0,s.jsx)(n.xu,{display:"flex",color:"default",rounding:2,children:(0,s.jsx)(l.Z,{board:u,completeCreateSectionAction:r,onClearModal:c,positionRelative:!0,showTitle:!1})})})}},239682:function(e,t,r){"use strict";function n(e,t,r){return{privacy_filter:t?"secret":"public",sort:r||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}r.d(t,{Z:function(){return n}})},59644:function(e,t){"use strict";t.Z=function(e,t){return"".concat(e,":").concat(t||"")}},240265:function(e,t,r){"use strict";r.d(t,{O:function(){return c},Q:function(){return u}});var n=r(414327),o=r(59644),i=r(956800);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var s=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],c={name:"BoardsResource",key:"boardsResource",options:function(e,t){var r=e.boardOrder,n=e.filterStories,o=e.mixPublicSecret;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({privacy_filter:"all",sort:r||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:n,username:e.username,page_size:25,group_by:o?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0},t?{orbac_subject_id:t}:Object.freeze({}))}},u=function(e){return s.reduce(function(t,r){var a=[(0,i.N8)("profileBoards",(0,o.Z)(e,r))];return[!0,!1].forEach(function(t){[!0,!1].forEach(function(o){a.push((0,n.jB)(c.name,c.options({username:e,boardOrder:r,mixPublicSecret:t,filterStories:o})))})}),t.concat(a)},[])}},254176:function(e,t,r){"use strict";r.d(t,{Br:function(){return b},Cr:function(){return T},K8:function(){return j},L1:function(){return M},Tq:function(){return P},YQ:function(){return L},YV:function(){return C},ZP:function(){return D},aX:function(){return k},eo:function(){return v},fJ:function(){return B},md:function(){return _},oG:function(){return x},oL:function(){return R},of:function(){return S},xH:function(){return O},xQ:function(){return w},xR:function(){return z},xk:function(){return A},yT:function(){return g},zS:function(){return N}});var n=r(214494),o=r(27255),i=r(186656),a=r(248327),l=r(414327),s=r(239682),c=r(240265),u=r(956800),d=r(492583);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){p(i,n,o,a,l,"next",e)}function l(e){p(i,n,o,a,l,"throw",e)}a(void 0)})}}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function b(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function _(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function v(e){return{type:"BOARD_DELETE",payload:{viewingUserId:e.viewingUserId,viewingUsername:e.viewingUsername,boardId:e.boardId,boardPinCount:e.boardPinCount}}}var x=function(e,t){return function(r){return r((0,a.U)("BoardResource",{options:{board_id:e,field_set_key:t}}))}};function P(e,t,r){return(0,a.U)("BoardResource",{options:m({board_id:e,field_set_key:t},r?{orbac_subject_id:r}:{})})}function O(e,t,r){return function(n){return(0,i.Z)({url:"/v3/boards/".concat(e,"/merge/").concat(t,"/"),method:"POST",data:r?{orbac_subject_id:r}:{}}).then(function(){return Promise.all([n(v({boardId:e})),n(P(t,"pin_count")),n((0,u.N8)(d.Z.BOARD_SECTIONS,t))])})}}function j(e){return function(t){e&&(0,c.Q)(e).forEach(function(e){t(e)})}}var S=function(e){return{type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}},w=function(e){return x(e,"pin_count")};function E(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function A(e,t){return function(r){return r(E(e)),n.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate()}}function I(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function C(e,t){return function(r){return r(I(e)),n.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete()}}var T=function(e,t){return{type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}},D=function(e){return{type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}}};function k(e,t,r){var i=m({name:e,privacy:o.Z.BoardPrivacy.PUBLIC,username:t},r?{orbac_subject_id:r}:Object.freeze({}));return function(e){return n.Z.create("BoardResource",i).callCreate().then(function(r){var n=r.resource_response.data;return e(t&&(0,l.jB)("BoardsResource",(0,s.Z)(t,!1))),n})}}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:r}}var z=function(e,t,r){var o;return o=h(regeneratorRuntime.mark(function o(i){var a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}),o.next=3,n.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete();case 3:return(a=o.sent).resource_response.error||r({event_type:29,object_id_str:e}),o.abrupt("return",a);case 6:case"end":return o.stop()}},o)})),function(e){return o.apply(this,arguments)}},L=function(e,t,r,o,i,a){var l;return l=h(regeneratorRuntime.mark(function l(s){var c,u,d;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return u="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource",s({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:null!==(c=null==o?void 0:o.id)&&void 0!==c?c:"",viewingUser:r}}),l.prev=2,l.next=5,n.Z.create(u,m({board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(d=null==o?void 0:o.id)&&void 0!==d?d:""},a?{orbac_subject_id:a}:{})).callDelete();case 5:l.sent.resource_response.error||i({event_type:"accepted"===t?25:29,object_id_str:e}),l.next=12;break;case 9:l.prev=9,l.t0=l.catch(2),s({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:r,status:t,collaboratingUsers:[o]}});case 12:case"end":return l.stop()}},l,null,[[2,9]])})),function(e){return l.apply(this,arguments)}},M=function(e,t,r,o){return function(i){var a=n.Z.create("BoardResource",{board_id:r}).callDelete();return i(v({viewingUserId:e,viewingUsername:t,boardId:r,boardPinCount:o})),a}},N=function(e,t){return function(r){return n.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then(function(n){return r((0,u.Qv)("archived-boards",[{id:e,type:"board"}])),r(E(e,t)),n})}},B=function(e,t){return function(r){return n.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then(function(n){return r((0,u.Qv)("profile-boards:".concat(t),[{id:e,type:"board"}])),r(I(e)),n})}}},956800:function(e,t,r){"use strict";function n(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function o(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}r.d(t,{EX:function(){return a},N8:function(){return o},Qv:function(){return i},_f:function(){return n},vX:function(){return l}});var i=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.freeze({});return{type:"APPEND_FEED_ITEMS",payload:{id:e,options:r,items:t}}};function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function l(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},314123:function(e,t,r){"use strict";function n(e,t){return{type:"PIN_BUILDER_REMOVE_PIN_ITEM_UPLOAD",payload:{pinDraftId:e,pinItemId:t}}}function o(e){return{type:"PIN_BUILDER_REMOVE_PIN_DRAFT_UPLOAD",payload:{pinDraftId:e}}}function i(e,t){return function(r,i){var a=i().pinbuilder.pinDraftIdUploadStatusMap[e];a&&a.items[t]&&a.items[t].xhr&&(a.items[t].xhr.abort(),r(Object.keys(a.items).length<=1?o(e):n(e,t)))}}r.d(t,{$Z:function(){return i},su:function(){return n},y2:function(){return o}})},761218:function(e,t,r){"use strict";function n(e){return{type:"PIN_BUILDER_ADD_CREATED_PIN_ID",payload:{pinId:e}}}r.d(t,{F:function(){return n}})},205474:function(e,t,r){"use strict";function n(e,t,r){return{type:"PIN_BUILDER_ADD_PIN_DRAFT",payload:{pinDraftId:e,pinDraft:t,options:r}}}r.d(t,{Z:function(){return n}})},174807:function(e,t,r){"use strict";function n(e,t,r,n){return{type:"PIN_DRAFT_ADD_PIN_ITEM",payload:{pinDraftId:e,pinItemId:t,pinItem:r,options:n}}}r.d(t,{Z:function(){return n}})},622296:function(e,t,r){"use strict";function n(e,t,r){return{type:"PIN_ITEM_ADD_PIN_TAG",payload:{pinItemId:e,pinTagId:t,pinTag:r}}}r.d(t,{Z:function(){return n}})},347619:function(e,t,r){"use strict";function n(e,t,r){return{type:"PIN_TAG_ADD_TAGGED_OBJECT",payload:{pinTagId:e,taggedObjectId:t,taggedObject:r}}}r.d(t,{Z:function(){return n}})},448994:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(353356),o=r(205474),i=r(174807),a=r(748254),l=r(690374);function s(e){var t=e.i18n,r=e.isAppend,s=e.isEmployee,c=e.pinDraft,u=e.pinDraftId,d=e.storyPinPublishStopwatch;return function(e){if(!c||!c.pinItemIds){var f=(0,n.Z)();e((c&&"story"===c.type?a.Z:i.Z)(u,f))}(null==c?void 0:c.type)==="story"&&e((0,l.Z)({i18n:t,isEmployee:s,pinDraftId:u,storyPinPublishStopwatch:d})),e((0,o.Z)(u,c,{isAppend:r}))}}},537929:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(353356),o=r(174807),i=r(448994),a=r(474394),l=r(798477),s=r(923490);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){var t=e.assets,r=e.checkExperiment,d=e.country,f=e.i18n,p=e.ideaPinRenamingEnabled,h=e.isEmployee,y=e.logContextEvent,m=e.userId,g=e.isShowcase,b=e.parentPinId,_=e.isQuizAd,v=void 0!==_&&_;return function(e,_){var x=_(),P=x.pinbuilder.pinDraftIds;t.concat().reverse().reduce(function(t,a){return t.then(function(){var t=(0,n.Z)(),l=(0,n.Z)();("localImage"===a.type||"webImage"===a.type||"localVideo"===a.type)&&(e((0,o.Z)(t,l,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({media:a},"webImage"===a.type?{link:a.sourceURL}:{}))),"localVideo"===a.type&&e((0,s.d)({pinDraftId:t,pinItemId:l,userId:m,country:d,i18n:f,logContextEvent:y,checkExperiment:r,ideaPinRenamingEnabled:p}))),e((0,i.Z)({i18n:f,isEmployee:h,pinDraft:{pinItemIds:[l],isShowcase:g,parentPinId:b,isQuizAd:v},pinDraftId:t,storyPinPublishStopwatch:void 0}))})},Promise.resolve()).then(function(){var t=P.findIndex(function(e){return!(0,a._isPristine)(x,e)});P.slice(0,t>=0?t:void 0).forEach(function(t){return e((0,l.Z)(t))})})}}},794843:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(353356),o=r(448994),i=r(798477);function a(e){var t=e.i18n,r=e.isEmployee,a=e.pinDraftId;return function(e,l){var s=l().pinbuilder.pinDraftIds;e((0,i.Z)(a)),s.length<=1&&e((0,o.Z)({i18n:t,isEmployee:r,pinDraft:void 0,pinDraftId:(0,n.Z)(),storyPinPublishStopwatch:void 0}))}}},395024:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(353356),o=r(448994),i=r(474394),a=r(798477);function l(e){var t=e.i18n,r=e.isEmployee;return function(e,l){var s=l().pinbuilder,c=s.pinDraftIds,u=s.selectedPinDraftIds;u.forEach(function(t){e((0,i.deselectPinBuilderPinDraft)(t)),e((0,a.Z)(t))}),u.length===c.length&&e((0,o.Z)({i18n:t,isEmployee:r,pinDraft:void 0,pinDraftId:(0,n.Z)(),storyPinPublishStopwatch:void 0}))}}},474394:function(e,t,r){"use strict";r.r(t),r.d(t,{_isPristine:function(){return S},addPinBuilderAsset:function(){return j},addPinBuilderPinDraftItemUpload:function(){return A},clearCreatedPinIds:function(){return D},clearPinBuilderPinDrafts:function(){return y},clearSelectedPinBuilderPinDrafts:function(){return _},deselectAllPinBuilderPinDrafts:function(){return P},deselectPinBuilderPinDraft:function(){return b},duplicatePinDraft:function(){return m},removeCreatedPinId:function(){return T},selectAllPinBuilderPinDrafts:function(){return v},selectAllPinBuilderStoryPinDrafts:function(){return x},selectPinBuilderPinDraft:function(){return g},setCloseupImageSignature:function(){return k},setPinBuilderBatchEditMode:function(){return w},setPinBuilderEntryPoint:function(){return R},setPinBuilderPinItemUploadStatus:function(){return I},setPinBuilderPinItemUploadXhr:function(){return C},setPinBuilderSharedData:function(){return O},setPinEditorPinDraft:function(){return E},setShowDisabledPinCreationBanner:function(){return L},setShowFeedbackModal:function(){return z}});var n=r(353356),o=r(299295),i=r(205474),a=r(174807),l=r(305782),s=r(748254),c=r(843030),u=r(490072),d=["publishOption","scheduledDate","scheduledTime","selectedItem"];function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(){return{type:"PIN_BUILDER_CLEAR_PIN_DRAFTS"}}function m(e){return function(t,r){var o=r().pinbuilder,l=o.pinDrafts,u=o.pinItems,d=o.storyPinItems,f=o.storyPinItemBlocks,p=l[e],y=(0,n.Z)(),m=p.pinItemIds.map(function(r){var o=(0,n.Z)();if(u[r])t((0,a.Z)(y,o,u[r]));else if(d[r]){var i=d[r],l=i.blockIds.map(function(e){return f[e]});t((0,s.Z)(y,o,h(h({},i),{},{blockIds:[]}))),l.forEach(function(r){t((0,c.Uo)(e,o,(0,n.Z)(),h({},r)))})}return o});return t((0,i.Z)(y,h(h({},p),{},{pinItemIds:m,storyPinDraftId:null}),{insertBefore:e})),y}}function g(e){return{type:"PIN_BUILDER_SELECT_PIN_DRAFT",payload:{pinDraftId:e}}}function b(e){return{type:"PIN_BUILDER_DESELECT_PIN_DRAFT",payload:{pinDraftId:e}}}function _(){return{type:"PIN_BUILDER_CLEAR_SELECTED_PIN_DRAFTS"}}function v(){return function(e,t){var r=t().pinbuilder,n=r.selectedPinDraftIds,i=r.pinDrafts;r.pinDraftIds.forEach(function(t){var r=i[t].status;n.includes(t)||o.x1.includes(r)||e(g(t))})}}function x(){return function(e,t){var r=t(),n=r.pinbuilder.selectedPinDraftIds,i=(0,u.Wp)(r);Object.keys(i).forEach(function(t){var r=i[t],a=r.status;r.storyPinDraftId&&t&&!n.includes(t)&&!o.x1.includes(a)&&e(g(t))})}}function P(){return function(e,t){t().pinbuilder.selectedPinDraftIds.forEach(function(t){e(b(t))})}}function O(e){return function(t,r){var o=r().pinbuilder.selectedPinDraftIds,i=e.publishOption,a=e.scheduledDate,s=e.scheduledTime,c=e.selectedItem,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,d);o.forEach(function(e){t((0,l.NA)(e,h(h(h(h({},null!=i?{publishOption:i}:Object.freeze({})),void 0!==c?{selectedItem:c}:Object.freeze({})),void 0!==a?{scheduledDate:a}:Object.freeze({})),void 0!==s?{scheduledTime:s}:{}))),u.editorInstanceId=(0,n.Z)(),t((0,l.to)(e,u))})}}function j(e){return{type:"PIN_BUILDER_ADD_ASSET",payload:{asset:e}}}function S(e,t){var r=e.pinbuilder,n=r.pinDrafts,o=r.pinItems,i=n[t],a=i.selectedItem,l=i.pinItemIds,s=i.publishOption;return!a&&"publish-immediately"===s&&l.every(function(e){var t=o[e],r=t.description,n=t.link,i=t.media,a=t.title;return!r&&!n&&!a&&!i})}function w(e){return{type:"PIN_BUILDER_SET_BATCH_EDIT_MODE",payload:{isBatchEditMode:e}}}function E(e){return{type:"PIN_EDITOR_SET_PIN_DRAFT",payload:{editedPinDraftId:e}}}function A(e,t,r){return{type:"PIN_BUILDER_ADD_PIN_DRAFT_ITEM_UPLOAD",payload:{pinDraftId:e,pinItemId:t,upload:r}}}function I(e,t,r){return{type:"PIN_BUILDER_SET_PIN_ITEM_UPLOAD_STATUS",payload:{pinDraftId:e,pinItemId:t,status:r}}}function C(e,t,r){return{type:"PIN_BUILDER_SET_PIN_ITEM_UPLOAD_XHR",payload:{pinDraftId:e,pinItemId:t,xhr:r}}}function T(e){return{type:"PIN_BUILDER_REMOVE_CREATED_PIN_ID",payload:{pinId:e}}}function D(){return{type:"PIN_BUILDER_CLEAR_CREATED_PIN_IDS"}}function k(e){return{type:"PIN_BUILDER_SET_CLOSEUP_IMAGE_SIGNATURE",payload:{closeupImageSignature:e}}}function R(e){return{type:"PIN_BUILDER_ENTRY_POINT",payload:{entryPoint:e}}}function z(e){return{type:"PIN_BUILDER_SHOW_FEEDBACK_MODAL",payload:{showFeedbackModal:e}}}function L(e){return{type:"PIN_BUILDER_SHOW_DISABLE_PIN_CREATION_BANNER",payload:{showDisabledPinCreationBanner:e}}}},305782:function(e,t,r){"use strict";r.d(t,{$K:function(){return J},$k:function(){return ew},BG:function(){return B},By:function(){return eA},Cj:function(){return en},DL:function(){return eO},Fu:function(){return eG},Fz:function(){return es},GX:function(){return ep},I0:function(){return K},Ig:function(){return eS},Jr:function(){return eB},KF:function(){return eH},KN:function(){return ej},KT:function(){return et},N$:function(){return eo},NA:function(){return eC},Nv:function(){return W},QZ:function(){return ee},Qc:function(){return eu},R6:function(){return ei},RR:function(){return q},Si:function(){return eF},TD:function(){return V},Ug:function(){return e_},Ve:function(){return Q},WE:function(){return eM},WT:function(){return eL},Wo:function(){return ea},XB:function(){return ed},YN:function(){return eb},YY:function(){return eg},Yr:function(){return $},_B:function(){return er},_e:function(){return eT},c8:function(){return F},c_:function(){return ex},cr:function(){return ev},dI:function(){return ec},dj:function(){return em},e5:function(){return Z},ej:function(){return el},f9:function(){return ey},hb:function(){return eP},iX:function(){return eZ},kp:function(){return eI},lT:function(){return G},m_:function(){return eV},n6:function(){return H},p3:function(){return U},q0:function(){return eE},qF:function(){return ef},rS:function(){return Y},th:function(){return eU},to:function(){return ek},u9:function(){return eD},vS:function(){return ez},xb:function(){return X},z0:function(){return eN}});var n=r(353356),o=r(214494),i=r(299295),a=r(665866),l=r(573545),s=r(840839),c=r(414327),u=r(451105),d=r(801815),f=r(69183),p=r(623320),h=r(254176),y=r(956800),m=r(314123),g=r(761218),b=r(205474),_=r(174807),v=r(502890),x=r(798477),P=r(458253),O=r(827628),j=r(923490),S=r(31100),w=r(472278),E=r(90326),A=r(492583);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||D(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==I(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===I(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function L(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function M(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){L(i,n,o,a,l,"next",e)}function l(e){L(i,n,o,a,l,"throw",e)}a(void 0)})}}function N(e,t,r,n){return(0,u.ZP)({errorId:e,i18n:t,ideaPinRenamingEnabled:n,dispatchId:r})}function B(){return{type:"PIN_DRAFT_CLEAR_STATE"}}function F(e,t){return{type:"PIN_DRAFT_SET_VIEW",payload:{pinDraftId:e,view:t}}}function Z(e,t){return{type:"PIN_DRAFT_SET_CREATE_METHOD",payload:{pinDraftId:e,createMethod:t}}}function U(e,t){return{type:"PIN_DRAFT_SET_STATUS",payload:{pinDraftId:e,status:t}}}function H(e,t){return{type:"PIN_DRAFT_SET_PUBLISHING_STATUS",payload:{pinDraftId:e,publishingStatus:t}}}function V(e,t){return{type:"PIN_DRAFT_SET_IS_AD_INELIGIBLE",payload:{pinDraftId:e,isAdIneligible:t}}}function G(e,t,r){return{type:"PIN_DRAFT_SET_API_ERROR",payload:{pinDraftId:e,apiError:t,apiErrorCode:r}}}function W(e,t){return{type:"PIN_DRAFT_SET_SELECTED_ITEM",payload:{pinDraftId:e,selectedItem:t}}}function Y(e,t){return{type:"PIN_DRAFT_SET_ADS_ONLY_STATUS",payload:{pinDraftId:e,pinIsAdsOnly:t}}}function X(e,t){return{type:"PIN_DRAFT_SET_BOARD_ERROR",payload:{pinDraftId:e,boardError:t}}}function q(e,t){return{type:"PIN_DRAFT_SET_PUBLISH_OPTION",payload:{pinDraftId:e,publishOption:t}}}function K(e,t){return{type:"PIN_DRAFT_SET_SCHEDULED_DATE",payload:{pinDraftId:e,scheduledDate:t}}}function $(e,t){return{type:"PIN_DRAFT_SET_SCHEDULED_DATE_ERROR",payload:{pinDraftId:e,scheduledDateError:t}}}function J(e,t){return{type:"PIN_DRAFT_SET_SCHEDULED_TIME",payload:{pinDraftId:e,scheduledTime:t}}}function Q(e,t){return{type:"PIN_DRAFT_SET_SCHEDULED_TIME_ERROR",payload:{pinDraftId:e,scheduledTimeError:t}}}function ee(e,t){return{type:"PIN_DRAFT_SET_LAST_EDITED_TIME",payload:{pinDraftId:e,lastEditedTime:t}}}function et(e,t){return{type:"PIN_DRAFT_SET_LAST_SAVED_TIME",payload:{pinDraftId:e,lastSavedTime:t}}}function er(e,t){return{type:"PIN_DRAFT_SET_MEDIA_ERROR",payload:{pinDraftId:e,mediaError:t}}}function en(e,t){return{type:"PIN_DRAFT_SET_PIN_ITEM_INDEX",payload:{pinDraftId:e,pinItemIndex:t}}}function eo(e,t){return{type:"PIN_DRAFT_SET_PIN_ID",payload:{pinDraftId:e,pinId:t}}}function ei(e,t){return{type:"PIN_DRAFT_SET_SCHEDULED_PIN",payload:{pinDraftId:e,scheduledPin:t}}}function ea(e,t){return{type:"PIN_DRAFT_SET_STORY_PIN",payload:{pinDraftId:e,storyPin:t}}}function el(e,t){return{type:"PIN_DRAFT_SET_STORY_PIN_DRAFT_ID",payload:{pinDraftId:e,storyPinDraftId:t}}}function es(e,t){return{type:"PIN_DRAFT_UPDATE_STORY_PIN_METADATA",payload:{pinDraftId:e,storyPinMetadata:t}}}function ec(e,t){return{type:"PIN_DRAFT_SET_IS_COMMENTS_ALLOWED",payload:{pinDraftId:e,isCommentsAllowed:t}}}function eu(e,t){return{type:"PIN_DRAFT_SET_IS_SHOPPING_REC_ALLOWED",payload:{pinDraftId:e,isShoppingRecAllowed:t}}}function ed(e,t){return{type:"PIN_DRAFT_SET_PIN_ITEM_IDS",payload:{pinDraftId:e,pinItemIds:t}}}function ef(e,t){return{type:"PIN_DRAFT_SET_STORY_PIN_SELECTED_PIN_ITEM_IDS",payload:{pinDraftId:e,pinItemIds:t}}}function ep(e){return{type:"PIN_DRAFT_RESET_STORY_PIN_SELECTED_PIN_ITEM_IDS",payload:{pinDraftId:e}}}function eh(e,t){return{type:"PIN_DRAFT_SET_URL_CREATION_SOURCE",payload:{pinDraftId:e,urlCreationSource:t}}}function ey(e,t,r,n){return{type:"PIN_DRAFT_SET_WEBSITE_LINK",payload:{pinDraftId:e,websiteLink:t,websiteDefaultImageUrl:n,error:r}}}function em(e,t){return{type:"PIN_DRAFT_ADD_WEBSITE_MEDIA",payload:{pinDraftId:e,media:t}}}function eg(e,t){return{type:"PIN_DRAFT_REMOVE_WEBSITE_MEDIA",payload:{pinDraftId:e,mediaUrl:t}}}function eb(e,t){return{type:"PIN_DRAFT_ADD_INTEREST_TAG",payload:{pinDraftId:e,tag:t}}}function e_(e,t){return{type:"PIN_DRAFT_REMOVE_INTEREST_TAG",payload:{pinDraftId:e,id:t}}}function ev(e,t){return{type:"PIN_DRAFT_SET_INTEREST_TAGS",payload:{pinDraftId:e,tags:t}}}function ex(e){return{type:"PIN_DRAFT_CLEAR_INTEREST_TAGS",payload:{pinDraftId:e}}}function eP(e){return{type:"PIN_DRAFT_CLEAR_WEBSITE_MEDIA",payload:{pinDraftId:e}}}function eO(e,t){return{type:"PIN_DRAFT_SET_ALT_TEXT",payload:{pinDraftId:e,altText:t}}}function ej(e,t){return{type:"PIN_DRAFT_SET_ALT_TEXT_ERROR",payload:{pinDraftId:e,altTextError:t}}}function eS(e,t){return{type:"PIN_DRAFT_SET_SHOWCASE_BANNER_ERROR",payload:{pinDraftId:e,showcaseBannerError:t}}}function ew(e,t){return{type:"PIN_DRAFT_SET_CREATIVE_STUDIO_PIN_DATA",payload:{pinDraftId:e,creativeStudioPinParams:t}}}function eE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"upload",r=arguments.length>2?arguments[2]:void 0;return function(o,i){var l=i().pinbuilder.pinDrafts[e],s=l.pinItemIds,c=l.pinItemIndex,u=l.websiteLink,d=l.websiteMedia;if(d.length>0){var f=s[c];o((0,v.mO)(f,d[0])),o((0,v.PF)(f,"webImage"===d[0].type&&d[0].sourceURL?d[0].sourceURL:u)),o((0,v.lZ)(f,null)),o(eh(e,r))}d.length>1&&(a.Z.enabled("multi_pin")||a.Z.enabled("multi_pin_pinner")?d.slice(1).forEach(function(e){var t=(0,n.Z)();o((0,b.Z)(t));var i=(0,n.Z)();o((0,_.Z)(t,i,{media:e,link:"webImage"===e.type?e.sourceURL:u})),o(eh(t,r))}):d.slice(1).forEach(function(t){var i=(0,n.Z)();o((0,_.Z)(e,i,{media:t,link:u})),o(eh(i,r))})),o(eP(e)),o(ey(e,"")),o(F(e,t))}}function eA(e){return function(t,r){var n=r().pinbuilder.pinDrafts[e],o=n.pinItemIds,i=n.pinItemIndex,a=n.websiteLink,l=n.websiteMedia,s=[];if(l.length>0){var c=o[i];t((0,v.mO)(c,l[0])),t((0,v.PF)(c,"webImage"===l[0].type&&l[0].sourceURL?l[0].sourceURL:a)),t((0,v.lZ)(c,null)),l.forEach(function(e){s.push(e)})}return t(F(e,"board")),s}}function eI(e,t){return function(r,o){var i=o().pinbuilder,a=i.pinDrafts,l=i.pinItems,s=i.storyPinItems,c=a[e],u=c.pinItemIds,d=c.type,f=u.indexOf(t),p=u.length-1,h="story"===d?w.hC:v.mO;if(f===p){var y=("story"===d?s[t]:l[t]).media;y&&"webImage"===y.type&&r((0,v.PF)(t,"")),y&&"localVideo"===y.type&&r((0,m.$Z)(e,t)),r(h(t,null))}else r({type:"PIN_DRAFT_REMOVE_PIN_ITEM",payload:{pinDraftId:e,pinItemId:t}}),"carousel"===d&&l[u[p]].media&&r((0,_.Z)(e,(0,n.Z)(),null,{saveIndex:!0}))}}function eC(e,t){return{type:"PIN_DRAFT_UPDATE_DATA",payload:{pinDraftId:e,pinDraft:t}}}function eT(e,t){return{type:"PIN_DRAFT_SET_UPLOAD_START_TIME",payload:{pinDraftId:e,uploadStartTime:t}}}function eD(e,t){return function(r,n){var o=n(),i=o.pinbuilder.pinDrafts[e],a=i.pinItemIds,l=i.pinItemIndex;if(r({type:"PIN_DRAFT_SET_PIN_ITEM_SHAREABLE",payload:{pinDraftId:e,pinItemShareable:t}}),t){var s=a[l],c=o.pinbuilder.pinItems[s],u=c.description,d=c.descriptionError,f=c.link,p=c.linkError,h=c.title,y=c.titleError;a.forEach(function(e){return r((0,v.nh)(e,{description:u,descriptionError:d,link:f,linkError:p,title:h,titleError:y}))})}}}function ek(e,t){return function(r,n){var o=n().pinbuilder.pinDrafts[e],i=o.pinItemIds,a=o.pinItemIndex;(o.pinItemShareable?i:[i[a]]).forEach(function(e){return r((0,v.nh)(e,t))})}}function eR(e,t){var r=t?(0,d.Z)(e,t):null;if(e.customCoverImg){if(r){var n=r.origin_x,o=r.origin_y,i=r.width,a=void 0===i?e.width:i,l=r.height,s=void 0===l?e.height:l;return(0,f.B)(e.customCoverImg.src,{x:void 0===n?0:n,y:void 0===o?0:o,width:a,height:s})}return Promise.resolve(e.customCoverImg.src)}if(!r)return(0,f.v)(e,e.thumbnail,null);var c=r.origin_x,u=r.origin_y,p=r.width,h=void 0===p?e.width:p,y=r.height,m=void 0===y?e.height:y,g=e.trimmedStartTime,b=e.trimmedEndTime,_=e.duration,v=e.thumbnail,x=g||0,P=v>=x&&v<=(b||_)?v:x;return(0,f.v)(e,P,{x:void 0===c?0:c,y:void 0===u?0:u,width:h,height:m})}function ez(e,t,r){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return n=M(regeneratorRuntime.mark(function n(a,l){var s,c,u,d,f;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!((s=l().pinbuilder.pinDrafts[t].interestTags.map(function(e){return e.id})).length>0)){n.next=18;break}return c={pinId:r,interestIds:s,zenSource:i},n.prev=7,n.next=10,o.Z.create("InterestTaggingResource",c).callCreate();case 10:e({event_type:8521,aux_data:{pin_id:r,story_pin_creation_id:t}}),n.next=18;break;case 13:throw n.prev=13,n.t0=n.catch(7),d=(u=n.t0||{}).api_error_code,f=u.message,e({event_type:8522,aux_data:{error_message:u.message_detail||f,pin_id:r,status_code:d,story_pin_creation_id:t}}),Error("Cannot add tags to the Pin.");case 18:case"end":return n.stop()}},n,null,[[7,13]])})),function(e,t){return n.apply(this,arguments)}}function eL(e,t){return function(r,n){var o=n().pinbuilder.pinDrafts;r(ee(e,new Date)),(t||!i.qm.includes(o[e].status))&&r(U(e,"edited"))}}function eM(e,t,r,n,o,i,a){return new Promise(function(r,n){var l,s,c=t.pinbuilder,u=c.pinDrafts,d=c.pinItems,f=c.storyPinItems,h=c.storyPinItemBlocks,y=u[e],m=y.pinItemIds,g=y.type,b=m[0];if(!(l="story"===g?null===(s=f[b].blockIds.map(function(e){return h[e]}).filter(function(e){var t;return["localImage","localVideo"].includes(null===(t=e.media)||void 0===t?void 0:t.type)})[0])||void 0===s?void 0:s.media:d[b].media))throw Error("Invalid media");if("localImage"===l.type)(0,p.wL)(l.src,e,o,i,a).then(function(e){r({image_signature:e})}).catch(function(){n(Error("Cannot schedule the Pin."))});else if("localVideo"===l.type){var _=l.uploadId;eR(l,null).then(function(t){return(0,p.wL)(t,e,o,i,a)}).then(function(e){return r({image_signature:e,media_upload_id:_})}).catch(function(){n(Error("Cannot schedule the Pin"))})}else throw Error("Cannot upload this media type.")})}function eN(e,t,r){return function(n,o){var i=o().pinbuilder.pinDrafts[e].selectedItem,a=t.board,l=a&&a.id||i&&i.boardId;n(eo(e,t.id)),n((0,h.Br)({boardId:l,sectionId:t.section?t.section.id:null,increment:1})),n((0,y.vX)({feedId:t.section?t.section.id:l,feedType:t.section?A.Z.BOARD_SECTION_PINS:A.Z.BOARDFEED,itemIds:[t.id],itemType:"pin"})),n((0,y.vX)({feedId:r,feedType:A.Z.STORY_PINS_FEED,itemIds:[t.id],itemType:"pin",prepend:!0})),n((0,E.JS)({userId:r,increment:1}))}}function eB(e){return function(t,r){var n=r().pinbuilder.pinDraftIdUploadStatusMap;return!!n&&!!n[e]&&"uploading"===n[e].status}}function eF(e,t,r,n){var o;return o=M(regeneratorRuntime.mark(function o(i){var a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return a=!0,o.prev=1,o.next=4,i((0,O.Z)({pinDraftId:e,validationKey:"save",i18n:t,ideaPinRenamingEnabled:n,logContextEvent:r}));case 4:o.next=9;break;case 6:o.prev=6,o.t0=o.catch(1),a=!1;case 9:return o.abrupt("return",{pinDraftId:e,isValid:a});case 10:case"end":return o.stop()}},o,null,[[1,6]])})),function(e){return o.apply(this,arguments)}}function eZ(e){var t=e.pinDraftId,r=e.userId,n=e.orbacSubjectId,u=e.country,d=e.isPartner,f=e.i18n,m=e.ideaPinRenamingEnabled,b=e.logContextEvent,_=e.checkExperiment,j=e.siteType;return function(e,w){var I,D,k,R,L,B,F,Z,V,W,Y,X,q,K,$,J,Q,ee,et,en=w().pinbuilder.pinDrafts[t],ea=en.scheduledDate,el=en.scheduledTime;e(ea&&el?(D=(I={pinDraftId:t,userId:r,i18n:f,ideaPinRenamingEnabled:m,logContextEvent:b,orbacSubjectId:n,siteType:j}).pinDraftId,k=I.userId,R=I.i18n,L=I.logContextEvent,B=I.orbacSubjectId,F=I.siteType,Z=I.ideaPinRenamingEnabled,function(e,t){var r=t(),n=r.pinbuilder,l=n.pinDrafts,s=n.pinItems;e(U(D,"publishing"));var c=l[D],u=c.altText,d=c.pinItemIds,f=c.pinItemIndex,p=c.scheduledDate,h=c.scheduledTime,y=c.selectedItem,m=s[d[f]],g=m.description,b=m.link,_=m.media,v=m.title;return e((0,O.Z)({pinDraftId:D,validationKey:"save",i18n:R,ideaPinRenamingEnabled:Z,logContextEvent:L})).then(function(){if(e(eB(D)))return a.Z.enabled("multi_pin")||a.Z.enabled("multi_pin_pinner")?(e((0,P.g)(D,"queueCreate")),e(U(D,"uploading"))):e((0,x.Z)(D)),null;if(!p||!h)throw Error("Cannot schedule a Pin without a scheduled date or time.");var t=new Date(p.getFullYear(),p.getMonth(),p.getDate(),h.getHours(),h.getMinutes(),h.getSeconds()).getTime()/1e3;return Promise.all([eM(D,r,e,R,L,B,F),t]).then(function(e){var t=C(e,2),r=t[0],n=t[1];if(!y)throw Error("Cannot schedule a Pin without a board.");var a=v.substring(0,i.Ke),l=g.substring(0,i.JO),s=r.image_signature,c=r.media_upload_id,d=z(z(z({board:y.boardId,description:l,image_signature:s,link:b,media_upload_id:c,scheduled_timestamp:n,title:a},u?{alt_text:u}:Object.freeze({})),y.sectionId?{section:y.sectionId}:{}),B?{orbac_subject_id:B}:{});return o.Z.create("ScheduledPinResource",d).callCreate()}).then(function(t){if(!_)throw Error("Cannot schedule a Pin without an image.");var r=t.resource_response.data;e(ei(D,z(z({},r),{},{localMedia:_.src}))),e((0,S.Tn)(r)),e((0,E.h6)({userId:B||k,increment:1})),e(U(D,"succeeded"))})}).catch(function(){throw e(U(D,"attempted")),Error("Cannot schedule the Pin.")})}):((V={checkExperiment:_,country:u,i18n:f,ideaPinRenamingEnabled:m,isPartner:d,logContextEvent:b,orbacSubjectId:n,pinDraftId:t,siteType:j,userId:r}).checkExperiment,W=V.country,Y=V.i18n,X=V.ideaPinRenamingEnabled,q=V.isPartner,K=V.logContextEvent,$=V.orbacSubjectId,J=V.pinDraftId,Q=V.siteType,ee=V.userId,et=M(regeneratorRuntime.mark(function e(t,r){var n,u,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"uploading"!==(n=r()).pinbuilder.pinDrafts[J].status&&t(U(J,"publishing")),e.prev=5,e.next=8,t((0,O.Z)({pinDraftId:J,validationKey:"save",i18n:Y,ideaPinRenamingEnabled:X,logContextEvent:K}));case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(5),t(U(J,"created")),t(H(J,"clientError")),e.abrupt("return");case 15:if(t(H(J,"publishing")),!t(eB(J))){e.next=20;break}return t((0,P.g)(J,"queueCreate")),a.Z.enabled("multi_pin")||a.Z.enabled("multi_pin_pinner")?t(U(J,"uploading")):t((0,x.Z)(J)),e.abrupt("return");case 20:return e.prev=20,e.next=23,function(e,t,r,n,o,a,s,c,u,d){var f=t.advertiser,h=t.pinbuilder,y=h.pinDrafts,m=h.pinItems,g=y[e],b=g.altText,_=g.pinIsAdsOnly,v=g.pinItemIds,x=g.pinItemIndex,P=g.selectedItem,O=g.type;if(!_&&!P)throw Error(s._('Cannot create a Pin without a board.', 'pinBuilder.error.noBoard', 'Error message about user trying to create a Pin without a board'));if(!O)throw Error("PinBuilder Exception: Undefined PinDraft type");var j=o&&f&&(f.owner_user_id!==o||f.client_business_id)?f.id:null,S=z(z(z(z(z(z({field_set_key:"create_success",skip_pin_create_log:!0},b?{alt_text:b}:Object.freeze({})),P&&P.sectionId?{section:P.sectionId}:Object.freeze({})),P&&P.boardId?{board_id:P.boardId}:Object.freeze({})),j?{advertiser_id:j}:Object.freeze({})),n?{orbac_subject_id:n}:Object.freeze({})),_?{is_removable:!0,create_default_board:!0}:Object.freeze({}));return new Promise(function(t,o){if("carousel"===O)(0,p.Ch)(v.map(function(e){return m[e]}),e,c,d).then(function(e){t(z(z(z({},S),e.metadata),{},{carousel_data_json:{carousel_slots:e.slots}}))}).catch(function(e){o(e)});else if("single"===O){var u=m[v[x]],f=u.description,h=u.link,g=u.media,b=u.canvasJson,_=u.title,P=u.userMentionTags,j=y[e].creativeStudioPinParams;if(!g)throw Error(s._('Cannot create a Pin without an image or video.', 'pinBuilder.error.noMedia', 'Error message about user trying to create a Pin without an image or video'));var w=_.substring(0,i.Ke),E=f.substring(0,i.JO);if("localImage"===g.type)(0,p.xc)(g.src,e,c,d,n).then(function(e){var r=e.signature;r?t(z(z({},S),{},{image_signature:r,description:E,link:h,title:w,method:"uploaded",upload_metric:{source:(0,l.Z)(a)},user_mention_tags:P},j&&r===j.imageSignature?{creative_studio_pin_params:{creative_studio_prompt_id:j.promptId,creative_studio_parent_pin_id:j.parentPinId,is_product_repin:j.isParentPinProductPin&&h===j.parentPinLink}}:Object.freeze({}))):o()}).catch(function(){r(er(e,s._('Hmm, your upload failed for some reason. Please try again.', 'pinBuilder.mediaUpload.error', 'Error message uploading a video file and process fails'))),o(Error(s._('Cannot create Pin because the image could not be uploaded.', 'pinBuilder.error.noImageUploaded', 'Error message about user trying to create a Pin without an image uploaded')))});else if("webImage"===g.type){var A=y[e].createMethod;t(z(z({},S),{},{description:E,link:h,title:w,image_url:g.src,method:A||"scraped",scrape_metric:{source:"www_url_scrape"},user_mention_tags:P}))}else if("localVideo"===g.type)eR(g,b).then(function(t){return(0,p.xc)(t,e,c,d)}).then(function(e){var r=e.signature;if(r)t(z(z({},S),{},{image_signature:r,description:E,link:h,title:w,media_upload_id:g.uploadId,user_mention_tags:P}));else throw Error()}).catch(function(){r(er(e,s._('Hmm, your upload failed for some reason. Please try again.', 'Error message uploading a video file and process fails', 'Error message uploading a video file and process fails'))),o(Error(s._('Cannot create Pin because the video could not be uploaded.', 'pinBuilder.error.noVideoUploaded', 'Error message about user trying to create a Pin without an video uploaded')))});else throw Error(s._('Cannot create Pin because the media type is not recognized.', 'pinBuilder.error.noMediaRecognized', 'Error message about user trying to create a Pin without a recognized media type'))}})}(J,n,t,$,ee,q,Y,K,0,Q);case 23:return u=e.sent,e.next=26,o.Z.create("PinResource",u).callCreate();case 26:return f=(d=e.sent).resource_response.data,t((0,c.Sr)("PinResource",u,d)),a.Z.enabled("videoTagging")&&t(ez(K,J,f.id)),e.next=32,t(function(e,t,r,n,o,i,l){return function(c,u){var d,f=u().pinbuilder.pinDrafts;c((d=t.id,function(t,n){var o=n().pinbuilder,i=o.pinDrafts,l=o.pinDraftIds,c=o.pinItems,u=o.storyPinItems,f=i[e],p=f.pinItemIds,h=f.type,y=f.interestTags,m=f.urlCreationSource,g=p[0],b="story"===h,_=b?u[g]:c[g],v=_.title,x=_.description,P=_.media,O=b?[]:c[g].userMentionTags,j=b?u[g].linkBlock&&u[g].linkBlock.srcUrl:c[g].link,S=P&&"localVideo"===P.type?"video":"image",w="single"===h?S:h,E=p.reduce(function(e,t){var r=b?u[t]:c[t],n=r.canvasJson,o=r.signals,i=Object.keys(o).map(function(e){return{signal:e,value:o[e]}});return{canvasJsons:[].concat(T(e.canvasJsons),[n]),signals:[].concat(T(e.signals),T(i))}},{canvasJsons:[],signals:[]}),A=E.canvasJsons,I=E.signals,C={signals:I,is_multi_pin_create:l.length>1,num_images:!!A&&Math.max.apply(Math,T(A.map(function(e){return e&&e.layout?e.layout.sections.length:1})))||1,text:A.reduce(function(e,t){return t&&t.text&&e.push({font_family:t.text.fontFamily,position:t.text.position,font_size:t.text.fontSize,margin:t.text.margin,bg_color:t.text.backgroundColor,bg_opacity:t.text.backgroundOpacity,text_color:t.text.textColor}),e},[]),logo:A.reduce(function(e,t){return t&&t.logo&&e.push({position:t.logo.position,margin:t.logo.margin,size:t.logo.size,bg_color:t.logo.backgroundColor,bg_opacity:t.logo.backgroundOpacity}),e},[])};P&&"localVideo"===P.type&&a.Z.enabled("videoTagging")&&(C.interest_tags=y.length);var D=z(z({pin_draft_id:e,has_description:!!x,has_link:!!j,has_title:!!v,is_video:"video"===w,media_upload_id:P&&"localVideo"===P.type?P.uploadId:void 0,pin_builder_data:JSON.stringify(C),pin_format:w,num_user_mention_tags:O.length,signals:JSON.stringify(I)},"image"===w||"carousel"===w||"video"===w&&a.Z.enabled("videoEditing")?{has_logo:A.some(function(e){return!!e&&!!e.logo}),has_text:A.some(function(e){return!!e&&!!e.text}),is_cropped:A.some(function(e){if(!e||!e.layout)return!1;var t=e.layout.sections.map(function(e){return e.media});return t.length>1||1===t.length&&!!t[0]&&(0!==t[0].angle||t[0].flipX||t[0].flipY||t[0].viewbox&&(1!==t[0].viewbox.width||1!==t[0].viewbox.height))}),is_trimmed:P&&"localVideo"===P.type?!!P.trimmedStartTime&&!!P.trimmedEndTime&&!!P.duration&&(P.trimmedStartTime>0||P.duration-P.trimmedEndTime>.01):void 0}:Object.freeze({})),{},{pin_builder_scenario:a.Z.scenario()},m?{url_creation_source:m}:Object.freeze({}));if((0,s.Z)(r,{event_type:1,object_id_str:d,aux_data:z({},D)}),P&&"localVideo"===P.type){if(P.customCoverImg)(0,s.Z)(r,{event_type:7896,object_id_str:d});else{var k=(100*P.thumbnail/P.duration).toFixed(2);(0,s.Z)(r,{event_type:7517,object_id_str:d,aux_data:{percentage_scrubbed:k}})}}}));var p=f[e],m=p.pinItemIds,g=p.pinItemIndex,b=p.selectedItem,_=m[g],x=t.board&&t.board.id||b&&b.boardId;return c((0,v.f5)(_,t.id,n&&n.advertiser_id,o,r,l)).then(function(){c(eo(e,t.id)),c((0,h.Br)({boardId:x,sectionId:t.section?t.section.id:null,increment:1})),c((0,y.vX)({feedId:t.section?t.section.id:x,feedType:t.section?A.Z.BOARD_SECTION_PINS:A.Z.BOARDFEED,itemIds:[t.id],itemType:"pin"})),c((0,E.JS)({userId:i,increment:1}))})}}(J,f,K,u,W,ee,$));case 32:t(U(J,"succeeded")),t(H(J,"succeeded")),t((0,g.F)(f.id)),e.next=42;break;case 37:e.prev=37,e.t1=e.catch(20),t(function(e,t,r,n,o){return function(i,a){var l=a();if(t&&(t.message||t.message_detail)){var s=t.message_detail||t.message,c=l.pinbuilder.pinDrafts[e],u=c.pinItemIds[c.pinItemIndex],d=[];switch(t.api_error_code){case 9:switch((t.data||{}).source_field){case"description":d.push(z(z({},N("DESCRIPTION_INVALID",r,u,o)),{},{message:s}));break;case"title":d.push(z(z({},N("TITLE_INVALID",r,u,o)),{},{message:s}));break;default:d.push(z(z({},N("URL_INVALID",r,u,o)),{},{message:s}))}break;case 2378:d.push(z(z({},N("CAROUSEL_DIFFERENT_RATIOS",r,e,o)),{},{dispatchId:e,message:s}));break;default:i(G(e,s,t.api_error_code))}d.length>0&&i((0,O.d)(d,n))}}}(J,e.t1,Y,K,X)),t(U(J,"attempted")),t(H(J,"serverError"));case 42:case"end":return e.stop()}},e,null,[[5,10],[20,37]])})),function(e,t){return et.apply(this,arguments)}))}}function eU(e){var t=e.pinDraftId,r=e.i18n,n=e.logContextEvent,o=e.siteType,i=e.ideaPinRenamingEnabled;return function(e,a){var l=a().pinbuilder,s=l.pinDrafts,c=l.pinItems,u=l.storyPinItems,d=s[t],f=d.pinItemIds,h=d.pinItemIndex,y=d.type;if("single"===y||"story"===y){var m=f[h],g=("story"===y?u[m]:c[m]).media;if(g&&!g.signature){var b=g.src;(0,p.GV)(b,3===o?"ads-builder-pinimage":"pinimage").then(function(o){var a=o.signature;e((0,v.Sz)(m,{signature:a})),e((0,O.Z)({pinDraftId:t,validationKey:"signal",i18n:r,ideaPinRenamingEnabled:i,logContextEvent:n,options:{fieldToCheck:"image_signature"}})).catch(function(){})})}}}}function eH(e){var t=e.pinDraftId,r=e.selectedId,n=e.cachedItems,o=e.editedMedia,i=e.canvasJson,a=e.userId,l=e.country,s=e.i18n,c=e.logContextEvent,u=e.siteType,d=e.ideaPinRenamingEnabled;return function(e,f){var p=f().pinbuilder.pinDrafts[t],h=p.pinItemIds,y=p.type;h.forEach(function(t){var a=n[t]||{},l=a.canvasJson,s=a.media,c=r===t?o:s,u=r===t?i:l,d="story"===y?w.WZ:v.k8;u&&c&&e(d(t,c,u))});var m=n[r].media;"single"===y&&m&&"localVideo"===m.type?e((0,j.q)({pinDraftId:t,userId:a,country:l,i18n:s,ideaPinRenamingEnabled:d,logContextEvent:c})):e(eU({pinDraftId:t,i18n:s,logContextEvent:c,siteType:u,ideaPinRenamingEnabled:d}))}}function eV(e){var t=e.pinDraftId,r=e.userId,o=e.country,i=e.isPartner,a=e.i18n,l=e.logContextEvent,s=e.orbacSubjectId,c=e.checkExperiment,u=e.siteType,d=e.ideaPinRenamingEnabled;return function(e,f){var p=f().pinbuilder.pinDrafts[t],h=p.pinItemIds,y=p.pinItemIndex,m=p.websiteLink,g=p.websiteMedia,b=p.selectedItem,x=p.createMethod,P="webImage"===g[0].type&&g[0].sourceURL?g[0].sourceURL:m,O=h[y];e((0,v.mO)(O,g[0])),e((0,v.PF)(O,P)),e(eZ({pinDraftId:t,userId:r,orbacSubjectId:s,country:o,isPartner:i,i18n:a,logContextEvent:l,checkExperiment:c,siteType:u,ideaPinRenamingEnabled:d})),g.slice(1).forEach(function(t){var f=(0,n.Z)(),p=(0,n.Z)();e((0,_.Z)(f,p,{media:t,link:P})),e(W(f,b)),x&&e(Z(f,x)),e(eZ({pinDraftId:f,userId:r,orbacSubjectId:s,country:o,isPartner:i,i18n:a,logContextEvent:l,checkExperiment:c,siteType:u,ideaPinRenamingEnabled:d}))})}}function eG(e){return function(t,r){var n,o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=D(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}(Object.entries(r().pinbuilder.pinDrafts));try{for(o.s();!(n=o.n()).done;){var i=C(n.value,2),a=i[0];if(i[1].pinId===e){t((0,x.Z)(a));return}}}catch(e){o.e(e)}finally{o.f()}}}},502890:function(e,t,r){"use strict";r.d(t,{C_:function(){return P},OD:function(){return v},PF:function(){return b},Sz:function(){return g},b0:function(){return T},f5:function(){return E},hL:function(){return C},jP:function(){return h},k8:function(){return O},kS:function(){return y},kf:function(){return A},lZ:function(){return _},mO:function(){return m},nh:function(){return j},oe:function(){return I},yV:function(){return w}});var n=r(353356),o=r(214494),i=r(954931),a=r(623320),l=r(622296),s=r(277348),c=r(562501),u=r(957025);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t,r){return{type:"PIN_ITEM_SET_DESCRIPTION_ERROR",payload:{pinItemId:e,descriptionError:t,signals:r}}}function y(e,t,r){return{type:"PIN_ITEM_SET_TITLE_ERROR",payload:{pinItemId:e,titleError:t,signals:r}}}function m(e,t){return{type:"PIN_ITEM_SET_MEDIA",payload:{pinItemId:e,media:t}}}function g(e,t){return{type:"PIN_ITEM_UPDATE_MEDIA",payload:{pinItemId:e,media:t}}}function b(e,t){return{type:"PIN_ITEM_SET_LINK",payload:{pinItemId:e,link:t}}}function _(e,t,r){return{type:"PIN_ITEM_SET_LINK_ERROR",payload:{pinItemId:e,linkError:t,signals:r}}}function v(e,t){return{type:"PIN_ITEM_SET_TAG_ERROR",payload:{pinItemId:e,tagError:t}}}function x(e,t){return function(r,n){r("created"===n().pinbuilder.pinTags[t].status?{type:"PIN_ITEM_REMOVE_PIN_TAG",payload:{pinItemId:e,pinTagId:t}}:(0,s.Cf)(t,"deleted"))}}function P(e,t){return{type:"PIN_ITEM_SET_SELECTED_PIN_TAG_ID",payload:{pinItemId:e,selectedPinTagId:t}}}function O(e,t,r){return{type:"PIN_ITEM_SET_EDITED_IMAGE",payload:{pinItemId:e,editedMedia:t,canvasJson:r}}}function j(e,t){return{type:"PIN_ITEM_UPDATE_DATA",payload:{pinItemId:e,pinItem:t}}}var S=function(e,t){t({event_type:9070,view_type:212,component:13308,element:10973,aux_data:{api_error_code:e.api_error_code,api_error_message:e.message}})};function w(e){var t=(0,u.A$)();return function(r,n){var o=n(),i=o.pinbuilder.pinItems[e].selectedPinTagId;r(P(e,null)),i&&0===t(o,{pinTagId:i}).length&&r(x(e,i))}}function E(e,t,r,n,l,s){return function(c,u){var d=u().pinbuilder,f=d.pinItems,h=d.pinTags,y=d.taggedObjects;if(!f[e])return Promise.resolve();var m=f[e].pinTagIds,g=m.reduce(function(e,t){return h[t].taggedObjectIds.forEach(function(t){return e.push(y[t])}),e},[]);return g.length>0?(0,a.Fv)(s,l).then(function(e){var c;return Promise.all((c=e.id,g.map(function(e){var t=e.id,r=e.link,n=e.media,o=e.type;return(0,i.Z)(r)&&/\/pin\/[\w-]+\/?$/.test(r)||"pin"===o?{id:t}:(0,a.iX)(p({link:r,board_id:c,image_url:n?n.url:"",method:"scraped",scrape_metric:{source:"www_url_scrape"}},s?{orbac_subject_id:s}:Object.freeze({})))}))).then(function(e){var i=e.map(function(e){return e.id}),a=m.map(function(e){var t=h[e],r=t.taggedObjectIds,o=t.x,a=t.y;return{country:n,height:0,tagged_objects:i.splice(0,r.length),width:0,x_coord:100*o,y_coord:100*a}});o.Z.create("VisualLinkPinTagsAndObjectsResource",p({pinId:t,pinTagsAndObjects:a,advertiserId:r},s?{orbacSubjectId:s}:Object.freeze({}))).callUpdate({}).catch(function(e){S(e,l)})})}):Promise.resolve()}}function A(e,t){return{type:"PIN_ITEM_SET_IS_TAGGABLE",payload:{pinItemId:e,isTaggable:t}}}function I(e,t){return function(r){r((0,l.Z)(e,t,{id:t,x:0,y:0})),r(P(e,t))}}function C(e,t,r){return function(o){var i=(0,n.Z)();o((0,l.Z)(e,i,{id:i,x:t,y:r})),o(P(e,i))}}function T(e){var t=(0,c.vd)(),r=(0,u.A$)();return function(n,o){var i=o();n(v(e,null)),t(i,{pinItemId:e}).forEach(function(t){0===r(i,{pinTagId:t}).length&&n(x(e,t))})}}},277348:function(e,t,r){"use strict";r.d(t,{Cf:function(){return u},Dn:function(){return f},Go:function(){return d},mz:function(){return c},uM:function(){return s}});var n=r(347619),o=r(647117);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return{type:"PIN_TAG_SET_COORDINATES",payload:{pinTagId:e,x:t,y:r}}}function c(e,t,r){return{type:"PIN_TAG_SET_LINK",payload:{pinTagId:e,link:t,error:r}}}function u(e,t){return{type:"PIN_TAG_SET_STATUS",payload:{pinTagId:e,status:t}}}function d(e,t){return function(r,n){r("created"===n().pinbuilder.taggedObjects[t].status?{type:"PIN_TAG_REMOVE_TAGGED_OBJECT",payload:{pinTagId:e,taggedObjectId:t}}:(0,o.k)(t,"deleted"))}}function f(e,t,r){return function(o,i){o((0,n.Z)(e,t,l(l({},r),{},{id:t,link:i().pinbuilder.pinTags[e].link}))),o(c(e,""))}}},98432:function(e,t,r){"use strict";r.d(t,{Z:function(){return E}});var n=r(353356),o=r(299295),i=r(665866),a=r(388628),l=r(573545),s=r(224496),c=r(531245),u=r(123463),d=r(451105),f=r(265696),p=r(314123),h=r(174807),y=r(305782),m=r(502890),g=r(923490),b=r(998285),_=r(554410),v=r(472278),x=r(843030),P=r(296342),O=r(67347);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==j(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(e){var t=e.pinDraftId,r=e.files,j=e.isPartner,S=e.userId,E=e.country,A=e.i18n,I=e.logContextEvent,C=e.orbacSubjectId,T=e.checkExperiment,D=e.ideaPinRenamingEnabled,k=e.isMaxVideo;return function(e,R){var z=R(),L=z.pinbuilder.pinDrafts[t],M=L.pinItemIds,N=L.pinItemIndex,B=L.pinItemShareable,F=L.status,Z=L.type,U=L.isShowcase,H=M.length,V="story"===Z,G=(null==T?void 0:T("aid_exp_showcase_video_card_creation").anyEnabled)||!1;e((0,y.p3)(t,"processing")),e((0,y._B)(t,null));var W=function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise(function(n){r&&V?e((0,y.WT)(t,!0)):e((0,y.p3)(t,F)),n()})};return U&&!G&&r.forEach(function(r){if(c.ss.includes(r.type)){var n=(0,d.ZP)({errorId:"SHOWCASE_UNSUPPORTED_FORMAT",i18n:A,ideaPinRenamingEnabled:D,dispatchId:M[N]});e((0,y.Ig)(t,n.message))}else e((0,y.Ig)(t,null))}),Promise.all(r.map(function(e){return(0,u.Z)({i18n:A,file:e,options:{allowVideo:i.Z.enabled("video")&&(!U||G),forStoryPin:V},ideaPinRenamingEnabled:D})})).then(function(r){var c=!1,u=[],d=[],R=M[0],L=z.pinbuilder,F=L.pinItems,U=L.storyPinItemBlocks,G=L.storyPinItems,Y=V?G[R]:F[R],X=Y.description,q=Y.media,K=Y.title,$=V&&G[R].blockIds||[],J=M.length<=1&&(!q&&!V||V&&!$.length),Q=G[M[N]],ee=!1;Q&&(ee=V?!!Q.blockIds.find(function(e){return!!U[e].media}):!!Q.media);var et=!V||V&&!ee||J;if(("story"===Z?r:"carousel"!==Z&&r.length>0&&"localVideo"===r[0].type?r.slice(0,1):r.filter(function(e){return"localVideo"!==e.type})).forEach(function(e){"localImage"===e.type?(d.push(e),(0,O.nP)("pin_builder.media_upload.image_selected",{sampleRate:1,tags:{source:(0,l.Z)(j)}})):"localVideo"===e.type?(d.push(e),(0,O.nP)("pin_builder.media_upload.video_selected",{sampleRate:1,tags:{source:(0,l.Z)(j)}})):u.push(e)}),V&&u.length&&function(e){e.forEach(function(e){switch(e.id){case"STORY_PIN_VIDEO_OVER_MAX_DURATION":(0,O.nP)("story_pin.upload.video.over_max_duration",{sampleRate:1,tags:{app_type:"web"}});break;case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":(0,O.nP)("story_pin.upload.video.over_max_file_size",{sampleRate:1,tags:{app_type:"web"}});break;case"VIDEO_UNRECOGNIZED_ENCODING":case"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME":case"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX":case"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI":(0,O.nP)("story_pin.upload.video.invalid_format",{sampleRate:1,tags:{app_type:"web"}})}})}(u),!d.length)return u.length>0&&(u.length>1?e((0,y._B)(t,A._('Uh oh, your files could not be uploaded. Please make sure the files chosen fit within our requirements', 'pinbuilder.processFiles.invalidFiles', 'Error message notifying User all of their selected files could not be uploaded'))):e((0,y._B)(t,u[u.length-1].message))),W();u.length>0&&e((0,y._B)(t,A._('Uh oh, one or more of your files could not be uploaded', 'pinbuilder.processFiles.invalidFiles', 'Error message notifying User some of their selected files could not be uploaded')));var er="carousel"===Z||"single"===Z&&d.length>1,en=q||d[0],eo=V?o.yX:o.dS,ei=function(r,o,i,a,l){var u=a?Object.assign(r,a.getCanvasOutput({width:l})):r;V&&"localImage"===u.type&&delete u.fileSrc;var f=a?a.toJSON():null,y=V?void 0:F[R].link,O={media:u,canvasJson:f},j=M[N];if(V){if(0===o&&et){var C=G[j].media;c=!!C&&1===d.length,C&&"localVideo"===C.type&&e((0,p.$Z)(t,j)),e((0,v.JQ)({canvasAspectRatio:s.ap,pinDraftId:t,pinItemId:j,pinItem:O})),V&&0===N&&(e((0,x.Uo)(t,j,(0,n.Z)(),P.j7)),e((0,v.d5)(t,j,7)))}else j=(0,n.Z)(),e((0,b.Z)({canvasAspectRatio:s.ap,options:{saveIndex:J},pinDraftId:t,pinItem:O,pinItemId:j})),V&&e((0,v.d5)(t,j,7))}else{var z=w(w({},B?{description:X,link:y,title:K}:{}),O);if(0===o){var L=F[j].media;c=!!L&&1===d.length,L&&"localVideo"===L.type&&e((0,p.$Z)(t,j)),e((0,m.nh)(j,z))}else j=(0,n.Z)(),e((0,h.Z)(t,j,z))}"localVideo"===u.type?e((0,g.d)({pinDraftId:t,pinItemId:j,userId:S,country:E,i18n:A,logContextEvent:I,orbacSubjectId:i,checkExperiment:T,ideaPinRenamingEnabled:D,isMaxVideo:k})):"localImage"===u.type&&V&&e((0,_.U)(t,j,I))},ea=function(r){return d.slice(0,et?eo-H+1:eo-H).reduce(function(e,t,n){return e.then(function(){return"localImage"===t.type&&r?(r.resize(t.width,t.height),r.setImage(t.src).then(function(){var e=en.width;if(r){if(V){var o=t.width/t.height;e=o<1?Math.min(P.er,t.width):Math.min(P.er,t.height)*o}else{var i,l,s=J&&d.length>1?(0,a.Z)(null!==(i=en.width)&&void 0!==i?i:1,null!==(l=en.height)&&void 0!==l?l:1):{w:en.width,h:en.height};r.setAspectRatio(s)}}return ei(t,n,C,r,e)})):ei(t,n,C)})},Promise.resolve()).then(function(){!u.length&&er&&!c&&H+d.length<=o.dS&&e((0,h.Z)(t,(0,n.Z)(),null,{saveIndex:!0})),e((0,y._B)(t,u.length?u[u.length-1].message:null)),!V&&!er&&i.Z.enabled("imageSignals")&&e((0,y.th)({pinDraftId:t,i18n:A,logContextEvent:I,ideaPinRenamingEnabled:D}))})};return er||V?(0,f.Z)().then(function(e){return ea(new e(document.createElement("div"))).then(function(){return W(!0)})}):ea().then(function(){return W(!0)})})}}},264938:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(474394),o=r(838548);function i(e){var t=e.checkExperiment,r=e.country,i=e.i18n,a=e.isPartner,l=e.logContextEvent,s=e.orbacSubjectId,c=e.siteType,u=e.userId;return function(e,d){d().pinbuilder.selectedPinDraftIds.forEach(function(d){e((0,n.deselectPinBuilderPinDraft)(d)),e((0,o.Z)({pinDraftId:d,userId:u,orbacSubjectId:s,country:r,isPartner:a,i18n:i,logContextEvent:l,checkExperiment:t,siteType:c,ideaPinRenamingEnabled:!1}))})}}},798477:function(e,t,r){"use strict";function n(e){return{type:"PIN_BUILDER_REMOVE_PIN_DRAFT_ID",payload:{pinDraftId:e}}}r.d(t,{Z:function(){return n}})},838548:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n=r(665866),o=r(214494),i=r(668627),a=r(414327),l=r(954931),s=r(623320),c=r(798477);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p=function(e,t){t({event_type:9070,view_type:212,component:13308,element:10973,aux_data:{api_error_code:e.api_error_code,api_error_message:e.message}})};function h(e,t,r){return e.map(function(e){var n=e.id,o=e.link,i=e.media,a=e.type;return(0,l.Z)(o)&&/\/pin\/[\w-]+\/?$/.test(o)||"pin"===a?{id:n}:(0,s.iX)(f({link:o,board_id:t,image_url:i?i.url:"",method:"scraped",scrape_metric:{source:"www_url_scrape"}},r?{orbac_subject_id:r}:Object.freeze({})))})}var y=r(474394),m=r(305782),g=r(458253),b=r(923490);function _(e){var t=e.pinDraftId,r=e.userId,l=e.orbacSubjectId,u=e.country,d=e.isPartner,_=e.i18n,v=e.logContextEvent,x=e.checkExperiment,P=e.siteType,O=e.ideaPinRenamingEnabled;return function(e,j){var S=j().pinbuilder,w=S.pinDrafts,E=S.pinDraftIds,A=S.pinItems,I=S.storyPinItems,C=w[t],T=C.mode,D=C.pinItemIds,k=C.pinItemIndex,R=C.type,z=D[k],L=("story"===R?I[z]:A[z]).media;if("create"===T){if(L&&["localVideo","webVideo"].includes(L.type)&&n.Z.enabled("disabledVideoPinCreation")||L&&["assetImage","localImage","webImage"].includes(L.type)&&n.Z.enabled("disabledPinCreation")){e((0,y.setShowDisabledPinCreationBanner)(!0));return}if(L&&"localVideo"===L.type&&0===E.length){e((0,b.d)({pinDraftId:t,pinItemId:z,userId:r,country:u,i18n:_,logContextEvent:v,checkExperiment:x,ideaPinRenamingEnabled:O})),e((0,g.g)(t,"queueCreate"));return}e((0,m.iX)({checkExperiment:x,country:u,i18n:_,ideaPinRenamingEnabled:O,isPartner:d,logContextEvent:v,orbacSubjectId:l,pinDraftId:t,siteType:P,userId:r}))}else"edit"===T&&e(function(e,r){var n,d=r().pinbuilder.pinDrafts[t];e((n=d.pinItemIds[d.pinItemIndex],function(e,r){var d=r(),y=d.pinbuilder,m=y.pinItems,g=y.pinTags;Promise.all(m[n].pinTagIds.map(function(e){var r,n,i,a,c,y,m,b,_,x,P,O,j,S,w,E=g[e].status;if("deleted"===E){var A=g[e].taggedObjectIds;return o.Z.create("VisualLinkPinTagResource",{pinTagId:e,id:t,orbacSubjectId:l,taggedObjectIds:A}).callDelete()}return"created"===E?(n=(r=d.pinbuilder).pinTags,i=r.taggedObjects,c=(a=n[e]).taggedObjectIds,y=a.x,m=a.y,(0,s.Fv)(l,v).then(function(e){return Promise.all(h(c.map(function(e){return i[e]}),e.id,l)).then(function(e){return o.Z.create("VisualLinkPinTagsAndObjectsResource",f({pinId:t,pinTagsAndObjects:[{country:u,height:0,tagged_objects:e.map(function(e){return e.id}),width:0,x_coord:100*y,y_coord:100*m}]},l?{orbacSubjectId:l}:Object.freeze({}))).callUpdate().catch(function(e){p(e,v)})})})):"edited"!==E?null:(_=(b=d.pinbuilder).pinTags,x=b.taggedObjects,O=(P=_[e]).pinTagKey,j=P.taggedObjectIds,S=P.x,w=P.y,(0,s.Fv)(l,v).then(function(r){var n=j.filter(function(e){return"created"===x[e].status}).map(function(e){return x[e]});return Promise.all(h(n,r.id,l)).then(function(r){return Promise.all([o.Z.create("VisualLinkPinTagsAndObjectsResource",f({pinId:t,pinTagsAndObjects:[{height:0,tagged_objects:n.map(function(e){return e.id}),width:0,x_coord:100*S,y_coord:100*w}]},l?{orbacSubjectId:l}:Object.freeze({}))).callUpdate(),o.Z.create("ApiResource",{url:"/v3/visual_links/pin_tags/tagged_objects/batch/",options:{method:"POST",data:f({pin_tag_key:O,tagged_objects:r.map(function(e){return e.id}).join(","),tagged_object_source:"pinterest-client"},l?{orbac_subject_id:l}:Object.freeze({}))}}),o.Z.create("VisualLinkTaggedObjectsResource",{id:t,pinTagId:e,taggedObjectIds:j.filter(function(e){return"deleted"===x[e].status})}).callDelete()]).then(function(){return o.Z.create("VisualLinkPinTagResource",f({pinTagId:e,id:t,pinTag:{dimensions:{x:100*S,y:100*w}},taggedObjectIds:j},l?{orbacSubjectId:l}:Object.freeze({}))).callCreate()})})}))})).then(function(){e((0,a.jB)("PinResource",(0,i.Z)(t))),e((0,a.jB)("VisualLinkTopTaggedObjectsResource",{pinId:t,isSTL:!0})),e((0,c.Z)(t))})}))})}}},458253:function(e,t,r){"use strict";function n(e,t){return{type:"PIN_BUILDER_SET_PIN_DRAFT_UPLOAD_STATUS",payload:{pinDraftId:e,status:t}}}r.d(t,{g:function(){return n}})},647117:function(e,t,r){"use strict";function n(e,t){return{type:"TAGGED_OBJECT_SET_STATUS",payload:{taggedObjectId:e,status:t}}}r.d(t,{k:function(){return n}})},827628:function(e,t,r){"use strict";r.d(t,{d:function(){return p}});var n=r(451105),o=r(346360),i=r(305782),a=r(502890),l=r(472278),s=r(395164);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t,r){var n;return(n=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===c(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t,r){return function(o,c){e.forEach(function(e){var u=e.dispatchId||"";switch((0,s.T)({name:"React PinBuilder Exception",message:Array.isArray(e.message)?e.message.join(""):e.message,message_detail:JSON.stringify({dispatchId:e.dispatchId,pinDraftId:r})}),(0,n.GB)(e.id,e.message,t),e.id){case"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT":o((0,i.KN)(u,e.message));break;case"BOARD_MISSING":o((0,i.xb)(u,e.message));break;case"DATE_TOO_FAR_IN_FUTURE":case"DATE_IN_PAST":case"DATE_MISSING":o((0,i.Yr)(u,e.message));break;case"CAROUSEL_DIFFERENT_RATIOS":case"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO":case"STORY_PIN_COVER_PAGE_TITLE_MISSING":case"STORY_PIN_TITLE_MISSING":case"STORY_PIN_NOT_ENOUGH_PAGES":case"STORY_PIN_VIDEO_ON_COVER":o((0,i.lT)(u,e.message));break;case"CAROUSEL_INVALID_FORMAT":case"MEDIA_MISSING":o((0,i._B)(u,e.message));break;case"TIME_MISSING":o((0,i.Ve)(u,e.message));break;case"TITLE_INVALID":o((0,a.kS)(u,e.message));break;case"DESCRIPTION_INVALID":o((0,a.jP)(u,e.message));break;case"IMAGE_IS_BLURRY":case"IMAGE_IS_SCREENSHOT":case"LINK_LOADS_SLOWLY":case"LINK_IS_AGGREGATOR":case"IMAGE_UNDER_MIN_DIMENSIONS":case"VIDEO_UNDER_MIN_DIMENSIONS":case"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO":o((0,a.nh)(u,{signals:f({},e.id,!0)}));break;case"TAG_INVALID":case"URL_INVALID":case"URL_IS_REDIRECT":case"URL_MISSING":case"URL_UNREACHABLE":case"URL_CONTAINS_PORN_DOMAIN":case"URL_IS_TOO_LONG":case"URL_IS_BLOCKED":var d=c().pinbuilder,p=d.pinDrafts,h=d.pinDraftIds,y="URL_UNREACHABLE"===e.id||"URL_CONTAINS_PORN_DOMAIN"===e.id?f({},e.id,!0):void 0;h&&"story"===p[h[0]].type?(o((0,l.qG)(u,e.message)),o((0,l.pq)(u,{isFetching:!1}))):o((0,a.lZ)(u,e.message,y))}})}}t.Z=function(e){var t=e.pinDraftId,r=e.validationKey,n=e.i18n,i=e.logContextEvent,a=e.options,l=e.ideaPinRenamingEnabled;return function(e,c){var u,f,h,y,m,g;return e((f=(u={pinDraftId:t,validationKey:r,i18n:n,ideaPinRenamingEnabled:l,options:a}).pinDraftId,h=u.validationKey,y=u.i18n,m=u.ideaPinRenamingEnabled,g=u.options,function(e){try{switch(h){case"save":return e((0,o.x)(f,y,m));case"edit":return e((0,o.J6)(f,y,m));case"publishStoryPin":return e((0,o.f5)(f,y,m));case"link":return Promise.all(e((0,o.Oc)(f,y,m))).then(function(e){return e.filter(Boolean).flat()});case"signal":var t=g?g.fieldToCheck:null;return e((0,o.DY)(f,y,t,m)).then(function(e){return e.filter(Boolean)});default:return Promise.resolve([])}}catch(e){return(0,s.T)(d(d({name:"React PinBuilder Validation Exception",message:e.message,message_detail:JSON.stringify({pinDraftId:f,validationKey:h,options:g})},e.lineNumber&&{line:e.lineNumber}),e.stack&&{stack:e.stack})),Promise.resolve([])}})).then(function(r){if(r.length>0&&(e(p(r,i,t)),r.some(function(e){return e.blocking})))throw Error();return Promise.resolve()})}}},923490:function(e,t,r){"use strict";r.d(t,{d:function(){return b},q:function(){return _}});var n=r(299295),o=r(665866),i=r(724565),a=r(840839),l=r(471155),s=r(801815),c=r(623320),u=r(314123),d=r(474394),f=r(305782),p=r(502890),h=r(458253),y=r(472278),m=r(843030),g=r(67347);function b(e){var t=e.pinDraftId,r=e.pinItemId,s=e.userId,b=e.country,_=e.i18n,v=e.logContextEvent,x=e.orbacSubjectId,P=e.checkExperiment,O=e.ideaPinRenamingEnabled,j=e.isMaxVideo;return function(e,S){var w,E,A=S()||{},I=A.createFlow,C=A.pinbuilder,T=((I||{}).forms||{}).campaigns,D=!!T&&(null===(w=T["0"])||void 0===w?void 0:w.premiereSpotlightEnabled),k=C.pinDrafts,R=C.pinDraftIds,z=C.pinItems,L=C.storyPinItemBlocks,M=C.storyPinItems,N=k[t],B=N.pinItemIds,F=N.status,Z="story"===N.type,U=(Z?M[r]:z[r]).media,H=Z?B.findIndex(function(e){return e===r}):void 0,V=Z&&M[r]&&M[r].blockIds.length?M[r].blockIds.find(function(e){return"story_pin_video_block"===L[e].type}):null,G=V?L[V].media:U;if(!G||"localVideo"!==G.type)throw Error("Unable to upload video - media is invalid.");e((0,f._B)(t,null)),"succeeded"===F&&e((0,f.p3)(t,"uploading")),e((0,h.g)(t,"uploading")),e((0,d.addPinBuilderPinDraftItemUpload)(t,r,{status:"uploading",xhr:null}));var W=function(t){return e((0,y.Bl)(r,{uploadProgress:Math.round(100*(t.loaded/t.total))}))};Z&&V&&(W=function(r){return e((0,m.PF)(t,V,{uploadProgress:Math.round(100*(r.loaded/r.total))}))}),E=Z?"video-story-pin":"ad_creation"===o.Z.scenario()?"ads-video":"video",(D||j&&["ads-video","video"].includes(E))&&(E="premiere-ads-video"),function x(j){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,l.Z)(G.fileSrc,E,Z||!o.Z.enabled("videoEditing"),{onCancelUpload:function(e){(0,a.Z)(v,{event_type:7684,aux_data:{file_size_mb:G.fileSrc.size/1048576,media_upload_id:e,story_pin_page_id:H,video_duration:G.duration}})},onFailureUpload:function(e){var t=e.message,r=e.failureReason,n=e.uploadId;(0,a.Z)(v,{event_type:8786,aux_data:{error_message:t,file_size_mb:G.fileSrc.size/1048576,media_upload_failure_reason:r||"general",media_upload_id:n,story_pin_page_id:H,video_duration:G.duration}}),(0,g.nP)("video_pin_creation.uploading.failure",{sampleRate:1,tags:{failure_reason:t}})},onFinishProcessing:function(e){var t=e.processingTime,r=e.signature,n=e.uploadId;(0,a.Z)(v,{event_type:7520,aux_data:{file_size_mb:G.fileSrc.size/1048576,media_upload_id:n,processing_time:t,story_pin_page_id:H,video_duration:G.duration,video_signature:r}}),(0,a.Z)(v,{event_type:7521,aux_data:{file_size_mb:G.fileSrc.size/1048576,media_upload_id:n,story_pin_page_id:H,video_duration:G.duration,video_signature:r}})},onFinishUpload:function(e){var t,r,n,o,i,l,s,c;return r=(t={amzId2:e.amzId2,amzRequestId:e.amzRequestId,statusCode:e.statusCode,storyPageNumber:H,uploadId:e.uploadId,uploadTime:e.uploadTime,video:G}).amzId2,n=t.amzRequestId,o=t.statusCode,i=t.storyPageNumber,l=t.uploadId,s=t.uploadTime,c=t.video,void((0,a.Z)(v,{event_type:7519,aux_data:{aws_tracking_ids:JSON.stringify([n,r]),file_size_mb:c.fileSrc.size/1048576,media_upload_id:l,status_code:o,story_pin_page_id:i,upload_time:s,video_duration:c.duration}}),(0,g.nP)("video_pin_creation.uploading.success",{sampleRate:1,tags:{app_type:"web"}}))},onProgress:function(t){return Z?W(t):e((0,p.Sz)(r,{uploadProgress:Math.round(100*(t.loaded/t.total))}))},onStartProcessing:function(e){var t=e.signature,r=e.uploadId;(0,a.Z)(v,{event_type:8809,aux_data:{file_size_mb:G.fileSrc.size/1048576,media_upload_id:r,story_pin_page_id:H,video_duration:G.duration,video_signature:t}})},onStartUpload:function(n){var o=n.uploadId;return e(function(e,n){var i=n().pinbuilder,l=i.storyPinItemBlocks,s=i.storyPinItems;if(Z){if(s[r]&&s[r].blockIds.length){var c=s[r].blockIds.find(function(e){return"story_pin_video_block"===l[e].type});c&&e((0,m.PF)(t,c,{uploadId:o}))}else e((0,y.Bl)(r,{uploadId:o}))}else e((0,p.Sz)(r,{uploadId:o}));(0,a.Z)(v,{event_type:7518,aux_data:{file_size_mb:G.fileSrc.size/1048576,media_upload_id:o,story_pin_page_id:H,video_duration:G.duration}})})},setXhr:function(n){return e((0,d.setPinBuilderPinItemUploadXhr)(t,r,n))}}).then(function(n){var a,l,g,x,w,E,A,I,C=S().pinbuilder.pinDraftIdUploadStatusMap;if(C[t]&&e((0,d.setPinBuilderPinItemUploadXhr)(t,r,null)),Z){if(V){if(e((0,m.PF)(t,V,{signature:n.signature})),C[t]&&C[t].items[r]&&"queueEdit"===C[t].items[r].status){"queueCreate"===C[t].status&&e((l=(a={country:b,i18n:_,ideaPinRenamingEnabled:O,logContextEvent:v,pinDraftId:t,pinItemId:r,userId:s}).country,g=a.i18n,x=a.ideaPinRenamingEnabled,w=a.logContextEvent,E=a.pinDraftId,A=a.pinItemId,I=a.userId,function(e,t){var r=t().pinbuilder,n=r.storyPinItemBlocks,o=r.storyPinItems;if(o[A]&&o[A].blockIds.length){var a=o[A].blockIds.find(function(e){return"story_pin_video_block"===n[e].type}),s=a?n[a].media:null;if(a&&s&&"localVideo"===s.type&&s.signature&&void 0!==s.trimmedEndTime&&void 0!==s.trimmedStartTime&&!(0===s.trimmedStartTime&&s.trimmedEndTime===s.duration)){var p=s.signature,h=s.trimmedEndTime,y=s.trimmedStartTime;e((0,d.setPinBuilderPinItemUploadStatus)(E,A,"uploadingEdit")),e((0,m.PF)(E,a,{signature:null})),(0,c.Yv)(p,"video-story-pin",{time_start:(0,i.TA)(y),time_end:(0,i.TA)(h)},{onStartEdits:function(t){return e((0,m.PF)(E,a,{uploadId:t}))}}).then(function(r){var n=t().pinbuilder.pinDraftIdUploadStatusMap;e((0,m.PF)(E,a,{signature:r.signature})),n[E]&&e((0,d.setPinBuilderPinItemUploadStatus)(E,A,"completed"));var o=Object.keys(n[E].items).filter(function(e){return n[E].items[e].status.startsWith("uploading")||n[E].items[e].status.startsWith("queue")});(0===o.length||1===o.length&&o[0]===A)&&"queueCreate"===n[E].status&&(e((0,f.iX)({pinDraftId:E,userId:I,country:l,isPartner:!1,i18n:g,logContextEvent:w,ideaPinRenamingEnabled:x})),e((0,u.y2)(E)))}).catch(function(){e((0,f._B)(E,g._('Video edit upload failed', 'pinbuilder.upload.video.edit.error', 'Error message for setting the edit values for video'))),e((0,f.p3)(E,"attempted")),e((0,m.PF)(E,a,{signature:p})),e((0,d.setPinBuilderPinItemUploadStatus)(E,A,"queueEdit"))})}}}));return}}else e((0,y.Bl)(r,{signature:n.signature}))}else e((0,p.Sz)(r,{signature:n.signature}));C[t]&&e((0,d.setPinBuilderPinItemUploadStatus)(t,r,"completed"));var T=Object.keys(C[t].items).filter(function(e){return C[t].items[e].status.startsWith("uploading")||C[t].items[e].status.startsWith("queue")});"queueCreate"===C[t].status&&(0===T.length||1===T.length&&T[0]===r)&&(e((0,f.iX)({pinDraftId:t,userId:s,orbacSubjectId:j,country:b,isPartner:!1,i18n:_,logContextEvent:v,checkExperiment:P,ideaPinRenamingEnabled:O})),e((0,h.g)(t,"completed"))),(0===T.length||1===T.length&&C[t].items[r])&&(o.Z.enabled("multi_pin")||o.Z.enabled("multi_pin_pinner")||o.Z.enabled("offsite_pin_creation_multi_select")||Z||"queueCreate"!==C[t].status)&&e((0,u.y2)(t))}).catch(function(o){var i=S().pinbuilder.pinDraftIdUploadStatusMap;if(!o||o.isError){if(Z&&w<n.g1)x(j,w+1);else{var a=R.length>1?_._('Upload failed', 'pinbuilder.upload.video.upload.error', 'Error message uploading a video file'):_._('Upload failed. Try again?', 'pinbuilder.upload.video.upload.error', 'Error message uploading a video file + asks User if they would like to try again');e((0,f._B)(t,a)),e((0,f.p3)(t,"attempted")),e((0,u.su)(t,r)),1===Object.keys(i[t].items).length&&e((0,u.y2)(t))}}})}(x)}}function _(e){var t=e.pinDraftId,r=e.userId,n=e.country,o=e.i18n,i=e.logContextEvent,a=e.ideaPinRenamingEnabled;return function(e,l){var d=l().pinbuilder,h=d.pinDrafts,y=d.pinItems,m=d.pinDraftIds,g=h[t],b=g.pinItemIds,_=g.pinItemIndex;if("single"===g.type){var v=b[_],x=y[v],P=x.media,O=x.canvasJson,j=P&&P.signature?P.signature:null;if(P&&j){var S=O?(0,s.Z)(P,O):null;S&&(0,c.Yv)(j,"video",S,{onStartEdits:function(t){return e((0,p.Sz)(v,{uploadId:t}))}}).then(function(){"queueCreate"===l().pinbuilder.pinDraftIdUploadStatusMap[t].status&&e((0,f.iX)({pinDraftId:t,userId:r,country:n,isPartner:!1,i18n:o,logContextEvent:i,ideaPinRenamingEnabled:a})),e((0,u.y2)(t))}).catch(function(){var r=m.length>1?o._('Upload failed', 'pinbuilder.upload.video.edit.error', 'Error message uploading an edit for the video'):o._('Upload failed. Try again?', 'pinbuilder.upload.video.edit.error', 'Error message uploading an edit for the video + asks if they would like to try again');e((0,f._B)(t,r)),e((0,f.p3)(t,"attempted")),e((0,u.y2)(t))})}}}}},31100:function(e,t,r){"use strict";r.d(t,{Jc:function(){return d},TX:function(){return c},Tn:function(){return s},hg:function(){return u}});var n=r(214494),o=r(90326);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e){return{type:"SCHEDULED_PIN_CREATE_COMPLETE",payload:{scheduledPin:e}}}function c(e,t,r){return function(i){return i({type:"SCHEDULED_PIN_DELETE_COMPLETE",payload:{scheduledPinId:e}}),i((0,o.h6)({userId:t,increment:-1})),n.Z.create("ScheduledPinResource",l({scheduled_pin_id:e},r?{orbac_subject_id:r}:{})).callDelete()}}function u(e,t,r){return function(i){return i({type:"SCHEDULED_PIN_PUBLISH_COMPLETE",payload:{scheduledPinId:e}}),i((0,o.h6)({userId:t,increment:-1})),n.Z.create("ScheduledPinResource",l({method:"publish",scheduled_pin_id:e},r?{orbac_subject_id:r}:{})).callCreate()}}function d(e){return function(t){var r=e.boardId,o=e.description,i=e.ideaPinDetails,a=e.ideaPinDetailsTemplateType,l=e.link,s=e.sectionId,c=e.scheduledPinId,u=e.scheduledTimestamp,d=e.userMentionTags,f=e.title,p=n.Z.create("ScheduledPinResource",{board:r,description:o,idea_pin_details:i,idea_pin_details_template_type:a,link:l,section:s,scheduled_pin_id:c,scheduled_timestamp:u,user_mention_tags:d,title:f}).callUpdate();return t({type:"SCHEDULED_PIN_UPDATE_COMPLETE",payload:e}),p}}},639952:function(e,t,r){"use strict";r.d(t,{Cp:function(){return s},FK:function(){return l},H5:function(){return _},MI:function(){return h},O0:function(){return p},QZ:function(){return a},W:function(){return g},WF:function(){return u},Wz:function(){return v},a5:function(){return d},dz:function(){return m},e0:function(){return f},e2:function(){return i},iW:function(){return b},n1:function(){return o},rm:function(){return c},xu:function(){return y}});var n=r(53987),o=function(){return{type:"DISMISS_UNAUTH_SAVE"}},i=function(){return{type:"COMPLETE_UNAUTH_SAVE_ACTION"}},a=function(e){return{type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}},l=function(){return{type:"HIDE_NAV_FOOTER"}},s=function(){return{type:"SHOW_NAV_FOOTER"}},c=function(e){return{type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}},u=function(){return{type:"SHOW_REPIN_ANIMATION"}},d=function(){return{type:"HIDE_REPIN_ANIMATION"}},f=function(e){return{type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}},p=function(){return{type:"SET_OWN_PROFILE_PINS_REFRESH"}},h=function(e){return{type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}},y=function(e){return{type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}},m=function(e){return{type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}},g=function(){return{type:"DISMISS_UNAUTH_APP_UPSELL"}},b=function(e){return e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"}},_=function(e){return{type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}},v=function(e,t){return{type:"SET_LANDING_PAGE_TYPE",payload:e?(0,n.bo)(e)?"today":(0,n.dr)(e)?"ideas":t&&(0,n.dZ)(e,t)?"own_section":t&&(0,n.J)(e,t)?"own_board":(0,n.OJ)(e)?"section":(0,n.am)(e)?"board":(0,n.L6)(e)?"closeup":(0,n.C$)(e)?"home":(0,n.cD)(e)?"profile":(0,n.En)(e)?"search":(0,n.$V)(e)?"topic":"":""}}},748254:function(e,t,r){"use strict";function n(e,t,r,n){return{type:"PIN_DRAFT_ADD_STORY_PIN_ITEM",payload:{pinDraftId:e,pinItemId:t,pinItem:r,options:n}}}r.d(t,{Z:function(){return n}})},685839:function(e,t,r){"use strict";function n(e){return function(t,r){t&&console.log("".concat(e," - ").concat(r))}}r.d(t,{Z:function(){return n}})},690374:function(e,t,r){"use strict";r.d(t,{Z:function(){return Z}});var n=r(296342),o=r(353356),i=r(186656),a=r(349700),l=r(685839),s=r(623320);function c(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}var u=[200,201,204];function d(){var e;return e=regeneratorRuntime.mark(function e(t,r,n,o,i,l,s){var c,d,f,p,h,y,m,g,b,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=i.upload_id||"",d=i.upload_url||"",f=i.upload_parameters||{},null==l||l.addSubspan({name:"".concat(r,"_page_publish-").concat(c),startTime:performance.now(),bypassIsTimingCheck:!0}),p=o.onFailure,h=o.onFinishUpload,y=o.onStartUpload,m=o.onUploadProgress,y&&y(c),g=new Date,b=new XMLHttpRequest,"image"===r?b.open("POST",d.replace("pinterest-media-upload.s3.amazonaws","u.pinimg"),!0):b.open("POST",d,!0),b.onload=function(){if(u.includes(b.status)){if(h){var e=(new Date-g)/1e3,t=b.getResponseHeader("x-amz-request-id");h(c,{amzId2:b.getResponseHeader("x-amz-id-2"),amzRequestId:t,uploadTimeSec:e,statusCode:b.status})}}else{var n="image"===r?1:8;p({uploadId:c,errorMsg:(0,a.nk)(s._('Failed to upload the {{ mediaType }} with XHR status code: {{ xhrStatus }}', 'uploadMedia.xhrOnLoad.failure', 'Error message when media does not upload'),{mediaType:r,xhrStatus:b.status}).join(),mediaUploadFailureReason:n,retry:!0})}},b.onerror=function(){var e="image"===r?1:8;p({uploadId:c,errorMsg:(0,a.nk)(s._('Failed to upload the {{ mediaType }}', 'uploadMedia.xhrOnError.failure', 'Error message when media does not upload'),{mediaType:r}).join(),mediaUploadFailureReason:e,retry:!0})},m&&(b.upload.onprogress=function(e){m(Math.round(100*(e.loaded/e.total)))}),_=new FormData,Object.keys(f).forEach(function(e){e&&f[e]&&_.append(e,f[e])}),_.append("file",t),b.send(_),e.abrupt("return",{uploadId:c,xhr:b});case 17:case"end":return e.stop()}},e)}),(d=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){c(i,n,o,a,l,"next",e)}function l(e){c(i,n,o,a,l,"throw",e)}a(void 0)})}).apply(this,arguments)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return m(e)}(this,r)}}function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function _(e,t,r){return t&&b(e.prototype,t),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function x(e,t,r){return(t=P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var O=["webImage","webVideo"],j=_(function e(t){var r=this;v(this,e),x(this,"upload",function(){}),x(this,"onFailure",function(e){var t=e.errorMsg,n=e.mediaUploadFailureReason,o=e.retry,i=e.uploadId;o&&r.numAttempts<r.maxUploadAttempts?r.upload():(r.status="failed",r.callbackHandlers.onFailure({errorMsg:t,mediaUploadFailureReason:n,uploadId:i,storyPinPublishStopwatch:r.storyPinPublishStopwatch}))}),x(this,"onFinishProcessing",function(e,t){r.signature=t.signature,r.callbackHandlers.onFinishProcessing&&r.callbackHandlers.onFinishProcessing(e,t,r.storyPinPublishStopwatch)}),x(this,"onFinishUpload",function(e,t){r.status="uploaded",r.callbackHandlers.onFinishUpload&&r.callbackHandlers.onFinishUpload(e,t,r.storyPinPublishStopwatch)}),x(this,"onStartProcessing",function(e,t){r.signature=t.signature,r.callbackHandlers.onStartProcessing&&r.callbackHandlers.onStartProcessing(e,t,r.storyPinPublishStopwatch)}),x(this,"cancel",function(){r.xhr&&(r.xhr.abort(),r.callbackHandlers.onCancel&&r.callbackHandlers.onCancel(r.uploadId||"",r.storyPinPublishStopwatch))}),this.i18n=t.i18n,this.maxUploadAttempts=t.maxUploadAttempts||1,this.media=t.media,this.numAttempts=0,this.storyPinPublishStopwatch=t.storyPinPublishStopwatch,this.vipRegistration=t.vipRegistration,this.vipType=t.vipType,this.callbackHandlers=t.callbackHandlers}),S=function(e){p(r,e);var t=y(r);function r(e){var n;return v(this,r),x(m(n=t.call(this,e)),"getClassName",function(){return"ImageUpload"}),x(m(n),"onProcessingFailed",function(e){if(n.uploadId){var t=(0,a.nk)(n.i18n._('Failed to process image with uploadId {{ uploadId }} and failureCode {{ failureCode }}', 'MediaUpload.ImageUpload.onProcessingFailed', 'Error message for when image processing fails'),{failureCode:e,uploadId:n.uploadId}).join("");n.onFailure({uploadId:n.uploadId,errorMsg:t,mediaUploadFailureReason:3,mediaStatusFailureReason:e})}}),x(m(n),"onProcessingTimeout",function(){if(n.uploadId){var e=(0,a.nk)(n.i18n._('Timed out on processing image with uploadId {{ uploadId }}', 'MediaUpload.ImageUpload.onProcessingTimeout', 'Error message for when image processing times out'),{uploadId:n.uploadId}).join("");n.onFailure({uploadId:n.uploadId,errorMsg:e,mediaUploadFailureReason:4})}}),x(m(n),"upload",function(){"localImage"===n.media.type&&(n.numAttempts+=1,(function(e,t,r,n,o,i,a){return d.apply(this,arguments)})((0,s.Mi)(n.media.src),"image",n.vipType,{onFailure:function(e){return n.onFailure(e)},onFinishUpload:n.onFinishUpload,onStartUpload:n.callbackHandlers.onStartUpload,onUploadProgress:n.callbackHandlers.onUploadProgress},n.vipRegistration,n.storyPinPublishStopwatch,n.i18n).then(function(e){n.uploadId=e.uploadId,n.xhr=e.xhr,n.status="uploading"}))}),n.signature=O.includes(e.media.type)?e.media.signature:null,n.status=O.includes(e.media.type)?"uploaded":"pending",n}return _(r)}(j),w=function(e){p(r,e);var t=y(r);function r(e){var n;return v(this,r),x(m(n=t.call(this,e)),"getClassName",function(){return"VideoUpload"}),x(m(n),"onProcessingFailed",function(e){if(n.uploadId){var t=(0,a.nk)(n.i18n._('Failed to process video with uploadId {{ uploadId }} and failureCode {{ failureCode }}', 'MediaUpload.VideoUpload.onProcessingFailed', 'Error message when video processing fails'),{uploadId:n.uploadId,failureCode:e}).join("");n.onFailure({uploadId:n.uploadId,errorMsg:t,mediaUploadFailureReason:10,mediaStatusFailureReason:e,storyPinPublishStopwatch:n.storyPinPublishStopwatch})}}),x(m(n),"onProcessingTimeout",function(){if(n.uploadId){var e=(0,a.nk)(n.i18n._('Timed out on processing video with uploadId {{ uploadId }}', 'MediaUpload.VideoUpload.onProcessingTimeout', 'Error message when video processing times out'),{uploadId:n.uploadId}).join("");n.onFailure({uploadId:n.uploadId,errorMsg:e,mediaUploadFailureReason:11,storyPinPublishStopwatch:n.storyPinPublishStopwatch})}}),x(m(n),"upload",function(){"localVideo"===n.media.type&&(n.numAttempts+=1,(function(e,t,r,n,o,i,a){return d.apply(this,arguments)})(n.media.fileSrc,"video",n.vipType,{onFailure:function(e){return n.onFailure(e)},onFinishUpload:n.onFinishUpload,onStartUpload:n.callbackHandlers.onStartUpload,onUploadProgress:n.callbackHandlers.onUploadProgress},n.vipRegistration,n.storyPinPublishStopwatch,n.i18n).then(function(e){n.uploadId=e.uploadId,n.xhr=e.xhr,n.status="uploading"}))}),n.signature=O.includes(e.media.type)?e.media.signature:null,n.status=O.includes(e.media.type)?"uploaded":"pending",n}return _(r)}(j),E=r(214494),A=r(67347);function I(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function C(){var e;return e=regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.Z.create("VIPResource",{upload_ids:t}).callGet();case 2:return n=e.sent.resource_response.data,e.abrupt("return",t.reduce(function(e,t){return n[t]?e[t]={failureCode:n[t].failure_code,signature:n[t].signature,status:n[t].status}:(0,A.nP)("storypin.publish.vip_status_check.missing_upload_id",{sampleRate:1,tags:{retryCount:r}}),e},{}));case 5:case"end":return e.stop()}},e)}),(C=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){I(i,n,o,a,l,"next",e)}function l(e){I(i,n,o,a,l,"throw",e)}a(void 0)})}).apply(this,arguments)}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){M(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function R(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function z(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){R(i,n,o,a,l,"next",e)}function l(e){R(i,n,o,a,l,"throw",e)}a(void 0)})}}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N(n.key),n)}}function M(e,t,r){return(t=N(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==T(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===T(t)?t:String(t)}var B=(0,l.Z)("[MEDIA UPLOAD MANAGER]"),F=function(){var e,t;function r(e){var t,n,l=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),M(this,"getMediaRegistrationsFromVIP",(t=z(regeneratorRuntime.mark(function e(t){var r,n,s,c,u,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=t.durationMs,c="image"===(s=t.mediaType)?2:1,l.vipRegistrationPool[s].fetchingData=!0,l.debugLog("Getting media registration urls for ".concat(s,"s")),u=[],d=0;d<c;d+=1)u.push(k({id:(0,o.Z)(),media_type:"image"===s?"image-story-pin":"video-story-pin"},n?{upload_aux_data:{clips:[{durationMs:n,isFromImage:"image"===s,startTimestampMs:-1}]}}:{}));return f=l.vipRegistrationPool[s].requestCount,l.vipRegistrationPool[s].requestCount+=1,null===(r=l.storyPinPublishStopwatch)||void 0===r||r.subspanStart({name:"".concat(s,"_registration_").concat(f),bypassIsTimingCheck:!0}),e.abrupt("return",(0,i.Z)({url:"/v3/media/uploads/register/batch/",method:"POST",data:{media_info_list:JSON.stringify(u)},callOptions:{showError:3===l.vipRegistrationPool[s].retries}}).then(function(e){var t,r="object"===T(e.resource_response.data)?Object.values(e.resource_response.data):[];l.vipRegistrationPool[s].data=r,l.vipRegistrationPool[s].retries=0,l.vipRegistrationPool[s].fetchedLast=performance.now(),l.vipRegistrationPool[s].fetchingData=!1,null===(t=l.storyPinPublishStopwatch)||void 0===t||t.subspanStop({name:"".concat(s,"_registration_").concat(f),bypassIsTimingCheck:!0})},function(e){var t;(0,A.nP)("storypin.publish.registration.".concat(s,".failure"),{sampleRate:1,tags:{reason:e.message,retryCount:l.vipRegistrationPool[s].retries}}),l.vipRegistrationPool[s].retries<3?(l.debugLog("".concat(s," registration failed. ").concat(3-l.vipRegistrationPool[s].retries," retries remaining. ").concat(e)),l.vipRegistrationPool[s].retries+=1,l.getMediaRegistrationsFromVIP({durationMs:n,mediaType:s})):(l.debugLog("".concat(s," registration failed. ").concat(e)),l.onFailure((0,a.nk)(l.i18n._('Failed to register {{ mediaType }} upload with message: {{ error }}', 'MediaUploadManager.getMediaRegistrationsFromVIP.failure', 'Error message for media upload'),{error:e,mediaType:s}).join(""),"image"===s?13:7)),null===(t=l.storyPinPublishStopwatch)||void 0===t||t.subspanStop({name:"".concat(s,"_registration_").concat(f),bypassIsTimingCheck:!0})}));case 10:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})),M(this,"initVIPRegistrationPools",function(){l.getMediaRegistrationsFromVIP({mediaType:"image"}),l.getMediaRegistrationsFromVIP({mediaType:"video"})}),M(this,"checkAllUploadsProcessingOrCompleted",function(){for(var e=0,t=Object.keys(l.mediaUploadsMap),r=0;r<t.length;r++){var n=t[r],o=l.mediaUploadsMap[n];l.debugLog("Status of media upload ID ".concat(n," ").concat(o.mediaUpload.getClassName()," ").concat(o.status)),("completed"===o.status||"processing"===o.status&&"VideoUpload"===o.mediaUpload.getClassName())&&(e+=1)}return l.debugLog("Checking if all upload processes completed"),l.debugLog("Completed ".concat(e," out of ").concat(Object.keys(l.mediaUploadsMap).length)),e===Object.keys(l.mediaUploadsMap).length}),M(this,"checkUploadsFailed",function(){return!!Object.keys(l.mediaUploadsMap).find(function(e){return"failed"===l.mediaUploadsMap[e].status&&l.mediaUploadsMap[e].processingRetryCount>2})}),M(this,"updateUploadStatus",function(e,t){return l.mediaUploadsMap[e].status=t}),M(this,"updateVIPStatusMap",function(e){for(var t=new Date,r=function(e){var r=e.mediaId,n=e.mediaUpload,o=e.signature,i=e.uploadId,a=(t-l.vipStatusMap[i].timeSet)/1e3;n.onFinishProcessing(i,{processingTimeSec:a,signature:o}),l.updateUploadStatus(r,"completed")},n=0,o=Object.keys(e);n<o.length;n++){var i=o[n],a=e[i],s=a.failureCode,c=a.signature,u=a.status;if(i in l.vipStatusMap){var d=l.vipStatusMap[i].mediaId,f=l.mediaUploadsMap[d];if(s&&l.mediaUploadsMap[d].processingRetryCount>2){f.mediaUpload.onProcessingFailed(s),l.updateUploadStatus(d,"failed");break}l.vipStatusMap[i].status!==u||"failed"===u?(l.vipStatusMap[i]=k(k({},l.vipStatusMap[i]),{},{status:u,timeSet:t}),"processing"===u?(f.mediaUpload.onStartProcessing(i,{signature:c}),l.debugLog("Skipping media completion"),r({mediaId:d,mediaUpload:f.mediaUpload,signature:c,uploadId:i})):"succeeded"===u?(l.debugLog("Waited for media completion"),r({mediaId:d,mediaUpload:f.mediaUpload,signature:c,uploadId:i})):"failed"===u&&(l.mediaUploadsMap[d].processingRetryCount+=1,l.debugLog("Media upload ".concat(i," failed, but will keep checking ").concat(3-l.mediaUploadsMap[d].processingRetryCount," times if a retry succeeds.")))):l.statusTimeoutMap[u]&&(t-l.vipStatusMap[i].timeSet)/1e3>=l.statusTimeoutMap[u].timeoutSec&&(f.mediaUpload.onProcessingTimeout(),l.statusTimeoutMap[u].onTimeout(i,d,l.mediaUploadsMap[d].mediaUpload.getClassName()))}}}),M(this,"refreshImageRegistration",z(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.vipRegistrationPool.image={fetchedLast:0,retries:0,data:[],requestCount:0,fetchingData:!1},e.next=3,l.getMediaRegistrationsFromVIP({mediaType:"image"});case 3:case"end":return e.stop()}},e)}))),M(this,"getMediaRegistration",(n=z(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.durationMs,n=t.mediaType,!(!r&&l.vipRegistrationPool[n])){e.next=11;break}if(!l.vipRegistrationPool[n].fetchingData){e.next=5;break}return e.next=5,new Promise(function(e){var t=0,r=setInterval(function(){t+=1,l.vipRegistrationPool[n].fetchingData&&100!==t||(clearInterval(r),e())},100)});case 5:if(o=performance.now()-l.vipRegistrationPool[n].fetchedLast>=18e5,!(0===l.vipRegistrationPool[n].data.length||o)){e.next=9;break}return e.next=9,l.getMediaRegistrationsFromVIP({mediaType:n,durationMs:r});case 9:e.next=13;break;case 11:return e.next=13,l.getMediaRegistrationsFromVIP({mediaType:n,durationMs:r});case 13:return e.abrupt("return",Promise.resolve(l.vipRegistrationPool[n].data.pop()));case 14:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})),M(this,"hasAnyVideoUploads",function(){for(var e=0,t=Object.keys(l.mediaUploadsMap);e<t.length;e++){var r=t[e];if("VideoUpload"===l.mediaUploadsMap[r].mediaUpload.getClassName())return!0}return!1}),M(this,"getVipMapStatusesToString",function(){for(var e="{",t=0,r=Object.keys(l.vipStatusMap);t<r.length;t++){var n,o=r[t];e+="[".concat(o,"]:").concat(null!==(n=l.vipStatusMap[o].status)&&void 0!==n?n:"null"," ")}return e+"}"}),M(this,"handleFailure",function(e,t){l.failed||(l.onFailure(e,t),l.failed=!0)}),M(this,"handleCheckUploadsCompleted",function(){var e=l.checkAllUploadsProcessingOrCompleted();return e&&!l.completed&&(l.debugLog("All submitted media processed, calling onCompleted if it exists"),l.completed=!0,l.onCompleted()),e}),M(this,"onFinishUpload",function(e,t){l.vipStatusMap[e]={mediaId:t,status:null,timeSet:new Date},l.updateUploadStatus(t,"uploaded"),l.debugLog("Finished uploading media ID ".concat(t)),l.statusCheckInProgress||(l.statusCheckInProgress=!0,l.waitThenCheckStatus())}),M(this,"onUploadFailed",function(e,t,r){l.updateUploadStatus(e,"failed"),l.handleFailure(t,r),l.debugLog("Failed uploading media ID ".concat(e))}),M(this,"removeMediaUpload",function(e){l.mediaUploadsMap[e]&&(l.mediaUploadsMap[e].mediaUpload.cancel(),delete l.mediaUploadsMap[e])}),M(this,"addMediaUpload",function(e){var t=e.media,r=e.mediaId,n=e.uploadHandlers,o="localImage"===t.type||"webImage"===t.type?"image":"video",i=Math.round(1e3*(t.duration||0));l.getMediaRegistration({mediaType:o,durationMs:i}).then(function(e){var o=k(k({},n),{},{onFailure:function(e){var t=e.uploadId,o=e.errorMsg,i=e.mediaUploadFailureReason;l.onUploadFailed(r,o,i),n.onFailure({uploadId:t,errorMsg:o,mediaUploadFailureReason:i})},onFinishUpload:function(e,t){l.onFinishUpload(e,r),n.onFinishUpload&&n.onFinishUpload(e,t)}}),i="localImage"===t.type||"webImage"===t.type?new S({callbackHandlers:o,i18n:l.i18n,maxUploadAttempts:l.maxMediaUploadAttempts,media:t,storyPinPublishStopwatch:l.storyPinPublishStopwatch,vipRegistration:e,vipType:"image-story-pin"}):new w({callbackHandlers:o,i18n:l.i18n,maxUploadAttempts:l.maxMediaUploadAttempts,media:t,storyPinPublishStopwatch:l.storyPinPublishStopwatch,vipRegistration:e,vipType:"video-story-pin"});if(l.mediaUploadsMap[r]){l.debugLog("Cancelling existing upload media ID ".concat(r)),l.mediaUploadsMap[r].mediaUpload.cancel();var a=l.mediaUploadsMap[r].mediaUpload.uploadId;a&&a in l.vipStatusMap&&delete l.vipStatusMap[a]}l.debugLog("Added media ID to upload ".concat(r)),l.mediaUploadsMap[r]={mediaUpload:i,status:"pending",processingRetryCount:0},i.upload(),l.updateUploadStatus(r,"uploading")})}),M(this,"reset",function(){l.failed=!1,l.statusCheckFailureCount=0,l.completed=!1}),M(this,"cancelAll",function(){for(var e=0,t=Object.keys(l.mediaUploadsMap);e<t.length;e++){var r=t[e];"uploading"===l.mediaUploadsMap[r].status&&l.mediaUploadsMap[r].mediaUpload.cancel()}}),M(this,"checkStatus",z(regeneratorRuntime.mark(function e(){var t,r,n,o,i,s,c,u,d,f,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.checkUploadsFailed()){e.next=4;break}return l.statusCheckInProgress=!1,l.debugLog("There is a failure in check status ".concat(l.getVipMapStatusesToString())),e.abrupt("return");case 4:if(l.debugLog("Checking status ".concat(l.getVipMapStatusesToString())),l.statusCheckInProgress=!0,!((t=Object.keys(l.vipStatusMap)).length>0)){e.next=26;break}return e.prev=8,e.next=11,function(e,t){return C.apply(this,arguments)}(t,l.statusCheckFailureCount);case 11:for(r=e.sent,l.updateVIPStatusMap(r),l.debugLog("Check status response received ".concat(l.getVipMapStatusesToString())),n=l.handleCheckUploadsCompleted(),o=Object.keys(l.vipStatusMap),i=0,s=o;i<s.length;i++)c=s[i],u=l.vipStatusMap[c].mediaId,l.mediaUploadsMap[u]?"completed"===l.mediaUploadsMap[u].status&&(d=l.mediaUploadsMap[u].mediaUpload.signature,l.mediaUploadsMap[u].mediaUpload.vipType.includes("video")&&d&&(null===(f=l.storyPinPublishStopwatch)||void 0===f||f.updateSubspanName({currentName:"video_page_upload-".concat(c),newName:"video_page_upload-".concat(d),bypassIsTimingCheck:!0}),null===(p=l.storyPinPublishStopwatch)||void 0===p||p.updateSubspanName({currentName:"video_page_publish-".concat(c),newName:"video_page_publish-".concat(d),bypassIsTimingCheck:!0})),delete l.vipStatusMap[c]):(0,A.nP)("storypin.publish.media_uploads_map.missing_upload_id",{sampleRate:1,tags:{retryCount:l.statusCheckFailureCount,mediaId:u,vipId:c,mediaType:l.mediaUploadsMap[u].mediaUpload.getClassName()}});n?l.statusCheckInProgress=!1:l.waitThenCheckStatus(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(8),l.statusCheckFailureCount+=1,l.statusCheckFailureCount>4?(l.debugLog("Failing upload because status check failed ".concat(l.statusCheckFailureCount," times")),l.handleFailure((0,a.nk)(l.i18n._('Could not check VIP status with error: {{ errorName }} {{ errorMessage }}', 'MediaUploadManager.checkStatus.error', 'Error message for media upload'),{errorName:null===e.t0||void 0===e.t0?void 0:e.t0.name,errorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}).join(""),14),l.statusCheckInProgress=!1):(l.debugLog("Continuing upload because status check only failed ".concat(l.statusCheckFailureCount," times")),l.waitThenCheckStatus());case 24:e.next=27;break;case 26:l.handleCheckUploadsCompleted()||l.waitThenCheckStatus();case 27:case"end":return e.stop()}},e,null,[[8,20]])}))),M(this,"waitThenCheckStatus",function(){setTimeout(l.checkStatus,l.hasAnyVideoUploads()?3e3:1e3)}),this.onCancel=e.onCancel,this.onCompleted=e.onCompleted,this.onFailure=e.onFailure,this.statusTimeoutMap=e.statusTimeoutMap,this.maxMediaUploadAttempts=e.maxMediaUploadAttempts,this.inDebugMode=e.inDebugMode,this.storyPinPublishStopwatch=e.storyPinPublishStopwatch,this.i18n=e.i18n,this.statusCheckInProgress=!1,this.completed=!1,this.failed=!1,this.vipRegistrationPool={image:{fetchedLast:0,retries:0,data:[],requestCount:0,fetchingData:!1},video:{fetchedLast:0,retries:0,data:[],requestCount:0,fetchingData:!1}},this.statusCheckFailureCount=0,this.mediaUploadsMap={},this.vipStatusMap={}}return e=[{key:"debugLog",value:function(e){B(this.inDebugMode,e)}}],L(r.prototype,e),t&&L(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();function Z(e){var t=this,r=e.i18n,o=e.isEmployee,i=e.pinDraftId,a=e.storyPinPublishStopwatch;return function(e){var l=new F({i18n:r,inDebugMode:o,maxMediaUploadAttempts:n.dD,onCancel:function(){},onCompleted:function(){},onFailure:function(){},statusTimeoutMap:{registered:{onTimeout:function(e,r,n){(0,A.nP)("storypin.publish.media_uploads_map.timeout.registered",{sampleRate:1,tags:{retryCount:t.statusCheckFailureCount,mediaId:r,uploadId:e,mediaType:n}})},timeoutSec:240},processing:{onTimeout:function(e,r,n){(0,A.nP)("storypin.publish.media_uploads_map.timeout.processing",{sampleRate:1,tags:{retryCount:t.statusCheckFailureCount,mediaId:r,uploadId:e,mediaType:n}})},timeoutSec:180}},storyPinPublishStopwatch:a});l.initVIPRegistrationPools(),e({type:"PIN_DRAFT_SET_STORY_PIN_UPLOAD_MANAGER",payload:{pinDraftId:i,uploadManager:l}})}}},998285:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(353356),o=r(748254),i=r(472278),a=r(843030),l=r(252570),s=r(52925),c=r(296342);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==u(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e){var t=e.canvasAspectRatio,r=e.options,u=e.pinDraftId,d=e.pinItem,p=e.pinItemId;return function(e){if(e((0,o.Z)(u,p,f(f({},d),{},{backgroundColor:c.Lh,media:null}),r)),null!=d&&d.media){var h=d.media;"localImage"===h.type?e((0,a.Uo)(u,p,(0,n.Z)(),{media:h,edits:(0,l.Z)({canvasAspectRatio:t,media:h}),type:"story_pin_image_block"},0)):"localVideo"===h.type&&e((0,a.Uo)(u,p,(0,n.Z)(),{media:h,edits:(0,l.Z)({canvasAspectRatio:t,media:h}),type:"story_pin_video_block"},0)),("localImage"===h.type?(0,s.MW)(h):Promise.resolve([])).then(function(t){e((0,i.iY)(p,t)),t.length>0&&e((0,i.vi)(u,p,t[0]))})}}}},554410:function(e,t,r){"use strict";r.d(t,{X:function(){return m},U:function(){return y}});var n=r(186656),o=r(956800),i=r(474394),a=r(798477),l=r(843030),s=r(840839),c=r(623320),u=r(67347);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){p(i,n,o,a,l,"next",e)}function l(e){p(i,n,o,a,l,"throw",e)}a(void 0)})}}function y(e,t,r){var n;return n=h(regeneratorRuntime.mark(function n(o,i){var a,u,d,f,p,h,y,m,g,b,_;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(d=(u=i().pinbuilder).pinDrafts,f=u.storyPinItemBlocks,p=u.storyPinItems,h=d[e].pinItemIds.findIndex(function(e){return e===t}),!((y=p[t].blockIds.find(function(e){var t;return(null===(t=f[e].media)||void 0===t?void 0:t.type)==="localImage"}))&&(null===(a=f[y].media)||void 0===a?void 0:a.type)==="localImage")){n.next=11;break}return m=f[y].media,n.next=7,function(e,t,r,n){return new Promise(function(o,i){if(e.startsWith("data")){var a=(0,c.Mi)(e);(0,c.GV)(a,"image-story-pin",{onFailureUpload:function(e){var o,i,a,l,c;return i=(o={fileSizeBytes:e.fileSizeBytes,pinDraftId:t,storyPageNumber:r,uploadId:e.uploadId}).fileSizeBytes,a=o.pinDraftId,l=o.storyPageNumber,c=o.uploadId,void(0,s.Z)(n,{event_type:8785,aux_data:{file_size_mb:i/1048576,media_upload_id:c,story_pin_page_id:l,story_pin_upload_id:a}})},onFinishProcessing:function(e){var o,i,a,l,c,u,d,f=e.fileSizeBytes,p=e.processingTime;return i=(o={fileSizeBytes:f,imageSig:e.signature,pinDraftId:t,storyPageNumber:r,uploadId:e.uploadId,uploadTimeSec:e.uploadTime+p}).fileSizeBytes,a=o.imageSig,l=o.pinDraftId,c=o.storyPageNumber,u=o.uploadId,d=o.uploadTimeSec,void(0,s.Z)(n,{event_type:8781,aux_data:{file_size_mb:i/1048576,image_signature:a,media_upload_id:u,story_pin_page_id:c,story_pin_upload_id:l,upload_time:d}})},onStartUpload:function(e){var o,i,a,l,c;return i=(o={fileSizeBytes:e.fileSizeBytes,pinDraftId:t,storyPageNumber:r,uploadId:e.uploadId}).fileSizeBytes,a=o.pinDraftId,l=o.storyPageNumber,c=o.uploadId,void(0,s.Z)(n,{event_type:8780,aux_data:{file_size_mb:i/1048576,media_upload_id:c,story_pin_page_id:l,story_pin_upload_id:a}})}}).then(function(e){var t=e.signature;return o({uploadId:e.uploadId,signature:t||""})}).catch(function(e){i(e)})}else i(Error("Image must be of b64 format"))})}(m.src,e,h,r);case 7:b=(g=n.sent).signature,_=g.uploadId,o((0,l.PF)(e,y,{signature:b,uploadId:_}));case 11:case"end":return n.stop()}},n)})),function(e,t){return n.apply(this,arguments)}}function m(e,t,r){var l;return l=h(regeneratorRuntime.mark(function l(s,c){var p,h,y,m;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return h=(p=c().pinbuilder).pinDrafts,y=p.selectedPinDraftIds,l.prev=1,l.next=4,(0,n.Z)({url:"/v3/storypins/drafts/".concat(e,"/"),method:"DELETE",data:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r?{orbac_subject_id:r}:Object.freeze({}))});case 4:s((0,o.EX)({feedType:"storyPinData",feedId:t,itemIds:[e],itemType:"storypindata"})),s({type:"STORY_PIN_DATA_DELETE",payload:{storyPinDataId:e}}),(m=Object.keys(h).find(function(t){return h[t].storyPinDraftId===e}))&&(s((0,a.Z)(m)),y.includes(m)&&s((0,i.deselectPinBuilderPinDraft)(m))),l.next=14;break;case 10:throw l.prev=10,l.t0=l.catch(1),(0,u.nP)("story_pin.drafts.delete.failure",{sampleRate:1,tags:{app_type:"web"}}),Error("Unable to delete the draft");case 14:case"end":return l.stop()}},l,null,[[1,10]])})),function(e,t){return l.apply(this,arguments)}}},472278:function(e,t,r){"use strict";r.d(t,{Bl:function(){return m},Dt:function(){return p},EH:function(){return I},Gm:function(){return E},JQ:function(){return w},WZ:function(){return _},d5:function(){return j},dP:function(){return x},eU:function(){return P},go:function(){return A},h4:function(){return h},hC:function(){return y},iY:function(){return S},j8:function(){return f},kh:function(){return d},pq:function(){return g},qG:function(){return b},vi:function(){return O}});var n=r(353356),o=r(843030),i=r(252570),a=r(52925),l=r(296342);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){return{type:"STORY_PIN_ITEM_SET_DESCRIPTION",payload:{pinItemId:e,description:t}}}function f(e,t){return{type:"STORY_PIN_ITEM_SET_DESCRIPTION_ERROR",payload:{pinItemId:e,descriptionError:t}}}function p(e,t){return{type:"STORY_PIN_ITEM_SET_TITLE",payload:{pinItemId:e,title:t}}}function h(e,t){return{type:"STORY_PIN_ITEM_SET_TITLE_ERROR",payload:{pinItemId:e,titleError:t}}}function y(e,t){return{type:"STORY_PIN_ITEM_SET_MEDIA",payload:{pinItemId:e,media:t}}}function m(e,t){return{type:"STORY_PIN_ITEM_UPDATE_MEDIA",payload:{pinItemId:e,media:t}}}function g(e,t){return{type:"STORY_PIN_ITEM_UPDATE_LINK_BLOCK",payload:{pinItemId:e,linkBlock:t}}}function b(e,t){return{type:"STORY_PIN_ITEM_SET_LINK_ERROR",payload:{pinItemId:e,linkError:t}}}function _(e,t,r){return{type:"STORY_PIN_ITEM_SET_EDITED_IMAGE",payload:{pinItemId:e,editedMedia:t,canvasJson:r}}}function v(e,t,r){return{type:"STORY_PIN_ITEM_UPDATE_DATA",payload:{pinDraftId:e,pinItemId:t,pinItem:r}}}function x(e,t){return{type:"STORY_PIN_ITEM_SET_BLOCK_IDS",payload:{pinItemId:e,blockIds:t}}}function P(e,t){return{type:"STORY_PIN_ITEM_SET_SELECTED_BLOCK_ID",payload:{pinItemId:e,blockId:t}}}function O(e,t,r){return{type:"STORY_PIN_ITEM_SET_BACKGROUND_COLOR",payload:{pinDraftId:e,pinItemId:t,backgroundColor:r}}}function j(e,t,r){return{type:"STORY_PIN_ITEM_SET_LAYOUT",payload:{pinDraftId:e,pinItemId:t,layout:r}}}function S(e,t){return{type:"STORY_PIN_ITEM_SET_DOMINANT_COLORS",payload:{pinItemId:e,dominantColors:t}}}function w(e){var t=e.canvasAspectRatio,r=e.pinDraftId,s=e.pinItem,c=e.pinItemId;return function(e){if(s.media){var d=s.media;"localImage"===d.type?e((0,o.Uo)(r,c,(0,n.Z)(),{media:d,edits:(0,i.Z)({canvasAspectRatio:t,media:d}),type:"story_pin_image_block"},0)):"localVideo"===d.type&&e((0,o.Uo)(r,c,(0,n.Z)(),{media:d,edits:(0,i.Z)({canvasAspectRatio:t,media:d}),type:"story_pin_video_block"},0)),("localImage"===d.type?(0,a.MW)(d):Promise.resolve([])).then(function(t){return e(v(r,c,u(u({},s),{},{backgroundColor:t.length>0?t[0]:l.Lh,dominantColors:t,media:null})))})}else e(v(r,c,s))}}function E(e,t){return{type:"STORY_PIN_ITEM_SET_SELECTED_PIN_TAG_ID",payload:{pinItemId:e,selectedPinTagId:t}}}function A(e,t){return{type:"STORY_PIN_ITEM_UPDATE_CWT_DATA",payload:{pinItemId:e,cwtData:t}}}function I(e,t){return function(r){r({type:"STORY_PIN_ITEM_ADD_PIN_TAG",payload:{pinItemId:e,pinTagId:t,pinTag:{id:t,x:0,y:0}}}),r(E(e,t))}}},843030:function(e,t,r){"use strict";function n(e,t,r,n,o){return{type:"STORY_PIN_ITEM_ADD_BLOCK",payload:{pinDraftId:e,pinItemId:t,blockId:r,storyPinItemBlock:n,index:o}}}function o(e,t,r){return{type:"STORY_PIN_ITEM_BLOCK_UPDATE_EDITS",payload:{pinDraftId:e,blockId:t,edits:r}}}function i(e,t,r){return{type:"STORY_PIN_ITEM_BLOCK_UPDATE_MEDIA",payload:{pinDraftId:e,blockId:t,media:r}}}function a(e,t){return{type:"STORY_PIN_ITEM_BLOCK_SET_PLAYING",payload:{blockId:e,playing:t}}}function l(e,t,r){return{type:"STORY_PIN_ITEM_REMOVE_BLOCK",payload:{pinDraftId:e,pinItemId:t,blockId:r}}}function s(e,t,r){return{type:"STORY_PIN_ITEM_REORDER_BLOCKS",payload:{pinDraftId:e,pinItemId:t,blockIds:r}}}function c(e,t,r){return{type:"STORY_PIN_ITEM_UPDATE_BLOCK",payload:{pinDraftId:e,blockId:t,storyPinItemBlock:r}}}r.d(t,{Ny:function(){return l},PF:function(){return i},Uo:function(){return n},_E:function(){return o},_Z:function(){return c},gs:function(){return a},mI:function(){return s}})},205992:function(e,t,r){"use strict";r.d(t,{Cp:function(){return p},GT:function(){return s},V6:function(){return a},W2:function(){return u},W6:function(){return h},_L:function(){return f},fm:function(){return l},hT:function(){return c}});var n=r(214494),o=r(56528),i=r(248327);function a(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}var l=function(e){return{type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}},s=function(e){return{type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}}};function c(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}var u=function(e,t,r){return function(n){n({type:"USER_SETTING_CHANGE",payload:{id:e,field:t,value:r}})}},d=function(e){var t=e.split(" ");return{first_name:t[0],last_name:t[1]}},f=function(e){var t=e.field,r=e.value,o=e.passcode,a=e.onSettingSavedHn,l=e.showErrorHn,s=e.surfaceTag,c=e.userId;return function(e,f){var p=f().users[c],h={user_id:c,surface_tag:s};if("full_name"===t){if(p.is_partner)h.business_name=r;else{var y=d(r);h.first_name=y.first_name,h.last_name=y.last_name||""}}else h[t]=r;o&&(h.passcode=o),n.Z.create("UserSettingsResource",h).callUpdate().then(function(){if("profile_image_url"===t)e((0,i.b)("UserResource",{options:h}));else if("full_name"===t){if(p.is_partner)e(u(c,"first_name",r));else{var n=d(r);e(u(c,"first_name",n.first_name)),e(u(c,"last_name",n.last_name))}}p.is_partner&&("account_type"===t||"contact_name"===t)?e(function(e){e({type:"USER_PARTNER_SETTING_CHANGE",payload:{id:c,field:t,value:r}})}):e(u(c,t,r)),a()},l)}},p=function(e,t,r,n,i,a){return function(){(0,o.Z)({new:t,new_confirm:r,old:e,passcode:n}).then(i,a)}},h=function(e,t,r,o,i,a){return function(l){l(u(e,"".concat(t,".").concat(r),o));var s={},c="EmailSettingsResource";void 0!==i?(s={section:t,option:r,value:o,od:i.od,user_id:i.user_id},c="UnsubEmailSettingsResource"):s={section:t,option:r,value:o},n.Z.create(c,s).callUpdate().then(a).catch(function(){return l(u(e,"".concat(t,".").concat(r),!o))})}}},492583:function(e,t){"use strict";t.Z={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},20064:function(e,t,r){"use strict";r.d(t,{E:function(){return s}});var n=r(767546);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s={description:"",descriptionError:null,editorInstanceId:"",isTaggable:!0,link:"",linkError:null,media:null,pinTagIds:[],selectedPinTagId:null,tagError:null,title:"",titleError:null,canvasJson:null,signals:{},userMentionTags:[]};t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PIN_DRAFT_ADD_PIN_ITEM":case"PIN_ITEM_UPDATE_DATA":var r=t.payload.pinItem;return l(l(l({},e),r),{},{signals:l(l({},e.signals),null==r?void 0:r.signals)});case"PIN_ITEM_ADD_PIN_TAG":var o,a=t.payload.pinTagId;return l(l({},e),{},{pinTagIds:[].concat(function(e){if(Array.isArray(e))return i(e)}(o=e.pinTagIds)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(o)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[a])});case"PIN_ITEM_REMOVE_PIN_TAG":var c=t.payload.pinTagId;return l(l({},e),{},{pinTagIds:e.pinTagIds.filter(function(e){return e!==c})});case"PIN_ITEM_SET_DESCRIPTION":var u=t.payload.description;return l(l({},e),{},{description:u});case"PIN_ITEM_SET_DESCRIPTION_ERROR":var d=t.payload,f=d.descriptionError,p=d.signals;return l(l({},e),{},{descriptionError:f,signals:l(l({},e.signals),p)});case"PIN_ITEM_SET_IS_TAGGABLE":var h=t.payload.isTaggable;return l(l({},e),{},{isTaggable:h});case"PIN_ITEM_SET_LINK":var y=t.payload.link;return l(l({},e),{},{link:y});case"PIN_ITEM_SET_LINK_ERROR":var m=t.payload,g=m.linkError,b=m.signals;return l(l({},e),{},{linkError:g,signals:l(l({},e.signals),b)});case"PIN_ITEM_SET_MEDIA":var _=t.payload.media,v=(null==_?void 0:_.type)!=="localVideo"&&(!!_&&!e.link||e.isTaggable);return l(l({},e),{},{canvasJson:null,isTaggable:v,media:_,pinTagIds:[],selectedPinTagId:null});case"PIN_ITEM_UPDATE_MEDIA":var x=t.payload.media;return l(l({},e),{},{media:e.media?(0,n.Z)(e.media,x):null});case"PIN_ITEM_SET_SELECTED_PIN_TAG_ID":var P=t.payload.selectedPinTagId;return l(l({},e),{},{selectedPinTagId:P});case"PIN_ITEM_SET_TAG_ERROR":var O=t.payload.tagError;return l(l({},e),{},{tagError:O});case"PIN_ITEM_SET_TITLE":var j=t.payload.title;return l(l({},e),{},{title:j});case"PIN_ITEM_SET_TITLE_ERROR":var S=t.payload,w=S.titleError,E=S.signals;return l(l({},e),{},{titleError:w,signals:l(l({},e.signals),E)});case"PIN_ITEM_SET_EDITED_IMAGE":var A=t.payload,I=A.editedMedia,C=A.canvasJson;return l(l({},e),{},{media:I,canvasJson:C});default:return e}}},106331:function(e,t,r){"use strict";r.d(t,{FQ:function(){return P},JT:function(){return m},ND:function(){return b},Ob:function(){return w},Qj:function(){return j},VK:function(){return v},_V:function(){return A},d_:function(){return x},gF:function(){return g},gI:function(){return E},gl:function(){return y},jP:function(){return S},nJ:function(){return h},p:function(){return O},pX:function(){return I},vd:function(){return _},xA:function(){return p}});var n=r(904202),o=r(47615),i=r(490072),a=r(562501);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e){return e.values().next().value}var p=function(e){return e.pinbuilder.selectedPinDraftIds},h=function(e){return e.pinbuilder.createdPinIds},y=function(e){var t=e.pinbuilder,r=t.createdPinIds;return Object.values(t.pinDrafts).reduce(function(e,t){return r.includes(t.pinId)&&"carousel"===t.type?[].concat(c(e),[t.pinId||""]):e},[])},m=function(e){var t=e.pinbuilder,r=t.createdPinIds,n=t.pinDrafts,o=t.pinDraftIds;return Object.keys(n).reduce(function(e,t){var i=n[t],a=i&&i.pinId;return o.includes(t)&&a&&r.includes(a)&&!0!==i.isAdIneligible&&!0!==i.isShowcase&&!0!==i.isQuizAd?[].concat(c(e),[a]):e},[])},g=function(e){var t=e.pinbuilder,r=t.createdPinIds;return Object.values(t.pinDrafts).filter(function(e){return e&&e.pinId&&e.isShowcase&&r.includes(e.pinId)}).map(function(e){return e.pinId||""})},b=function(e){return Object.values(e.pinbuilder.pinDrafts).filter(function(e){return e&&e.isShowcase&&!e.pinId&&"created"!==e.status}).map(function(e){return e.status})},_=function(e){return e.pinbuilder.pinDraftIds},v=(0,n.P1)([_,i.OW],function(e,t){return e.filter(function(e){return"story"!==t[e].type})}),x=(0,n.P1)([_,i.OW],function(e,t){return e.filter(function(e){return"succeeded"!==t[e].status})}),P=(0,n.P1)([_,i.OW],function(e,t){return e.filter(function(e){return"succeeded"!==t[e].status&&"story"!==t[e].type})}),O=(0,n.P1)([p,i.OW,a.ng],function(e,t,r){var n=e.reduce(function(e,n){var o=t[n],i=o.pinItemIds,a=o.publishOption,l=o.scheduledDate,s=o.scheduledTime,c=o.selectedItem;return e.publishOptions.add(a),e.scheduledDates.add(l?l.toDateString():null),e.scheduledTimes.add(s?s.toTimeString():null),e.selectedItems.add(c?JSON.stringify(c,Object.keys(c).sort()):null),i.forEach(function(t){var n=r[t],o=n.description,i=n.link,a=n.title;e.descriptions.add(o),e.titles.add(a),e.links.add(i)}),e},{descriptions:new Set,links:new Set,publishOptions:new Set,scheduledDates:new Set,scheduledTimes:new Set,selectedItems:new Set,titles:new Set}),o=n.descriptions,i=n.links,a=n.publishOptions,l=n.scheduledDates,s=n.scheduledTimes,c=n.selectedItems,u=n.titles,d=f(l),p=f(s),h=f(c),y=d&&new Date(d),m=p&&new Date("".concat(new Date().toDateString()," ").concat(p)),g=h&&JSON.parse(h);return{initialDescription:1===o.size?f(o):void 0,initialLink:1===i.size?f(i):void 0,initialPublishOption:1===a.size?f(a):void 0,initialScheduledDate:1===l.size?y:void 0,initialScheduledTime:1===s.size?m:void 0,initialSelectedItem:1===c.size?g:void 0,initialTitle:1===u.size?f(u):void 0}}),j=function(e,t,r){var n=e.pinbuilder,i=n.pinTags,l=n.pinDrafts,s=n.pinItems,c=l[t].type,u=s[r].media;return"carousel"===c?"CAROUSEL":i&&Object.keys(i).length>0&&(0,a.jk)()(e,{pinItemId:r}).length>0?"COLLECTIONS":(null==u?void 0:u.type)==="localVideo"?"VIDEO":(0,o.Sl)(u)?"STATIC":null},S=function(e,t){var r,n={},o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}(e);try{for(o.s();!(r=o.n()).done;){var i,a=t[r.value].publishingStatus;n[a]=(null!==(i=n[a])&&void 0!==i?i:0)+1}}catch(e){o.e(e)}finally{o.f()}return n},w=function(e){return e.pinbuilder.isBatchEditMode},E=function(e){var t=e.pinbuilder,r=t.createdPinIds,n=t.pinDrafts,o=t.pinDraftIds;return o?o.reduce(function(e,t){var o=n[t],i=o&&o.pinId;if(i&&r.includes(i)&&n[t].isQuizAd){var a=n[t],c=a.parentPinId,u=a.quizResultIndex,d=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);if(c&&"number"==typeof u){var f=d[c]||[];f[u]=i,d[c]=f}return d}return e},{}):{}},A=function(e,t,r){var n=e.pinbuilder,o=n.pinDrafts,i=n.pinDraftIds;return(i&&i.reduce(function(e,n){return o[n]&&o[n].parentPinId===t&&o[n].quizResultIndex===r?[].concat(c(e),[n]):e},[])||[]).length>0},I=function(e){var t=e.pinbuilder,r=t.pinDrafts,n=t.pinDraftIds,o=void 0===n?[]:n,i=o.reduce(function(e,t){return r[t]&&r[t].isQuizAd?[].concat(c(e),[t]):e},[]),a={};o.forEach(function(e){a[e]&&!a[e].isQuizAd&&delete r[e]});var l=S(i,r),s=l.publishing,u=void 0===s?0:s,d=l.clientError,f=l.serverError,p=l.succeeded,h=(void 0===d?0:d)+(void 0===f?0:f);return u>0?{quizPinPublishingCount:u+(void 0===p?0:p),quizStatus:"publishing"}:h>0?{quizPinPublishingCount:h,quizStatus:"error"}:null}},490072:function(e,t,r){"use strict";r.d(t,{DJ:function(){return O},Dt:function(){return A},Fh:function(){return k},IF:function(){return h},NW:function(){return f},OK:function(){return d},OW:function(){return u},Sg:function(){return P},V$:function(){return x},W3:function(){return I},Wp:function(){return L},Xe:function(){return p},fw:function(){return C},gQ:function(){return w},jX:function(){return j},jl:function(){return S},kD:function(){return g},mR:function(){return T},mf:function(){return m},nL:function(){return D},pc:function(){return v},pq:function(){return y},q7:function(){return b},uO:function(){return _},v8:function(){return E},wN:function(){return R},xA:function(){return z}});var n=r(904202),o=r(122668);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){var n;return(n=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===i(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u=function(e){return e.pinbuilder.pinDrafts},d=function(e,t){return e.pinbuilder.pinDrafts[t]},f=function(e){var t=e.pinbuilder.pinDrafts,r={};return Object.keys(t).forEach(function(e){"story"!==t[e].type&&(r[e]=t[e])}),r},p=function(e,t){return e.pinbuilder.pinDrafts[t.pinDraftId].view},h=function(e,t){return e.pinbuilder.pinDrafts[t.pinDraftId].pinItemIndex},y=function(e,t){return e.pinbuilder.pinDrafts[t.pinDraftId].pinItemIds},m=function(e,t){return e.pinbuilder.pinDrafts[t.pinDraftId].isCommentsAllowed},g=function(e,t){return e.pinbuilder.pinDrafts[t.pinDraftId].isShoppingRecAllowed},b=function(e,t){var r=e.pinbuilder,n=r.pinDrafts,o=r.storyPinItems;return n[t.pinDraftId].pinItemIds.map(function(e){return o[e]})},_=function(e,t){var r=e.pinbuilder,n=r.pinDrafts,o=r.storyPinItemBlocks,i=r.storyPinItems;return n[t.pinDraftId].pinItemIds.map(function(e){return i[e].blockIds.map(function(e){return o[e]})}).flat()},v=function(e,t){var r,n,i=e.pinbuilder.pinDrafts[t.pinDraftId],a=i.pinItemIds,l=i.storyPinMetadata,s=(0,o.YE)(e,{pinItemId:a[0]}),c=Object.keys(s);return null!==(r=null==l?void 0:null===(n=l.title)||void 0===n?void 0:n.trim())&&void 0!==r?r:s&&c.length>0?s[c[c.length-1]].text.trim():""},x=function(e,t){var r,n=e.pinbuilder.pinDrafts[t.pinDraftId].storyPinMetadata;return null!==(r=null==n?void 0:n.description)&&void 0!==r?r:""},P=function(e,t){var r,n=e.pinbuilder.pinDrafts[t.pinDraftId].storyPinMetadata;return null!==(r=null==n?void 0:n.userMentionTags)&&void 0!==r?r:[]},O=function(e,t){var r,n=e.pinbuilder.pinDrafts[t.pinDraftId].storyPinMetadata;return(null==n?void 0:null===(r=n.link)||void 0===r?void 0:r.trim())||""},j=function(e,t){return e.pinbuilder.pinDrafts[t.pinDraftId].selectedItem},S=function(e,t){var r=y(e,t)[0];return(0,o.iD)()(e,{pinItemId:r})},w=function(e,t){var r=e.pinbuilder.pinDrafts[t.pinDraftId].pinItemIds,n=[];return r.forEach(function(t){var r=(0,o.YE)(e,{pinItemId:t}),i=Object.keys(r).map(function(e){return r[e]});n.push.apply(n,function(e){if(Array.isArray(e))return c(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}}(i)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}),n},E=function(e,t){return e.pinbuilder.pinDrafts[t.pinDraftId].interestTags||[]},A={PENDING:0,VALID:1,INVALID:2},I=function(e,t){var r,n=e.pinbuilder.pinDrafts[t.pinDraftId].storyPinMetadata;return null!==(r=null==n?void 0:n.linkStatus)&&void 0!==r?r:A.VALID},C=function(e,t){var r=e.pinbuilder.pinDrafts[t.pinDraftId].storyPinMetadata;return null==r?void 0:r.linkError},T=function(e,t,r){return _(e,t).filter(function(e){return r.includes(e.type)})},D=function(){return(0,n.P1)([y,h],function(e,t){return e[t]})},k=function(e,t){var r=e.pinDrafts[t.pinDraftId],n=r.pinItemIds,o=!!(r.apiError||r.boardError||r.mediaError),i=n.reduce(function(t,r){var n=e.pinItems[r]||e.storyPinItems[r];return!!(t||n.descriptionError||n.linkError||n.tagError||n.titleError)},!1);return o||i},R=function(e,t){var r=e.pinDrafts[t.pinDraftId],n=r.pinItemIds,o=r.selectedItem,i=n.reduce(function(t,r){var n=e.pinItems[r]||e.storyPinItems[r];return!!(t||n.description||n.link||n.media||n.title)},!1);return!!(void 0===o?null:o)||i},z=function(e){return e.pinbuilder.selectedPinDraftIds},L=function(e){var t=e.pinbuilder,r=t.pinDraftIds,n=t.pinDrafts;return Object.keys(n).filter(function(e){return r.includes(e)}).reduce(function(e,t){return l(l({},e),{},s({},t,n[t]))},{})}},562501:function(e,t,r){"use strict";r.d(t,{Bg:function(){return u},CQ:function(){return p},M:function(){return s},jk:function(){return h},ng:function(){return a},vd:function(){return f},wc:function(){return l}});var n=r(904202),o=r(957025),i=r(351870),a=function(e){return e.pinbuilder.pinItems},l=function(e,t){return e.pinbuilder.pinItems[t.pinItemId].isTaggable},s=function(e,t){return e.pinbuilder.pinItems[t.pinItemId].selectedPinTagId},c=function(e,t){return e.pinbuilder.pinItems[t.pinItemId].pinTagIds},u=function(e,t){return e.pinbuilder.pinItems[t.pinItemId].media},d=(0,n.P1)([c,o.Oo],function(e,t){return e.reduce(function(e,r){var n=t[r],o=n.status,i=n.taggedObjectIds;return"deleted"!==o&&i.forEach(function(t){return e.push(t)}),e},[])}),f=function(){return(0,n.P1)([c,o.Oo],function(e,t){return e.filter(function(e){return"deleted"!==t[e].status})})},p=function(){return(0,n.P1)([d,i.nb],function(e,t){return e.map(function(e){return t[e]}).filter(function(e){return"deleted"!==e.status})})},h=function(){return(0,n.P1)([d,i.nb],function(e,t){return e.filter(function(e){return"deleted"!==t[e].status})})}},957025:function(e,t,r){"use strict";r.d(t,{A$:function(){return l},Oo:function(){return i}});var n=r(904202),o=r(351870),i=function(e){return e.pinbuilder.pinTags},a=function(e,t){return e.pinbuilder.pinTags[t.pinTagId].taggedObjectIds},l=function(){return(0,n.P1)([a,o.nb],function(e,t){return e.filter(function(e){return"deleted"!==t[e].status})})}},122668:function(e,t,r){"use strict";r.d(t,{AC:function(){return f},CI:function(){return s},NR:function(){return d},X4:function(){return y},YE:function(){return p},YP:function(){return _},bS:function(){return u},i3:function(){return b},iD:function(){return g},mX:function(){return c},wH:function(){return l},yp:function(){return h}});var n=r(904202),o=r(957025),i=r(351870),a=["story_pin_heading_block","story_pin_paragraph_block"],l=function(e,t){return e.pinbuilder.storyPinItems[t]};function s(e){var t=e.storyPinItemBlocks;return e.storyPinItemBlockIds.find(function(e){return!!t[e].media})}var c=function(e,t){var r=e.pinbuilder.storyPinItems[t.pinItemId];return r?s({storyPinItemBlocks:e.pinbuilder.storyPinItemBlocks,storyPinItemBlockIds:r.blockIds}):null};function u(e){var t=e.storyPinItemBlockIds,r=e.storyPinItemBlocks;return t.find(function(e){return a.includes(r[e].type)})}var d=function(e,t){return e.pinbuilder.storyPinItems[t.pinItemId].selectedBlockId};function f(e){var t=e.pinItemId,r=e.storyPinItemBlocks,n=e.storyPinItems[t],o={};return n&&n.blockIds.filter(function(e){return a.includes(r[e].type)}).forEach(function(e){o[e]=r[e]}),o}var p=function(e,t){var r=t.pinItemId,n=e.pinbuilder,o=n.storyPinItemBlocks;return f({storyPinItems:n.storyPinItems,pinItemId:r,storyPinItemBlocks:o})},h=function(e,t){var r=e.pinbuilder.storyPinItems[t.pinItemId];return r?r.blockIds.map(function(t){return e.pinbuilder.storyPinItemBlocks[t]}):[]},y=function(e,t,r){return e.pinbuilder.storyPinItems[t.pinItemId].blockIds.find(function(t){return e.pinbuilder.storyPinItemBlocks[t].type===r})},m=(0,n.P1)([function(e,t){return e.pinbuilder.storyPinItems[t.pinItemId].pinTagIds},o.Oo],function(e,t){return e.reduce(function(e,r){var n=t[r],o=n.status,i=n.taggedObjectIds;return"deleted"!==o&&i.forEach(function(t){return e.push(t)}),e},[])}),g=function(){return(0,n.P1)([m,i.nb],function(e,t){return e.map(function(e){return t[e]}).filter(function(e){return"deleted"!==e.status})})},b=function(){return(0,n.P1)([m,i.nb],function(e,t){return e.filter(function(e){return"deleted"!==t[e].status})})},_=function(e,t){return e.pinbuilder.storyPinItems[t.pinItemId].cwtData}},351870:function(e,t,r){"use strict";function n(e){return e.pinbuilder.taggedObjects}function o(e,t){var r;return null===(r=n(e)[t])||void 0===r?void 0:r.media}r.d(t,{nb:function(){return n},xe:function(){return o}})},960278:function(e,t,r){"use strict";r.d(t,{I:function(){return u}});var n=r(773285),o=r(784590),i=r(845772),a=["children"];function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var c=function(e){var t=e.boardId,r=e.ownerUsername,a=e.ownerName,c=e.ownerImgSrc,u=(0,n.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled,d=(0,i.Z)(),f=(0,o.Z)({name:"BoardInvitesResource",options:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({board_id:t,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},u&&d?{orbac_subject_id:d}:{})}),p=f.data,h=f.isLoaded,y=[{name:a,src:c,href:"/".concat(r,"/"),isDim:!1}];return h&&p&&p.length>0&&p.forEach(function(e){y.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?"/".concat(e.invited_user.username,"/"):"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),y};function u(e){return(0,e.children)(c(function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,a)))}t.Z=c},217641:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(76911),o=r(908390),i=r(515198);function a(e){var t=e.accessibilityLabel,r=e.focused,a=e.id,l=e.onBlur,s=e.onChange,c=e.onFocus,u=e.placeholder,d=e.value,f=e.size,p=(0,n.useRef)(null);return(0,n.useEffect)(function(){if(r){var e=p.current;window.requestAnimationFrame(function(){var t=e&&e.querySelector("input");t instanceof HTMLInputElement&&t.focus()})}},[r]),(0,i.jsx)(o.xu,{ref:p,children:(0,i.jsx)(o.Um,{accessibilityLabel:t,id:a,onBlur:l,onChange:s,onFocus:c,placeholder:u,size:void 0===f?"lg":f,value:d})})}},553751:function(e,t,r){"use strict";var n=r(76911),o=r(506979),i=r(908390),a=r(112690),l=r(898781),s=r(755742),c=r(19121),u=r(717615),d=r(231947),f=r(274495),p=r(678638),h=r(515198);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){P(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O(n.key),n)}}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,r){return(t=O(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==y(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,r,n,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=x(a);if(t){var n=x(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function a(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),P(v(t=o.call(this,e)),"onCreateSection",function(){var e=t.props,r=e.board,n=e.sourceBoard,o=e.sourceSection,i=e.dispatch,a=e.completeCreateSectionAction,l=e.pinImport,s=e.viewer,c=e.orbacActingAs,u=e.logContextEvent,f=(0,d.lJ)(s,c);return t.setState({isSaving:!0}),i((0,p.vB)({boardId:r.id,sourceBoardId:n&&n.id,sourceSectionId:o&&o.id,name:t.state.inputName.trim(),pinImport:l},t.props.i18n,f,u)).then(function(e){t.setState({isSaving:!1}),a(e)}).catch(function(e){t.setState({createError:e.message_detail||e.message,isSaving:!1})})}),P(v(t),"handleKeyDown",function(e){var r=e.event,n=t.state,o=n.createError,i=n.inputName;[s.Z.ENTER,s.Z.NUMPAD_ENTER].includes(r.which)&&!o&&i.trim()&&t.onCreateSection()}),P(v(t),"handleChangeName",function(e){var r=e.value;t.setState({createError:null,inputName:r})}),P(v(t),"handleInputRef",function(e){t.setState({inputRef:e})}),t.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1},t}return r=[{key:"componentDidUpdate",value:function(e,t){var r=this.state,n=r.createError,o=r.inputRef;o&&(!t.inputRef||n)&&o.focus()}},{key:"render",value:function(){var e=this.props,t=e.showTitle,r=e.positionRelative,n=this.state,o=n.createError,a=n.inputName,l=n.isSaving,s=!!a.trim()&&!o;return(0,h.jsxs)(i.xu,{display:"flex",direction:"column",color:"default",flex:"grow",top:!0,bottom:!0,right:!0,position:r?"relative":"absolute",rounding:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},children:[t&&(0,h.jsx)(i.xu,{marginTop:3,paddingX:6,paddingY:3,children:(0,h.jsx)(i.X6,{size:"400",children:this.props.i18n._('Add section', 'Title in the add section modal', 'Title in the add section modal')})}),(0,h.jsxs)(i.xu,{padding:4,children:[(0,h.jsx)(i.xu,{marginBottom:2,children:(0,h.jsx)(i.__,{htmlFor:"sectionEditName",children:(0,h.jsx)(i.xv,{size:"200",color:o?"error":"subtle",children:this.props.i18n._('Name', 'Board section name', 'Board section name')})})}),(0,h.jsx)(i.xu,{children:(0,h.jsx)(i.xu,{ref:this.handleInputRef,children:(0,h.jsx)(i.nv,{errorMessage:o||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Like "Lighting"', 'Placeholder for board section name', 'Placeholder for board section name'),size:"lg",type:"text",value:a})})})]}),(0,h.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow"}),(0,h.jsx)(i.xu,{padding:4,children:(0,h.jsx)(i.kC,{alignItems:"stretch",justifyContent:"end",children:(0,h.jsx)(f.Z,{disabled:!s||l,onClick:this.onCreateSection,submitting:l,text:this.props.i18n._('Add', 'add a new section', 'add a new section')})})})]})}}],b(a.prototype,r),n&&b(a,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.Component);t.Z=function(e){var t=(0,o.useDispatch)(),r=(0,l.ZP)(),n=(0,c.Z)(),i=(0,u.Z)();return(0,h.jsx)(j,g(g({},e),{},{dispatch:t,i18n:r,logContextEvent:(0,a.Z)(),viewer:n,orbacActingAs:i}))}},818747:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(908390),o=r(89254),i=r(515198);function a(e){var t=e.url,r=e.description,a=e.color;return a=a||"#8fa7bf",(0,i.jsx)(n.xu,{rounding:2,height:216,width:"100%",dangerouslySetInlineStyle:{__style:{background:a}},children:(0,i.jsxs)(n.xu,{maxHeight:200,padding:4,overflow:"hidden",children:[t&&(0,i.jsx)(n.xu,{marginBottom:2,children:(0,i.jsx)(n.xv,{color:"inverse",size:"100",children:(0,o.Z)(t).hostname||t})}),(0,i.jsx)(n.xu,{maxHeight:144,children:(0,i.jsx)(n.xv,{color:"inverse",overflow:"normal",weight:"bold",children:r})})]})})}},850760:function(e,t,r){"use strict";var n=r(76911),o=r(908390),i=r(407043),a=r(312918),l=r(142103),s=r(515198);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=y(u);if(t){var n=y(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return m(h(e=i.call.apply(i,[this].concat(r))),"state",{}),m(h(e),"handleUserFollow",function(t,r){e.setState({isFollowing:r}),r?e.props.logContextEvent({event_type:45,object_id_str:t,view_type:3,view_parameter:73}):e.props.logContextEvent({event_type:46,object_id_str:t,view_type:3,view_parameter:73})}),e}return r=[{key:"render",value:function(){var e=this,t=this.props.user,r=t.id,n=t.full_name,i=t.image_medium_url,c=t.username,u=c?"/".concat(c,"/"):"";return r&&n?(0,s.jsxs)(o.xu,{display:"flex",alignItems:"center",marginStart:-1,marginEnd:-1,children:[(0,s.jsx)(o.xu,{flex:"grow",paddingX:1,children:(0,s.jsx)(a.Z,{fullName:n,imageUrl:i,profileUrl:u,openNewTab:!0})}),(0,s.jsx)(o.xu,{flex:"none",paddingX:1,children:(0,s.jsx)(l.Z,{fullName:n,suppressToasts:!0,id:r,imageUrl:i||"",isOwnProfile:!1,onUserFollow:function(t){return e.handleUserFollow(r,t)},profileUrl:u,size:"md"})})]}):null}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){return void 0===t.isFollowing&&e.user?{isFollowing:e.user.followed_by_me}:Object.freeze({})}}],r&&f(u.prototype,r),n&&f(u,n),Object.defineProperty(u,"prototype",{writable:!1}),u}(n.PureComponent);t.Z=function(e){var t=(0,i.v)().logContextEvent;return(0,s.jsx)(b,d(d({},e),{},{logContextEvent:t}))}},854907:function(e,t,r){"use strict";function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function i(e){var t,r=[],o="",i=n(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(o){var l=!!a.match(/\s/),s=!!o.match(/\s/);if(l===s)o+=a;else if(!s&&o.includes("-")){for(var c=0,u=0;u<o.length;u+=1)"-"===o[u]&&(r.push(o.substring(c,u+1)),c=u+1);r.push(o.substring(c)),o=a}else r.push(o),o=a}else o=a}}catch(e){i.e(e)}finally{i.f()}return o.length&&r.push(o),r}function a(e){var t,r,o=e.boxHeight,a=e.boxWidth,l=e.font,s=e.startFontSize,c=e.text;if("undefined"==typeof document||!document.body)return{fontSize:s,lines:[]};var u=document.body,d=document.createElement("div");u.appendChild(d);var f=null==c?void 0:c.split(/\r?\n/g),p=s,h={letterSpacing:(null===(t=l.fontOverrides)||void 0===t?void 0:t.letterSpacing)!=null?"".concat(l.fontOverrides.letterSpacing,"px"):void 0,lineHeight:String((null===(r=l.fontOverrides)||void 0===r?void 0:r.lineHeight)||1.1),fontFamily:l.fontFamily,fontSize:"".concat(p,"px"),position:"absolute",visibility:"hidden",width:"".concat(a,"px")};Object.assign(d.style,h);var y=document.createElement("div");for(y.style.display="inline",d.appendChild(y),(null!=f?f:[]).forEach(function(e,t){var r=document.createElement("span");r.style.wordBreak="break-word",y.appendChild(r),r.appendChild(document.createTextNode(e)),t!==(null!=c?c:"").length-1&&r.appendChild(document.createElement("br"))});(y.offsetHeight>o||y.offsetWidth>a)&&p>0;)p-=1,d.style.fontSize="".concat(p,"px");return y.remove(),d.remove(),{fontSize:p,lines:p>0?function(e){var t=e.font,r=e.fontSize,o=e.textList,a=e.width;if("undefined"==typeof document||!document.body||a<=0||r<=0)return[];var l=document.body,s=document.createElement("div");l.appendChild(s);var c={letterSpacing:(null===(f=t.fontOverrides)||void 0===f?void 0:f.letterSpacing)!=null?"".concat(t.fontOverrides.letterSpacing,"px"):void 0,lineHeight:String((null===(p=t.fontOverrides)||void 0===p?void 0:p.lineHeight)||1.1),fontFamily:t.fontFamily,fontSize:"".concat(r,"px"),visibility:"hidden"};Object.assign(s.style,c);var u=document.createElement("div");u.style.display="inline",s.appendChild(u);var d=document.createTextNode("");u.appendChild(d);var f,p,h,y=[],m="",g=function(e){var t=e.trim();return d.textContent=t,{text:t,width:u.offsetWidth}},b=function e(t){var r=!!t.match(/\s/),o=0===m.length;if(d.textContent="".concat(m).concat(t),u.offsetWidth>a){if(r)y.push(g(m)),m="";else if(o){var i,l=n(t);try{for(l.s();!(i=l.n()).done;){var s=i.value;e(s)}}catch(e){l.e(e)}finally{l.f()}}else y.push(g(m)),m="",e(t)}else m+=t},_=n(null!=o?o:[]);try{for(_.s();!(h=_.n()).done;){var v=h.value;0===v.length&&y.push(g(m)),i(v).forEach(function(e){return b(e)}),m.length&&(y.push(g(m)),m="")}}catch(e){_.e(e)}finally{_.f()}return u.remove(),s.remove(),y}({font:l,fontSize:p,textList:f,width:a}):[]}}function l(e){var t=window.getComputedStyle(e,null),r=parseFloat(t.getPropertyValue("height").replace("px","")),n=parseFloat(t.getPropertyValue("font-size").replace("px","")),o=parseFloat(t.getPropertyValue("line-height").replace("px",""));return Number.isNaN(o)&&(o=1.2*n),Math.ceil(r/o)}r.d(t,{KV:function(){return a},Yd:function(){return i},xW:function(){return l}})},962047:function(e,t,r){"use strict";r.d(t,{CP:function(){return i},K3:function(){return l},Lr:function(){return h},NF:function(){return p},R4:function(){return u},RJ:function(){return y},RO:function(){return d},S8:function(){return s},VH:function(){return m},Z0:function(){return f},iS:function(){return o},k5:function(){return c},uK:function(){return a}});var n=r(858472),o=320,i=10,a=100,l=250,s=100,c=100,u=3,d=2,f=1,p=n.x7,h=6,y={upload:228,design:226,details:437,target:432},m=104},919974:function(e,t,r){"use strict";var n=r(908390),o=r(898781),i=r(515198);t.Z=function(){var e=(0,o.ZP)();return(0,i.jsx)(n.xu,{paddingX:10,width:"100%",children:(0,i.jsx)(n.xu,{color:"errorWeak",display:"flex",direction:"column",smDirection:"row",padding:7,position:"relative",rounding:4,children:(0,i.jsxs)(n.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,i.jsx)(n.xu,{flex:"none",children:(0,i.jsx)(n.JO,{accessibilityLabel:e._('Workflow status problem icon', 'disablePinCreationBanner.icon.accessibilityLabel', 'Accessibility label for info icon'),color:"error",icon:"workflow-status-problem",size:32})}),(0,i.jsxs)(n.xu,{marginBottom:"auto",marginTop:"auto",paddingX:4,display:"flex",direction:"column",flex:"grow",children:[(0,i.jsx)(n.X6,{size:"400",children:e._('Oops...', 'disablePinCreationBanner.icon.title', 'Title for banner to indicate there is an error.')}),(0,i.jsx)(n.xu,{marginTop:2,children:(0,i.jsx)(n.xv,{children:e._('Our server is experiencing a mild case of the hiccups at the moment. Please try refreshing and publishing again later.', 'disablePinCreationBanner.icon.message', 'Message for banner to let users know there is an error.')})})]})]})})})}},52925:function(e,t,r){"use strict";r.d(t,{Cl:function(){return x},MW:function(){return y},Nq:function(){return g},St:function(){return h},T0:function(){return O},V3:function(){return j},Zy:function(){return b},dz:function(){return m},eE:function(){return P},qk:function(){return v},wX:function(){return S},x5:function(){return _}});var n=r(599689),o=r(791772),i=r.n(o),a=r(780280),l=r(170168),s=r(490072),c=r(962047),u=r(296342),d=r(854907);function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(e){return["#111111","#370052","#00205C","#01564C","#363F03","#573700","#5E031A","#97026D","#8000BD","#0045CC"][e]}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.body&&window.document.body?new Promise(function(r){var n=e.height,o=e.src,a=e.width,l=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},s=document.createElement("canvas");s.width=a,s.height=n;var c=document.createElement("img");c.onload=function(){var e=s.getContext("2d");e.drawImage(c,0,0);for(var o=e.getImageData(0,0,a,n).data,u=[],d=a*n,f=0;f<d;f+=10){var p=4*f;u.push([o[p],o[p+1],o[p+2]])}var h=i()(u,t).palette();s.remove(),c.remove(),r(h.map(function(e){var t,r,n;return t=e[0],r=e[1],n=e[2],"#"+l(t)+l(r)+l(n)}))},c.src=o}):Promise.reject([])}function m(e){var t,r=e.blockStyle,n=e.canvasAspectRatio,o=e.media;if(!r)return{left:0,scale:1,top:0,transform:{rotate:0,scaleX:1,scaleY:1}};var i=u.q8/n,a=r.height,l=r.width,s=r.x_coord,c=void 0===s?0:s,d=r.y_coord,f=void 0===d?0:d;return t=o.width>o.height?u.q8/o.width*((void 0===l?100:l)/100):i/o.height*((void 0===a?100:a)/100),{left:c?c/100*u.q8:0,scale:t,top:f?f/100*i:0,transform:{rotate:0,scaleX:1,scaleY:1}}}function g(e,t,r){var n,o=e.split(/\r?\n/g),i=[],a="",l=function(e){var t=e.trim(),n=r.measureText(t);return{text:t,width:n.width}},s=function e(n){var o=!!n.match(/\s/),s=0===a.length;if(r.measureText("".concat(a).concat(n)).width>t){if(o)i.push(l(a)),a="";else if(s){var c,u=f(n);try{for(u.s();!(c=u.n()).done;){var d=c.value;e(d)}}catch(e){u.e(e)}finally{u.f()}}else i.push(l(a)),a="",e(n)}else a+=n},c=f(o);try{for(c.s();!(n=c.n()).done;){var u=n.value;0===u.length&&i.push(l(a)),(0,d.Yd)(u).forEach(function(e){return s(e)}),a.length&&(i.push(l(a)),a="")}}catch(e){c.e(e)}finally{c.f()}return i}function b(e,t,r,n,o,i,a){e.beginPath(),e.moveTo(t+i,r),e.lineTo(t+n-i,r),e.quadraticCurveTo(t+n,r,t+n,r+i),e.lineTo(t+n,r+o-i),e.quadraticCurveTo(t+n,r+o,t+n-i,r+o),e.lineTo(t+i,r+o),e.quadraticCurveTo(t,r+o,t,r+o-i),e.lineTo(t,r+i),e.quadraticCurveTo(t,r,t+i,r),e.closePath(),e.fillStyle=a,e.fill()}function _(e){return e.includes("ads-latest")||0===e.indexOf(l.vI)}function v(e){return e.includes("analytics-latest")||0===e.indexOf(l.YD)}function x(e){return e.includes("trends-latest")||0===e.indexOf(l.L1)}function P(e,t){return e.isAuth&&e.isEmployee&&"true"===new URLSearchParams(t).get("debug")}function O(){var e=(0,a.B)().isInternalIP,t=(0,n.useLocation)().search;return!!(e&&"true"===new URLSearchParams(t).get("force-publish-failure"))}function j(e){var t=e.entryType,r=e.isAdsManagerIdeaPinDraft;return{entry_type:t,is_ads_manager_idea_pin_draft:null!=r&&r,is_draft:e.isDraft,idea_pin_media_type:e.mediaType,story_pin_select_count:e.storyPinSelectCount}}function S(e){var t=e.disabledIdeaPinCreation,r=e.link,n=e.linkStatus,o=e.textBlocks,i=e.title,a=o.reduce(function(e,t){return e||t.text.length>c.K3},!1),l=i.length>c.S8,u=!!(r&&n!==s.Dt.VALID);return t||l||a||u}},252570:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(296342),o={rotate:0,scaleX:1,scaleY:1};function i(e){var t=e.canvasAspectRatio,r=e.media,i=r.width/r.height,a=n.q8/t,l=function(e){var t=e.left,n=e.scale;return{left:t||0,scale:n,top:(a-r.height*n)/2,transform:o}};if(i<t)return l({scale:n.q8/r.width});var s=a/r.height,c=r.width*s;return l({left:(n.q8-c)/2,scale:s})}},296342:function(e,t,r){"use strict";r.d(t,{Af:function(){return u},Ei:function(){return s},II:function(){return x},Lh:function(){return g},U:function(){return y},UC:function(){return d},Zy:function(){return l},dD:function(){return i},er:function(){return m},hb:function(){return _},in:function(){return c},j7:function(){return b},kX:function(){return p},me:function(){return f},mx:function(){return v},n5:function(){return a},q8:function(){return h},xH:function(){return o}});var n=r(224496),o=1048576,i=3,a=20,l=3,s=10,c=50,u=10,d=720,f=1080,p=1200,h=375,y=375/n.ap,m=1200,g="#FFFFFF",b={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},_=420,v=325,x=768},109892:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(506979),o=r(833314),i=r(214494),a=r(332611),l=r(886858),s=r(248327),c=r(414327);function u(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(e){r(e);return}l.done?t(s):Promise.resolve(s).then(n,o)}function d(){var e,t,r=(0,n.useDispatch)(),d=(0,n.useSelector)(function(e){return e.resources});return e=regeneratorRuntime.mark(function e(t){var n,u,f,p,h,y,m,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.boardCreateOptions,f=t.deprecatedSchemaForNormalization,e.next=3,i.Z.create("BoardResource",u).callCreate();case 3:return h=(p=e.sent).resource_response.data,y=f?(0,o.Fv)(h,f):void 0,r((0,c.XM)("BoardResource",u,p,y)),r((0,a.fO)({event_type:20})),null!==(n=h.owner)&&void 0!==n&&n.id&&r((0,s.b)("UserResource",{options:{user_id:h.owner.id,field_set_key:"save_behavior"}})),m=d.BoardsResource||{},g=d.BoardsFeedResource||{},Object.keys(m).forEach(function(e){var t;(0,l.k)(e).username===(null===(t=h.owner)||void 0===t?void 0:t.username)&&r((0,c.jB)("BoardsResource",e))}),Object.keys(g).forEach(function(e){var t;(0,l.k)(e).username===(null===(t=h.owner)||void 0===t?void 0:t.username)&&r((0,c.jB)("BoardsFeedResource",e))}),e.abrupt("return",h);case 14:case"end":return e.stop()}},e)}),t=function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,l,"next",e)}function l(e){u(i,n,o,a,l,"throw",e)}a(void 0)})},function(e){return t.apply(this,arguments)}}},152028:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(908390),o=r(81226),i=r(898781),a=r(515198);function l(e){var t=e.duration,r=(0,i.ZP)();return(0,a.jsxs)(n.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,a.jsx)(n.JO,{accessibilityLabel:r._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,a.jsx)(n.xu,{marginStart:1,children:(0,a.jsx)(n.xv,{color:"inverse",size:"100",lineClamp:1,children:(0,o.Z)(t)})})]})}},714922:function(e,t,r){"use strict";var n=r(34596);t.Z=n.Z},216834:function(e,t,r){"use strict";var n=r(34596);t.Z=n.Z},76510:function(e,t,r){"use strict";var n=r(34596);t.Z=n.Z},167678:function(e,t,r){"use strict";r.d(t,{TA:function(){return S}});var n=r(76911),o=r(742897),i=r(539439),a=r(744702),l=r(811602),s=r(727460),c=r(349424),u=r.n(c);function d(e){console.warn("loadable: "+e)}var f=n.createContext(),p={initialChunks:{}},h="PENDING",y="REJECTED",m=function(e){return e};function g(e){var t=e.defaultResolveComponent,r=void 0===t?m:t,c=e.render,d=e.onLoad;function g(e,t){void 0===t&&(t={});var m,g="function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e,b={};function _(e){return t.cacheKey?t.cacheKey(e):g.resolve?g.resolve(e):"static"}function v(e,n,o){var i=t.resolveComponent?t.resolveComponent(e,n):r(e);if(t.resolveComponent&&!(0,s.isValidElementType)(i))throw Error("resolveComponent returned something that is not a React component!");return u()(o,i,{preload:!0}),i}var x=(m=function(e){function r(r){var n;return((n=e.call(this,r)||this).state={result:null,error:null,loading:!0,cacheKey:_(r)},function(e,t){if(!e){var r=Error("loadable: "+t);throw r.framesToPop=1,r.name="Invariant Violation",r}}(!r.__chunkExtractor||g.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),r.__chunkExtractor)?(!1===t.ssr||(g.requireAsync(r).catch(function(){return null}),n.loadSync(),r.__chunkExtractor.addChunk(g.chunkName(r))),(0,a.Z)(n)):(!1!==t.ssr&&(g.isReady&&g.isReady(r)||g.chunkName&&p.initialChunks[g.chunkName(r)])&&n.loadSync(),n)}(0,l.Z)(r,e),r.getDerivedStateFromProps=function(e,t){var r=_(e);return(0,i.Z)({},t,{cacheKey:r,loading:t.loading||t.cacheKey!==r})};var n=r.prototype;return n.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===y&&this.setCache(),this.state.loading&&this.loadAsync()},n.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},n.componentWillUnmount=function(){this.mounted=!1},n.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},n.getCacheKey=function(){return _(this.props)},n.getCache=function(){return b[this.getCacheKey()]},n.setCache=function(e){void 0===e&&(e=void 0),b[this.getCacheKey()]=e},n.triggerOnLoad=function(){var e=this;d&&setTimeout(function(){d(e.state.result,e.props)})},n.loadSync=function(){if(this.state.loading)try{var e=g.requireSync(this.props),t=v(e,this.props,P);this.state.result=t,this.state.loading=!1}catch(e){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:g.resolve(this.props),chunkName:g.chunkName(this.props),error:e?e.message:e}),this.state.error=e}},n.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then(function(t){var r=v(t,e.props,{Loadable:P});e.safeSetState({result:r,loading:!1},function(){return e.triggerOnLoad()})}).catch(function(t){return e.safeSetState({error:t,loading:!1})}),t},n.resolveAsync=function(){var e=this,t=this.props,r=(t.__chunkExtractor,t.forwardedRef,(0,o.Z)(t,["__chunkExtractor","forwardedRef"])),n=this.getCache();return n||((n=g.requireAsync(r)).status=h,this.setCache(n),n.then(function(){n.status="RESOLVED"},function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:g.resolve(e.props),chunkName:g.chunkName(e.props),error:t?t.message:t}),n.status=y})),n},n.render=function(){var e=this.props,r=e.forwardedRef,n=e.fallback,a=(e.__chunkExtractor,(0,o.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),l=this.state,s=l.error,u=l.loading,d=l.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===h)throw this.loadAsync();if(s)throw s;var f=n||t.fallback||null;return u?f:c({fallback:f,result:d,options:t,props:(0,i.Z)({},a,{ref:r})})},r}(n.Component),function(e){return n.createElement(f.Consumer,null,function(t){return n.createElement(m,Object.assign({__chunkExtractor:t},e))})}),P=n.forwardRef(function(e,t){return n.createElement(x,Object.assign({forwardedRef:t},e))});return P.preload=function(e){g.requireAsync(e)},P.load=function(e){return g.requireAsync(e)},P}return{loadable:g,lazy:function(e,t){return g(e,(0,i.Z)({},t,{suspense:!0}))}}}var b=g({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,r=e.props;return n.createElement(t,r)}}),_=b.loadable,v=b.lazy,x=g({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,r=e.props;return r.children?r.children(t):null}}),P=x.loadable,O=x.lazy,j="undefined"!=typeof window;function S(e,t){void 0===e&&(e=function(){});var r=(void 0===t?{}:t).namespace;if(!j)return d("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var n=null;if(j){var o=""+(void 0===r?"":r)+"__LOADABLE_REQUIRED_CHUNKS__",i=document.getElementById(o);if(i){n=JSON.parse(i.textContent);var a=document.getElementById(o+"_ext");if(a)JSON.parse(a.textContent).namedChunks.forEach(function(e){p.initialChunks[e]=!0});else throw Error("loadable-component: @loadable/server does not match @loadable/component")}}if(!n)return d("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var l=!1;return new Promise(function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,r=t.push.bind(t);function o(){n.every(function(e){return t.some(function(t){return t[0].indexOf(e)>-1})})&&!l&&(l=!0,e())}t.push=function(){r.apply(void 0,arguments),o()},o()}).then(e)}_.lib=P,v.lib=O,t.ZP=_},367419:function(e,t){"use strict";var r,n,o={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},i={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},a=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],l={CSS:{},springs:{}};function s(e,t,r){return Math.min(Math.max(e,t),r)}function c(e,t){return e.indexOf(t)>-1}function u(e,t){return e.apply(null,t)}var d={arr:function(e){return Array.isArray(e)},obj:function(e){return c(Object.prototype.toString.call(e),"Object")},pth:function(e){return d.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||d.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return d.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return d.hex(e)||d.rgb(e)||d.hsl(e)},key:function(e){return!o.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function f(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(e){return parseFloat(e)}):[]}function p(e,t){var r=f(e),n=s(d.und(r[0])?1:r[0],.1,100),o=s(d.und(r[1])?100:r[1],.1,100),i=s(d.und(r[2])?10:r[2],.1,100),a=s(d.und(r[3])?0:r[3],.1,100),c=Math.sqrt(o/n),u=i/(2*Math.sqrt(o*n)),p=u<1?c*Math.sqrt(1-u*u):0,h=u<1?(u*c+-a)/p:-a+c;function y(e){var r=t?t*e/1e3:e;return(r=u<1?Math.exp(-r*u*c)*(1*Math.cos(p*r)+h*Math.sin(p*r)):(1+h*r)*Math.exp(-r*c),0===e||1===e)?e:1-r}return t?y:function(){var t=l.springs[e];if(t)return t;for(var r=1/6,n=0,o=0;;)if(1===y(n+=r)){if(++o>=16)break}else o=0;var i=n*r*1e3;return l.springs[e]=i,i}}function h(e){return void 0===e&&(e=10),function(t){return Math.ceil(s(t,1e-6,1)*e)*(1/e)}}var y=function(){function e(e,t,r){return(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e}function t(e,t,r){return 3*(1-3*r+3*t)*e*e+2*(3*r-6*t)*e+3*t}return function(r,n,o,i){if(0<=r&&r<=1&&0<=o&&o<=1){var a=new Float32Array(11);if(r!==n||o!==i)for(var l=0;l<11;++l)a[l]=e(.1*l,r,o);return function(l){return r===n&&o===i||0===l||1===l?l:e(function(n){for(var i=0,l=1;10!==l&&a[l]<=n;++l)i+=.1;var s=i+(n-a[--l])/(a[l+1]-a[l])*.1,c=t(s,r,o);return c>=.001?function(r,n,o,i){for(var a=0;a<4;++a){var l=t(n,o,i);if(0===l)break;var s=e(n,o,i)-r;n-=s/l}return n}(n,s,r,o):0===c?s:function(t,r,n,o,i){var a,l,s=0;do(a=e(l=r+(n-r)/2,o,i)-t)>0?n=l:r=l;while(Math.abs(a)>1e-7&&++s<10);return l}(n,i,i+.1,r,o)}(l),n,i)}}}}(),m=(r={linear:function(){return function(e){return e}}},n={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,r=4;e<((t=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var r=s(e,1,10),n=s(t,.1,2);return function(e){return 0===e||1===e?e:-r*Math.pow(2,10*(e-1))*Math.sin((e-1-n/(2*Math.PI)*Math.asin(1/r))*(2*Math.PI)/n)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(e,t){n[e]=function(){return function(e){return Math.pow(e,t+2)}}}),Object.keys(n).forEach(function(e){var t=n[e];r["easeIn"+e]=t,r["easeOut"+e]=function(e,r){return function(n){return 1-t(e,r)(1-n)}},r["easeInOut"+e]=function(e,r){return function(n){return n<.5?t(e,r)(2*n)/2:1-t(e,r)(-2*n+2)/2}},r["easeOutIn"+e]=function(e,r){return function(n){return n<.5?(1-t(e,r)(1-2*n))/2:(t(e,r)(2*n-1)+1)/2}}}),r);function g(e,t){if(d.fnc(e))return e;var r=e.split("(")[0],n=m[r],o=f(e);switch(r){case"spring":return p(e,t);case"cubicBezier":return u(y,o);case"steps":return u(h,o);default:return u(n,o)}}function b(e){try{return document.querySelectorAll(e)}catch(e){return}}function _(e,t){for(var r=e.length,n=arguments.length>=2?arguments[1]:void 0,o=[],i=0;i<r;i++)if(i in e){var a=e[i];t.call(n,a,i,e)&&o.push(a)}return o}function v(e){return e.reduce(function(e,t){return e.concat(d.arr(t)?v(t):t)},[])}function x(e){return d.arr(e)?e:(d.str(e)&&(e=b(e)||e),e instanceof NodeList||e instanceof HTMLCollection)?[].slice.call(e):[e]}function P(e,t){return e.some(function(e){return e===t})}function O(e){var t={};for(var r in e)t[r]=e[r];return t}function j(e,t){var r=O(e);for(var n in e)r[n]=t.hasOwnProperty(n)?t[n]:e[n];return r}function S(e,t){var r=O(e);for(var n in t)r[n]=d.und(e[n])?t[n]:e[n];return r}function w(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function E(e,t){return d.fnc(e)?e(t.target,t.id,t.total):e}function A(e,t){return e.getAttribute(t)}function I(e,t,r){if(P([r,"deg","rad","turn"],w(t)))return t;var n=l.CSS[t+r];if(!d.und(n))return n;var o=document.createElement(e.tagName),i=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;i.appendChild(o),o.style.position="absolute",o.style.width=100+r;var a=100/o.offsetWidth;i.removeChild(o);var s=a*parseFloat(t);return l.CSS[t+r]=s,s}function C(e,t,r){if(t in e.style){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=e.style[t]||getComputedStyle(e).getPropertyValue(n)||"0";return r?I(e,o,r):o}}function T(e,t){return d.dom(e)&&!d.inp(e)&&(!d.nil(A(e,t))||d.svg(e)&&e[t])?"attribute":d.dom(e)&&P(a,t)?"transform":d.dom(e)&&"transform"!==t&&C(e,t)?"css":null!=e[t]?"object":void 0}function D(e){if(d.dom(e)){for(var t,r=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,o=new Map;t=n.exec(r);)o.set(t[1],t[2]);return o}}function k(e,t,r,n){switch(T(e,t)){case"transform":var o,i;return o=c(t,"scale")?1:0+(c(t,"translate")||"perspective"===t?"px":c(t,"rotate")||c(t,"skew")?"deg":void 0),i=D(e).get(t)||o,n&&(n.transforms.list.set(t,i),n.transforms.last=t),r?I(e,i,r):i;case"css":return C(e,t,r);case"attribute":return A(e,t);default:return e[t]||0}}function R(e,t){var r=/^(\*=|\+=|-=)/.exec(e);if(!r)return e;var n=w(e)||0,o=parseFloat(t),i=parseFloat(e.replace(r[0],""));switch(r[0][0]){case"+":return o+i+n;case"-":return o-i+n;case"*":return o*i+n}}function z(e,t){if(d.col(e)){var r,n,o,i;return r=e,d.rgb(r)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(r))?"rgba("+n[1]+",1)":r:d.hex(r)?(o=r.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,r,n){return t+t+r+r+n+n}),"rgba("+parseInt((i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o))[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+",1)"):d.hsl(r)?function(e){var t,r,n,o=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(o[1],10)/360,a=parseInt(o[2],10)/100,l=parseInt(o[3],10)/100,s=o[4]||1;function c(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(0==a)t=r=n=l;else{var u=l<.5?l*(1+a):l+a-l*a,d=2*l-u;t=c(d,u,i+1/3),r=c(d,u,i),n=c(d,u,i-1/3)}return"rgba("+255*t+","+255*r+","+255*n+","+s+")"}(r):void 0}if(/\s/g.test(e))return e;var a=w(e),l=a?e.substr(0,e.length-a.length):e;return t?l+t:l}function L(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function M(e){for(var t,r=e.points,n=0,o=0;o<r.numberOfItems;o++){var i=r.getItem(o);o>0&&(n+=L(t,i)),t=i}return n}function N(e){var t;if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*A(e,"r");case"rect":return 2*A(e,"width")+2*A(e,"height");case"line":return L({x:A(e,"x1"),y:A(e,"y1")},{x:A(e,"x2"),y:A(e,"y2")});case"polyline":return M(e);case"polygon":return t=e.points,M(e)+L(t.getItem(t.numberOfItems-1),t.getItem(0))}}function B(e,t){var r=t||{},n=r.el||function(e){for(var t=e.parentNode;d.svg(t)&&d.svg(t.parentNode);)t=t.parentNode;return t}(e),o=n.getBoundingClientRect(),i=A(n,"viewBox"),a=o.width,l=o.height,s=r.viewBox||(i?i.split(" "):[0,0,a,l]);return{el:n,viewBox:s,x:s[0]/1,y:s[1]/1,w:a,h:l,vW:s[2],vH:s[3]}}function F(e,t){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=z(d.pth(e)?e.totalLength:e,t)+"";return{original:n,numbers:n.match(r)?n.match(r).map(Number):[0],strings:d.str(e)||t?n.split(r):[]}}function Z(e){return _(e?v(d.arr(e)?e.map(x):x(e)):[],function(e,t,r){return r.indexOf(e)===t})}function U(e){var t=Z(e);return t.map(function(e,r){return{target:e,id:r,total:t.length,transforms:{list:D(e)}}})}var H={css:function(e,t,r){return e.style[t]=r},attribute:function(e,t,r){return e.setAttribute(t,r)},object:function(e,t,r){return e[t]=r},transform:function(e,t,r,n,o){if(n.list.set(t,r),t===n.last||o){var i="";n.list.forEach(function(e,t){i+=t+"("+e+") "}),e.style.transform=i}}};function V(e,t){U(e).forEach(function(e){for(var r in t){var n=E(t[r],e),o=e.target,i=w(n),a=k(o,r,i,e),l=R(z(n,i||w(a)),a);H[T(o,r)](o,r,l,e.transforms,!0)}})}function G(e,t){var r=e.length,n=function(e){return e.timelineOffset?e.timelineOffset:0},o={};return o.duration=r?Math.max.apply(Math,e.map(function(e){return n(e)+e.duration})):t.duration,o.delay=r?Math.min.apply(Math,e.map(function(e){return n(e)+e.delay})):t.delay,o.endDelay=r?o.duration-Math.max.apply(Math,e.map(function(e){return n(e)+e.duration-e.endDelay})):t.endDelay,o}var W=0,Y=[],X=function(){var e;function t(r){for(var n=Y.length,o=0;o<n;){var i=Y[o];i.paused?(Y.splice(o,1),n--):(i.tick(r),o++)}e=o>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){K.suspendWhenDocumentHidden&&(q()?e=cancelAnimationFrame(e):(Y.forEach(function(e){return e._onDocumentVisibility()}),X()))}),function(){e||q()&&K.suspendWhenDocumentHidden||!(Y.length>0)||(e=requestAnimationFrame(t))}}();function q(){return!!document&&document.hidden}function K(e){void 0===e&&(e={});var t,r,n,a,l,c,u,f,h,y=0,m=0,b=0,x=0,P=null;function A(e){var t=window.Promise&&new Promise(function(e){return P=e});return e.finished=t,t}var I=(r=j(o,t=e),a=function(e,t){var r=[],n=t.keyframes;for(var o in n&&(t=S(function(e){for(var t=_(v(e.map(function(e){return Object.keys(e)})),function(e){return d.key(e)}).reduce(function(e,t){return 0>e.indexOf(t)&&e.push(t),e},[]),r={},n=0;n<t.length;n++)!function(n){var o=t[n];r[o]=e.map(function(e){var t={};for(var r in e)d.key(r)?r==o&&(t.value=e[r]):t[r]=e[r];return t})}(n);return r}(n),t)),t)d.key(o)&&r.push({name:o,tweens:function(e,t){var r=O(t);if(/^spring/.test(r.easing)&&(r.duration=p(r.easing)),d.arr(e)){var n=e.length;2!==n||d.obj(e[0])?d.fnc(t.duration)||(r.duration=t.duration/n):e={value:e}}var o=d.arr(e)?e:[e];return o.map(function(e,r){var n=d.obj(e)&&!d.pth(e)?e:{value:e};return d.und(n.delay)&&(n.delay=r?0:t.delay),d.und(n.endDelay)&&(n.endDelay=r===o.length-1?t.endDelay:0),n}).map(function(e){return S(e,r)})}(t[o],e)});return r}(n=j(i,t),t),u=G(c=_(v((l=U(t.targets)).map(function(e){return a.map(function(t){return function(e,t){var r=T(e.target,t.name);if(r){var n,o=t.tweens.map(function(r){var o=function(e,t){var r={};for(var n in e){var o=E(e[n],t);d.arr(o)&&1===(o=o.map(function(e){return E(e,t)})).length&&(o=o[0]),r[n]=o}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}(r,e),i=o.value,a=d.arr(i)?i[1]:i,l=w(a),s=k(e.target,t.name,l,e),c=n?n.to.original:s,u=d.arr(i)?i[0]:c,f=w(u)||w(s),p=l||f;return d.und(a)&&(a=c),o.from=F(u,p),o.to=F(R(a,u),p),o.start=n?n.end:0,o.end=o.start+o.delay+o.duration+o.endDelay,o.easing=g(o.easing,o.duration),o.isPath=d.pth(i),o.isPathTargetInsideSVG=o.isPath&&d.svg(e.target),o.isColor=d.col(o.from.original),o.isColor&&(o.round=1),n=o,o}),i=o[o.length-1];return{type:r,property:t.name,animatable:e,tweens:o,duration:i.end,delay:o[0].delay,endDelay:i.endDelay}}}(e,t)})})),function(e){return!d.und(e)}),n),f=W,W++,S(r,{id:f,children:[],animatables:l,animations:c,duration:u.duration,delay:u.delay,endDelay:u.endDelay}));function C(){var e=I.direction;"alternate"!==e&&(I.direction="normal"!==e?"normal":"reverse"),I.reversed=!I.reversed,h.forEach(function(e){return e.reversed=I.reversed})}function D(e){return I.reversed?I.duration-e:e}function z(){y=0,m=D(I.currentTime)*(1/K.speed)}function L(e,t){t&&t.seek(e-t.timelineOffset)}function M(e){for(var t=0,r=I.animations,n=r.length;t<n;){var o=r[t],i=o.animatable,a=o.tweens,l=a.length-1,c=a[l];l&&(c=_(a,function(t){return e<t.end})[0]||c);for(var u=s(e-c.start-c.delay,0,c.duration)/c.duration,d=isNaN(u)?1:c.easing(u),f=c.to.strings,p=c.round,h=[],y=c.to.numbers.length,m=void 0,g=0;g<y;g++){var b=void 0,v=c.to.numbers[g],x=c.from.numbers[g]||0;b=c.isPath?function(e,t,r){function n(r){void 0===r&&(r=0);var n=t+r>=1?t+r:0;return e.el.getPointAtLength(n)}var o=B(e.el,e.svg),i=n(),a=n(-1),l=n(1),s=r?1:o.w/o.vW,c=r?1:o.h/o.vH;switch(e.property){case"x":return(i.x-o.x)*s;case"y":return(i.y-o.y)*c;case"angle":return 180*Math.atan2(l.y-a.y,l.x-a.x)/Math.PI}}(c.value,d*v,c.isPathTargetInsideSVG):x+d*(v-x),p&&!(c.isColor&&g>2)&&(b=Math.round(b*p)/p),h.push(b)}var P=f.length;if(P){m=f[0];for(var O=0;O<P;O++){f[O];var j=f[O+1],S=h[O];isNaN(S)||(j?m+=S+j:m+=S+" ")}}else m=h[0];H[o.type](i.target,o.property,m,i.transforms),o.currentValue=m,t++}}function N(e){I[e]&&!I.passThrough&&I[e](I)}function q(e){var t=I.duration,r=I.delay,n=t-I.endDelay,o=D(e);I.progress=s(o/t*100,0,100),I.reversePlayback=o<I.currentTime,h&&function(e){if(I.reversePlayback)for(var t=x;t--;)L(e,h[t]);else for(var r=0;r<x;r++)L(e,h[r])}(o),!I.began&&I.currentTime>0&&(I.began=!0,N("begin")),!I.loopBegan&&I.currentTime>0&&(I.loopBegan=!0,N("loopBegin")),o<=r&&0!==I.currentTime&&M(0),(o>=n&&I.currentTime!==t||!t)&&M(t),o>r&&o<n?(I.changeBegan||(I.changeBegan=!0,I.changeCompleted=!1,N("changeBegin")),N("change"),M(o)):I.changeBegan&&(I.changeCompleted=!0,I.changeBegan=!1,N("changeComplete")),I.currentTime=s(o,0,t),I.began&&N("update"),e>=t&&(m=0,I.remaining&&!0!==I.remaining&&I.remaining--,I.remaining?(y=b,N("loopComplete"),I.loopBegan=!1,"alternate"===I.direction&&C()):(I.paused=!0,!I.completed&&(I.completed=!0,N("loopComplete"),N("complete"),!I.passThrough&&"Promise"in window&&(P(),A(I)))))}return A(I),I.reset=function(){var e=I.direction;I.passThrough=!1,I.currentTime=0,I.progress=0,I.paused=!0,I.began=!1,I.loopBegan=!1,I.changeBegan=!1,I.completed=!1,I.changeCompleted=!1,I.reversePlayback=!1,I.reversed="reverse"===e,I.remaining=I.loop,x=(h=I.children).length;for(var t=x;t--;)I.children[t].reset();(I.reversed&&!0!==I.loop||"alternate"===e&&1===I.loop)&&I.remaining++,M(I.reversed?I.duration:0)},I._onDocumentVisibility=z,I.set=function(e,t){return V(e,t),I},I.tick=function(e){b=e,y||(y=b),q((b+(m-y))*K.speed)},I.seek=function(e){q(D(e))},I.pause=function(){I.paused=!0,z()},I.play=function(){I.paused&&(I.completed&&I.reset(),I.paused=!1,Y.push(I),z(),X())},I.reverse=function(){C(),I.completed=!I.reversed,z()},I.restart=function(){I.reset(),I.play()},I.remove=function(e){J(Z(e),I)},I.reset(),I.autoplay&&I.play(),I}function $(e,t){for(var r=t.length;r--;)P(e,t[r].animatable.target)&&t.splice(r,1)}function J(e,t){var r=t.animations,n=t.children;$(e,r);for(var o=n.length;o--;){var i=n[o],a=i.animations;$(e,a),a.length||i.children.length||n.splice(o,1)}r.length||n.length||t.pause()}K.version="3.2.1",K.speed=1,K.suspendWhenDocumentHidden=!0,K.running=Y,K.remove=function(e){for(var t=Z(e),r=Y.length;r--;)J(t,Y[r])},K.get=k,K.set=V,K.convertPx=I,K.path=function(e,t){var r=d.str(e)?b(e)[0]:e,n=t||100;return function(e){return{property:e,el:r,svg:B(r),totalLength:N(r)*(n/100)}}},K.setDashoffset=function(e){var t=N(e);return e.setAttribute("stroke-dasharray",t),t},K.stagger=function(e,t){void 0===t&&(t={});var r=t.direction||"normal",n=t.easing?g(t.easing):null,o=t.grid,i=t.axis,a=t.from||0,l="first"===a,s="center"===a,c="last"===a,u=d.arr(e),f=u?parseFloat(e[0]):parseFloat(e),p=u?parseFloat(e[1]):0,h=w(u?e[1]:e)||0,y=t.start||0+(u?f:0),m=[],b=0;return function(e,t,d){if(l&&(a=0),s&&(a=(d-1)/2),c&&(a=d-1),!m.length){for(var g=0;g<d;g++){if(o){var _=s?(o[0]-1)/2:a%o[0],v=s?(o[1]-1)/2:Math.floor(a/o[0]),x=g%o[0],P=Math.floor(g/o[0]),O=_-x,j=v-P,S=Math.sqrt(O*O+j*j);"x"===i&&(S=-O),"y"===i&&(S=-j),m.push(S)}else m.push(Math.abs(a-g));b=Math.max.apply(Math,m)}n&&(m=m.map(function(e){return n(e/b)*b})),"reverse"===r&&(m=m.map(function(e){return i?e<0?-1*e:-e:Math.abs(b-e)}))}return y+(u?(p-f)/b:f)*(Math.round(100*m[t])/100)+h}},K.timeline=function(e){void 0===e&&(e={});var t=K(e);return t.duration=0,t.add=function(r,n){var o=Y.indexOf(t),a=t.children;function l(e){e.passThrough=!0}o>-1&&Y.splice(o,1);for(var s=0;s<a.length;s++)l(a[s]);var c=S(r,j(i,e));c.targets=c.targets||e.targets;var u=t.duration;c.autoplay=!1,c.direction=t.direction,c.timelineOffset=d.und(n)?u:R(n,u),l(t),t.seek(c.timelineOffset);var f=K(c);l(f),a.push(f);var p=G(a,e);return t.delay=p.delay,t.endDelay=p.endDelay,t.duration=p.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},K.easing=g,K.penner=m,K.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},t.Z=K},110856:function(e,t,r){"use strict";var n=r(566302),o=[],i=[],a=n.makeRequestCallFromTimer(function(){if(i.length)throw i.shift()});function l(e){var t;(t=o.length?o.pop():new s).task=e,n(t)}function s(){this.task=null}e.exports=l,s.prototype.call=function(){try{this.task.call()}catch(e){l.onerror?l.onerror(e):(i.push(e),a())}finally{this.task=null,o[o.length]=this}}},566302:function(e,t,r){"use strict";function n(e){s.length||l(),s[s.length]=e}e.exports=n;var o,i,a,l,s=[],c=0;function u(){for(;c<s.length;){var e=c;if(c+=1,s[e].call(),c>1024){for(var t=0,r=s.length-c;t<r;t++)s[t]=s[t+c];s.length-=c,c=0}}s.length=0,c=0}var d=void 0!==r.g?r.g:self,f=d.MutationObserver||d.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}l="function"==typeof f?(o=1,i=new f(u),a=document.createTextNode(""),i.observe(a,{characterData:!0}),function(){o=-o,a.data=o}):p(u),n.requestFlush=l,n.makeRequestCallFromTimer=p},206134:function(e,t,r){var n;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var i={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var n=o(r);if("string"===n||"number"===n)e.push(r);else if(Array.isArray(r)&&r.length){var l=a.apply(null,r);l&&e.push(l)}else if("object"===n)for(var s in r)i.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):"object"===o(r.amdO)&&r.amdO?void 0!==(n=(function(){return a}).apply(t,[]))&&(e.exports=n):window.classNames=a}()},711054:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(168303),o=r(371746),i=r(76170);function a(e,t){(0,i.Z)(2,arguments);var r=(0,n.Z)(t);return(0,o.Z)(e,6e4*r)}},666312:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(393248),o=r(76170);function i(e,t){(0,o.Z)(2,arguments);var r=(0,n.Z)(e),i=(0,n.Z)(t),a=r.getTime()-i.getTime();return a<0?-1:a>0?1:a}},254422:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(393248),o=r(76170);function i(e,t){(0,o.Z)(2,arguments);var r=(0,n.Z)(e),i=(0,n.Z)(t);return r.getTime()-i.getTime()}},807020:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(254422),o=r(76170);function i(e,t){(0,o.Z)(2,arguments);var r=(0,n.Z)(e,t)/6e4;return r>0?Math.floor(r):Math.ceil(r)}},507084:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(393248),o=r(76170),i=r(666312);function a(e,t){(0,o.Z)(2,arguments);var r=(0,n.Z)(e),a=(0,n.Z)(t),l=(0,i.Z)(r,a),s=Math.abs(function(e,t){(0,o.Z)(2,arguments);var r=(0,n.Z)(e),i=(0,n.Z)(t);return r.getFullYear()-i.getFullYear()}(r,a));r.setFullYear("1584"),a.setFullYear("1584");var c=(0,i.Z)(r,a)===-l,u=l*(s-c);return 0===u?0:u}},287454:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(393248),o=r(76170);function i(e){(0,o.Z)(1,arguments);var t=(0,n.Z)(e);return t.setHours(23,59,59,999),t}},46801:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(393248),o=r(76170);function i(e){(0,o.Z)(1,arguments);var t=(0,n.Z)(e);return t.setHours(0,0,0,0),t}},184559:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(102323),o=r(346185),i=r(219619),a=r(297524),l=r(571319),s=function(){function e(e,t,r){var i,s,c=this;void 0===t&&(t={}),void 0===r&&(r=!1),this.context=t,this.isSetUp=!1,this.handleRefCountChange=function(){var e=c.store.getState().refCount>0;e&&!c.isSetUp?(c.backend.setup(),c.isSetUp=!0):!e&&c.isSetUp&&(c.backend.teardown(),c.isSetUp=!1)};var u=(i=r,s="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__,n.createStore(o.default,i&&s&&s({name:"dnd-core",instanceId:"dnd-core"})));this.store=u,this.monitor=new a.default(u,new l.default(u)),this.backend=e(this),u.subscribe(this.handleRefCountChange)}return e.prototype.getContext=function(){return this.context},e.prototype.getMonitor=function(){return this.monitor},e.prototype.getBackend=function(){return this.backend},e.prototype.getRegistry=function(){return this.monitor.registry},e.prototype.getActions=function(){var e=this,t=this.store.dispatch,r=i.default(this);return Object.keys(r).reduce(function(n,o){var i=r[o];return n[o]=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=i.apply(e,r);void 0!==o&&t(o)},n},{})},e.prototype.dispatch=function(e){this.store.dispatch(e)},e}();t.default=s},297524:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(655953),o=r(655315),i=r(739201),a=r(674631),l=function(){function e(e,t){this.store=e,this.registry=t}return e.prototype.subscribeToStateChange=function(e,t){var r=this;void 0===t&&(t={handlerIds:void 0});var n=t.handlerIds;a("function"==typeof e,"listener must be a function."),a(void 0===n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId;return this.store.subscribe(function(){var t=r.store.getState(),a=t.stateId;try{a!==o&&(a!==o+1||i.areDirty(t.dirtyHandlerIds,n))&&e()}finally{o=a}})},e.prototype.subscribeToOffsetChange=function(e){var t=this;a("function"==typeof e,"listener must be a function.");var r=this.store.getState().dragOffset;return this.store.subscribe(function(){var n=t.store.getState().dragOffset;n!==r&&(r=n,e())})},e.prototype.canDragSource=function(e){if(!e)return!1;var t=this.registry.getSource(e);return a(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)},e.prototype.canDropOnTarget=function(e){if(!e)return!1;var t=this.registry.getTarget(e);if(a(t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var r=this.registry.getTargetType(e),o=this.getItemType();return n.default(r,o)&&t.canDrop(this,e)},e.prototype.isDragging=function(){return!!this.getItemType()},e.prototype.isDraggingSource=function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return a(t,"Expected to find a valid source."),!!(this.isDragging()&&this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)},e.prototype.isOverTarget=function(e,t){if(void 0===t&&(t={shallow:!1}),!e)return!1;var r=t.shallow;if(!this.isDragging())return!1;var o=this.registry.getTargetType(e),i=this.getItemType();if(i&&!n.default(o,i))return!1;var a=this.getTargetIds();if(!a.length)return!1;var l=a.indexOf(e);return r?l===a.length-1:l>-1},e.prototype.getItemType=function(){return this.store.getState().dragOperation.itemType},e.prototype.getItem=function(){return this.store.getState().dragOperation.item},e.prototype.getSourceId=function(){return this.store.getState().dragOperation.sourceId},e.prototype.getTargetIds=function(){return this.store.getState().dragOperation.targetIds},e.prototype.getDropResult=function(){return this.store.getState().dragOperation.dropResult},e.prototype.didDrop=function(){return this.store.getState().dragOperation.didDrop},e.prototype.isSourcePublic=function(){return this.store.getState().dragOperation.isSourcePublic},e.prototype.getInitialClientOffset=function(){return this.store.getState().dragOffset.initialClientOffset},e.prototype.getInitialSourceClientOffset=function(){return this.store.getState().dragOffset.initialSourceClientOffset},e.prototype.getClientOffset=function(){return this.store.getState().dragOffset.clientOffset},e.prototype.getSourceClientOffset=function(){return o.getSourceClientOffset(this.store.getState().dragOffset)},e.prototype.getDifferenceFromInitialOffset=function(){return o.getDifferenceFromInitialOffset(this.store.getState().dragOffset)},e}();t.default=l},571319:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(689781),o=r(621951),i=r(54488),a=r(718089),l=r(674631),s=r(110856);function c(e){switch(e[0]){case"S":return i.HandlerRole.SOURCE;case"T":return i.HandlerRole.TARGET;default:l(!1,"Cannot parse handler ID: "+e)}}function u(e,t){var r=e.entries(),n=!1;do{var o=r.next(),i=o.done;if(o.value[1]===t)return!0;n=i}while(!n);return!1}var d=function(){function e(e){this.store=e,this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null}return e.prototype.addSource=function(e,t){a.validateType(e),a.validateSourceContract(t);var r=this.addHandler(i.HandlerRole.SOURCE,e,t);return this.store.dispatch(n.addSource(r)),r},e.prototype.addTarget=function(e,t){a.validateType(e,!0),a.validateTargetContract(t);var r=this.addHandler(i.HandlerRole.TARGET,e,t);return this.store.dispatch(n.addTarget(r)),r},e.prototype.containsHandler=function(e){return u(this.dragSources,e)||u(this.dropTargets,e)},e.prototype.getSource=function(e,t){return void 0===t&&(t=!1),l(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)},e.prototype.getTarget=function(e){return l(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)},e.prototype.getSourceType=function(e){return l(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)},e.prototype.getTargetType=function(e){return l(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)},e.prototype.isSourceId=function(e){return c(e)===i.HandlerRole.SOURCE},e.prototype.isTargetId=function(e){return c(e)===i.HandlerRole.TARGET},e.prototype.removeSource=function(e){var t=this;l(this.getSource(e),"Expected an existing source."),this.store.dispatch(n.removeSource(e)),s(function(){t.dragSources.delete(e),t.types.delete(e)})},e.prototype.removeTarget=function(e){l(this.getTarget(e),"Expected an existing target."),this.store.dispatch(n.removeTarget(e)),this.dropTargets.delete(e),this.types.delete(e)},e.prototype.pinSource=function(e){var t=this.getSource(e);l(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t},e.prototype.unpinSource=function(){l(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null},e.prototype.addHandler=function(e,t,r){var n=function(e){var t=o.default().toString();switch(e){case i.HandlerRole.SOURCE:return"S"+t;case i.HandlerRole.TARGET:return"T"+t;default:throw Error("Unknown Handler Role: "+e)}}(e);return this.types.set(n,t),e===i.HandlerRole.SOURCE?this.dragSources.set(n,r):e===i.HandlerRole.TARGET&&this.dropTargets.set(n,r),n},e}();t.default=d},765262:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(724556),o=r(180470),i=r(674631),a=r(559451),l={type:a.INIT_COORDS,payload:{clientOffset:null,sourceClientOffset:null}};t.default=function(e){return function(t,r){void 0===t&&(t=[]),void 0===r&&(r={publishSource:!0});var s=r.publishSource,c=r.clientOffset,u=r.getSourceClientOffset,d=e.getMonitor(),f=e.getRegistry();e.dispatch(n.setClientOffset(c)),function(e,t,r){i(!t.isDragging(),"Cannot call beginDrag while dragging.");for(var n=0;n<e.length;n++){var o=e[n];i(r.getSource(o),"Expected sourceIds to be registered.")}}(t,d,f);var p=function(e,t){for(var r=null,n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}(t,d);if(null===p){e.dispatch(l);return}var h=null;c&&(i("function"==typeof u,"When clientOffset is provided, getSourceClientOffset must be a function."),h=u(p)),e.dispatch(n.setClientOffset(c,h));var y=f.getSource(p).beginDrag(d,p);i(o.isObject(y),"Item must be an object."),f.pinSource(p);var m=f.getSourceType(p);return{type:a.BEGIN_DRAG,payload:{itemType:m,item:y,sourceId:p,clientOffset:c||null,sourceClientOffset:h||null,isSourcePublic:!!(void 0===s||s)}}}}},744666:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(559451),i=r(180470),a=r(674631);t.default=function(e){return function(t){void 0===t&&(t={});var r,l=e.getMonitor(),s=e.getRegistry();a(l.isDragging(),"Cannot call drop while not dragging."),a(!l.didDrop(),"Cannot call drop twice during one drag operation."),((r=l.getTargetIds().filter(l.canDropOnTarget,l)).reverse(),r).forEach(function(r,c){var u,d,f,p=(a(void 0===(f=d=(u=s.getTarget(r))?u.drop(l,r):void 0)||i.isObject(f),"Drop result must either be an object or undefined."),void 0===d&&(d=0===c?{}:l.getDropResult()),d),h={type:o.DROP,payload:{dropResult:n({},t,p)}};e.dispatch(h)})}}},984190:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(559451),o=r(674631);t.default=function(e){return function(){var t=e.getMonitor(),r=e.getRegistry();o(t.isDragging(),"Cannot call endDrag while not dragging.");var i=t.getSourceId();return r.getSource(i,!0).endDrag(t,i),r.unpinSource(),{type:n.END_DRAG}}}},737259:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(655953),o=r(559451),i=r(674631);t.default=function(e){return function(t,r){var a=(void 0===r?{}:r).clientOffset;i(Array.isArray(t),"Expected targetIds to be an array.");var l=t.slice(0),s=e.getMonitor(),c=e.getRegistry();return function(e,t,r){i(t.isDragging(),"Cannot call hover while not dragging."),i(!t.didDrop(),"Cannot call hover after drop.");for(var n=0;n<e.length;n++){var o=e[n];i(e.lastIndexOf(o)===n,"Expected targetIds to be unique in the passed array."),i(r.getTarget(o),"Expected targetIds to be registered.")}}(l,s,c),function(e,t,r){for(var o=e.length-1;o>=0;o--){var i=e[o],a=t.getTargetType(i);n.default(a,r)||e.splice(o,1)}}(l,c,s.getItemType()),function(e,t,r){for(var n=0;n<e.length;n++){var o=e[n];r.getTarget(o).hover(t,o)}}(l,s,c),{type:o.HOVER,payload:{targetIds:l,clientOffset:a||null}}}}},219619:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(765262),o=r(74830),i=r(737259),a=r(744666),l=r(984190);!function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(559451)),t.default=function(e){return{beginDrag:n.default(e),publishDragSource:o.default(e),hover:i.default(e),drop:a.default(e),endDrag:l.default(e)}}},724556:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(559451);t.setClientOffset=function(e,t){return{type:n.INIT_COORDS,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}},74830:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(559451);t.default=function(e){return function(){if(e.getMonitor().isDragging())return{type:n.PUBLISH_DRAG_SOURCE}}}},559451:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_COORDS="dnd-core/INIT_COORDS",t.BEGIN_DRAG="dnd-core/BEGIN_DRAG",t.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",t.HOVER="dnd-core/HOVER",t.DROP="dnd-core/DROP",t.END_DRAG="dnd-core/END_DRAG"},689781:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_SOURCE="dnd-core/ADD_SOURCE",t.ADD_TARGET="dnd-core/ADD_TARGET",t.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",t.REMOVE_TARGET="dnd-core/REMOVE_TARGET",t.addSource=function(e){return{type:t.ADD_SOURCE,payload:{sourceId:e}}},t.addTarget=function(e){return{type:t.ADD_TARGET,payload:{targetId:e}}},t.removeSource=function(e){return{type:t.REMOVE_SOURCE,payload:{sourceId:e}}},t.removeTarget=function(e){return{type:t.REMOVE_TARGET,payload:{targetId:e}}}},718089:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(674631);t.validateSourceContract=function(e){o("function"==typeof e.canDrag,"Expected canDrag to be a function."),o("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),o("function"==typeof e.endDrag,"Expected endDrag to be a function.")},t.validateTargetContract=function(e){o("function"==typeof e.canDrop,"Expected canDrop to be a function."),o("function"==typeof e.hover,"Expected hover to be a function."),o("function"==typeof e.drop,"Expected beginDrag to be a function.")},t.validateType=function e(t,r){if(r&&Array.isArray(t)){t.forEach(function(t){return e(t,!1)});return}o("string"==typeof t||"symbol"===n(t),r?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}},703223:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(184559);t.createDragDropManager=function(e,t,r){return new n.default(e,t,r)}},698297:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(54488)),n(r(703223))},54488:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.HandlerRole||(t.HandlerRole={})).SOURCE="SOURCE",r.TARGET="TARGET"},935080:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(219619),o=r(689781),i=r(165745),a=r(739201),l=r(180470);t.default=function(e,t){switch(void 0===e&&(e=a.NONE),t.type){case n.HOVER:break;case o.ADD_SOURCE:case o.ADD_TARGET:case o.REMOVE_TARGET:case o.REMOVE_SOURCE:return a.NONE;case n.BEGIN_DRAG:case n.PUBLISH_DRAG_SOURCE:case n.END_DRAG:case n.DROP:default:return a.ALL}var r=t.payload,s=r.targetIds,c=void 0===s?[]:s,u=r.prevTargetIds,d=void 0===u?[]:u,f=l.xor(c,d);if(!(f.length>0||!i.areArraysEqual(c,d)))return a.NONE;var p=d[d.length-1],h=c[c.length-1];return p!==h&&(p&&f.push(p),h&&f.push(h)),f}},870708:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(219619),i=r(165745),a={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};t.default=function(e,t){void 0===e&&(e=a);var r=t.payload;switch(t.type){case o.INIT_COORDS:case o.BEGIN_DRAG:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case o.HOVER:if(i.areCoordsEqual(e.clientOffset,r.clientOffset))return e;return n({},e,{clientOffset:r.clientOffset});case o.END_DRAG:case o.DROP:return a;default:return e}}},882038:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(219619),i=r(689781),a=r(180470),l={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};t.default=function(e,t){void 0===e&&(e=l);var r=t.payload;switch(t.type){case o.BEGIN_DRAG:return n({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case o.PUBLISH_DRAG_SOURCE:return n({},e,{isSourcePublic:!0});case o.HOVER:return n({},e,{targetIds:r.targetIds});case i.REMOVE_TARGET:if(-1===e.targetIds.indexOf(r.targetId))return e;return n({},e,{targetIds:a.without(e.targetIds,r.targetId)});case o.DROP:return n({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case o.END_DRAG:return n({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}},346185:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(870708),i=r(882038),a=r(543925),l=r(935080),s=r(997767),c=r(180470);t.default=function(e,t){return void 0===e&&(e={}),{dirtyHandlerIds:l.default(e.dirtyHandlerIds,{type:t.type,payload:n({},t.payload,{prevTargetIds:c.get(e,"dragOperation.targetIds",[])})}),dragOffset:o.default(e.dragOffset,t),refCount:a.default(e.refCount,t),dragOperation:i.default(e.dragOperation,t),stateId:s.default(e.stateId)}}},543925:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(689781);t.default=function(e,t){switch(void 0===e&&(e=0),t.type){case n.ADD_SOURCE:case n.ADD_TARGET:return e+1;case n.REMOVE_SOURCE:case n.REMOVE_TARGET:return e-1;default:return e}}},997767:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0===e&&(e=0),e+1}},655315:function(e,t){"use strict";function r(e,t){return{x:e.x+t.x,y:e.y+t.y}}function n(e,t){return{x:e.x-t.x,y:e.y-t.y}}Object.defineProperty(t,"__esModule",{value:!0}),t.add=r,t.subtract=n,t.getSourceClientOffset=function(e){var t=e.clientOffset,o=e.initialClientOffset,i=e.initialSourceClientOffset;return t&&o&&i?n(r(t,i),o):null},t.getDifferenceFromInitialOffset=function(e){var t=e.clientOffset,r=e.initialClientOffset;return t&&r?n(t,r):null}},739201:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(180470);t.NONE=[],t.ALL=[],t.NONE.__IS_NONE__=!0,t.ALL.__IS_ALL__=!0,t.areDirty=function(e,r){return e!==t.NONE&&(e===t.ALL||void 0===r||n.intersection(r,e).length>0)}},180470:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t,r){return t.split(".").reduce(function(e,t){return e&&e[t]?e[t]:r||null},e)},t.without=function(e,t){return e.filter(function(e){return e!==t})},t.isString=function(e){return"string"==typeof e},t.isObject=function(e){return"object"===r(e)},t.xor=function(e,t){var r=new Map,n=function(e){return r.set(e,r.has(e)?r.get(e)+1:1)};e.forEach(n),t.forEach(n);var o=[];return r.forEach(function(e,t){1===e&&o.push(t)}),o},t.intersection=function(e,t){return e.filter(function(e){return t.indexOf(e)>-1})}},165745:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.strictEquality=function(e,t){return e===t},t.areCoordsEqual=function(e,t){return!e&&!t||!!e&&!!t&&e.x===t.x&&e.y===t.y},t.areArraysEqual=function(e,r,n){if(void 0===n&&(n=t.strictEquality),e.length!==r.length)return!1;for(var o=0;o<e.length;++o)if(!n(e[o],r[o]))return!1;return!0}},621951:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=0;t.default=function(){return r++}},655953:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return null===t?null===e:Array.isArray(e)?e.some(function(e){return e===t}):e===t}},102323:function(e,t,r){"use strict";r.r(t),r.d(t,{__DO_NOT_USE__ActionTypes:function(){return s},applyMiddleware:function(){return y},bindActionCreators:function(){return p},combineReducers:function(){return d},compose:function(){return h},createStore:function(){return c},legacy_createStore:function(){return u}});var n=r(927593);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a="function"==typeof Symbol&&Symbol.observable||"@@observable",l=function(){return Math.random().toString(36).substring(7).split("").join(".")},s={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function c(e,t,r){if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw Error(i(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw Error(i(1));return r(c)(e,t)}if("function"!=typeof e)throw Error(i(2));var n,l=e,u=t,d=[],f=d,p=!1;function h(){f===d&&(f=d.slice())}function y(){if(p)throw Error(i(3));return u}function m(e){if("function"!=typeof e)throw Error(i(4));if(p)throw Error(i(5));var t=!0;return h(),f.push(e),function(){if(t){if(p)throw Error(i(6));t=!1,h();var r=f.indexOf(e);f.splice(r,1),d=null}}}function g(e){if(!function(e){if("object"!==o(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(i(7));if(void 0===e.type)throw Error(i(8));if(p)throw Error(i(9));try{p=!0,u=l(u,e)}finally{p=!1}for(var t=d=f,r=0;r<t.length;r++)(0,t[r])();return e}return g({type:s.INIT}),(n={dispatch:g,subscribe:m,getState:y,replaceReducer:function(e){if("function"!=typeof e)throw Error(i(10));l=e,g({type:s.REPLACE})}})[a]=function(){var e;return(e={subscribe:function(e){if("object"!==o(e)||null===e)throw Error(i(11));function t(){e.next&&e.next(y())}return t(),{unsubscribe:m(t)}}})[a]=function(){return this},e},n}var u=c;function d(e){for(var t,r=Object.keys(e),n={},o=0;o<r.length;o++){var a=r[o];"function"==typeof e[a]&&(n[a]=e[a])}var l=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var r=e[t];if(void 0===r(void 0,{type:s.INIT}))throw Error(i(12));if(void 0===r(void 0,{type:s.PROBE_UNKNOWN_ACTION()}))throw Error(i(13))})}(n)}catch(e){t=e}return function(e,r){if(void 0===e&&(e={}),t)throw t;for(var o=!1,a={},s=0;s<l.length;s++){var c=l[s],u=n[c],d=e[c],f=u(d,r);if(void 0===f)throw r&&r.type,Error(i(14));a[c]=f,o=o||f!==d}return(o=o||l.length!==Object.keys(e).length)?a:e}}function f(e,t){return function(){return t(e.apply(this,arguments))}}function p(e,t){if("function"==typeof e)return f(e,t);if("object"!==o(e)||null===e)throw Error(i(16));var r={};for(var n in e){var a=e[n];"function"==typeof a&&(r[n]=f(a,t))}return r}function h(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function y(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),o=function(){throw Error(i(15))},a={getState:r.getState,dispatch:function(){return o.apply(void 0,arguments)}},l=t.map(function(e){return e(a)});return o=h.apply(void 0,l)(r.dispatch),(0,n.Z)((0,n.Z)({},r),{},{dispatch:o})}}}},661139:function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=[],n=[];e.exports=/**
 * Checks if two values are equal. Values may be primitives, arrays, or objects.
 * Returns true if both arguments have the same keys and values.
 *
 * @see http://underscorejs.org
 * @copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 * @license MIT
 */function(e,o){var i=r.length?r.pop():[],a=n.length?n.pop():[],l=function e(r,n,o,i){if(r===n)return 0!==r||1/r==1/n;if(null==r||null==n||"object"!=t(r)||"object"!=t(n))return!1;var a=Object.prototype.toString,l=a.call(r);if(l!=a.call(n))return!1;switch(l){case"[object String]":return r==String(n);case"[object Number]":return!(isNaN(r)||isNaN(n))&&r==Number(n);case"[object Date]":case"[object Boolean]":return+r==+n;case"[object RegExp]":return r.source==n.source&&r.global==n.global&&r.multiline==n.multiline&&r.ignoreCase==n.ignoreCase}for(var s=o.length;s--;)if(o[s]==r)return i[s]==n;o.push(r),i.push(n);var c=0;if("[object Array]"===l){if((c=r.length)!==n.length)return!1;for(;c--;)if(!e(r[c],n[c],o,i))return!1}else{if(r.constructor!==n.constructor)return!1;if(r.hasOwnProperty("valueOf")&&n.hasOwnProperty("valueOf"))return r.valueOf()==n.valueOf();var u=Object.keys(r);if(u.length!=Object.keys(n).length)return!1;for(var d=0;d<u.length;d++)if(!e(r[u[d]],n[u[d]],o,i))return!1}return o.pop(),i.pop(),!0}(e,o,i,a);return i.length=0,a.length=0,r.push(i),n.push(a),l}},703095:function(e){"use strict";function t(e){return function(){return e}}var r=function(){};r.thatReturns=t,r.thatReturnsFalse=t(!1),r.thatReturnsTrue=t(!0),r.thatReturnsNull=t(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},134710:function(e,t,r){"use strict";var n=r(703095);e.exports=n},948337:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=r.nmd(e),function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function r(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function o(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function i(e){var t=e.a.offsetWidth,r=t+100;return e.f.style.width=r+"px",e.c.scrollLeft=r,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function a(e,r){function n(){i(o)&&o.a.parentNode&&r(o.g)}var o=e;t(e.b,n),t(e.c,n),i(e)}function l(e,t){var r=t||{};this.family=e,this.style=r.style||"normal",this.weight=r.weight||"normal",this.stretch=r.stretch||"normal"}var s=null,c=null,u=null,d=null;function f(){return null===d&&(d=!!document.fonts),d}function p(e,t){return[e.style,e.weight,!function(){if(null===u){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}u=""!==e.style.font}return u}()?"":e.stretch,"100px",t].join(" ")}l.prototype.load=function(e,t){var n=this,i=e||"BESbswy",l=0,u=t||3e3,d=new Date().getTime();return new Promise(function(e,t){if(f()&&!function(){if(null===c){if(f()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);c=!!e&&603>parseInt(e[1],10)}else c=!1}return c}()){var h,y=new Promise(function(e,t){!function r(){new Date().getTime()-d>=u?t(Error(""+u+"ms timeout exceeded")):document.fonts.load(p(n,'"'+n.family+'"'),i).then(function(t){1<=t.length?e():setTimeout(r,25)},t)}()});Promise.race([new Promise(function(e,t){l=setTimeout(function(){t(Error(""+u+"ms timeout exceeded"))},u)}),y]).then(function(){clearTimeout(l),e(n)},t)}else h=function(){function c(){var t;(t=-1!=m&&-1!=g||-1!=m&&-1!=b||-1!=g&&-1!=b)&&((t=m!=g&&m!=b&&g!=b)||(null===s&&(s=!!(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent))&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(m==_&&g==_&&b==_||m==v&&g==v&&b==v||m==x&&g==x&&b==x)),t=!t),t&&(P.parentNode&&P.parentNode.removeChild(P),clearTimeout(l),e(n))}var f=new r(i),h=new r(i),y=new r(i),m=-1,g=-1,b=-1,_=-1,v=-1,x=-1,P=document.createElement("div");P.dir="ltr",o(f,p(n,"sans-serif")),o(h,p(n,"serif")),o(y,p(n,"monospace")),P.appendChild(f.a),P.appendChild(h.a),P.appendChild(y.a),document.body.appendChild(P),_=f.a.offsetWidth,v=h.a.offsetWidth,x=y.a.offsetWidth,function e(){if(new Date().getTime()-d>=u)P.parentNode&&P.parentNode.removeChild(P),t(Error(""+u+"ms timeout exceeded"));else{var r=document.hidden;(!0===r||void 0===r)&&(m=f.a.offsetWidth,g=h.a.offsetWidth,b=y.a.offsetWidth,c()),l=setTimeout(e,50)}}(),a(f,function(e){m=e,c()}),o(f,p(n,'"'+n.family+'",sans-serif')),a(h,function(e){g=e,c()}),o(h,p(n,'"'+n.family+'",serif')),a(y,function(e){b=e,c()}),o(y,p(n,'"'+n.family+'",monospace'))},document.body?h():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),h()}):document.attachEvent("onreadystatechange",function e(){("interactive"==document.readyState||"complete"==document.readyState)&&(document.detachEvent("onreadystatechange",e),h())})})},"object"===n(e)?e.exports=l:(window.FontFaceObserver=l,window.FontFaceObserver.prototype.load=l.prototype.load)}()},349424:function(e,t,r){"use strict";var n=r(916731),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function s(e){return n.isMemo(e)?a:l[e.$$typeof]||o}l[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l[n.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var o=p(r);o&&o!==h&&e(t,o,n)}var a=u(r);d&&(a=a.concat(d(r)));for(var l=s(t),y=s(r),m=0;m<a.length;++m){var g=a[m];if(!i[g]&&!(n&&n[g])&&!(y&&y[g])&&!(l&&l[g])){var b=f(r,g);try{c(t,g,b)}catch(e){}}}}return t}},468278:function(e,t){"use strict";/** @license React v16.8.4
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,l=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116;function g(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case s:case l:case h:return e;default:switch(e=e&&e.$$typeof){case u:case p:case c:return e;default:return t}}case m:case y:case i:return t}}}function b(e){return g(e)===f}t.typeOf=g,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=m,t.Memo=y,t.Portal=i,t.Profiler=s,t.StrictMode=l,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===s||e===l||e===h||"object"===r(e)&&null!==e&&(e.$$typeof===m||e.$$typeof===y||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p)},t.isAsyncMode=function(e){return b(e)||g(e)===d},t.isConcurrentMode=b,t.isContextConsumer=function(e){return g(e)===u},t.isContextProvider=function(e){return g(e)===c},t.isElement=function(e){return"object"===r(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return g(e)===p},t.isFragment=function(e){return g(e)===a},t.isLazy=function(e){return g(e)===m},t.isMemo=function(e){return g(e)===y},t.isPortal=function(e){return g(e)===i},t.isProfiler=function(e){return g(e)===s},t.isStrictMode=function(e){return g(e)===l},t.isSuspense=function(e){return g(e)===h}},916731:function(e,t,r){"use strict";e.exports=r(468278)},602118:function(e){e.exports=/[\-0-9a-z\xB7\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0135\u0137\u0138\u013A\u013C\u013E\u0142\u0144\u0146\u0148\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BB\u01BD-\u01C3\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u02AF\u02B9-\u02C1\u02C6-\u02D1\u02EC\u02EE\u0300-\u033F\u0342\u0346-\u034E\u0350-\u036F\u0371\u0373\u0375\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF\u03F3\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u0483-\u0487\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0559\u0561-\u0586\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F4\u0610-\u061A\u0620-\u063F\u0641-\u0669\u066E-\u0674\u0679-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u0800-\u082D\u0840-\u085B\u0900-\u0957\u0960-\u0963\u0966-\u096F\u0971-\u0977\u0979-\u097F\u0981-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09E0-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A35\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A5C\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E01-\u0E32\u0E34-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB2\u0EB4-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F00\u0F0B\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F42\u0F44-\u0F47\u0F49-\u0F4C\u0F4E-\u0F51\u0F53-\u0F56\u0F58-\u0F5B\u0F5D-\u0F68\u0F6A-\u0F6C\u0F71\u0F72\u0F74\u0F7A-\u0F80\u0F82-\u0F84\u0F86-\u0F92\u0F94-\u0F97\u0F99-\u0F9C\u0F9E-\u0FA1\u0FA3-\u0FA6\u0FA8-\u0FAB\u0FAD-\u0FB8\u0FBA-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10D0-\u10FA\u1200-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17B3\u17B6-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191C\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BAA\u1BAE-\u1BB9\u1BC0-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF2\u1D00-\u1D2B\u1D2F\u1D3B\u1D4E\u1D6B-\u1D77\u1D79-\u1D9A\u1DC0-\u1DE6\u1DFC-\u1DFF\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E99\u1E9C\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70\u1F72\u1F74\u1F76\u1F78\u1F7A\u1F7C\u1FB0\u1FB1\u1FB6\u1FC6\u1FD0-\u1FD2\u1FD6\u1FD7\u1FE0-\u1FE2\u1FE4-\u1FE7\u1FF6\u200C\u200D\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE-\u2CF1\u2D00-\u2D25\u2D30-\u2D65\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3041-\u3096\u3099\u309A\u309D\u309E\u30A1-\u30FE\u3105-\u312D\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCB\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D-\uA66F\uA67C\uA67D\uA67F\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA6A0-\uA6E5\uA6F0\uA6F1\uA717-\uA71F\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA788\uA78C\uA78E\uA791\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7FA-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA980-\uA9C0\uA9CF-\uA9D9\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7B\uAA80-\uAAC2\uAADB-\uAADD\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29\uFB1E\uFE20-\uFE26\uFE73]|\uD800[\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD802[\uDC40-\uDC55\uDD00-\uDD15\uDD20-\uDD39\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC80-\uDCBA]|\uD808[\uDC00-\uDF6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38]|\uD82C[\uDC00\uDC01]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]/},674631:function(e){"use strict";e.exports=function(e,t,r,n,o,i,a,l){if(!e){var s;if(void 0===t)s=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,i,a,l],u=0;(s=Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}}},791772:function(e){if(!t)var t={map:function(e,t){var r={};return t?e.map(function(e,n){return r.index=n,t.call(r,e)}):e.slice()},naturalOrder:function(e,t){return e<t?-1:e>t?1:0},sum:function(e,t){var r={};return e.reduce(t?function(e,n,o){return r.index=o,e+t.call(r,n)}:function(e,t){return e+t},0)},max:function(e,r){return Math.max.apply(null,r?t.map(e,r):e)}};var r=function(){function e(e,t,r){return(e<<10)+(t<<5)+r}function r(e){var t=[],r=!1;function n(){t.sort(e),r=!0}return{push:function(e){t.push(e),r=!1},peek:function(e){return r||n(),void 0===e&&(e=t.length-1),t[e]},pop:function(){return r||n(),t.pop()},size:function(){return t.length},map:function(e){return t.map(e)},debug:function(){return r||n(),t}}}function n(e,t,r,n,o,i,a){this.r1=e,this.r2=t,this.g1=r,this.g2=n,this.b1=o,this.b2=i,this.histo=a}function o(){this.vboxes=new r(function(e,r){return t.naturalOrder(e.vbox.count()*e.vbox.volume(),r.vbox.count()*r.vbox.volume())})}return n.prototype={volume:function(e){return(!this._volume||e)&&(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(t){var r=this.histo;if(!this._count_set||t){var n,o,i,a=0;for(n=this.r1;n<=this.r2;n++)for(o=this.g1;o<=this.g2;o++)for(i=this.b1;i<=this.b2;i++)a+=r[e(n,o,i)]||0;this._count=a,this._count_set=!0}return this._count},copy:function(){return new n(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(t){var r=this.histo;if(!this._avg||t){var n,o,i,a,l=0,s=0,c=0,u=0;for(o=this.r1;o<=this.r2;o++)for(i=this.g1;i<=this.g2;i++)for(a=this.b1;a<=this.b2;a++)l+=n=r[e(o,i,a)]||0,s+=n*(o+.5)*8,c+=n*(i+.5)*8,u+=n*(a+.5)*8;l?this._avg=[~~(s/l),~~(c/l),~~(u/l)]:this._avg=[~~(8*(this.r1+this.r2+1)/2),~~(8*(this.g1+this.g2+1)/2),~~(8*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(e){var t=e[0]>>3;return gval=e[1]>>3,bval=e[2]>>3,t>=this.r1&&t<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},o.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map(function(e){return e.color})},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,r=0;r<t.size();r++)if(t.peek(r).vbox.contains(e))return t.peek(r).color;return this.nearest(e)},nearest:function(e){for(var t,r,n,o=this.vboxes,i=0;i<o.size();i++)((r=Math.sqrt(Math.pow(e[0]-o.peek(i).color[0],2)+Math.pow(e[1]-o.peek(i).color[1],2)+Math.pow(e[2]-o.peek(i).color[2],2)))<t||void 0===t)&&(t=r,n=o.peek(i).color);return n},forcebw:function(){var e=this.vboxes;e.sort(function(e,r){return t.naturalOrder(t.sum(e.color),t.sum(r.color))});var r=e[0].color;r[0]<5&&r[1]<5&&r[2]<5&&(e[0].color=[0,0,0]);var n=e.length-1,o=e[n].color;o[0]>251&&o[1]>251&&o[2]>251&&(e[n].color=[255,255,255])}},{quantize:function(i,a){if(!i.length||a<2||a>256)return!1;var l,s,c,u,d,f,p,h,y,m,g,b=(s=Array(32768),i.forEach(function(t){s[l=e(t[0]>>3,t[1]>>3,t[2]>>3)]=(s[l]||0)+1}),s),_=0;b.forEach(function(){_++});var v=(f=1e6,p=0,h=1e6,y=0,m=1e6,g=0,i.forEach(function(e){c=e[0]>>3,u=e[1]>>3,d=e[2]>>3,c<f?f=c:c>p&&(p=c),u<h?h=u:u>y&&(y=u),d<m?m=d:d>g&&(g=d)}),new n(f,p,h,y,m,g,b)),x=new r(function(e,r){return t.naturalOrder(e.count(),r.count())});function P(r,n){for(var o,i=1,a=0;a<1e3;){if(!(o=r.pop()).count()){r.push(o),a++;continue}var l=function(r,n){if(n.count()){var o=n.r2-n.r1+1,i=n.g2-n.g1+1,a=n.b2-n.b1+1,l=t.max([o,i,a]);if(1==n.count())return[n.copy()];var s,c,u,d,f=0,p=[],h=[];if(l==o)for(s=n.r1;s<=n.r2;s++){for(d=0,c=n.g1;c<=n.g2;c++)for(u=n.b1;u<=n.b2;u++)d+=r[e(s,c,u)]||0;f+=d,p[s]=f}else if(l==i)for(s=n.g1;s<=n.g2;s++){for(d=0,c=n.r1;c<=n.r2;c++)for(u=n.b1;u<=n.b2;u++)d+=r[e(c,s,u)]||0;f+=d,p[s]=f}else for(s=n.b1;s<=n.b2;s++){for(d=0,c=n.r1;c<=n.r2;c++)for(u=n.g1;u<=n.g2;u++)d+=r[e(c,u,s)]||0;f+=d,p[s]=f}return p.forEach(function(e,t){h[t]=f-e}),function(e){var t,r,o,i,a,l=e+"1",c=e+"2",u=0;for(s=n[l];s<=n[c];s++)if(p[s]>f/2){for(o=n.copy(),i=n.copy(),a=(t=s-n[l])<=(r=n[c]-s)?Math.min(n[c]-1,~~(s+r/2)):Math.max(n[l],~~(s-1-t/2));!p[a];)a++;for(u=h[a];!u&&p[a-1];)u=h[--a];return o[c]=a,i[l]=o[c]+1,[o,i]}}(l==o?"r":l==i?"g":"b")}}(b,o),s=l[0],c=l[1];if(!s||(r.push(s),c&&(r.push(c),i++),i>=n||a++>1e3))return}}x.push(v),P(x,.75*a);for(var O=new r(function(e,r){return t.naturalOrder(e.count()*e.volume(),r.count()*r.volume())});x.size();)O.push(x.pop());P(O,a-O.size());for(var j=new o;O.size();)j.push(O.pop());return j}}}();e.exports=r.quantize},277583:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(357900);t.isFirefox=n.memoize(function(){return/firefox/i.test(navigator.userAgent)}),t.isSafari=n.memoize(function(){return!!window.safari})},712877:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(357900),o=function(){function e(e){this.entered=[],this.isNodeInDocument=e}return e.prototype.enter=function(e){var t=this,r=this.entered.length;return this.entered=n.union(this.entered.filter(function(r){return t.isNodeInDocument(r)&&(!r.contains||r.contains(e))}),[e]),0===r&&this.entered.length>0},e.prototype.leave=function(e){var t=this.entered.length;return this.entered=n.without(this.entered.filter(this.isNodeInDocument),e),t>0&&0===this.entered.length},e.prototype.reset=function(){this.entered=[]},e}();t.default=o},663757:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(712877),i=r(277583),a=r(433146),l=r(584736),s=r(113476),c=function(){function e(e){var t=this;this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){return a.getNodeClientOffset(t.sourceNodes.get(e))},this.endDragNativeItem=function(){t.isDraggingNativeItem()&&(t.actions.endDrag(),t.registry.removeSource(t.currentNativeHandle),t.currentNativeHandle=null,t.currentNativeSource=null)},this.isNodeInDocument=function(e){return!!document&&document.body.contains(e)||!!t.window&&t.window.document.body.contains(e)},this.endDragIfSourceWasRemovedFromDOM=function(){var e=t.currentDragSourceNode;!t.isNodeInDocument(e)&&t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragStartCapture=function(){t.clearCurrentDragSourceNode(),t.dragStartSourceIds=[]},this.handleTopDragStart=function(e){var r=t.dragStartSourceIds;t.dragStartSourceIds=null;var n=a.getEventClientOffset(e);t.monitor.isDragging()&&t.actions.endDrag(),t.actions.beginDrag(r||[],{publishSource:!1,getSourceClientOffset:t.getSourceClientOffset,clientOffset:n});var o=e.dataTransfer,i=l.matchNativeItemType(o);if(t.monitor.isDragging()){if(o&&"function"==typeof o.setDragImage){var s=t.monitor.getSourceId(),c=t.sourceNodes.get(s),u=t.sourcePreviewNodes.get(s)||c;if(u){var d=t.getCurrentSourcePreviewNodeOptions(),f=d.anchorX,p=d.anchorY,h=d.offsetX,y=d.offsetY,m=a.getDragPreviewOffset(c,u,n,{anchorX:f,anchorY:p},{offsetX:h,offsetY:y});o.setDragImage(u,m.x,m.y)}}try{o.setData("application/json",{})}catch(e){}t.setCurrentDragSourceNode(e.target),t.getCurrentSourcePreviewNodeOptions().captureDraggingState?t.actions.publishDragSource():setTimeout(function(){return t.actions.publishDragSource()},0)}else if(i)t.beginDragNativeItem(i);else{if(o&&!o.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=function(){t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(t.dragEnterTargetIds=[],!(!t.enterLeaveCounter.enter(e.target)||t.monitor.isDragging())){var r=e.dataTransfer,n=l.matchNativeItemType(r);n&&t.beginDragNativeItem(n)}},this.handleTopDragEnter=function(e){var r=t.dragEnterTargetIds;t.dragEnterTargetIds=[],t.monitor.isDragging()&&(t.altKeyPressed=e.altKey,i.isFirefox()||t.actions.hover(r,{clientOffset:a.getEventClientOffset(e)}),r.some(function(e){return t.monitor.canDropOnTarget(e)})&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){t.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var r=t.dragOverTargetIds;if(t.dragOverTargetIds=[],!t.monitor.isDragging()){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}t.altKeyPressed=e.altKey,t.actions.hover(r||[],{clientOffset:a.getEventClientOffset(e)}),(r||[]).some(function(e){return t.monitor.canDropOnTarget(e)})?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())):t.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){t.isDraggingNativeItem()&&e.preventDefault(),t.enterLeaveCounter.leave(e.target)&&t.isDraggingNativeItem()&&t.endDragNativeItem()},this.handleTopDropCapture=function(e){t.dropTargetIds=[],e.preventDefault(),t.isDraggingNativeItem()&&t.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),t.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var r=t.dropTargetIds;t.dropTargetIds=[],t.actions.hover(r,{clientOffset:a.getEventClientOffset(e)}),t.actions.drop({dropEffect:t.getCurrentDropEffect()}),t.isDraggingNativeItem()?t.endDragNativeItem():t.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"!=typeof t.dragDrop||"INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop())},this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.context=e.getContext(),this.enterLeaveCounter=new o.default(this.isNodeInDocument)}return Object.defineProperty(e.prototype,"window",{get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0},enumerable:!0,configurable:!0}),e.prototype.setup=function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}},e.prototype.teardown=function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))},e.prototype.connectDragPreview=function(e,t,r){var n=this;return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),function(){n.sourcePreviewNodes.delete(e),n.sourcePreviewNodeOptions.delete(e)}},e.prototype.connectDragSource=function(e,t,r){var n=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,r);var o=function(t){return n.handleDragStart(t,e)},i=function(e){return n.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",i),function(){n.sourceNodes.delete(e),n.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}},e.prototype.connectDropTarget=function(e,t){var r=this,n=function(t){return r.handleDragEnter(t,e)},o=function(t){return r.handleDragOver(t,e)},i=function(t){return r.handleDrop(t,e)};return t.addEventListener("dragenter",n),t.addEventListener("dragover",o),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",n),t.removeEventListener("dragover",o),t.removeEventListener("drop",i)}},e.prototype.addEventListeners=function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.removeEventListeners=function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.getCurrentSourceNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return n({dropEffect:this.altKeyPressed?"copy":"move"},t||{})},e.prototype.getCurrentDropEffect=function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect},e.prototype.getCurrentSourcePreviewNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return n({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})},e.prototype.isDraggingNativeItem=function(){var e=this.monitor.getItemType();return Object.keys(s).some(function(t){return s[t]===e})},e.prototype.beginDragNativeItem=function(e){this.clearCurrentDragSourceNode(),this.currentNativeSource=l.createNativeDragSource(e),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])},e.prototype.setCurrentDragSourceNode=function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout(function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)},1e3)},e.prototype.clearCurrentDragSourceNode=function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)},e.prototype.handleDragStart=function(e,t){this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t)},e.prototype.handleDragEnter=function(e,t){this.dragEnterTargetIds.unshift(t)},e.prototype.handleDragOver=function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)},e.prototype.handleDrop=function(e,t){this.dropTargetIds.unshift(t)},e}();t.default=c},858861:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var r,n,o,i=e.length,a=[],l=0;l<i;l++)a.push(l);a.sort(function(t,r){return e[t]<e[r]?-1:1});for(var s=[],c=[],u=[],l=0;l<i-1;l++)r=e[l+1]-e[l],n=t[l+1]-t[l],c.push(r),s.push(n),u.push(n/r);for(var d=[u[0]],l=0;l<c.length-1;l++){var f=u[l],p=u[l+1];if(f*p<=0)d.push(0);else{r=c[l];var h=c[l+1],y=r+h;d.push(3*y/((y+h)/f+(y+r)/p))}}d.push(u[u.length-1]);for(var m=[],g=[],l=0;l<d.length-1;l++){o=u[l];var b=d[l],_=1/c[l],y=b+d[l+1]-o-o;m.push((o-b-y)*_),g.push(y*_*_)}this.xs=e,this.ys=t,this.c1s=d,this.c2s=m,this.c3s=g}return e.prototype.interpolate=function(e){var t,r=this.xs,n=this.ys,o=this.c1s,i=this.c2s,a=this.c3s,l=r.length-1;if(e===r[l])return n[l];for(var s=0,c=a.length-1;s<=c;){var u=r[t=Math.floor(.5*(s+c))];if(u<e)s=t+1;else{if(!(u>e))return n[t];c=t-1}}var d=e-r[l=Math.max(0,c)],f=d*d;return n[l]+o[l]*d+i[l]*f+a[l]*d*f},e}();t.default=r},862712:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=this;this.config=e,this.item={},Object.keys(this.config.exposeProperties).forEach(function(e){Object.defineProperty(t.item,e,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \""+e+'" until the drop event.'),null}})})}return e.prototype.mutateItemByReadingDataTransfer=function(e){var t=this,r={};e&&Object.keys(this.config.exposeProperties).forEach(function(n){r[n]={value:t.config.exposeProperties[n](e,t.config.matchesTypes)}}),Object.defineProperties(this.item,r)},e.prototype.canDrag=function(){return!0},e.prototype.beginDrag=function(){return this.item},e.prototype.isDragging=function(e,t){return t===e.getSourceId()},e.prototype.endDrag=function(){},e}();t.NativeDragSource=r},594178:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDataFromDataTransfer=function(e,t,r){var n=t.reduce(function(t,r){return t||e.getData(r)},"");return null!=n?n:r}},584736:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(104559),o=r(862712);t.createNativeDragSource=function(e){return new o.NativeDragSource(n.nativeTypesConfig[e])},t.matchNativeItemType=function(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(n.nativeTypesConfig).filter(function(e){return n.nativeTypesConfig[e].matchesTypes.some(function(e){return t.indexOf(e)>-1})})[0]||null}},104559:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(113476),i=r(594178);t.nativeTypesConfig=((n={})[o.FILE]={exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]},n[o.URL]={exposeProperties:{urls:function(e,t){return i.getDataFromDataTransfer(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]},n[o.TEXT]={exposeProperties:{text:function(e,t){return i.getDataFromDataTransfer(e,t,"")}},matchesTypes:["Text","text/plain"]},n)},113476:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FILE="__NATIVE_FILE__",t.URL="__NATIVE_URL__",t.TEXT="__NATIVE_TEXT__"},433146:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(277583),o=r(858861);function i(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var r=t.getBoundingClientRect(),n=r.top;return{x:r.left,y:n}}t.getNodeClientOffset=i,t.getEventClientOffset=function(e){return{x:e.clientX,y:e.clientY}},t.getDragPreviewOffset=function(e,t,r,a,l){var s,c,u,d="IMG"===t.nodeName&&(n.isFirefox()||!document.documentElement.contains(t)),f=i(d?e:t),p={x:r.x-f.x,y:r.y-f.y},h=e.offsetWidth,y=e.offsetHeight,m=a.anchorX,g=a.anchorY,b=(s=d?t.width:h,c=d?t.height:y,n.isSafari()&&d&&(c/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:c}),_=b.dragPreviewWidth,v=b.dragPreviewHeight,x=l.offsetX,P=l.offsetY;return{x:0===x||x?x:new o.default([0,.5,1],[p.x,p.x/h*_,p.x+_-h]).interpolate(m),y:0===P||P?P:(u=new o.default([0,.5,1],[p.y,p.y/y*v,p.y+v-y]).interpolate(g),n.isSafari()&&d&&(u+=(window.devicePixelRatio-1)*v),u)}}},872321:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r||((r=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),r}},182104:function(e,t,r){"use strict";var n=r(663757);r(872321).default;var o=r(113476);t.hm=o,t.ZP=function(e){return new n.default(e)}},357900:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=function(e){var t=null;return function(){return null==t&&(t=e()),t}},t.without=function(e,t){return e.filter(function(e){return e!==t})},t.union=function(e,t){var r=new Set,n=function(e){return r.add(e)};e.forEach(n),t.forEach(n);var o=[];return r.forEach(function(e){return o.push(e)}),o}},575941:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};Object.defineProperty(t,"__esModule",{value:!0});var l=r(76911),s=r(698297),c=r(392706),u=r(558992),d=r(676111),f=r(394254);function p(e,t,r){return{dragDropManager:s.createDragDropManager(e,t,r)}}t.context=l.createContext({dragDropManager:void 0}),t.Consumer=t.context.Consumer,t.Provider=t.context.Provider,t.createChildContext=p,t.DragDropContextProvider=function(e){var r=e.children,n=a(e,["children"]),o="manager"in n?{dragDropManager:n.manager}:p(n.backend,n.context,n.debugMode);return l.createElement(t.Provider,{value:o},r)},t.DragDropContext=function(e,r,n){c.default("DragDropContext","backend",e);var a=p(e,r,n);return function(e){var r=e.displayName||e.name||"Component";return f(function(n){function s(){var e=null!==n&&n.apply(this,arguments)||this;return e.ref=l.createRef(),e.getManager=function(){return a.dragDropManager},e}return o(s,n),s.prototype.getDecoratedComponentInstance=function(){return d(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},s.prototype.render=function(){return l.createElement(t.Provider,{value:a},l.createElement(e,i({},this.props,{ref:u.isRefable(e)?this.ref:null})))},s.DecoratedComponent=e,s.displayName="DragDropContext("+r+")",s}(l.Component),e)}}},454938:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var l=r(76911),s=r(392706),c=r(575941),u=r(558992),d=r(443115),f=r(394254),p=r(676111),h=r(986856);t.default=function(e,t){return void 0===t&&(t={}),s.default("DragLayer","collect[, options]",e,t),p("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),p(d.isPlainObject(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(r){var o=t.arePropsEqual,s=void 0===o?h:o,d=r.displayName||r.name||"Component";return f(function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCurrentlyMounted=!1,e.ref=l.createRef(),e.handleChange=function(){if(e.isCurrentlyMounted){var t=e.getCurrentState();h(t,e.state)||e.setState(t)}},e}return i(o,t),o.prototype.getDecoratedComponentInstance=function(){return p(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},o.prototype.shouldComponentUpdate=function(e,t){return!s(e,this.props)||!h(t,this.state)},o.prototype.componentDidMount=function(){this.isCurrentlyMounted=!0,this.handleChange()},o.prototype.componentWillUnmount=function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)},o.prototype.render=function(){var e=this;return l.createElement(c.Consumer,null,function(t){var n=t.dragDropManager;return void 0===n?null:(e.receiveDragDropManager(n),e.isCurrentlyMounted)?l.createElement(r,a({},e.props,e.state,{ref:u.isRefable(r)?e.ref:null})):null})},o.prototype.receiveDragDropManager=function(e){if(void 0===this.manager){this.manager=e,p("object"===n(e),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",d,d);var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}},o.prototype.getCurrentState=function(){return this.manager?e(this.manager.getMonitor(),this.props):{}},o.displayName="DragLayer("+d+")",o.DecoratedComponent=r,o}(l.Component),r)}}},678110:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(76911).memo(function(e){var t=e.connect,r=e.src;if("undefined"!=typeof Image){var n=new Image;n.src=r,n.onload=function(){return t(n)}}return null});n.displayName="DragPreviewImage",t.default=n},357308:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(392706),o=r(769922),i=r(162094),a=r(313953),l=r(158202),s=r(114866),c=r(711956),u=r(443115),d=r(676111);t.default=function(e,t,r,f){void 0===f&&(f={}),n.default("DragSource","type, spec, collect[, options]",e,t,r,f);var p=e;"function"!=typeof e&&(d(c.default(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),p=function(){return e}),d(u.isPlainObject(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var h=a.default(t);return d("function"==typeof r,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',r),d(u.isPlainObject(f),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',r),function(e){return o.default({containerDisplayName:"DragSource",createHandler:h,registerHandler:i.default,createConnector:function(e){return new s.default(e)},createMonitor:function(e){return new l.default(e)},DecoratedComponent:e,getType:p,collect:r,options:f})}}},158202:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(676111),o=!1,i=!1,a=function(){function e(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.sourceId=e},e.prototype.getHandlerId=function(){return this.sourceId},e.prototype.canDrag=function(){n(!o,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return o=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{o=!1}},e.prototype.isDragging=function(){if(!this.sourceId)return!1;n(!i,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return i=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{i=!1}},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.isDraggingSource=function(e){return this.internalMonitor.isDraggingSource(e)},e.prototype.isOverTarget=function(e,t){return this.internalMonitor.isOverTarget(e,t)},e.prototype.getTargetIds=function(){return this.internalMonitor.getTargetIds()},e.prototype.isSourcePublic=function(){return this.internalMonitor.isSourcePublic()},e.prototype.getSourceId=function(){return this.internalMonitor.getSourceId()},e.prototype.subscribeToOffsetChange=function(e){return this.internalMonitor.subscribeToOffsetChange(e)},e.prototype.canDragSource=function(e){return this.internalMonitor.canDragSource(e)},e.prototype.canDropOnTarget=function(e){return this.internalMonitor.canDropOnTarget(e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();t.default=a},705255:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(392706),o=r(769922),i=r(614330),a=r(215029),l=r(711956),s=r(974722),c=r(398261),u=r(443115),d=r(676111);t.default=function(e,t,r,f){void 0===f&&(f={}),n.default("DropTarget","type, spec, collect[, options]",e,t,r,f);var p=e;"function"!=typeof e&&(d(l.default(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),p=function(){return e}),d(u.isPlainObject(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var h=a.default(t);return d("function"==typeof r,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',r),d(u.isPlainObject(f),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',r),function(e){return o.default({containerDisplayName:"DropTarget",createHandler:h,registerHandler:i.default,createMonitor:function(e){return new s.default(e)},createConnector:function(e){return new c.default(e)},DecoratedComponent:e,getType:p,collect:r,options:f})}}},974722:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(676111),o=!1,i=function(){function e(e){this.targetId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.targetId=e},e.prototype.getHandlerId=function(){return this.targetId},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.canDrop=function(){if(!this.targetId)return!1;n(!o,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return o=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{o=!1}},e.prototype.isOver=function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();t.default=i},114866:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(888081),o=r(312962),i=r(986856),a=function(){function e(e){var t=this;this.backend=e,this.hooks=n.default({dragSource:function(e,r){t.dragSourceOptions=r||null,o.isRef(e)?t.dragSourceRef=e:t.dragSourceNode=e,t.reconnectDragSource()},dragPreview:function(e,r){t.dragPreviewOptions=r||null,o.isRef(e)?t.dragPreviewRef=e:t.dragPreviewNode=e,t.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null}return e.prototype.receiveHandlerId=function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dragSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragSourceOptions",{get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreviewOptions",{get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){this.reconnectDragSource(),this.reconnectDragPreview()},e.prototype.reconnectDragSource=function(){var e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();e&&this.disconnectDragSource();var t=this.dragSource;if(this.handlerId){if(!t){this.lastConnectedDragSource=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions))}},e.prototype.reconnectDragPreview=function(){var e=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();e&&this.disconnectDragPreview();var t=this.dragPreview;this.handlerId&&t&&e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))},e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didConnectedDragSourceChange=function(){return this.lastConnectedDragSource!==this.dragSource},e.prototype.didConnectedDragPreviewChange=function(){return this.lastConnectedDragPreview!==this.dragPreview},e.prototype.didDragSourceOptionsChange=function(){return!i(this.lastConnectedDragSourceOptions,this.dragSourceOptions)},e.prototype.didDragPreviewOptionsChange=function(){return!i(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)},e.prototype.disconnectDragSource=function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},e.prototype.disconnectDragPreview=function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},Object.defineProperty(e.prototype,"dragSource",{get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreview",{get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current},enumerable:!0,configurable:!0}),e}();t.default=a},398261:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(888081),o=r(312962),i=r(986856),a=function(){function e(e){var t=this;this.backend=e,this.hooks=n.default({dropTarget:function(e,r){t.dropTargetOptions=r,o.isRef(e)?t.dropTargetRef=e:t.dropTargetNode=e,t.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null}return Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dropTarget},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}},e.prototype.receiveHandlerId=function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"dropTargetOptions",{get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didDropTargetChange=function(){return this.lastConnectedDropTarget!==this.dropTarget},e.prototype.didOptionsChange=function(){return!i(this.lastConnectedDropTargetOptions,this.dropTargetOptions)},e.prototype.disconnectDropTarget=function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)},Object.defineProperty(e.prototype,"dropTarget",{get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current},enumerable:!0,configurable:!0}),e}();t.default=a},313953:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(238275);r(443115);var o=r(676111),i=["canDrag","beginDrag","isDragging","endDrag"],a=["beginDrag"],l=function(){function e(e,t,r){var n=this;this.spec=e,this.monitor=t,this.ref=r,this.props=null,this.beginDrag=function(){if(n.props)return n.spec.beginDrag(n.props,n.monitor,n.ref.current)}}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.canDrag=function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))},e.prototype.isDragging=function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())},e.prototype.endDrag=function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,n.getDecoratedComponent(this.ref))},e}();t.default=function(e){return Object.keys(e).forEach(function(t){o(i.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',i.join(", "),t),o("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])}),a.forEach(function(t){o("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])}),function(t,r){return new l(e,t,r)}}},215029:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(238275);r(443115);var o=r(676111),i=["canDrop","hover","drop"],a=function(){function e(e,t,r){this.spec=e,this.monitor=t,this.ref=r,this.props=null}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.receiveMonitor=function(e){this.monitor=e},e.prototype.canDrop=function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)},e.prototype.hover=function(){this.spec.hover&&this.spec.hover(this.props,this.monitor,n.getDecoratedComponent(this.ref))},e.prototype.drop=function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)},e}();t.default=function(e){return Object.keys(e).forEach(function(t){o(i.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',i.join(", "),t),o("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])}),function(t,r){return new a(e,t,r)}}},769922:function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(76911),l=r(575941),s=r(572431),c=r(558992);r(443115);var u=r(676111),d=r(394254),f=r(986856);t.default=function(e){var t=e.DecoratedComponent,r=e.createHandler,n=e.createMonitor,p=e.createConnector,h=e.registerHandler,y=e.containerDisplayName,m=e.getType,g=e.collect,b=e.options.arePropsEqual,_=void 0===b?f:b,v=t.displayName||t.name||"Component";return d(function(e){function d(t){var r=e.call(this,t)||this;return r.decoratedRef=a.createRef(),r.handleChange=function(){var e=r.getCurrentState();f(e,r.state)||r.setState(e)},r.disposable=new s.SerialDisposable,r.receiveProps(t),r.dispose(),r}return o(d,e),d.prototype.getHandlerId=function(){return this.handlerId},d.prototype.getDecoratedComponentInstance=function(){return u(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current},d.prototype.shouldComponentUpdate=function(e,t){return!_(e,this.props)||!f(t,this.state)},d.prototype.componentDidMount=function(){this.disposable=new s.SerialDisposable,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()},d.prototype.componentDidUpdate=function(e){_(this.props,e)||(this.receiveProps(this.props),this.handleChange())},d.prototype.componentWillUnmount=function(){this.dispose()},d.prototype.receiveProps=function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(m(e)))},d.prototype.receiveType=function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=h(e,this.handler,this.manager),r=t[0],n=t[1];this.handlerId=r,this.handlerMonitor.receiveHandlerId(r),this.handlerConnector.receiveHandlerId(r);var o=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[r]});this.disposable.setDisposable(new s.CompositeDisposable(new s.Disposable(o),new s.Disposable(n)))}},d.prototype.dispose=function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)},d.prototype.getCurrentState=function(){return this.handlerConnector?g(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}},d.prototype.render=function(){var e=this;return a.createElement(l.Consumer,null,function(r){var n=r.dragDropManager;return e.receiveDragDropManager(n),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(function(){return e.handlerConnector.reconnect()}),a.createElement(t,i({},e.props,e.getCurrentState(),{ref:c.isRefable(t)?e.decoratedRef:null}))})},d.prototype.receiveDragDropManager=function(e){void 0===this.manager&&(u(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",v,v),void 0!==e&&(this.manager=e,this.handlerMonitor=n(e),this.handlerConnector=p(e.getBackend()),this.handler=r(this.handlerMonitor,this.decoratedRef)))},d.DecoratedComponent=t,d.displayName=y+"("+v+")",d}(a.Component),t)}},741109:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(551770)),n(r(90669)),n(r(929766))},576409:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(76911),i=r(162094),a=r(452006),l=r(158202),s=r(114866),c=r(676111);t.useDragSourceMonitor=function(){var e=a.useDragDropManager();return[o.useMemo(function(){return new l.default(e)},[e]),o.useMemo(function(){return new s.default(e.getBackend())},[e])]},t.useDragHandler=function(e,t,r){var l=a.useDragDropManager(),s=o.useMemo(function(){return{beginDrag:function(){var r=e.current,o=r.begin,i=r.item;if(o){var a=o(t);return c(null==a||"object"===n(a),"dragSpec.begin() must either return an object, undefined, or null"),a||i||{}}return i||{}},canDrag:function(){return"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(r,n){var o=e.current.isDragging;return o?o(t):n===r.getSourceId()},endDrag:function(){var n=e.current.end;n&&n(t.getItem(),t),r.reconnect()}}},[]);o.useEffect(function(){var n=i.default(e.current.item.type,s,l),o=n[0],a=n[1];return t.receiveHandlerId(o),r.receiveHandlerId(o),a},[])}},28834:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(76911),o=r(614330),i=r(452006),a=r(398261),l=r(974722);t.useDropTargetMonitor=function(){var e=i.useDragDropManager();return[n.useMemo(function(){return new l.default(e)},[e]),n.useMemo(function(){return new a.default(e.getBackend())},[e])]},t.useDropHandler=function(e,t,r){var a=i.useDragDropManager(),l=n.useMemo(function(){return{canDrop:function(){var r=e.current.canDrop;return!r||r(t.getItem(),t)},hover:function(){var r=e.current.hover;r&&r(t.getItem(),t)},drop:function(){var r=e.current.drop;if(r)return r(t.getItem(),t)}}},[t]);n.useEffect(function(){var n=o.default(e.current.accept,l,a),i=n[0],s=n[1];return t.receiveHandlerId(i),r.receiveHandlerId(i),s},[t,r])}},481948:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(986856),o=r(76911);t.useCollector=function(e,t,r){var i=o.useState(function(){return t(e)}),a=i[0],l=i[1],s=o.useCallback(function(){var o=t(e);!n(a,o)&&(l(o),r&&r())},[a,e,r]);return[a,s]}},452006:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(76911),o=r(575941),i=r(676111);t.useDragDropManager=function(){var e=n.useContext(o.context).dragDropManager;return i(null!=e,"Expected drag drop context"),e}},820887:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(76911),o=r(481948);t.useMonitorOutput=function(e,t,r){var i=o.useCollector(e,t,r),a=i[0],l=i[1];return n.useEffect(function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(l,{handlerIds:[t]})},[e,l]),a}},551770:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(820887),o=r(576409),i=r(76911),a=r(676111);t.useDrag=function(e){var t=i.useRef(e);t.current=e,a(null!=e.item,"item must be defined"),a(null!=e.item.type,"item type must be defined");var r=o.useDragSourceMonitor(),l=r[0],s=r[1];o.useDragHandler(t,l,s);var c=n.useMonitorOutput(l,t.current.collect||function(){return{}},function(){return s.reconnect()}),u=i.useMemo(function(){return s.hooks.dragSource()},[s]),d=i.useMemo(function(){return s.hooks.dragPreview()},[s]);return i.useEffect(function(){s.dragSourceOptions=t.current.options||null,s.reconnect()},[s]),i.useEffect(function(){s.dragPreviewOptions=t.current.previewOptions||null,s.reconnect()},[s]),[c,u,d]}},929766:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(76911),o=r(452006),i=r(481948);t.useDragLayer=function(e){var t=o.useDragDropManager().getMonitor(),r=i.useCollector(t,e),a=r[0],l=r[1];return n.useEffect(function(){return t.subscribeToOffsetChange(l)}),n.useEffect(function(){return t.subscribeToStateChange(l)}),a}},90669:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(820887),o=r(28834),i=r(76911),a=r(676111);t.useDrop=function(e){var t=i.useRef(e);t.current=e,a(null!=e.accept,"accept must be defined");var r=o.useDropTargetMonitor(),l=r[0],s=r[1];o.useDropHandler(t,l,s);var c=n.useMonitorOutput(l,t.current.collect||function(){return{}},function(){return s.reconnect()}),u=i.useMemo(function(){return s.hooks.dropTarget()},[s]);return i.useEffect(function(){s.dropTargetOptions=e.options||null,s.reconnect()},[e.options]),[c,u]}},728781:function(e,t,r){"use strict";var n=r(575941);t.Z5=n.DragDropContext,n.DragDropContextProvider,n.Consumer,r(454938).default;var o=r(357308);t.Ej=o.default;var i=r(705255);t.GR=i.default,r(678110).default;var a=r(741109);a.useDrag,a.useDragLayer,a.useDrop},162094:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=r.getRegistry(),o=n.addSource(e,t);return[o,function(){return n.removeSource(o)}]}},614330:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=r.getRegistry(),o=n.addTarget(e,t);return[o,function(){return n.removeTarget(o)}]}},392706:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n]}},984290:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(76911),o=r(676111);function i(e,t){"function"==typeof e?e(t):e.current=t}t.default=function(e,t){var r=e.ref;return(o("string"!=typeof r,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),r)?n.cloneElement(e,{ref:function(e){i(t,e),r&&i(r,e)}}):n.cloneElement(e,{ref:t})}},443115:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e},t.noop=function(){},t.isPlainObject=function(e){if(!("object"===r(e)&&null!==e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},358764:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isDisposed=!1,this.disposables=e}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){var t=!1;if(!this.isDisposed){var r=this.disposables.indexOf(e);-1!==r&&(t=!0,this.disposables.splice(r,1),e.dispose())}return t},e.prototype.clear=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=Array(e),r=0;r<e;r++)t[r]=this.disposables[r];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=Array(e),r=0;r<e;r++)t[r]=this.disposables[r];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}},e}();t.CompositeDisposable=r},670201:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(443115),o=function(){function e(e){this.isDisposed=!1,this.action=n.isFunction(e)?e:n.noop}return e.isDisposable=function(e){return e&&n.isFunction(e.dispose)},e._fixup=function(t){return e.isDisposable(t)?t:e.empty},e.create=function(t){return new e(t)},e.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)},e.empty={dispose:n.noop},e}();t.Disposable=o},566165:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.isDisposed=!1}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(e){var t=this.isDisposed;if(!t){var r=this.current;this.current=e,r&&r.dispose()}t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}},e}();t.SerialDisposable=r},572431:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(670201)),n(r(566165)),n(r(358764))},238275:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDecoratedComponent=function(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}},312962:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isRef=function(e){return null!==e&&"object"===r(e)&&e.hasOwnProperty("current")}},558992:function(e,t){"use strict";function r(e){return e&&e.$$typeof&&"Symbol(react.forward_ref)"===e.$$typeof.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.isRefForwardingComponent=r,t.isRefable=function(e){return e&&e.prototype&&"function"==typeof e.prototype.render||r(e)}},711956:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){return"string"==typeof t||"symbol"===r(t)||!!n&&Array.isArray(t)&&t.every(function(t){return e(t,!1)})}},859202:function(){"use strict";String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})},888081:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(76911),o=r(984290);r(859202),t.default=function(e){var t={};return Object.keys(e).forEach(function(r){var i=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{var a=function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),!n.isValidElement(e)){var r=e;return i(r,t),r}var a=e;!function(e){if("string"!=typeof e.type)throw Error("Only native element nodes can now be passed to React DnD connectors.You can either wrap "+(e.type.displayName||e.type.name||"the component")+" into a <div>, or turn it into a drag source or a drop target itself.")}(a);var l=t?function(e){return i(e,t)}:i;return o.default(a,l)};t[r]=function(){return a}}}),t}},394254:function(e,t,r){"use strict";var n=r(940258),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function s(e){return n.isMemo(e)?a:l[e.$$typeof]||o}l[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var o=p(r);o&&o!==h&&e(t,o,n)}var a=u(r);d&&(a=a.concat(d(r)));for(var l=s(t),y=s(r),m=0;m<a.length;++m){var g=a[m];if(!i[g]&&!(n&&n[g])&&!(y&&y[g])&&!(l&&l[g])){var b=f(r,g);try{c(t,g,b)}catch(e){}}}}return t}},676111:function(e){"use strict";e.exports=function(e,t,r,n,o,i,a,l){if(!e){var s;if(void 0===t)s=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,i,a,l],u=0;(s=Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}}},141185:function(e,t){"use strict";/** @license React v16.8.4
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,l=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116;function g(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case s:case l:case h:return e;default:switch(e=e&&e.$$typeof){case u:case p:case c:return e;default:return t}}case m:case y:case i:return t}}}function b(e){return g(e)===f}t.typeOf=g,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=m,t.Memo=y,t.Portal=i,t.Profiler=s,t.StrictMode=l,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===s||e===l||e===h||"object"===r(e)&&null!==e&&(e.$$typeof===m||e.$$typeof===y||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p)},t.isAsyncMode=function(e){return b(e)||g(e)===d},t.isConcurrentMode=b,t.isContextConsumer=function(e){return g(e)===u},t.isContextProvider=function(e){return g(e)===c},t.isElement=function(e){return"object"===r(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return g(e)===p},t.isFragment=function(e){return g(e)===a},t.isLazy=function(e){return g(e)===m},t.isMemo=function(e){return g(e)===y},t.isPortal=function(e){return g(e)===i},t.isProfiler=function(e){return g(e)===s},t.isStrictMode=function(e){return g(e)===l},t.isSuspense=function(e){return g(e)===h}},940258:function(e,t,r){"use strict";e.exports=r(141185)},401426:function(e,t){"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,l=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,b=n?Symbol.for("react.block"):60121,_=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function P(e){if("object"===r(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case s:case l:case h:return e;default:switch(e=e&&e.$$typeof){case u:case p:case g:case m:case c:return e;default:return t}}case i:return t}}}function O(e){return P(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=l,t.Suspense=h,t.isAsyncMode=function(e){return O(e)||P(e)===d},t.isConcurrentMode=O,t.isContextConsumer=function(e){return P(e)===u},t.isContextProvider=function(e){return P(e)===c},t.isElement=function(e){return"object"===r(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return P(e)===p},t.isFragment=function(e){return P(e)===a},t.isLazy=function(e){return P(e)===g},t.isMemo=function(e){return P(e)===m},t.isPortal=function(e){return P(e)===i},t.isProfiler=function(e){return P(e)===s},t.isStrictMode=function(e){return P(e)===l},t.isSuspense=function(e){return P(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===s||e===l||e===h||e===y||"object"===r(e)&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===_||e.$$typeof===v||e.$$typeof===x||e.$$typeof===b)},t.typeOf=P},727460:function(e,t,r){"use strict";e.exports=r(401426)},387551:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(539439),o=r(742897),i=r(811602);function a(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}r(838921);var l=r(76911),s=r(945790),c={disabled:!1},u=r(463761),d="unmounted",f="exited",p="entering",h="entered",y="exiting",m=function(e){function t(t,r){n=e.call(this,t,r)||this;var n,o,i=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?i?(o=f,n.appearStatus=p):o=h:o=t.unmountOnExit||t.mountOnEnter?d:f,n.state={status:o},n.nextCallback=null,n}(0,i.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:f}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==p&&r!==h&&(t=p):(r===p||r===h)&&(t=y)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===p?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===f&&this.setState({status:d})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,o=this.props.nodeRef?[n]:[s.findDOMNode(this),n],i=o[0],a=o[1],l=this.getTimeouts(),u=n?l.appear:l.enter;if(!e&&!r||c.disabled){this.safeSetState({status:h},function(){t.props.onEntered(i)});return}this.props.onEnter(i,a),this.safeSetState({status:p},function(){t.props.onEntering(i,a),t.onTransitionEnd(u,function(){t.safeSetState({status:h},function(){t.props.onEntered(i,a)})})})},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:s.findDOMNode(this);if(!t||c.disabled){this.safeSetState({status:f},function(){e.props.onExited(n)});return}this.props.onExit(n),this.safeSetState({status:y},function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,function(){e.safeSetState({status:f},function(){e.props.onExited(n)})})})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(!r||n){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)},r.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,r=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,o.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.createElement(u.Z.Provider,{value:null},"function"==typeof r?r(e,n):l.cloneElement(l.Children.only(r),n))},t}(l.Component);function g(){}m.contextType=u.Z,m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},m.UNMOUNTED=d,m.EXITED=f,m.ENTERING=p,m.ENTERED=h,m.EXITING=y;var b=function(e,t){return e&&t&&t.split(" ").forEach(function(t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=a(e.className,t):e.setAttribute("class",a(e.className&&e.className.baseVal||"",t))})},_=function(e){function t(){for(var t,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,r){var n=t.resolveArguments(e,r),o=n[0],i=n[1];t.removeClasses(o,"exit"),t.addClass(o,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.resolveArguments(e,r),o=n[0],i=n[1];t.addClass(o,i?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.resolveArguments(e,r),o=n[0],i=n[1]?"appear":"enter";t.removeClasses(o,i),t.addClass(o,i,"done"),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"appear"),t.removeClasses(r,"enter"),t.addClass(r,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.resolveArguments(e)[0];t.addClass(r,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"exit"),t.addClass(r,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,r){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,r]},t.getClassNames=function(e){var r=t.props.classNames,n="string"==typeof r,o=n?(n&&r?r+"-":"")+e:r[e],i=n?o+"-active":r[e+"Active"],a=n?o+"-done":r[e+"Done"];return{baseClassName:o,activeClassName:i,doneClassName:a}},t}(0,i.Z)(t,e);var r=t.prototype;return r.addClass=function(e,t,r){var n,o=this.getClassNames(t)[r+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===r&&i&&(o+=" "+i),"active"===r&&e&&e.scrollTop,o&&(this.appliedClasses[t][r]=o,n=o,e&&n&&n.split(" ").forEach(function(t){var r,n;return r=e,n=t,void(r.classList?r.classList.add(n):(r.classList?n&&r.classList.contains(n):-1!==(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+n+" "))||("string"==typeof r.className?r.className=r.className+" "+n:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+n)))}))},r.removeClasses=function(e,t){var r=this.appliedClasses[t],n=r.base,o=r.active,i=r.done;this.appliedClasses[t]={},n&&b(e,n),o&&b(e,o),i&&b(e,i)},r.render=function(){var e=this.props,t=(e.classNames,(0,o.Z)(e,["classNames"]));return l.createElement(m,(0,n.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.Component);_.defaultProps={classNames:""},_.propTypes={};var v=_},463761:function(e,t,r){"use strict";var n=r(76911);t.Z=n.createContext(null)},904202:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){return e===t}t.P1=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];var a=0,l=o.pop(),s=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t.map(function(e){return r(e)}).join(", ")+"]");return t}(o),c=e.apply(void 0,[function(){return a++,l.apply(void 0,arguments)}].concat(n)),u=function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var i=s.map(function(r){return r.apply(void 0,[e,t].concat(n))});return c.apply(void 0,function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}(i))};return u.resultFunc=l,u.recomputations=function(){return a},u.resetRecomputations=function(){return a=0},u}}(function(e){var t=arguments.length<=1||void 0===arguments[1]?n:arguments[1],r=null,o=null;return function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return null!==r&&r.length===i.length&&i.every(function(e,n){return t(e,r[n])})||(o=e.apply(void 0,i)),r=i,o}})},561810:function(e,t){"use strict";/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){var r=e.length;for(e.push(t);0<r;){var n=r-1>>>1,o=e[n];if(0<a(o,t))e[n]=t,e[r]=o,r=n;else break}}function o(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;for(var n=0,o=e.length,i=o>>>1;n<i;){var l=2*(n+1)-1,s=e[l],c=l+1,u=e[c];if(0>a(s,r))c<o&&0>a(u,s)?(e[n]=u,e[c]=r,n=c):(e[n]=s,e[l]=r,n=l);else if(c<o&&0>a(u,r))e[n]=u,e[c]=r,n=c;else break}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===("undefined"==typeof performance?"undefined":r(performance))&&"function"==typeof performance.now){var l,s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var d=[],f=[],p=1,h=null,y=3,m=!1,g=!1,b=!1,_="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function P(e){for(var t=o(f);null!==t;){if(null===t.callback)i(f);else if(t.startTime<=e)i(f),t.sortIndex=t.expirationTime,n(d,t);else break;t=o(f)}}function O(e){if(b=!1,P(e),!g){if(null!==o(d))g=!0,R(j);else{var t=o(f);null!==t&&z(O,t.startTime-e)}}}function j(e,r){g=!1,b&&(b=!1,v(E),E=-1),m=!0;var n=y;try{for(P(r),h=o(d);null!==h&&(!(h.expirationTime>r)||e&&!C());){var a=h.callback;if("function"==typeof a){h.callback=null,y=h.priorityLevel;var l=a(h.expirationTime<=r);r=t.unstable_now(),"function"==typeof l?h.callback=l:h===o(d)&&i(d),P(r)}else i(d);h=o(d)}if(null!==h)var s=!0;else{var c=o(f);null!==c&&z(O,c.startTime-r),s=!1}return s}finally{h=null,y=n,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S=!1,w=null,E=-1,A=5,I=-1;function C(){return!(t.unstable_now()-I<A)}function T(){if(null!==w){var e=t.unstable_now();I=e;var r=!0;try{r=w(!0,e)}finally{r?l():(S=!1,w=null)}}else S=!1}if("function"==typeof x)l=function(){x(T)};else if("undefined"!=typeof MessageChannel){var D=new MessageChannel,k=D.port2;D.port1.onmessage=T,l=function(){k.postMessage(null)}}else l=function(){_(T,0)};function R(e){w=e,S||(S=!0,l())}function z(e,r){E=_(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,R(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return o(d)},t.unstable_next=function(e){switch(y){case 1:case 2:case 3:var t=3;break;default:t=y}var r=y;y=t;try{return e()}finally{y=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=y;y=e;try{return t()}finally{y=r}},t.unstable_scheduleCallback=function(e,i,a){var l=t.unstable_now();switch(a="object"===r(a)&&null!==a&&"number"==typeof(a=a.delay)&&0<a?l+a:l,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,e={id:p++,callback:i,priorityLevel:e,startTime:a,expirationTime:s,sortIndex:-1},a>l?(e.sortIndex=a,n(f,e),null===o(d)&&e===o(f)&&(b?(v(E),E=-1):b=!0,z(O,a-l))):(e.sortIndex=s,n(d,e),g||m||(g=!0,R(j))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=y;return function(){var r=y;y=t;try{return e.apply(this,arguments)}finally{y=r}}}},456058:function(e,t,r){"use strict";e.exports=r(561810)},986856:function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e,r,n,o){var i=n?n.call(o,e,r):void 0;if(void 0!==i)return!!i;if(e===r)return!0;if("object"!==t(e)||!e||"object"!==t(r)||!r)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(r),c=0;c<a.length;c++){var u=a[c];if(!s(u))return!1;var d=e[u],f=r[u];if(!1===(i=n?n.call(o,d,f,u):void 0)||void 0===i&&d!==f)return!1}return!0}},444314:function(e,t,r){"use strict";r.r(t),t.default=function(e,t){}},830539:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(76911),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useState,a=n.useEffect,l=n.useLayoutEffect,s=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!o(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),o=n[0].inst,u=n[1];return l(function(){o.value=r,o.getSnapshot=t,c(o)&&u({inst:o})},[e,r,t]),a(function(){return c(o)&&u({inst:o}),e(function(){c(o)&&u({inst:o})})},[e]),s(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},165016:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(76911),o=r(768138),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useSyncExternalStore,l=n.useRef,s=n.useEffect,c=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var d=l(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var p=a(e,(d=c(function(){function e(e){if(!s){if(s=!0,a=e,e=n(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return l=t}return l=e}if(t=l,i(a,e))return t;var r=n(e);return void 0!==o&&o(t,r)?t:(a=e,l=r)}var a,l,s=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,o]))[0],d[1]);return s(function(){f.hasValue=!0,f.value=p},[p]),u(p),p}},768138:function(e,t,r){"use strict";e.exports=r(830539)},273897:function(e,t,r){"use strict";e.exports=r(165016)},562647:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(e){var t,r=function(e){if(Array.isArray(e))return e}(t=e.split(/\/(.*)+/))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0];return{filepath:r[1],site:o}}function i(e,t){return t?"".concat(e||"","/").concat(t):"/".concat(e||"")}r.d(t,{ac:function(){return o},ke:function(){return i}})},582406:function(e,t,r){"use strict";r.d(t,{MM:function(){return l},uo:function(){return s},wH:function(){return a}});var n=r(425288),o=r(562647),i=(0,n.Z)("HandlerId"),a=i.Provider,l=i.useHook;function s(){var e=l();return(0,o.ac)(e).site}},597897:function(e,t,r){"use strict";r.d(t,{U:function(){return i}});var n=r(76911),o=(0,n.createContext)();function i(){return(0,n.useContext)(o)}t.Z=o},746613:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/birthday-08b9de02.png"},622702:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},500390:function(e,t,r){var n=r(622702);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},375990:function(e){e.exports=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},136021:function(e,t,r){var n=r(227176);e.exports=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},928837:function(e,t,r){var n=r(715236);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},647586:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},191670:function(e,t,r){var n=r(468814);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},257523:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},71507:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},773954:function(e){e.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},228644:function(e,t,r){var n=r(928837);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},686447:function(e){e.exports=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o},e.exports.__esModule=!0,e.exports.default=e.exports},468814:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},865897:function(e,t,r){var n=r(500390),o=r(71507),i=r(227176),a=r(773954);e.exports=function(e){return n(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},313493:function(e,t,r){var n=r(145425).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},715236:function(e,t,r){var n=r(145425).default,o=r(313493);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},145425:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},227176:function(e,t,r){var n=r(622702);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}},e.exports.__esModule=!0,e.exports.default=e.exports},744702:function(e,t,r){"use strict";function n(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return n}})},232302:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(439920);function o(e,t,r){return(t=(0,n.Z)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},539439:function(e,t,r){"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,{Z:function(){return n}})},811602:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(967809);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.Z)(e,t)}},927593:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(232302);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},742897:function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}r.d(t,{Z:function(){return n}})},967809:function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,{Z:function(){return n}})},439920:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(54406);function o(e){var t=function(e,t){if("object"!=(0,n.Z)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=(0,n.Z)(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,n.Z)(t)?t:String(t)}},54406:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,{Z:function(){return n}})}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[97270,8390,1861,71827,99689,26067,17492,48327,66312,99246,16117,13254,83521,70987,57709,31583,22485,65610,27405,46537,71526,10903,42103],function(){return t(367677),t(644551),t(61746)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/idea-ads-tool-b1296903423e7925.js.map