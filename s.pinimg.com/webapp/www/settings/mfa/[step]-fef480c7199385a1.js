(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[34419],{472669:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/settings/mfa/[step]"]=function(){return r(866754).Z}},81636:function(e,t,r){"use strict";r.d(t,{Q:function(){return d},Z:function(){return f}});var n=r(76911),o=r(112690),i=r(385740),a=r(767546),l=r(780280);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==s(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t){var r=(0,i.sV)().setViewContextData,s=(0,l.B)().requestIdentifier,c=(0,o.Z)(),d=(0,i.SU)().viewData;(0,n.useEffect)(function(){if(e){var t;r({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c(u(u({},e),{},{event_type:13,request_identifier:s}))}},[t])}function f(e){var t=e.children;return d(e.log),t||null}},97416:function(e,t){"use strict";t.Z=function(e){return"confirmed"===e}},767546:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return function e(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},l=a(t,r);return void 0!==l?l:void 0===r?t:Array.isArray(t)&&Array.isArray(r)?r.reduce(function(t,n,o){return t[o]=e(t[o],r[o],a),t},function(e){if(Array.isArray(e))return i(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t&&"object"===o(t)&&r&&"object"===o(r)?Object.keys(r).reduce(function(t,n){return t[n]=e(t[n],r[n],a),t},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t)):r}}})},866754:function(e,t,r){"use strict";r.d(t,{Z:function(){return q}});var n=r(76911),o=r(599689),i=r(97416),a=r(499128),l=r(898781),s=r(542554),c=r(343341),u=r(50286),d=r(908390),f=r(112690),_=r(81636),h=r(349700),m=r(313047),p=r(676613),y=r(660119),g=r(515198);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var x=function(e){var t=e.userEmail,r=e.afterEmailValidated,o=e.viewParameter,i=e.viewType,a=(0,l.ZP)(),s=(0,f.Z)(),c=b((0,n.useState)(""),2),u=c[0],v=c[1],x=b((0,n.useState)(""),2),A=x[0],j=x[1],C=b((0,n.useState)(!1),2),P=C[0],w=C[1];return(0,_.Q)({view_type:i,view_parameter:o}),(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(m.FixedHeader,{zIndexForGestaltBug:2,children:(0,g.jsx)(y.default,{heading:a._('Two-factor authentication', 'settings.MFA.Enable.ConfirmEmail.header', 'Header for the disable 2fa flow page'),legoSettingsEnabled:!0})}),(0,g.jsxs)(d.kC,{direction:"column",justifyContent:"between",flex:"grow",children:[(0,g.jsxs)(d.xu,{marginBottom:10,children:[(0,g.jsxs)(d.xu,{paddingX:4,marginBottom:11,"data-test-id":"confirm-email-2fa",children:[(0,g.jsx)(d.xu,{marginBottom:2,children:(0,g.jsx)(d.__,{htmlFor:"confirmEmail",children:(0,g.jsx)(d.X6,{align:"center",size:"500",accessibilityLevel:2,children:A.length?a._('Hmm...another try?', 'settings.MFA.ConfirmEmail.Title.error', 'Title for the enable 2fa flow page - Confirm your email step'):a._('Confirm your email', 'settings.MFA.ConfirmEmail.Title', 'Title for the enable 2fa flow page - Confirm your email step')})})}),(0,g.jsx)(d.xu,{marginBottom:10,children:(0,g.jsx)(d.xv,{align:"center",size:"200",children:A.length?a._('To set up 2FA, enter the email connected to your Pinterest account', 'settings.MFA.Enable.ConfirmEmail.Description.error', 'Description of the enable 2fa flow page - Confirm your email step'):a._('In order to maintain access to your account please confirm your email', 'settings.MFA.Enable.ConfirmEmail.Description', 'Description of the enable 2fa flow page - Confirm your email step')})})]}),(0,g.jsx)(d.xu,{paddingX:2,children:(0,g.jsx)(d.xu,{marginBottom:2,position:"relative",children:(0,g.jsx)(d.nv,{label:a._('Email', 'settings.MFA.Enable.ConfirmEmail.input.label', 'Input label for the Email field on confirm email page at 2fa enable flow'),placeholder:a._('Enter your email', 'settings.MFA.Enable.ConfirmEmail.input.placeholder', 'Input placeholder for the Email field on confirm email page at 2fa enable flow'),errorMessage:A,id:"confirmEmail",onChange:function(e){return v(e.value)},size:"lg",type:"text",value:u})})})]}),(0,g.jsx)(d.xu,{paddingX:2,paddingY:4,children:(0,g.jsx)(d.zx,{color:"red",disabled:!u||!u.length||P,onClick:function(){if(s({view_type:i,view_parameter:o,element:96,event_type:102}),w(!0),!u.match(p.EMAIL_REGEX)){j(a._('Not a valid email.', 'profile.Settings.Edit.Email.Error.Shouldnt.Match.Username', 'Error message while changing email, when email matches username')),w(!1);return}u.toLowerCase()===t.toLowerCase()?(s({view_type:i,view_parameter:o,event_type:10247}),r()):(s({view_type:i,view_parameter:o,element:13332,event_type:13}),j((0,h.nk)(a._('{{ UpdateEmailLink }} in account settings.', 'settings.MFA.Enable.ConfirmEmail.errorMessage', 'Error message to be displayed if the user email wont match against the one typed. UpdateEmailLink: link to the Pinterest account management page'),{UpdateEmailLink:(0,g.jsx)(d.rU,{href:"/settings/account-settings/",target:"self",onClick:function(){s({view_type:i,view_parameter:o,element:13333,event_type:102})},display:"inlineBlock",underline:"none",children:(0,g.jsx)("strong",{children:a._('Update your email address', 'settings.MFA.Enable.ConfirmEmail.errorMessage.link', 'Text for link to account management page')})},"updateEmailLink")})),w(!1))},text:a._('Next', 'settings.MFA.Enable.ConfirmEmail.SendButton', 'CTA to submit password on confirm email page at 2fa flow'),fullWidth:!0})})]})]})},A=r(186656),j=r(780280);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var w=(0,n.createContext)(),S=(0,n.createContext)();function E(e){var t=e.children,r=C((0,n.useState)("confirm-password"),2),o=r[0],i=r[1],a=C((0,n.useState)(!1),2),l=a[0],s=a[1],c=C((0,n.useState)(""),2),u=c[0],d=c[1],f=C((0,n.useState)(""),2),_=f[0],h=f[1],m=(0,n.useMemo)(function(){return{currentStep:o,isEmailValid:l,countryCode:_,countryPhoneCode:u}},[o,l,_,u]),p=(0,n.useMemo)(function(){return{setCurrentStep:i,setIsEmailValid:s,setCountryCode:h,setCountryPhoneCode:d}},[]);return(0,g.jsx)(w.Provider,{value:m,children:(0,g.jsx)(S.Provider,{value:p,children:t})})}function O(){var e=(0,n.useContext)(w);if(void 0===e)throw Error("useMfaState must be used within a MfaStateContext");return e}function z(){var e=(0,n.useContext)(S);if(void 0===e)throw Error("useMfaUpdater must be used within a MfaStateContext");return e}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var D=function(e){var t=e.afterPhoneNumberSubmit,r=e.onCountryCodeTouch,o=e.password,i=e.userEmail,a=(0,l.ZP)(),s=(0,f.Z)(),c=(0,j.B)().isRTL,u=O().countryPhoneCode,_=F((0,n.useState)(""),2),h=_[0],p=_[1],b=F((0,n.useState)([]),2),v=b[0],x=b[1],C=F((0,n.useState)(!1),2),P=C[0],w=C[1];return(0,n.useEffect)(function(){s({event_type:13,view_type:562,view_parameter:3730})},[s]),(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(m.FixedHeader,{zIndexForGestaltBug:2,children:(0,g.jsx)(y.default,{heading:a._('Step 2 of 3', 'settings.MFA.Enable.AddPhoneNumber.header', 'Step counter for the enable 2fa flow page'),legoSettingsEnabled:!0})}),(0,g.jsxs)(d.kC,{direction:"column",justifyContent:"between",flex:"grow",children:[(0,g.jsxs)(d.xu,{marginBottom:10,children:[(0,g.jsxs)(d.xu,{paddingX:10,marginBottom:11,"data-test-id":"add-phone-number-2fa",children:[(0,g.jsx)(d.xu,{marginBottom:2,children:(0,g.jsx)(d.X6,{align:"center",size:"500",accessibilityLevel:2,children:a._('Add phone number', 'settings.MFA.AddPhoneNumber.Title', 'Title of the Add phone number step on 2fa flow')})}),(0,g.jsx)(d.xu,{children:(0,g.jsx)(d.xv,{align:"center",size:"200",children:a._('This is where we\u2019ll text your login security codes', 'settings.MFA.AddPhoneNumber.Description', 'Description of the  Add phone number step on 2fa flow')})})]}),(0,g.jsxs)(d.xu,{paddingX:2,children:[(0,g.jsxs)(d.xu,{marginBottom:4,children:[(0,g.jsx)(d.xu,{marginBottom:2,children:(0,g.jsx)(d.xv,{align:"center",size:"200",children:a._('Country code', 'settings.MFA.AddPhoneNumber.countryCodeField', 'Country code for the add phone number step on 2fa flow')})}),(0,g.jsx)(d.iP,{onTap:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),s({view_type:562,view_parameter:3730,element:12921,event_type:102}),r()},children:(0,g.jsxs)(d.kC,{alignItems:"center",justifyContent:"center",children:[(0,g.jsx)(d.xu,{marginEnd:2,children:u?(0,g.jsx)(d.xv,{size:"400",children:u}):(0,g.jsx)(d.xv,{size:"400",color:"subtle",children:a._('Choose', 'settings.MFA.AddPhoneNumber.countryCode.Placeholder', 'Placeholder for the countryCode field')})}),(0,g.jsx)(d.xu,{left:c,right:!c,children:(0,g.jsx)(d.JO,{accessibilityLabel:a._('Go to Country code selection Page to select the country code for your phone number', 'settings.MFA.AddPhoneNumber.goToCountryCodeSelection', 'Accessibility label for the icon that redirect the user to the country code selection page'),color:"default",icon:"arrow-forward"})})]})})]}),(0,g.jsxs)(d.xu,{children:[(0,g.jsx)(d.xu,{marginBottom:2,children:(0,g.jsx)(d.__,{htmlFor:"phoneNumber",children:(0,g.jsx)(d.xv,{align:"center",size:"200",children:a._('Phone', 'settings.MFA.AddPhoneNumber.phoneField', 'Phone Field for the add phone number step on 2fa flow')})})}),(0,g.jsx)(d.nv,{errorMessage:v[0],id:"phoneNumer",onChange:function(e){return p(e.value)},size:"lg",type:"tel",placeholder:a._('Phone number', 'AddPhoneNumberStep.TextField.PhoneNumber', 'placeholder text for phone number'),value:h})]})]})]}),(0,g.jsx)(d.xu,{paddingX:2,paddingY:4,children:(0,g.jsx)(d.zx,{color:"red",disabled:!h||!h.length||!u||P,onClick:function(){s({view_type:562,view_parameter:3730,element:96,event_type:102}),w(!0),x([]),(0,A.Z)({url:"/v3/users/settings/mfa/",method:"POST",data:{password:o,number:h,country:u,email_input:i}}).then(function(){return t("".concat(u).concat(h))},function(e){w(!1),x([e.message])})},text:a._('Next', 'settings.MFA.Enable.ConfirmPassword.SendButton', 'CTA to submit password on confirm password page at 2fa flow'),fullWidth:!0})})]})]})},I=r(716717),T=r(844974),N=r(709113);function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var R=function(e){var t,r=e.password,o=e.phoneNumber,i=e.userEmail,s=e.afterVerificationCodeSubmit,u=(0,l.ZP)(),_=(0,c.F9)().showOneToast,p=(0,f.Z)(),b=u._('Sorry, something went wrong', 'settings.MFA.ConfirmVerificationCode.toast.error', 'Default toast message for error when trying to resend the verification code'),v=u._('Code resent!', 'settings.MFA.ConfirmVerificationCode.toast.codeResent', 'Default toast message for code resend'),x=B((0,n.useState)(""),2),j=x[0],C=x[1],P=B((0,n.useState)([]),2),w=P[0],S=P[1],E=B((0,n.useState)(!1),2),O=E[0],z=E[1],F=B((0,n.useState)(!1),2),M=F[0],D=F[1];return((0,n.useEffect)(function(){p({event_type:13,view_type:562,view_parameter:3731})},[p]),O)?(0,g.jsx)(d.kC,{alignContent:"center",alignItems:"stretch",direction:"column",height:"100vh",justifyContent:"center",width:"100vw",children:(0,g.jsxs)(d.xu,{children:[(0,g.jsx)(d.xu,{marginBottom:10,children:(0,g.jsx)(d.$j,{accessibilityLabel:u._('Verifying if code is valid', 'settings.MFA.ConfirmVerificationCode.verifyingCode.loading', 'Loading state for when the verification code is sent and is being validated'),show:!0})}),(0,g.jsx)(d.xv,{align:"center",size:"400",weight:"bold",children:u._('Verifying...', 'settings.MFA.ConfirmVerificationCode.verifyingCode.text', 'Loading state Title for when the verification code is sent and is being validated')})]})}):(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(m.FixedHeader,{zIndexForGestaltBug:2,children:(0,g.jsx)(y.default,{heading:u._('Step 3 of 3', 'settings.MFA.Enable.ConfirmVerificationCode.header', 'Step counter for the enable 2fa flow page'),legoSettingsEnabled:!0})}),(0,g.jsx)(d.kC,{direction:"column",justifyContent:"between",flex:"grow",children:(0,g.jsxs)(d.xu,{marginBottom:10,children:[(0,g.jsxs)(d.xu,{paddingX:5,marginBottom:11,"data-test-id":"confirm-verification-code-2fa",children:[(0,g.jsx)(d.xu,{marginBottom:2,children:(0,g.jsx)(d.__,{htmlFor:"verificationCode",children:(0,g.jsx)(d.X6,{align:"center",size:"500",accessibilityLevel:2,children:u._('Enter verification code', 'settings.MFA.ConfirmVerificationCode.Title', 'Title of the Enter verification code step on 2fa flow')})})}),(0,g.jsx)(d.xu,{paddingX:8,marginBottom:10,children:(0,g.jsx)(d.xv,{align:"center",size:"200",children:(0,h.nk)(u._('Now enter the code we just texted to {{ phoneNumber }}.', 'settings.MFA.ConfirmVerificationCode.Description', 'Description of the Enter verification code step on 2fa flow phoneNumber:User masked phone number from previous step'),{phoneNumber:(t=o.substr(o.length-3),"XXXX".concat(t))})})})]}),(0,g.jsxs)(d.xu,{paddingX:2,children:[(0,g.jsx)(d.xu,{marginBottom:2,position:"relative",children:(0,g.jsx)(d.nv,{errorMessage:w[0],id:"verificationCode",onChange:function(e){return C(e.value)},size:"lg",type:"text",value:j})}),(0,g.jsx)(d.xu,{children:(0,g.jsx)(d.xu,{children:(0,g.jsx)(d.kC,{alignContent:"center",direction:"column",children:(0,g.jsx)(d.xu,{width:150,alignSelf:"center",children:(0,g.jsx)(d.iP,{onTap:function(){M||(C(""),D(!0),p({view_type:562,view_parameter:3731,element:12920,event_type:102}),(0,A.Z)({url:"/v3/users/settings/mfa/resend/",method:"POST"}).then(function(e){D(!1);var t=(e.resource_response.data||{}).message||v;_(function(e){var r=e.hideToast;return(0,g.jsx)(a.ZP,{onHide:r,text:t})})},function(e){var t="string"==typeof e.message?e.message:b;D(!1),_(function(e){var r=e.hideToast;return(0,g.jsx)(a.ZP,{type:"error",onHide:r,text:t})})}))},disabled:M||O,tapStyle:"compress",children:(0,g.jsx)(d.xu,{paddingY:2,children:(0,g.jsx)(d.xv,{align:"center",size:"200",weight:"bold",underline:!0,children:u._('Resend code?', 'settings.MFA.ConfirmVerificationCode.ResendCode', 'Button to resend the code')})})})})})})})]})]})}),(0,g.jsx)(d.xu,{paddingX:2,marginBottom:4,children:(0,g.jsx)(d.zx,{color:"red",disabled:!j||!j.length||O||M,onClick:function(){p({view_type:562,view_parameter:3731,element:96,event_type:102}),z(!0),S([]),(0,A.Z)({url:"/v3/users/settings/mfa/verify/",method:"POST",data:{password:r,token:j,email_input:i}}).then(function(){p({event_type:9990,view_type:562,view_parameter:3731}),(0,T.L_)(N.ou),s()}).catch(function(e){S([e.message]),z(!1)})},text:u._('Verify', 'settings.MFA.Enable.ConfirmVerificationCode.SendButton', 'CTA to submit verification code on the Enter verification code at 2fa flow'),fullWidth:!0})})]})},k=r(784590);function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function V(e){var t=e.isFirstItem,r=e.checked,n=e.heading,o=e.id,i=e.name,a=e.onChange;return(0,g.jsxs)(d.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginTop:t?0:6,paddingY:1,role:"listitem",children:[(0,g.jsx)(d.__,{htmlFor:o,children:(0,g.jsx)(d.X6,{accessibilityLevel:2,size:"400",children:n})}),(0,g.jsx)(d.FX.RadioButton,{checked:r,id:o,name:i,onChange:a,value:o})]})}var Z=function(e){var t,r=e.afterCountryCodeSubmit,o=(0,l.ZP)(),i=O().countryCode,a=z(),s=a.setCountryCode,c=a.setCountryPhoneCode,u=(0,k.Z)({name:"ApiResource",options:{url:"/v3/countries/phone_codes/"}}),f=u.data,_=u.isLoaded,h=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(i))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=h[0],b=h[1],v=function(e,t){b(e),s(e),c(t),r()};return _?(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(m.FixedHeader,{zIndexForGestaltBug:2,children:(0,g.jsx)(y.default,{heading:o._('Country Code', 'settings.MFA.Enable.CountryCode.header', 'Step counter for the enable 2fa flow page'),legoSettingsEnabled:!0})}),(0,g.jsx)(d.xu,{role:"list",marginTop:2,paddingX:2,"data-test-id":"2fa-phone-number-country-code",children:(0,g.jsx)(d.FX,{id:"2fa-phone-number-country-code-radio-options",legend:o._('Country Code', 'settings.MFA.Enable.CountryCode.header', 'Step counter for the enable 2fa flow page'),legendDisplay:"hidden",children:(f||[]).map(function(e,t){return(0,g.jsx)(V,{isFirstItem:0===t,checked:e.code===p,heading:e.phone_code_label,id:"countryCode-".concat(e.phone_code_label),name:"country_code",onChange:function(){return v(e.code,e.phone_code)}},"countryCode-option-".concat(e.phone_code_label))})})})]}):(0,g.jsx)(d.kC,{alignContent:"center",alignItems:"stretch",direction:"column",height:"100vh",justifyContent:"center",width:"100vw",children:(0,g.jsx)(d.$j,{accessibilityLabel:o._('Loading Country Code list', 'settings.MFA.Enable.CountryCode.loading', 'Loading state for the Country Code selection lsit'),show:!0})})},H=r(698330);function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var $={CONFIRM_EMAIL:"confirm-email",CONFIRM_PASSWORD:"confirm-password",ADD_PHONE_NUMBER:"add-phone-number",ADD_PHONE_COUNTRY_CODE:"add-phone-country-code",VERIFICATION_CODE:"verification-code"},G=Object.values($);function Y(){var e,t=(0,l.ZP)(),r=(0,c.F9)().showToast,d=(0,o.useRouteMatch)(),f=(0,o.useHistory)(),_=O(),h=_.currentStep,m=_.isEmailValid,p=z(),y=p.setCurrentStep,b=p.setIsEmailValid,v=X((0,n.useState)(""),2),A=v[0],j=v[1],C=X((0,n.useState)(""),2),P=C[0],w=C[1],S=null!==(e=(0,H.Tt)())&&void 0!==e?e:Object.freeze({}),E=S.email,F=S.email_status,M=(0,u.HG)(),T=function(e){var t="/settings/mfa/".concat(e);f.push(t)},N=function(){var e=d.params.step;if(!G.includes(e)){f.push("/settings/security");return}var t=(0,i.Z)(F||"")?$.CONFIRM_PASSWORD:$.CONFIRM_EMAIL;m||e===$.CONFIRM_EMAIL||e===$.CONFIRM_PASSWORD?e!==h&&y(e||t):(y(t),T(t))};return((0,n.useEffect)(function(){N()},[d]),M)?(0,g.jsx)(o.Redirect,{to:"/settings/security"}):(0,g.jsxs)(s.default,{hasFixedHeader:!0,children:[h===$.CONFIRM_EMAIL?(0,g.jsx)(x,{userEmail:E||"",afterEmailValidated:function(){return T($.CONFIRM_PASSWORD)},viewType:562,viewParameter:3806}):null,h===$.CONFIRM_PASSWORD?(0,g.jsx)(I.Z,{afterPasswordSubmit:function(e){j(e),b(!0),T($.ADD_PHONE_NUMBER)},viewType:562,viewParameter:3729}):null,h===$.ADD_PHONE_NUMBER?(0,g.jsx)(D,{afterPhoneNumberSubmit:function(e){w(e),T($.VERIFICATION_CODE)},onCountryCodeTouch:function(){return T($.ADD_PHONE_COUNTRY_CODE)},password:A,userEmail:E||""}):null,h===$.ADD_PHONE_COUNTRY_CODE?(0,g.jsx)(Z,{afterCountryCodeSubmit:function(){return T($.ADD_PHONE_NUMBER)}}):null,h===$.VERIFICATION_CODE?(0,g.jsx)(R,{afterVerificationCodeSubmit:function(){r(function(e){var r=e.hideToast;return(0,g.jsx)(a.ZP,{duration:4e3,onHide:r,text:t._('Two-factor authentication has been turned on', 'mfa.turnedOn.success', 'Toast message for successfully enabling 2fa')})}),f.push("/settings/security")},password:A,phoneNumber:P,userEmail:E||""}):null]})}var q=function(){return(0,g.jsx)(E,{children:(0,g.jsx)(Y,{})})}}},function(e){e.O(0,[97270,8390,99689,26067,17492,48327,66312,99246,11136,76613,38819],function(){return e(e.s=472669)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/settings/mfa/[step]-fef480c7199385a1.js.map