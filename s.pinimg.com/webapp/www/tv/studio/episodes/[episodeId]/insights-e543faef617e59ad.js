(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[40151],{254585:function(e,i,t){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/tv/studio/episodes/[episodeId]/insights"]=function(){return t(150333).Z}},70061:function(e,i,t){"use strict";function l(e){return e.replace(/[_.-](\w|$)/g,function(e,i){return i.toUpperCase()})}t.d(i,{Z:function(){return l}})},273712:function(e,i,t){"use strict";t.d(i,{$J:function(){return l},Ct:function(){return p},Dm:function(){return _},Ff:function(){return u},Md:function(){return n},My:function(){return o},Rp:function(){return s},ak:function(){return a},d0:function(){return h},gs:function(){return v},jm:function(){return c},oo:function(){return r},vw:function(){return d}});var l={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",MOBILE_SMALL:"MOBILE_SMALL",MOBILE_LARGE:"MOBILE_LARGE"},r=2,a=6,o=3,s=1.5,n=16,c=8,d=16/9,u=25,_="Includes Paid Promotion #Ad",p={PRE_LIVE:1,OFFLINE:2,LIVE:3,POST_LIVE:4},h={TRUE:!0,FALSE:!1,UNKNOWN:void 0},v=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"]},697335:function(e,i,t){"use strict";t.d(i,{c:function(){return r},t:function(){return a}});var l=t(883521);function r(e){return(0,e.children)((0,l.J)().height)}function a(){return(0,l.J)().height}},366022:function(e,i,t){"use strict";t.d(i,{Z:function(){return g}});var l,r,a=t(599689),o=t(908390),s=t(121151),n=t(499128),c=t(898781),d=t(349700),u=t(343341),_=t(409692),p=t(186656);function h(e,i,t,l,r,a,o){try{var s=e[a](o),n=s.value}catch(e){t(e);return}s.done?i(n):Promise.resolve(n).then(l,r)}var v=(l=regeneratorRuntime.mark(function e(i){var t,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.episodeId,e.next=3,(0,p.Z)({url:"/v3/classes/instances/".concat(t,"/"),method:"DELETE"});case 3:if(!(l=e.sent.resource_response)){e.next=7;break}return e.abrupt("return",l.data);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}},e)}),r=function(){var e=this,i=arguments;return new Promise(function(t,r){var a=l.apply(e,i);function o(e){h(a,t,r,o,s,"next",e)}function s(e){h(a,t,r,o,s,"throw",e)}o(void 0)})},function(e){return r.apply(this,arguments)}),f=t(515198);function b(e,i,t,l,r,a,o){try{var s=e[a](o),n=s.value}catch(e){t(e);return}s.done?i(n):Promise.resolve(n).then(l,r)}var g=function(e){var i,t,l=e.episodeId,r=e.onDismiss,p=e.isVisible,h=e.episodeTitle,g=(0,c.ZP)(),m=(0,a.useHistory)().replace,x=(0,a.useRouteMatch)({path:"/tv/studio/episodes/:episodeId/",exact:!1,strict:!1}),j=(0,u.F9)(),A=(i=regeneratorRuntime.mark(function e(){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v({episodeId:l});case 3:if(r(),(null==x?void 0:null===(i=x.params)||void 0===i?void 0:i.episodeId)!==l){e.next=7;break}return m((0,_.Z)("EPISODES")),e.abrupt("return");case 7:j.showToast(function(e){var i=e.hideToast;return(0,f.jsx)(n.ZP,{duration:2e3,onHide:i,text:(0,d.Wc)(g._('Deleted episode "{{episodeTitle}}" successfully', 'webapp.app.pinTv.creatorStudio.episode.deleteModal.success', 'success notification that an episode was deleted, episodeTitle: title of the episode the was deleted'),{episodeTitle:h})})}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),r(),j.showToast(function(e){var i=e.hideToast;return(0,f.jsx)(n.ZP,{duration:2e3,onHide:i,type:"error",text:g._('Unable to delete episode, please try again later', 'webapp.app.pinTv.creatorStudio.episode.deleteModal.error', 'Error that we are unable to delete an episode at this time')})});case 14:case"end":return e.stop()}},e,null,[[0,10]])}),t=function(){var e=this,t=arguments;return new Promise(function(l,r){var a=i.apply(e,t);function o(e){b(a,l,r,o,s,"next",e)}function s(e){b(a,l,r,o,s,"throw",e)}o(void 0)})},function(){return t.apply(this,arguments)});return p?(0,f.jsx)(s.ZP,{accessibilityModalLabel:(0,d.Wc)(g._('Delete episode "{{episodeTitle}}"', 'webapp.app.pinTv.creatorStudio.episode.deleteModal.a11yLabel', 'accessibility label for a deletion confirmation modal, episodeTitle: title of the episode being deleted'),{episodeTitle:h}),heading:(0,d.Wc)(g._('Are you sure you want to delete "{{episodeTitle}}"?', 'webapp.app.pinTv.creatorStudio.episode.deleteModal.heading', 'header for delete confirmation modal, episodeTitle: title of the episode being deleted'),{episodeTitle:h}),onDismiss:function(){return r()},footer:(0,f.jsxs)(o.kC,{justifyContent:"end",gap:2,children:[(0,f.jsx)(o.zx,{color:"gray",text:g._('Cancel', 'webapp.app.pinTv.creatorStudio.episode.deleteModal.cancel', 'Cancel button for deletion modal'),onClick:function(){return r()}}),(0,f.jsx)(o.zx,{color:"red",text:g._('Delete forever', 'webapp.app.pinTv.creatorStudio.episode.deleteModal.confirmation', 'Confirm button for deletion modal'),onClick:function(){A()}})]}),children:(0,f.jsx)(o.xu,{padding:8,children:(0,f.jsx)(o.xv,{align:"center",size:"300",children:g._('Once you delete an episode, you cannot undo it!', 'webapp.app.pinTv.creatorStudio.episode.deleteModal.helpText', 'Modal text for deleting an episode')})})}):null}},361741:function(e,i,t){"use strict";var l=t(908390),r=t(898781),a=t(409692),o=t(515198);i.Z=function(){var e=(0,r.ZP)(),i=new l.Ry(1e3);return(0,o.jsx)(l.hU,{accessibilityLabel:e._('Back to episodes', 'webapp.app.pinTv.creatorStudio.navigation.backToEpisodes', 'Back to Pinterest TV Episodes'),icon:"arrow-back",iconColor:"darkGray",size:"sm",onClick:function(e){e.event.preventDefault(),window.location=(0,a.Z)("EPISODES")},tooltip:{idealDirection:"up",text:e._('Back to episodes', 'webapp.app.pinTv.creatorStudio.navigation.backToEpisodes', 'Back to Pinterest TV Episodes'),zIndex:i}})}},435178:function(e,i,t){"use strict";var l=t(908390),r=t(898781),a=t(409692),o=t(985453),s=t(515198);i.Z=function(){var e=(0,o.F)().data,i=(0,r.ZP)(),t=(0,a.Z)("EPISODE",null==e?void 0:e.id);return(0,s.jsx)(l.ZP,{color:"gray",href:t,text:i._('Details', 'webapp.app.pinTv.creatorStudio.navigation.details', 'details button')})}},613982:function(e,i,t){"use strict";t.d(i,{Z:function(){return j}});var l=t(76911),r=t(908390),a=t(356997),o=t(19121),s=t(697335),n=t(326857),c=t(898781),d=t(273712),u=t(366022),_=t(878987),p=t(409692),h=t(985453),v=t(515198);function f(e,i){(null==i||i>e.length)&&(i=e.length);for(var t=0,l=Array(i);t<i;t++)l[t]=e[t];return l}var b=function(e){var i,t,a,s,b,g,m=e.shouldHideEdit,x=(0,h.F)().data,j=(0,c.ZP)(),A=(0,o.Z)(),w=function(e){if(Array.isArray(e))return e}(i=(0,l.useState)(!1))||function(e,i){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var l,r,a,o,s=[],n=!0,c=!1;try{if(a=(t=t.call(e)).next,0===i){if(Object(t)!==t)return;n=!1}else for(;!(n=(l=a.call(t)).done)&&(s.push(l.value),s.length!==i);n=!0);}catch(e){c=!0,r=e}finally{try{if(!n&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(i,2)||function(e,i){if(e){if("string"==typeof e)return f(e,i);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,i)}}(i,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),P=w[0],y=w[1],z=(null!==(t=null==x?void 0:null===(a=x.creator_class)||void 0===a?void 0:a.creator)&&void 0!==t?t:{}).id===(A.isAuth?A.id:""),T=(null==x?void 0:x.live_status)===d.Ct.POST_LIVE,E=(null==x?void 0:x.admin_approval_status)===_.oF.APPROVED,S=(0,n.Z)(new Date(null!==(s=null==x?void 0:x.ends_at)&&void 0!==s?s:"")),C=!S&&!(void 0!==m&&m);return!x||!z||T||E&&S?null:C?(0,v.jsx)(l.Fragment,{children:(0,v.jsxs)(r.kC,{direction:"row",children:[C&&(0,v.jsx)(r.I_,{accessibilityLabel:j._('Edit episode', 'webapp.app.pinTv.creatorStudio.navigation.episodeActions.edit', 'accessibility label for episode edit button'),href:(0,p.Z)("EDIT_EPISODE",x.id),icon:"edit",size:"lg",tooltip:{text:j._('Edit episode', 'webapp.app.pinTv.creatorStudio.navigation.episodeActions.edit.tooltip', 'tooltip text for episode edit button')}}),(0,v.jsx)(r.hU,{accessibilityLabel:j._('Delete episode', 'webapp.app.pinTv.creatorStudio.navigation.episodeActions.delete', 'accessibility label for episode delete button'),icon:"trash-can",onClick:function(){y(!0)},size:"lg",tooltip:{text:j._('Delete episode', 'webapp.app.pinTv.creatorStudio.navigation.episodeActions.delete.tooltip', 'tooltip text for episode delete button')}}),(0,v.jsx)(u.Z,{episodeTitle:null!==(b=x.title)&&void 0!==b?b:"",episodeId:null!==(g=x.id)&&void 0!==g?g:"",onDismiss:function(){return y(!1)},isVisible:P})]})}):null},g=t(499128),m=t(343341),x=function(e){var i=e.link,t=(0,m.F9)(),l=(0,c.ZP)(),a=l._('Copy link to episode', 'webapp.app.pinTv.creatorStudio.shareableLink.tooltip', 'tooltip for getting a shareable link to an episode'),o=new r.Ry(2);return(0,v.jsx)(r.hU,{size:"md",icon:"link",tooltip:{zIndex:o,text:a},iconColor:"darkGray",accessibilityLabel:a,onClick:function(){navigator.clipboard.writeText(i).then(function(){t.showToast(function(e){var i=e.hideToast;return(0,v.jsx)(g.ZP,{onHide:i,text:l._('Link copied to clipboard!', 'webapp.app.pinTv.creatorStudio.shareableLink.tooltip', 'informs the user that a link has been copied to their clipboard')})})})}})},j=function(e){var i=e.actions,t=e.pageTitle,n=e.subTitle,c=e.showAvatar,d=e.badge,u=e.backButton,p=e.shareLink,h=e.pageType,f=(0,o.Z)(),g=new r.Ry(2),m=(0,s.t)();return(0,v.jsx)(l.Fragment,{children:(0,v.jsx)(r.Le,{top:m,zIndex:g,children:(0,v.jsxs)(r.xu,{height:_.aj,marginEnd:_.CY,color:"default",display:"flex",marginStart:_.CY,justifyContent:"between",children:[(0,v.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},children:[(0,v.jsx)(r.xu,{marginStart:-2,children:u}),void 0!==c&&c&&f.isAuth&&(0,v.jsx)(r.xu,{marginEnd:2,children:(0,v.jsx)(a.qE,{size:"md",name:f.fullName||f.firstName||f.username,src:f.imageMediumUrl})}),(0,v.jsxs)(r.kC,{direction:"column",gap:1,children:[(0,v.jsxs)(r.kC,{direction:"row",gap:2,children:[(0,v.jsx)(r.X6,{size:"500",lineClamp:1,accessibilityLevel:1,children:t}),d||null]}),n&&(0,v.jsx)(r.xv,{size:"300",children:n})]})]}),(0,v.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},flex:"none",children:[i,p&&(0,v.jsx)(x,{link:p}),"EPISODE"===h&&(0,v.jsx)(b,{}),"EDIT_EPISODE"===h&&(0,v.jsx)(b,{shouldHideEdit:!0})]})]})})})}},969270:function(e,i,t){"use strict";t.d(i,{f:function(){return n},u:function(){return c}});var l=t(425288),r=t(418614),a=t(515198),o=(0,l.Z)("ProductsData"),s=o.Provider,n=o.useHook,c=function(e){var i=e.children,t=(0,r.Z)({name:"ApiResource",getOptions:function(e){var i=e.routeData.params.episodeId;return i?{url:"/v3/classes/instances/".concat(i,"/showcases/"),data:{include_hidden:"true"}}:{}},disableFetch:function(e){return!e.routeData.params.episodeId}});return(0,a.jsx)(s,{value:t,children:i})}},150333:function(e,i,t){"use strict";t.d(i,{Z:function(){return J}});var l=t(76911),r=t(599689),a=t(908390),o=t(898781),s=t(19121),n=t(883521),c=t(761413),d=t(695524),u=t(356997),_=t(349700),p=t(784590),h=t(878987),v=t(985453),f=t(515198),b=["username","full_name","image_small_url"],g=["username","full_name","image_small_url"];function m(e,i){if(null==e)return{};var t,l,r=function(e,i){if(null==e)return{};var t,l,r={},a=Object.keys(e);for(l=0;l<a.length;l++)t=a[l],i.indexOf(t)>=0||(r[t]=e[t]);return r}(e,i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)t=a[l],!(i.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var x=function(e){var i=e.label,t=e.text,l=e.children;return(0,f.jsxs)(a.kC,{direction:"column",gap:{row:0,column:2},children:[(0,f.jsx)(a.xv,{size:"100",color:"subtle",children:i}),t&&(0,f.jsx)(a.xv,{size:"300",weight:"bold",children:t}),void 0===l?null:l]})},j=function(e){var i=e.userFullName,t=e.userImage,l=e.verified,r=e.label,s=(0,o.ZP)();return(0,f.jsx)(a.xu,{margin:1,children:(0,f.jsxs)(a.kC,{direction:"row",gap:{row:2,column:0},children:[(0,f.jsx)(u.qE,{name:i,size:"md",src:t||""}),(0,f.jsxs)(a.kC,{direction:"column",justifyContent:"center",height:"100%",alignContent:"center",children:[(0,f.jsxs)(a.kC,{direction:"row",gap:{row:1,column:0},alignItems:"baseline",children:[(0,f.jsx)(a.xv,{weight:"bold",size:"200",lineClamp:1,children:i}),l&&(0,f.jsx)(a.JO,{size:"14",color:"info",icon:"check-circle",accessibilityLabel:s._('User is verified!', 'webapp.app.pinTv.creatorStudio.user.verified', 'Accessibility label for user is verified')})]}),(0,f.jsx)(a.xv,{size:"200",children:r})]})]})})},A=function(e){var i=e.episodeId,t=(0,o.ZP)(),l=(0,p.Z)({name:"ApiResource",options:{url:"/v3/classes/instances/".concat(i,"/guests"),add_fields:"user.verified_identity"}}),r=l.data;return l.isLoaded&&r?r.map(function(e){var i,l,r=e.username,a=e.full_name,o=e.image_small_url,s=null!==(i=null===(l=m(e,b).verified_identity)||void 0===l?void 0:l.verified)&&void 0!==i&&i;return(0,f.jsx)(j,{verified:s,userFullName:a||r,userImage:o||"",label:t._('Guest', 'webapp.app.pinTv.creatorStudio.episode.guestLabel', 'label describing a user as a guest')},r)}):null},w=function(e){var i=e.seriesId,t=(0,o.ZP)(),l=(0,p.Z)({name:"ApiResource",options:{url:"/v3/classes/".concat(i,"/moderators"),add_fields:"user.verified_identity"}}),r=l.data;return l.isLoaded&&r?r.map(function(e){var i,l,r=e.username,a=e.full_name,o=e.image_small_url,s=null!==(i=null===(l=m(e,g).verified_identity)||void 0===l?void 0:l.verified)&&void 0!==i&&i;return(0,f.jsx)(j,{verified:s,userFullName:a||r,userImage:o||"",label:t._('Moderator', 'webapp.app.pinTv.creatorStudio.episode.moderatorLabel', 'label describing a user as a moderator')},r)}):null},P=function(){var e,i,t,l=(0,o.ZP)(),r=(0,v.F)().data||{},s=r.id,n=r.title,c=r.starts_at,u=void 0===c?"":c,p=r.creator_class,b=void 0===p?{}:p,g=r.interests,m=void 0===g?[]:g,P=(null==b?void 0:b.creator)||{},y=P.full_name,z=P.image_medium_url,T=null!==(e=null==b?void 0:null===(i=b.creator)||void 0===i?void 0:null===(t=i.verified_identity)||void 0===t?void 0:t.verified)&&void 0!==e&&e,E=u?(0,_.nk)(l._('{{ formattedDate }} at {{ formattedTime }}', 'webapp.app.pinTv.creatorStudio.episode.formattedDateTime', 'formattedDate: Formatted date when the episode will be live, formattedTime: Formatted time when the episode will be live'),{formattedDate:(0,d.Z)(new Date(u),h.yd,"eeee, MMMM do"),formattedTime:(0,d.Z)(new Date(u),h.yd,"h:mm aaa zzz")}):[];return(0,f.jsx)(a.Le,{top:160,children:(0,f.jsx)(a.UQ,{id:"episodeDetails",children:(0,f.jsxs)(a.kC,{direction:"column",gap:{row:0,column:4},maxWidth:300,children:[(0,f.jsx)(x,{label:"Episode Name",text:void 0===n?"":n}),(0,f.jsx)(x,{label:"Aired On",text:E.join("")}),m&&m.length>0&&(0,f.jsx)(x,{label:"Category",children:(0,f.jsx)(a.xu,{display:"flex",direction:"row",wrap:!0,margin:-1,maxWidth:250,children:m.map(function(e){var i=e.background_color,t=e.name,l=e.key;return(0,f.jsx)(a.xu,{rounding:"pill",dangerouslySetInlineStyle:{__style:{backgroundColor:i}},paddingX:2,paddingY:1,margin:1,children:(0,f.jsx)(a.xv,{color:"inverse",size:"100",children:t})},l)})})}),(0,f.jsx)(x,{label:"Hosts",children:(0,f.jsxs)(a.xu,{display:"flex",direction:"column",margin:-1,children:[(0,f.jsx)(j,{userFullName:void 0===y?"":y,userImage:z||"",verified:T,label:l._('Host', 'webapp.app.pinTv.creatorStudio.episode.hostLabel', 'label for describing the host of the episode')}),(0,f.jsx)(A,{episodeId:s}),(0,f.jsx)(w,{seriesId:null==b?void 0:b.id})]})})]})})})},y=t(969270),z=function(){var e=(0,y.f)(),i=e.data,t=e.fetchMore,r=e.isAtEnd,s=e.isFetching,n=(0,o.ZP)();return((0,l.useEffect)(function(){s||r||t()},[t,r,s]),i&&0!==i.length)?(0,f.jsxs)(a.kC,{direction:"column",justifyContent:"start",children:[(0,f.jsx)(a.xu,{marginBottom:4,marginTop:3,flex:"none",children:(0,f.jsx)(a.X6,{size:"400",children:n._('Product Insights', 'webapp.app.pinTv.creatorStudio.episode.insights.products.header', 'header for products in Pinterest Tv episode review')})}),(0,f.jsx)(a.xu,{flex:"grow",width:"100%",children:(0,f.jsxs)(a.iA,{accessibilityLabel:n._('Product metrics', 'webapp.app.pinTv.studio.insights.productList.header', 'Header for product table'),children:[(0,f.jsx)(a.iA.Header,{children:(0,f.jsx)(a.iA.Row,{children:(0,f.jsx)(a.iA.HeaderCell,{children:(0,f.jsx)(a.xv,{weight:"bold",children:n._('Product', 'webapp.app.pinTv.studio.insights.productTable.header.product', 'Product column header')})})})}),(0,f.jsx)(a.iA.Body,{children:i.map(function(e){var i=e.featured_at,t=e.id,l=e.product_data,r=l.price,o=l.title,s=l.image_square_url,c=l.link;return(0,f.jsx)(a.iA.Row,{children:(0,f.jsx)(a.iA.Cell,{children:(0,f.jsxs)(a.kC,{direction:"row",gap:{row:2,column:0},children:[(0,f.jsx)(a.zd,{rounding:3,height:50,width:50,wash:!0,children:(0,f.jsx)("img",{alt:"",src:s})}),(0,f.jsxs)(a.kC,{direction:"column",gap:{row:0,column:1},children:[i&&(0,f.jsx)(a.Ct,{text:n._('Highlighted', 'webapp.app.pinTv.studio.insights.productTable.featuredBadge', 'Product highlighted badge')}),(0,f.jsx)(a.xv,{weight:"bold",size:"100",children:(0,f.jsx)(a.rU,{href:c,children:o})}),(0,f.jsx)(a.xv,{size:"100",children:r})]})]})})},t)})})]})})]}):null},T=t(418614),E=t(780280),S=t(70061);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);i&&(l=l.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,l)}return t}function L(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?I(Object(t),!0).forEach(function(i){k(e,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}return e}function k(e,i,t){var l;return(l=function(e,i){if("object"!==C(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var l=t.call(e,i||"default");if("object"!==C(l))return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"),(i="symbol"===C(l)?l:String(l))in e)?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}var O=function(e,i){return new Intl.NumberFormat(i,{style:"percent",maximumFractionDigits:0,minimumFractionDigits:0}).format(e)},D=function(e,i){return new Intl.NumberFormat(i,{style:"decimal",maximumFractionDigits:0,minimumFractionDigits:0}).format(e)},Z=function(e,i){return null===e?null:i||0===i?e/i:e},R=function(e,i){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return e.reduce(function(e,a){var o=Z(i[a],l),s=!!t&&Z(t[a],r);return L(L({},e),{},k({},(0,S.Z)(a),L({current:o},t&&{prev:s})))},{})},N=function(e){var i=e.data,t=(0,E.B)().locale,l=(0,o.ZP)(),r=i.ageGenZ,s=i.ageMillennials,n=i.ageOther,c=[{sortKey:0,label:l._('Gen Z', 'webapp.app.pinTv.studio.analytics.age.genZ', 'Label for age range generation Z (gen Z)'),curr:r.current,prev:r.prev},{sortKey:1,label:l._('Millennials', 'webapp.app.pinTv.studio.analytics.age.millennials', 'Label for age range millennials'),curr:s.current,prev:s.prev},{sortKey:2,label:l._('> 40', 'webapp.app.pinTv.studio.analytics.age.other', 'Label for age over 40'),curr:n.current,prev:n.prev}];return(0,f.jsxs)(a.xu,{minWidth:300,children:[(0,f.jsx)(a.xu,{marginBottom:4,marginTop:3,children:(0,f.jsxs)(a.X6,{size:"400",children:[l._('Age breakdown', 'webapp.app.pinTv.studio.age.header', 'Header for age data'),(0,f.jsx)(a.xu,{display:i.ageUnspecified.current?"inlineBlock":"none",marginStart:2,children:(0,f.jsx)(a.u,{inline:!0,idealDirection:"up",text:l._('Accounts without age data are not included in percentage calculations', 'webapp.app.pinTv.studio.age.table.unspecific.tooltip', 'Tooltip for providing more info for lack of age data.'),children:(0,f.jsx)(a.JO,{inline:!0,icon:"info-circle",accessibilityLabel:l._('Additional information', 'webapp.app.pinTv.studio.age.table.unspecific.infoIcon', 'accessibility label for icon')})})})]})}),(0,f.jsxs)(a.iA,{accessibilityLabel:l._('Age analytics', 'webapp.app.pinTv.studio.age.table.a11yLabel', 'accessibility label for table of age data'),children:[(0,f.jsx)(a.iA.Header,{children:(0,f.jsxs)(a.iA.Row,{children:[(0,f.jsx)(a.iA.HeaderCell,{children:(0,f.jsx)(a.xv,{weight:"bold",children:l._('Age', 'webapp.app.pinTv.studio.age.table.header.age', 'Age range table header')})}),(0,f.jsx)(a.iA.HeaderCell,{children:(0,f.jsx)(a.xv,{weight:"bold",children:l._('Viewed', 'webapp.app.pinTv.studio.age.table.header.currentEpisode', 'Current episode age range header')})}),(0,f.jsx)(a.iA.HeaderCell,{children:(0,f.jsx)(a.xv,{weight:"bold",children:l._('Previous', 'webapp.app.pinTv.studio.age.table.header.prevEpisode', 'Previous episode age range header')})})]})}),(0,f.jsx)(a.iA.Body,{children:c.map(function(e){var i=e.label,r=e.curr,o=e.prev;return(0,f.jsxs)(a.iA.Row,{children:[(0,f.jsx)(a.iA.Cell,{children:(0,f.jsx)(a.xv,{children:i})}),(0,f.jsx)(a.iA.Cell,{children:null===r?(0,f.jsx)(a.xv,{color:"subtle",children:l._('Not available', 'webapp.app.pinTv.studio.results.notAvailable', 'Data is not available for this metric')}):(0,f.jsx)(a.xv,{children:O(r,t)})}),(0,f.jsx)(a.iA.Cell,{children:(0,f.jsx)(a.xv,{children:o?O(o,t):"-"})})]},i)})}),i.ageUnspecified.current?(0,f.jsx)(a.iA.Footer,{children:(0,f.jsxs)(a.iA.Row,{children:[(0,f.jsx)(a.iA.Cell,{children:l._('No age data available', 'webapp.app.pinTv.studio.age.table.unspecified', 'Row label for count of no age data available')}),(0,f.jsx)(a.iA.Cell,{children:D(i.ageUnspecified.current)}),(0,f.jsx)(a.iA.Cell,{children:i.ageUnspecified.prev?D(i.ageUnspecified.prev):"-"})]})}):void 0]})]})},F=function(e){var i=e.data,t=(0,E.B)().locale,l=(0,o.ZP)(),r=i.female,s=i.male,n=i.genderOther,c=[{sortKey:0,label:l._('Female', 'webapp.app.pinTv.studio.analytics.gender.female', 'Label for female gender'),curr:r.current,prev:r.prev},{sortKey:1,label:l._('Male', 'webapp.app.pinTv.studio.analytics.gender.male', 'Label for male gender'),curr:s.current,prev:s.prev},{sortKey:2,label:l._('Unspecified', 'webapp.app.pinTv.studio.analytics.gender.unspecified', 'Label for unspecificed/unknown gender'),curr:n.current,prev:n.prev}];return(0,f.jsxs)(a.xu,{minWidth:300,children:[(0,f.jsx)(a.xu,{marginBottom:4,marginTop:3,children:(0,f.jsx)(a.X6,{size:"400",children:l._('Gender breakdown', 'webapp.app.pinTv.studio.gender.header', 'Header for gender data')})}),(0,f.jsxs)(a.iA,{accessibilityLabel:l._('Gender analytics', 'webapp.app.pinTv.studio.gender.table.a11yLabel', 'accessibility label for table of gender data'),children:[(0,f.jsx)(a.iA.Header,{children:(0,f.jsxs)(a.iA.Row,{children:[(0,f.jsx)(a.iA.HeaderCell,{children:(0,f.jsx)(a.xv,{weight:"bold",children:l._('Gender', 'webapp.app.pinTv.studio.gender.table.header.gender', 'Gender range table header')})}),(0,f.jsx)(a.iA.HeaderCell,{children:(0,f.jsx)(a.xv,{weight:"bold",children:l._('Viewed', 'webapp.app.pinTv.studio.gender.table.header.episode', 'Current episode gender header')})}),(0,f.jsx)(a.iA.HeaderCell,{children:(0,f.jsx)(a.xv,{weight:"bold",children:l._('Previous', 'webapp.app.pinTv.studio.gender.table.header.previously', 'Previous episode gender range header')})})]})}),(0,f.jsx)(a.iA.Body,{children:c.map(function(e){var i=e.label,r=e.curr,o=e.prev;return(0,f.jsxs)(a.iA.Row,{children:[(0,f.jsx)(a.iA.Cell,{children:(0,f.jsx)(a.xv,{children:i})}),(0,f.jsx)(a.iA.Cell,{children:null===r?(0,f.jsx)(a.xv,{color:"subtle",children:l._('Not available', 'webapp.app.pinTv.studio.results.notAvailable', 'Data is not available for this metric')}):(0,f.jsx)(a.xv,{children:O(r,t)})}),(0,f.jsx)(a.iA.Cell,{children:(0,f.jsx)(a.xv,{children:o?O(o,t):"-"})})]},i)})})]})]})},M=function(e){var i=e.current,t=e.prev,r=(0,o.ZP)(),s=(0,E.B)().locale;if(null==t||Number.isNaN(t))return null;var n=null;void 0!==t&&(i>t&&(n="INCREASING"),i<t&&(n="DECREASING"));var c=(i-t)/i;return(0,f.jsxs)(a.kC,{direction:"row",children:["INCREASING"===n&&(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)(a.JO,{size:"16",accessibilityLabel:r._('Value increasing', 'webapp.app.pinTv.studio.results.increaseValue', 'accessibility label for value increasing'),color:"success",icon:"sort-ascending"}),(0,f.jsx)(a.xv,{weight:"bold",color:"success",children:O(c,s)})]}),"DECREASING"===n&&(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)(a.JO,{size:"16",accessibilityLabel:r._('Value decreasing', 'webapp.app.pinTv.studio.results.increaseValue', 'accessibility label for value increasing'),color:"error",icon:"sort-descending"}),(0,f.jsx)(a.xv,{weight:"bold",color:"error",children:O(c,s)})]})]})},H=function(e){var i=e.label,t=e.data,l=e.renderFn,r=(0,o.ZP)();return(0,f.jsxs)(a.kC,{gap:{row:0,column:2},direction:"column",children:[(0,f.jsx)(a.xv,{size:"100",children:i}),(0,f.jsxs)(a.kC,{gap:{row:2,column:0},alignItems:"baseline",children:[null===t.current&&(0,f.jsx)(a.xv,{color:"subtle",size:"300",children:r._('Not available', 'webapp.app.pinTv.studio.results.notAvailable', 'Data is not available for this metric')}),null!==t.current&&(0,f.jsx)(a.X6,{accessibilityLevel:"none",size:"500",children:(void 0===l?function(e){return e}:l)(t.current)}),null!==t.current&&void 0!==t.prev&&(0,f.jsx)(M,{current:t.current,prev:t.prev})]})]})},B=function(e){var i=e.data,t=(0,E.B)().locale,l=(0,o.ZP)(),r=function(e){return(0,_.nk)(l._('{{ value }} min', 'webapp.app.pinTv.studio.results.value', 'formatted value in minutes, value:numeric value'),{value:new Intl.NumberFormat(t,{unit:"minute",maximumFractionDigits:2}).format(e/60)})};return(0,f.jsxs)(a.xu,{minWidth:180,children:[(0,f.jsx)(a.xu,{marginBottom:6,children:(0,f.jsx)(a.X6,{size:"400",children:l._('Overview', 'webapp.app.pinTv.studio.insights.overviewHeading', 'Overview heading')})}),(0,f.jsxs)(a.kC,{direction:"column",gap:{row:0,column:8},children:[(0,f.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,f.jsx)(a.sg,{span:6,children:(0,f.jsx)(H,{label:l._('Total watch time', 'webapp.app.pinTv.studio.totalWatchTime.label', 'Label for total cumulative watch time'),data:i.totalWatchTimeS,renderFn:r})}),(0,f.jsx)(a.sg,{span:6,children:(0,f.jsx)(H,{label:l._('P90 watch time', 'webapp.app.pinTv.studio.averageWatchTime.label', 'Label for average watch time per user'),data:i.p90WatchTimeS,renderFn:r})})]}),(0,f.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,f.jsx)(a.sg,{span:6,children:(0,f.jsx)(H,{label:l._('Total viewers', 'webapp.app.pinTv.studio.totalViewer.label', 'Label for total viewers'),data:i.totalViewerCount})}),(0,f.jsx)(a.sg,{span:6,children:(0,f.jsx)(H,{label:l._('Total comments', 'webapp.app.pinTv.studio.totalComments.label', 'Label for total comments'),data:i.totalCommentCount})})]}),(0,f.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,f.jsx)(a.sg,{span:6,children:(0,f.jsx)(H,{label:l._('Total followers', 'webapp.app.pinTv.studio.totalFollowers.label', 'Label for total followers'),data:i.preEpisodeFollowerCount})}),(0,f.jsx)(a.sg,{span:6,children:(0,f.jsx)(H,{label:l._('Total reactions', 'webapp.app.pinTv.studio.totalReactionss.label', 'Label for total reactions'),data:i.totalReactionCount})})]})]})]})},U=function(){var e,i,t=(0,o.ZP)(),l=(0,T.Z)({name:"ApiResource",getOptions:function(e){var i=e.routeData.params.episodeId;return i?{url:"/v3/classes/instances/".concat(i,"/metrics")}:{}}}).data||{},r=l.current_episode_metrics,s=l.previous_episode_metrics,n=void 0===s?{}:s,c=null!==(e=null==r?void 0:r.demographics_breakdown)&&void 0!==e?e:{},d=null!==(i=null==n?void 0:n.demographics_breakdown)&&void 0!==i?i:{};if(!r)return(0,f.jsxs)(a.kC,{direction:"column",gap:{row:0,column:8},width:"100%",children:[(0,f.jsx)(a.xu,{children:(0,f.jsx)(a.X6,{accessibilityLevel:2,size:"400",children:t._('Overview', 'webapp.app.pinTv.studio.insights.overviewHeading', 'Overview heading')})}),(0,f.jsx)(a.ci,{iconAccessibilityLabel:t._('Insights data is not yet available', 'webapp.app.pinTv.studio.insights.calloutA11yLabel', 'Accessibility label for a callout'),message:t._('Please check back later, your full insights will be available after 24 hours.', 'webapp.app.pinTv.studio.insights.calloutMessage', 'Message informing a user why insights are not available yet'),title:t._('Your insights are still being processed', 'webapp.app.pinTv.studio.insights.calloutHeader', 'Info callout informing a user insights are not available yet'),type:"info"})]});var u=R(["total_watch_time_s","p90_watch_time_s","total_viewer_count","total_comment_count","pre_episode_follower_count","total_reaction_count"],r,n),_=R(["age_millennials","age_gen_z","age_other","age_unspecified"],c,d,r.total_viewer_count-c.age_unspecified,n?n.total_viewer_count-d.age_unspecified:void 0),p=R(["female","male","gender_other"],c,d,r.total_viewer_count,null==n?void 0:n.total_viewer_count);return(0,f.jsxs)(a.kC,{direction:"column",gap:{row:0,column:8},width:"100%",children:[(0,f.jsx)(B,{data:u}),(0,f.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,f.jsx)(a.sg,{span:6,children:(0,f.jsx)(a.xu,{marginEnd:10,children:(0,f.jsx)(N,{data:_})})}),(0,f.jsx)(a.sg,{span:6,children:(0,f.jsx)(a.xu,{marginEnd:10,children:(0,f.jsx)(F,{data:p})})})]})]})},G=t(361741),V=t(435178),W=t(613982),K=t(50596),X=t(863664),J=function(){var e=(0,o.ZP)(),i=(0,X.Z)("PINTEREST_TV_CREATOR_STUDIO_EPISODE_INSIGHTS_PAGE"),t=(0,s.Z)();return((0,l.useEffect)(function(){i({eventName:"PINTEREST_TV_CREATOR_STUDIO_PAGE_VIEW"})},[i]),t.isAuth)?(0,f.jsx)(K.Z,{children:(0,f.jsx)(n.Z,{children:(0,f.jsx)(v.x,{children:(0,f.jsxs)(y.u,{children:[(0,f.jsx)(c.Z,{}),(0,f.jsx)(W.Z,{pageTitle:e._('Episode Insights', 'creatorStudio.session.nav.insights.heading', 'Text indicating the insights heading'),backButton:(0,f.jsx)(G.Z,{}),actions:[(0,f.jsx)(V.Z,{},"episode-details-button")],pageType:"EPISODE_INSIGHTS"}),(0,f.jsx)(a.xu,{width:"100%",marginBottom:8,marginTop:4,paddingX:8,"data-test-id":"pintv-studio-insights-details",children:(0,f.jsxs)(a.kC,{direction:"row",gap:{row:8,column:0},children:[(0,f.jsx)(P,{}),(0,f.jsx)(a.kC.Item,{flex:"grow",children:(0,f.jsxs)(a.kC,{direction:"column",gap:{row:0,column:8},children:[(0,f.jsx)(U,{}),(0,f.jsx)(z,{})]})})]})})]})})})}):(0,f.jsx)(r.Redirect,{to:"/login?next=".concat(encodeURIComponent("/tv/studio"))})}},76170:function(e,i,t){"use strict";function l(e,i){if(i.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+i.length+" present")}t.d(i,{Z:function(){return l}})},326857:function(e,i,t){"use strict";t.d(i,{Z:function(){return a}});var l=t(393248),r=t(76170);function a(e){return(0,r.Z)(1,arguments),(0,l.Z)(e).getTime()<Date.now()}},393248:function(e,i,t){"use strict";t.d(i,{Z:function(){return a}});var l=t(76170);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){(0,l.Z)(1,arguments);var i=Object.prototype.toString.call(e);return e instanceof Date||"object"===r(e)&&"[object Date]"===i?new Date(e.getTime()):"number"==typeof e||"[object Number]"===i?new Date(e):(("string"==typeof e||"[object String]"===i)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}}},function(e){e.O(0,[97270,8390,99689,26067,17492,48327,83521,7923,85453,62374,35429],function(){return e(e.s=254585)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/tv/studio/episodes/[episodeId]/insights-e543faef617e59ad.js.map