(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[89986],{921538:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/oauth"]=function(){return r(24250).Z}},583375:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(858472),i=r(898781),o=r(515198);function s(e){var t=e.fillColor,r=e.size,s=e.noCircle,l=(0,i.ZP)();return(0,o.jsxs)("svg",{height:r,style:{display:"block"},viewBox:s?"3 3 70 70":"-3 -3 82 82",width:r,children:[(0,o.jsx)("title",{children:l._('Pinterest logo', 'Accessibility label for Pinterest icon', 'Accessibility label for Pinterest icon')}),s?null:(0,o.jsx)("circle",{cx:"38",cy:"38",fill:t?"transparent":"white",r:"40"}),(0,o.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:null!=t?t:n.x7,fillRule:"evenodd"})]})}},803491:function(e,t,r){"use strict";r.d(t,{Z:function(){return c},m:function(){return a}});var n=r(858472),i=r(515198);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var a="\n.red.active:focus,\n.red.active:hover {\n  background-color: #d50c22 !important;\n}\n.lightGrey.active:focus,\n.lightGrey.active:hover {\n  background-color: #f5f3f3 !important;\n}\n.SignupButton:focus {\n  box-shadow: 0 0 0 4px rgba(0, 132, 255, 0.5);\n  outline: 0;\n}\n";function c(e){var t=e.accessibilityLabel,r=e.children,o=e.className,s=e.dataTestId,a=e.disabled,c=e.href,u=e.id,d=e.noButtonStyles,h=e.onClick,_=e.styleOverrides,p=e.tabIndex,f=e.type,g=(o?o.split(" "):[]).concat(a?[]:["active"]),m=d?{background:"none",border:"none",padding:"0",textAlign:"left",display:"block"}:l({border:"0px",height:"40px",display:"inline-block",borderRadius:"4px",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",padding:"0 18px",fontSize:"15px",fontWeight:"bold",cursor:"pointer",marginTop:"10px",verticalAlign:"middle",textAlign:"center"},a&&{backgroundColor:"#efefef",color:"#767676"}||g.includes("red")&&{backgroundColor:n.x7,color:"#fff"}||g.includes("lightGrey")&&{backgroundColor:"#ebebeb",color:"#444"});return m=l(l({},m),_),a&&(m=l(l({},m),{},{cursor:"not-allowed"})),(0,i.jsx)("button",l(l({"aria-label":t||"",className:g.join(" "),"data-test-id":s,disabled:a,href:c,id:u,onClick:h},p?{tabIndex:p}:{}),{},{style:m,type:f||"button",children:r}))}},563387:function(e,t,r){"use strict";r.d(t,{E:function(){return d},Z:function(){return _}});var n=r(908390),i=r(898781),o=r(349700),s=r(966113),l=r(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,i;n=t,i=r[t],(n=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d="\n.TermsOfService__light a {\n  color: rgba(255,255,255,0.9);\n}\n",h={dark:{color:"#767676",width:"224px"},light:{color:"rgba(255,255,255,0.9)",lineHeight:"150%",margin:"10px auto",textShadow:"0 1px rgba(0,0,0,0.18)",width:"272px"},revampedBizSignup:{color:"#5f5f5f",fontSize:"12px",fontWeight:"400"}};function _(e){var t,r=e.dark,a=e.container,c=(0,i.ZP)(),d="revampedBizSignup"==(t="revamped_business_login_page"===(void 0===a?"":a)?"revampedBizSignup":r?"dark":"light")?"subtle":void 0;return(0,l.jsx)(n.xu,{marginTop:3,children:(0,l.jsx)("span",{className:r?"":"TermsOfService__light",color:d,"data-test-id":"terms-of-service",style:u({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",fontSize:"11px",fontWeight:"normal",textAlign:"center",WebkitTransition:"opacity .2s linear",transition:"opacity .2s linear"},h[t]),children:(0,l.jsx)("span",{children:(0,o.nk)(c._('By continuing, you agree to Pinterest\'s {{ tos }} and acknowledge you\'ve read our {{ privacyPolicy }}. {{ noticeAtCollection }}.', 'termOfService.text', 'Agreement to legal texts for new users tos:Link to Terms of service privacyPolicy:Link to the Privacy Policy noticeAtCollection:Link to the Notice at collection article'),{tos:(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:u({fontWeight:"bold"},"revampedBizSignup"!==t&&{color:"#111"})},"data-test-id":"tos",display:"inlineBlock",children:(0,l.jsx)(n.rU,{display:"inlineBlock",href:s.U5h,target:"blank",underline:"hover",children:c._('Terms of Service', 'termOfService.link.tos', 'Link to TOS')},"tos")},"tos"),privacyPolicy:(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:u({fontWeight:"bold"},"revampedBizSignup"!==t&&{color:"#111"})},"data-test-id":"privacy",display:"inlineBlock",children:(0,l.jsx)(n.rU,{display:"inlineBlock",href:"/_/_/policy/privacy-policy/",target:"blank",underline:"hover",children:c._('Privacy Policy', 'termOfService.link.privacyPolicy', 'Link to privacy policy')},"privacy")},"privacy"),noticeAtCollection:(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:u({fontWeight:"bold"},"revampedBizSignup"!==t&&{color:"#111"})},"data-test-id":"noticeAtCollection",display:"inlineBlock",children:(0,l.jsx)(n.rU,{display:"inlineBlock",href:s.cvl,target:"blank",underline:"hover",children:c._('Notice at collection', 'termOfService.link.noticeAtCollection', 'Link to notice at collection')},"noticeAtCollection")},"noticeAtCollection")})})})})}},640672:function(e,t,r){"use strict";r.d(t,{Z:function(){return o},g:function(){return i}});var n=r(515198),i="\n.Tooltip_message:before, .Tooltip_message:after {\n  border-style: solid;\n  content: '';\n  display: block;\n  margin-top: -8px;\n  position: absolute;\n  right: 100%;\n  top: 17px;\n  width: 0;\n}\n.Tooltip_message:before {\n  border-color: transparent rgba(0,0,0,0.48);\n  border-width: 8px 10px 8px 0;\n}\n.Tooltip_message:after {\n  border-color: transparent #fff;\n  border-width: 8px 10px 8px 0;\n  margin-right: -1px;\n}\n.Tooltip_mobileMessage:before, .Tooltip_message:after {\n  border-style: solid;\n  display: block;\n  margin-top: -8px;\n  position: absolute;\n  right: 100%;\n  top: 17px;\n  width: 0;\n}\n.Tooltip_mobileMessage:before {\n  border-color: transparent rgba(0,0,0,0.48);\n  border-width: 8px 10px 8px 0;\n}\n.Tooltip_mobileMessage:after {\n  border-color: transparent #fff;\n  border-width: 8px 10px 8px 0;\n  margin-right: -1px;\n}\n.Tooltip_wrapper {\n  position: absolute;\n  left: calc(100% + 12px);\n  z-index: 1;\n}\n.Tooltip_mobileWrapper {\n  margin-top: 7px;\n  z-index: 1;\n}\n";function o(e){var t=e.message,r=e.color;return(0,n.jsx)("div",{className:"Tooltip_wrapper","data-test-id":"tooltip",style:{top:"0px",width:"215px"},children:(0,n.jsx)("div",{className:"Tooltip_message",style:{background:r||"#fff",borderRadius:"6px",WebkitBoxShadow:"0 0 2px rgba(0,0,0,0.38),0 1px 3px rgba(0,0,0,0.32)",boxShadow:"0 0 2px rgba(0,0,0,0.38),0 1px 3px rgba(0,0,0,0.32)",color:r?"#fff":"#000",fontStyle:"normal",fontWeight:"normal",fontSize:r?"14px":"",lineHeight:"150%",padding:"8px 14px",textAlign:"left",maxWidth:"215px",display:"inline-block",float:"left"},children:(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:t},style:{overflowWrap:"break-word",wordWrap:"break-word"}})})})}},903095:function(e,t,r){"use strict";r.d(t,{Mi:function(){return i},lO:function(){return o}});var n=(0,r(425288).Z)("pageContext"),i=n.Provider,o=n.useMaybeHook},349700:function(e,t,r){"use strict";r.d(t,{Wc:function(){return a},bF:function(){return u},nk:function(){return l},r7:function(){return d}});var n=r(76911),i=r(515198);function o(e,t,r){return e.split(r).map(function(e){if(e.match(r)){var n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e})}var s=/(\{\{\s*\w+\s*\}\})/g;function l(e,t){return o(e,t,s)}function a(e,t){return o(e,t,s).join("")}var c=/(\{\s*\w+\s*\})/g;function u(e,t){return o(e,t,c)}var d=function(e){var t=e.text;return Array.isArray(t)?t.map(function(e,t){return(0,i.jsx)(n.Fragment,{children:e},t)}):t}},24250:function(e,t,r){"use strict";r.d(t,{Z:function(){return L}});var n=r(76911),i=r(908390),o=r(214494),s=r(319723),l=r(670479),a=r(950209),c=r(612470),u=r(898781),d=r(391254),h=r(349700),_=r(966224),p=r(583375),f=r(966113),g=r(643913),m=r(704115),y=r(19121),b=r(364622),x=r(515198);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){k(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function A(e,t,r,n,i,o,s){try{var l=e[o](s),a=l.value}catch(e){r(e);return}l.done?t(a):Promise.resolve(a).then(n,i)}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T(n.key),n)}}function z(e,t){return(z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,r){return(t=T(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==P(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}function C(e){var t=e.consumerType,r=e.scopeDescriptions,i=e.scope,o=(0,u.ZP)();return r&&i?(0,x.jsx)(n.Fragment,{children:Object.keys(r).map(function(e){return(0,x.jsx)("li",{children:r[e]})})}):"adsreporting"===t?(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)("li",{children:o._('See data on your ad campaigns, including spend, budget, and performance', 'Oauth.adsreporting.seeData', 'Ads OAuth Reporting Permissions')}),(0,x.jsx)("li",{children:o._('See all your Pins and boards (including secret boards and group boards you join)', 'Oauth.adsreporting.seePins', 'Ads OAuth Reporting Permissions')}),(0,x.jsx)("li",{children:o._('See your account information and settings, including any domains you claimed', 'Oauth.adsreporting.seeAccount', 'Ads OAuth Reporting Permissions')})]}):"adtech"===t?(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)("li",{children:o._('Create and manage your ad campaigns and account data', 'Oauth.adtech.createCampaigns', 'AdTech OAuth Permissions')}),(0,x.jsx)("li",{children:o._('Create new Pins and boards', 'Oauth.adtech.createPins', 'AdTech OAuth Permissions')}),(0,x.jsx)("li",{children:o._('Create and update your Pinterest tag settings', 'Oauth.adtech.createTags', 'AdTech OAuth Permissions')}),(0,x.jsx)("li",{children:o._('Manage your Catalog (aka your shopping feed)', 'Oauth.adtech.manageCatalog', 'AdTech OAuth Permissions')})]}):"combined_reporting"===t?(0,x.jsx)(n.Fragment,{children:(0,x.jsx)("li",{children:o._('See performance metrics for Pins, saves and engagement, on paid and organic content.', 'Oauth.combinedreporting.seePerformance', 'Combibned Reporting OAuth Permissions')})}):"dataprovider"===t?(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)("li",{children:o._('Access your ad account data', 'Oauth.dataprovider.accessAccount', 'Data Provider OAuth Permissions')}),(0,x.jsx)("li",{children:o._('Create and manage audiences on your behalf', 'Oauth.dataprovider.manageAudiences', 'Data Provider OAuth Permissions')})]}):"martech"===t?(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)("li",{children:o._('See all your Pins and boards (including secret boards and group boards you join)', 'Oauth.martech.seePins', 'MarTech OAuth Permissions')}),(0,x.jsx)("li",{children:o._('Create new Pins and boards for you', 'Oauth.martech.createPins', 'MarTech OAuth Permissions')}),(0,x.jsx)("li",{children:o._('Follow Pinners on your behalf', 'Oauth.martech.followPinners', 'MarTech OAuth Permissions')})]}):"web_platform"===t?(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)("li",{children:o._('Update your account information and settings, including any claiming domains on your behalf', 'Oauth.webplatform.updateAccount', 'Web Platform OAuth Permissions')}),(0,x.jsx)("li",{children:o._('Create and update your Pinterest tag settings', 'Oauth.webplatform.updateTags', 'Web Platform OAuth Permissions')})]}):"directpartner"===t?(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)("li",{children:o._('See all your Pins and boards (including secret boards and group boards you join)', 'Oauth.directpartner.seePins', 'Direct Partner OAuth Permissions')}),(0,x.jsx)("li",{children:o._('Create new Pins and boards for you', 'Oauth.directpartner.createPins', 'Direct Partner OAuth Permissions')}),(0,x.jsx)("li",{children:o._('See your account information and settings, including any domains you claimed', 'Oauth.directpartner.seeAccount', 'Direct Partner OAuth Permissions')}),(0,x.jsx)("li",{children:o._('Search Pinterest for all Pins that link to your domains', 'Oauth.directpartner.searchPins', 'Direct Partner OAuth Permissions')})]}):"community"===t?(0,x.jsx)(n.Fragment,{children:(0,x.jsx)("li",{children:o._('See your business name, email address, username, and whether you advertise', 'Oauth.community.seeInfo', 'Community OAuth Permissions')})}):"commerce"===t?(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)("li",{children:o._('See all your Pins and boards (including secret boards and group boards you join)', 'Oauth.commerce.seePins', 'Commerce OAuth Permissions')}),(0,x.jsx)("li",{children:o._('Create new Pins and boards for you', 'Oauth.commerce.createPins', 'Commerce OAuth Permissions')}),(0,x.jsx)("li",{children:o._('See your account information and settings, including any domains you claimed', 'Oauth.commerce.seeAccount', 'Commerce OAuth Permissions')}),(0,x.jsx)("li",{children:o._('Manage your Catalog (aka your shopping feed)', 'Oauth.commerce.manageCatalog', 'Commerce OAuth Permissions')})]}):"video"===t?(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)("li",{children:o._('See all your Pins and boards (including secret boards and group boards you join)', 'Oauth.video.seePins', 'Video OAuth Permissions')}),(0,x.jsx)("li",{children:o._('Create new Pins and boards for you', 'Oauth.video.createPins', 'Video OAuth Permissions')}),(0,x.jsx)("li",{children:o._('Access and update your account information', 'Oauth.video.seeAccount', 'Video OAuth Permissions')})]}):(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)("li",{children:o._('See all your boards (including secret boards and group boards you join)', 'Oauth.generic.seeBoards', 'Generic OAuth Permissions')}),(0,x.jsx)("li",{children:o._('Create new Pins and boards for you', 'Oauth.video.createPins', 'Generic OAuth Permissions')})]})}function D(e){var t=e.consumerType,r=e.scope,o=(0,u.ZP)(),s=!1;return(r&&(s=r.split(",").filter(function(e){return["manage_ads","read_ads","read_advertisers","read_pin_promotions","read_campaigns","ads:read"].includes(e)}).length>0),"adtech"===t||"adsreporting"===t||"combined_reporting"===t||s)?(0,x.jsx)(n.Fragment,{children:(0,x.jsx)(i.xv,{size:"100",color:"subtle",align:"center",children:o._('By granting access, you acknowledge that this application can see all of your campaign activity as well as other third party applications you work with on Pinterest.', 'Oauth.ads.readWarning', 'Additional warning for reading ads')})}):(0,x.jsx)("br",{})}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(y,e);var t,r,n,u=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=w(y);if(t){var n=w(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return S(e)}(this,e)});function y(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,y);for(var e,t,r,n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];return k(S(e=u.call.apply(u,[this].concat(i))),"state",{scope:"",redirect_error:!1,message:""}),k(S(e),"getOAuthResource",function(e){var t=(0,m.Z)(),r={consumer_id:t.consumer_id||t.client_id,response_type:t.response_type,scope:t.scope,redirect_uri:t.redirect_uri,authorized:e,refreshable:t.refreshable};return o.Z.create("OAuthAuthorizationResource",r)}),k(S(e),"handleSubmit",(t=regeneratorRuntime.mark(function t(r){var n,i,o,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,m.Z)(),r.preventDefault(),i=e.getOAuthResource(!0),t.next=5,i.callCreate();case 5:(o=t.sent.resource_response.data.code)&&(s=(0,g.Z)(j({code:o},e.state.state?{state:e.state.state}:{})),window.location.replace("".concat(n.redirect_uri,"?").concat(s)));case 8:case"end":return t.stop()}},t)}),r=function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(e){A(o,n,i,s,l,"next",e)}function l(e){A(o,n,i,s,l,"throw",e)}s(void 0)})},function(e){return r.apply(this,arguments)})),e}return r=[{key:"componentDidMount",value:function(){var e=this,t=this.getOAuthResource(!1),r=(0,m.Z)();t.callGet().then(function(t){var n,i=t.resource_response.data.consumer;e.setState({consumerId:i.id,consumerName:i.name,consumerImageUrl:(null===(n=i.app_icon)||void 0===n?void 0:n.url)||i.images&&i.images["80x80"].url||"https://i.pinimg.com/appimg-0a1b8684058ef67edfdbf5a18edb084b.png",consumerType:i.consumer_type,scope:r.scope,scopeDescriptions:t.resource_response.data.scope_descriptions})}).catch(function(t){var r="Something went wrong!";if(t.message)r=t.message;else if(t.data&&t.data.error)try{r=JSON.parse(t.data.error).message_detail}catch(e){}e.setState({redirect_error:!0,message:r})}),r.state&&this.setState({state:r.state})}},{key:"render",value:function(){var e=this.state,t=e.redirect_error,r=e.message;if(t)return(0,x.jsxs)(i.xu,{children:[(0,x.jsx)(d.Z,{unsafeCSS:l.Z}),(0,x.jsxs)("div",{className:"wrapper",children:[(0,x.jsx)(i.rU,{href:"/",children:(0,x.jsx)("div",{className:"badge",children:"400"})}),(0,x.jsxs)(i.xu,{children:[(0,x.jsx)(i.X6,{accessibilityLevel:"none",children:this.props.i18n._('Oops!', ' - ', ' -- ')}),(0,x.jsx)("p",{children:r||this.props.i18n._('Something went wrong!', ' - ', ' -- ')})]})]})]});var n=this.props.viewer;if(!this.state.consumerId||!this.state.consumerImageUrl||!n.isAuth)return(0,x.jsx)(_.Z,{});var o=this.state,u=o.consumerName,g=o.consumerImageUrl,m=o.consumerType,y=o.scopeDescriptions,P=o.scope,v=(0,h.nk)(this.props.i18n._('{{ consumerName }} would like to:', 'Oauth.appNameRequest', 'Text that makes it clear the name of the app asking for access'),{consumerName:(0,x.jsx)(i.xv,{inline:!0,children:u},u)}),j=(0,h.nk)(this.props.i18n._('Logged in as {{ fullName }}', 'Oauth.loggedInAs', 'Message that confirms who the current logged in user is (by displaying their full name) before the user clicks "authorize"'),{fullName:(0,x.jsx)(i.xv,{inline:!0,children:n.fullName},n.fullName)}),A=(0,h.nk)(this.props.i18n._('Not your account? {{ logoutLink }}.', 'Oauth.notYourAccount', 'Question to make sure the user is logged in with the right account before authorizing an app. It is directly followed by a "Log out." call to action.'),{logoutLink:(0,x.jsx)(i.xv,{inline:!0,size:"200",weight:"bold",children:(0,x.jsx)(i.rU,{display:"inlineBlock",href:"/logout/",underline:"hover",children:this.props.i18n._('Log out', 'Oauth.logOut', 'A link to log the current user out.')})})}),O=(0,h.nk)(this.props.i18n._('You can always turn this off in your {{ settings }}.', 'Oauth.settingsLink', 'Text informing the user they can always revoke access to an app via the settings page.'),{settings:(0,x.jsx)(i.rU,{display:"inlineBlock",target:"blank",href:"/settings/apps/",underline:"hover",children:this.props.i18n._('settings', 'Link to settings page', 'Link to settings page')})}),z=(0,h.nk)(this.props.i18n._('We recommend reviewing the privacy policy for this app ({{ consumerName }}).', 'Oauth.appPrivacyPolicyInfo', 'Text that recommends reviewing the privacy policy for the app asking for access'),{consumerName:(0,x.jsx)(i.xv,{size:"100",color:"subtle",inline:!0,children:u},u)}),S=(0,h.nk)(this.props.i18n._('Access granted is covered by Pinterest\'s {{ termsOfService }}, {{ businessTermsOfService }} and {{ privacyPolicy }}.', 'Oauth.pinterestPolicyInfo', 'Text that reminds the user that access granted to the 3rd party app is covered by our policies.'),{termsOfService:(0,x.jsx)(i.xv,{inline:!0,color:"subtle",size:"100",weight:"bold",children:(0,x.jsx)(i.rU,{display:"inlineBlock",target:"blank",href:f.U5h,underline:"hover",children:this.props.i18n._('Terms of Service', 'Oauth.pinnerTerms', 'Link to Pinterest Terms of Service.')})}),businessTermsOfService:(0,x.jsx)(i.xv,{inline:!0,color:"subtle",size:"100",weight:"bold",children:(0,x.jsx)(i.rU,{display:"inlineBlock",target:"blank",href:f.V$B,underline:"hover",children:this.props.i18n._('Business Terms of Service', 'Oauth.businessTerms', 'Link to Pinterest Business Terms of Service.')})}),privacyPolicy:(0,x.jsx)(i.xv,{inline:!0,color:"subtle",size:"100",weight:"bold",children:(0,x.jsx)(i.rU,{display:"inlineBlock",target:"blank",href:f.R_9,underline:"hover",children:this.props.i18n._('Privacy Policy', 'Oauth.privacyPolicy', 'Link to Pinterest Privacy Policy.')})})});return(0,x.jsx)(s.Z,{page:"oauth2",children:(0,x.jsxs)(i.xu,{position:"absolute",top:!0,width:"100%",height:"100%",children:[(0,x.jsx)(i.xu,{overflow:"hidden",position:"absolute",bottom:!0,left:!0,right:!0,top:!0,children:(0,x.jsx)(b.default,{})}),(0,x.jsx)(i.xu,{bottom:!0,left:!0,position:"fixed",right:!0,top:!0,dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, .5)"}}}),(0,x.jsxs)(i.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},children:[(0,x.jsx)(d.Z,{unsafeCSS:c.Z+a.Z+"\n.scopeList li {\n  padding-bottom: 8px;\n}\n"}),(0,x.jsx)(i.xu,{color:"default","data-test-id":"oauth",margin:"auto",minHeight:450,position:"relative",rounding:2,width:440,dangerouslySetInlineStyle:{__style:{textAlign:"center",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.45)"}},children:(0,x.jsxs)("form",{"data-test-id":"oauth-form",onSubmit:this.handleSubmit,style:{minHeight:"400px",padding:"20px 10px"},children:[(0,x.jsx)(i.xu,{display:"block",height:45,width:45,dangerouslySetInlineStyle:{__style:{margin:"5px auto"}},children:(0,x.jsx)(p.Z,{size:40})}),(0,x.jsx)(i.xu,{width:270,dangerouslySetInlineStyle:{__style:{margin:"0 auto 25px"}},children:(0,x.jsx)(i.X6,{align:"center",children:this.props.i18n._('Authorize app', 'Oauth.authorizeApp', 'Title for the OAuth page')})}),(0,x.jsxs)(i.xu,{alignItems:"center",display:"flex",direction:"column",marginTop:0,marginEnd:"auto",marginStart:"auto",width:270,minHeight:400,children:[(0,x.jsx)(i.xu,{marginTop:4,children:(0,x.jsx)(i.xv,{align:"center",children:v})}),(0,x.jsx)(i.xu,{marginTop:4,children:(0,x.jsx)(i.xv,{align:"center",size:"200",color:"subtle",children:(0,x.jsx)("ul",{className:"scopeList",children:(0,x.jsx)(C,{consumerType:m,scopeDescriptions:y,scope:P})})})}),(0,x.jsxs)(i.xu,{alignItems:"center",marginTop:10,display:"flex",direction:"row",children:[(0,x.jsx)(i.xu,{height:50,width:50,rounding:2,children:(0,x.jsx)(i.zd,{height:50,width:50,rounding:"circle",children:(0,x.jsx)(i.Ee,{fit:"cover",alt:"App image",color:"#000",src:g,naturalHeight:80,naturalWidth:80})})}),(0,x.jsx)(i.xu,{marginStart:6,marginEnd:6,children:(0,x.jsx)(i.JO,{icon:"switch-account",accessibilityLabel:"arrows",size:"20"})}),(0,x.jsx)(i.xu,{height:50,width:50,rounding:2,children:(0,x.jsx)(i.zd,{height:50,width:50,rounding:"circle",children:(0,x.jsx)(i.Ee,{fit:"contain",alt:"User profile image",color:"#000",src:n.imageMediumUrl,naturalHeight:80,naturalWidth:80})})})]}),(0,x.jsx)(i.xu,{marginTop:10,children:(0,x.jsx)(i.xv,{align:"center",children:j})}),(0,x.jsx)(i.xu,{marginTop:1,children:(0,x.jsx)(i.xv,{align:"center",size:"200",children:A})}),(0,x.jsx)(i.xu,{marginTop:10,minWidth:"90%",children:(0,x.jsx)(i.zx,{fullWidth:!0,color:"red",type:"submit",text:this.props.i18n._('Give access', 'Clicking gives access for this app to the above permissions.', 'Clicking gives access for this app to the above permissions.')})}),(0,x.jsx)(i.xu,{marginTop:8,children:(0,x.jsx)(D,{consumerType:m,scope:P})}),(0,x.jsx)(i.xu,{marginTop:2,children:(0,x.jsx)(i.xv,{size:"100",color:"subtle",align:"center",children:O})}),(0,x.jsx)(i.xu,{marginTop:2,children:(0,x.jsx)(i.xv,{size:"100",color:"subtle",align:"center",children:z})}),(0,x.jsx)(i.xu,{marginTop:2,children:(0,x.jsx)(i.xv,{size:"100",color:"subtle",align:"center",overflow:"normal",children:S})})]})]})})]})]})})}}],O(y.prototype,r),n&&O(y,n),Object.defineProperty(y,"prototype",{writable:!1}),y}(n.Component),L=function(e){var t=(0,u.ZP)(),r=(0,y.Z)();return(0,x.jsx)(E,j(j({viewer:r},e),{},{i18n:t}))}},830539:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(76911),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useState,s=n.useEffect,l=n.useLayoutEffect,a=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=o({inst:{value:r,getSnapshot:t}}),i=n[0].inst,u=n[1];return l(function(){i.value=r,i.getSnapshot=t,c(i)&&u({inst:i})},[e,r,t]),s(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),a(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},165016:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(76911),i=r(768138),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=i.useSyncExternalStore,l=n.useRef,a=n.useEffect,c=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var d=l(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;var _=s(e,(d=c(function(){function e(e){if(!a){if(a=!0,s=e,e=n(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return l=t}return l=e}if(t=l,o(s,e))return t;var r=n(e);return void 0!==i&&i(t,r)?t:(s=e,l=r)}var s,l,a=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,i]))[0],d[1]);return a(function(){h.hasValue=!0,h.value=_},[_]),u(_),_}},768138:function(e,t,r){"use strict";e.exports=r(830539)},273897:function(e,t,r){"use strict";e.exports=r(165016)}},function(e){e.O(0,[97270,8390,99689,26067,17492,58906,14131],function(){return e(e.s=921538)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/oauth-9025bcff89b29cbf.js.map