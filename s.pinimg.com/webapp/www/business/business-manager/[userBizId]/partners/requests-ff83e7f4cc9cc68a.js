(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[37707],{677127:function(e,t,s){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/business/business-manager/[userBizId]/partners/requests"]=function(){return s(763935).Z}},554002:function(e,t,s){"use strict";var i=s(908390),n=s(489746),r=s(515198);t.Z=function(e){var t=e.heading,s=e.title,o=e.titleSize,a=e.titleBadge,c=e.subtitle,l=e.cta,u=e.secondaryAction,_=e.search,d=e.isLoading,b=e.table;return(0,r.jsxs)(i.xu,{children:[t,(0,r.jsxs)(i.xu,{direction:"row",display:"flex",justifyContent:"between",marginBottom:4,children:[(0,r.jsxs)(i.kC,{alignItems:"start",direction:"column",justifyContent:"center",children:[(0,r.jsxs)(i.kC,{alignItems:"center",gap:{row:2,column:0},children:["string"==typeof s?(0,r.jsx)(i.X6,{size:void 0===o?"500":o,children:s}):s,a]}),!!c&&(0,r.jsx)(i.xu,{marginBottom:2,marginTop:2,maxWidth:700,children:(0,r.jsx)(i.xv,{size:"200",children:c})})]}),u&&(0,r.jsx)(i.xu,{children:u})]}),(0,r.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:4,children:[(0,r.jsx)(i.xu,{marginBottom:2,minWidth:330,children:_}),l&&(0,r.jsx)(i.xu,{marginBottom:2,children:l})]}),d?(0,r.jsx)(n.Z,{}):(0,r.jsx)(i.xu,{marginBottom:2,children:b})]})}},489746:function(e,t,s){"use strict";var i=s(908390),n=s(852260),r=s(898781),o=s(515198);t.Z=function(){var e=(0,r.ZP)();return(0,o.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:(0,o.jsx)(i.$j,{accessibilityLabel:(0,n.hC)(e),delay:!1,show:!0,size:"sm"})})}},816127:function(e,t,s){"use strict";s.d(t,{Z:function(){return f}});var i=s(76911),n=s(599689),r=s(908390),o=s(898781),a=s(773285),c=s(826067),l=s(82347),u=s(273453),_=s(515198),d=function(e){var t=e.value,s=e.data,d=s.created_by_biz,b=(d=void 0===d?{id:""}:d).id,p=s.created_by_business,m=(p=void 0===p?{id:""}:p).id,h=(0,o.ZP)(),v=(0,l.o)().openSheet,f=(0,n.useLocation)(),E=(0,c.mB)(f.search).invite_id,g=(0,u.KJ)(),y=(0,(0,a.F)().checkExperiment)("business_access_invites_api_v4_migration").anyEnabled?m:b,P=g===y;return(0,i.useEffect)(function(){E===t&&(P?v("PARTNER_SEND_INVITE",{id:t}):v("PARTNER_RECEIVE_INVITE",{id:t,partnerId:y}))},[E,t,P]),(0,_.jsx)(i.Fragment,{children:(0,_.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,_.jsx)(r.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,_.jsx)(r.zx,{accessibilityLabel:h._('Review partner invite', '[m10n]bizAccess.business.partner.invite.review.accessibility', 'accessibility text for button to toggle review partner invite sheet'),fullWidth:!0,onClick:function(){P?v("PARTNER_SEND_INVITE",{id:t}):v("PARTNER_RECEIVE_INVITE",{id:t,partnerId:y})},text:h._('Review', '[m10n]bizAccess.business.partner.invite.review', 'button to toggle review partner invite sheet')})})})})},b={partner_invite:{sentPendingPartnerSheet:"PARTNER_SEND_INVITE",receivedPendingPartnerSheet:"PARTNER_RECEIVE_INVITE"},partner_request:{sentPendingPartnerSheet:"PARTNER_SEND_REQUEST",receivedPendingPartnerSheet:"PARTNER_RECEIVE_REQUEST"}},p=function(e){var t=e.value,s=e.data,d=(0,(0,a.F)().checkExperiment)("business_access_invites_api_v4_migration").anyEnabled,p=s.invite_data.invite_type,m=s.user.id,h=d?s.created_by_business.id:s.created_by_biz.id,v=(0,o.ZP)(),f=(0,l.o)().openSheet,E=(0,n.useLocation)(),g=(0,c.mB)(E.search),y=g.invite_id,P=g.request_id,x=(0,u.KJ)()===h,A=b["PARTNER_INVITE"===p?"partner_invite":"partner_request"],S=A.sentPendingPartnerSheet,j=A.receivedPendingPartnerSheet;return(0,i.useEffect)(function(){(y===t||P===t)&&(x?f(S,{id:t}):f(j,{id:t,partnerId:h}))},[y,P,t,x]),(0,_.jsx)(i.Fragment,{children:(0,_.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,_.jsx)(r.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,_.jsx)(r.xu,{"data-test-id":"partner-pending-review-button-".concat(m,"-").concat(t),children:(0,_.jsx)(r.hU,{accessibilityLabel:v._('Review pending parter invite or request', '[m10n]bizAccess.business.partner.invite.review.accessibility', 'accessibility text for button to toggle review partner invite or request sheet'),icon:"eye",iconColor:"darkGray",onClick:function(){x?f(S,{id:t}):f(j,{id:t,partnerId:h})},size:"md",tooltip:{text:v._('Review invite', '[[m10n]bizAccess.business.partner.invite.review.tooltip', 'icon button tooltip to toggle review partner invite sheet')}})})})})})},m=function(e){var t=e.value,s=e.data,d=s.created_by_biz,b=(d=void 0===d?{id:""}:d).id,p=s.created_by_business,m=(p=void 0===p?{id:""}:p).id,h=(0,o.ZP)(),v=(0,l.o)().openSheet,f=(0,n.useLocation)(),E=(0,c.mB)(f.search).request_id,g=(0,u.KJ)(),y=(0,(0,a.F)().checkExperiment)("business_access_invites_api_v4_migration").anyEnabled?m:b,P=g===y;return(0,i.useEffect)(function(){E===t&&(P?v("PARTNER_SEND_REQUEST",{id:t}):v("PARTNER_RECEIVE_REQUEST",{id:t,partnerId:y}))},[E,t,P]),(0,_.jsx)(i.Fragment,{children:(0,_.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,_.jsx)(r.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,_.jsx)(r.zx,{accessibilityLabel:h._('Review partner request', '[m10n]bizAccess.business.partner.request.review.accessibility', 'accessibility text for button to toggle review partner request sheet'),fullWidth:!0,onClick:function(){P?v("PARTNER_SEND_REQUEST",{id:t}):v("PARTNER_RECEIVE_REQUEST",{id:t,partnerId:y})},text:h._('Review', '[m10n]bizAccess.business.partner.request.review', 'button to toggle review partner request sheet')})})})})},h=function(e){var t=e.value,s=(0,o.ZP)(),n=(0,l.o)().openSheet;return(0,_.jsx)(i.Fragment,{children:(0,_.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,_.jsx)(r.xu,{bottom:!0,display:"flex",justifyContent:"center",children:(0,_.jsx)(r.hU,{accessibilityLabel:s._('Review person invite', '[m10n]bizAccess.business.person.invite.review.accessibility', 'accessibility text for button to toggle review person invite sheet'),icon:"eye",iconColor:"darkGray",onClick:function(){n("INVITE_REVIEW",{id:t})},size:"md",tooltip:{text:s._('Review invite', '[m10n]bizAccess.business.person.invite.review.tooltip', 'icon button tooltip to toggle review person invite sheet')}})})})})},v=s(912997),f=function(e,t){var s=function(){return null};return"PARTNER"===e?s=d:"PEOPLE"===e?s=h:"PARTNER_REQUEST"===e?s=m:"PARTNER_PENDING"===e&&(s=p),{field:"id",headerName:t._('Actions', '[m10n]bizAccess.business.people.actions', 'column of actions that can be taken on user'),minWidth:v.I.columnWidths.sm,TableCellComponent:s,valueGetter:function(e){return e.id},justifying:"center"}}},763935:function(e,t,s){"use strict";s.d(t,{Z:function(){return N}});var i=s(326884),n=s(223518),r=s(76911),o=s(506979),a=s(599689),c=s(908390),l=s(668040),u=s(15099),_=s(898781),d=s(554002),b=s(912997),p=s(298361),m=s(349700),h=s(773285),v=s(273453),f=s(515198);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,i)}return s}var y=function(e,t){var s=e.inviteStatus,i=e.inviteDirection,n=e.num_assets;return"EXPIRED"===s?t._('Expired request', '[m10n]bizAccess.request.expired', 'Request has expired'):"RECEIVED"===i?n>0?(0,m.nk)(t.ngettext('You received this request | Requesting access to {{num_assets}} asset', 'You received this request | Requesting access to {{num_assets}} assets', n, '[m10n]bizAccess.request.received', 'received request message in requests table when assets are requested'),{num_assets:n}):t._('You received this request', '[m10n]bizAccess.request.received.noAsset', 'received request message in requests table'):"SENT"===i?n>0?(0,m.nk)(t.ngettext('You sent this request | Requesting access to {{num_assets}} asset', 'You sent this request | Requesting access to {{num_assets}} assets', n, '[m10n]bizAccess.request.sent', 'received request message in requests table when assets are requested'),{num_assets:n}):t._('You sent this request', '[m10n]bizAccess.request.sent.noAsset', 'received request message in requests table'):void 0},P=function(e){var t=e.data,s=t.created_by_biz,i=(s=void 0===s?{id:""}:s).id,n=t.created_by_business,r=(n=void 0===n?{id:""}:n).id,o=t.invite_data,a=o.sent_at,l=o.invite_status,u=t.assets_summary.ad_account,d=t.user,b=d.username,m=d.email,E=t.extended_user_info,g=(0,_.ZP)(),P=(0,p.Z)(),x=E||{},A=x.image_small_url,S=void 0===A?"https://s.pinimg.com/images/user/default_60.png":A,j=x.full_name,R=(0,v.KJ)(),z=(0,(0,h.F)().checkExperiment)("business_access_invites_api_v4_migration").anyEnabled,I=m||b||j;return(0,f.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"start",paddingY:1,rounding:1,children:[I&&(0,f.jsxs)(c.kC,{alignItems:"start",justifyContent:"start",children:[S&&(0,f.jsx)(c.xu,{marginEnd:4,marginStart:4,marginTop:1,children:(0,f.jsx)(c.qE,{name:I,size:"sm",src:S})}),(0,f.jsx)(c.kC,{alignItems:"start",direction:"column",justifyContent:"center",children:(0,f.jsxs)(c.xu,{margin:1,children:[(0,f.jsxs)(c.xu,{marginBottom:2,children:[(0,f.jsx)(c.xv,{align:"start",color:"default",size:"200",weight:"bold",children:I}),(0,f.jsx)(c.xv,{align:"start",color:"default",size:"200",children:y({inviteStatus:l,inviteDirection:R===(z?r:i)?"SENT":"RECEIVED",num_assets:u},g)})]}),(0,f.jsx)(c.xv,{align:"start",color:"subtle",size:"100",children:P(new Date(a).toString())})]})})]}),!I&&(0,f.jsx)(c.xv,{color:"subtle",size:"100",children:"â€”"})]})},x=s(816127),A=s(391364),S=s(230412);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,i)}return s}var z=function(e){var t=e.text,s=e.accessibilityLabel,i=e.onClick,n=e.active,r=e.elementId;return n?(0,f.jsx)(c.xu,{"data-test-id":r,children:(0,f.jsx)(c.zx,{accessibilityLabel:s,onClick:i,size:"lg",text:t})}):(0,f.jsx)(c.xu,{"data-test-id":r,children:(0,f.jsx)(c.zx,{accessibilityLabel:s,color:"white",onClick:i,text:t})})},I=function(e){var t=e.userBizId,s=(0,_.ZP)(),i=(0,a.useHistory)(),n=(0,u.ZP)((0,u.QK)("PARTNERS"));return(0,f.jsx)(c.xu,{id:"partners-requests-page-action-panel",children:(0,f.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,f.jsx)(z,{accessibilityLabel:s._('See invites sent to partners', '[m10n]bizAccess.partner.list.invites.accessibility', 'Accessibility text for Partner page button that redirects to invite page'),elementId:"partners-resquests-page-invites-button",onClick:function(){n({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_NAVIGATION",componentId:"partners-requests-page-action-panel",element:"BUSINESS_ACCESS_BUTTON",elementId:"partners-resquests-page-invites-button"}),i.push((0,l.Z)("PARTNERS_INVITE_PAGE",t))},text:s._('Invites', '[m10n]bizAccess.partner.list.invites', 'Partner page button that sends the viewing user to the list of invites sent to partners')}),(0,f.jsx)(z,{accessibilityLabel:s._('See requests sent to partners or received from partners', '[m10n]bizAccess.partner.list.requests.accessibility', 'Accessibility text for Partner page button that redirects to the requests page'),active:!0,elementId:"partners-resquests-page-requests-button",onClick:function(){n({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_NAVIGATION",componentId:"partners-requests-page-action-panel",element:"BUSINESS_ACCESS_BUTTON",elementId:"partners-resquests-page-requests-button"}),i.push((0,l.Z)("PARTNERS",t))},text:s._('Requests', '[m10n]bizAccess.partner.list.requests', 'Partner page button that sends the viewing user to the list of requests sent to partners or received from partners')})]})})},C=function(){var e=(0,_.ZP)(),t=(0,v.KJ)(),s=(0,o.useSelector)(S.m8),n=(0,o.useDispatch)();(0,r.useEffect)(function(){t&&n((0,A.Mm)(["EXPIRED","PENDING"],t))},[t]);var a=e._('Partners', '[m10n]bizAccess.partner.request.title', 'Page title for the partner requests page');return(0,f.jsx)(d.Z,{search:null,secondaryAction:(0,f.jsx)(I,{userBizId:t}),table:(0,f.jsx)(b.Z,{columnDefs:[{field:"id",headerName:e._('Requests', '[m10n]bizAccess.invite.column.name.requests', 'Summary of requests'),TableCellComponent:function(e){return(0,f.jsx)(P,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?g(Object(s),!0).forEach(function(t){var i,n;i=t,n=s[t],(i=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t||"default");if("object"!==E(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}(i))in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):g(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}({},e))},minWidth:b.I.columnWidths.lg,sortable:!1,initialSortOrder:i.IR.ASCENDING,isActivelyStored:!0},(0,x.Z)("PARTNER_REQUEST",e)],config:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?R(Object(s),!0).forEach(function(t){var i,n;i=t,n=s[t],(i=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var i=s.call(e,t||"default");if("object"!==j(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(i))in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):R(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}({},b.I),id:i.Q6.PARTNERS_REQUEST_PAGE,isLoading:!1,onRowCountChange:function(){},onSortChange:function(){},pageType:i.Q6.PARTNERS_REQUEST_PAGE,rowData:s}),title:a})},N=function(){return(0,f.jsx)(n.Z,{pageType:i.Q6.PARTNERS_REQUEST_PAGE,children:(0,f.jsx)(C,{})})}}},function(e){e.O(0,[97270,8390,1861,99689,26067,17492,48327,66312,99246,70987,68445,80538,92914,11582,88435,19798,6863,73453,35477,38628],function(){return e(e.s=677127)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/business/business-manager/[userBizId]/partners/requests-ff83e7f4cc9cc68a.js.map