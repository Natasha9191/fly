(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[42048],{810646:function(e,n,t){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/business/business-manager/[userBizId]/invoice-management"]=function(){return t(990728).Z}},760137:function(e,n,t){"use strict";var i=t(908390),o=t(15099),s=t(898781),a=t(82347),r=t(273453),l=t(515198);n.Z=function(e){var n=e.page,t=e.shouldUseSlimBanner,c=(0,r.KJ)(),d=(0,s.ZP)(),u=(0,o.ZP)(n),m=(0,a.o)().openSheet,_=d._('You have one or more ad accounts that require ad account creation approval', '[m10n]businessAccess.aoaaRequestsBanner.accessibilityLabel', 'Accessibility label for ad account request callout'),h=d._('You have one or more ad accounts that require ad account creation approval', '[m10n]businessAccess.aoaaRequestsBanner.message', 'Message providing details to the advertiser about the ad account request.'),g={accessibilityLabel:d._('View requests', '[m10n]businessAccess.aoaaRequestsBanner.action.accessibilityLabel', 'Accessbility label for view requests banner link'),label:d._('View requests', '[m10n]businessAccess.aoaaRequestsBanner.action.label', 'View requests banner link'),onClick:function(){u({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"aoaa-pending-incoming-requests-banner",element:"BUSINESS_ACCESS_LINK",elementId:"aoaa-pending-incoming-requests-banner-link",business_id:c}),m("RESPOND_AOAA_REQUESTS",{id:c})}};return void 0!==t&&t?(0,l.jsx)(i.xu,{children:(0,l.jsx)(i.he,{iconAccessibilityLabel:_,message:h,primaryAction:g,type:"info"})}):(0,l.jsx)(i.xu,{children:(0,l.jsx)(i.ci,{iconAccessibilityLabel:_,message:h,primaryAction:g,type:"info"})})}},932014:function(e,n,t){"use strict";var i=t(908390),o=t(121151),s=t(898781),a=t(515198),r=function(e){var n=e.bulletPoint,t=(0,s.ZP)();return(0,a.jsxs)(i.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[!n.noBulletPoint&&(0,a.jsx)(i.xu,{width:30,children:n.icon||(0,a.jsx)(i.JO,{accessibilityLabel:t._('bullet point icon', '[m10n].bizAccess.baseFeatureIntro.bulletPoint.a11y', 'accessibilityLabel for third bullet point on ad accounts introduction modal'),color:"dark",icon:"check-circle",size:24})}),(0,a.jsx)(i.xu,{children:n.content})]})};n.Z=function(e){var n=e.modalAccessibilityLabel,t=e.dismiss,l=e.image,c=e.heading,d=e.subtext,u=e.bulletPoints,m=e.primaryButton,_=e.secondaryButton,h=(0,s.ZP)();return(0,a.jsx)(o.ZP,{accessibilityModalLabel:n,onDismiss:function(){},size:832,children:(0,a.jsxs)(i.kC,{width:"100%",children:[(0,a.jsx)(i.kC.Item,{flexBasis:l.width||320,children:(0,a.jsx)(i.xu,{height:l.height||480,children:l.image})}),(0,a.jsx)(i.kC.Item,{flex:"grow",flexBasis:0,children:(0,a.jsxs)(i.xu,{direction:"column",display:"flex",height:l.height||480,justifyContent:"between",padding:6,children:[(0,a.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,a.jsxs)(i.kC,{alignItems:"center",gap:4,justifyContent:"between",children:[(0,a.jsx)(i.X6,{size:"500",children:c}),(0,a.jsx)(i.hU,{accessibilityLabel:h._('Cancel button to close this modal', '[m10n]bizAccess.baseFeatureIntro.cancel', '[m10n] Experience modal cancel button accessibilityLabel'),dataTestId:"dismiss-bm-intro-modal",icon:"cancel",onClick:t,size:"lg"})]}),(0,a.jsxs)(i.xu,{children:[(0,a.jsx)(i.xu,{marginBottom:d?4:0,marginTop:6,children:d}),(0,a.jsx)(i.kC,{direction:"column",gap:4,children:u.map(function(e,n){return(0,a.jsx)(r,{bulletPoint:e},n)})})]})]}),(0,a.jsxs)(i.kC,{alignItems:"center",gap:2,height:48,justifyContent:"end",children:[_&&(0,a.jsx)(i.zx,{color:"gray",onClick:_.onClick,text:_.text}),(0,a.jsx)(i.zx,{color:"red",onClick:m.onClick,text:m.text})]})]})})]})})}},489746:function(e,n,t){"use strict";var i=t(908390),o=t(852260),s=t(898781),a=t(515198);n.Z=function(){var e=(0,s.ZP)();return(0,a.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:(0,a.jsx)(i.$j,{accessibilityLabel:(0,o.hC)(e),delay:!1,show:!0,size:"sm"})})}},670963:function(e,n,t){"use strict";t.d(n,{A:function(){return d}});var i=t(908390),o=t(858472),s=t(898781),a=t(773285),r=t(760137),l=t(489746),c=t(515198),d=function(e){var n=e.title,t=e.subtitle,s=e.header,a=e.content;return(0,c.jsxs)(i.xu,{as:"article",marginEnd:6,marginStart:6,paddingY:6,children:[(0,c.jsxs)(i.xu,{as:"header",marginBottom:4,marginStart:2,children:[(0,c.jsx)(i.xu,{marginBottom:2,children:"string"==typeof n?(0,c.jsx)(i.X6,{size:"500",children:n}):n}),"string"==typeof t?(0,c.jsx)(i.xv,{size:"300",children:t}):t]}),(0,c.jsx)(i.xu,{as:"section",borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:o.cO}},padding:4,rounding:4,children:(0,c.jsxs)(i.kC,{direction:"column",gap:6,children:[!!s&&(0,c.jsx)(i.kC.Item,{flex:"grow",children:s}),(0,c.jsx)(i.kC.Item,{children:a})]})})]})};n.Z=function(e){var n=e.heading,t=e.title,d=e.titleSize,u=void 0===d?"500":d,m=e.titleTooltip,_=e.subtitle,h=e.cta,g=e.secondaryAction,b=e.search,f=e.tabs,x=e.isLoading,v=e.table,A=e.searchInputWidth,p=e.maxWidth,y=e.heightShouldGrowWithContent,j=e.showAoaaBanner,C=e.subtitleHref,z=void 0===C?"":C,I=e.subtitleDataTestId,S=(0,s.ZP)(),P=(0,a.F)().checkExperiment,E=P("web_business_access_quick_edit").anyEnabled,w=P("exp_ia_navigation_mega_nav_m1").anyEnabled,N=(0,c.jsx)(i.xu,{marginBottom:2,minWidth:null!=A?A:330,children:b});if(E){var T=(0,c.jsxs)(i.xu,{children:[(0,c.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:4,width:"100%",children:[(0,c.jsx)(i.xu,{children:f}),(0,c.jsx)(i.xu,{marginBottom:2,children:h})]}),b?(0,c.jsx)(i.xu,{marginBottom:2,minWidth:"100%",children:b}):null]}),D=(0,c.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:2,width:"100%",children:[(0,c.jsx)(i.kC.Item,{flex:"grow",children:b}),(0,c.jsx)(i.xu,{alignItems:"center",display:"flex",marginStart:2,children:h})]}),B=S._('Additional info', '[m10n] businessAccess.permissions.cell.additionalInfo', 'accessibility label of more info tooltips');return(0,c.jsxs)(i.xu,{direction:"column",display:"flex",overflow:"visible",padding:6,children:[(0,c.jsxs)(i.xu,{display:"flex",marginBottom:4,marginStart:2,children:[(0,c.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(i.X6,{size:"500",children:t}),m&&(0,c.jsx)(i.hU,{accessibilityLabel:S._('Page info icon', '[[m10n]bizAccess.page.info.icon', 'Accessibility label for page info icon'),bgColor:"transparent",icon:"info-circle",iconColor:"gray",size:"xs",tooltip:{text:m,accessibilityLabel:m}})]}),!!_&&"string"==typeof _&&(0,c.jsx)(i.xu,{alignItems:"center","data-test-id":I,display:"flex",marginStart:1,children:z?(0,c.jsx)(i.I_,{accessibilityLabel:B,bgColor:"transparent",href:z,icon:"info-circle",iconColor:"gray",size:"xs",tooltip:{text:_}}):(0,c.jsx)(i.hU,{accessibilityLabel:B,bgColor:"transparent",icon:"info-circle",iconColor:"gray",size:"xs",tooltip:{text:_}})})]}),(0,c.jsx)(i.kC,{width:"100%",children:j&&(0,c.jsx)(i.xu,{marginBottom:2,minWidth:"100%",children:(0,c.jsx)(r.Z,{page:3803,shouldUseSlimBanner:!0})})}),(0,c.jsx)(i.kC,{minHeight:y?void 0:w?"calc(100vh - 169px)":"calc(100vh - 249px)",width:"100%",children:(0,c.jsx)(i.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:o.cO}},flex:"grow",maxWidth:p,minWidth:940,padding:4,rounding:4,width:"grow",children:(0,c.jsxs)(i.kC,{direction:"column",children:[f?T:D,g&&(0,c.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:2,children:(0,c.jsx)(i.xu,{marginBottom:2,children:g})}),x?(0,c.jsx)(l.Z,{}):(0,c.jsx)(i.xu,{children:v})]})})})]})}return f?(0,c.jsxs)(i.xu,{children:[n,(0,c.jsxs)(i.xu,{direction:"row",display:"flex",justifyContent:"between",marginBottom:8,children:[(0,c.jsxs)(i.kC,{alignItems:"start",direction:"column",justifyContent:"center",children:["string"==typeof t?(0,c.jsx)(i.X6,{size:u,children:t}):t,!!_&&("string"==typeof t?(0,c.jsx)(i.xu,{marginBottom:2,marginTop:2,children:(0,c.jsx)(i.xv,{size:"200",children:_})}):_)]}),h&&(0,c.jsx)(i.xu,{children:h})]}),j&&(0,c.jsx)(i.xu,{marginBottom:8,marginEnd:8,children:(0,c.jsx)(r.Z,{page:3803})}),(0,c.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:4,children:[(0,c.jsx)(i.xu,{marginBottom:2,children:f}),N,g&&(0,c.jsx)(i.xu,{marginBottom:2,children:g})]}),x?(0,c.jsx)(l.Z,{}):(0,c.jsx)(i.xu,{marginBottom:2,children:v})]}):(0,c.jsxs)(i.xu,{children:[n,(0,c.jsx)(i.xu,{direction:"row",display:"flex",justifyContent:"between",marginBottom:4,children:(0,c.jsxs)(i.kC,{alignItems:"start",direction:"column",justifyContent:"center",children:["string"==typeof t?(0,c.jsx)(i.X6,{size:u,children:t}):t,!!_&&(0,c.jsx)(i.xu,{"data-test-id":I,marginBottom:2,marginTop:2,maxWidth:700,children:(0,c.jsx)(i.xv,{size:"200",children:_})})]})}),(0,c.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:4,children:[N,h&&(0,c.jsx)(i.xu,{marginBottom:2,children:h})]}),x?(0,c.jsx)(l.Z,{}):(0,c.jsx)(i.xu,{marginBottom:2,children:v})]})}},990728:function(e,n,t){"use strict";t.d(n,{Z:function(){return eo}});var i=t(326884),o=t(223518),s=t(908390),a=t(852260),r=t(121093),l=t(898781),c=t(349700),d=t(773285),u=t(932014),m=t(515198);function _(){var e=(0,l.ZP)();return(0,(0,d.F)().checkExperiment)("web_m10n_business_manager_ui_improvements_bm_intro").anyEnabled?(0,m.jsx)(r.Z,{eligibleIds:[505820],eligibleTypes:[9],placementId:1000517,children:function(n){var t=n.dismiss,i=n.complete;return(0,m.jsx)(u.Z,{bulletPoints:[{content:(0,m.jsx)(s.xv,{color:"default",size:"200",children:e._('Sort, filter and group invoices', '[m10n].bizAccess.invoiceManagementIntro.bulletPoint.one', 'bullet point in invoice management introduction modal to say that you can sort, filter, and group invoices')})},{content:(0,m.jsx)(s.xv,{color:"dark",size:"200",children:e._('View and download all of your invoices', '[m10n].bizAccess.invoiceManagementIntro.bulletPoint.two', 'bullet point in invoice management introduction modal about viewing and downloading invoices')})},{content:(0,m.jsx)(s.xv,{size:"200",children:e._('Opt-in for a more manageable report of your invoices in one consolidated email', '[m10n].bizAccess.invoiceManagementIntro.bulletPoint.three', 'bullet point in invoice management intro modal purpose of opting in')})}],dismiss:t,heading:e._('Keep track of your invoices in one easy place', '[m10n].bizAccess.invoiceManagementIntro.heading', 'heading for invoice management feature intro modal'),image:{image:(0,m.jsx)(s.Ee,{alt:e._('image to introduce invoice management in business manager', '[m10n].bizAccess.invoiceManagementIntro.image', 'alt text for image to introduce invoice management in business manager'),fit:"cover",naturalHeight:480,naturalWidth:320,src:"https://s.pinimg.com/webapp/invoice_management_intro-5cd0063c.png"})},modalAccessibilityLabel:e._('modal to introduce invoice management feature in Business Manager', '[m10n].bizAccess.invoiceManagementIntro.a11y', 'accessibility label for invoice management feature intro modal'),primaryButton:{text:(0,a.Eb)(e),onClick:function(){return i()}},subtext:(0,m.jsx)(s.xv,{size:"200",children:(0,c.nk)(e._('{{invoiceManagementText}} gives you an overview of invoices, showing you what is outstanding, upcoming or overdue.', '[m10n].bizAccess.invoiceManagementIntro.bulletPoint.subtext', 'subtext for invoiceManagement intro modal summarizing how to use invoice management. invoiceManagementText: the words invoice management'),{invoiceManagementText:(0,m.jsx)(s.xv,{inline:!0,size:"200",weight:"bold",children:e._('Invoice management', '[m10n].bizAccess.invoiceManagementIntro.bulletPoint.subtext.invoiceManagement', 'bolded text for invoice management in subtext')},"invoice")})})})}}):null}var h=t(76911),g=t(506979),b=t(15099),f=t(780280),x=t(82347),v=t(670963),A=t(806672),p=t(912997);function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}var j=t(599689),C=t(667731),z=t(151725),I=t(399673),S=t(137043),P=t(230412),E=t(273453);function w(e,n,t,i,o,s,a){try{var r=e[s](a),l=r.value}catch(e){t(e);return}r.done?n(l):Promise.resolve(l).then(i,o)}function N(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,o,s,a,r=[],l=!0,c=!1;try{if(s=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=s.call(t)).done)&&(r.push(i.value),r.length!==n);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return r}}(e,n)||function(e,n){if(e){if("string"==typeof e)return T(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return T(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}function D(){return{adAccountIds:[],timeRange:{startTime:Math.max((0,C.Z)((0,z.Z)(),24).getTime(),Date.parse("2023-01-01")),endTime:(0,z.Z)().getTime()},status:"OPEN",documentType:"ALL"}}var B=function(){var e,n,t,i,o,a,r,c,u=(0,l.ZP)(),_=(0,j.useHistory)(),b=(0,I.Kx)(),f=(n=(e=N((0,h.useState)(null),2))[0],t=e[1],o=(i=N((0,h.useState)(!0),2))[0],a=i[1],r=(0,E.KJ)(),c=(0,(0,d.F)().checkExperiment)("ads_billing_invoice_management_beta").anyEnabled,((0,h.useEffect)(function(){function e(){var n;return n=regeneratorRuntime.mark(function e(){var n,i,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o={id:"",businessId:r,filters:D(),limit:1,startIndex:0,invoicesSortBy:{sortOrder:"DESCENDING",sortField:"DUE_DATE"}},e.next=4,(0,S.C)(o);case 4:if(s=e.sent){e.next=7;break}throw Error("No data returned on useOutstandingInvoicesCount");case 7:t(null===(n=s.data)||void 0===n?void 0:null===(i=n.invoices)||void 0===i?void 0:i.length),a(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t(function(){throw e.t0});case 15:case"end":return e.stop()}},e,null,[[0,12]])}),(e=function(){var e=this,t=arguments;return new Promise(function(i,o){var s=n.apply(e,t);function a(e){w(s,i,o,a,r,"next",e)}function r(e){w(s,i,o,a,r,"throw",e)}a(void 0)})}).apply(this,arguments)}c&&function(){e.apply(this,arguments)}()},[r,c]),"number"==typeof n)?{count:n,isLoading:!1}:{count:null,isLoading:o});if(0===(0,g.useSelector)(P.qu).length||f.isLoading||null===f.count)return null;var x=f.count>0,v=x?(0,m.jsx)(s.xv,{children:u._('You have outstanding invoices', '[m10n]bizAccess.business.invoiceManagement.header', 'Shows how many outstanding invoices the user has in the invoice management page. outstandingInvoicesCount: number of outstanding invoices')},"invoice-management-header"):(0,m.jsx)(s.xv,{children:u._('All of your invoices have been paid', '[m10n]bizAccess.business.invoiceManagement.header', 'Banner text that shows that all of the users invoices have been paid in the invoice management page')},"invoice-management-header"),A=u._('View outstanding only', '[m10n]bizAccess.business.invoiceManagement.header', 'button text in the invoice management page for creating an invoice inquiry');return(0,m.jsx)(s.kC,{dataTestId:"invoice-management-banner",children:(0,m.jsx)(s.he,{message:v,primaryAction:x?{accessibilityLabel:A,label:A,onClick:function(){var e=D();b.delete("adAccountIds"),b.set("status",e.status),b.set("documentType",e.documentType),b.set("timeRangeStart",e.timeRange.startTime.toString()),b.set("timeRangeEnd",e.timeRange.endTime.toString()),b.set("sort_field","DUE_DATE"),b.set("sort_order","ASCENDING"),_.push({search:b.toString()})}}:void 0,type:x?"info":"success"})})},k=t(462477),O=t(892819);function M(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}function L(){var e,n=(0,I.Kx)(),t=function(e){switch(e){case"INVOICE_NUMBER":case"DOCUMENT_TYPE":case"TOTAL_AMOUNT":case"BILLING_PERIOD":case"DUE_DATE":return e;default:return"DUE_DATE"}}(n.get("sort_field")),i="ASCENDING"===n.get("sort_order")?"ASCENDING":"DESCENDING",o={sortField:t,sortOrder:i},s=function(e){if(Array.isArray(e))return e}(e=(0,h.useState)(function(){return o}))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,o,s,a,r=[],l=!0,c=!1;try{if(s=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=s.call(t)).done)&&(r.push(i.value),r.length!==n);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return r}}(e,2)||function(e,n){if(e){if("string"==typeof e)return M(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return M(e,n)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=s[0],r=s[1];return(t!==a.sortField||i!==a.sortOrder)&&r(o),a}function Z(e){var n=e.direction,t=e.onClick,i=(0,l.ZP)();return"ASCENDING"===n?(0,m.jsx)(s.hU,{accessibilityLabel:i._('interact to change sort direction to descending using this column', '[m10n]bizAccess.invoiceManagement.heading', 'Business access invoice management; icon that changes the sort direction to descending'),icon:"sort-ascending",onClick:t,size:"xs"}):(0,m.jsx)(s.hU,{accessibilityLabel:i._('interact to change sort direction to ascending using this column', '[m10n]bizAccess.invoiceManagement.heading', 'Business access invoice management; icon that changes the sort direction to ascending'),icon:"sort-descending",onClick:t,size:"xs"})}var U=function(e){var n=e.sortField,t=e.arrowOnTop,i=e.children,o=(0,(0,d.F)().checkExperiment)("ads_billing_invoice_management_beta").anyEnabled,a=(0,j.useHistory)(),r=(0,I.Kx)(),l=L();if(!o)return i;var c=function(){if(l.sortField!==n)r.set("sort_field",n),r.set("sort_order","DESCENDING"),a.push({search:r.toString()});else{var e="DESCENDING"===l.sortOrder?"ASCENDING":"DESCENDING";r.set("sort_order",e),a.push({search:r.toString()})}},u=(0,m.jsx)(s.xu,{minHeight:24,minWidth:24});return(0,m.jsx)(s.iP,{onTap:c,children:(0,m.jsxs)(s.kC,{alignItems:void 0!==t&&t?"start":"center",gap:2,children:[(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{userSelect:"none"}},children:i}),l.sortField===n?(0,m.jsx)(Z,{direction:l.sortOrder,onClick:c}):u]})})},R=t(244965),W="TOTAL_AMOUNT",F=function(e){var n=(0,f.B)().locale,t=(0,O.Z)();return{field:W,headerName:(0,m.jsx)(U,{sortField:W,children:e._('Amount', '[m10n]bizAccess.business.invoiceManagement.amount', 'Amount for the invoice record')}),minWidth:p.I.columnWidths.md,TableCellComponent:A.Z,valueGetter:function(e){var i=(0,R.Fr)({data:e,colDef:{field:"amount_billed_micro_currency"}}),o=e.currency;return(0,m.jsx)(s.xv,{size:"200",children:null!==i?t(n,i,{style:"currency",currency:o}):"-"})},justifying:"end"}},G=t(154928),q=t(392437),V="BILLING_PERIOD",H="INVOICE_NUMBER",K="DOCUMENT_TYPE",X=t(210407),Y=t(67347),$="DUE_DATE",J=t(231705),Q=t(634613);function ee(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,o,s,a,r=[],l=!0,c=!1;try{if(s=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=s.call(t)).done)&&(r.push(i.value),r.length!==n);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw o}}return r}}(e,n)||en(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e,n){if(e){if("string"==typeof e)return et(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return et(e,n)}}function et(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}var ei=function(){var e,n,t=(0,b.ZP)("BUSINESS_ACCESS_INVOICE_MANAGEMENT"),o=(0,l.ZP)(),a=(0,E.KJ)(),r=(0,x.o)().openSheet,u=(0,f.B)().locale,_=(0,g.useSelector)(P.qu),j=(0,g.useSelector)(P.G1),C=(0,g.useSelector)(Q.$z),z=(0,I.wM)(),w=L(),N=ee(z.adAccountIds,1)[0],T=(0,d.F)().checkExperiment,D=T("ads_billing_invoice_management_beta").anyEnabled,O=T("ads_billing_invoice_management_batch").anyEnabled,M=T("web_m10n_business_manager_ui_improvements").anyEnabled,Z=o._('No invoices are available.', '[m10n]bizAccess.invoiceManagement.tableNoData', 'Custom text when the table has no data');N&&(Z=o._('No invoices match your search.', '[m10n]bizAccess.invoiceManagement.tableNoData', 'Custom text when the filter search does not match'));var R=(0,g.useDispatch)();(0,h.useEffect)(function(){if(!a)return function(){};var e=new AbortController;return R((0,J.C)({businessId:a,filters:z,invoicesSortBy:w,limit:j,abortController:e})),function(){return e.abort()}},[z,w,a,j,R]);var W=(0,h.useCallback)(function(e){e.invoice_id&&((0,Y.nP)("bizAccess.invoiceManagement.openInvoiceDetail",{sampleRate:1}),r("INVOICE_DETAIL",{invoiceDetail:e}),t({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_SHEET",componentId:"business-access-invoice-management",element:"BUSINESS_ACCESS_BUTTON",elementId:"invoice-modal-open"}))},[r,t]),ei=o._('Invoice management', '[m10n]bizAccess.invoiceManagement.heading', 'Business access invoice management page heading'),eo=o._('View and download your invoices, and sort them into groups for easier organization', '[m10n]businessAccess.invoiceManagement.info.tooltip', 'Invoice management page info tooltip'),es=M?(0,m.jsxs)(s.kC,{alignItems:"center",gap:1,height:"100%",justifyContent:"start",width:"100%",children:[(0,m.jsx)(s.xv,{size:"500",weight:"bold",children:ei}),(0,m.jsx)(s.hU,{accessibilityLabel:o._('Invoice management info icon', '[[m10n]bizAccess.invoiceManagement.info.icon', 'Accessibility label for Invoice management info icon'),bgColor:"transparent",icon:"info-circle",iconColor:"gray",size:"xs",tooltip:{text:eo,accessibilityLabel:eo}})]}):ei,ea=ee((0,h.useState)([]),2),er=ea[0],el=ea[1],ec=(0,h.useMemo)(function(){return _.map(function(e){return e.id})},[_]);return(0,h.useEffect)(function(){el([])},[_]),(0,m.jsx)(v.A,{content:(0,m.jsx)(p.Z,{columnDefs:[].concat(function(e){if(Array.isArray(e))return et(e)}(e=O&&_.length>0?[{field:"Invoice Document Check",preventColumnRowClick:!0,justifying:"start",headerName:(0,m.jsx)(s.XZ,{checked:er.length===ec.length,id:"select-all-invoices-for-download",onChange:function(){return el(0===er.length?ec:[])}}),minWidth:p.I.columnWidths.sm,verticalAlign:"middle",TableCellComponent:A.Z,valueGetter:function(e){var n=e.id;return(0,m.jsx)(h.Fragment,{children:(0,m.jsx)(s.XZ,{checked:er.includes(n),id:"select-all-invoice-".concat(n,"-for-download"),onChange:function(e){var t=e.event;el(er.includes(n)?er.filter(function(e){return e!==n}):[].concat(function(e){if(Array.isArray(e))return y(e)}(er)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(er)||function(e,n){if(e){if("string"==typeof e)return y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(e,n)}}(er)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n])),t.stopPropagation()}})})}}]:[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||en(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{field:H,headerName:(0,m.jsx)(U,{sortField:H,children:o._('Document number', '[m10n]bizAccess.business.invoiceManagement.documentNumber', 'Document number for the invoice record')}),minWidth:p.I.columnWidths.md,TableCellComponent:A.Z,valueGetter:function(e){var n=(0,c.nk)(o._('Business name: {{businessName}}', '[m10n]bizAccess.invoiceManagement.heading', 'The name of the business that owns the invoice. businessName:Business name'),{businessName:e.parent_business.business_name}),t=(0,c.nk)(o._('Ad account name: {{adAccountName}}', '[m10n]bizAccess.invoiceManagement.heading', 'The name of the ad account that owns the invoice. adAccountName:Ad account name'),{adAccountName:e.advertiser.advertiser_name});return(0,m.jsxs)(h.Fragment,{children:[(0,m.jsx)(s.xv,{size:"200",weight:"bold",children:e.invoice_id}),(0,m.jsx)(s.xv,{color:"subtle",size:"100",children:n}),(0,m.jsx)(s.xv,{color:"subtle",size:"100",children:t})]})}},{field:K,headerName:(0,m.jsx)(U,{sortField:K,children:o._('Document type', '[m10n]bizAccess.business.invoiceManagement.documentType', 'Document type for the invoice record')}),minWidth:p.I.columnWidths.md,TableCellComponent:A.Z,valueGetter:function(e){return(0,m.jsx)(s.xv,{size:"200",children:{INVOICE:"Invoice",CREDIT_MEMO:"Credit memo"}[e.document_type]})}},F(o),{field:V,headerName:(0,m.jsx)(U,{sortField:V,children:o._('Billing period', '[m10n]businessAccess.invoiceDetailSheet.billingPeriod', 'The billing period to an invoice')}),minWidth:p.I.columnWidths.md,TableCellComponent:A.Z,valueGetter:function(e){var n,t,i=(0,q.vs)((0,G.Z)(null!==(n=e.billing_period_start_date)&&void 0!==n?n:0),{locale:u}),a=(0,q.vs)((0,G.Z)(null!==(t=e.billing_period_end_date)&&void 0!==t?t:0),{locale:u}),r=(0,c.nk)(o._('{{billingPeriodFrom}} to {{billingPeriodTo}}', '[m10n]billing.DiscountSummary.messaging', 'The period to an invoice billingPeriodFrom:Billing period start, billingPeriodTo:Billing period end'),{billingPeriodFrom:i,billingPeriodTo:a});return(0,m.jsx)(s.xv,{size:"200",children:r})},justifying:"start"},{field:$,headerName:(0,m.jsxs)(U,{arrowOnTop:D,sortField:$,children:[o._('Due date', '[m10n]bizAccess.business.invoiceManagement.dueDate', 'Due date for the invoice record'),D&&(0,m.jsx)(s.xv,{color:"subtle",size:"100",children:o._('Status', '[m10n]bizAccess.business.invoiceManagement.dueDate', 'Status of the invoice')})]}),minWidth:p.I.columnWidths.md,TableCellComponent:A.Z,valueGetter:function(e){var n,t=(0,m.jsx)(s.xv,{size:"200",children:(n=e.invoice_due_date)?(0,q.vs)((0,G.Z)(n),{locale:u}):"-"});if(!D||!e.status)return t;var i="OPEN"===e.status;return(0,m.jsxs)(s.kC,{direction:"column",gap:1,children:[t,(0,m.jsxs)(s.kC,{alignItems:"center",gap:1,children:[(0,m.jsx)(s.JO,{accessibilityLabel:"",color:i?"warning":"subtle",icon:i?"workflow-status-warning":"check-circle",size:12}),(0,m.jsx)(s.xv,{color:i?"warning":"subtle",size:"200",children:i?o._('Open', '[m10n]bizAccess.business.invoiceManagement.dueDate', 'Status of the invice in cuestion (open)'):o._('Closed', '[m10n]bizAccess.business.invoiceManagement.dueDate', 'Status of the invice in cuestion (closed)')})]})]})},justifying:"start"},(n=function(){t({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_MODAL",componentId:"business-access-invoice-management",element:"BUSINESS_ACCESS_BUTTON",elementId:"download-pdf"})},{field:"download",headerName:o._('Download PDF', '[m10n]bizAccess.business.invoiceManagement.downloadPdf', 'Download PDF for the invoice record'),minWidth:p.I.columnWidths.md,TableCellComponent:A.Z,preventColumnRowClick:!0,valueGetter:function(e){var t=(0,S.M)(e.advertiser.advertiser_id,e.id);return(0,m.jsx)("a",{download:!0,href:t,onClick:function(){(0,Y.nP)("bizAccess.invoiceDetail.downloadInvoicePdf",{sampleRate:1,tags:{pageLocation:"invoice_summary_table"}}),null==n||n()},children:(0,m.jsx)(X.hU,{accessibilityLabel:o._('Download', '[m10n] billing.documentsTab.table.downloadColumn.button', '[m10n] button to download the document'),icon:"download",iconColor:"darkGray",logEventProps:{},name:"download_invoice",size:"sm"})})},justifying:"center"})]),customEmptyText:Z,id:i.Q6.INVOICE_MANAGEMENT,isLoading:C,isPaginationOptional:!0,onPageChange:function(e){return R((0,J.C)({page:e,filters:z,invoicesSortBy:w,businessId:a}))},onRowClick:W,onRowCountChange:function(e){return R((0,J.C)({limit:e,filters:z,invoicesSortBy:w,businessId:a}))},pageType:i.Q6.INVOICE_MANAGEMENT,rowData:_}),header:D?(0,m.jsxs)(s.kC,{direction:"column",gap:8,children:[(0,m.jsx)(B,{}),(0,m.jsx)(I.ZP,{children:O?(0,m.jsx)(k.Z,{invoicesIds:er}):null})]}):null,title:es})},eo=function(){return(0,m.jsxs)(o.Z,{pageType:i.Q6.INVOICE_MANAGEMENT,children:[(0,m.jsx)(_,{}),(0,m.jsx)(ei,{})]})}}},function(e){e.O(0,[97270,8390,1861,99689,26067,17492,48327,66312,99246,70987,68445,80538,92914,11582,88435,19798,6863,73453,35477,38628],function(){return e(e.s=810646)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/business/business-manager/[userBizId]/invoice-management-a34c6c97c3a87bee.js.map