(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2540],{165027:function(e,t,s){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/business/business-hierarchy/[businessHierarchyId]/hierarchy"]=function(){return s(72686).Z}},401174:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var n=s(67347),r=function(e,t,s){var r=new window.Windows.Storage.Pickers.FileSavePicker;r.suggestedStartLocation=window.Windows.Storage.Pickers.PickerLocationId.documentsLibrary,r.fileTypeChoices.insert("Comma Seperated Values",[".csv"]),r.suggestedFileName=e,r.pickSaveFileAsync().then(function(e){e&&(window.Windows.Storage.CachedFileManager.deferUpdates(e),window.Windows.Storage.FileIO.writeTextAsync(e,t).then(function(){return window.Windows.Storage.CachedFileManager.completeUpdatesAsync(e)}).done(function(e){e===window.Windows.Storage.Provider.FileUpdateStatus.complete?(0,n.nP)("".concat(s,".ui.export_csv.windows_completed_download"),{sampleRate:1}):(0,n.nP)("".concat(s,".ui.export_csv.windows_unable_to_start_download"),{sampleRate:1})}))})},i=function(e,t){if(document.body){var s=document.body,n=document.createElement("a");n.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",s.appendChild(n),n.click(),s.removeChild(n)}};function o(e,t){if(e&&"output"in e){var s=navigator;document.body?window.Windows?r(e.filename,e.output,t):s.msSaveBlob?navigator.msSaveBlob(new Blob([e.output],{type:"text/csv;charset=utf-8"}),e.filename):i(e.filename,e.output):(0,n.nP)("".concat(t,".ui.export_csv.unable_to_start_download"),{sampleRate:1})}}},292474:function(e,t,s){"use strict";var n=s(76911),r=s(908390),i=s(515198);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}t.Z=function(e){var t,s=e.avatar,l=e.accountDisplay,a=e.actionButtons,c=e.onClick,u=e.selected,d=e.disabled,_=e.minHeight,p=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return o(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=p[0],h=p[1],b="default";void 0!==u&&u?b="selected":m&&(b="secondary");var f=(void 0===a?[]:a).map(function(e){return e.hoverOnly&&!m?(0,i.jsx)(r.xu,{width:40},"".concat(e.key,"-hidden")):(0,i.jsx)(r.kC,{width:40,alignItems:"center",justifyContent:"center",children:e.button},e.key)});return(0,i.jsx)(r.iP,{onTap:void 0!==d&&d?function(){}:c,onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},children:(0,i.jsx)(r.xu,{rounding:2,color:b,padding:2,children:(0,i.jsxs)(r.kC,{justifyContent:"between",alignItems:"center",minHeight:void 0===_?40:_,children:[(0,i.jsxs)(r.kC,{justifyContent:"start",alignItems:"center",children:[(0,i.jsx)(r.xu,{children:s}),(0,i.jsx)(r.xu,{paddingX:s?3:1,children:l})]}),(0,i.jsx)(r.kC,{children:f})]})})})}},585790:function(e,t,s){"use strict";s.d(t,{Z:function(){return y}});var n=s(908390),r=s(292474),i=s(22388),o=s(847047);s(210407);var l=s(898781),a=s(515198),c=function(e){var t=e.onClick,s=e.selected,n=e.padding,r=void 0===n?3:n,i=e.auxData,c=(0,l.ZP)();return(0,a.jsx)(o.Z,{accessibilityLabel:c._('Open asset panel for business', '[m10n]accountSwitcher.actionButton.openAssetPanel', 'Accessibility label for button allowing users to select an asset account (ad account, profile) from the account switcher list.'),elementType:13812,icon:"arrow-forward",onClick:t,size:"xs",padding:0===r?void 0:r,iconColor:s?"white":"darkGray",auxData:i})},u=s(200011),d=s(505025),_=s(812173),p=s(410841),m=s(356997),h=s(349700),b=s(773285),f=s(19121),y=function(e){var t=e.account,s=e.childOfHierarchy,o=e.viewerRoles,y=(0,l.ZP)(),A=(0,_.d9)(),S=A.selectedAccount,v=A.openAssetPanel,g=(0,f.Z)(),x=(0,p.Z)(g),P=g.id===t.id,C=(0,(0,b.F)().checkExperiment)("web_m10n_business_access_2023_holiday_2fa_ad_account_dropdown").anyEnabled,j=t.requires_mfa_for_roles||[],E=j.length>0,I=(!s&&C?!P&&E&&j.filter(function(e){return null==o?void 0:o.includes(e)}).length>0:!P&&E)&&!g.has_mfa_enabled&&!x,w=t.user.full_name||"",z=t.user.image_medium_url||t.user.image_small_url||"",O=t.id===(null==S?void 0:S.id)||t.user.id===(null==S?void 0:S.id),T="default";I?T="subtle":O&&(T="inverse");var N=function(){return v(t.user.id)},B=I?[{key:"mfa-settings-".concat(t.id),button:(0,a.jsx)(i.Z,{}),hoverOnly:!1}]:[{key:"select-business-".concat(t.user.id),button:(0,a.jsx)(u.Z,{accountType:d.Oz.BUSINESS_ACCOUNT,business:{id:t.user.id,name:t.user.full_name||"",img:t.user.image_medium_url||""},selected:O}),hoverOnly:!0},{key:"open-asset-panel-".concat(t.id),button:(0,a.jsx)(c,{onClick:N,selected:O,padding:0,auxData:{asset_type:d.Oz.BUSINESS_ACCOUNT,business_id:t.id}}),hoverOnly:!0}];return(0,a.jsx)(n.xu,{"data-test-id":"".concat(I?"disabled-":"","business-account-row-").concat(t.user.id).concat(O?"-selected":""),width:"100%",children:(0,a.jsx)(r.Z,{avatar:I?(0,a.jsx)(n.xu,{color:"inverse",rounding:"circle",padding:2,children:(0,a.jsx)(n.JO,{accessibilityLabel:y._('Account locked', '[m10n]accountSwitcher.accountList.businessAccountRow.lockIconLabel', 'Accessibility label indicating to the user that the icon represents a locked account.'),icon:"lock",color:"inverse"})}):(0,a.jsx)(m.qE,{name:w,src:z,size:"sm"}),accountDisplay:(0,a.jsxs)(n.xu,{children:[(0,a.jsx)(n.xv,{weight:"bold",size:"200",color:T,lineClamp:1,children:w}),(0,a.jsx)(n.xv,{size:"100",color:T,children:(0,h.nk)(y._('ID: {{accountId}}', '[m10n]accountSwitcher.accountList.businessAccountRow.id', 'Label for account ID, accountId: id of the account'),{accountId:t.user.id})})]}),actionButtons:B,onClick:N,selected:O,disabled:I,minHeight:0})})}},443786:function(e,t,s){"use strict";s.d(t,{Dt:function(){return x},wF:function(){return g}});var n=s(76911),r=s(908390),i=s(292474),o=s(585790),l=s(753693),a=s(22388),c=s(200011),u=s(505025),d=s(812173),_=s(407043),p=s(378518),m=s(869636),h=s(356997),b=s(898781),f=s(349700),y=s(780280),A=s(19121),S=s(515198);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var g=(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"50",viewBox:"0 0 13 50",fill:"none",children:(0,S.jsx)("path",{d:"M1 0V25M1 25H13M1 25V50",stroke:"#E9E9E9",strokeWidth:"2"})}),x=(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"50",viewBox:"0 0 13 50",fill:"none",children:(0,S.jsx)("path",{d:"M1 0V17C1 21.4183 4.58172 25 9 25H13",stroke:"#E9E9E9",strokeWidth:"2"})}),P=function(e){var t=e.name,s=e.color,n=e.id,i=(0,b.ZP)();return(0,S.jsxs)(r.xu,{children:[(0,S.jsx)(r.xv,{weight:"bold",size:"200",color:s,lineClamp:1,children:t}),(0,S.jsx)(r.xv,{size:"100",color:s,children:(0,f.nk)(i._('ID: {{accountId}}', '[m10n]accountSwitcher.accountList.businessHierarchyRow.id', 'Label for account ID, accountId: id of the account'),{accountId:n})})]})};t.ZP=function(e){var t,s=e.account,f=(0,b.ZP)(),C=(0,_.v)().logContextEvent,j=(0,d.d9)().selectedHierarchyId,E=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!0))||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return v(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),I=E[0],w=E[1],z=(0,A.Z)();(0,m.Z)(1000483);var O=(0,p._)({id:1000483}),T=(null==O?void 0:O.experience_id)===505651,N=(0,y.B)().sterlingOnSteroidsLdap,B=!T&&!N&&!z.has_mfa_enabled,k=s.id===j,D=[{key:"mfa-settings-hierarchy-".concat(s.id),button:(0,S.jsx)(a.Z,{}),hoverOnly:!1}],R=s.children.length>0?[{key:"select-business-".concat(s.id),button:(0,S.jsx)(c.Z,{accountType:u.Oz.BUSINESS_HIERARCHY,business:{id:s.id,name:s.name,img:s.img_medium_url},selected:k,tooltipText:f._('Visit business hierarchy', '[m10n]accountSwitcher.actionButton.selectBusinessHierarchy.tooltip', 'Helper text within a tooltip letting users know button will navigate them to the Business Hierarchy home page.'),icon:"business-hierarchy"}),hoverOnly:!0},{key:"expand-hierarchy-".concat(s.id),button:(0,S.jsx)(l.Z,{isExpanded:I,selected:k,accessibilityLabel:I?f._('Expanded business hierarchy row caret icon', '[m10n]accountSwitcher.actionButton.expandedBusinessHierarchyCaretIcon', 'Accessibility label for expanded business hierarchy row caret icon'):f._('Collapsed business hierarchy row caret icon', '[m10n]accountSwitcher.actionButton.collapsedBusinessHierarchyRowCaretIcon', 'Accessibility label for collapsed business hierarchy caret icon')}),hoverOnly:!1}]:[],L="default";return B?L="subtle":k&&(L="inverse"),(0,S.jsxs)(r.xu,{"data-test-id":"".concat(B?"disabled-":"","business-hierarchy-row-").concat(s.id).concat(k?"-selected":""),children:[(0,S.jsx)(i.Z,{avatar:B?(0,S.jsx)(r.xu,{color:"inverse",rounding:"circle",padding:2,children:(0,S.jsx)(r.JO,{accessibilityLabel:f._('Account locked', '[m10n]accountSwitcher.accountList.businessHierachyRow.lockIconLabel', 'Accessibility label indicating to the user that the icon represents a locked account.'),icon:"lock",color:"inverse"})}):(0,S.jsx)(h.qE,{name:s.name,src:s.img_medium_url,size:"sm"}),accountDisplay:(0,S.jsx)(P,{name:s.name,color:L,id:s.id}),actionButtons:B?D:R,onClick:function(){w(!I),C({event_type:101,view_type:608,component:14346,element:13809,aux_data:{}})},selected:k,disabled:B}),I&&!B&&(0,S.jsx)(r.xu,{children:s.children.map(function(e,t){return(0,S.jsxs)(r.kC,{children:[(0,S.jsx)(r.xu,{alignContent:"center",alignItems:"center",display:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"22px"}},children:t===s.children.length-1?x:g}),(0,S.jsx)(r.kC,{alignItems:"center",flex:"grow",children:(0,S.jsx)(o.Z,{account:e,childOfHierarchy:!0},"business-account-".concat(e.id))})]},"business-account-".concat(e.id))})})]})}},847047:function(e,t,s){"use strict";s(908390);var n=s(210407),r=s(515198);t.Z=function(e){var t=e.accessibilityLabel,s=e.bgColor,i=e.dangerouslySetSvgPath,o=e.dataTestId,l=e.disabled,a=e.icon,c=e.iconColor,u=e.onClick,d=e.name,_=e.accessibilityControls,p=e.accessibilityExpanded,m=e.accessibilityHaspopup,h=e.selected,b=e.padding,f=e.tabIndex,y=e.tooltip,A=e.size,S=e.elementType,v=e.auxData;return(0,r.jsx)(n.hU,{accessibilityLabel:t,bgColor:s,dangerouslySetSvgPath:i,dataTestId:o,disabled:l,icon:a,iconColor:c,onClick:function(e){var t=e.event;t.stopPropagation(),null==u||u({event:t})},name:d,padding:b,tabIndex:f,tooltip:y,size:void 0===A?"md":A,accessibilityControls:_,accessibilityExpanded:p,accessibilityHaspopup:m,selected:h,type:"button",logEventProps:{view:608,componentType:14346,elementType:S,auxData:void 0===v?{}:v}})}},753693:function(e,t,s){"use strict";var n=s(908390),r=s(515198);t.Z=function(e){var t=e.isExpanded,s=e.selected,i=e.accessibilityLabel;return(0,r.jsx)(n.xu,{padding:3,children:(0,r.jsx)(n.JO,{size:12,icon:t?"arrow-up":"arrow-down",accessibilityLabel:i,color:s?"light":"dark"})})}},22388:function(e,t,s){"use strict";var n=s(908390),r=s(407043),i=s(898781),o=s(401060),l=s(977558),a=s(515198);t.Z=function(){var e=(0,i.ZP)(),t=(0,r.v)().logContextEvent,s=(0,o.Z)({site:"www",path:"/settings/security"});return(0,a.jsx)(n.u,{text:e._('This business requires two factor authentication to be turned on to access their assets', '[m10n]accountSwitcher.actionButton.mfaSettings.tooltip', 'Helper text within a tooltip explaining that users need to enable two factor authentication by clicking on a button link.'),zIndex:new n.Ry(l.fe),children:(0,a.jsx)(n.ZP,{accessibilityLabel:e._('Account access settings', '[m10n]accountSwitcher.actionButton.mfaSettings.accessibility', 'Accessibility label for button allowing users view the access settings for an account'),color:"red",href:s,onClick:function(){t({event_type:101,view_type:608,component:14346,element:13811})},text:e._('Settings', '[m10n]accountSwitcher.actionButton.mfaSettings.text', 'Text for button allowing users view the access settings for an account'),size:"sm"})})}},200011:function(e,t,s){"use strict";var n=s(908390),r=s(847047),i=s(812173),o=s(453933),l=s(898781),a=s(977558),c=s(515198);t.Z=function(e){var t=e.business,s=e.accountType,u=e.selected,d=e.tooltipText,_=e.icon,p=(0,l.ZP)(),m=(0,o.C)().switchAccount,h=(0,i.d9)(),b=h.closeAccountSwitcher,f=h.setSelectedAccount,y=h.setActingBusiness;return(0,c.jsx)(n.u,{text:d||p._('Visit Business Manager', '[m10n]accountSwitcher.actionButton.selectBusienss.tooltip', 'Helper text within a tooltip letting users know button will nagivate them to the Business Manager home page.'),zIndex:new n.Ry(a.fe),children:(0,c.jsx)(r.Z,{accessibilityLabel:p._('Select business account', '[m10n]accountSwitcher.actionButton.selectBusiness', 'Accessibility label for button allowing users to select a business account from the account switcher list.'),elementType:13814,icon:_||"briefcase",size:"sm",onClick:function(){f({type:s,id:t.id,name:t.name,img:t.img}),y({id:t.id,name:t.name,img:t.img}),m(t.id,s),b()},auxData:{business_id:t.id,asset_type:s},iconColor:u?"white":"darkGray"})})}},782534:function(e,t,s){"use strict";s.d(t,{k:function(){return n.k}});var n=s(451820),r=s(780280),i=s(515198);t.Z=function(e){var t=e.dateFormatType,s=e.useUTC,o=void 0===s||s,l=e.value;return(0,i.jsx)(r.LC,{children:function(e){return(0,n.Z)(e.locale,l,t,o)}})}},444691:function(e,t,s){"use strict";var n=s(515198),r=(0,n.jsxs)("svg",{"data-test-id":"ill-error-md-2",fill:"none",height:"117",width:"157",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("mask",{fill:"#fff",id:"a",children:(0,n.jsx)("path",{clipRule:"evenodd",d:"M124.215 69.266c-2.211 3.46-4.411 6.34-6.23 8.445A27.778 27.778 0 0 0 129.064 80c15.42 0 27.924-12.526 27.929-27.977.003-12.936-8.755-23.82-20.654-27.023.609 2.69.432 6.497-.152 10.585 6.333 2.755 10.761 9.078 10.759 16.438-.003 9.891-8.008 17.91-17.88 17.91-1.681 0-3.308-.232-4.851-.667z",fillRule:"evenodd"})}),(0,n.jsx)("path",{d:"M148.75 91.5c0 2.984-1.777 6.017-5.427 8.951-3.639 2.925-8.98 5.615-15.692 7.897-13.411 4.56-32.02 7.402-52.63 7.402s-39.22-2.842-52.632-7.402c-6.711-2.282-12.053-4.972-15.692-7.897-3.65-2.934-5.427-5.967-5.427-8.951s1.777-6.017 5.427-8.951c3.639-2.925 8.98-5.615 15.693-7.897C35.78 70.092 54.389 67.25 75 67.25s39.22 2.842 52.631 7.402c6.712 2.282 12.053 4.972 15.692 7.897 3.65 2.934 5.427 5.967 5.427 8.951z",fill:"#fff",stroke:"#111",strokeWidth:"2.5"}),(0,n.jsx)("path",{clipRule:"evenodd",d:"M124.215 69.266c-2.211 3.46-4.411 6.34-6.23 8.445A27.778 27.778 0 0 0 129.064 80c15.42 0 27.924-12.526 27.929-27.977.003-12.936-8.755-23.82-20.654-27.023.609 2.69.432 6.497-.152 10.585 6.333 2.755 10.761 9.078 10.759 16.438-.003 9.891-8.008 17.91-17.88 17.91-1.681 0-3.308-.232-4.851-.667z",fill:"#fff",fillRule:"evenodd"}),(0,n.jsx)("path",{d:"m124.215 69.266.679-2.406-1.786-.504-.999 1.564zm-6.23 8.445-1.891-1.634-2.225 2.574 3.121 1.354zM136.339 25l.65-2.414-4.005-1.078.916 4.045zm-.152 10.585-2.475-.353-.27 1.886 1.747.76zM122.109 67.92c-2.148 3.36-4.277 6.146-6.015 8.157l3.783 3.268c1.899-2.197 4.17-5.175 6.444-8.733zm-5.119 12.085a30.278 30.278 0 0 0 12.073 2.495l.001-5c-3.587 0-6.995-.743-10.083-2.083zm12.073 2.495c16.806 0 30.425-13.65 30.43-30.477h-5c-.004 14.075-11.394 25.477-25.429 25.477zm30.43-30.477c.003-14.092-9.538-25.948-22.504-29.437l-1.301 4.828c10.833 2.915 18.808 12.829 18.805 24.608zM133.9 25.553c.503 2.22.389 5.644-.188 9.68l4.95.706c.592-4.142.831-8.331.115-11.492zm15.546 26.47c.002-8.388-5.047-15.592-12.261-18.73l-1.996 4.585a15.41 15.41 0 0 1 9.257 14.145zm-20.381 20.41c11.258 0 20.378-9.143 20.381-20.41h-5c-.002 8.516-6.893 15.41-15.379 15.41zm-5.529-.76a20.35 20.35 0 0 0 5.529.76l.002-5c-1.45 0-2.849-.2-4.173-.573z",fill:"#111",mask:"url(#a)"}),(0,n.jsx)("path",{d:"M141.74 25.979c-.631 38.158-30.158 68.77-66.037 68.77-35.879 0-65.8-30.938-66.442-69.098z",fill:"#fff",stroke:"#111",strokeWidth:"2.5"}),(0,n.jsx)("path",{d:"M141.75 24.732c0 2.917-1.609 5.855-4.873 8.682-3.26 2.824-8.05 5.424-14.077 7.633-12.045 4.413-28.768 7.167-47.3 7.167-18.532 0-35.255-2.754-47.3-7.167-6.027-2.209-10.817-4.809-14.077-7.633-3.263-2.827-4.873-5.765-4.873-8.682 0-2.917 1.61-5.855 4.873-8.682 3.26-2.824 8.05-5.424 14.078-7.632C40.245 4.004 56.968 1.25 75.5 1.25c18.531 0 35.254 2.754 47.299 7.168 6.027 2.208 10.817 4.808 14.077 7.632 3.264 2.827 4.873 5.765 4.873 8.682z",fill:"#fff",stroke:"#111",strokeWidth:"2.5"}),(0,n.jsx)("ellipse",{cx:"57.5",cy:"22",fill:"#111",rx:"3.5",ry:"2"}),(0,n.jsx)("ellipse",{cx:"92.5",cy:"22",fill:"#111",rx:"3.5",ry:"2"}),(0,n.jsxs)("g",{stroke:"#111",strokeWidth:"2.5",children:[(0,n.jsx)("path",{d:"M55 36c6.982-4.528 24.556-10.867 39 0",strokeLinecap:"round"}),(0,n.jsx)("path",{d:"M9 28C15.46 16.577 42.755 8 75.448 8c32.015 0 58.387 8.165 65.552 19.233"})]})]});t.Z=r},932014:function(e,t,s){"use strict";var n=s(908390),r=s(121151),i=s(898781),o=s(515198),l=function(e){var t=e.bulletPoint,s=(0,i.ZP)();return(0,o.jsxs)(n.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[!t.noBulletPoint&&(0,o.jsx)(n.xu,{width:30,children:t.icon||(0,o.jsx)(n.JO,{accessibilityLabel:s._('bullet point icon', '[m10n].bizAccess.baseFeatureIntro.bulletPoint.a11y', 'accessibilityLabel for third bullet point on ad accounts introduction modal'),color:"dark",icon:"check-circle",size:24})}),(0,o.jsx)(n.xu,{children:t.content})]})};t.Z=function(e){var t=e.modalAccessibilityLabel,s=e.dismiss,a=e.image,c=e.heading,u=e.subtext,d=e.bulletPoints,_=e.primaryButton,p=e.secondaryButton,m=(0,i.ZP)();return(0,o.jsx)(r.ZP,{accessibilityModalLabel:t,onDismiss:function(){},size:832,children:(0,o.jsxs)(n.kC,{width:"100%",children:[(0,o.jsx)(n.kC.Item,{flexBasis:a.width||320,children:(0,o.jsx)(n.xu,{height:a.height||480,children:a.image})}),(0,o.jsx)(n.kC.Item,{flex:"grow",flexBasis:0,children:(0,o.jsxs)(n.xu,{direction:"column",display:"flex",height:a.height||480,justifyContent:"between",padding:6,children:[(0,o.jsxs)(n.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,o.jsxs)(n.kC,{alignItems:"center",gap:4,justifyContent:"between",children:[(0,o.jsx)(n.X6,{size:"500",children:c}),(0,o.jsx)(n.hU,{accessibilityLabel:m._('Cancel button to close this modal', '[m10n]bizAccess.baseFeatureIntro.cancel', '[m10n] Experience modal cancel button accessibilityLabel'),dataTestId:"dismiss-bm-intro-modal",icon:"cancel",onClick:s,size:"lg"})]}),(0,o.jsxs)(n.xu,{children:[(0,o.jsx)(n.xu,{marginBottom:u?4:0,marginTop:6,children:u}),(0,o.jsx)(n.kC,{direction:"column",gap:4,children:d.map(function(e,t){return(0,o.jsx)(l,{bulletPoint:e},t)})})]})]}),(0,o.jsxs)(n.kC,{alignItems:"center",gap:2,height:48,justifyContent:"end",children:[p&&(0,o.jsx)(n.zx,{color:"gray",onClick:p.onClick,text:p.text}),(0,o.jsx)(n.zx,{color:"red",onClick:_.onClick,text:_.text})]})]})})]})})}},92317:function(e,t,s){"use strict";s.d(t,{J:function(){return m},Z:function(){return h}});var n=s(76911),r=s(908390),i=s(15099),o=s(898781),l=s(479831),a=s(434469),c=s(495685),u=s(212125),d=s(515198);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return p(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var m={AD_ACCOUNTS:0,ASSET_GROUPS:1,PROFILES:2};function h(e){var t=e.pageType,s=e.closePanels,p=e.adAccounts,h=e.adAccountsIsLoading,b=e.adAccountsFetchData,f=e.adAccountsColumnDefs,y=e.adAccountsTableConfiguration,A=e.adAccountsOnRowClick,S=e.profiles,v=e.profilesIsLoading,g=e.profilesTableConfiguration,x=e.profilesFetchData,P=e.profilesColumnDefs,C=e.profilesOnRowClick,j=e.profilesSearchTermSelector,E=e.owners,I=e.ownersError,w=e.assetGroupsTable,z=e.expandedIndex,O=e.setExpandedIndex,T=(0,o.ZP)(),N=_((0,n.useState)(null),2),B=N[0],k=N[1],D=_((0,n.useState)(null),2),R=D[0],L=D[1],H=_((0,n.useState)(null),2),U=H[0],Z=H[1],F=(0,i.ZP)((0,i.QK)(t));(0,n.useEffect)(function(){s&&null===z&&(k(null),L(null),Z(null))},[s,z]);var M=function(e){null==O||O(m.AD_ACCOUNTS),k(0===e?0:null),L(null),Z(null),b&&!h&&0===e&&b({limit:u.T[0]}),F({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"".concat(t.toLowerCase().replaceAll("_","-"),"-ad-accounts-expandable"),element:"BUSINESS_ACCESS_TAP",elementId:0===e?"expanded":"contracted"})},Y=function(e){null==O||O(m.ASSET_GROUPS),k(null),L(0===e?0:null),Z(null),null!=w&&w.assetGroupsFetchData&&!w.assetGroupsIsLoading&&0===e&&w.assetGroupsFetchData({limit:u.T[0]}),F({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"".concat(t.toLowerCase().replaceAll("_","-"),"-asset-groups-expandable"),element:"BUSINESS_ACCESS_TAP",elementId:0===e?"expanded":"contracted"})},G=function(e){null==O||O(m.PROFILES),Z(0===e?0:null),L(null),k(null),x&&!v&&0===e&&x({limit:u.T[0]}),F({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"".concat(t.toLowerCase().replaceAll("_","-"),"-profiles-expandable"),element:"BUSINESS_ACCESS_TAP",elementId:0===e?"expanded":"contracted"})},W=(0,n.useRef)(z),Q=(0,n.useRef)(M),q=(0,n.useRef)(Y),K=(0,n.useRef)(G);return(0,n.useEffect)(function(){switch(W.current){case m.AD_ACCOUNTS:Q.current(0);break;case m.PROFILES:K.current(0);break;case m.ASSET_GROUPS:q.current(0);break;default:k(null),L(null),Z(null)}},[W,Q,q,K]),(0,d.jsxs)(r.xu,{children:[(0,d.jsx)(r.xu,{"data-test-id":"asset-groups-ad-accounts-expandable",children:(0,d.jsx)(r.UQ.Expandable,{accessibilityCollapseLabel:T._('Hide ad accounts', '[m10n]businessAccess.assets.adAccounts.expandable.collapse', 'Accesibility label for expandable component to hide ad accounts'),accessibilityExpandLabel:T._('Show ad accounts', '[m10n]businessAccess.assets.adAccounts.expandable.expand', 'Accesibility label for expandable component to show ad accounts'),expandedIndex:B,id:"adAccountExpandable",items:[{title:T._('Ad accounts', '[m10n]businessAccess.assets.adAccounts.expandable.title', 'ad account expandable title'),children:(0,d.jsx)(l.Z,{adAccounts:p,adAccountsColumnDefs:f,adAccountsFetchData:b,adAccountsIsLoading:h,adAccountsOnRowClick:A,adAccountsTableConfiguration:y,owners:E,ownersError:I,pageType:t})}],onExpandedChange:M})}),w&&(0,d.jsx)(r.xu,{marginTop:4,children:(0,d.jsx)(r.xu,{"data-test-id":"asset-groups-expandable",children:(0,d.jsx)(r.UQ.Expandable,{accessibilityCollapseLabel:T._('Hide asset groups', '[m10n]businessAccess.assets.groups.expandable.collapse', 'Accesibility label for expandable component to hide asset groups'),accessibilityExpandLabel:T._('Show asset groups', '[m10n]businessAccess.assets.groups.expandable.expand', 'Accesibility label for expandable component to show asset groups'),expandedIndex:R,id:"assetGroupsExpandable",items:[{title:T._('Asset groups', '[m10n]businessAccess.assets.groups.expandable.title', 'profiles expandable title'),children:(0,d.jsx)(a.Z,{assetGroups:w.assetGroups,assetGroupsColumnDefs:w.assetGroupsColumnDefs,assetGroupsFetchData:w.assetGroupsFetchData,assetGroupsIsLoading:w.assetGroupsIsLoading,assetGroupsOnRowClick:w.assetGroupsOnRowClick,assetGroupsSearchTermSelector:w.assetGroupsSearchTermSelector,assetGroupsTableConfiguration:w.assetGroupsTableConfiguration,pageType:t})}],onExpandedChange:Y})})}),(0,d.jsx)(r.xu,{marginTop:4,children:(0,d.jsx)(r.xu,{"data-test-id":"asset-groups-profiles-expandable",children:(0,d.jsx)(r.UQ.Expandable,{accessibilityCollapseLabel:T._('Hide profiles', '[m10n]businessAccess.assets.profiles.expandable.collapse', 'Accesibility label for expandable component to hide profiles'),accessibilityExpandLabel:T._('Show profiles', '[m10n]businessAccess.assets.profiles.expandable.expand', 'Accesibility label for expandable component to show profiles'),expandedIndex:U,id:"profilesExpandable",items:[{title:T._('Profiles', '[m10n]businessAccess.assets.profiles.expandable.title', 'profiles expandable title'),children:(0,d.jsx)(c.Z,{pageType:t,profiles:S,profilesColumnDefs:P,profilesFetchData:x,profilesIsLoading:v,profilesOnRowClick:C,profilesSearchTermSelector:j,profilesTableConfiguration:g})}],onExpandedChange:G})})})]})}},253185:function(e,t,s){"use strict";var n=s(76911),r=s(506979),i=s(599689),o=s(908390),l=s(401174),a=s(443786),c=s(186656),u=s(356997),d=s(499128),_=s(898781),p=s(53987),m=s(773285),h=s(343341),b=s(619357),f=s(515198);function y(e,t,s,n,r,i,o){try{var l=e[i](o),a=l.value}catch(e){s(e);return}l.done?t(a):Promise.resolve(a).then(n,r)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return S(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var v=function(e){var t,s,n,r,i=e.title,l=e.subtitle,a=e.isMarked,c=e.isSelected,d=e.isHovered,_=e.user,p=e.isChild;return(null==_?void 0:_.entity_type)==="USER"?(n=_.full_name,r=_.image_medium_url):(null==_?void 0:_.entity_type)==="BUSINESS_HIERARCHY"&&(n=_.name,r=_.img_medium_url),(0,f.jsx)(o.xu,{color:c&&"inverse"||d&&"secondary"||void 0,maxWidth:p?227:void 0,padding:2,rounding:2,children:(0,f.jsxs)(o.kC,{alignContent:"center",alignItems:"center",gap:2,children:[_&&(0,f.jsx)(u.qE,{name:null!==(t=n)&&void 0!==t?t:"",size:"sm",src:null!==(s=r)&&void 0!==s?s:""}),(0,f.jsxs)(o.kC.Item,{flex:"grow",children:[(0,f.jsx)(o.xv,{color:c?"inverse":"default",lineClamp:1,size:"200",weight:"bold",children:i}),(0,f.jsx)(o.xv,{color:c?"inverse":"subtle",lineClamp:1,size:"100",children:l})]}),a&&(0,f.jsx)(o.xu,{color:"primary",height:8,rounding:"circle",width:8})]})})};t.Z=function(e){var t,s,u=e.controls,S=e.parent,g=e.items,x=e.logger,P=e.searchBy,C=e.searchPlaceholder,j=e.onItemClick,E=e.titlePerItem,I=e.subtitlePerItem,w=e.markPerItem,z=e.maxHeight,O=e.shouldScroll,T=e.loading,N=e.selectedItemId,B=(0,_.ZP)(),k=(0,r.useSelector)(b.mW),D=N||k,R=A((0,n.useState)(null),2),L=R[0],H=R[1],U=A((0,n.useState)(""),2),Z=U[0],F=U[1],M=A((0,n.useState)(null),2),Y=M[0],G=M[1],W=(0,m.F)().checkExperiment,Q=W("web_m10n_business_hierarchy_beta").anyEnabled,q=W("web_business_access_business_hierarchy_invite_flow").anyEnabled,K=(0,h.F9)().showToast,V=(0,i.useLocation)(),$=function(e){H(e),null==j||j(e)},J=function(e){return function(){$(e),x&&x({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"business-side-panel",element:"BUSINESS_ACCESS_LINK",elementId:"business-side-panel-list-item",selected_business_id:e.id})}},X=function(e){return function(){G(e)}},ee=function(){G(null)},et=function(){K(function(e){var t=e.hideToast;return(0,f.jsx)(d.ZP,{duration:3e3,onHide:t,text:B._('Export error! Please try again.', '[m10n]bizAccess.sidePanel.toast.export.error', 'Informs the user that there was an error when attempting to export hierarchy permissions, in a toast.')})})};(0,n.useEffect)(function(){if(g&&g.length>0){var e=g.findIndex(function(e){return e.id===D});D&&e>=0?$(g[e]):L&&g.includes(L)?$(L):Q&&S?$(S):$(A(g,1)[0])}},[g,L,S]);var es=g&&P&&Z?g.filter(function(e){return P(Z.toLowerCase(),e)}):g||[],en=(null==S?void 0:S.id)===(null==L?void 0:L.id),er=(null==S?void 0:S.id)===(null==Y?void 0:Y.id),ei=(t=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,S){e.next=4;break}return et(),e.abrupt("return");case 4:return e.next=6,(0,c.Z)({url:"/ads/v4/business_access/business_hierarchy/".concat(S.id,"/export/"),method:"GET",callOptions:{async:!0}});case 6:(t=e.sent).resource_response?(0,l.Z)(t.resource_response.data,"business_hierarchy"):et(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),et();case 13:case"end":return e.stop()}},e,null,[[0,10]])}),s=function(){var e=this,s=arguments;return new Promise(function(n,r){var i=t.apply(e,s);function o(e){y(i,n,r,o,l,"next",e)}function l(e){y(i,n,r,o,l,"throw",e)}o(void 0)})},function(){return s.apply(this,arguments)});return(0,f.jsxs)(o.kC,{dataTestId:"business-side-panel",direction:"column",flex:"grow",gap:2,height:"100%",maxHeight:z,children:[(0,f.jsxs)(o.xu,{children:[!!P&&(0,f.jsx)(o.Um,{accessibilityLabel:B._('Search items', '[m10n]bizAccess.sidePanel.search.a11y', 'A11y label for search items component'),id:"business-side-panel-search",onChange:function(e){var t=e.value;F(t),x&&x({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"business-side-panel",element:"BUSINESS_ACCESS_FIELD",elementId:"business-side-panel-search",search_value:t})},onFocus:function(){x&&x({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"business-side-panel",element:"BUSINESS_ACCESS_FIELD",elementId:"business-side-panel-search"})},placeholder:C,value:Z}),(0,f.jsx)(o.xu,{marginTop:2}),!!u&&(0,f.jsx)(o.xu,{"data-test-id":"business-side-panel-controls",children:u})]}),Q&&(0,p.dK)(V)&&!q&&(0,f.jsx)(o.xu,{"data-test-id":"business-side-panel-export",children:(0,f.jsx)(o.u,{text:B._('Export .csv file of all employees and partners', '[m10n]bizAccess.sidePanel.button.export.tooltip', 'Explanation of what the export button will do when clicked, when hovered over in a tooltip.'),children:(0,f.jsx)(o.zx,{fullWidth:!0,iconEnd:"download",onClick:function(){x&&x({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"business-side-panel",element:"BUSINESS_ACCESS_BUTTON",elementId:"business-side-panel-export"}),ei()},size:"md",text:B._('Export', '[m10n]bizAccess.sidePanel.button.export.label', 'Text to display on the button that will export business hierarchy permissions')})})}),(0,f.jsx)(o.kC.Item,{flex:"grow",children:(0,f.jsx)(o.xu,{height:"100%",overflow:O?"auto":"visible",children:(0,f.jsxs)(o.xu,{"data-test-id":"business-side-panel-list",children:[S&&(0,f.jsx)(o.iP,{onMouseEnter:X(S),onMouseLeave:ee,onTap:J(S),children:(0,f.jsx)(o.xu,{"data-test-id":"business-side-panel-parent",children:(0,f.jsx)(v,{isHovered:er,isSelected:en,title:S.name,user:S})})},S.id),(0,f.jsxs)(o.xu,{children:[T&&(0,f.jsx)(o.xu,{flex:"grow",height:"100%",padding:4,rounding:4,children:(0,f.jsx)(o.kC,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"center",children:(0,f.jsx)(o.$j,{show:!0,size:"md"})})}),!T&&es&&es.map(function(e,t){var s=e.id===(null==L?void 0:L.id),n=e.id===(null==Y?void 0:Y.id);return(0,f.jsxs)(o.kC,{children:[S&&(0,f.jsx)(o.xu,{alignContent:"center",alignItems:"center",dangerouslySetInlineStyle:{__style:{marginLeft:"22px"}},display:"flex",children:t===es.length-1?a.Dt:a.wF}),(0,f.jsx)(o.iP,{onMouseEnter:X(e),onMouseLeave:ee,onTap:J(e),children:(0,f.jsx)(o.xu,{"data-test-id":"business-side-panel-list-item-".concat(e.id),children:(0,f.jsx)(v,{isChild:!!S,isHovered:n,isMarked:null==w?void 0:w(e),isSelected:s,subtitle:I(e),title:E(e),user:e.user})})},e.id)]},e.id)})]})]})})})]})}},976556:function(e,t,s){"use strict";s.d(t,{$2:function(){return _},FW:function(){return p},H6:function(){return h},Z2:function(){return u},if:function(){return m},mz:function(){return c},uX:function(){return d},xu:function(){return a}});var n=s(908390),r=s(898781),i=s(349700),o=s(790039),l=s(515198),a="calc(100vh - 561px)",c=function(){var e=(0,r.ZP)();return(0,l.jsx)(n.xv,{color:"subtle",inline:!0,size:"200",children:(0,l.jsx)(n.rU,{accessibilityLabel:"visit https://help.pinterest.com/business/article/profile-permissions-in-business-access",display:"inlineBlock",href:"https://help.pinterest.com/business/article/profile-permissions-in-business-access",target:"blank",underline:"always",children:e._('Learn more', '[m10n]businessAccess.businessHierarchy.profile.learnMore', 'Text with link to a page to get more information about profile permissions')})})},u=function(){var e=(0,r.ZP)();return(0,l.jsx)(n.xv,{color:"subtle",inline:!0,size:"200",children:(0,l.jsx)(n.rU,{accessibilityLabel:"visit https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts",display:"inlineBlock",href:"https://help.pinterest.com/business/article/share-and-manage-access-to-your-ad-accounts",target:"blank",underline:"always",children:e._('Learn more', '[m10n]businessAccess.businessHierarchy.adAccount.learnMore', 'Text with link to a page to get more information about ad account permissions')})})},d=function(){var e=(0,r.ZP)(),t=(0,l.jsxs)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",minHeight:a,children:[(0,l.jsx)(n.xv,{size:"300",children:e._('No assigned employees', '[m10n]businessAccess.businessHierarchy.partnerProfile.empty.title', 'Title shown on panel to indicate that the profile has no assigned employees')}),(0,l.jsx)(n.xu,{marginTop:2,maxWidth:480,children:(0,l.jsx)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,l.jsx)(n.xv,{align:"center",color:"subtle",inline:!0,size:"200",children:(0,i.nk)(e._('Assign the Publisher permission to employees for them to work on your partner\'s profile, boards and Pins. {{learnMore}}', '[m10n]businessAccess.businessHierarchy.partnerProfile.empty.message', 'Message shown on panel to indicate that the profile has no assigned employees. learnMore: text with link to profile permissions help page'),{learnMore:(0,l.jsx)(c,{},1)})},0)})})]},"partner-profile-empty-state");return(0,l.jsx)(o.Z,{items:[t]})},_=function(){var e=(0,r.ZP)(),t=(0,l.jsxs)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",minHeight:a,children:[(0,l.jsx)(n.xv,{size:"300",children:e._('Your ad accounts will appear here', '[m10n]businessAccess.businessHierarchy.sharedPartnerAdAccount.empty.title', 'Title shown on panel to indicate that the shared partner has no ad accounts')}),(0,l.jsx)(n.xu,{marginTop:2,maxWidth:480,children:(0,l.jsx)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,l.jsx)(n.xv,{align:"center",color:"subtle",inline:!0,size:"200",children:(0,i.nk)(e._('Request access to your partner\'s ad accounts and assign employees to work on them. {{learnMore}}', '[m10n]businessAccess.businessHierarchy.sharedPartnerAdAccount.empty.message', 'Message shown on panel to indicate that the business has no permission to the ad accounts of the shared partner. learnMore: text with link to ad account permissions help page'),{learnMore:(0,l.jsx)(u,{},1)})},0)})})]},"shared-partner-ad-account-empty-state");return(0,l.jsx)(o.Z,{items:[t]})},p=function(){var e=(0,r.ZP)(),t=(0,l.jsxs)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",minHeight:a,children:[(0,l.jsx)(n.xv,{size:"300",children:e._('Your ad accounts will appear here', '[m10n]businessAccess.businessHierarchy.partnerAdAccount.empty.title', 'Title shown on panel to indicate that the partner has no ad accounts')}),(0,l.jsx)(n.xu,{marginTop:2,maxWidth:480,children:(0,l.jsx)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,l.jsx)(n.xv,{align:"center",color:"subtle",inline:!0,size:"200",children:(0,i.nk)(e._('Assign ad account access if you would like for your partner to work on them. {{learnMore}}', '[m10n]businessAccess.businessHierarchy.partnerAdAccount.empty.message', 'Message shown on panel to indicate that the partner has no permission to the ad accounts of your business. learnMore: text with link to ad account permissions help page'),{learnMore:(0,l.jsx)(u,{},1)})},0)})})]},"partner-ad-account-empty-state");return(0,l.jsx)(o.Z,{items:[t]})},m=function(){var e=(0,r.ZP)(),t=(0,l.jsx)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",minHeight:a,children:(0,l.jsx)(n.xv,{size:"300",children:e._('No assigned ad accounts', '[m10n]businessAccess.businessHierarchy.employeeAdAccount.empty.title', 'Title shown on panel to indicate that the employee has no ad accounts assgined')})},"employee-ad-account-empty-state");return(0,l.jsx)(o.Z,{items:[t]})},h=function(){var e=(0,r.ZP)(),t=(0,l.jsx)(n.kC,{alignItems:"center",direction:"column",justifyContent:"center",minHeight:a,children:(0,l.jsx)(n.xv,{size:"300",children:e._('No assigned profiles', '[m10n]businessAccess.businessHierarchy.employeeProfile.empty.title', 'Title shown on panel to indicate that the employee has no profiles assgined')})},"employee-profile-empty-state");return(0,l.jsx)(o.Z,{items:[t]})}},13648:function(e,t,s){"use strict";s.d(t,{J:function(){return y},Z:function(){return A}});var n=s(76911),r=s(506979),i=s(908390),o=s(326884),l=s(15099),a=s(898781),c=s(773285),u=s(213697),d=s(577868),_=s(16552),p=s(619357),m=s(212125),h=s(515198);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return f(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var y={EMPLOYEES:0,PARTNERS:1};function A(e){var t=e.pageType,s=e.closePanels,f=e.employees,A=e.employeesIsLoading,S=e.employeesTableConfiguration,v=e.employeesFetchData,g=e.employeesColumnDefs,x=e.employeesOnRowClick,P=e.partners,C=e.partnersIsLoading,j=e.partnersTableConfiguration,E=e.partnersFetchData,I=e.partnersColumnDefs,w=e.partnersOnRowClick,z=e.expandedIndex,O=e.setExpandedIndex,T=(0,a.ZP)(),N=b((0,n.useState)(null),2),B=N[0],k=N[1],D=b((0,n.useState)(null),2),R=D[0],L=D[1],H=(0,c.F)().checkExperiment("web_m10n_business_access_asset_groups_ga").anyEnabled,U=(0,u.Z)().containsSharedAssetOrAOAA,Z=U&&H&&t===o.Q6.ASSET_GROUPS,F=t!==o.Q6.ASSET_GROUPS||H&&!U,M=(0,l.ZP)((0,l.QK)(t));(0,n.useEffect)(function(){s&&null===z&&(k(null),L(null))},[s,z]);var Y=(0,r.useSelector)(p.mW);(0,n.useEffect)(function(){Z&&(null==E||E({limit:m.T[0]}))},[Y]);var G=function(e){null==O||O(y.EMPLOYEES),L(null),k(0===e?0:null),v&&!A&&0===e&&v({limit:m.T[0],searchTerm:""}),M({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"".concat(t.toLowerCase().replaceAll("_","-"),"-people-expandable"),element:"BUSINESS_ACCESS_TAP",elementId:0===e?"expanded":"contracted"})},W=function(e){null==O||O(y.PARTNERS),L(0===e?0:null),k(null),E&&!C&&0===e&&E({limit:m.T[0],searchTerm:""}),M({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"".concat(t.toLowerCase().replaceAll("_","-"),"-partners-expandable"),element:"BUSINESS_ACCESS_TAP",elementId:0===e?"expanded":"contracted"})},Q=(0,n.useRef)(z),q=(0,n.useRef)(G),K=(0,n.useRef)(W);return(0,n.useEffect)(function(){switch(Q.current){case y.EMPLOYEES:q.current(0);break;case y.PARTNERS:K.current(0);break;default:k(null),L(null)}},[Q,q,K]),(0,h.jsxs)(i.xu,{children:[Z?(0,h.jsxs)(i.xu,{children:[(0,h.jsx)(i.he,{message:T._('Assets within this group are associated with one or more partners. You may only add employees.', '[m10n].businessAccess.assetGroups.PeopleSection.membersOnly.callout', 'callout to show user that they can only add partners because assets within asset group are associated with a partner')}),(0,h.jsx)(i.xu,{marginTop:4,children:(0,h.jsx)(d.Z,{employees:f,employeesColumnDefs:g,employeesFetchData:v,employeesIsLoading:A,employeesOnRowClick:x,employeesTableConfiguration:S,pageType:t})})]}):(0,h.jsx)(i.xu,{"data-test-id":"asset-groups-employees-expandable",children:(0,h.jsx)(i.UQ.Expandable,{accessibilityCollapseLabel:T._('Hide employees', '[m10n]businessAccess.businessHierarchy.members.employees.expandable.collapse', 'Accesibility label for expandable component to hide employees'),accessibilityExpandLabel:T._('Show employees', '[m10n]businessAccess.businessHierarchy.members.employees.expandable.expand', 'Accesibility label for expandable component to show employees'),expandedIndex:B,id:"employeesExpandable",items:[{title:T._('Employees', '[m10n]businessAccess.businessHierarchy.members.employees.expandable.title', 'employees expandable title'),children:(0,h.jsx)(d.Z,{employees:f,employeesColumnDefs:g,employeesFetchData:v,employeesIsLoading:A,employeesOnRowClick:x,employeesTableConfiguration:S,pageType:t})}],onExpandedChange:G})}),F&&(0,h.jsx)(i.xu,{marginTop:4,children:(0,h.jsx)(i.xu,{"data-test-id":"asset-groups-partners-expandable",children:(0,h.jsx)(i.UQ.Expandable,{accessibilityCollapseLabel:T._('Hide partners', '[m10n]businessAccess.businessHierarchy.members.partners.expandable.collapse', 'Accesibility label for expandable component to hide partners'),accessibilityExpandLabel:T._('Show partners', '[m10n]businessAccess.businessHierarchy.members.partners.expandable.expand', 'Accesibility label for expandable component to show partners'),expandedIndex:R,id:"partnersExpandable",items:[{title:T._('Partners', '[m10n]businessAccess.businessHierarchy.members.partners.expandable.title', 'partners expandable title'),children:(0,h.jsx)(_.Z,{pageType:t,partners:P,partnersColumnDefs:I,partnersFetchData:E,partnersIsLoading:C,partnersOnRowClick:w,partnersTableConfiguration:j})}],onExpandedChange:W})})})]})}},844982:function(e,t,s){"use strict";var n=s(599689),r=s(908390),i=s(326884),o=s(15099),l=s(898781),a=s(349700),c=s(53987),u=s(773285),d=s(976556),_=s(790039),p=s(898708),m=s(273453),h=s(515198);t.Z=function(e){var t=e.partner,s=e.businessId,b=e.partnerRole,f=e.businessManagerUiImprovementsView,y=(0,n.useRouteMatch)().params.businessHierarchyId,A=(0,l.ZP)(),S=(0,(0,u.F)().checkExperiment)("web_m10n_business_manager_ui_improvements").anyEnabled,v=(0,o.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),g=(0,n.useLocation)(),x=(0,m.HL)(),P=x.setAssignProfilesModal,C=x.setRemoveProfilePermissionsModal,j=!1,E="None";b&&(j=!0,E=(0,p.e6)(A,S)(b));var I=A._('Revoke access', '[m10n]bizAccess.profile.permissions.revoke.access', 'Button label for action to remove profile permissions for the partner'),w=function(){(0,c.dK)(g)&&v({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"partner-profile-permissions",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-button",profile_id:s}),C({userData:t.user,selectionType:i.Hl.PARTNER,profileId:s,dataToRefresh:y?"HIERARCHY_PARTNER_PROFILE":"PARTNER_PROFILE"})},z=j?(0,h.jsx)(r.zx,{onClick:w,text:I}):(0,h.jsx)(r.zx,{onClick:function(){(0,c.dK)(g)&&v({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"partner-profile-permissions",element:"BUSINESS_ACCESS_BUTTON",elementId:"assign-button",profile_id:s}),P({selectedIds:[s],selectionType:i.Hl.PROFILE,dataToRefresh:"PARTNER_PROFILE",assignmentType:"PARTNER"})},text:A._('Assign profile', '[m10n]bizAccess.partner.profile.add', 'Button label for action to assign profile permissions')}),O=j?A._('Publisher permissions will allow partners to securely create and manage your organic assets', 'businessaccess.partner.profile.role.description', 'Tooltip to explain Publisher permission'):A._('Sharing your profile extends permissions to this partner to securely create and manage organic assets on behalf of your business.', 'businessaccess.partner.profile.role.description', 'Tooltip to explain purpose behind sharing profile permissions');if(void 0!==f&&f){var T=(0,h.jsx)(r.xv,{inline:!0,size:"300",weight:"bold",children:A._('publisher permission', 'businessaccess.partner.profile.revokeAccess.message.publisherPermission', 'Text explaining profile permission assigned')},"publisher-permission"),N=(0,h.jsx)(r.xv,{inline:!0,size:"300",children:(0,a.nk)(A._('You have granted this partner {{publisherPermission}} to your profile. Publisher permission allows your partner to create, edit and organize your Pins and boards.', '[m10n]businessaccess.partner.profile.revokeAccess.message', 'Text explaining profile permission assigned. publisherPermission: bolded text for publisher permission'),{publisherPermission:T})},"publisher-permission-assigned"),B=(0,h.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",margin:12,minHeight:d.xu,children:[(0,h.jsx)(r.xv,{size:"300",children:A._('You have not assigned profile access', '[m10n]businessAccess.businessManager.partnerProfile.noAssignedProfileAccess.title', 'Title shown to indicate no profile access has been assigned')}),(0,h.jsx)(r.xu,{marginTop:2,maxWidth:400,children:(0,h.jsx)(r.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,h.jsx)(r.xv,{align:"center",color:"subtle",inline:!0,size:"200",children:(0,a.nk)(A._('Assign the Publisher permission so that your partner can work on your profile, boards and Pins without sharing login credentials. {{learnMore}}', '[m10n]businessAccess.businessManager.partnerProfile.noAssignedProfileAccess.message', 'Message shown to inform user what profile access is. learnMore: text with link to profile permissions help page'),{learnMore:(0,h.jsx)(d.mz,{},1)})},0)})}),(0,h.jsx)(r.xu,{id:"assign-profile-access-button",marginTop:2,padding:3,children:(0,h.jsx)(r.zx,{color:"red",onClick:function(){P({selectedIds:[s],selectionType:i.Hl.PROFILE,dataToRefresh:"PARTNER_PROFILE",assignmentType:"PARTNER"})},size:"md",text:A._('Assign profile access', '[m10n]bizAccess.profiles.assign', 'Button label for action to assign access to profile')})})]},"partner-profile-no-assigned-access");return j?(0,h.jsx)(r.he,{message:N,primaryAction:{accessibilityLabel:A._('Revoke access button text', '[m10n]bizAccess.profile.permissions.revoke.access.accessibility', 'Revoke access button text'),label:I,onClick:w},type:"neutral"}):(0,h.jsx)(_.Z,{items:[B]})}return(0,h.jsx)(r.xu,{borderStyle:"shadow",padding:3,rounding:2,children:(0,h.jsxs)(r.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",margin:6,children:[(0,h.jsxs)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,h.jsxs)(r.xu,{direction:"row",display:"flex",marginBottom:1,children:[(0,h.jsx)(r.xv,{weight:"bold",children:A._('Permissions', '[m10n]bizAccess.partners.detail.profiles.permission', '[m10n] label for profiles permissions header')}),(0,h.jsx)(r.u,{inline:!0,text:O,children:(0,h.jsx)(r.xu,{paddingX:1,children:(0,h.jsx)(r.JO,{accessibilityLabel:"Role description",color:"subtle",icon:"info-circle",inline:!0})})})]}),(0,h.jsx)(r.xv,{children:E})]}),z]})})}},434469:function(e,t,s){"use strict";var n=s(908390),r=s(898781),i=s(905325),o=s(440018),l=s(229424),a=s(515198);function c(){var e=(0,r.ZP)();return(0,a.jsx)(l.Z,{description:e._('You can manage permissions to your asset groups', '[m10n]AssetGroupsTable.emptyState.description', 'Description explaining what you can do on asset groups table'),header:e._('Your asset group list will appear here', '[m10n]AssetGroupsTable.emptyState.title', 'Header explaining where asset groups will go once added'),image:(0,a.jsx)(n.Ee,{alt:e._('Example of asset groups', '[m10n]AssetGroupsTable.emptyState.image', 'Alternate text for image that shows an example of asset groups'),color:"#FFF",naturalHeight:112,naturalWidth:418,src:i})})}t.Z=function(e){var t=e.pageType,s=e.assetGroups,n=e.assetGroupsIsLoading,i=e.assetGroupsCurrentPageSelector,l=e.assetGroupsTotalCountSelector,u=e.assetGroupsPageSizeSelector,d=e.assetGroupsSearchTermSelector,_=e.assetGroupsFetchData,p=e.assetGroupsColumnDefs,m=e.assetGroupsTableConfiguration,h=e.assetGroupsOnRowClick,b=e.emptyState,f=(0,r.ZP)();return(0,a.jsx)(o.Z,{columnDefs:p,currentPageSelector:i||(null==m?void 0:m.dataCurrentPageSelector),data:s,emptyState:b||(0,a.jsx)(c,{}),fetchData:null!=_?_:function(){},isLoading:n,onRowClick:h,pageSizeSelector:u||(null==m?void 0:m.dataPageSizeSelector),pageType:t,searchPlaceholder:f._('Search asset groups', '[m10n]AssetGroupsTable.search', 'Placeholder text to hint user to search for asset groups by name or by business ID'),searchTermSelector:d||(null==m?void 0:m.dataSearchTermSelector),totalCountSelector:l||(null==m?void 0:m.dataTotalCountSelector)})}},577868:function(e,t,s){"use strict";var n=s(908390),r=s(898781),i=s(773285),o=s(321994),l=s(440018),a=s(229424),c=s(515198);function u(){var e=(0,r.ZP)();return(0,c.jsx)(a.Z,{description:e._('You can manage employee permissions to your assets and tools', '[m10n]EmployeesTable.emptyState.description', 'Description explaining what you can do on this page'),header:e._('Your employee list will appear here', '[m10n]EmployeesTable.emptyState.title', 'Header explaining where employees will go once added'),image:(0,c.jsx)(n.Ee,{alt:e._('Example of employees', '[m10n]EmployeesTable.emptyState.image', 'Alternate text for image that shows an example of employees'),color:"#FFF",naturalHeight:186,naturalWidth:305,src:o})})}t.Z=function(e){var t=e.pageType,s=e.employees,n=e.employeesIsLoading,o=e.employeesFetchData,a=e.employeesColumnDefs,d=e.employeesTableConfiguration,_=e.employeesOnRowClick,p=e.emptyState,m=(0,r.ZP)(),h=(0,(0,i.F)().checkExperiment)("business_access_employees_api_v4_migration").anyEnabled;return(0,c.jsx)(l.Z,{columnDefs:a,currentPageSelector:null==d?void 0:d.dataCurrentPageSelector,data:s,emptyState:p||(0,c.jsx)(u,{}),fetchData:null!=o?o:function(){},isLoading:n,onRowClick:_,pageSizeSelector:null==d?void 0:d.dataPageSizeSelector,pageType:t,searchPlaceholder:h?m._('Search employees', '[m10n]EmployeesTable.search.internal', 'Placeholder text to hint user to search for employees by name or email'):m._('Search employees', '[m10n]EmployeesTable.search.new', 'Accessibility text to hint user to search for employees by name'),searchTermSelector:null==d?void 0:d.dataSearchTermSelector,totalCountSelector:null==d?void 0:d.dataTotalCountSelector})}},16552:function(e,t,s){"use strict";var n=s(908390),r=s(898781),i=s(321994),o=s(440018),l=s(229424),a=s(515198);function c(){var e=(0,r.ZP)();return(0,a.jsx)(l.Z,{description:e._('Invite this partner to access your ad accounts and tools', '[m10n]PartnerTable.emptyState.emptyState.description', 'Header suggesting inviting businesses to access your ad accounts and tools'),header:e._('Your partners list will appear here', '[m10n]PartnerTable.emptyState.title', 'Header explaining where partners will go once added'),image:(0,a.jsx)(n.Ee,{alt:e._('Key and lock icon representing requesting access', '[m10n]PartnerTable.emptyState.emptyState.image', 'Alternate text for icon that shows a key and lock'),color:"#FFF",naturalHeight:186,naturalWidth:305,src:i})})}t.Z=function(e){var t=e.pageType,s=e.partners,n=e.partnersIsLoading,i=e.partnersFetchData,l=e.partnersColumnDefs,u=e.partnersTableConfiguration,d=e.partnersOnRowClick,_=e.emptyState,p=(0,r.ZP)();return(0,a.jsx)(o.Z,{columnDefs:l,currentPageSelector:null==u?void 0:u.dataCurrentPageSelector,data:s,emptyState:_||(0,a.jsx)(c,{}),fetchData:null!=i?i:function(){},isLoading:n,onRowClick:d,pageSizeSelector:null==u?void 0:u.dataPageSizeSelector,pageType:t,searchPlaceholder:p._('Search partners', '[m10n]PartnerTable.search', 'Placeholder text to hint user to search for employees by name, username, or business ID'),searchTermSelector:null==u?void 0:u.dataSearchTermSelector,totalCountSelector:null==u?void 0:u.dataTotalCountSelector})}},495685:function(e,t,s){"use strict";var n=s(908390),r=s(898781),i=s(905325),o=s(440018),l=s(229424),a=s(515198);function c(){var e=(0,r.ZP)();return(0,a.jsx)(l.Z,{description:e._('You can manage permissions to your profiles', '[m10n]ProfilesTable.emptyState.description', 'Description explaining what you can do on profiles table'),header:e._('Your profiles list will appear here', '[m10n]ProfilesTable.emptyState.title', 'Header explaining where profiles will go once added'),image:(0,a.jsx)(n.Ee,{alt:e._('Example of profiles', '[m10n]ProfilesTable.emptyState.image', 'Alternate text for image that shows an example of profiles'),color:"#FFF",naturalHeight:112,naturalWidth:418,src:i})})}t.Z=function(e){var t=e.pageType,s=e.profiles,n=e.profilesIsLoading,i=e.profilesCurrentPageSelector,l=e.profilesTotalCountSelector,u=e.profilesPageSizeSelector,d=e.profilesSearchTermSelector,_=e.profilesFetchData,p=e.profilesColumnDefs,m=e.profilesTableConfiguration,h=e.profilesOnRowClick,b=e.emptyState,f=(0,r.ZP)();return(0,a.jsx)(o.Z,{columnDefs:p,currentPageSelector:i||(null==m?void 0:m.dataCurrentPageSelector),data:s,emptyState:b||(0,a.jsx)(c,{}),fetchData:null!=_?_:function(){},isLoading:n,onRowClick:h,pageSizeSelector:u||(null==m?void 0:m.dataPageSizeSelector),pageType:t,searchPlaceholder:f._('Search profiles', '[m10n]ProfilesTable.search', 'Placeholder text to hint user to search for profiles by name or by business ID'),searchTermSelector:d||(null==m?void 0:m.dataSearchTermSelector),totalCountSelector:l||(null==m?void 0:m.dataTotalCountSelector)})}},72686:function(e,t,s){"use strict";s.d(t,{Z:function(){return sb}});var n=s(326884),r=s(223518),i=s(908390),o=s(852260),l=s(121093),a=s(898781),c=s(349700),u=s(773285),d=s(932014),_=s(515198);function p(){var e=(0,a.ZP)();return(0,(0,u.F)().checkExperiment)("web_m10n_business_manager_ui_improvements_bm_intro").anyEnabled?(0,_.jsx)(l.Z,{eligibleIds:[505821],eligibleTypes:[9],placementId:1000519,children:function(t){var s=t.dismiss,n=t.complete;return(0,_.jsx)(d.Z,{bulletPoints:[{content:(0,_.jsx)(i.xv,{color:"default",size:"200",children:e._('View and manage your child businesses in one place', '[m10n].bizAccess.businessHierarchyIntro.bulletPoint.one', 'bullet point in business hierarchy introduction modal explain child businesses')})},{content:(0,_.jsx)(i.xv,{color:"dark",size:"200",children:e._('Get full visibility into employee and partner permissions across all your businesses', '[m10n].bizAccess.businessHierarchyIntro.bulletPoint.two', 'bullet point in business hierarchy introduction to explain visibility into permissions accross all businesses')})},{content:(0,_.jsx)(i.xv,{size:"200",children:e._('Make changes to account access and permissions at scale', '[m10n].bizAccess.businessHierarchyIntro.bulletPoint.three', 'bullet point in business hierarchy intro modal to note making changes at scale')})},{content:(0,_.jsx)(i.xv,{size:"200",children:e._('To create a business hierarchy, go to \u201CEdit Details\u201D on your dashboard', '[m10n].bizAccess.businessHierarchyIntro.bulletPoint.finalSubText', 'text in business hierarchy modal to explain where to go to create a business hierarchy')}),noBulletPoint:!0}],dismiss:s,heading:e._('Organize your business,  employees and partners', '[m10n].bizAccess.businessHierarchyIntro.heading', 'heading for business hierarchy feature intro modal'),image:{image:(0,_.jsx)(i.Ee,{alt:e._('image to introduce business hierarchy in business manager', '[m10n].bizAccess.businessHierarchyIntro.image', 'alt text for image to introduce business hierarchy in business manager'),fit:"cover",naturalHeight:480,naturalWidth:320,src:"https://s.pinimg.com/webapp/business_hierarchy_intro-4b4d4cf4.png"})},modalAccessibilityLabel:e._('modal to introduce business hierarchy feature in Business Manager', '[m10n].bizAccess.businessHierarchyIntro.a11y', 'accessibility label for business hierarchy feature intro modal'),primaryButton:{text:(0,o.Eb)(e),onClick:function(){return n()}},subtext:(0,_.jsx)(i.xv,{size:"200",children:(0,c.nk)(e._('{{businessHierarchyText}} creates parent-child account relationships to help manage complex organizational structures.', '[m10n].bizAccess.businessHierarchyIntro.bulletPoint.subtext', 'subtext for businessHierarchy intro modal summarizing how to use business hierarchy, businessHierarchyText: the words business hierarchy'),{businessHierarchyText:(0,_.jsx)(i.xv,{inline:!0,size:"200",weight:"bold",children:e._('Business hierarchy', '[m10n].bizAccess.businessHierarchyIntro.bulletPoint.subtext.businessHierarchy', 'bolded text for business hierarchy in subtext')},"businessHierarchy")})})})}}):null}var m=s(76911),h=s(506979),b=s(599689),f=s(401174),y=s(453933),A=s(668040),S=s(15099),v=s(378518),g=s(869636),x=s(186656),P=s(499128),C=s(780280),j=s(343341),E=s(19121),I=s(879990),w=s(253185),z=s(917567),O=function(e){var t=e.createInviteButtonText,s=e.createInviteButtonAction,n=e.tabItems,r=e.selectedItemIndex,o=e.onChangeTab,l=e.exportButtonAction,c=(0,a.ZP)();return(0,_.jsxs)(m.Fragment,{children:[(0,_.jsx)(i.sY,{items:n,onChange:o,selectedItemIndex:r}),(0,_.jsx)(i.xu,{marginBottom:2}),(0,_.jsxs)(i.kC,{children:[(0,_.jsx)(i.xu,{"data-test-id":"business-hierarchy-invite-controls-button",flex:"grow",marginEnd:1,children:(0,_.jsx)(i.xu,{"data-test-id":"business-hierarchy-invite-controls-button",children:(0,_.jsx)(i.zx,{fullWidth:!0,onClick:function(){s()},text:t})})}),(0,_.jsx)(i.hU,{accessibilityLabel:c._('Export', '[m10n]bizAccess.sidePanel.button.export.accessibilityLabel', 'Accessibility text for the export button on the business hierarchy side panel'),bgColor:"lightGray",icon:"download",onClick:l,size:"md"})]})]})},T=s(56754),N=s(154928),B=s(356997),k=s(66699),D=s(663592),R=function(e){var t=e.inviteStatus,s=e.inviteId,r=e.user,o=(0,a.ZP)(),l=(0,h.useDispatch)(),u=(0,j.F9)().showToast,d=(0,b.useRouteMatch)().params.businessHierarchyId||"",p=function(){l((0,D.As)({inviteId:s,inviteType:"BUSINESS_HIERARCHY_CHILD",action:"CANCEL",onSuccess:function(){u(function(e){var t=e.hideToast;return(0,_.jsx)(P.ZP,{duration:n.QE,onHide:t,text:o._('Invitation canceled', '[m10n]bizAccess.businessHierarchy.childBusiness.invite.panel.cancel.success', 'Toast message for successfully canceling an invite')})}),l((0,D.mH)({hierarchyId:d,type:"CHILD_BUSINESS"}))},onFailure:function(e){var t=o._('There was an error in canceling the invite. Please try again.', '[m10n]bizAccess.businessHierarchy.childBusiness.invite.panel.cancel.error', 'Error message if canceling an invite fails');u(function(s){var r=s.hideToast;return(0,_.jsx)(P.ZP,{duration:n.QE,onHide:r,text:e.message_detail||t,type:"error"})})}}))},m=function(){l((0,D.As)({inviteId:s,inviteType:"BUSINESS_HIERARCHY_CHILD",action:"RESEND",onSuccess:function(){u(function(e){var t=e.hideToast;return(0,_.jsx)(P.ZP,{duration:n.QE,onHide:t,text:o._('Invitation re-sent', '[m10n]bizAccess.businessHierarchy.childBusiness.invite.panel.resend.success', 'Toast message for successfully re-sending an invite')})}),l((0,D.mH)({hierarchyId:d,type:"CHILD_BUSINESS"}))},onFailure:function(e){var t=o._('There was an error in re-sending the invite. Please try again.', '[m10n]bizAccess.businessHierarchy.childBusiness.invite.panel.resend.error', 'Error message if re-sending an invite fails');u(function(s){var r=s.hideToast;return(0,_.jsx)(P.ZP,{duration:n.QE,onHide:r,text:e.message_detail||t,type:"error"})})}}))};switch(t){case"PENDING":return(0,_.jsx)(i.ci,{iconAccessibilityLabel:o._('Info', '[m10n]bizAccess.childBusinesses.invitePanel.inviteBanner.pending.icon', 'A11y description of info icon in invite banner for pending invite'),message:(0,_.jsx)(i.xv,{inline:!0,children:(0,c.nk)(o._('You have invited {{businessName}} to your business hierarchy. Once they accept, you will be able to manage their business account.', '[m10n]bizAccess.childBusinesses.invitePanel.inviteBanner.pending.description', 'Description for the pending business hierarchy callout  businessName: the name of the business user being invited'),{businessName:(0,_.jsx)(i.xv,{inline:!0,weight:"bold",children:r.full_name},"bannerPendingInviteBusinessName")})},"bannerPendingInviteDescription"),primaryAction:{accessibilityLabel:o._('Resend invite button', '[m10n]bizAccess.childBusinesses.invitePanel.inviteBanner.resend.accessibilityLabel', 'Accessibility label for the resend invite button'),label:o._('Resend invite', '[m10n]bizAccess.childBusinesses.invitePanel.inviteBanner.resend.buttonText', 'Button text to resend a business hierarchy invite'),onClick:function(){m()}},secondaryAction:{accessibilityLabel:o._('Cancel invite button', '[m10n]bizAccess.childBusinesses.invitePanel.inviteBanner.cancel.accessibilityLabel', 'Accessibility label for the cancel invite button'),label:o._('Cancel invite', '[m10n]bizAccess.childBusinesses.invitePanel.inviteBanner.cancel.buttonText', 'Button text to cancel a business hierarchy invite'),onClick:function(){p()}},title:o._('You\'ve sent an invite', '[m10n]bizAccess.childBusinesses.invitePanel.inviteBanner.pending.title', 'Title text for the pending business hierarchy invite banner'),type:"info"});case"EXPIRED":return(0,_.jsx)(i.ci,{iconAccessibilityLabel:o._('Warning', '[m10n]bizAccess.childBusinesses.invitePanel.inviteBanner.expired.icon', 'A11y description of warning icon in invite banner for expired invite'),message:(0,_.jsx)(i.xv,{inline:!0,children:(0,c.nk)(o._('{{businessName}} has not responded to your invite. You may resend or delete this invite.', '[m10n]bizAccess.childBusinesses.invitePanel.inviteBanner.expired.description', 'Description for the expired business hierarchy callout  businessName: the name of the business user being invited'),{businessName:(0,_.jsx)(i.xv,{inline:!0,weight:"bold",children:r.full_name},"bannerExpiredInviteBusinessName")})},"bannerExpiredInviteDescription"),primaryAction:{accessibilityLabel:o._('Resend invite button', '[m10n]bizAccess.childBusinesses.invitePanel.inviteBanner.resend.accessibilityLabel', 'Accessibility label for the resend invite button'),label:o._('Resend invite', '[m10n]bizAccess.childBusinesses.invitePanel.inviteBanner.resend.buttonText', 'Button text to resend a business hierarchy invite'),onClick:function(){m()}},secondaryAction:{accessibilityLabel:o._('Delete invite button', '[m10n]bizAccess.childBusinesses.invitePanel.inviteBanner.delete.accessibilityLabel', 'Accessibility label for the delete invite button'),label:o._('Delete invite', '[m10n]bizAccess.childBusinesses.invitePanel.inviteBanner.delete.buttonText', 'Button text to delete a business hierarchy invite'),onClick:function(){p()}},title:o._('Your invite has expired', '[m10n]bizAccess.childBusinesses.invitePanel.inviteBanner.expired.title', 'Title text for the expired business hierarchy invite banner'),type:"warning"});default:return null}},L=function(e){var t=e.invite,s=(0,a.ZP)(),n=t.user,r=t.invite_data,o=void 0===r?{}:r,l=t.id,c=o.last_updated_time,u=o.invite_status,d=c?(0,T.Z)(Date.now(),(0,N.Z)(c/1e3)):null;return(0,_.jsxs)(m.Fragment,{children:[u&&n&&(0,_.jsx)(R,{inviteId:l,inviteStatus:u,user:n}),(0,_.jsx)(i.xu,{margin:3}),(0,_.jsx)(i.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderColor:"#e9e9e9"}},flex:"grow",height:"100%",padding:4,rounding:4,children:(0,_.jsx)(i.kC,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"center",children:(0,_.jsxs)(i.kC,{alignItems:"center",direction:"column",flex:"grow",height:"100%",justifyContent:"center",children:[(0,_.jsx)(B.qE,{name:(null==n?void 0:n.full_name)||"",size:"md",src:(null==n?void 0:n.image_medium_url)||""}),(0,_.jsx)(i.xu,{marginBottom:6}),(0,_.jsx)(i.X6,{size:"400",children:null==n?void 0:n.full_name}),(0,_.jsx)(i.xv,{size:"200",children:"".concat(s._('Business ID:', '[m10n]bizAccess.childBusinesses.invitePanel.userInfo.businessId.label', 'Label for the business ID in the invite panel user detail section')," ").concat((null==n?void 0:n.id)||"")}),(0,_.jsx)(i.xu,{marginBottom:2}),null!=d&&(0,_.jsx)(i.xv,{color:"subtle",size:"100",children:(0,k.Z)(s.ngettext('Sent {{daysSinceCreated}} day ago', 'Sent {{daysSinceCreated}} days ago', d, '[m10n]bizAccess.childBusinesses.invitePanel.inviteInfo.daysAgo', 'Label for the number of days that have elapsed since the invitation was created. daysSinceCreated: the number of days since the invite was created'),{daysSinceCreated:d.toString()})})]})})})]})},H=s(444691),U=s(273453),Z=function(e){var t=e.title,s=e.description,n=e.buttonText,r=(0,U.HL)().setAddChildBusinessesModal;return(0,_.jsx)(i.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderColor:"#e9e9e9"}},flex:"grow",height:"100%",padding:4,rounding:4,children:(0,_.jsx)(i.kC,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"center",children:(0,_.jsxs)(i.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[H.Z,(0,_.jsx)(i.xu,{marginBottom:6}),(0,_.jsx)(i.xv,{align:"center",size:"300",children:t}),(0,_.jsx)(i.xu,{marginBottom:6}),(0,_.jsx)(i.xv,{align:"center",color:"subtle",size:"200",children:s}),(0,_.jsx)(i.xu,{margin:4}),(0,_.jsx)(i.zx,{color:"red",onClick:function(){r()},text:n})]})})})},F=s(323225),M=s(177695),Y=s(251819),G=s(582618),W=s(239894);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function K(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?q(Object(s),!0).forEach(function(t){var n,r;n=t,r=s[t],(n=function(e){var t=function(e,t){if("object"!==Q(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==Q(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Q(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):q(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var V=function(e,t){var s=(0,u.F)(),n=(0,h.useDispatch)(),r=(0,U.Dl)(),i=(0,h.useSelector)((0,W.BK)(r));return!e||!t||(0,Y.Z)(i)?null:function(r){var o=r||{},l=o.searchTerm,a=o.limit,c=o.page,u=o.sortBy,d=o.sortDirection,_=K(K(K({searchBy:l&&/\d{12}/.test(l)?"id":void 0,searchTerm:l,businessId:e,detailId:t,sortBy:u,sortDirection:d},a?{limit:a}:{}),c?{page:c}:{}),{},{experimentsClient:s});i.is_shared_partner?n((0,G.CM)(_)):n((0,G.ek)(_))}};function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function X(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?J(Object(s),!0).forEach(function(t){var n,r;n=t,r=s[t],(n=function(e){var t=function(e,t){if("object"!==$(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==$(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):J(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var ee=function(e,t){var s=(0,h.useDispatch)(),n=(0,u.F)().checkExperiment("business_access_assets_and_history_api_v4_migration").anyEnabled;return e&&t?function(r){var i=r||{},o=i.searchTerm,l=i.limit,a=i.page,c=X(X({searchBy:o?n?"FULL_NAME":"full_name":void 0,searchTerm:o,businessId:e,detailId:t,sortBy:i.sortBy,sortDirection:i.sortDirection},l?{limit:l}:{}),a?{page:a}:{});s((0,D.N_)(c))}:null};function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function es(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function en(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?es(Object(s),!0).forEach(function(t){var n,r;n=t,r=s[t],(n=function(e){var t=function(e,t){if("object"!==et(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==et(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===et(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):es(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var er=function(e,t){var s=(0,h.useDispatch)(),n=(0,u.F)().checkExperiment("business_access_assets_and_history_api_v4_migration").anyEnabled;return e&&t?function(r){var i=r||{},o=i.searchTerm,l=i.limit,a=i.page,c=en(en({searchBy:o?n?"FULL_NAME":"full_name":void 0,searchTerm:o,businessId:e,detailId:t,sortBy:i.sortBy,sortDirection:i.sortDirection},l?{limit:l}:{}),a?{page:a}:{});s((0,D.mS)(c))}:null},ei=s(230412),eo=function(e){switch(e){case"ad-accounts":return{dataCurrentPageSelector:W.kt,dataTotalCountSelector:W.fp,dataPageSizeSelector:W.LG,dataSearchTermSelector:W.tB};case"asset-groups":return{dataCurrentPageSelector:W.W1,dataTotalCountSelector:W.H$,dataPageSizeSelector:W.cF,dataSearchTermSelector:W.uZ};case"profiles":return{dataCurrentPageSelector:W._8,dataTotalCountSelector:W.Wk,dataPageSizeSelector:W.wd,dataSearchTermSelector:W.IT};case"employees":return{dataCurrentPageSelector:W.xv,dataTotalCountSelector:W.Ys,dataPageSizeSelector:W.py,dataSearchTermSelector:W.Rs};case"partners":return{dataCurrentPageSelector:W.Ym,dataTotalCountSelector:W.nn,dataPageSizeSelector:W.TL,dataSearchTermSelector:W.T_};case"business-hierarchy-business-members":return{dataCurrentPageSelector:W.fz,dataTotalCountSelector:W.B_,dataPageSizeSelector:W.kE,dataSearchTermSelector:W.Xv};case"ad-accounts-detail":case"profiles-detail":return{dataCurrentPageSelector:ei.Q$,dataTotalCountSelector:ei.pr,dataPageSizeSelector:ei.G1,dataSearchTermSelector:ei.$p};default:return{dataCurrentPageSelector:function(){return 0},dataTotalCountSelector:function(){return 0},dataPageSizeSelector:function(){return 0},dataSearchTermSelector:function(){return""}}}},el=s(92317),ea=s(782534),ec=s(558017),eu=s(407043),ed=s(53987),e_=function(e){var t=e.text;return(0,_.jsx)(i.xu,{minWidth:170,children:(0,_.jsx)(i.xv,{size:"300",weight:"bold",children:t})})},ep=function(e){var t=e.text;return(0,_.jsx)(i.xu,{minWidth:170,children:(0,_.jsx)(i.xv,{color:"subtle",size:"300",weight:"bold",children:t})})},em=function(e){var t=e.text;return(0,_.jsx)(i.xu,{minWidth:170,children:(0,_.jsx)(i.xv,{color:"subtle",size:"200",children:t})})},eh=function(e){var t=e.title,s=e.reason;return(0,_.jsxs)(i.xu,{children:[(0,_.jsx)(ep,{text:t}),(0,_.jsx)(em,{text:s})]})},eb=function(e){var t=e.moreIconButtonAccessibilityLabel,s=e.accessibilityControls,n=e.onDismissDropdown,r=e.moreIconButtonOnClick,o=e.dropdownItems,l=e.opened,a=(0,m.useRef)(null),c=o.map(function(e){return e.link?(0,_.jsx)(i.Lt.Link,{href:e.link.href,isExternal:e.link.isExternal,onClick:function(t){var s,n,r=t.event,i=t.dangerouslyDisableOnNavigation;null!==(s=e.link)&&void 0!==s&&s.disableOnNavigation&&(r.preventDefault(),i()),null===(n=e.link)||void 0===n||n.onSelectOption({item:e.link.option})},option:e.link.option,children:e.link.content},e.link.key):e.item&&(0,_.jsx)(i.Lt.Item,{onSelect:function(t){var s,n=t.item;null===(s=e.item)||void 0===s||s.onSelectOption({item:n})},option:e.item.option},e.item.key)});return(0,_.jsxs)(m.Fragment,{children:[(0,_.jsx)(i.xu,{padding:1,children:(0,_.jsx)(i.hU,{ref:a,accessibilityControls:s,accessibilityExpanded:l,accessibilityHaspopup:!0,accessibilityLabel:t,bgColor:"lightGray",icon:"ellipsis",iconColor:"darkGray",onClick:r,selected:l,size:"md"})}),l&&(0,_.jsx)(i.Lt,{anchor:a.current,disableMobileUI:!0,id:s,onDismiss:n,children:c})]})},ef=s(898708);function ey(e){return(ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function eS(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?eA(Object(s),!0).forEach(function(t){var n,r;n=t,r=s[t],(n=function(e){var t=function(e,t){if("object"!==ey(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==ey(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ey(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):eA(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function ev(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eg(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return eg(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eg(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var ex=function(e){var t,s,n=e.component,r=(0,U.HL)(),i=r.setRemoveSharedAdAccountModal,o=r.businessAccess.businessId,l=(0,U.Dw)(),c=(0,b.useLocation)(),u=(0,a.ZP)(),d=null==l?void 0:null===(t=l.client_business)||void 0===t?void 0:t.id,p=null==l?void 0:null===(s=l.created_by)||void 0===s?void 0:s.id,h=(0,eu.v)().logContextEvent,f=(0,S.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),y=(0,ef.IZ)(l),A=ev((0,m.useState)(!1),2),v=A[0],g=A[1],x=o===p||!!d,P=ev((0,m.useState)(),2),C=P[0],j=P[1],E={value:"visitAdAccount",label:u._('Visit ad account', '[m10n]bizAccess.adAccount.summary.visit.button', 'Text in button that redirects user to selected ad account')},I={value:"removeAdAccount",label:u._('Remove', '[m10n]bizAccess.adAccount.summary.remove.button', 'Text in button that removes current ad account')},w=function(e){var t=e.item;j(t.value);var s={event_type:101,component:n,element:13725,aux_data:{ad_account_id:null==l?void 0:l.asset.id}};"visitAdAccount"===t.value&&y?(0,ed.dK)(c)?f({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_NAVIGATION",componentId:"ad-account-summary",element:"BUSINESS_ACCESS_LINK",elementId:"visit-ad-account",ad_account_id:null==l?void 0:l.asset.id}):h(eS(eS({},s),{},{element:13724})):"removeAdAccount"!==t.value||x||((0,ed.dK)(c)?f({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"ad-account-summary",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-ad-account",ad_account_id:null==l?void 0:l.asset.id}):h(s),i({assetId:(null==l?void 0:l.asset.id)||""}))},z=y?(0,_.jsx)(e_,{text:E.label}):(0,_.jsx)(eh,{reason:u._('You may only visit ad accounts that partners have assigned permission', '[m10n]bizAccess.adAccount.visit.disabled.text', 'tooltip if you try to visit an ad account with no permissions for a landing page'),title:E.label}),O=x?(0,_.jsx)(eh,{reason:o===p?u._('You cannot remove ad accounts you have created. Contact support to learn more', '[m10n]bizAccess.adAccount.removeTooltip', 'tooltip if you try to remove an ad account you created'):u._('You cannot remove agency owned ad accounts. Contact support to learn more', '[m10n]bizAccess.adAccount.removeTooltipAoaa', 'tooltip if you try to remove an ad account that is agency owned'),title:I.label}):(0,_.jsx)(e_,{text:I.label});return(0,_.jsx)(eb,{accessibilityControls:"more-ad-account-options",dropdownItems:[{link:{key:"visitAdAccount",disableOnNavigation:!y,content:z,onSelectOption:w,href:y||"#",isExternal:!0,option:E}},{link:{key:"removeAdAccount",disableOnNavigation:!0,content:O,onSelectOption:w,href:"#",option:I}}],moreIconButtonAccessibilityLabel:u._('More options', '[m10n]bizAccess.adAccount.summary.moreOptions', 'Button that triggers the more options dropdown'),moreIconButtonOnClick:function(){return g(!v)},onDismissDropdown:function(){C&&("visitAdAccount"!==C||!y)&&("removeAdAccount"!==C||x)||g(!1)},opened:v})},eP=s(790039),eC=s(392499);function ej(e){return(ej="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eE(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}var eI=function(e){var t,s=e.adAccount,r=e.businessId,l=(null==s?void 0:s.client_business)!==null,d=l&&(null==s?void 0:null===(t=s.client_business)||void 0===t?void 0:t.id)!==r,p=(0,U.HL)(),m=p.setEditAdAccountAccessModal,b=p.businessAccess.business,f=!l&&(null==s?void 0:s.owner.id)!==(null==b?void 0:b.user.id),y=(0,u.F)().checkExperiment,A=y("web_m10n_business_hierarchy_beta").anyEnabled,S=y("web_m10n_business_manager_ui_improvements").anyEnabled;return(0,_.jsxs)(i.xu,{children:[(0,_.jsx)(eP.Z,{items:[(0,_.jsx)(function(e){var t=e.adAccount,s=(0,a.ZP)();return(0,_.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"between",padding:4,children:[(0,_.jsxs)(i.xu,{children:[(0,_.jsx)(i.xu,{marginBottom:1,children:(0,_.jsx)(i.xv,{size:"400",weight:"bold",children:null==t?void 0:t.asset.name})}),(0,_.jsxs)(i.xu,{children:[(0,_.jsxs)(i.kC,{alignItems:"center",children:[(0,_.jsx)(i.xv,{color:"subtle",size:"200",children:(0,c.nk)(s._('Ad account ID: {{accountId}}', '[m10n]bizAccess.adAccount.summary.description', 'The title to be displayed to an invoice detail, accountId:the account id that will be displayed'),{accountId:null==t?void 0:t.asset.id})}),(null==t?void 0:t.asset.id)&&(0,_.jsx)(ec.ZP,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?eE(Object(s),!0).forEach(function(t){var n,r;n=t,r=s[t],(n=function(e){var t=function(e,t){if("object"!==ej(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==ej(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ej(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):eE(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}({page:n.Q6.BUSINESS_HIERARCHY,text:t.asset.id},(0,ec.ix)(ec.OY.AD_ACCOUNT_ID,s)))]}),l&&(0,_.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,_.jsx)(i.xu,{marginEnd:2,marginTop:1,children:(0,_.jsx)(i.JO,{accessibilityLabel:s._('icon detailing type agency owned ad account status', '[m10n]businessAccess.adAccount.detailSidebar.adAccountStatus', 'accessibility label ad account status icon'),color:"success",icon:null!=t&&t.status?"workflow-status-in-progress":"workflow-status-ok"})},"action-icon-ad-account-status"),(0,_.jsx)(i.xv,{color:"subtle",size:"200",children:null!=t&&t.status?"Pending":"Approved"})]})]})]}),A&&(0,_.jsx)(ex,{component:14397})]})},{adAccount:s},"AdAccountSummaryTop"),f?(0,_.jsx)(function(e){var t,s=e.adAccount,n=(0,a.ZP)();return(0,_.jsxs)(i.xu,{direction:"row",display:"flex",padding:4,children:[(0,_.jsxs)(i.sg,{span:4,children:[(0,_.jsx)(i.xu,{marginBottom:1,children:(0,_.jsx)(i.xv,{size:"200",weight:"bold",children:n._('Ad account owner', '[m10n]bizAccess.adAccount.summary.adAccountOwner', 'Text close to ad account owner name for shared ad account')})}),(0,_.jsx)(i.xv,{size:"200",children:null==s?void 0:s.owner.full_name})]}),(0,_.jsxs)(i.sg,{span:4,children:[(0,_.jsx)(i.xu,{marginBottom:1,children:(0,_.jsx)(i.xv,{size:"200",weight:"bold",children:n._('Permissions granted', '[m10n]bizAccess.adAccount.detail.permissionsGranted', 'Label and value for pemissions granted on agency owned ad account, permissions: comma separated list of permissions')})}),(0,_.jsx)(i.xv,{size:"200",children:((null==s?void 0:s.roles)||[]).map((0,ef.e6)(n,S)).join((0,o.bH)(n))})]}),(0,_.jsxs)(i.sg,{span:4,children:[(0,_.jsx)(i.xu,{marginBottom:1,children:(0,_.jsx)(i.xv,{size:"200",weight:"bold",children:n._('Added by', '[m10n]bizAccess.adAccount.detail.addedBy', 'Label or title of who shared the selected ad account and when.')})}),(0,_.jsx)(i.xv,{size:"200",children:(0,c.nk)(n._('{{accountCreator}} on {{creationDate}}', '[m10n]bizAccess.adAccount.summary.createdAt', 'Value to show who shared the selected ad account and when, creationDate: the date when account was created, accountCreator: the name of who created the ad account'),{creationDate:(0,_.jsx)(ea.Z,{dateFormatType:ea.k.LONG,useUTC:!1,value:new Date(1e3*((null==s?void 0:s.asset.created_time)||0))},"creation_date"),accountCreator:null==s?void 0:null===(t=s.created_by)||void 0===t?void 0:t.full_name})})]})]})},{adAccount:s},"SharedAccountSummaryBottom"):(0,_.jsx)(function(e){var t,s=e.adAccount,n=(0,a.ZP)();return(0,_.jsxs)(i.xu,{direction:"row",display:"flex",padding:4,children:[(0,_.jsxs)(i.sg,{span:6,children:[(0,_.jsx)(i.xu,{marginBottom:1,children:(0,_.jsx)(i.xv,{size:"200",weight:"bold",children:n._('Owner', '[m10n]bizAccess.adAccount.summary.owner', 'Text close to ad account owner name')})}),(0,_.jsx)(i.xv,{size:"200",children:null==s?void 0:s.owner.full_name})]}),(0,_.jsxs)(i.sg,{span:6,children:[(0,_.jsx)(i.xu,{marginBottom:1,children:(0,_.jsx)(i.xv,{size:"200",weight:"bold",children:n._('Ad account created', '[m10n]bizAccess.adAccount.summary.createdAt.description', 'Text close to ad account creation date')})}),(0,_.jsx)(i.xv,{size:"200",children:(0,c.nk)(n._('{{creationDate}} by {{accountCreator}}', '[m10n]bizAccess.adAccount.summary.createdAt', 'The title to be displayed to an invoice detail, creationDate: the date when account was created, accountCreator: the name of who created the ad account'),{creationDate:(0,_.jsx)(ea.Z,{dateFormatType:ea.k.LONG,useUTC:!1,value:new Date(1e3*((null==s?void 0:s.asset.created_time)||0))},"creation_date"),accountCreator:null==s?void 0:null===(t=s.created_by)||void 0===t?void 0:t.full_name})})]})]})},{adAccount:s},"AdAccountSummaryBottom")]}),l&&(0,_.jsx)(i.xu,{marginTop:2,children:(0,_.jsx)(eP.Z,{items:[(0,_.jsx)(function(e){var t,s,n=e.adAccount,r=(0,a.ZP)(),l=(0,h.useSelector)((0,eC.BK)((null==n?void 0:null===(t=n.client_business)||void 0===t?void 0:t.id)||"")).roles;return(0,_.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"between",padding:4,children:[(0,_.jsxs)(i.xu,{children:[(0,_.jsx)(i.xu,{marginBottom:1,children:(0,_.jsx)(i.xv,{size:"300",weight:"bold",children:(0,c.nk)(r._('Advertising for {{account_name}}', '[m10n]bizAccess.adAccount.detail.advertising for name', 'label for client business of agency owned ad account, account_name: full name'),{account_name:null==n?void 0:null===(s=n.client_business)||void 0===s?void 0:s.full_name})})}),d&&(0,_.jsx)(i.xv,{color:"subtle",size:"200",children:(0,c.nk)(r._('Partner permissions: {{permissions}}', '[m10n]bizAccess.adAccount.detail.partnerPermissions', 'Label and value for client business permission on agency owned ad account, permissions: comma separated list of permissions'),{permissions:(l||[]).map((0,ef.e6)(r,S)).join((0,o.bH)(r))})}),!d&&(0,_.jsx)(i.xv,{color:"subtle",size:"200",children:(0,c.nk)(r._('My permissions: {{permissions}}', '[m10n]bizAccess.adAccount.detail.myPermissions', 'Label and value for business permission on agency owned ad account, permissions: comma separated list of permissions'),{permissions:null==n?void 0:n.roles.map((0,ef.e6)(r,S)).join((0,o.bH)(r))})})]}),A&&(0,_.jsx)(i.xu,{children:(0,_.jsx)(i.zx,{accessibilityLabel:r._('Edit partner permissions', '[m10n]bizAccess.adAccount.summary.edit.partner.permissions.a11y', 'Button to edit partner permissions'),onClick:function(){var e,t;m({resourceId:(null==n?void 0:n.asset.id)||"",principalId:(null==n?void 0:null===(e=n.client_business)||void 0===e?void 0:e.id)||"",clientBusinessId:(null==n?void 0:null===(t=n.client_business)||void 0===t?void 0:t.id)||"",rolesForAoaa:d?l:null==n?void 0:n.roles,dataToRefresh:"AD_ACCOUNT_PARTNER",assignmentType:"PARTNER"})},text:r._('Edit partner permissions', '[m10n]bizAccess.adAccount.summary.edit.partner.permissions.button', 'Button to edit partner permissions')})})]})},{adAccount:s},"AoaaSummary")]})})]})},ew=function(e){var t=e.children,s=e.onBackClick,n=(0,a.ZP)(),r=n._('Back to business details', '[m10n]businessAccess.businessHierarchy.details.tab.label', 'business hierarcy details panel label');return(0,_.jsxs)(m.Fragment,{children:[(0,_.jsx)(i.xu,{marginBottom:5,children:(0,_.jsx)(i.iP,{onTap:function(){return s()},children:(0,_.jsxs)(i.kC,{alignItems:"center",gap:3,justifyContent:"start",children:[(0,_.jsx)(i.JO,{accessibilityLabel:r,color:"dark",icon:"directional-arrow-left",size:16}),(0,_.jsx)(i.xv,{size:"200",weight:"bold",children:r})]})})}),t]})},ez=s(49428);function eO(e,t,s,n,r,i,o){try{var l=e[i](o),a=l.value}catch(e){s(e);return}l.done?t(a):Promise.resolve(a).then(n,r)}function eT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eN(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return eN(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eN(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var eB=function(e,t){var s,n=(0,(0,u.F)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,r=eT((0,m.useState)(!1),2),i=r[0],o=r[1],l=eT((0,m.useState)(!1),2),a=l[0],c=l[1],d=(0,m.useCallback)((s=regeneratorRuntime.mark(function t(){var s,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o(!1),c(!0),t.prev=2,t.next=5,(0,ez.Eg)({id:e});case 5:(null==(r=t.sent)?void 0:null===(s=r.data)||void 0===s?void 0:null===(n=s.data)||void 0===n?void 0:n.length)>0?o(r.data.data.every(function(e){return e.is_shared_partner})):o(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),o(!1);case 12:return t.prev=12,c(!1),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[2,9,12,15]])}),function(){var e=this,t=arguments;return new Promise(function(n,r){var i=s.apply(e,t);function o(e){eO(i,n,r,o,l,"next",e)}function l(e){eO(i,n,r,o,l,"throw",e)}o(void 0)})}),[e]);return(0,m.useEffect)(function(){e&&(n&&!t?d():o(!1))},[n,t,d,e]),{areAllPartnersSharedLoading:a,areAllPartnersShared:i}};function ek(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var eD=function(e){var t,s=e.component,r=e.parentComponent,o=e.showAssignEmployeesOnly,l=(0,U.Dw)(),c=(0,b.useLocation)(),u=(0,a.ZP)(),d=(0,eu.v)().logContextEvent,p=(0,S.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),h=function(e){if(Array.isArray(e))return e}(t=(0,m.useState)(!1))||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ek(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ek(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=h[0],y=h[1],A=(0,m.useRef)(null),v=(0,U.HL)().setAssignAdAccountsModal,g=function(e){var t=e.item,i=null==l?void 0:l.asset.id;(0,ed.dK)(c)?p({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"ad-account-details",element:"BUSINESS_ACCESS_BUTTON",elementId:"assign-ad-account",ad_account_id:i,option_selected:t.value}):d({event_type:101,component:s,element:13736,aux_data:{ad_account_id:i,option_selected:t.value,component_id:r.toString()}}),i&&("assignEmployees"===t.value?v({dataToRefresh:"HIERARCHY_AD_ACCOUNT_DETAILS_EMPLOYEES",selectedIds:[i],selectionType:n.c7.PERSON,assignmentType:"PEOPLE"}):"assignPartners"===t.value&&v({dataToRefresh:"HIERARCHY_AD_ACCOUNT_DETAILS_PARTNERS",selectedIds:[i],selectionType:n.c7.PARTNER,assignmentType:"PARTNER"}))},x=o?(0,_.jsx)(i.kC,{children:(0,_.jsx)(i.zx,{ref:A,color:"red",onClick:function(){return g({item:{label:"",value:"assignEmployees"}})},text:u._('Assign employees', '[m10n]businessAccess.businessHierarchy.assign.employees.option', 'Button for assigning employees option')})}):(0,_.jsx)(i.kC,{children:(0,_.jsx)(i.zx,{ref:A,accessibilityControls:"assign-ad-account-options",accessibilityExpanded:f,accessibilityHaspopup:!0,color:"red",fullWidth:!0,iconEnd:"arrow-down",onClick:function(){return y(!f)},selected:f,text:u._('Assign', '[m10n]businessAccess.businessHierarchy.assign.button.dropdown', 'Button to open assign dropdown')})});return(0,_.jsxs)(m.Fragment,{children:[x,f&&(0,_.jsxs)(i.Lt,{anchor:A.current,disableMobileUI:!0,id:"assign-ad-account-options",onDismiss:function(){return y(!1)},children:[(0,_.jsx)(i.Lt.Section,{label:u._('Employees', '[m10n]businessAccess.businessHierarchy.assign.employees.section', 'Label for assign employees section'),children:(0,_.jsx)(i.Lt.Item,{onSelect:g,option:{value:"assignEmployees",label:u._('Assign employees', '[m10n]businessAccess.businessHierarchy.assign.employees.option', 'Label for assign employees option')}})}),(0,_.jsx)(i.Lt.Section,{label:u._('Partners', '[m10n]businessAccess.businessHierarchy.assign.partners.section', 'Label for assign partners section'),children:(0,_.jsx)(i.Lt.Item,{onSelect:g,option:{value:"assignPartners",label:u._('Assign partners', '[m10n]businessAccess.businessHierarchy.assign.partners.option', 'Label for assign partners option')}})})]})]})};function eR(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var eL=function(e){var t,s=e.areAllPartnersShared,r=(0,a.ZP)(),o=(0,m.useRef)(null),l=(0,U.HL)().setAssignProfilesModal,c=function(e){if(Array.isArray(e))return e}(t=(0,m.useState)(!1))||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eR(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return eR(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=c[0],p=c[1],h=(0,(0,u.F)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,f=(0,U.KJ)(!0),y=(0,b.useLocation)(),A=(0,U.Un)(),v=(0,S.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),g=(null==A?void 0:A.roles.includes("OWNER"))||(null==A?void 0:A.roles.includes("ADMIN")),x=er(f,null==A?void 0:A.asset.id),P=ee(f,null==A?void 0:A.asset.id);if(!h||!A)return null;var C=function(e){var t=e.item,s=A.asset.id;(0,ed.dK)(y)&&v({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"profile-details",element:"BUSINESS_ACCESS_BUTTON",elementId:"assign-profile",profile_id:s,option_selected:t.value}),s&&f&&("assignEmployees"===t.value?l({selectedIds:[s],selectionType:n.c7.PERSON,dataToRefresh:"PROFILE_PEOPLE",assignmentType:"PEOPLE",refreshData:x}):"assignPartners"===t.value&&l({selectedIds:[s],selectionType:n.c7.PARTNER,dataToRefresh:"PROFILE_PARTNERS",assignmentType:"PARTNER",refreshData:P}))};return g&&!s?(0,_.jsxs)(m.Fragment,{children:[(0,_.jsx)(i.zx,{ref:o,accessibilityControls:"assign-profile-dropdown",accessibilityExpanded:d,accessibilityHaspopup:!0,color:"red",iconEnd:"arrow-down",onClick:function(){p(!d)},selected:d,text:r._('Add', '[m10n]businessAccess.businessHierarchy.assign.employees.and.partners', 'Text in button that showns dropdown that triggers profile to employee or partner assignment')}),d&&(0,_.jsxs)(i.Lt,{anchor:o.current,disableMobileUI:!0,id:"assign-profile-dropdown",onDismiss:function(){return p(!1)},children:[(0,_.jsx)(i.Lt.Section,{label:r._('Employees', '[m10n]businessAccess.businessHierarchy.assign.employees.section', 'Label for assign employees section'),children:(0,_.jsx)(i.Lt.Item,{onSelect:C,option:{value:"assignEmployees",label:r._('Assign employees', '[m10n]businessAccess.businessHierarchy.assign.employees.option', 'Label for assign employees option')}})}),(0,_.jsx)(i.Lt.Section,{label:r._('Partners', '[m10n]businessAccess.businessHierarchy.assign.partners.section', 'Label for assign partners section'),children:(0,_.jsx)(i.Lt.Item,{onSelect:C,option:{value:"assignPartners",label:r._('Assign partners', '[m10n]businessAccess.businessHierarchy.assign.partners.option', 'Label for assign partners option')}})})]})]}):(0,_.jsx)(i.zx,{color:"red",onClick:function(){l({selectedIds:[A.asset.id],selectionType:n.c7.PERSON,dataToRefresh:"PROFILE_PEOPLE",assignmentType:"PEOPLE",refreshData:x})},text:r._('Assign employees', '[m10n]businessAccess.businessHierarchy.assign.employees', 'Text in button that triggers profile to employee assignment')})},eH=s(577868),eU=s(16552),eZ=s(212125);function eF(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var eM=function(e){var t,s=e.showAdAccountAssignDropdown,n=e.showProfilesAssignDropdown,r=e.parentComponent,o=e.employees,l=e.employeesTableConfiguration,c=e.employeesIsLoading,d=e.employeesFetchData,p=e.employeesColumnDefs,h=e.employeesOnRowClick,b=e.partners,f=e.partnersTableConfiguration,y=e.partnersIsLoading,A=e.partnersFetchData,S=e.partnersColumnDefs,v=e.partnersOnRowClick,g=e.hidePartnersTab,x=e.pageType,P=(0,a.ZP)(),C=(0,U.KJ)(!0),j=function(e){if(Array.isArray(e))return e}(t=(0,m.useState)(0))||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eF(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return eF(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),E=j[0],I=j[1],w=(0,u.F)().checkExperiment,z=w("web_m10n_business_hierarchy_beta").anyEnabled,O=w("business_access_assets_and_history_api_v4_migration").anyEnabled,T=eB(C,g),N=T.areAllPartnersShared,B=T.areAllPartnersSharedLoading;(0,m.useEffect)(function(){0===E?null==d||d({limit:eZ.T[0]},O):1===E&&(null==A||A({limit:eZ.T[0]}))},[E]);var k=[{href:"#",text:P._('Employees', '[m10n]businessAccess.businessHierarchy.employees.tab.label', 'asset employees tab title')}];return g||k.push({href:"#",text:P._('Partners', '[m10n]businessAccess.businessHierarchy.partners.tab.label', 'asset partners tab label')}),(0,_.jsxs)(i.xu,{marginTop:4,children:[(0,_.jsxs)(i.kC,{justifyContent:"between",children:[(0,_.jsx)(i.mQ,{activeTabIndex:E,onChange:function(e){var t=e.activeTabIndex,s=e.event,n=e.dangerouslyDisableOnNavigation;s.preventDefault(),n(),I(t)},tabs:k}),!B&&n&&(0,_.jsx)(eL,{areAllPartnersShared:N}),s&&z&&(0,_.jsx)(eD,{component:14398,parentComponent:r,showAssignEmployeesOnly:g})]}),(0,_.jsxs)(i.xu,{marginTop:4,children:[0===E&&(0,_.jsx)(eH.Z,{employees:o,employeesColumnDefs:p,employeesFetchData:d,employeesIsLoading:c,employeesOnRowClick:h,employeesTableConfiguration:l,pageType:x}),1===E&&!g&&(0,_.jsx)(eU.Z,{emptyState:z&&N&&(0,_.jsx)(i.he,{message:P._('You may only share your profile with businesses who you have invited or have requested to be your partner', '[m10n]businessAccess.businessHierarchy.partners.allpartnersshared.banner', 'Banner when all partners are shared')}),pageType:x,partners:b,partnersColumnDefs:S,partnersFetchData:A,partnersIsLoading:y,partnersOnRowClick:v,partnersTableConfiguration:f})]})]})},eY=function(e){var t=e.adAccount,s=e.onBackClick,n=e.closePanels,r=e.businessId,i=e.employees,o=e.employeesTableConfiguration,l=e.employeesIsLoading,a=e.employeesFetchData,c=e.employeesColumnDefs,u=e.employeesOnRowClick,d=e.partners,p=e.partnersTableConfiguration,h=e.partnersIsLoading,b=e.partnersFetchData,f=e.partnersColumnDefs,y=e.partnersOnRowClick,A=e.pageType,S=(0,U.HL)(),v=S.setSelectedAdAccount,g=S.setSelectedDetail;n&&s(),(0,m.useEffect)(function(){var e;g({detailId:null!==(e=null==t?void 0:t.asset.id)&&void 0!==e?e:""}),v(t)},[t,v,g]),n&&s();var x=(null==t?void 0:t.client_business)!==null,P=r===(null==t?void 0:t.owner.id);return(0,_.jsx)(ew,{onBackClick:s||function(){},children:(0,_.jsxs)(m.Fragment,{children:[(0,_.jsx)(eI,{adAccount:t,businessId:r}),(0,_.jsx)(eM,{employees:i,employeesColumnDefs:c,employeesFetchData:a,employeesIsLoading:l,employeesOnRowClick:u,employeesTableConfiguration:o,hidePartnersTab:!P||x,pageType:A,parentComponent:14397,partners:d,partnersColumnDefs:f,partnersFetchData:b,partnersIsLoading:h,partnersOnRowClick:y,partnersTableConfiguration:p,showAdAccountAssignDropdown:!0})]})})};function eG(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var eW=function(){var e,t=(0,S.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),s=(0,a.ZP)(),n=(0,m.useRef)(null),r=function(e){if(Array.isArray(e))return e}(e=(0,m.useState)(!1))||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return eG(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return eG(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],l=r[1],c=(0,u.F)().checkExperiment,d=(0,U.HL)(),p=d.setAddPeopleModal,h=d.setCreateAdAccountModal,b=d.setInviteRequestPartnerModal;if(!c("web_m10n_business_hierarchy_beta").anyEnabled)return null;var f=function(e){var s=e.item;"createAdAccount"===s.value&&(h(),t({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"business-hierarchy-details",element:"BUSINESS_ACCESS_BUTTON",elementId:"ad-accounts-create-button"})),"addEmployees"===s.value&&(p(),t({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"business-hierarchy-details",element:"BUSINESS_ACCESS_BUTTON",elementId:"employees-add-button"})),"addPartners"===s.value&&(b({pageForLogger:"BUSINESS_ACCESS_BUSINESS_HIERARCHY"}),t({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"business-hierarchy-details",element:"BUSINESS_ACCESS_BUTTON",elementId:"partners-add-button"}))};return(0,_.jsxs)(m.Fragment,{children:[(0,_.jsx)(i.zx,{ref:n,accessibilityControls:"add-child-business-options",accessibilityExpanded:o,accessibilityHaspopup:!0,accessibilityLabel:s._('Opens dropdown with operations allowed on selected child business', '[m10n]businessAccess.businessHierarchy.childBusiness.add.a11y', 'Accessibility text that describes what operation can be done on child business'),color:"red",iconEnd:"arrow-down",onClick:function(){l(!o)},selected:o,text:s._('Add', '[m10n]businessAccess.businessHierarchy.childBusiness.add', 'Text in button that showns dropdown that triggers ad accounts creation, employee invites and partner invites')}),o&&(0,_.jsxs)(i.Lt,{anchor:n.current,disableMobileUI:!0,id:"add-child-business-options",onDismiss:function(){return l(!1)},children:[(0,_.jsx)(i.Lt.Section,{label:s._('Assets', '[m10n]businessAccess.businessHierarchy.childBusiness.add.assets.section', 'Label for add assets section'),children:(0,_.jsx)(i.Lt.Item,{onSelect:f,option:{value:"createAdAccount",label:s._('Create ad account', '[m10n]businessAccess.businessHierarchy.childBusiness.createAdAccount.option', 'Label for creating ad account option')}})}),(0,_.jsxs)(i.Lt.Section,{label:s._('Members', '[m10n]businessAccess.businessHierarchy.childBusiness.addMembers.section', 'Label for add members section'),children:[(0,_.jsx)(i.Lt.Item,{onSelect:f,option:{value:"addEmployees",label:s._('Add employees', '[m10n]businessAccess.businessHierarchy.childBusiness.addEmployees.option', 'Label for inviting employees option')}}),(0,_.jsx)(i.Lt.Item,{onSelect:f,option:{value:"addPartners",label:s._('Add partners', '[m10n]businessAccess.businessHierarchy.childBusiness.addPartners.option', 'Label for inviting partners option')}})]})]})]})},eQ=s(976556);function eq(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var eK=function(){var e,t=(0,S.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),s=(0,a.ZP)(),r=(0,U.nU)(!0),o=(0,m.useRef)(null),l=function(e){if(Array.isArray(e))return e}(e=(0,m.useState)(!1))||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return eq(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return eq(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],d=l[1],p=(0,u.F)().checkExperiment,h=(0,U.HL)(),b=h.setAssignAdAccountsModal,f=h.setAssignProfilesModal;if(!p("web_m10n_business_hierarchy_beta").anyEnabled)return null;var y=function(e){var s=e.item;"assignAdAccounts"===s.value&&(b({selectedIds:[r],selectionType:n.c7.AD_ACCOUNT,dataToRefresh:"HIERARCHY_EMPLOYEE_DETAILS_AD_ACCOUNTS",assignmentType:"PEOPLE"}),t({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"employee-details",element:"BUSINESS_ACCESS_BUTTON",elementId:"assign-ad-accounts-to-employee-button"})),"assignProfiles"===s.value&&(f({selectedIds:[r],selectionType:n.Hl.PROFILE,dataToRefresh:"HIERARCHY_EMPLOYEE_DETAILS_PROFILES",assignmentType:"PEOPLE"}),t({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"employee-details",element:"BUSINESS_ACCESS_BUTTON",elementId:"assign-profiles-to-employee-button"}))};return(0,_.jsxs)(m.Fragment,{children:[(0,_.jsx)(i.zx,{ref:o,accessibilityControls:"add-employee-details-options",accessibilityExpanded:c,accessibilityHaspopup:!0,accessibilityLabel:s._('Opens dropdown with operations allowed on selected employee', '[m10n]businessAccess.businessHierarchy.employeeDetails.add.a11y', 'Accessibility text that describes what operation can be done on employee'),color:"red",iconEnd:"arrow-down",onClick:function(){d(!c)},selected:c,text:s._('Add', '[m10n]businessAccess.businessHierarchy.employeeDetails.add', 'Text in button that showns dropdown that triggers ad account and profile assignment to employees')}),c&&(0,_.jsxs)(i.Lt,{anchor:o.current,disableMobileUI:!0,id:"add-employee-details-options",onDismiss:function(){return d(!1)},children:[(0,_.jsx)(i.Lt.Section,{label:s._('Ad accounts', '[m10n]businessAccess.businessHierarchy.employeeDetails.assign.adAccounts.section', 'Label for assigning ad accounts section'),children:(0,_.jsx)(i.Lt.Item,{onSelect:y,option:{value:"assignAdAccounts",label:s._('Assign ad accounts', '[m10n]businessAccess.businessHierarchy.employeeDetails.assign.AdAccounts.option', 'Label for assigning ad account option')}})}),(0,_.jsx)(i.Lt.Section,{label:s._('Profiles', '[m10n]businessAccess.businessHierarchy.employeeDetails.assign.profiles.section', 'Label for assigning profile section'),children:(0,_.jsx)(i.Lt.Item,{onSelect:y,option:{value:"assignProfiles",label:s._('Assign profiles', '[m10n]businessAccess.businessHierarchy.employeeDetails.assign.profiles.option', 'Label for assigning profiles option')}})})]})]})},eV=s(479831),e$=s(495685),eJ=s(736126),eX=s(809173);function e0(e){return(e0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e1(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}function e2(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}var e8=function(e){var t,s=e.employee,r=(0,a.ZP)(),l=(0,S.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),d=(0,U.HL)().setEditPersonRoleModal,p=(0,(0,u.F)().checkExperiment)("business_access_employees_api_v4_migration").anyEnabled,m=(0,h.useSelector)((0,eX.V7)(null!==(t=null==s?void 0:s.id)&&void 0!==t?t:"")),b=(0,h.useSelector)(eX.gB);if(!s)return null;var f=s.user,y=f.id,A=f.full_name,v=f.email,g=f.image_small_url,x=p?m.business_roles:m.biz_roles,P=(null==x?void 0:x.map((0,ef.B)(r)).join((0,o.bH)(r)))||"";return b?(0,_.jsx)(i.$j,{accessibilityLabel:r._('Loading details...', '[m10n]businessAccess.businessHierarchy.employeeDetail.spinner', 'Accesibility label for spinner on employee details pages'),show:b}):(0,_.jsx)(i.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderColor:"#e9e9e9"}},padding:4,rounding:4,children:(0,_.jsxs)(i.kC,{alignItems:"center",justifyContent:"between",children:[(0,_.jsxs)(i.kC,{alignItems:"center",gap:2,children:[(0,_.jsx)(B.qE,{name:A,size:"md",src:g}),(0,_.jsxs)(i.kC,{direction:"column",gap:1,children:[(0,_.jsx)(i.xv,{color:"default",size:"400",weight:"bold",children:A}),(0,_.jsx)(i.xv,{color:"subtle",size:"200",children:(0,c.nk)(r._('Role: {{ role }}', '[m10n]businessAccess.businessHierarchy.employeeDetail.role', 'Text to display the account role. role: Is the role of the account'),{role:P}).join("")}),(0,_.jsxs)(i.kC,{alignItems:"center",children:[(0,_.jsx)(i.xv,{color:"subtle",size:"200",children:(0,c.nk)(r._('Email: {{ email }}', '[m10n]businessAccess.businessHierarchy.employeeDetail.email', 'Text to display the account email. email: Is the email of the account'),{email:v}).join("")}),(0,_.jsx)(ec.ZP,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?e2(Object(s),!0).forEach(function(t){var n,r;n=t,r=s[t],(n=function(e){var t=function(e,t){if("object"!==e0(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==e0(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===e0(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):e2(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}({page:n.Q6.BUSINESS_HIERARCHY,text:v},(0,ec.ix)(ec.OY.EMAIL,r)))]})]})]}),(0,_.jsx)(i.zx,{onClick:function(){l({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"employee-details-summary",element:"BUSINESS_ACCESS_BUTTON",elementId:"edit-employee-role"}),d({selectedId:y})},text:r._('Edit role', '[m10n]businessAccess.businessHierarchy.employeeDetail.summary.edit', 'Button to trigger employee edit flow in business hierarchy')})]})})},e4=function(e){var t,s=e.employee,r=e.onBackClick,o=e.closePanels,l=e.businessId,c=e.adAccounts,d=e.adAccountsIsLoading,p=e.adAccountsTableConfiguration,b=e.adAccountsCurrentPageSelector,f=e.adAccountsTotalCountSelector,y=e.adAccountsPageSizeSelector,A=e.adAccountsSearchTermSelector,S=e.adAccountsFetchData,v=e.adAccountsColumnDefs,g=e.adAccountsOnRowClick,x=e.profiles,P=e.profilesIsLoading,C=e.profilesTableConfiguration,j=e.profilesCurrentPageSelector,E=e.profilesTotalCountSelector,I=e.profilesPageSizeSelector,w=e.profilesSearchTermSelector,z=e.profilesFetchData,O=e.profilesColumnDefs,T=e.profilesOnRowClick,N=(0,a.ZP)(),B=(0,h.useDispatch)(),k=function(e){if(Array.isArray(e))return e}(t=(0,m.useState)(0))||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return e1(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return e1(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),D=k[0],R=k[1],L=(0,U.HL)().setSelectedDetail,H=(0,u.F)(),Z=(0,H.checkExperiment)("business_access_employees_api_v4_migration").anyEnabled;o&&(null==r||r());var F=N._('Back to business details', '[m10n]businessAccess.businessHierarchy.assets.tab.label', 'business hierarcy assets tab label');return(0,m.useEffect)(function(){0===D?null==S||S({limit:eZ.T[0]}):1===D&&(null==z||z({limit:eZ.T[0]}))},[D]),(0,m.useEffect)(function(){var e;L({detailId:null!==(e=null==s?void 0:s.id)&&void 0!==e?e:""})},[s,L]),(0,m.useEffect)(function(){null!=s&&s.id&&l&&B((0,eJ.Io)({getAssets:!1,businessId:l,detailId:s.id,useGetPeopleEndpoint:Z,reloadBugFix:!1,experimentsClient:H}))},[l,B,null==s?void 0:s.id,Z,H]),(0,_.jsxs)(m.Fragment,{children:[(0,_.jsx)(i.xu,{marginBottom:5,children:(0,_.jsx)(i.iP,{onTap:function(){return null==r?void 0:r()},children:(0,_.jsxs)(i.kC,{alignItems:"center",gap:3,justifyContent:"start",children:[(0,_.jsx)(i.JO,{accessibilityLabel:F,color:"dark",icon:"directional-arrow-left",size:16}),(0,_.jsx)(i.xv,{size:"200",weight:"bold",children:F})]})})}),(0,_.jsx)(e8,{employee:s}),(0,_.jsxs)(i.xu,{marginTop:2,children:[(0,_.jsxs)(i.kC,{justifyContent:"between",children:[(0,_.jsx)(i.mQ,{activeTabIndex:D,onChange:function(e){var t=e.activeTabIndex,s=e.event,n=e.dangerouslyDisableOnNavigation;s.preventDefault(),n(),R(t)},tabs:[{href:"#",text:N._('Ad Accounts', '[m10n]businessAccess.businessHierarchy.employeeDetail.tab.adAccounts', 'Employee details ad accounts tab label')},{href:"#",text:N._('Profiles', '[m10n]businessAccess.businessHierarchy.employeeDetail.tab.profiles', 'Employee details profiles tab label')}]}),(0,_.jsx)(eK,{})]}),(0,_.jsxs)(i.xu,{marginTop:5,children:[0===D&&(0,_.jsx)(eV.Z,{adAccounts:c,adAccountsColumnDefs:v,adAccountsCurrentPageSelector:b,adAccountsFetchData:S,adAccountsIsLoading:d,adAccountsOnRowClick:g,adAccountsPageSizeSelector:y,adAccountsSearchTermSelector:A,adAccountsTableConfiguration:p,adAccountsTotalCountSelector:f,emptyState:(0,_.jsx)(eQ.if,{}),pageType:n.Q6.BUSINESS_HIERARCHY}),1===D&&(0,_.jsx)(e$.Z,{emptyState:(0,_.jsx)(eQ.H6,{}),pageType:n.Q6.BUSINESS_HIERARCHY,profiles:x,profilesColumnDefs:O,profilesCurrentPageSelector:j,profilesFetchData:z,profilesIsLoading:P,profilesOnRowClick:T,profilesPageSizeSelector:I,profilesSearchTermSelector:w,profilesTableConfiguration:C,profilesTotalCountSelector:E})]})]})]})};function e5(e){return(e5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e9(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function e3(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?e9(Object(s),!0).forEach(function(t){e7(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):e9(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function e7(e,t,s){var n;return(n=function(e,t){if("object"!==e5(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==e5(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===e5(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function e6(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var te=function(){var e,t,s=(0,(0,u.F)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,r=(0,S.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),o=(0,U.KJ)(!0),l=(0,U.Dl)(),c=(0,h.useSelector)((0,W.BK)(l)),d=(0,h.useSelector)((0,W.mr)(null!==(e=c.id)&&void 0!==e?e:"")),p=d&&d.profiles&&d.profiles.length>0,b=(0,a.ZP)(),f=(0,m.useRef)(null),y=function(e){if(Array.isArray(e))return e}(t=(0,m.useState)(!1))||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return e6(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return e6(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),A=y[0],v=y[1],g=(0,U.HL)(),x=g.setAssignAdAccountsModal,P=g.setAssignProfilesModal,C=g.setRequestAdAccountsModal,j=g.setRequestProfileAccessModal;if(!s||(0,Y.Z)(c))return null;var E=function(e){var t=e.item,s={eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"partner-details-cta",element:"BUSINESS_ACCESS_BUTTON"};"requestAdAccountFromPartner"===t.value&&(r(e3(e3({},s),{},{elementId:"request-ad-account-button"})),C({requestId:null,partnerId:c.id})),"assignAdAccountToPartner"===t.value&&(r(e3(e3({},s),{},{elementId:"assign-ad-account-button"})),x({selectedIds:[c.id],selectionType:n.c7.AD_ACCOUNT,dataToRefresh:"PARTNER",assignmentType:"PARTNER"})),"requestProfileFromPartner"===t.value&&(r(e3(e3({},s),{},{elementId:"request-profile-button"})),j({requesteeId:c.id,adAccounts:[e7({},c.id,["PROFILE_PUBLISHER"])]})),"assignProfileToEmployees"===t.value&&(r(e3(e3({},s),{},{elementId:"assign-profile-to-employees-button"})),P({selectedIds:[c.id],selectionType:n.Hl.PERSON,dataToRefresh:"PROFILE_PEOPLE",assignmentType:"PEOPLE"})),"assignProfileToPartner"===t.value&&(r(e3(e3({},s),{},{elementId:"assign-profile-to-partner-button"})),P({selectedIds:[o],selectionType:n.Hl.PROFILE,dataToRefresh:"HIERARCHY_PARTNER_PROFILE",assignmentType:"PARTNER"}))},I=c.is_shared_partner,w=I&&!p,z=I&&p,O=!I&&!p;return(0,_.jsxs)(m.Fragment,{children:[(0,_.jsx)(i.zx,{ref:f,accessibilityControls:"assign-to-partner-dropdown",accessibilityExpanded:A,accessibilityHaspopup:!0,color:"red",iconEnd:"arrow-down",onClick:function(){v(!A)},selected:A,text:b._('Add', '[m10n]businessAccess.businessHierarchy.assign.adAccounts.and.profiles', 'Text in button that showns dropdown that triggers ad account to partner or profile to partner assignment')}),A&&(0,_.jsxs)(i.Lt,{anchor:f.current,disableMobileUI:!0,id:"assign-to-partner-dropdown",onDismiss:function(){return v(!1)},children:[(0,_.jsxs)(i.Lt.Section,{label:b._('Ad accounts', '[m10n]businessAccess.businessHierarchy.assign.adAccounts.section', 'Label for assign or request ad accounts section'),children:[I&&(0,_.jsx)(i.Lt.Item,{onSelect:E,option:{value:"requestAdAccountFromPartner",label:b._('Request ad account access', '[m10n]businessAccess.businessHierarchy.request.adAccount.fromPartner.option', 'Label for requesting from partner access to ad accounts option')}}),!I&&(0,_.jsx)(i.Lt.Item,{onSelect:E,option:{value:"assignAdAccountToPartner",label:b._('Assign ad account access', '[m10n]businessAccess.businessHierarchy.assign.adAccount.toPartner.option', 'Label for assigning ad accounts to partner option')}})]}),(w||z||O)&&(0,_.jsxs)(i.Lt.Section,{label:b._('Profile', '[m10n]businessAccess.businessHierarchy.request.partners.section', 'Label for assign or request profiles section'),children:[w&&(0,_.jsx)(i.Lt.Item,{onSelect:E,option:{value:"requestProfileFromPartner",label:b._('Request profile access', '[m10n]businessAccess.businessHierarchy.request.profile.option', 'Label for requesting access to partner\'s profile option')}}),z&&(0,_.jsx)(i.Lt.Item,{onSelect:E,option:{value:"assignProfileToEmployees",label:b._('Assign employees', '[m10n]businessAccess.businessHierarchy.assign.employees.to.profile.option', 'Label for assigning employees to profile option')}}),O&&(0,_.jsx)(i.Lt.Item,{onSelect:E,option:{value:"assignProfileToPartner",label:b._('Assign profile access', '[m10n]businessAccess.businessHierarchy.assign.profile.option', 'Label for assigning own profile to partner option')}})]})]})]})},tt=s(844982);function ts(e){return(ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}var tr=function(e){var t,s=e.partner,r=e.onBackClick,l=(0,a.ZP)(),d=(0,U.HL)(),p=d.setRemovePartnerModal,m=d.setRemoveSharedPartnerModal,h=d.businessAccess.businessId,f=(null==s?void 0:null===(t=s.created_by_business)||void 0===t?void 0:t.id)||"",y=(0,eu.v)().logContextEvent,A=(0,S.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),v=(0,b.useLocation)(),g=(0,(0,u.F)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled;return(0,_.jsx)(eP.Z,{items:s?[(0,_.jsx)(function(e){var t=e.partner;return(0,_.jsx)(i.xu,{padding:4,children:(0,_.jsxs)(i.kC,{alignItems:"center",justifyContent:"between",children:[(0,_.jsxs)(i.kC,{alignItems:"center",gap:2,children:[t&&t.user.full_name&&(0,_.jsx)(B.qE,{name:t.user.full_name,size:"md",src:t.user.image_small_url}),(0,_.jsxs)(i.kC,{direction:"column",gap:1,children:[(0,_.jsx)(i.xv,{color:"default",size:"400",weight:"bold",children:null==t?void 0:t.user.full_name}),(0,_.jsxs)(i.kC,{alignItems:"center",children:[(0,_.jsx)(i.xv,{color:"subtle",size:"200",children:(0,c.nk)(l._('Business ID: {{ businessID }}', '[m10n]businessAccess.businessHierarchy.partnerDetail.businessId', 'Text to display the business ID. businessID: Is the business ID of the account'),{businessID:null==t?void 0:t.id})}),(null==t?void 0:t.id)&&(0,_.jsx)(ec.ZP,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(s),!0).forEach(function(t){var n,r;n=t,r=s[t],(n=function(e){var t=function(e,t){if("object"!==ts(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==ts(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ts(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):tn(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}({page:n.Q6.BUSINESS_HIERARCHY,text:t.id},(0,ec.ix)(ec.OY.BUSINESS_ID,l)))]})]})]}),g&&(0,_.jsx)(i.zx,{onClick:function(){(0,ed.dK)(v)?A({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"partner-summary",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-partner",partner_id:null==t?void 0:t.id}):y({event_type:101,component:14412,element:107,aux_data:{partner_id:null==t?void 0:t.id}}),t&&(h===f?p({businessId:h,partnerId:t.id,refreshData:r}):m({businessId:h,partnerId:t.id,refreshData:r}))},text:l._('Remove partner', '[m10n]bizAccess.partner.detail.remove.partner', '[m10n] button that removed a partner')})]})})},{partner:s},"PartnerSummaryTop"),(0,_.jsx)(function(e){var t,s,n,r,o=e.partner,l=(0,a.ZP)();return(0,_.jsxs)(i.xu,{direction:"row",display:"flex",padding:4,children:[(0,_.jsxs)(i.sg,{span:6,children:[(0,_.jsx)(i.xu,{marginBottom:1,children:(0,_.jsx)(i.xv,{size:"200",weight:"bold",children:l._('Relationship', '[m10n]bizAccess.partner.detail.relationship', '[m10n] label that shows partner relationship')})}),(0,_.jsx)(i.xv,{size:"200",children:(0,k.Z)(l._('Advertising for {{ fullName }}', '[m10n]bizAccess.business.partners.details.relationship.theyAdded', 'Sentence to say in table row that the other business added the partnership with the currently active business. fullName: name of the partner'),{fullName:null!=o&&o.is_shared_partner?null!==(t=o.user.full_name)&&void 0!==t?t:"":null!==(s=null==o?void 0:null===(n=o.created_by_user)||void 0===n?void 0:n.full_name)&&void 0!==s?s:""})})]}),(0,_.jsxs)(i.sg,{span:6,children:[(0,_.jsx)(i.xu,{marginBottom:1,children:(0,_.jsx)(i.xv,{size:"200",weight:"bold",children:l._('Date added', '[m10n]bizAccess.people.detail.dateAdded', 'Field that shows date when member was added')})}),(0,_.jsx)(i.xv,{size:"200",children:(0,c.nk)(l._('{{creationDate}} by {{partnerCreator}}', '[m10n]bizAccess.partner.summary.createdAt', 'The title to be displayed to an partner detail page, creationDate: the date when partner was created, partnerCreator: the name of who created the partnership'),{creationDate:(0,_.jsx)(ea.Z,{dateFormatType:ea.k.LONG,useUTC:!1,value:new Date((null==o?void 0:o.created_time)||0)},"bh_partner_created_date"),partnerCreator:null==o?void 0:null===(r=o.created_by_user)||void 0===r?void 0:r.full_name})})]})]})},{partner:s},"PartnerSummaryBottom")]:[(0,_.jsx)(i.$j,{accessibilityLabel:(0,o.hC)(l),show:!0},"spinner")]})};function ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var to=function(){var e=(0,a.ZP)(),t=(0,_.jsxs)(i.kC,{alignItems:"center",direction:"column",justifyContent:"center",minHeight:"calc(100vh - 561px)",children:[(0,_.jsx)(i.xv,{size:"300",children:e._('You have not assigned profile access', '[m10n]businessAccess.businessHierarchy.profiles.empty.title', 'Title shown on panel to indicate that user has no assigned profiles')}),(0,_.jsx)(i.xu,{marginTop:2,maxWidth:480,children:(0,_.jsx)(i.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,_.jsx)(i.xv,{align:"center",color:"subtle",inline:!0,size:"200",children:(0,c.nk)(e._('Assign the Publisher permission so that your partner can work on your profile, boards and Pins without sharing login credentials. {{learnMore}}', '[m10n]businessAccess.businessHierarchy.profiles.empty.message', 'Message shown on panel to indicate that user has no assigned profiles. learnMore: text with link to profile permissions help page'),{learnMore:(0,_.jsx)(eQ.mz,{},1)})},0)})})]},"profile-empty-state");return(0,_.jsx)(eP.Z,{items:[t]})},tl=function(){var e=(0,a.ZP)(),t=(0,_.jsxs)(i.kC,{alignItems:"center",direction:"column",justifyContent:"center",minHeight:"calc(100vh - 561px)",children:[(0,_.jsx)(i.xv,{size:"300",children:e._('No profile access', '[m10n]businessAccess.businessHierarchy.requestProfile.empty.title', 'Title shown on panel to indicate that user has no permission to the profile')}),(0,_.jsx)(i.xu,{marginTop:2,maxWidth:480,children:(0,_.jsx)(i.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,_.jsx)(i.xv,{align:"center",color:"subtle",inline:!0,size:"200",children:(0,c.nk)(e._('Request the Publisher permission to work on your partner\'s profile, boards and Pins without requiring their login credentials. {{learnMore}}', '[m10n]businessAccess.businessHierarchy.requestProfile.empty.message', 'Message shown on panel to indicate that user has no permission to the profile. learnMore: text with link to profile permissions help page'),{learnMore:(0,_.jsx)(eQ.mz,{},1)})},0)})})]},"request-profile-empty-state");return(0,_.jsx)(eP.Z,{items:[t]})},ta=function(e){var t,s,n=e.partner,r=e.partnerRole,o=e.onBackClick,l=e.closePanels,c=e.pageType,d=e.adAccounts,p=e.adAccountsIsLoading,b=e.adAccountsTableConfiguration,f=e.adAccountsFetchData,y=e.adAccountsCurrentPageSelector,A=e.adAccountsTotalCountSelector,S=e.adAccountsPageSizeSelector,v=e.adAccountsSearchTermSelector,g=e.adAccountsColumnDefs,x=e.adAccountsOnRowClick,P=e.employees,C=e.employeesIsLoading,j=e.employeesTableConfiguration,E=e.employeesFetchData,I=e.employeesColumnDefs,w=(0,a.ZP)(),z=function(e){if(Array.isArray(e))return e}(t=(0,m.useState)(0))||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ti(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ti(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),O=z[0],T=z[1],N=(0,U.HL)(),B=N.setSelectedPartnerId,k=N.setSelectedDetail,D=(0,U.KJ)(!0),R=(0,(0,u.F)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled;w._('Back to business details', '[m10n]businessAccess.businessHierarchy.assets.tab.label', 'business hierarcy assets tab label'),l&&(null==o||o()),(0,m.useEffect)(function(){0===O?null==f||f({limit:eZ.T[0]}):1===O&&(null==E||E({limit:eZ.T[0]}))},[O]),(0,m.useEffect)(function(){n&&(k({detailId:n.id}),B(n.id))},[n,B,k]);var L=(0,U.Dl)(),H=(0,h.useSelector)((0,W.BK)(L)),Z=H.is_shared_partner,F=(0,h.useSelector)((0,W.mr)(null!==(s=H.id)&&void 0!==s?s:"")),M=F&&F.profiles&&F.profiles.length>0;return(0,_.jsx)(ew,{onBackClick:o||function(){},children:(0,_.jsxs)(m.Fragment,{children:[(0,_.jsx)(tr,{onBackClick:o,partner:n}),(0,_.jsxs)(i.xu,{marginTop:4,children:[(0,_.jsxs)(i.kC,{justifyContent:"between",children:[(0,_.jsx)(i.mQ,{activeTabIndex:O,onChange:function(e){var t=e.activeTabIndex,s=e.event,n=e.dangerouslyDisableOnNavigation;s.preventDefault(),n(),T(t)},tabs:[{href:"#",text:w._('Ad accounts', '[m10n]businessAccess.businessHierarchy.partnerDetail.tab.adAccounts', 'Partner details ad accounts tab label')},{href:"#",text:w._('Profile Access', '[m10n]businessAccess.businessHierarchy.partnerDetail.tab.profile', 'Partner\'s accesses to the profile')}]}),R&&(0,_.jsx)(te,{})]}),(0,_.jsxs)(i.xu,{marginTop:4,children:[0===O&&(0,_.jsx)(eV.Z,{adAccounts:d,adAccountsColumnDefs:g,adAccountsCurrentPageSelector:y,adAccountsFetchData:f,adAccountsIsLoading:p,adAccountsOnRowClick:x,adAccountsPageSizeSelector:S,adAccountsSearchTermSelector:v,adAccountsTableConfiguration:b,adAccountsTotalCountSelector:A,emptyState:Z?(0,_.jsx)(eQ.$2,{}):(0,_.jsx)(eQ.FW,{}),pageType:c}),1===O&&Z&&M&&(0,_.jsx)(eH.Z,{employees:P,employeesColumnDefs:I,employeesFetchData:E,employeesIsLoading:C,employeesTableConfiguration:j,emptyState:(0,_.jsx)(eQ.uX,{}),pageType:c}),1===O&&Z&&!M&&(0,_.jsx)(tl,{}),1===O&&!Z&&n&&!!r&&(0,_.jsx)(tt.Z,{businessId:D,partner:n,partnerRole:r}),1===O&&!Z&&!r&&(0,_.jsx)(to,{})]})]})]})})},tc=function(e){var t=e.profile,s=e.businessAccount;return(0,_.jsx)(function(e){var t,s=e.profile,n=e.businessAccount,r=(0,eu.v)().logContextEvent,o=(0,a.ZP)(),l=(0,(0,u.F)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,d=null==s?void 0:s.roles.includes("OWNER");return(0,_.jsx)(i.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderColor:"#e9e9e9"}},padding:4,rounding:4,children:(0,_.jsxs)(i.kC,{justifyContent:"between",children:[(0,_.jsxs)(i.kC,{alignItems:"center",gap:2,children:[(0,_.jsx)(B.qE,{name:(null==s?void 0:s.asset.name)||"",size:"md",src:null==s?void 0:s.asset.image_small_url}),(0,_.jsxs)(i.kC,{direction:"column",gap:1,children:[(0,_.jsx)(i.xv,{color:"default",size:"400",weight:"bold",children:null==s?void 0:s.asset.name}),!d&&(0,_.jsx)(i.xv,{color:"subtle",size:"200",children:(0,c.nk)(o._('{{profileName}} shared their profile with {{businessAccountName}}', '[m10n]bizAccess.profile.summary.description', 'Text to display the profile sharing details, profileName:the profile name that will be displayed, businessAccountName:the profile name that will be displayed'),{profileName:null==s?void 0:s.asset.name,businessAccountName:null==n?void 0:null===(t=n.user)||void 0===t?void 0:t.full_name}).join("")})]})]}),l&&(0,_.jsx)(i.ZP,{href:null!=s&&s.owner.username?"/".concat(s.owner.username):"#",iconEnd:"visit",onClick:function(){r({event_type:101,component:13854,element:12679,aux_data:{business_id:null==s?void 0:s.asset.id}})},text:o._('Visit profile', '[m10n]bizAccess.profile.summary.visit.button', 'Text in button that redirects user to selected profile')})]})})},{businessAccount:s,profile:t},"ProfileSummaryTop")},tu=function(e){var t=e.businessAccount,s=e.profile,n=e.onBackClick,r=e.closePanels,i=e.employees,o=e.employeesTableConfiguration,l=e.employeesIsLoading,a=e.employeesFetchData,c=e.employeesColumnDefs,u=e.employeesOnRowClick,d=e.partners,p=e.partnersTableConfiguration,h=e.partnersIsLoading,b=e.partnersFetchData,f=e.partnersColumnDefs,y=e.partnersOnRowClick,A=e.hidePartnersTab,S=e.pageType,v=(0,U.HL)(),g=v.setSelectedDetail,x=v.setSelectedProfile;return r&&n(),(0,m.useEffect)(function(){var e;g({detailId:null!==(e=null==s?void 0:s.asset.id)&&void 0!==e?e:""}),x(s)},[s,g,x]),(0,_.jsx)(ew,{onBackClick:n||function(){},children:(0,_.jsxs)(m.Fragment,{children:[(0,_.jsx)(tc,{businessAccount:t,profile:s}),(0,_.jsx)(eM,{employees:i,employeesColumnDefs:c,employeesFetchData:a,employeesIsLoading:l,employeesOnRowClick:u,employeesTableConfiguration:o,hidePartnersTab:A,pageType:S,parentComponent:14399,partners:d,partnersColumnDefs:f,partnersFetchData:b,partnersIsLoading:h,partnersOnRowClick:y,partnersTableConfiguration:p,showProfilesAssignDropdown:!0})]})})},td=s(13648),t_=s(442860);function tp(e){return(tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tm(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function th(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?tm(Object(s),!0).forEach(function(t){var n,r;n=t,r=s[t],(n=function(e){var t=function(e,t){if("object"!==tp(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==tp(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tp(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):tm(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var tb=function(e){var t=(0,h.useDispatch)();return e?function(s){var n=s||{},r=n.searchTerm,i=n.limit,o=n.page,l=th(th({searchBy:r?"name_or_id":void 0,searchTerm:r,businessId:e,sortBy:n.sortBy,sortDirection:n.sortDirection},i?{limit:i}:{}),o?{page:o}:{});t((0,D.lo)(l))}:null},tf=s(623432),ty=s(896282);function tA(e){return(tA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tS(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function tv(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?tS(Object(s),!0).forEach(function(t){var n,r;n=t,r=s[t],(n=function(e){var t=function(e,t){if("object"!==tA(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==tA(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tA(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):tS(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var tg=function(e){var t=(0,h.useDispatch)();return e?function(s){var n=s||{},r=n.searchTerm,i=n.limit,o=n.page,l=tv(tv({searchBy:r?"name_or_id":void 0,searchTerm:r,businessId:e,sortBy:n.sortBy,sortDirection:n.sortDirection},i?{limit:i}:{}),o?{page:o}:{});t((0,D.cp)(l))}:null},tx=s(912997),tP=s(258304),tC=s(806672),tj=function(e,t){var s=(t||{}).field,n=function(n){var r=e._('Advertising for {{ fullName }}', '[m10n]bizAccess.business.partners.details.relationship.theyAdded', 'Sentence to say in table row that the other business added the partnership with the currently active business. fullName: name of the partner');if(null!=t&&t.valueGetter)return(0,c.nk)(r,{fullName:t.valueGetter(n)});var i,o,l,a=s&&n[s]||n.is_shared_partner?null!==(i=n.user.full_name)&&void 0!==i?i:"":null!==(o=null===(l=n.created_by_user)||void 0===l?void 0:l.full_name)&&void 0!==o?o:"";return(0,c.nk)(r,{fullName:a})};return{field:"relationship",headerName:e._('Relationship', '[m10n]bizAccess.business.partners.relationship', 'Table column title to indicate whether the partnership was created by the active business or by the other business'),TableCellComponent:tC.Z,valueGetter:function(e){return e?n(e):tx.I.noDataSymbol},minWidth:tx.I.columnWidths.md}},tE=s(812965),tI=s(494568),tw=s(155944),tz=s(456268),tO=s(479267);function tT(e){return(tT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tN(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function tB(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?tN(Object(s),!0).forEach(function(t){tk(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):tN(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function tk(e,t,s){var n;return(n=function(e,t){if("object"!==tT(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==tT(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===tT(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function tD(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var tR=function(e){var t,s=e.setSelectedEntityType,r=e.setSelectedAdAccount,o=e.setSelectedProfile,l=e.setSelectedAssetGroup,c=e.expandedIndex,d=e.setExpandedIndex,p=e.activeTabIndex,f=void 0===p?0:p,y=e.setActiveTabIndex,v=(0,(0,u.F)().checkExperiment)("business_access_employees_api_v4_migration").anyEnabled,g=(0,eu.v)().logContextEvent,x=(0,m.useRef)(!0),P=(0,m.useRef)(!0),C=(0,h.useDispatch)(),j=(0,a.ZP)(),E=function(e){if(Array.isArray(e))return e}(t=(0,m.useState)(!1))||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tD(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return tD(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),I=E[0],w=E[1],z=(0,S.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),O=(0,b.useLocation)(),T=(0,U.MC)(),N=(0,U.HL)(),B=N.setRemovePartnerModal,k=N.setRemoveSharedPartnerModal,D=N.setSelectedEmployeeId,R=N.setSelectedPartnerId,L=(0,b.useHistory)(),H=(0,h.useSelector)(W.Xy),Z=(0,h.useSelector)(W.wk),F=(0,h.useSelector)(W.Wb),M=(0,h.useSelector)(W.h$),Y=(0,h.useSelector)(W.Sl),G=(0,h.useSelector)(W._1),Q=(0,h.useSelector)(W.yY),q=(0,h.useSelector)(W.JQ),K=(0,h.useSelector)(W.A0),V=(0,h.useSelector)(W.HW),$=eo("ad-accounts"),J=eo("employees"),X=eo("partners"),ee=eo("profiles"),et=eo("asset-groups"),es=(0,t_.Z)(null==T?void 0:T.user.id),en=tg(null==T?void 0:T.user.id),er=(0,tf.Z)(null==T?void 0:T.user.id),ei=(0,ty.Z)(null==T?void 0:T.user.id),ea=tb(null==T?void 0:T.user.id),ec=(0,m.useMemo)(function(){var e,t,s;return tk(s={},0,(tk(e={},el.J.AD_ACCOUNTS,es),tk(e,el.J.PROFILES,en),tk(e,el.J.ASSET_GROUPS,ea),e)),tk(s,1,(tk(t={},td.J.EMPLOYEES,er),tk(t,td.J.PARTNERS,ei),t)),s},[es,en,ea,er,ei]);if((0,m.useEffect)(function(){if(T){var e=ec[f][c];e&&e({})}},[T]),!es||!er||!ei||!en||!T||!ea)return null;var e_=function(e){x.current?(x.current=!1,er(tB(tB({},e),{},{searchTerm:""}))):er(e)},ep=function(e){P.current?(P.current=!1,ei(tB(tB({},e),{},{searchTerm:""}))):ei(e)};return(0,_.jsxs)(i.xu,{marginTop:2,children:[(0,_.jsxs)(i.kC,{justifyContent:"between",children:[(0,_.jsx)(i.mQ,{activeTabIndex:f,onChange:function(e){var t=e.activeTabIndex,s=e.event,n=e.dangerouslyDisableOnNavigation;s.preventDefault(),n(),y(t),null==d||d(null),z({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_NAVIGATION",componentId:"business-hierarchy-panel",element:"BUSINESS_ACCESS_LINK",elementId:0===t?"assets.tab":"members.tab"})},tabs:[{href:"#",text:j._('Assets', '[m10n]businessAccess.businessHierarchy.assets.tab.label', 'business hierarcy assets tab label')},{href:"#",text:j._('Members', '[m10n]businessAccess.businessHierarchy.members.tab.label', 'business hierarchy members tab label')}]}),"BUSINESS_ACCOUNT"===T.entity_type&&(0,_.jsx)(eW,{})]}),(0,_.jsxs)(i.xu,{marginTop:2,children:[0===f&&(0,_.jsx)(m.Fragment,{children:(0,_.jsx)(el.Z,{adAccounts:H,adAccountsColumnDefs:[(0,tE.Z)(j,{weight:tx.I.weights.bold,headerName:j._('Ad account name', '[m10n]businessAccess.businessHierarchy.assets.adAccounts', 'column name for an asstets ad accounts'),clickable:!1}),(0,tI.Z)(j),(0,tP.Z)(j,"AD_ACCOUNT","REMOVE_OR_LINK",{iconSize:"xs"},es)],adAccountsFetchData:function(e){w(!1),es(e)},adAccountsIsLoading:Z,adAccountsOnRowClick:function(e){r(H.find(function(t){return t.asset.id===(null==e?void 0:e.asset.id)})),s("AD_ACCOUNT")},adAccountsTableConfiguration:$,assetGroupsTable:{pageType:n.Q6.BUSINESS_HIERARCHY,assetGroups:K,assetGroupsIsLoading:V,assetGroupsFetchData:function(e){w(!1),ea(e)},assetGroupsColumnDefs:[(0,tE.Z)(j,{weight:tx.I.weights.bold,headerName:j._('Asset group name', '[m10n]businessAccess.businessHierarchy.asset.groups', 'column name for an asstet groups'),clickable:!1,onClick:function(e){l(K.find(function(t){return t.id===(null==e?void 0:e.id)})),s("ASSET_GROUP")}}),(0,tI.Z)(j),(0,tP.t)(j,{headerName:j._('Actions', '[m10n]businessHierarchy.actions', 'column of actions that can be taken on user'),actions:[{key:"visitAssetGroup",icon:"arrow-up-right",onClick:function(e){C((0,tO.uK)({assetGroupId:e.id||""})),L.push((0,A.Z)(n.Q6.ASSET_GROUPS,T.user.id))},tooltipText:j._('Visit asset group', '[m10n]businessAccess.businessHierarchy.column.visit.asset.group', 'tooltip text for visit asset group')}]})],assetGroupsTableConfiguration:et},closePanels:I,expandedIndex:c,pageType:n.Q6.BUSINESS_HIERARCHY,profiles:Q,profilesColumnDefs:[(0,tE.Z)(j,{weight:tx.I.weights.bold,headerName:j._('Profile name', '[m10n]businessAccess.businessHierarchy.assets.profiles', 'column name for an asstets profiles'),hidesAvatar:!1,clickable:!1}),(0,tP.t)(j,{headerName:j._('Actions', '[m10n]businessHierarchy.actions', 'column of actions that can be taken on user'),actions:[{key:"visitProfile",icon:"arrow-up-right",tooltipText:j._('View profile', '[m10n]businessAccess.businessHierarchy.column.visit.profile', 'tooltip text for visit profile'),onClick:function(e){L.push(e.owner.username?"/".concat(e.owner.username):"#")}}]})],profilesFetchData:function(e){w(!1),en(e)},profilesIsLoading:q,profilesOnRowClick:function(e){o(Q.find(function(t){return t.asset.id===(null==e?void 0:e.asset.id)})),s("PROFILE")},profilesTableConfiguration:ee,setExpandedIndex:d})}),1===f&&(0,_.jsx)(td.Z,{closePanels:I,employees:F,employeesColumnDefs:[(0,tw.Z)(j,{headerName:j._('Employee name', '[m10n]businessAccess.businessHierarchy.members.employees', 'column name for a members employees'),type:"PEOPLE",clickable:!1}),(0,tz.Z)(j,{field:v?"business_roles":"biz_roles"}),(0,tP.Z)(j,"PEOPLE","EDIT_OR_REMOVE",{iconSize:"xs"})],employeesFetchData:function(e){w(!1),e_(e)},employeesIsLoading:M,employeesOnRowClick:function(e){D(null==e?void 0:e.id)},employeesTableConfiguration:J,expandedIndex:c,pageType:n.Q6.BUSINESS_HIERARCHY,partners:Y,partnersColumnDefs:[(0,tw.Z)(j,{headerName:j._('Partner name', '[m10n]businessAccess.businessHierarchy.members.partners', 'column name for a members partners'),type:"PARTNER",showDescriptor:!0,clickable:!1}),tj(j),(0,tP.t)(j,{headerName:j._('Actions', '[m10n]businessHierarchy.actions', 'column of actions that can be taken on user'),actions:[{key:"removePartner",icon:"remove",tooltipText:j._('Remove partner', '[m10n]businessAccess.businessHierarchy.members.partners.remove.button', 'tooltip text for remove partner'),onClick:function(e){(0,ed.dK)(O)?z({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"partners-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-button",partner_id:e.id}):g({event_type:101,component:14408,element:107,aux_data:{partner_id:e.id,component_id:"members-tab-partners-section"}});var t,s=(null===(t=e.created_by_business)||void 0===t?void 0:t.id)||"";T.user.id===s?B({businessId:T.user.id,partnerId:e.id,refreshData:ei}):k({businessId:T.user.id,partnerId:e.id,refreshData:ei})}}]})],partnersFetchData:function(e){w(!1),ep(e)},partnersIsLoading:G,partnersOnRowClick:function(e){R(null==e?void 0:e.id),s("PARTNER")},partnersTableConfiguration:X,setExpandedIndex:d})]})]})};function tL(e){return(tL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tH(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function tU(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?tH(Object(s),!0).forEach(function(t){var n,r;n=t,r=s[t],(n=function(e){var t=function(e,t){if("object"!==tL(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==tL(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tL(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):tH(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var tZ=function(e){var t=(0,h.useDispatch)();return e?function(s){var n=s||{},r=n.searchTerm,i=n.limit,o=n.page,l=tU(tU({searchTerm:r,businessHierarchyLookupId:e,sortBy:n.sortBy,sortDirection:n.sortDirection},i?{limit:i}:{}),o?{page:o}:{});t((0,D.hy)(l,"EMPLOYEE"))}:null};function tF(e){return(tF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tM(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function tY(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?tM(Object(s),!0).forEach(function(t){var n,r;n=t,r=s[t],(n=function(e){var t=function(e,t){if("object"!==tF(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==tF(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tF(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):tM(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var tG=function(e){var t=(0,h.useDispatch)();return e?function(s){var n=s||{},r=n.searchTerm,i=n.limit,o=n.page,l=tY(tY({searchTerm:r,businessHierarchyLookupId:e,sortBy:n.sortBy,sortDirection:n.sortDirection},i?{limit:i}:{}),o?{page:o}:{});t((0,D.hy)(l,"PARTNER"))}:null},tW=function(e){var t=e.employees,s=e.employeesTableConfiguration,n=e.employeesIsLoading,r=e.employeesFetchData,i=e.employeesColumnDefs,o=e.employeesOnRowClick,l=e.partners,a=e.partnersTableConfiguration,c=e.partnersIsLoading,u=e.partnersFetchData,d=e.partnersColumnDefs,p=e.partnersOnRowClick,h=e.pageType;return(0,_.jsx)(m.Fragment,{children:(0,_.jsx)(eM,{employees:t,employeesColumnDefs:i,employeesFetchData:r,employeesIsLoading:n,employeesOnRowClick:o,employeesTableConfiguration:s,pageType:h,parentComponent:14399,partners:l,partnersColumnDefs:d,partnersFetchData:u,partnersIsLoading:c,partnersOnRowClick:p,partnersTableConfiguration:a})})},tQ=s(631375),tq=function(e,t){var s=t.field,n=t.headerName,r=t.sortField,i=t.valueGetter;return{field:s,headerName:n,minWidth:tx.I.columnWidths.md,TableCellComponent:tC.Z,getMinHeight:function(){return 54},sortable:!!r,sortField:r,valueGetter:i||function(e){return e[s]}}};function tK(e){return(tK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tV(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function t$(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?tV(Object(s),!0).forEach(function(t){var n,r;n=t,r=s[t],(n=function(e){var t=function(e,t){if("object"!==tK(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==tK(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tK(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):tV(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function tJ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tX(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return tX(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tX(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var t0=function(e){var t,s,n,r;return{id:"",user:{id:(null===(t=e.member)||void 0===t?void 0:t.id)||"",email:(null===(s=e.member)||void 0===s?void 0:s.email)||"",full_name:(null===(n=e.member)||void 0===n?void 0:n.full_name)||"",image_medium_url:(null===(r=e.member)||void 0===r?void 0:r.image_medium_url)||""}}},t1=function(e){var t=e.setSelectedEntityType,s=(0,m.useRef)(!0),r=(0,m.useRef)(!0),o=(0,E.Z)().id,l=void 0===o?"":o,c=tJ((0,m.useState)(),2),u=c[0],d=c[1],p=tJ((0,m.useState)(),2),b=p[0],f=p[1],A=(0,a.ZP)(),v=(0,h.useDispatch)(),g=(0,U.nC)(),x=(0,U.HL)(),P=x.setSelectedEmployeeId,C=x.setSelectedPartnerId,j=x.setEditPersonRoleModal,I=x.setRemovePartnerModal,w=x.setRemoveSharedPartnerModal,z=x.setSelectedBusiness,O=x.setRemovePersonModal,T=x.businessAccess.business,N=(0,y.C)().businessHierarchies,B=(0,S.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),k=function(e){return N.flatMap(function(e){return"BUSINESS_HIERARCHY"===e.entity_type?e.children.map(function(e){return e}):e}).find(function(t){return t.user.id===e})},R=(0,h.useSelector)(W.oe),L=(0,h.useSelector)(W.du),H=eo("business-hierarchy-business-members"),Z=tZ(null==g?void 0:g.id),F=tG(null==g?void 0:g.id);if((0,m.useEffect)(function(){!L&&b&&T&&(P(b),t("EMPLOYEE"))},[L,b,P,t,z,T]),(0,m.useEffect)(function(){!L&&u&&T&&(C(u),t("PARTNER"))},[L,u,C,t,z,T]),!Z||!F||!g)return null;var M=[(0,tw.Z)(A,{field:"member",valueGetter:t0,headerName:A._('Employee name', '[m10n]businessAccess.businessHierarchy.details.employees.name', 'column name for employee name'),type:"PEOPLE",clickable:!1,sortField:"MEMBER_FULL_NAME"}),tq(A,{field:"business",valueGetter:function(e){return e.business.full_name},headerName:A._('Child business', '[m10n]businessAccess.businessHierarchy.details.employees.childBusiness', 'column name for child business the employee belongs to'),sortField:"BUSINESS_FULL_NAME"}),(0,tQ.Z)(A,{valueGetter:function(e){return(0,ef.B)(A)(e.business_role)},headerName:A._('Role', '[m10n]businessAccess.businessHierarchy.details.employees.role', 'column name for employee role')}),(0,tP.t)(A,{headerName:A._('Actions', '[m10n]businessHierarchy.actions', 'column of actions that can be taken on user'),actions:[{key:"editEmployee",icon:"edit",tooltipText:A._('Edit employee', '[m10n]businessAccess.businessHierarchy.employees.edit.button', 'tooltip text for edit employee'),onClick:function(e){B({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"employees-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"edit-button",employee_id:e.member.id}),z(k(e.business.id||"")),j({businessId:e.business.id||"",selectedId:e.member.id,onRefresh:Z,isBusinessAccess:!0})}},{key:"removeEmployee",icon:"remove",disabled:function(e){return l===e.member.id},tooltipText:function(e){return l===e.member.id?A._('You cannot remove yourself', '[m10n]businessAccess.businessHierarchy.employees.remove.button', 'tooltip if you try to remove yourself'):A._('Remove employee', '[m10n]businessAccess.businessHierarchy.employees.remove.button', 'remove employee from business')},onClick:function(e){B({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"employees-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-button",employee_id:e.member.id}),z(k(e.business.id||"")),O({businessId:e.business.id||"",selectedId:e.member.id,onRefresh:Z})}}]})],Y=[(0,tw.Z)(A,{field:"member",valueGetter:t0,headerName:A._('Partner name', '[m10n]businessAccess.businessHierarchy.details.partners.name', 'column name for a profiles partners'),type:"PARTNER",showDescriptor:!0,clickable:!1,sortField:"MEMBER_FULL_NAME"}),tq(A,{field:"business",valueGetter:function(e){return e.business.full_name},headerName:A._('Child business', '[m10n]businessAccess.businessHierarchy.details.partners.childBusiness', 'column name for child business the partner belongs to'),sortField:"BUSINESS_FULL_NAME"}),tj(A,{field:"principal",valueGetter:function(e){return e.principal.full_name}}),(0,tP.t)(A,{headerName:A._('Actions', '[m10n]businessHierarchy.actions', 'column of actions that can be taken on user'),actions:[{key:"removePartner",icon:"remove",tooltipText:A._('Remove partner', '[m10n]businessAccess.businessHierarchy.details.partners.remove.button', 'tooltip text for remove partner'),onClick:function(e){B({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"partners-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-button",partner_id:e.member.id}),z(k(e.business.id||""));var t=e.business.id||"";t===(e.principal.id||"")?I({businessId:t,partnerId:e.member.id,refreshData:F}):w({businessId:t,partnerId:e.member.id,refreshData:F})}}]})];if(b||u){var G=b?A._('Loading employee info', '[m10n]businessAccess.businessHierarchy.details.employee.loading', 'message shown when loading employee'):A._('Loading partner info', '[m10n]businessAccess.businessHierarchy.details.partner.loading', 'message shown when loading partner');return(0,_.jsx)(i.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,_.jsx)(i.xu,{padding:12,children:(0,_.jsx)(i.$j,{accessibilityLabel:G,delay:!1,show:!0})})})}return(0,_.jsx)(tW,{employees:R,employeesColumnDefs:M,employeesFetchData:function(e){B({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"employees-table",element:"BUSINESS_ACCESS_FIELD",elementId:"search-bar"}),s.current?(s.current=!1,Z(t$(t$({},e),{},{searchTerm:""}))):Z(e)},employeesIsLoading:L,employeesOnRowClick:function(e){if(null!=e&&e.member){var t=k(e.business.id||"");if(t&&e){var s={searchBy:["BUSINESS_ID"],searchTerm:e.member.id||"",businessId:t.user.id};v((0,D.ip)(s)),z(t),f(e.member.id)}}},employeesTableConfiguration:H,pageType:n.Q6.BUSINESS_HIERARCHY,partners:R,partnersColumnDefs:Y,partnersFetchData:function(e){B({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"employees-partner",element:"BUSINESS_ACCESS_FIELD",elementId:"search-bar"}),r.current?(r.current=!1,F(t$(t$({},e),{},{searchTerm:""}))):F(e)},partnersIsLoading:L,partnersOnRowClick:function(e){if(null!=e&&e.member){var t=k(e.business.id||"");if(t&&e){var s={searchBy:["BUSINESS_ID"],searchTerm:e.member.id||"",businessId:t.user.id};v((0,D.Eg)(s)),z(t),d(e.member.id)}}},partnersTableConfiguration:H})};function t2(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var t8=function(){var e,t=(0,a.ZP)(),s=(0,S.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),r=function(e){if(Array.isArray(e))return e}(e=(0,m.useState)(!1))||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return t2(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return t2(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],l=r[1],c=(0,m.useRef)(null),u=(0,U.HL)(),d=u.businessAccess.businessId,p=u.setRemoveChildBusinessModal,h=(0,A.Z)(n.Q6.DASHBOARD,d),b={value:"visitBusinessManager",label:t._('Visit Business Manager', '[m10n]businessAccess.businessHierarchy.detail.visitBusinessManager', 'Button that redirects the user the business manager page')},f=function(e){var t=e.item;"visitBusinessManager"===t.value?s({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"hierarchy-detail",element:"BUSINESS_ACCESS_BUTTON",elementId:"business-hierarchy-options",option_selected:t.value}):"removeBusiness"===t.value&&(s({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"hierarchy-detail",element:"BUSINESS_ACCESS_BUTTON",elementId:"business-hierarchy-options",business_id:d,option_selected:t.value}),p())};return(0,_.jsxs)(m.Fragment,{children:[(0,_.jsx)(i.kC,{children:(0,_.jsx)(i.xu,{padding:1,children:(0,_.jsx)(i.hU,{ref:c,accessibilityControls:"business-hierarchy-options",accessibilityExpanded:o,accessibilityHaspopup:!0,accessibilityLabel:t._('More options', '[m10n]businessAccess.businessHierarchy.detail.moreOptions', 'Button that triggers the more options dropdown'),bgColor:"lightGray",icon:"ellipsis",iconColor:"darkGray",onClick:function(){return l(!o)},selected:o,size:"md"})})}),o&&(0,_.jsxs)(i.Lt,{anchor:c.current,disableMobileUI:!0,id:"business-hierarchy-options",onDismiss:function(){return l(!1)},children:[(0,_.jsx)(i.Lt.Link,{href:h,isExternal:!0,onClick:function(e){e.event.preventDefault(),f({item:b})},option:b}),(0,_.jsx)(i.Lt.Item,{onSelect:f,option:{value:"removeBusiness",label:t._('Remove Child Business', '[m10n]businessAccess.businessHierarchy.detail.removeBusiness', 'Button that removes the current child business')}})]})]})};function t4(e){return(t4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t5(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}var t9=function(e){var t,s,r,o,l,d=e.account,p=(0,a.ZP)(),m=(0,(0,u.F)().checkExperiment)("web_m10n_business_hierarchy_beta").anyEnabled,h=(null==d?void 0:d.entity_type)==="BUSINESS_HIERARCHY";if(!d)return null;var b=h&&(null===(t=d.children)||void 0===t?void 0:t.length)||0,f=(null===(s=d.user)||void 0===s?void 0:s.full_name)||d.name||"",y=h&&m?(0,c.nk)(p.ngettext('Overview of {{count}} child business', 'Overview of {{count}} child businesses', b, '[m10n]businessAccess.businessHierarchy.detail.child.count', 'Text to display the child count of a business hierarchy. count: number of childs'),{count:b.toString()}).join(""):(0,c.nk)(p._('Business ID: {{ id }}', '[m10n]businessAccess.businessHierarchy.detail.id', 'Text to display the account ID. id: Is the id of the account'),{id:null===(r=d.user)||void 0===r?void 0:r.id}).join("");return(0,_.jsx)(i.xu,{"data-test-id":"hierarchy-detail",children:(0,_.jsx)(i.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderColor:"#e9e9e9"}},padding:4,rounding:4,children:(0,_.jsxs)(i.kC,{alignItems:"center",justifyContent:"between",children:[(0,_.jsxs)(i.kC,{alignItems:"center",gap:2,children:[(0,_.jsx)(B.qE,{name:f,size:"md",src:(null===(o=d.user)||void 0===o?void 0:o.image_medium_url)||d.img_medium_url||""}),(0,_.jsxs)(i.kC,{direction:"column",gap:1,children:[(0,_.jsx)(i.xv,{color:"default",size:"400",weight:"bold",children:f}),(0,_.jsxs)(i.kC,{alignItems:"center",children:[(0,_.jsx)(i.xv,{color:"subtle",size:"200",children:y}),!(h&&m)&&(null===(l=d.user)||void 0===l?void 0:l.id)&&(0,_.jsx)(ec.ZP,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?t5(Object(s),!0).forEach(function(t){var n,r;n=t,r=s[t],(n=function(e){var t=function(e,t){if("object"!==t4(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==t4(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===t4(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):t5(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}({page:n.Q6.BUSINESS_HIERARCHY,text:d.user.id},(0,ec.ix)(ec.OY.BUSINESS_ID,p)))]})]})]}),!h&&m&&(0,_.jsx)(t8,{})]})})})};function t3(e){return(t3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t7(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}var t6=function(e){var t=(0,U.nC)(),s=(0,U.MC)();return(0,_.jsxs)(m.Fragment,{children:[(0,_.jsx)(t9,{account:t||s}),t?(0,_.jsx)(t1,{setSelectedEntityType:e.setSelectedEntityType}):(0,_.jsx)(tR,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?t7(Object(s),!0).forEach(function(t){var n,r;n=t,r=s[t],(n=function(e){var t=function(e,t){if("object"!==t3(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==t3(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===t3(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):t7(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}({},e))]})},se=s(989721),st=s(888224),ss=s(347174),sn=s(180889);function sr(e){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function si(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function so(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?si(Object(s),!0).forEach(function(t){var n,r;n=t,r=s[t],(n=function(e){var t=function(e,t){if("object"!==sr(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==sr(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===sr(t)?t:String(t)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):si(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function sl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sa(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return sa(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var sc=function(e){var t=e.businessAccount,s=(0,a.ZP)(),r=sl((0,m.useState)(null),2),o=r[0],l=r[1],c=sl((0,m.useState)(0),2),d=c[0],p=c[1],f=sl((0,m.useState)(!1),2),y=f[0],A=f[1],v=sl((0,m.useState)(),2),g=v[0],x=v[1],P=sl((0,m.useState)(),2),C=P[0],j=P[1],I=sl((0,m.useState)(),2),w=I[0],z=I[1],O=sl((0,m.useState)(),2),T=O[0],N=O[1],B=(0,U.Dl)(),k=sl((0,m.useState)(),2)[1],R=eo("ad-accounts"),L=eo("employees"),H=eo("partners"),Z=eo("profiles"),Y=eo("ad-accounts-detail"),Q=eo("profiles-detail"),q=(0,h.useDispatch)(),K=(0,h.useSelector)(W.Xy),$=(0,h.useSelector)(W.wk),J=(0,h.useSelector)(W.yY),X=(0,h.useSelector)(W.JQ),et=(0,h.useSelector)(W.Wb),es=(0,h.useSelector)(W.h$),en=(0,h.useSelector)(W.Sl),ea=(0,h.useSelector)(W._1),ec=en.find(function(e){return e.id===B}),eu=(0,h.useSelector)(ei.Xj),ed=(0,h.useSelector)(ss.wk),e_=(0,h.useSelector)(ei.Xj),ep=(0,h.useSelector)(ss.wk),em=(0,h.useSelector)(ei.ZD),eh=(0,h.useSelector)(sn.JQ),eb=(0,h.useSelector)((0,W.mr)(null!==(e$=null==ec?void 0:ec.id)&&void 0!==e$?e$:"")),ef=(0,h.useSelector)(eC._1),ey=(0,h.useSelector)(ei.Aj),eA=(0,S.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),eS=(0,b.useHistory)(),ev=(0,E.Z)().id,eg=void 0===ev?"":ev,ex=(0,U.HL)(),eP=ex.setSelectedEmployeeId,ej=ex.setSelectedPartnerId,eE=ex.setSelectedBusiness,eI=ex.businessAccess,ew=eI.business,ez=eI.businessHierarchy,eO=ex.setRemoveProfilePermissionsModal,eT=(0,U.jn)(),eN=(0,u.F)(),eB=eN.checkExperiment,ek=eB("business_access_employees_api_v4_migration").anyEnabled,eD=eB("web_m10n_business_hierarchy_beta").anyEnabled,eR=eB("business_access_assets_and_history_api_v4_migration").anyEnabled,eL=er(null===(eX=t.user)||void 0===eX?void 0:eX.id,null==T?void 0:T.asset.id),eH=ee(null===(e0=t.user)||void 0===e0?void 0:e0.id,null==T?void 0:T.asset.id),eU=(0,F.Z)(null===(e1=t.user)||void 0===e1?void 0:e1.id,eT),eZ=(0,M.Z)(null===(e2=t.user)||void 0===e2?void 0:e2.id,eT),eF=V(null===(e8=t.user)||void 0===e8?void 0:e8.id,B);(0,m.useEffect)(function(){(ew&&!ez||!ew&&ez)&&(j(),k(),x(),N(),z(),ej(),eP())},[ew,ez,eP,ej,t]),(0,m.useEffect)(function(){eD||(A(!0),p(0))},[t,eD]);var eM=function(e){var s,n=e.searchTerm,r=e.limit,i=e.page,o=e.sortBy,l=e.sortDirection,a=so(so({searchBy:n&&/\d{12}/.test(n)?"id":void 0,searchTerm:n,businessId:null===(s=t.user)||void 0===s?void 0:s.id,detailId:eD?eT:null==g?void 0:g.id,sortBy:o,sortDirection:l},r?{limit:r}:{}),i?{page:i}:{});q((0,eJ.UQ)(a))},eG=function(e,s){var n,r=e.searchTerm,i=e.limit,o=e.page,l=e.sortBy,a=e.sortDirection,c={searchBy:r?"name":void 0,searchTerm:r,limit:i,page:o,businessId:(null===(n=t.user)||void 0===n?void 0:n.id)||"",detailId:(null==ec?void 0:ec.id)||"",sortBy:l,sortDirection:a,inEmployeeApiMigration:ek,experimentsClient:eN};null!=ec&&ec.is_shared_partner?q((0,st.iS)(so(so({},c),{},{searchBy:r?s?"FULL_NAME":"full_name":void 0}))):q((0,G.JL)(c))},eQ=function(e,s){var n,r=e.searchTerm,i=e.limit,o=e.page,l=e.sortBy,a=e.sortDirection,c=so(so({searchBy:r?s?"FULL_NAME":"full_name":void 0,searchTerm:r,businessId:null===(n=t.user)||void 0===n?void 0:n.id,detailId:null==T?void 0:T.asset.id,sortBy:l,sortDirection:a},i?{limit:i}:{}),o?{page:o}:{});q((0,D.mS)(c))},eq=function(e,s){var n,r=e.searchTerm,i=e.limit,o=e.page,l=e.sortBy,a=e.sortDirection,c=so(so({searchBy:r?s?"FULL_NAME":"full_name":void 0,searchTerm:r,businessId:null===(n=t.user)||void 0===n?void 0:n.id,detailId:null==T?void 0:T.asset.id,sortBy:l,sortDirection:a},i?{limit:i}:{}),o?{page:o}:{});q((0,D.N_)(c))},eK=function(e){eD?eP(null==e?void 0:e.id):(x(et.find(function(t){return t.id===(null==e?void 0:e.id)})),z("EMPLOYEE"))},eV=function(e){ej(null==e?void 0:e.id),z("PARTNER")};if(eD&&eT&&et.length>0||g&&"EMPLOYEE"===w){var e$,eX,e0,e1,e2,e8,e5,e9=eD?et.find(function(e){return e.id===eT}):g,e3=[(0,tE.Z)(s,{weight:tx.I.weights.bold,headerName:s._('Profile name', '[m10n]businessAccess.businessHierarchy.partner.profiles', 'column name for a partners profiles'),hidesAvatar:!1,clickable:!1})],e7=[(0,tE.Z)(s,{headerName:s._('Ad account name', '[m10n]businessAccess.businessHierarchy.partner.adAccounts', 'column name for a partners ad accounts'),weight:tx.I.weights.bold,clickable:!1,width:"50%"}),(0,tQ.Z)(s,{field:eR?"permissions":"roles",width:"40%"})];return eD&&(e3.push((0,tP.t)(s,{headerName:s._('Actions', '[m10n]businessHierarchy.actions', 'column of actions that can be taken on user'),actions:[{key:"visitProfile",icon:"arrow-up-right",tooltipText:s._('View profile', '[m10n]businessAccess.businessHierarchy.column.visit.profile', 'tooltip text for visit profile'),onClick:function(e){eS.push(e.owner.username?"/".concat(e.owner.username):"#")}},{key:"removeEmployeeProfilePermission",icon:"remove",disabled:function(e){return eg===e.user.id},tooltipText:function(e){return eg===e.user.id?s._('You cannot remove yourself', '[m10n]bizAccess.business.person.removeTooltip', 'tooltip if you try to remove yourself'):s._('Remove profile access', '[m10n]businessAccess.businessHierarchy.table.employee.profile.remove_tooltip', 'Remove an employee\'s permission to a profile')},onClick:function(e){eA({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_TABLE",componentId:"profiles-table",element:"BUSINESS_ACCESS_BUTTON",elementId:"remove-employee-from-profile",profile_id:e.asset.id}),eO({userData:e.user,selectionType:n.Hl.PERSON,profileId:e.asset.id,dataToRefresh:"PEOPLE"})}}]})),e7.push((0,tP.Z)(s,"AD_ACCOUNT","EDIT_OR_REMOVE_OR_LINK_EMPLOYEE_PERMISSION",{iconSize:"xs",width:"10%"},eU||eM))),(0,_.jsx)(e4,{adAccounts:e_,adAccountsColumnDefs:e7,adAccountsFetchData:eD&&eU?eU:eM,adAccountsIsLoading:ep,adAccountsOnRowClick:function(e){j(e_.find(function(t){return t.asset.id===(null==e?void 0:e.asset.id)})),z("AD_ACCOUNT")},adAccountsTableConfiguration:Y,businessId:null===(e5=t.user)||void 0===e5?void 0:e5.id,closePanels:y,employee:e9,onBackClick:function(){eD?(eP(),ez&&eE()):x()},pageType:n.Q6.BUSINESS_HIERARCHY,profiles:em.map(function(e){return so({user:null==e9?void 0:e9.user},e)}),profilesColumnDefs:e3,profilesFetchData:eD&&eZ?eZ:function(e){var s,n=e.searchTerm,r=e.limit,i=e.page,o=e.sortBy,l=e.sortDirection,a=so(so({searchBy:n&&/\d{12}/.test(n)?"id":void 0,searchTerm:n,businessId:null===(s=t.user)||void 0===s?void 0:s.id,detailId:eD?eT:null==g?void 0:g.id,sortBy:o,sortDirection:l},r?{limit:r}:{}),i?{page:i}:{});q((0,eJ.fR)(a))},profilesIsLoading:eh,profilesOnRowClick:function(e){N(em.find(function(t){return t.asset.id===(null==e?void 0:e.asset.id)})),z("PROFILE")},profilesTableConfiguration:Q})}if((B&&en.length>0||ec)&&"PARTNER"===w){var e6=[(0,tw.Z)(s,{headerName:s._('Employee name', '[m10n]businessAccess.businessHierarchy.partner.profiles.employee', 'column name for employees who have access to the partner\'s profiles'),type:"PEOPLE",hidesAvatar:!0,clickable:!1}),(0,tQ.Z)(s,{field:"roles"})],te=[(0,tE.Z)(s,{headerName:s._('Ad account name', '[m10n]businessAccess.businessHierarchy.partner.adAccounts', 'column name for a partners ad accounts'),weight:tx.I.weights.bold,clickable:!1,width:"50%"}),(0,tQ.Z)(s,{field:eR?"permissions":"roles",width:"40%"})],tt=eD&&eF?eF:function(e){var s,n,r,i=e.searchTerm,o=e.limit,l=e.page,a=e.sortBy,c=e.sortDirection,u=so(so(so({searchBy:i&&/\d{12}/.test(i)?"id":void 0,searchTerm:i,businessId:null!==(s=null===(n=t.user)||void 0===n?void 0:n.id)&&void 0!==s?s:"",detailId:null!==(r=null==ec?void 0:ec.id)&&void 0!==r?r:"",sortBy:a,sortDirection:c},o?{limit:o}:{}),l?{page:l}:{}),{},{experimentsClient:eN});null!=ec&&ec.is_shared_partner?q((0,G.CM)(u)):q((0,G.ek)(u))};if(eD){e6.push((0,tP.Z)(s,"PEOPLE","REMOVE_EMPLOYEE_PROFILE_PERMISSIONS",{iconSize:"xs"},eG));var ts=null!=ec&&ec.is_shared_partner?(0,tP.Z)(s,"AD_ACCOUNT","REMOVE_OR_LINK_PARTNER_PERMISSION",{iconSize:"xs",width:"10%"},tt):(0,tP.Z)(s,"AD_ACCOUNT","EDIT_OR_REMOVE_OR_LINK_PARTNER_PERMISSION",{iconSize:"xs",width:"10%"},tt);te.push(ts)}return(0,_.jsx)(ta,{adAccounts:eu,adAccountsColumnDefs:te,adAccountsFetchData:tt,adAccountsIsLoading:ed,adAccountsOnRowClick:function(e){j(eu.find(function(t){return t.asset.id===(null==e?void 0:e.asset.id)})),z("AD_ACCOUNT")},adAccountsTableConfiguration:Y,closePanels:y,employees:ey,employeesColumnDefs:e6,employeesFetchData:eG,employeesIsLoading:ef,employeesTableConfiguration:L,onBackClick:function(){ej(),ez&&eE()},pageType:n.Q6.BUSINESS_HIERARCHY,partner:ec,partnerRole:eb&&eb.profiles&&eb.profiles.length?eb.profiles[0].permissions[0]:void 0})}if(C&&"AD_ACCOUNT"===w){var tn,tr=[(0,tw.Z)(s,{headerName:s._('Employee name', '[m10n]businessAccess.businessHierarchy.adAccount.employees', 'column name for an ad accounts employees'),type:"PEOPLE",clickable:!1}),(0,tQ.Z)(s,{field:"roles"})],ti=[(0,tw.Z)(s,{headerName:s._('Partner name', '[m10n]businessAccess.businessHierarchy.adAccount.partners', 'column name for an ad accounts partners'),type:"PARTNER",showDescriptor:!0,clickable:!1}),(0,tQ.Z)(s,{field:"roles"})];return eD&&(tr.push((0,tP.Z)(s,"PEOPLE","EDIT_OR_REMOVE_AD_ACCOUNT_PERMISSION",{iconSize:"xs"})),ti.push((0,tP.Z)(s,"PARTNER","EDIT_OR_REMOVE_AD_ACCOUNT_PERMISSION",{iconSize:"xs"}))),(0,_.jsx)(eY,{adAccount:C,businessId:null===(tn=t.user)||void 0===tn?void 0:tn.id,closePanels:y,employees:et,employeesColumnDefs:tr,employeesFetchData:function(e,s){var n,r,i,o,l=e.searchTerm,a=e.limit,c=e.page,u=e.sortBy,d=e.sortDirection;A(!1);var _=s?"FULL_NAME":"full_name",p=so(so({searchBy:l?_:void 0,searchTerm:l,businessId:null===(n=t.user)||void 0===n?void 0:n.id,detailId:null==C?void 0:C.asset.id,sortBy:u,sortDirection:d},a?{limit:a}:{}),c?{page:c}:{});q((0,D.Q3)(p)),q((0,se.yX)({businessId:null!==(r=null===(i=t.user)||void 0===i?void 0:i.id)&&void 0!==r?r:"",detailId:null!==(o=null==C?void 0:C.asset.id)&&void 0!==o?o:"",updateDataOnly:!0,searchBy:_,sortBy:_}))},employeesIsLoading:es,employeesOnRowClick:eK,employeesTableConfiguration:L,onBackClick:function(){z(),j()},pageType:n.Q6.BUSINESS_HIERARCHY,partners:en,partnersColumnDefs:ti,partnersFetchData:function(e,s){var n,r=e.searchTerm,i=e.limit,o=e.page,l=e.sortBy,a=e.sortDirection;A(!1);var c=so(so({searchBy:r?s?"FULL_NAME":"full_name":void 0,searchTerm:r,businessId:null===(n=t.user)||void 0===n?void 0:n.id,detailId:null==C?void 0:C.asset.id,sortBy:l,sortDirection:a},i?{limit:i}:{}),o?{page:o}:{});q((0,D.yX)(c))},partnersIsLoading:ea,partnersOnRowClick:eV,partnersTableConfiguration:H})}if(T&&"PROFILE"===w){var to=T.roles.includes("OWNER"),tl=[(0,tw.Z)(s,{headerName:s._('Employee name', '[m10n]businessAccess.businessHierarchy.profiles.employees', 'column name for a profiles employees'),type:"PEOPLE",clickable:!1}),(0,tQ.Z)(s,{field:"roles"})],tc=[(0,tw.Z)(s,{headerName:s._('Partner name', '[m10n]businessAccess.businessHierarchy.profiles.partners', 'column name for a profiles partners'),type:"PARTNER",showDescriptor:!0,clickable:!1}),tj(s)];return eD&&(tl.push((0,tP.Z)(s,"PEOPLE","REMOVE_EMPLOYEE_PROFILE_PERMISSIONS",{iconSize:"xs"},eD&&eL?eL:eQ)),tc.push((0,tP.Z)(s,"PARTNER","REMOVE_PARTNER_PROFILE_PERMISSIONS",{iconSize:"xs"},eD&&eH?eH:eq))),(0,_.jsx)(tu,{businessAccount:t,closePanels:y,employees:et,employeesColumnDefs:tl,employeesFetchData:eD&&eL?eL:eQ,employeesIsLoading:es,employeesOnRowClick:eK,employeesTableConfiguration:L,hidePartnersTab:!to,onBackClick:function(){z(),N()},pageType:n.Q6.BUSINESS_HIERARCHY,partners:en,partnersColumnDefs:tc,partnersFetchData:eD&&eH?eH:eq,partnersIsLoading:ea,partnersOnRowClick:eV,partnersTableConfiguration:H,profile:T})}return eD?(0,_.jsx)(t6,{activeTabIndex:d,expandedIndex:o,setActiveTabIndex:p,setExpandedIndex:l,setSelectedAdAccount:j,setSelectedAssetGroup:k,setSelectedEntityType:z,setSelectedProfile:N}):(0,_.jsxs)(m.Fragment,{children:[(0,_.jsx)(t9,{account:t}),(0,_.jsxs)(i.xu,{marginTop:2,children:[(0,_.jsxs)(i.kC,{justifyContent:"between",children:[(0,_.jsx)(i.mQ,{activeTabIndex:d,onChange:function(e){var t=e.event,s=e.activeTabIndex,n=e.dangerouslyDisableOnNavigation;t.preventDefault(),n(),p(s),eA({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_NAVIGATION",componentId:"business-hierarchy-panel",element:"BUSINESS_ACCESS_LINK",elementId:0===s?"assets.tab":"members.tab"})},tabs:[{href:"#",text:s._('Assets', '[m10n]businessAccess.businessHierarchy.assets.tab.label', 'business hierarcy assets tab label')},{href:"#",text:s._('Members', '[m10n]businessAccess.businessHierarchy.members.tab.label', 'business hierarchy members tab label')}]}),"BUSINESS_ACCOUNT"===t.entity_type&&(0,_.jsx)(eW,{})]}),(0,_.jsxs)(i.xu,{marginTop:2,children:[0===d&&(0,_.jsx)(m.Fragment,{children:(0,_.jsx)(el.Z,{adAccounts:K,adAccountsColumnDefs:[(0,tE.Z)(s,{weight:tx.I.weights.bold,headerName:s._('Ad account name', '[m10n]businessAccess.businessHierarchy.assets.adAccounts', 'column name for an asstets ad accounts'),clickable:!1,onClick:function(e){var t,s=(null==e?void 0:e.asset_id)||(null==e?void 0:null===(t=e.asset)||void 0===t?void 0:t.id);j(K.find(function(e){return e.asset.id===s})),z("AD_ACCOUNT")}}),(0,tI.Z)(s)],adAccountsFetchData:function(e){var s,n=e.searchTerm,r=e.limit,i=e.page,o=e.sortBy,l=e.sortDirection;A(!1);var a=so(so({searchBy:"name_or_id",searchTerm:n,businessId:null===(s=t.user)||void 0===s?void 0:s.id,sortBy:o,sortDirection:l},r?{limit:r}:{}),i?{page:i}:{});q((0,D.cE)(a))},adAccountsIsLoading:$,adAccountsOnRowClick:function(e){j(K.find(function(t){return t.asset.id===(null==e?void 0:e.asset.id)})),z("AD_ACCOUNT")},adAccountsTableConfiguration:R,closePanels:y,pageType:n.Q6.BUSINESS_HIERARCHY,profiles:J,profilesColumnDefs:[(0,tE.Z)(s,{weight:tx.I.weights.bold,headerName:s._('Profile name', '[m10n]businessAccess.businessHierarchy.assets.profiles', 'column name for an asstets profiles'),hidesAvatar:!1,clickable:!1})],profilesFetchData:function(e){var s,n=e.searchTerm,r=e.limit,i=e.page,o=e.sortBy,l=e.sortDirection;A(!1);var a=so(so({searchBy:n?"name_or_id":void 0,searchTerm:n,businessId:null===(s=t.user)||void 0===s?void 0:s.id,sortBy:o,sortDirection:l},r?{limit:r}:{}),i?{page:i}:{});q((0,D.cp)(a))},profilesIsLoading:X,profilesOnRowClick:function(e){N(J.find(function(t){return t.asset.id===(null==e?void 0:e.asset.id)})),z("PROFILE")},profilesTableConfiguration:Z})}),1===d&&(0,_.jsx)(td.Z,{closePanels:y,employees:et,employeesColumnDefs:[(0,tw.Z)(s,{headerName:s._('Employee name', '[m10n]businessAccess.businessHierarchy.members.employees', 'column name for a members employees'),type:"PEOPLE",clickable:!1}),(0,tz.Z)(s,{field:ek?"business_roles":"biz_roles"})],employeesFetchData:function(e){var s,n=e.searchTerm,r=e.limit,i=e.page,o=e.sortBy,l=e.sortDirection;A(!1),q((ek?D.ip:D.fN)(so(so({searchBy:ek?["FULL_NAME","EMAIL"]:"full_name",searchTerm:n,businessId:null===(s=t.user)||void 0===s?void 0:s.id,sortBy:o,sortDirection:l},r?{limit:r}:{}),i?{page:i}:{})))},employeesIsLoading:es,employeesOnRowClick:eK,employeesTableConfiguration:L,pageType:n.Q6.BUSINESS_HIERARCHY,partners:en,partnersColumnDefs:[(0,tw.Z)(s,{headerName:s._('Partner name', '[m10n]businessAccess.businessHierarchy.members.partners', 'column name for a members partners'),type:"PARTNER",showDescriptor:!0,clickable:!1}),tj(s)],partnersFetchData:function(e){var s,n=e.searchTerm,r=e.limit,i=e.page,o=e.sortBy,l=e.sortDirection;A(!1),q((0,D.Eg)(so(so({searchBy:["FULL_NAME","BUSINESS_ID","USERNAME"],searchTerm:n,businessId:null===(s=t.user)||void 0===s?void 0:s.id,sortBy:o,sortDirection:l},r?{limit:r}:{}),i?{page:i}:{})))},partnersIsLoading:ea,partnersOnRowClick:eV,partnersTableConfiguration:H})]})]})]})};function su(e){return(su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sd(e,t,s,n,r,i,o){try{var l=e[i](o),a=l.value}catch(e){s(e);return}l.done?t(a):Promise.resolve(a).then(n,r)}function s_(e,t,s){var n;return(n=function(e,t){if("object"!==su(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==su(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===su(n)?n:String(n))in e)?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function sp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,i,o,l=[],a=!0,c=!1;try{if(i=(s=s.call(e)).next,0===t){if(Object(s)!==s)return;a=!1}else for(;!(a=(n=i.call(s)).done)&&(l.push(n.value),l.length!==t);a=!0);}catch(e){c=!0,r=e}finally{try{if(!a&&null!=s.return&&(o=s.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sm(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if("Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return sm(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sm(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}var sh=function(){(0,g.Z)(1000483);var e,t,s,r=(0,u.F)().checkExperiment,o=r("web_m10n_business_hierarchy_beta").anyEnabled,l=r("web_business_access_business_hierarchy_invite_flow").anyEnabled,d=(0,v._)({id:1000483}),p=!!(d&&505651===d.experience_id),T=(0,C.B)().sterlingOnSteroidsLdap,N=(0,a.ZP)(),B=(0,U.HL)(),k=B.setSelectedBusiness,R=B.setSelectedBusinessHierarchy,H=B.businessAccess,F=H.business,M=H.businessHierarchy,Y=B.setAddChildBusinessesModal,G=(0,S.ZP)("BUSINESS_ACCESS_BUSINESS_HIERARCHY"),W=(0,b.useRouteMatch)().params.businessHierarchyId,Q=(0,y.C)().businessHierarchies,q=(0,b.useHistory)(),K=(0,b.useLocation)(),V=(0,E.Z)(),$=(0,j.F9)().showToast,J=new URLSearchParams(K.search),X=sp((0,m.useState)(null),2),ee=X[0],et=X[1],es=sp((0,m.useState)(l&&J.get(n.j9)===n.K3.PENDING?n.pt.PENDING:n.pt.ACTIVE),2),en=es[0],er=es[1];p||T||!o||V.has_mfa_enabled||q.push((0,A.Z)("DASHBOARD",null,null,W));var ei=Q.find(function(e){return e.id===W}),eo=null==ei?void 0:ei.children,el=sp((0,I.Z)("businessHierarchyChildBusinessInviteTable",W||"",!0),3),ea=el[0],ec=el[2],eu=(0,h.useDispatch)(),ed=function(e){if(l)switch(er(e),e){case n.pt.ACTIVE:G({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"business-side-panel-tab",element:"BUSINESS_ACCESS_BUTTON",elementId:"business-side-panel-tab-active"}),q.replace({pathname:K.pathname,search:new URLSearchParams(s_({},n.j9,n.K3.ACTIVE)).toString()});break;case n.pt.PENDING:G({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"business-side-panel-tab",element:"BUSINESS_ACCESS_BUTTON",elementId:"business-side-panel-tab-pending"}),q.replace({pathname:K.pathname,search:new URLSearchParams(s_({},n.j9,n.K3.PENDING)).toString()}),eu((0,D.mH)({hierarchyId:W||"",type:"CHILD_BUSINESS"}))}},e_=N._('Business hierarchy', '[m10n]bizAccess.hierarchy.title', 'Business hierarchy page title'),ep=F||M;s=l&&en===n.pt.PENDING?ec?(0,_.jsx)(i.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderColor:"#e9e9e9"}},flex:"grow",height:"100%",padding:4,rounding:4,children:(0,_.jsx)(i.kC,{alignItems:"center",flex:"grow",height:"100%",justifyContent:"center",children:(0,_.jsx)(i.$j,{show:!0,size:"md"})})}):ea&&ee?(0,_.jsx)(L,{invite:ee}):(0,_.jsx)(Z,{buttonText:N._('Add business', '[m10n]bizAccess.sidePanel.addBusiness.button', 'Button label to enter the invite business flow'),description:N._('You\'ll find businesses that you\'ve invited to join your business hierarchy here', '[m10n]bizAccess.invitePanel.emptyState.description', 'Description text for the invite panel empty state'),title:N._('Pending businesses', '[m10n]bizAccess.invitePanel.emptyState.title', 'Title text for the invite panel empty state')}):ep&&(0,_.jsx)(sc,{businessAccount:ep});var em=(null==ei?void 0:ei.entity_type)==="BUSINESS_HIERARCHY"&&en!==n.pt.PENDING?ei:void 0,eh=function(){$(function(e){var t=e.hideToast;return(0,_.jsx)(P.ZP,{duration:3e3,onHide:t,text:N._('Export error! Please try again.', '[m10n]bizAccess.sidePanel.toast.export.error', 'Informs the user that there was an error when attempting to export hierarchy permissions, in a toast.')})})},eb=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,em){e.next=4;break}return eh(),e.abrupt("return");case 4:return e.next=6,(0,x.Z)({url:"/ads/v4/business_access/business_hierarchy/".concat(em.id,"/export/"),method:"GET",callOptions:{async:!0}});case 6:(t=e.sent).resource_response?(0,f.Z)(t.resource_response.data,"business_hierarchy"):eh(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),eh();case 13:case"end":return e.stop()}},e,null,[[0,10]])}),t=function(){var t=this,s=arguments;return new Promise(function(n,r){var i=e.apply(t,s);function o(e){sd(i,n,r,o,l,"next",e)}function l(e){sd(i,n,r,o,l,"throw",e)}o(void 0)})},function(){return t.apply(this,arguments)});return(0,_.jsx)(i.xu,{"data-test-id":"hierarchy-page",children:(0,_.jsx)(z.Z,{fitToWindow:!0,mainContent:s,pageProps:{title:e_,infoTooltip:{text:N._('Manage child businesses by adding, removing or editing your employees, partners and assets', '[m10n]bizAccess.businessHierarchy.info.icon.text', 'Icon tooltip text to describe what the user can do in the business hierarchy section'),accessibilityLabel:N._('Business hierarchy info icon', '[m10n]bizAccess.businessHierarchy.info.icon.accessibilityLabel', 'Accessibility label for business hierarchy info icon')}},sidebarContent:(0,_.jsx)(i.xu,{"data-test-id":"hierarchy-side-panel",height:"100%",overflow:"hidden",children:(0,_.jsx)(w.Z,{controls:l&&(0,_.jsx)(O,{createInviteButtonAction:function(){return Y({onClose:function(e){if(e){var t=e.toUpperCase();t&&er(n.pt[t]),q.replace({pathname:K.pathname,search:new URLSearchParams(s_({},n.j9,e)).toString()})}}})},createInviteButtonText:N._('Add business', '[m10n]bizAccess.sidePanel.addBusiness.button', 'Button label to enter the invite business flow'),exportButtonAction:function(){G&&G({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_FORM",componentId:"business-side-panel",element:"BUSINESS_ACCESS_BUTTON",elementId:"business-side-panel-export"}),eb()},onChangeTab:function(e){ed(e.activeIndex)},selectedItemIndex:en,tabItems:[(0,_.jsx)(i.xv,{size:"300",weight:"bold",children:N._('Active', '[m10n]bizAccess.sidePanel.addBusiness.tab.active', 'Tab label to view active child businesses')},"active"),(0,_.jsx)(i.xv,{size:"300",weight:"bold",children:N._('Pending', '[m10n]bizAccess.sidePanel.addBusiness.tab.pending', 'Tab label to view pending child businesses')},"pending")]}),items:l&&en===n.pt.PENDING?ea:eo,logger:G,onItemClick:function(e){"BUSINESS_ACCOUNT"===e.entity_type?(k(e),R()):"BUSINESS_HIERARCHY"===e.entity_type?(k(),R(e)):"INVITE"===e.entity_type&&et(e)},parent:em,searchBy:function(e,t){var s,n;return(null===(s=t.user)||void 0===s?void 0:s.id.includes(e))||((null===(n=t.user)||void 0===n?void 0:n.full_name)||"").toLowerCase().includes(e)},searchPlaceholder:N._('Search businesses', '[m10n]bizAccess.hierarchy.search', 'Placeholder for search accounts component'),shouldScroll:!0,subtitlePerItem:function(e){var t;return(0,c.nk)(N._('ID: {{ id }}', '[m10n]bizAccess.hierarchy.item.subtitle', 'Text to display the id of the business in the subtitle of the item. id: Corresponds to the ID of the business'),{id:null===(t=e.user)||void 0===t?void 0:t.id}).join("")},titlePerItem:function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.full_name}})})})})},sb=function(){return(0,_.jsxs)(r.Z,{pageType:n.Q6.BUSINESS_HIERARCHY,children:[(0,_.jsx)(p,{}),(0,_.jsx)(sh,{})]})}},321994:function(e){"use strict";e.exports="https://s.pinimg.com/webapp/empty-state-employees-2x-c07e3ea2.png"}},function(e){e.O(0,[97270,8390,1861,99689,26067,17492,48327,66312,99246,70987,68445,80538,92914,11582,88435,19798,6863,73453,35477,38628,85690,16134,45392],function(){return e(e.s=165027)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/business/business-hierarchy/[businessHierarchyId]/hierarchy-b18d3ec9ed327863.js.map