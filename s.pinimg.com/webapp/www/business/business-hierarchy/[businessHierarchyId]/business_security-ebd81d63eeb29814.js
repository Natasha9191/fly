(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[68602],{915901:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/business/business-hierarchy/[businessHierarchyId]/business_security"]=function(){return n(701915).Z}},462938:function(e,t,n){"use strict";var r=n(76911),s=n(505025),i=n(326884),o=n(186656),c=n(773285),a=n(19121),l=n(165544),u=n(433835),d=n(769106),f=n(76041);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t,n,r,s,i,o){try{var c=e[i](o),a=c.value}catch(e){n(e);return}c.done?t(a):Promise.resolve(a).then(r,s)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){b(i,r,s,o,c,"next",e)}function c(e){b(i,r,s,o,c,"throw",e)}o(void 0)})}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,c=[],a=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);a=!0);}catch(e){l=!0,s=e}finally{try{if(!a&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(){var e,t,n,h=(0,c.F)().checkExperiment("ba_mfa_enabled").anyEnabled,m=(0,c.F)().checkExperiment("business_access_employees_api_v4_migration").anyEnabled,b=(0,a.Z)(),g=_((0,r.useState)([]),2),x=g[0],v=g[1],j=_((0,r.useState)([]),2),A=j[0],S=j[1],w=_((0,r.useState)([]),2),P=w[0],E=w[1],z=(0,r.useCallback)((e=p(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=5;break}return n=m?(0,l.dF)({id:String(t)},i.cU,"PEOPLE"):(0,f.kH)({id:String(t),limit:i.cU}),e.next=4,Promise.all([n,(0,u.cR)(),(0,d.ZP)({businessId:String(t),useApiResource:!0})]).then(function(e){return e});case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return",[null,null,null]);case 6:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),[m,h]);(0,r.useEffect)(function(){var e;(e=p(regeneratorRuntime.mark(function e(){var t,n,r,s,i,o,c,a,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=m?"business_roles":"biz_roles",e.next=3,z(b.id);case 3:s=(r=_(e.sent,3))[0],i=r[1],o=r[2],c=i||[],a=(null==s?void 0:s.data.data)||[],l=(null==o?void 0:null===(t=o.data)||void 0===t?void 0:t.business_roles)||[],v(c.filter(function(e){return(e.requires_mfa_for_roles||[]).some(function(t){return(e[n]||[]).includes(t)})})),l&&S(a.filter(function(e){return l.some(function(t){return(e[n]||[]).includes(t)})})),E(l);case 14:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[b.id,z,m]);var O=(0,r.useCallback)((t=p(regeneratorRuntime.mark(function e(t){var n,r,s,i,o,c,a,l,u,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{});case 2:return r=m?"business_roles":"biz_roles",e.next=5,z(t);case 5:return i=(s=_(e.sent,3))[0],o=s[2],c=(null==i?void 0:i.data.data)||[],l=(a=(null==o?void 0:null===(n=o.data)||void 0===n?void 0:n.business_roles)||[]).length>0,u=[],d=[],l&&(d=(u=c.filter(function(e){return a.some(function(t){return(e[r]||[]).includes(t)})})).filter(function(e){return e.has_mfa_enabled})),f=null,a.length>0&&(f=a.length>1?"EVERYONE":"MANAGERS"),e.abrupt("return",{businessId:t,isEnforced:l,enforcementType:f,activeEmployees:l?d.length:null,pendingSetupEmployees:l?u.length-d.length:null});case 18:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[m,z]),C=(0,r.useCallback)((n=p(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return e.prev=2,e.next=5,(0,o.Z)({url:"ads/v4/business_access/business_hierarchies/"});case 5:if(r=(null==(n=(e.sent.resource_response.data||[]).find(function(e){return e.id===t}))?void 0:n.children)||[],e.t0=r,!e.t0){e.next=15;break}return e.next=14,Promise.all(r.map(function(){var e=p(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.user.entity_type=s.Oz.USER_ACCOUNT,e.prev=1,e.t0=y,e.t1=y({},t),e.t2={},e.t3=y,e.t4={},e.next=9,O(t.user.id);case 9:return e.t5=e.sent,e.t6=(0,e.t3)(e.t4,e.t5),e.t7={mfa_summary:e.t6},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t7));case 15:return e.prev=15,e.t8=e.catch(1),e.abrupt("return",t);case 18:case"end":return e.stop()}},e,null,[[1,15]])}));return function(t){return e.apply(this,arguments)}}()));case 14:e.t0=e.sent;case 15:return i=e.t0,e.abrupt("return",i||[]);case 19:return e.prev=19,e.t1=e.catch(2),e.abrupt("return",[]);case 22:case"end":return e.stop()}},e,null,[[2,19]])})),function(e){return n.apply(this,arguments)}),[O]);return{employersWhoRequireMfa:x,employeesRequiredToMfa:A,viewerId:String(b.id),viewerRequiresMfaForRoles:P,getMFAEnforcementDetailsForBusinessById:O,getChildBusinessesWithMFAEnforcementDetailsForHierarchyById:C}}},760137:function(e,t,n){"use strict";var r=n(908390),s=n(15099),i=n(898781),o=n(82347),c=n(273453),a=n(515198);t.Z=function(e){var t=e.page,n=e.shouldUseSlimBanner,l=(0,c.KJ)(),u=(0,i.ZP)(),d=(0,s.ZP)(t),f=(0,o.o)().openSheet,h=u._('You have one or more ad accounts that require ad account creation approval', '[m10n]businessAccess.aoaaRequestsBanner.accessibilityLabel', 'Accessibility label for ad account request callout'),m=u._('You have one or more ad accounts that require ad account creation approval', '[m10n]businessAccess.aoaaRequestsBanner.message', 'Message providing details to the advertiser about the ad account request.'),y={accessibilityLabel:u._('View requests', '[m10n]businessAccess.aoaaRequestsBanner.action.accessibilityLabel', 'Accessbility label for view requests banner link'),label:u._('View requests', '[m10n]businessAccess.aoaaRequestsBanner.action.label', 'View requests banner link'),onClick:function(){d({eventName:"BUSINESS_ACCESS_ACTION",component:"BUSINESS_ACCESS_CONTAINER",componentId:"aoaa-pending-incoming-requests-banner",element:"BUSINESS_ACCESS_LINK",elementId:"aoaa-pending-incoming-requests-banner-link",business_id:l}),f("RESPOND_AOAA_REQUESTS",{id:l})}};return void 0!==n&&n?(0,a.jsx)(r.xu,{children:(0,a.jsx)(r.he,{iconAccessibilityLabel:h,message:m,primaryAction:y,type:"info"})}):(0,a.jsx)(r.xu,{children:(0,a.jsx)(r.ci,{iconAccessibilityLabel:h,message:m,primaryAction:y,type:"info"})})}},489746:function(e,t,n){"use strict";var r=n(908390),s=n(852260),i=n(898781),o=n(515198);t.Z=function(){var e=(0,i.ZP)();return(0,o.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:(0,o.jsx)(r.$j,{accessibilityLabel:(0,s.hC)(e),delay:!1,show:!0,size:"sm"})})}},670963:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(908390),s=n(858472),i=n(898781),o=n(773285),c=n(760137),a=n(489746),l=n(515198),u=function(e){var t=e.title,n=e.subtitle,i=e.header,o=e.content;return(0,l.jsxs)(r.xu,{as:"article",marginEnd:6,marginStart:6,paddingY:6,children:[(0,l.jsxs)(r.xu,{as:"header",marginBottom:4,marginStart:2,children:[(0,l.jsx)(r.xu,{marginBottom:2,children:"string"==typeof t?(0,l.jsx)(r.X6,{size:"500",children:t}):t}),"string"==typeof n?(0,l.jsx)(r.xv,{size:"300",children:n}):n]}),(0,l.jsx)(r.xu,{as:"section",borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:s.cO}},padding:4,rounding:4,children:(0,l.jsxs)(r.kC,{direction:"column",gap:6,children:[!!i&&(0,l.jsx)(r.kC.Item,{flex:"grow",children:i}),(0,l.jsx)(r.kC.Item,{children:o})]})})]})};t.Z=function(e){var t=e.heading,n=e.title,u=e.titleSize,d=void 0===u?"500":u,f=e.titleTooltip,h=e.subtitle,m=e.cta,y=e.secondaryAction,b=e.search,p=e.tabs,_=e.isLoading,g=e.table,x=e.searchInputWidth,v=e.maxWidth,j=e.heightShouldGrowWithContent,A=e.showAoaaBanner,S=e.subtitleHref,w=void 0===S?"":S,P=e.subtitleDataTestId,E=(0,i.ZP)(),z=(0,o.F)().checkExperiment,O=z("web_business_access_quick_edit").anyEnabled,C=z("exp_ia_navigation_mega_nav_m1").anyEnabled,I=(0,l.jsx)(r.xu,{marginBottom:2,minWidth:null!=x?x:330,children:b});if(O){var T=(0,l.jsxs)(r.xu,{children:[(0,l.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:4,width:"100%",children:[(0,l.jsx)(r.xu,{children:p}),(0,l.jsx)(r.xu,{marginBottom:2,children:m})]}),b?(0,l.jsx)(r.xu,{marginBottom:2,minWidth:"100%",children:b}):null]}),R=(0,l.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:2,width:"100%",children:[(0,l.jsx)(r.kC.Item,{flex:"grow",children:b}),(0,l.jsx)(r.xu,{alignItems:"center",display:"flex",marginStart:2,children:m})]}),k=E._('Additional info', '[m10n] businessAccess.permissions.cell.additionalInfo', 'accessibility label of more info tooltips');return(0,l.jsxs)(r.xu,{direction:"column",display:"flex",overflow:"visible",padding:6,children:[(0,l.jsxs)(r.xu,{display:"flex",marginBottom:4,marginStart:2,children:[(0,l.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(r.X6,{size:"500",children:n}),f&&(0,l.jsx)(r.hU,{accessibilityLabel:E._('Page info icon', '[[m10n]bizAccess.page.info.icon', 'Accessibility label for page info icon'),bgColor:"transparent",icon:"info-circle",iconColor:"gray",size:"xs",tooltip:{text:f,accessibilityLabel:f}})]}),!!h&&"string"==typeof h&&(0,l.jsx)(r.xu,{alignItems:"center","data-test-id":P,display:"flex",marginStart:1,children:w?(0,l.jsx)(r.I_,{accessibilityLabel:k,bgColor:"transparent",href:w,icon:"info-circle",iconColor:"gray",size:"xs",tooltip:{text:h}}):(0,l.jsx)(r.hU,{accessibilityLabel:k,bgColor:"transparent",icon:"info-circle",iconColor:"gray",size:"xs",tooltip:{text:h}})})]}),(0,l.jsx)(r.kC,{width:"100%",children:A&&(0,l.jsx)(r.xu,{marginBottom:2,minWidth:"100%",children:(0,l.jsx)(c.Z,{page:3803,shouldUseSlimBanner:!0})})}),(0,l.jsx)(r.kC,{minHeight:j?void 0:C?"calc(100vh - 169px)":"calc(100vh - 249px)",width:"100%",children:(0,l.jsx)(r.xu,{borderStyle:"sm",color:"light",dangerouslySetInlineStyle:{__style:{borderColor:s.cO}},flex:"grow",maxWidth:v,minWidth:940,padding:4,rounding:4,width:"grow",children:(0,l.jsxs)(r.kC,{direction:"column",children:[p?T:R,y&&(0,l.jsx)(r.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:2,children:(0,l.jsx)(r.xu,{marginBottom:2,children:y})}),_?(0,l.jsx)(a.Z,{}):(0,l.jsx)(r.xu,{children:g})]})})})]})}return p?(0,l.jsxs)(r.xu,{children:[t,(0,l.jsxs)(r.xu,{direction:"row",display:"flex",justifyContent:"between",marginBottom:8,children:[(0,l.jsxs)(r.kC,{alignItems:"start",direction:"column",justifyContent:"center",children:["string"==typeof n?(0,l.jsx)(r.X6,{size:d,children:n}):n,!!h&&("string"==typeof n?(0,l.jsx)(r.xu,{marginBottom:2,marginTop:2,children:(0,l.jsx)(r.xv,{size:"200",children:h})}):h)]}),m&&(0,l.jsx)(r.xu,{children:m})]}),A&&(0,l.jsx)(r.xu,{marginBottom:8,marginEnd:8,children:(0,l.jsx)(c.Z,{page:3803})}),(0,l.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:4,children:[(0,l.jsx)(r.xu,{marginBottom:2,children:p}),I,y&&(0,l.jsx)(r.xu,{marginBottom:2,children:y})]}),_?(0,l.jsx)(a.Z,{}):(0,l.jsx)(r.xu,{marginBottom:2,children:g})]}):(0,l.jsxs)(r.xu,{children:[t,(0,l.jsx)(r.xu,{direction:"row",display:"flex",justifyContent:"between",marginBottom:4,children:(0,l.jsxs)(r.kC,{alignItems:"start",direction:"column",justifyContent:"center",children:["string"==typeof n?(0,l.jsx)(r.X6,{size:d,children:n}):n,!!h&&(0,l.jsx)(r.xu,{"data-test-id":P,marginBottom:2,marginTop:2,maxWidth:700,children:(0,l.jsx)(r.xv,{size:"200",children:h})})]})}),(0,l.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:4,children:[I,m&&(0,l.jsx)(r.xu,{marginBottom:2,children:m})]}),_?(0,l.jsx)(a.Z,{}):(0,l.jsx)(r.xu,{marginBottom:2,children:g})]})}},701915:function(e,t,n){"use strict";n.d(t,{Z:function(){return U}});var r=n(326884),s=n(223518),i=n(908390),o=n(898781),c=n(76911),a=n(599689),l=n(462938),u=n(499128),d=n(343341),f=n(515198),h=function(e){var t=e.data.mfa_summary,n=t.isEnforced,r=t.activeEmployees;return(0,f.jsx)(c.Fragment,{children:(0,f.jsx)(i.kC,{alignItems:"center",justifyContent:"end",children:(0,f.jsx)(i.xv,{children:n?r:"--"})})})},m=n(356997),y=n(349700),b=function(e){var t,n,r=e.data,s=(0,o.ZP)(),a=r.user;return(0,f.jsx)(c.Fragment,{children:(0,f.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[a&&(0,f.jsx)(m.qE,{name:null!==(t=a.full_name)&&void 0!==t?t:"",size:"sm",src:null!==(n=a.image_medium_url)&&void 0!==n?n:""}),(0,f.jsxs)(i.xu,{marginStart:2,children:[(0,f.jsx)(i.xv,{size:"200",children:a.full_name}),(0,f.jsx)(i.xv,{size:"100",children:(0,y.nk)(s._('ID: {{ id }}', '[m10n]bizAccess.business.hierarchy.business_security.childBusiness.id.subtitle', 'Text to display the id of the business in the subtitle of the item. id: Corresponds to the ID of the business'),{id:a.id})})]})]})})},p=function(e){var t=e.data.mfa_summary,n=t.isEnforced,r=t.pendingSetupEmployees;return(0,f.jsx)(c.Fragment,{children:(0,f.jsx)(i.kC,{alignItems:"center",justifyContent:"end",children:(0,f.jsx)(i.xv,{children:n?r:"--"})})})};function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t,n,r=e.data.pageState,s=r.editable,a=r.localData,l=r.setLocalData,u=r.idx,d=a[u],h=d.isEnforced,m=d.enforcementType,y=(0,c.useRef)(null),b=function(e){if(Array.isArray(e))return e}(t=(0,c.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,c=[],a=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);a=!0);}catch(e){l=!0,s=e}finally{try{if(!a&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return c}}(t,2)||j(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=b[0],_=b[1],g=(0,o.ZP)();if(h)switch(m){case"MANAGERS":n=g._('Managers', '[m10n]bizAccess.business.hierarchy.business_security.enforcementType.managers.label', 'Label to express when a child business has manager-level MFA enforcement on the business hierarchy business security page');break;case"EVERYONE":n=g._('Everyone', '[m10n]bizAccess.business.hierarchy.business_security.enforcementType.everyone.label', 'Label to express when a child business has full MFA enforcement on the business hierarchy business security page');break;default:n=g._('Not enforced', '[m10n]bizAccess.business.hierarchy.business_security.enforcementType.everyone.label', 'Label to express when a child business has full MFA enforcement on the business hierarchy business security page')}else n=g._('Not enforced', '[m10n]bizAccess.business.hierarchy.business_security.enforcementType.everyone.label', 'Label to express when a child business has full MFA enforcement on the business hierarchy business security page');var A=(0,f.jsxs)(i.xu,{children:[(0,f.jsx)(i.zx,{ref:y,accessibilityControls:"edit-enforcement-type",accessibilityExpanded:p,accessibilityHaspopup:!0,color:"gray",disabled:!d.isEnforced,iconEnd:"arrow-down",onClick:function(){return _(!p)},selected:p,size:"sm",text:n}),p&&(0,f.jsx)(i.mh,{children:(0,f.jsx)(i.J2,{accessibilityLabel:g._('Choose enforcement type', '[m10n]bizAccess.business.hierarchy.business_security.enforcementType.popover.accessibilityLabel', 'Label for the enforcement type picker on the business hierarchy business security page'),anchor:y.current,id:"enforcement-type-dropdown",idealDirection:"forceDown",onDismiss:function(){return _(!1)},positionRelativeToAnchor:!1,size:346,children:(0,f.jsx)(i.xu,{margin:4,width:"100%",children:(0,f.jsx)(i.xu,{flex:"grow",children:(0,f.jsxs)(i.FX,{id:"enforcement-type-options",legend:g._('Select who is required to use two-factor authentication to access assets', '[m10n]bizAccess.business.hierarchy.business_security.enforcementType.options.legend', 'Legend for enforcement type options on the business hierarchy business security page'),children:[(0,f.jsx)(i.FX.RadioButton,{checked:"EVERYONE"===m,helperText:g._('Provides the best protection for your assets', '[m10n]bizAccess.business.hierarchy.business_security.enforcementType.options.everyone.helperText', 'Helper text for the recommended enforcement type on the business hierarchy business security page'),id:"enforcement-type-everyone",label:g._('Everyone [Recommended]', '[m10n]bizAccess.business.hierarchy.business_security.enforcementType.options.everyone.label', 'Label for the everyone enforcement type on the business hierarchy business security page'),name:"everyone",onChange:function(){return l([].concat(v(a.slice(0,u)),[x(x({},a[u]),{},{isEnforced:d.isEnforced,enforcementType:"EVERYONE"})],v(a.slice(u+1))))},value:"everyone"}),(0,f.jsx)(i.FX.RadioButton,{checked:"MANAGERS"===m,id:"enforcement-type-managers",label:g._('Required for managers', '[m10n]bizAccess.business.hierarchy.business_security.enforcementType.options.managers.label', 'Label for the managers enforcement type on the business hierarchy business security page'),name:"managers",onChange:function(){return l([].concat(v(a.slice(0,u)),[x(x({},a[u]),{},{isEnforced:d.isEnforced,enforcementType:"MANAGERS"})],v(a.slice(u+1))))},value:"managers"})]})})})})})]});return(0,f.jsx)(c.Fragment,{children:(0,f.jsx)(i.kC,{alignItems:"center",justifyContent:"start",children:s?A:(0,f.jsxs)(c.Fragment,{children:[(0,f.jsx)(i.JO,{accessibilityLabel:g._('MFA enforcement type icon', '[m10n]bizAccess.business.hierarchy.business_security.enforcementType.icon.accessibilityLabel', 'Accessibility label for the enforcement type of the child business on the business hierarchy business security page'),color:null===m?"default":"success",icon:null==m?"workflow-status-unstarted":"check-circle"}),(0,f.jsx)(i.xu,{marginEnd:2}),(0,f.jsx)(i.xv,{children:n})]})})})};function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==w(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===w(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function z(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t=e.data.pageState,n=t.editable,r=t.localData,s=t.setLocalData,o=t.idx,a=r[o],l=a.isEnforced,u=a.enforcementType;return(0,f.jsx)(c.Fragment,{children:(0,f.jsx)(i.kC,{alignItems:"center",justifyContent:"start",children:(0,f.jsx)(i.rs,{disabled:!n,id:"toggleMFAEnforcement",onChange:function(){return s([].concat(z(r.slice(0,o)),[E(E({},r[o]),{},{isEnforced:!l,enforcementType:l?null:u||"EVERYONE"})],z(r.slice(o+1))))},switched:l})})})},I=n(912997),T=n(769106);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){var r,s;r=t,s=n[t],(r=function(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==R(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function D(e,t,n,r,s,i,o){try{var c=e[i](o),a=c.value}catch(e){n(e);return}c.done?t(a):Promise.resolve(a).then(r,s)}function N(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function o(e){D(i,r,s,o,c,"next",e)}function c(e){D(i,r,s,o,c,"throw",e)}o(void 0)})}}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i,o,c=[],a=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(c.push(r.value),c.length!==t);a=!0);}catch(e){l=!0,s=e}finally{try{if(!a&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw s}}return c}}(e,t)||M(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Z=function(){var e,t=L((0,c.useState)(!0),2),n=t[0],s=t[1],m=L((0,c.useState)(!1),2),y=m[0],_=m[1],g=L((0,c.useState)([]),2),x=g[0],v=g[1],j=L((0,c.useState)([]),2),A=j[0],w=j[1],P=L((0,c.useState)([]),2),E=P[0],z=P[1],O=L((0,c.useState)(!1),2),R=O[0],k=O[1],D=(0,o.ZP)(),Z=(0,a.useRouteMatch)().params.businessHierarchyId,q=(0,d.F9)().showToast,W=(0,l.Z)().getChildBusinessesWithMFAEnforcementDetailsForHierarchyById,U=(0,c.useCallback)(N(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,W(Z);case 3:z(e.sent),s(!1);case 6:case"end":return e.stop()}},e)})),[Z,W]),H=function(e,t){return e.isEnforced===t.isEnforced&&e.enforcementType===t.enforcementType};(0,c.useEffect)(function(){U()},[U]),(0,c.useEffect)(function(){if(E&&E.length>0){var e=E.map(function(e){var t=e.mfa_summary;return{businessId:e.user.id,isEnforced:(null==t?void 0:t.isEnforced)||!1,enforcementType:(null==t?void 0:t.enforcementType)||null}});v(e),w(e)}},[E]),(0,c.useEffect)(function(){k(A.map(function(e,t){return!H(e,x[t])}).some(function(e){return!0===e}))},[A,x]);var Y=x.length>0&&A.length>0?E.map(function(e,t){return B(B({},e),{},{pageState:{editable:y,actualData:x,localData:A,setLocalData:w,idx:t}})}):[],X=[{field:"enforcement_enabled",headerName:D._('Off/On', '[m10n]bizAccess.business.hierarchy.business_security.enforced.columnText', 'column for enforcement status on child business '),minWidth:I.I.columnWidths.sm,width:47,TableCellComponent:C,justifying:"start"},{field:"enforcement_type",headerName:D._('Require authentication', '[m10n]bizAccess.business.hierarchy.business_security.enforcementType.columnText', 'column for enforcement type (if any) on child business '),width:157,minWidth:I.I.columnWidths.sm,TableCellComponent:S,justifying:"start"},{field:"business_name",headerName:D._('Child business', '[m10n]bizAccess.business.hierarchy.business_security.childBusinessName.columnText', 'column for the name of the child business '),minWidth:I.I.columnWidths.sm,TableCellComponent:b,justifying:"start"},{field:"active_employees",headerName:D._('Active', '[m10n]bizAccess.business.hierarchy.business_security.activeEmployees.columnText', 'column for the number of active employees of the child business '),width:59,minWidth:I.I.columnWidths.sm,tooltipInfo:D._('Number of employees who are using two-factor authentication', '[m10n]bizAccess.business.hierarchy.business_security.activeEmployees.columnTooltip', 'tooltip info for the active employees column'),TableCellComponent:h,justifying:"end"},{field:"pending_setup_employees",headerName:D._('Pending setup', '[m10n]bizAccess.business.hierarchy.business_security.pendingSetupEmployees.columnText', 'column for the number of employees pending MFA setup for the child business '),width:121,minWidth:I.I.columnWidths.sm,tooltipInfo:D._('Number of employees who have not yet turned on two-factor authentication', '[m10n]bizAccess.business.hierarchy.business_security.pendingSetupEmployees.columnTooltip', 'tooltip info for the pending setup employees column header'),TableCellComponent:p,justifying:"end"}],V=(e=N(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(R){e.next=2;break}return e.abrupt("return");case 2:return t=function(e){if(!e.isEnforced)return[];switch(e.enforcementType){case"MANAGERS":return["BIZ_ADMIN"];case"EVERYONE":return["BIZ_ADMIN","EMPLOYEE"];default:return null}},n=A.map(function(e,n){var r=e.businessId,s=t(e);return!H(e,x[n])&&s&&r?{businessId:r,businessRoles:s}:null}).reduce(function(e,t){return null!==t?[].concat(function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||M(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t]):e},[]),s(!0),_(!1),e.next=8,Promise.all(n.flatMap(function(){var e=N(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,T.H9)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(){var e=N(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:t.some(function(e){var t;return!!(null!=e&&null!==(t=e.data)&&void 0!==t&&t.error)||!!(null!=e&&e.error)})?q(function(e){var t=e.hideToast;return(0,f.jsx)(u.ZP,{duration:r.QE,onHide:t,text:D._('Sorry! Something went wrong.', '[m10n]bizAccess.business.hierarchy.business_security.saveChanges.toast.errorText', 'Error text for the toast when an error occurs during the user attempting to change enforcement details'),type:"error"})}):q(function(e){var t=e.hideToast;return(0,f.jsx)(u.ZP,{duration:r.QE,onHide:t,text:D._('Success!', '[m10n]bizAccess.business.hierarchy.business_security.saveChanges.toast.successText', 'Text for the toast when the user successfully changes enforcement details'),type:"success"})});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).finally(function(){s(!1)});case 8:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)}),G=(0,f.jsx)(i.xu,{"data-test-id":"child-business-mfa-table",marginTop:6,children:(0,f.jsx)(I.Z,{columnDefs:X,config:B({},I.I),id:r.Q6.BUSINESS_HIERARCHY_BUSINESS_SECURITY,isLoading:n,onRowCountChange:function(){},onSortChange:function(){},pageType:r.Q6.BUSINESS_HIERARCHY_BUSINESS_SECURITY,rowData:Y||[]})});return(0,f.jsxs)(i.xu,{margin:2,children:[(0,f.jsxs)(i.kC,{alignItems:"start",children:[(0,f.jsxs)(i.xu,{flex:"grow",children:[(0,f.jsx)(i.X6,{size:"400",children:D._('Two-factor authentication', '[m10n]bizAccess.business.hierarchy.business_security.subtitle', 'Business hierarchy business security page subtitle')}),(0,f.jsx)(i.xu,{marginTop:2,children:(0,f.jsx)(i.xv,{size:"300",children:D._('Enhance security for your child businesses by requiring employees to enter a unique code that is texted to their phone each time they attempt to access your account. You can edit who is required to use this any time.', '[m10n]bizAccess.business.hierarchy.business_security.description', 'Description for business hierarchy business security page detailing its functionality')})})]}),(0,f.jsx)(i.xu,{marginStart:6,minWidth:165,children:(0,f.jsx)(i.zx,{color:"red",disabled:y||n||0===Y.length,onClick:function(){return _(!0)},text:D._('Edit requirements', '[m10n]bizAccess.business.hierarchy.business_security.editRequirementsButton.text', 'Button text for enabling MFA enforcement editability on the business hierarchy business security page')})})]}),G,y&&(0,f.jsx)(i.xu,{"data-test-id":"save-mfa-changes-footer",children:(0,f.jsx)(i.kC,{alignItems:"center",justifyContent:"center",children:(0,f.jsx)(i.xu,{alignItems:"center",borderStyle:"shadow",bottom:!0,color:"default",display:"flex",justifyContent:"center",left:!0,paddingX:5,paddingY:4,position:"fixed",right:!0,zIndex:new i.Ry(1),children:(0,f.jsx)(i.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginEnd:"auto",marginStart:"auto",maxWidth:488,mdDirection:"row",mdMarginEnd:0,mdMarginStart:0,width:"100%",children:(0,f.jsxs)(i.kC,{alignItems:"center",justifyContent:"center",children:[(0,f.jsx)(i.xu,{"data-test-id":"cancel-button",paddingX:2,children:(0,f.jsx)(i.zx,{onClick:function(){return _(!1)||w(x)},size:"lg",text:D._('Cancel', '[m10n]bizAccess.business.hierarchy.business_security.edit.cancelText', 'Text for cancel button returning the page to a read-only state')})}),(0,f.jsx)(i.xu,{"data-test-id":"done-button",children:(0,f.jsx)(i.zx,{color:"red",disabled:!R||n,onClick:function(){V()},size:"lg",text:D._('Save', '[m10n]bizAccess.business.hierarchy.business_security.edit.saveText', 'Text for save button confirming changes the user has made to MFA enforcement')})})]})})})})})]})},q=n(670963),W=function(){var e=(0,o.ZP)(),t=e._('Business security', '[m10n]bizAccess.business.hierarchy.business_security.title', 'Business hierarchy business security page title'),n=e._('Manage security settings to protect your account from unauthorized ad spend and access to personal data', '[m10n]bizAccess.business.hierarchy.business_security.info.tooltip', 'Business hierarchy business security page info tooltip');return(0,f.jsx)(i.xu,{"data-test-id":"business-hierarchy-business-security-page",children:(0,f.jsx)(q.Z,{heightShouldGrowWithContent:!0,maxWidth:1024,search:null,subtitle:null,table:(0,f.jsx)(Z,{}),title:t,titleTooltip:n})})},U=function(){return(0,f.jsx)(s.Z,{pageType:r.Q6.BUSINESS_HIERARCHY_BUSINESS_SECURITY,children:(0,f.jsx)(W,{})})}}},function(e){e.O(0,[97270,8390,1861,99689,26067,17492,48327,66312,99246,70987,68445,80538,92914,11582,88435,19798,6863,73453,35477,38628],function(){return e(e.s=915901)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/business/business-hierarchy/[businessHierarchyId]/business_security-ebd81d63eeb29814.js.map